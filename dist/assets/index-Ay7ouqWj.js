(function(){const z=document.createElement("link").relList;if(z&&z.supports&&z.supports("modulepreload"))return;for(const xe of document.querySelectorAll('link[rel="modulepreload"]'))ue(xe);new MutationObserver(xe=>{for(const Se of xe)if(Se.type==="childList")for(const U of Se.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&ue(U)}).observe(document,{childList:!0,subtree:!0});function Z(xe){const Se={};return xe.integrity&&(Se.integrity=xe.integrity),xe.referrerPolicy&&(Se.referrerPolicy=xe.referrerPolicy),xe.crossOrigin==="use-credentials"?Se.credentials="include":xe.crossOrigin==="anonymous"?Se.credentials="omit":Se.credentials="same-origin",Se}function ue(xe){if(xe.ep)return;xe.ep=!0;const Se=Z(xe);fetch(xe.href,Se)}})();function wc(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var Z2={exports:{}},Ug={},K2={exports:{}},bi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=Symbol.for("react.element"),VM=Symbol.for("react.portal"),GM=Symbol.for("react.fragment"),WM=Symbol.for("react.strict_mode"),jM=Symbol.for("react.profiler"),YM=Symbol.for("react.provider"),XM=Symbol.for("react.context"),ZM=Symbol.for("react.forward_ref"),KM=Symbol.for("react.suspense"),JM=Symbol.for("react.memo"),QM=Symbol.for("react.lazy"),S3=Symbol.iterator;function $M(E){return E===null||typeof E!="object"?null:(E=S3&&E[S3]||E["@@iterator"],typeof E=="function"?E:null)}var J2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q2=Object.assign,$2={};function Ed(E,z,Z){this.props=E,this.context=z,this.refs=$2,this.updater=Z||J2}Ed.prototype.isReactComponent={};Ed.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")};Ed.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function q2(){}q2.prototype=Ed.prototype;function Z1(E,z,Z){this.props=E,this.context=z,this.refs=$2,this.updater=Z||J2}var K1=Z1.prototype=new q2;K1.constructor=Z1;Q2(K1,Ed.prototype);K1.isPureReactComponent=!0;var M3=Array.isArray,e4=Object.prototype.hasOwnProperty,J1={current:null},t4={key:!0,ref:!0,__self:!0,__source:!0};function r4(E,z,Z){var ue,xe={},Se=null,U=null;if(z!=null)for(ue in z.ref!==void 0&&(U=z.ref),z.key!==void 0&&(Se=""+z.key),z)e4.call(z,ue)&&!t4.hasOwnProperty(ue)&&(xe[ue]=z[ue]);var N=arguments.length-2;if(N===1)xe.children=Z;else if(1<N){for(var e=Array(N),d=0;d<N;d++)e[d]=arguments[d+2];xe.children=e}if(E&&E.defaultProps)for(ue in N=E.defaultProps,N)xe[ue]===void 0&&(xe[ue]=N[ue]);return{$$typeof:jp,type:E,key:Se,ref:U,props:xe,_owner:J1.current}}function qM(E,z){return{$$typeof:jp,type:E.type,key:z,ref:E.ref,props:E.props,_owner:E._owner}}function Q1(E){return typeof E=="object"&&E!==null&&E.$$typeof===jp}function eE(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Z){return z[Z]})}var E3=/\/+/g;function jy(E,z){return typeof E=="object"&&E!==null&&E.key!=null?eE(""+E.key):z.toString(36)}function J0(E,z,Z,ue,xe){var Se=typeof E;(Se==="undefined"||Se==="boolean")&&(E=null);var U=!1;if(E===null)U=!0;else switch(Se){case"string":case"number":U=!0;break;case"object":switch(E.$$typeof){case jp:case VM:U=!0}}if(U)return U=E,xe=xe(U),E=ue===""?"."+jy(U,0):ue,M3(xe)?(Z="",E!=null&&(Z=E.replace(E3,"$&/")+"/"),J0(xe,z,Z,"",function(d){return d})):xe!=null&&(Q1(xe)&&(xe=qM(xe,Z+(!xe.key||U&&U.key===xe.key?"":(""+xe.key).replace(E3,"$&/")+"/")+E)),z.push(xe)),1;if(U=0,ue=ue===""?".":ue+":",M3(E))for(var N=0;N<E.length;N++){Se=E[N];var e=ue+jy(Se,N);U+=J0(Se,z,Z,e,xe)}else if(e=$M(E),typeof e=="function")for(E=e.call(E),N=0;!(Se=E.next()).done;)Se=Se.value,e=ue+jy(Se,N++),U+=J0(Se,z,Z,e,xe);else if(Se==="object")throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return U}function E0(E,z,Z){if(E==null)return E;var ue=[],xe=0;return J0(E,ue,"","",function(Se){return z.call(Z,Se,xe++)}),ue}function tE(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(Z){(E._status===0||E._status===-1)&&(E._status=1,E._result=Z)},function(Z){(E._status===0||E._status===-1)&&(E._status=2,E._result=Z)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var tl={current:null},Q0={transition:null},rE={ReactCurrentDispatcher:tl,ReactCurrentBatchConfig:Q0,ReactCurrentOwner:J1};function n4(){throw Error("act(...) is not supported in production builds of React.")}bi.Children={map:E0,forEach:function(E,z,Z){E0(E,function(){z.apply(this,arguments)},Z)},count:function(E){var z=0;return E0(E,function(){z++}),z},toArray:function(E){return E0(E,function(z){return z})||[]},only:function(E){if(!Q1(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};bi.Component=Ed;bi.Fragment=GM;bi.Profiler=jM;bi.PureComponent=Z1;bi.StrictMode=WM;bi.Suspense=KM;bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE;bi.act=n4;bi.cloneElement=function(E,z,Z){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ue=Q2({},E.props),xe=E.key,Se=E.ref,U=E._owner;if(z!=null){if(z.ref!==void 0&&(Se=z.ref,U=J1.current),z.key!==void 0&&(xe=""+z.key),E.type&&E.type.defaultProps)var N=E.type.defaultProps;for(e in z)e4.call(z,e)&&!t4.hasOwnProperty(e)&&(ue[e]=z[e]===void 0&&N!==void 0?N[e]:z[e])}var e=arguments.length-2;if(e===1)ue.children=Z;else if(1<e){N=Array(e);for(var d=0;d<e;d++)N[d]=arguments[d+2];ue.children=N}return{$$typeof:jp,type:E.type,key:xe,ref:Se,props:ue,_owner:U}};bi.createContext=function(E){return E={$$typeof:XM,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:YM,_context:E},E.Consumer=E};bi.createElement=r4;bi.createFactory=function(E){var z=r4.bind(null,E);return z.type=E,z};bi.createRef=function(){return{current:null}};bi.forwardRef=function(E){return{$$typeof:ZM,render:E}};bi.isValidElement=Q1;bi.lazy=function(E){return{$$typeof:QM,_payload:{_status:-1,_result:E},_init:tE}};bi.memo=function(E,z){return{$$typeof:JM,type:E,compare:z===void 0?null:z}};bi.startTransition=function(E){var z=Q0.transition;Q0.transition={};try{E()}finally{Q0.transition=z}};bi.unstable_act=n4;bi.useCallback=function(E,z){return tl.current.useCallback(E,z)};bi.useContext=function(E){return tl.current.useContext(E)};bi.useDebugValue=function(){};bi.useDeferredValue=function(E){return tl.current.useDeferredValue(E)};bi.useEffect=function(E,z){return tl.current.useEffect(E,z)};bi.useId=function(){return tl.current.useId()};bi.useImperativeHandle=function(E,z,Z){return tl.current.useImperativeHandle(E,z,Z)};bi.useInsertionEffect=function(E,z){return tl.current.useInsertionEffect(E,z)};bi.useLayoutEffect=function(E,z){return tl.current.useLayoutEffect(E,z)};bi.useMemo=function(E,z){return tl.current.useMemo(E,z)};bi.useReducer=function(E,z,Z){return tl.current.useReducer(E,z,Z)};bi.useRef=function(E){return tl.current.useRef(E)};bi.useState=function(E){return tl.current.useState(E)};bi.useSyncExternalStore=function(E,z,Z){return tl.current.useSyncExternalStore(E,z,Z)};bi.useTransition=function(){return tl.current.useTransition()};bi.version="18.3.1";K2.exports=bi;var Fn=K2.exports;const ja=wc(Fn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=Fn,aE=Symbol.for("react.element"),iE=Symbol.for("react.fragment"),oE=Object.prototype.hasOwnProperty,sE=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lE={key:!0,ref:!0,__self:!0,__source:!0};function a4(E,z,Z){var ue,xe={},Se=null,U=null;Z!==void 0&&(Se=""+Z),z.key!==void 0&&(Se=""+z.key),z.ref!==void 0&&(U=z.ref);for(ue in z)oE.call(z,ue)&&!lE.hasOwnProperty(ue)&&(xe[ue]=z[ue]);if(E&&E.defaultProps)for(ue in z=E.defaultProps,z)xe[ue]===void 0&&(xe[ue]=z[ue]);return{$$typeof:aE,type:E,key:Se,ref:U,props:xe,_owner:sE.current}}Ug.Fragment=iE;Ug.jsx=a4;Ug.jsxs=a4;Z2.exports=Ug;var Ir=Z2.exports,Dm={},i4={exports:{}},Wl={},o4={exports:{}},s4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(E){function z(M,s){var S=M.length;M.push(s);e:for(;0<S;){var w=S-1>>>1,_=M[w];if(0<xe(_,s))M[w]=s,M[S]=_,S=w;else break e}}function Z(M){return M.length===0?null:M[0]}function ue(M){if(M.length===0)return null;var s=M[0],S=M.pop();if(S!==s){M[0]=S;e:for(var w=0,_=M.length,I=_>>>1;w<I;){var H=2*(w+1)-1,O=M[H],V=H+1,B=M[V];if(0>xe(O,S))V<_&&0>xe(B,O)?(M[w]=B,M[V]=S,w=V):(M[w]=O,M[H]=S,w=H);else if(V<_&&0>xe(B,S))M[w]=B,M[V]=S,w=V;else break e}}return s}function xe(M,s){var S=M.sortIndex-s.sortIndex;return S!==0?S:M.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Se=performance;E.unstable_now=function(){return Se.now()}}else{var U=Date,N=U.now();E.unstable_now=function(){return U.now()-N}}var e=[],d=[],P=1,n=null,C=3,x=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(M){for(var s=Z(d);s!==null;){if(s.callback===null)ue(d);else if(s.startTime<=M)ue(d),s.sortIndex=s.expirationTime,z(e,s);else break;s=Z(d)}}function u(M){if(p=!1,a(M),!v)if(Z(e)!==null)v=!0,m(f);else{var s=Z(d);s!==null&&L(u,s.startTime-M)}}function f(M,s){v=!1,p&&(p=!1,t(c),c=-1),x=!0;var S=C;try{for(a(s),n=Z(e);n!==null&&(!(n.expirationTime>s)||M&&!i());){var w=n.callback;if(typeof w=="function"){n.callback=null,C=n.priorityLevel;var _=w(n.expirationTime<=s);s=E.unstable_now(),typeof _=="function"?n.callback=_:n===Z(e)&&ue(e),a(s)}else ue(e);n=Z(e)}if(n!==null)var I=!0;else{var H=Z(d);H!==null&&L(u,H.startTime-s),I=!1}return I}finally{n=null,C=S,x=!1}}var l=!1,y=null,c=-1,T=5,h=-1;function i(){return!(E.unstable_now()-h<T)}function g(){if(y!==null){var M=E.unstable_now();h=M;var s=!0;try{s=y(!0,M)}finally{s?b():(l=!1,y=null)}}else l=!1}var b;if(typeof o=="function")b=function(){o(g)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,R=A.port2;A.port1.onmessage=g,b=function(){R.postMessage(null)}}else b=function(){r(g,0)};function m(M){y=M,l||(l=!0,b())}function L(M,s){c=r(function(){M(E.unstable_now())},s)}E.unstable_IdlePriority=5,E.unstable_ImmediatePriority=1,E.unstable_LowPriority=4,E.unstable_NormalPriority=3,E.unstable_Profiling=null,E.unstable_UserBlockingPriority=2,E.unstable_cancelCallback=function(M){M.callback=null},E.unstable_continueExecution=function(){v||x||(v=!0,m(f))},E.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},E.unstable_getCurrentPriorityLevel=function(){return C},E.unstable_getFirstCallbackNode=function(){return Z(e)},E.unstable_next=function(M){switch(C){case 1:case 2:case 3:var s=3;break;default:s=C}var S=C;C=s;try{return M()}finally{C=S}},E.unstable_pauseExecution=function(){},E.unstable_requestPaint=function(){},E.unstable_runWithPriority=function(M,s){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var S=C;C=M;try{return s()}finally{C=S}},E.unstable_scheduleCallback=function(M,s,S){var w=E.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?w+S:w):S=w,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=S+_,M={id:P++,callback:s,priorityLevel:M,startTime:S,expirationTime:_,sortIndex:-1},S>w?(M.sortIndex=S,z(d,M),Z(e)===null&&M===Z(d)&&(p?(t(c),c=-1):p=!0,L(u,S-w))):(M.sortIndex=_,z(e,M),v||x||(v=!0,m(f))),M},E.unstable_shouldYield=i,E.unstable_wrapCallback=function(M){var s=C;return function(){var S=C;C=s;try{return M.apply(this,arguments)}finally{C=S}}}})(s4);o4.exports=s4;var uE=o4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE=Fn,Gl=uE;function ma(E){for(var z="https://reactjs.org/docs/error-decoder.html?invariant="+E,Z=1;Z<arguments.length;Z++)z+="&args[]="+encodeURIComponent(arguments[Z]);return"Minified React error #"+E+"; visit "+z+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l4=new Set,Mp={};function xv(E,z){md(E,z),md(E+"Capture",z)}function md(E,z){for(Mp[E]=z,E=0;E<z.length;E++)l4.add(z[E])}var yc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,cE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C3={},L3={};function hE(E){return Im.call(L3,E)?!0:Im.call(C3,E)?!1:cE.test(E)?L3[E]=!0:(C3[E]=!0,!1)}function vE(E,z,Z,ue){if(Z!==null&&Z.type===0)return!1;switch(typeof z){case"function":case"symbol":return!0;case"boolean":return ue?!1:Z!==null?!Z.acceptsBooleans:(E=E.toLowerCase().slice(0,5),E!=="data-"&&E!=="aria-");default:return!1}}function dE(E,z,Z,ue){if(z===null||typeof z>"u"||vE(E,z,Z,ue))return!0;if(ue)return!1;if(Z!==null)switch(Z.type){case 3:return!z;case 4:return z===!1;case 5:return isNaN(z);case 6:return isNaN(z)||1>z}return!1}function rl(E,z,Z,ue,xe,Se,U){this.acceptsBooleans=z===2||z===3||z===4,this.attributeName=ue,this.attributeNamespace=xe,this.mustUseProperty=Z,this.propertyName=E,this.type=z,this.sanitizeURL=Se,this.removeEmptyString=U}var Cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(E){Cs[E]=new rl(E,0,!1,E,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(E){var z=E[0];Cs[z]=new rl(z,1,!1,E[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(E){Cs[E]=new rl(E,2,!1,E.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(E){Cs[E]=new rl(E,2,!1,E,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(E){Cs[E]=new rl(E,3,!1,E.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(E){Cs[E]=new rl(E,3,!0,E,null,!1,!1)});["capture","download"].forEach(function(E){Cs[E]=new rl(E,4,!1,E,null,!1,!1)});["cols","rows","size","span"].forEach(function(E){Cs[E]=new rl(E,6,!1,E,null,!1,!1)});["rowSpan","start"].forEach(function(E){Cs[E]=new rl(E,5,!1,E.toLowerCase(),null,!1,!1)});var $1=/[\-:]([a-z])/g;function q1(E){return E[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(E){var z=E.replace($1,q1);Cs[z]=new rl(z,1,!1,E,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(E){var z=E.replace($1,q1);Cs[z]=new rl(z,1,!1,E,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(E){var z=E.replace($1,q1);Cs[z]=new rl(z,1,!1,E,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(E){Cs[E]=new rl(E,1,!1,E.toLowerCase(),null,!1,!1)});Cs.xlinkHref=new rl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(E){Cs[E]=new rl(E,1,!1,E.toLowerCase(),null,!0,!0)});function ex(E,z,Z,ue){var xe=Cs.hasOwnProperty(z)?Cs[z]:null;(xe!==null?xe.type!==0:ue||!(2<z.length)||z[0]!=="o"&&z[0]!=="O"||z[1]!=="n"&&z[1]!=="N")&&(dE(z,Z,xe,ue)&&(Z=null),ue||xe===null?hE(z)&&(Z===null?E.removeAttribute(z):E.setAttribute(z,""+Z)):xe.mustUseProperty?E[xe.propertyName]=Z===null?xe.type===3?!1:"":Z:(z=xe.attributeName,ue=xe.attributeNamespace,Z===null?E.removeAttribute(z):(xe=xe.type,Z=xe===3||xe===4&&Z===!0?"":""+Z,ue?E.setAttributeNS(ue,z,Z):E.setAttribute(z,Z))))}var Tc=fE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C0=Symbol.for("react.element"),Jv=Symbol.for("react.portal"),Qv=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),u4=Symbol.for("react.provider"),f4=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Om=Symbol.for("react.suspense_list"),nx=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),c4=Symbol.for("react.offscreen"),P3=Symbol.iterator;function ep(E){return E===null||typeof E!="object"?null:(E=P3&&E[P3]||E["@@iterator"],typeof E=="function"?E:null)}var Co=Object.assign,Yy;function up(E){if(Yy===void 0)try{throw Error()}catch(Z){var z=Z.stack.trim().match(/\n( *(at )?)/);Yy=z&&z[1]||""}return`
`+Yy+E}var Xy=!1;function Zy(E,z){if(!E||Xy)return"";Xy=!0;var Z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(z)if(z=function(){throw Error()},Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(d){var ue=d}Reflect.construct(E,[],z)}else{try{z.call()}catch(d){ue=d}E.call(z.prototype)}else{try{throw Error()}catch(d){ue=d}E()}}catch(d){if(d&&ue&&typeof d.stack=="string"){for(var xe=d.stack.split(`
`),Se=ue.stack.split(`
`),U=xe.length-1,N=Se.length-1;1<=U&&0<=N&&xe[U]!==Se[N];)N--;for(;1<=U&&0<=N;U--,N--)if(xe[U]!==Se[N]){if(U!==1||N!==1)do if(U--,N--,0>N||xe[U]!==Se[N]){var e=`
`+xe[U].replace(" at new "," at ");return E.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",E.displayName)),e}while(1<=U&&0<=N);break}}}finally{Xy=!1,Error.prepareStackTrace=Z}return(E=E?E.displayName||E.name:"")?up(E):""}function pE(E){switch(E.tag){case 5:return up(E.type);case 16:return up("Lazy");case 13:return up("Suspense");case 19:return up("SuspenseList");case 0:case 2:case 15:return E=Zy(E.type,!1),E;case 11:return E=Zy(E.type.render,!1),E;case 1:return E=Zy(E.type,!0),E;default:return""}}function Fm(E){if(E==null)return null;if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case Qv:return"Fragment";case Jv:return"Portal";case _m:return"Profiler";case tx:return"StrictMode";case zm:return"Suspense";case Om:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case f4:return(E.displayName||"Context")+".Consumer";case u4:return(E._context.displayName||"Context")+".Provider";case rx:var z=E.render;return E=E.displayName,E||(E=z.displayName||z.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case nx:return z=E.displayName||null,z!==null?z:Fm(E.type)||"Memo";case lh:z=E._payload,E=E._init;try{return Fm(E(z))}catch{}}return null}function gE(E){var z=E.type;switch(E.tag){case 24:return"Cache";case 9:return(z.displayName||"Context")+".Consumer";case 10:return(z._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return E=z.render,E=E.displayName||E.name||"",z.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case 7:return"Fragment";case 5:return z;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fm(z);case 8:return z===tx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof z=="function")return z.displayName||z.name||null;if(typeof z=="string")return z}return null}function Ah(E){switch(typeof E){case"boolean":case"number":case"string":case"undefined":return E;case"object":return E;default:return""}}function h4(E){var z=E.type;return(E=E.nodeName)&&E.toLowerCase()==="input"&&(z==="checkbox"||z==="radio")}function yE(E){var z=h4(E)?"checked":"value",Z=Object.getOwnPropertyDescriptor(E.constructor.prototype,z),ue=""+E[z];if(!E.hasOwnProperty(z)&&typeof Z<"u"&&typeof Z.get=="function"&&typeof Z.set=="function"){var xe=Z.get,Se=Z.set;return Object.defineProperty(E,z,{configurable:!0,get:function(){return xe.call(this)},set:function(U){ue=""+U,Se.call(this,U)}}),Object.defineProperty(E,z,{enumerable:Z.enumerable}),{getValue:function(){return ue},setValue:function(U){ue=""+U},stopTracking:function(){E._valueTracker=null,delete E[z]}}}}function L0(E){E._valueTracker||(E._valueTracker=yE(E))}function v4(E){if(!E)return!1;var z=E._valueTracker;if(!z)return!0;var Z=z.getValue(),ue="";return E&&(ue=h4(E)?E.checked?"true":"false":E.value),E=ue,E!==Z?(z.setValue(E),!0):!1}function cg(E){if(E=E||(typeof document<"u"?document:void 0),typeof E>"u")return null;try{return E.activeElement||E.body}catch{return E.body}}function Nm(E,z){var Z=z.checked;return Co({},z,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Z??E._wrapperState.initialChecked})}function R3(E,z){var Z=z.defaultValue==null?"":z.defaultValue,ue=z.checked!=null?z.checked:z.defaultChecked;Z=Ah(z.value!=null?z.value:Z),E._wrapperState={initialChecked:ue,initialValue:Z,controlled:z.type==="checkbox"||z.type==="radio"?z.checked!=null:z.value!=null}}function d4(E,z){z=z.checked,z!=null&&ex(E,"checked",z,!1)}function Bm(E,z){d4(E,z);var Z=Ah(z.value),ue=z.type;if(Z!=null)ue==="number"?(Z===0&&E.value===""||E.value!=Z)&&(E.value=""+Z):E.value!==""+Z&&(E.value=""+Z);else if(ue==="submit"||ue==="reset"){E.removeAttribute("value");return}z.hasOwnProperty("value")?Um(E,z.type,Z):z.hasOwnProperty("defaultValue")&&Um(E,z.type,Ah(z.defaultValue)),z.checked==null&&z.defaultChecked!=null&&(E.defaultChecked=!!z.defaultChecked)}function k3(E,z,Z){if(z.hasOwnProperty("value")||z.hasOwnProperty("defaultValue")){var ue=z.type;if(!(ue!=="submit"&&ue!=="reset"||z.value!==void 0&&z.value!==null))return;z=""+E._wrapperState.initialValue,Z||z===E.value||(E.value=z),E.defaultValue=z}Z=E.name,Z!==""&&(E.name=""),E.defaultChecked=!!E._wrapperState.initialChecked,Z!==""&&(E.name=Z)}function Um(E,z,Z){(z!=="number"||cg(E.ownerDocument)!==E)&&(Z==null?E.defaultValue=""+E._wrapperState.initialValue:E.defaultValue!==""+Z&&(E.defaultValue=""+Z))}var fp=Array.isArray;function ld(E,z,Z,ue){if(E=E.options,z){z={};for(var xe=0;xe<Z.length;xe++)z["$"+Z[xe]]=!0;for(Z=0;Z<E.length;Z++)xe=z.hasOwnProperty("$"+E[Z].value),E[Z].selected!==xe&&(E[Z].selected=xe),xe&&ue&&(E[Z].defaultSelected=!0)}else{for(Z=""+Ah(Z),z=null,xe=0;xe<E.length;xe++){if(E[xe].value===Z){E[xe].selected=!0,ue&&(E[xe].defaultSelected=!0);return}z!==null||E[xe].disabled||(z=E[xe])}z!==null&&(z.selected=!0)}}function Hm(E,z){if(z.dangerouslySetInnerHTML!=null)throw Error(ma(91));return Co({},z,{value:void 0,defaultValue:void 0,children:""+E._wrapperState.initialValue})}function D3(E,z){var Z=z.value;if(Z==null){if(Z=z.children,z=z.defaultValue,Z!=null){if(z!=null)throw Error(ma(92));if(fp(Z)){if(1<Z.length)throw Error(ma(93));Z=Z[0]}z=Z}z==null&&(z=""),Z=z}E._wrapperState={initialValue:Ah(Z)}}function p4(E,z){var Z=Ah(z.value),ue=Ah(z.defaultValue);Z!=null&&(Z=""+Z,Z!==E.value&&(E.value=Z),z.defaultValue==null&&E.defaultValue!==Z&&(E.defaultValue=Z)),ue!=null&&(E.defaultValue=""+ue)}function I3(E){var z=E.textContent;z===E._wrapperState.initialValue&&z!==""&&z!==null&&(E.value=z)}function g4(E){switch(E){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(E,z){return E==null||E==="http://www.w3.org/1999/xhtml"?g4(z):E==="http://www.w3.org/2000/svg"&&z==="foreignObject"?"http://www.w3.org/1999/xhtml":E}var P0,y4=function(E){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(z,Z,ue,xe){MSApp.execUnsafeLocalFunction(function(){return E(z,Z,ue,xe)})}:E}(function(E,z){if(E.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in E)E.innerHTML=z;else{for(P0=P0||document.createElement("div"),P0.innerHTML="<svg>"+z.valueOf().toString()+"</svg>",z=P0.firstChild;E.firstChild;)E.removeChild(E.firstChild);for(;z.firstChild;)E.appendChild(z.firstChild)}});function Ep(E,z){if(z){var Z=E.firstChild;if(Z&&Z===E.lastChild&&Z.nodeType===3){Z.nodeValue=z;return}}E.textContent=z}var pp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mE=["Webkit","ms","Moz","O"];Object.keys(pp).forEach(function(E){mE.forEach(function(z){z=z+E.charAt(0).toUpperCase()+E.substring(1),pp[z]=pp[E]})});function m4(E,z,Z){return z==null||typeof z=="boolean"||z===""?"":Z||typeof z!="number"||z===0||pp.hasOwnProperty(E)&&pp[E]?(""+z).trim():z+"px"}function x4(E,z){E=E.style;for(var Z in z)if(z.hasOwnProperty(Z)){var ue=Z.indexOf("--")===0,xe=m4(Z,z[Z],ue);Z==="float"&&(Z="cssFloat"),ue?E.setProperty(Z,xe):E[Z]=xe}}var xE=Co({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gm(E,z){if(z){if(xE[E]&&(z.children!=null||z.dangerouslySetInnerHTML!=null))throw Error(ma(137,E));if(z.dangerouslySetInnerHTML!=null){if(z.children!=null)throw Error(ma(60));if(typeof z.dangerouslySetInnerHTML!="object"||!("__html"in z.dangerouslySetInnerHTML))throw Error(ma(61))}if(z.style!=null&&typeof z.style!="object")throw Error(ma(62))}}function Wm(E,z){if(E.indexOf("-")===-1)return typeof z.is=="string";switch(E){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function ax(E){return E=E.target||E.srcElement||window,E.correspondingUseElement&&(E=E.correspondingUseElement),E.nodeType===3?E.parentNode:E}var Ym=null,ud=null,fd=null;function _3(E){if(E=Zp(E)){if(typeof Ym!="function")throw Error(ma(280));var z=E.stateNode;z&&(z=jg(z),Ym(E.stateNode,E.type,z))}}function b4(E){ud?fd?fd.push(E):fd=[E]:ud=E}function w4(){if(ud){var E=ud,z=fd;if(fd=ud=null,_3(E),z)for(E=0;E<z.length;E++)_3(z[E])}}function T4(E,z){return E(z)}function A4(){}var Ky=!1;function S4(E,z,Z){if(Ky)return E(z,Z);Ky=!0;try{return T4(E,z,Z)}finally{Ky=!1,(ud!==null||fd!==null)&&(A4(),w4())}}function Cp(E,z){var Z=E.stateNode;if(Z===null)return null;var ue=jg(Z);if(ue===null)return null;Z=ue[z];e:switch(z){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ue=!ue.disabled)||(E=E.type,ue=!(E==="button"||E==="input"||E==="select"||E==="textarea")),E=!ue;break e;default:E=!1}if(E)return null;if(Z&&typeof Z!="function")throw Error(ma(231,z,typeof Z));return Z}var Xm=!1;if(yc)try{var tp={};Object.defineProperty(tp,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,tp)}catch{Xm=!1}function bE(E,z,Z,ue,xe,Se,U,N,e){var d=Array.prototype.slice.call(arguments,3);try{z.apply(Z,d)}catch(P){this.onError(P)}}var gp=!1,hg=null,vg=!1,Zm=null,wE={onError:function(E){gp=!0,hg=E}};function TE(E,z,Z,ue,xe,Se,U,N,e){gp=!1,hg=null,bE.apply(wE,arguments)}function AE(E,z,Z,ue,xe,Se,U,N,e){if(TE.apply(this,arguments),gp){if(gp){var d=hg;gp=!1,hg=null}else throw Error(ma(198));vg||(vg=!0,Zm=d)}}function bv(E){var z=E,Z=E;if(E.alternate)for(;z.return;)z=z.return;else{E=z;do z=E,z.flags&4098&&(Z=z.return),E=z.return;while(E)}return z.tag===3?Z:null}function M4(E){if(E.tag===13){var z=E.memoizedState;if(z===null&&(E=E.alternate,E!==null&&(z=E.memoizedState)),z!==null)return z.dehydrated}return null}function z3(E){if(bv(E)!==E)throw Error(ma(188))}function SE(E){var z=E.alternate;if(!z){if(z=bv(E),z===null)throw Error(ma(188));return z!==E?null:E}for(var Z=E,ue=z;;){var xe=Z.return;if(xe===null)break;var Se=xe.alternate;if(Se===null){if(ue=xe.return,ue!==null){Z=ue;continue}break}if(xe.child===Se.child){for(Se=xe.child;Se;){if(Se===Z)return z3(xe),E;if(Se===ue)return z3(xe),z;Se=Se.sibling}throw Error(ma(188))}if(Z.return!==ue.return)Z=xe,ue=Se;else{for(var U=!1,N=xe.child;N;){if(N===Z){U=!0,Z=xe,ue=Se;break}if(N===ue){U=!0,ue=xe,Z=Se;break}N=N.sibling}if(!U){for(N=Se.child;N;){if(N===Z){U=!0,Z=Se,ue=xe;break}if(N===ue){U=!0,ue=Se,Z=xe;break}N=N.sibling}if(!U)throw Error(ma(189))}}if(Z.alternate!==ue)throw Error(ma(190))}if(Z.tag!==3)throw Error(ma(188));return Z.stateNode.current===Z?E:z}function E4(E){return E=SE(E),E!==null?C4(E):null}function C4(E){if(E.tag===5||E.tag===6)return E;for(E=E.child;E!==null;){var z=C4(E);if(z!==null)return z;E=E.sibling}return null}var L4=Gl.unstable_scheduleCallback,O3=Gl.unstable_cancelCallback,ME=Gl.unstable_shouldYield,EE=Gl.unstable_requestPaint,Vo=Gl.unstable_now,CE=Gl.unstable_getCurrentPriorityLevel,ix=Gl.unstable_ImmediatePriority,P4=Gl.unstable_UserBlockingPriority,dg=Gl.unstable_NormalPriority,LE=Gl.unstable_LowPriority,R4=Gl.unstable_IdlePriority,Hg=null,Of=null;function PE(E){if(Of&&typeof Of.onCommitFiberRoot=="function")try{Of.onCommitFiberRoot(Hg,E,void 0,(E.current.flags&128)===128)}catch{}}var of=Math.clz32?Math.clz32:DE,RE=Math.log,kE=Math.LN2;function DE(E){return E>>>=0,E===0?32:31-(RE(E)/kE|0)|0}var R0=64,k0=4194304;function cp(E){switch(E&-E){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return E&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return E}}function pg(E,z){var Z=E.pendingLanes;if(Z===0)return 0;var ue=0,xe=E.suspendedLanes,Se=E.pingedLanes,U=Z&268435455;if(U!==0){var N=U&~xe;N!==0?ue=cp(N):(Se&=U,Se!==0&&(ue=cp(Se)))}else U=Z&~xe,U!==0?ue=cp(U):Se!==0&&(ue=cp(Se));if(ue===0)return 0;if(z!==0&&z!==ue&&!(z&xe)&&(xe=ue&-ue,Se=z&-z,xe>=Se||xe===16&&(Se&4194240)!==0))return z;if(ue&4&&(ue|=Z&16),z=E.entangledLanes,z!==0)for(E=E.entanglements,z&=ue;0<z;)Z=31-of(z),xe=1<<Z,ue|=E[Z],z&=~xe;return ue}function IE(E,z){switch(E){case 1:case 2:case 4:return z+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return z+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _E(E,z){for(var Z=E.suspendedLanes,ue=E.pingedLanes,xe=E.expirationTimes,Se=E.pendingLanes;0<Se;){var U=31-of(Se),N=1<<U,e=xe[U];e===-1?(!(N&Z)||N&ue)&&(xe[U]=IE(N,z)):e<=z&&(E.expiredLanes|=N),Se&=~N}}function Km(E){return E=E.pendingLanes&-1073741825,E!==0?E:E&1073741824?1073741824:0}function k4(){var E=R0;return R0<<=1,!(R0&4194240)&&(R0=64),E}function Jy(E){for(var z=[],Z=0;31>Z;Z++)z.push(E);return z}function Yp(E,z,Z){E.pendingLanes|=z,z!==536870912&&(E.suspendedLanes=0,E.pingedLanes=0),E=E.eventTimes,z=31-of(z),E[z]=Z}function zE(E,z){var Z=E.pendingLanes&~z;E.pendingLanes=z,E.suspendedLanes=0,E.pingedLanes=0,E.expiredLanes&=z,E.mutableReadLanes&=z,E.entangledLanes&=z,z=E.entanglements;var ue=E.eventTimes;for(E=E.expirationTimes;0<Z;){var xe=31-of(Z),Se=1<<xe;z[xe]=0,ue[xe]=-1,E[xe]=-1,Z&=~Se}}function ox(E,z){var Z=E.entangledLanes|=z;for(E=E.entanglements;Z;){var ue=31-of(Z),xe=1<<ue;xe&z|E[ue]&z&&(E[ue]|=z),Z&=~xe}}var Bi=0;function D4(E){return E&=-E,1<E?4<E?E&268435455?16:536870912:4:1}var I4,sx,_4,z4,O4,Jm=!1,D0=[],ph=null,gh=null,yh=null,Lp=new Map,Pp=new Map,ch=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F3(E,z){switch(E){case"focusin":case"focusout":ph=null;break;case"dragenter":case"dragleave":gh=null;break;case"mouseover":case"mouseout":yh=null;break;case"pointerover":case"pointerout":Lp.delete(z.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pp.delete(z.pointerId)}}function rp(E,z,Z,ue,xe,Se){return E===null||E.nativeEvent!==Se?(E={blockedOn:z,domEventName:Z,eventSystemFlags:ue,nativeEvent:Se,targetContainers:[xe]},z!==null&&(z=Zp(z),z!==null&&sx(z)),E):(E.eventSystemFlags|=ue,z=E.targetContainers,xe!==null&&z.indexOf(xe)===-1&&z.push(xe),E)}function FE(E,z,Z,ue,xe){switch(z){case"focusin":return ph=rp(ph,E,z,Z,ue,xe),!0;case"dragenter":return gh=rp(gh,E,z,Z,ue,xe),!0;case"mouseover":return yh=rp(yh,E,z,Z,ue,xe),!0;case"pointerover":var Se=xe.pointerId;return Lp.set(Se,rp(Lp.get(Se)||null,E,z,Z,ue,xe)),!0;case"gotpointercapture":return Se=xe.pointerId,Pp.set(Se,rp(Pp.get(Se)||null,E,z,Z,ue,xe)),!0}return!1}function F4(E){var z=lv(E.target);if(z!==null){var Z=bv(z);if(Z!==null){if(z=Z.tag,z===13){if(z=M4(Z),z!==null){E.blockedOn=z,O4(E.priority,function(){_4(Z)});return}}else if(z===3&&Z.stateNode.current.memoizedState.isDehydrated){E.blockedOn=Z.tag===3?Z.stateNode.containerInfo:null;return}}}E.blockedOn=null}function $0(E){if(E.blockedOn!==null)return!1;for(var z=E.targetContainers;0<z.length;){var Z=Qm(E.domEventName,E.eventSystemFlags,z[0],E.nativeEvent);if(Z===null){Z=E.nativeEvent;var ue=new Z.constructor(Z.type,Z);jm=ue,Z.target.dispatchEvent(ue),jm=null}else return z=Zp(Z),z!==null&&sx(z),E.blockedOn=Z,!1;z.shift()}return!0}function N3(E,z,Z){$0(E)&&Z.delete(z)}function NE(){Jm=!1,ph!==null&&$0(ph)&&(ph=null),gh!==null&&$0(gh)&&(gh=null),yh!==null&&$0(yh)&&(yh=null),Lp.forEach(N3),Pp.forEach(N3)}function np(E,z){E.blockedOn===z&&(E.blockedOn=null,Jm||(Jm=!0,Gl.unstable_scheduleCallback(Gl.unstable_NormalPriority,NE)))}function Rp(E){function z(xe){return np(xe,E)}if(0<D0.length){np(D0[0],E);for(var Z=1;Z<D0.length;Z++){var ue=D0[Z];ue.blockedOn===E&&(ue.blockedOn=null)}}for(ph!==null&&np(ph,E),gh!==null&&np(gh,E),yh!==null&&np(yh,E),Lp.forEach(z),Pp.forEach(z),Z=0;Z<ch.length;Z++)ue=ch[Z],ue.blockedOn===E&&(ue.blockedOn=null);for(;0<ch.length&&(Z=ch[0],Z.blockedOn===null);)F4(Z),Z.blockedOn===null&&ch.shift()}var cd=Tc.ReactCurrentBatchConfig,gg=!0;function BE(E,z,Z,ue){var xe=Bi,Se=cd.transition;cd.transition=null;try{Bi=1,lx(E,z,Z,ue)}finally{Bi=xe,cd.transition=Se}}function UE(E,z,Z,ue){var xe=Bi,Se=cd.transition;cd.transition=null;try{Bi=4,lx(E,z,Z,ue)}finally{Bi=xe,cd.transition=Se}}function lx(E,z,Z,ue){if(gg){var xe=Qm(E,z,Z,ue);if(xe===null)om(E,z,ue,yg,Z),F3(E,ue);else if(FE(xe,E,z,Z,ue))ue.stopPropagation();else if(F3(E,ue),z&4&&-1<OE.indexOf(E)){for(;xe!==null;){var Se=Zp(xe);if(Se!==null&&I4(Se),Se=Qm(E,z,Z,ue),Se===null&&om(E,z,ue,yg,Z),Se===xe)break;xe=Se}xe!==null&&ue.stopPropagation()}else om(E,z,ue,null,Z)}}var yg=null;function Qm(E,z,Z,ue){if(yg=null,E=ax(ue),E=lv(E),E!==null)if(z=bv(E),z===null)E=null;else if(Z=z.tag,Z===13){if(E=M4(z),E!==null)return E;E=null}else if(Z===3){if(z.stateNode.current.memoizedState.isDehydrated)return z.tag===3?z.stateNode.containerInfo:null;E=null}else z!==E&&(E=null);return yg=E,null}function N4(E){switch(E){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CE()){case ix:return 1;case P4:return 4;case dg:case LE:return 16;case R4:return 536870912;default:return 16}default:return 16}}var vh=null,ux=null,q0=null;function B4(){if(q0)return q0;var E,z=ux,Z=z.length,ue,xe="value"in vh?vh.value:vh.textContent,Se=xe.length;for(E=0;E<Z&&z[E]===xe[E];E++);var U=Z-E;for(ue=1;ue<=U&&z[Z-ue]===xe[Se-ue];ue++);return q0=xe.slice(E,1<ue?1-ue:void 0)}function eg(E){var z=E.keyCode;return"charCode"in E?(E=E.charCode,E===0&&z===13&&(E=13)):E=z,E===10&&(E=13),32<=E||E===13?E:0}function I0(){return!0}function B3(){return!1}function jl(E){function z(Z,ue,xe,Se,U){this._reactName=Z,this._targetInst=xe,this.type=ue,this.nativeEvent=Se,this.target=U,this.currentTarget=null;for(var N in E)E.hasOwnProperty(N)&&(Z=E[N],this[N]=Z?Z(Se):Se[N]);return this.isDefaultPrevented=(Se.defaultPrevented!=null?Se.defaultPrevented:Se.returnValue===!1)?I0:B3,this.isPropagationStopped=B3,this}return Co(z.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Z=this.nativeEvent;Z&&(Z.preventDefault?Z.preventDefault():typeof Z.returnValue!="unknown"&&(Z.returnValue=!1),this.isDefaultPrevented=I0)},stopPropagation:function(){var Z=this.nativeEvent;Z&&(Z.stopPropagation?Z.stopPropagation():typeof Z.cancelBubble!="unknown"&&(Z.cancelBubble=!0),this.isPropagationStopped=I0)},persist:function(){},isPersistent:I0}),z}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(E){return E.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fx=jl(Cd),Xp=Co({},Cd,{view:0,detail:0}),HE=jl(Xp),Qy,$y,ap,Vg=Co({},Xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cx,button:0,buttons:0,relatedTarget:function(E){return E.relatedTarget===void 0?E.fromElement===E.srcElement?E.toElement:E.fromElement:E.relatedTarget},movementX:function(E){return"movementX"in E?E.movementX:(E!==ap&&(ap&&E.type==="mousemove"?(Qy=E.screenX-ap.screenX,$y=E.screenY-ap.screenY):$y=Qy=0,ap=E),Qy)},movementY:function(E){return"movementY"in E?E.movementY:$y}}),U3=jl(Vg),VE=Co({},Vg,{dataTransfer:0}),GE=jl(VE),WE=Co({},Xp,{relatedTarget:0}),qy=jl(WE),jE=Co({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),YE=jl(jE),XE=Co({},Cd,{clipboardData:function(E){return"clipboardData"in E?E.clipboardData:window.clipboardData}}),ZE=jl(XE),KE=Co({},Cd,{data:0}),H3=jl(KE),JE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qE(E){var z=this.nativeEvent;return z.getModifierState?z.getModifierState(E):(E=$E[E])?!!z[E]:!1}function cx(){return qE}var e8=Co({},Xp,{key:function(E){if(E.key){var z=JE[E.key]||E.key;if(z!=="Unidentified")return z}return E.type==="keypress"?(E=eg(E),E===13?"Enter":String.fromCharCode(E)):E.type==="keydown"||E.type==="keyup"?QE[E.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cx,charCode:function(E){return E.type==="keypress"?eg(E):0},keyCode:function(E){return E.type==="keydown"||E.type==="keyup"?E.keyCode:0},which:function(E){return E.type==="keypress"?eg(E):E.type==="keydown"||E.type==="keyup"?E.keyCode:0}}),t8=jl(e8),r8=Co({},Vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V3=jl(r8),n8=Co({},Xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cx}),a8=jl(n8),i8=Co({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),o8=jl(i8),s8=Co({},Vg,{deltaX:function(E){return"deltaX"in E?E.deltaX:"wheelDeltaX"in E?-E.wheelDeltaX:0},deltaY:function(E){return"deltaY"in E?E.deltaY:"wheelDeltaY"in E?-E.wheelDeltaY:"wheelDelta"in E?-E.wheelDelta:0},deltaZ:0,deltaMode:0}),l8=jl(s8),u8=[9,13,27,32],hx=yc&&"CompositionEvent"in window,yp=null;yc&&"documentMode"in document&&(yp=document.documentMode);var f8=yc&&"TextEvent"in window&&!yp,U4=yc&&(!hx||yp&&8<yp&&11>=yp),G3=" ",W3=!1;function H4(E,z){switch(E){case"keyup":return u8.indexOf(z.keyCode)!==-1;case"keydown":return z.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V4(E){return E=E.detail,typeof E=="object"&&"data"in E?E.data:null}var $v=!1;function c8(E,z){switch(E){case"compositionend":return V4(z);case"keypress":return z.which!==32?null:(W3=!0,G3);case"textInput":return E=z.data,E===G3&&W3?null:E;default:return null}}function h8(E,z){if($v)return E==="compositionend"||!hx&&H4(E,z)?(E=B4(),q0=ux=vh=null,$v=!1,E):null;switch(E){case"paste":return null;case"keypress":if(!(z.ctrlKey||z.altKey||z.metaKey)||z.ctrlKey&&z.altKey){if(z.char&&1<z.char.length)return z.char;if(z.which)return String.fromCharCode(z.which)}return null;case"compositionend":return U4&&z.locale!=="ko"?null:z.data;default:return null}}var v8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j3(E){var z=E&&E.nodeName&&E.nodeName.toLowerCase();return z==="input"?!!v8[E.type]:z==="textarea"}function G4(E,z,Z,ue){b4(ue),z=mg(z,"onChange"),0<z.length&&(Z=new fx("onChange","change",null,Z,ue),E.push({event:Z,listeners:z}))}var mp=null,kp=null;function d8(E){eT(E,0)}function Gg(E){var z=td(E);if(v4(z))return E}function p8(E,z){if(E==="change")return z}var W4=!1;if(yc){var em;if(yc){var tm="oninput"in document;if(!tm){var Y3=document.createElement("div");Y3.setAttribute("oninput","return;"),tm=typeof Y3.oninput=="function"}em=tm}else em=!1;W4=em&&(!document.documentMode||9<document.documentMode)}function X3(){mp&&(mp.detachEvent("onpropertychange",j4),kp=mp=null)}function j4(E){if(E.propertyName==="value"&&Gg(kp)){var z=[];G4(z,kp,E,ax(E)),S4(d8,z)}}function g8(E,z,Z){E==="focusin"?(X3(),mp=z,kp=Z,mp.attachEvent("onpropertychange",j4)):E==="focusout"&&X3()}function y8(E){if(E==="selectionchange"||E==="keyup"||E==="keydown")return Gg(kp)}function m8(E,z){if(E==="click")return Gg(z)}function x8(E,z){if(E==="input"||E==="change")return Gg(z)}function b8(E,z){return E===z&&(E!==0||1/E===1/z)||E!==E&&z!==z}var lf=typeof Object.is=="function"?Object.is:b8;function Dp(E,z){if(lf(E,z))return!0;if(typeof E!="object"||E===null||typeof z!="object"||z===null)return!1;var Z=Object.keys(E),ue=Object.keys(z);if(Z.length!==ue.length)return!1;for(ue=0;ue<Z.length;ue++){var xe=Z[ue];if(!Im.call(z,xe)||!lf(E[xe],z[xe]))return!1}return!0}function Z3(E){for(;E&&E.firstChild;)E=E.firstChild;return E}function K3(E,z){var Z=Z3(E);E=0;for(var ue;Z;){if(Z.nodeType===3){if(ue=E+Z.textContent.length,E<=z&&ue>=z)return{node:Z,offset:z-E};E=ue}e:{for(;Z;){if(Z.nextSibling){Z=Z.nextSibling;break e}Z=Z.parentNode}Z=void 0}Z=Z3(Z)}}function Y4(E,z){return E&&z?E===z?!0:E&&E.nodeType===3?!1:z&&z.nodeType===3?Y4(E,z.parentNode):"contains"in E?E.contains(z):E.compareDocumentPosition?!!(E.compareDocumentPosition(z)&16):!1:!1}function X4(){for(var E=window,z=cg();z instanceof E.HTMLIFrameElement;){try{var Z=typeof z.contentWindow.location.href=="string"}catch{Z=!1}if(Z)E=z.contentWindow;else break;z=cg(E.document)}return z}function vx(E){var z=E&&E.nodeName&&E.nodeName.toLowerCase();return z&&(z==="input"&&(E.type==="text"||E.type==="search"||E.type==="tel"||E.type==="url"||E.type==="password")||z==="textarea"||E.contentEditable==="true")}function w8(E){var z=X4(),Z=E.focusedElem,ue=E.selectionRange;if(z!==Z&&Z&&Z.ownerDocument&&Y4(Z.ownerDocument.documentElement,Z)){if(ue!==null&&vx(Z)){if(z=ue.start,E=ue.end,E===void 0&&(E=z),"selectionStart"in Z)Z.selectionStart=z,Z.selectionEnd=Math.min(E,Z.value.length);else if(E=(z=Z.ownerDocument||document)&&z.defaultView||window,E.getSelection){E=E.getSelection();var xe=Z.textContent.length,Se=Math.min(ue.start,xe);ue=ue.end===void 0?Se:Math.min(ue.end,xe),!E.extend&&Se>ue&&(xe=ue,ue=Se,Se=xe),xe=K3(Z,Se);var U=K3(Z,ue);xe&&U&&(E.rangeCount!==1||E.anchorNode!==xe.node||E.anchorOffset!==xe.offset||E.focusNode!==U.node||E.focusOffset!==U.offset)&&(z=z.createRange(),z.setStart(xe.node,xe.offset),E.removeAllRanges(),Se>ue?(E.addRange(z),E.extend(U.node,U.offset)):(z.setEnd(U.node,U.offset),E.addRange(z)))}}for(z=[],E=Z;E=E.parentNode;)E.nodeType===1&&z.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<z.length;Z++)E=z[Z],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}var T8=yc&&"documentMode"in document&&11>=document.documentMode,qv=null,$m=null,xp=null,qm=!1;function J3(E,z,Z){var ue=Z.window===Z?Z.document:Z.nodeType===9?Z:Z.ownerDocument;qm||qv==null||qv!==cg(ue)||(ue=qv,"selectionStart"in ue&&vx(ue)?ue={start:ue.selectionStart,end:ue.selectionEnd}:(ue=(ue.ownerDocument&&ue.ownerDocument.defaultView||window).getSelection(),ue={anchorNode:ue.anchorNode,anchorOffset:ue.anchorOffset,focusNode:ue.focusNode,focusOffset:ue.focusOffset}),xp&&Dp(xp,ue)||(xp=ue,ue=mg($m,"onSelect"),0<ue.length&&(z=new fx("onSelect","select",null,z,Z),E.push({event:z,listeners:ue}),z.target=qv)))}function _0(E,z){var Z={};return Z[E.toLowerCase()]=z.toLowerCase(),Z["Webkit"+E]="webkit"+z,Z["Moz"+E]="moz"+z,Z}var ed={animationend:_0("Animation","AnimationEnd"),animationiteration:_0("Animation","AnimationIteration"),animationstart:_0("Animation","AnimationStart"),transitionend:_0("Transition","TransitionEnd")},rm={},Z4={};yc&&(Z4=document.createElement("div").style,"AnimationEvent"in window||(delete ed.animationend.animation,delete ed.animationiteration.animation,delete ed.animationstart.animation),"TransitionEvent"in window||delete ed.transitionend.transition);function Wg(E){if(rm[E])return rm[E];if(!ed[E])return E;var z=ed[E],Z;for(Z in z)if(z.hasOwnProperty(Z)&&Z in Z4)return rm[E]=z[Z];return E}var K4=Wg("animationend"),J4=Wg("animationiteration"),Q4=Wg("animationstart"),$4=Wg("transitionend"),q4=new Map,Q3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mh(E,z){q4.set(E,z),xv(z,[E])}for(var nm=0;nm<Q3.length;nm++){var am=Q3[nm],A8=am.toLowerCase(),S8=am[0].toUpperCase()+am.slice(1);Mh(A8,"on"+S8)}Mh(K4,"onAnimationEnd");Mh(J4,"onAnimationIteration");Mh(Q4,"onAnimationStart");Mh("dblclick","onDoubleClick");Mh("focusin","onFocus");Mh("focusout","onBlur");Mh($4,"onTransitionEnd");md("onMouseEnter",["mouseout","mouseover"]);md("onMouseLeave",["mouseout","mouseover"]);md("onPointerEnter",["pointerout","pointerover"]);md("onPointerLeave",["pointerout","pointerover"]);xv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xv("onBeforeInput",["compositionend","keypress","textInput","paste"]);xv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hp));function $3(E,z,Z){var ue=E.type||"unknown-event";E.currentTarget=Z,AE(ue,z,void 0,E),E.currentTarget=null}function eT(E,z){z=(z&4)!==0;for(var Z=0;Z<E.length;Z++){var ue=E[Z],xe=ue.event;ue=ue.listeners;e:{var Se=void 0;if(z)for(var U=ue.length-1;0<=U;U--){var N=ue[U],e=N.instance,d=N.currentTarget;if(N=N.listener,e!==Se&&xe.isPropagationStopped())break e;$3(xe,N,d),Se=e}else for(U=0;U<ue.length;U++){if(N=ue[U],e=N.instance,d=N.currentTarget,N=N.listener,e!==Se&&xe.isPropagationStopped())break e;$3(xe,N,d),Se=e}}}if(vg)throw E=Zm,vg=!1,Zm=null,E}function io(E,z){var Z=z[a1];Z===void 0&&(Z=z[a1]=new Set);var ue=E+"__bubble";Z.has(ue)||(tT(z,E,2,!1),Z.add(ue))}function im(E,z,Z){var ue=0;z&&(ue|=4),tT(Z,E,ue,z)}var z0="_reactListening"+Math.random().toString(36).slice(2);function Ip(E){if(!E[z0]){E[z0]=!0,l4.forEach(function(Z){Z!=="selectionchange"&&(M8.has(Z)||im(Z,!1,E),im(Z,!0,E))});var z=E.nodeType===9?E:E.ownerDocument;z===null||z[z0]||(z[z0]=!0,im("selectionchange",!1,z))}}function tT(E,z,Z,ue){switch(N4(z)){case 1:var xe=BE;break;case 4:xe=UE;break;default:xe=lx}Z=xe.bind(null,z,Z,E),xe=void 0,!Xm||z!=="touchstart"&&z!=="touchmove"&&z!=="wheel"||(xe=!0),ue?xe!==void 0?E.addEventListener(z,Z,{capture:!0,passive:xe}):E.addEventListener(z,Z,!0):xe!==void 0?E.addEventListener(z,Z,{passive:xe}):E.addEventListener(z,Z,!1)}function om(E,z,Z,ue,xe){var Se=ue;if(!(z&1)&&!(z&2)&&ue!==null)e:for(;;){if(ue===null)return;var U=ue.tag;if(U===3||U===4){var N=ue.stateNode.containerInfo;if(N===xe||N.nodeType===8&&N.parentNode===xe)break;if(U===4)for(U=ue.return;U!==null;){var e=U.tag;if((e===3||e===4)&&(e=U.stateNode.containerInfo,e===xe||e.nodeType===8&&e.parentNode===xe))return;U=U.return}for(;N!==null;){if(U=lv(N),U===null)return;if(e=U.tag,e===5||e===6){ue=Se=U;continue e}N=N.parentNode}}ue=ue.return}S4(function(){var d=Se,P=ax(Z),n=[];e:{var C=q4.get(E);if(C!==void 0){var x=fx,v=E;switch(E){case"keypress":if(eg(Z)===0)break e;case"keydown":case"keyup":x=t8;break;case"focusin":v="focus",x=qy;break;case"focusout":v="blur",x=qy;break;case"beforeblur":case"afterblur":x=qy;break;case"click":if(Z.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=U3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=a8;break;case K4:case J4:case Q4:x=YE;break;case $4:x=o8;break;case"scroll":x=HE;break;case"wheel":x=l8;break;case"copy":case"cut":case"paste":x=ZE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=V3}var p=(z&4)!==0,r=!p&&E==="scroll",t=p?C!==null?C+"Capture":null:C;p=[];for(var o=d,a;o!==null;){a=o;var u=a.stateNode;if(a.tag===5&&u!==null&&(a=u,t!==null&&(u=Cp(o,t),u!=null&&p.push(_p(o,u,a)))),r)break;o=o.return}0<p.length&&(C=new x(C,v,null,Z,P),n.push({event:C,listeners:p}))}}if(!(z&7)){e:{if(C=E==="mouseover"||E==="pointerover",x=E==="mouseout"||E==="pointerout",C&&Z!==jm&&(v=Z.relatedTarget||Z.fromElement)&&(lv(v)||v[mc]))break e;if((x||C)&&(C=P.window===P?P:(C=P.ownerDocument)?C.defaultView||C.parentWindow:window,x?(v=Z.relatedTarget||Z.toElement,x=d,v=v?lv(v):null,v!==null&&(r=bv(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(p=U3,u="onMouseLeave",t="onMouseEnter",o="mouse",(E==="pointerout"||E==="pointerover")&&(p=V3,u="onPointerLeave",t="onPointerEnter",o="pointer"),r=x==null?C:td(x),a=v==null?C:td(v),C=new p(u,o+"leave",x,Z,P),C.target=r,C.relatedTarget=a,u=null,lv(P)===d&&(p=new p(t,o+"enter",v,Z,P),p.target=a,p.relatedTarget=r,u=p),r=u,x&&v)t:{for(p=x,t=v,o=0,a=p;a;a=Zv(a))o++;for(a=0,u=t;u;u=Zv(u))a++;for(;0<o-a;)p=Zv(p),o--;for(;0<a-o;)t=Zv(t),a--;for(;o--;){if(p===t||t!==null&&p===t.alternate)break t;p=Zv(p),t=Zv(t)}p=null}else p=null;x!==null&&q3(n,C,x,p,!1),v!==null&&r!==null&&q3(n,r,v,p,!0)}}e:{if(C=d?td(d):window,x=C.nodeName&&C.nodeName.toLowerCase(),x==="select"||x==="input"&&C.type==="file")var f=p8;else if(j3(C))if(W4)f=x8;else{f=y8;var l=g8}else(x=C.nodeName)&&x.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(f=m8);if(f&&(f=f(E,d))){G4(n,f,Z,P);break e}l&&l(E,C,d),E==="focusout"&&(l=C._wrapperState)&&l.controlled&&C.type==="number"&&Um(C,"number",C.value)}switch(l=d?td(d):window,E){case"focusin":(j3(l)||l.contentEditable==="true")&&(qv=l,$m=d,xp=null);break;case"focusout":xp=$m=qv=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,J3(n,Z,P);break;case"selectionchange":if(T8)break;case"keydown":case"keyup":J3(n,Z,P)}var y;if(hx)e:{switch(E){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else $v?H4(E,Z)&&(c="onCompositionEnd"):E==="keydown"&&Z.keyCode===229&&(c="onCompositionStart");c&&(U4&&Z.locale!=="ko"&&($v||c!=="onCompositionStart"?c==="onCompositionEnd"&&$v&&(y=B4()):(vh=P,ux="value"in vh?vh.value:vh.textContent,$v=!0)),l=mg(d,c),0<l.length&&(c=new H3(c,E,null,Z,P),n.push({event:c,listeners:l}),y?c.data=y:(y=V4(Z),y!==null&&(c.data=y)))),(y=f8?c8(E,Z):h8(E,Z))&&(d=mg(d,"onBeforeInput"),0<d.length&&(P=new H3("onBeforeInput","beforeinput",null,Z,P),n.push({event:P,listeners:d}),P.data=y))}eT(n,z)})}function _p(E,z,Z){return{instance:E,listener:z,currentTarget:Z}}function mg(E,z){for(var Z=z+"Capture",ue=[];E!==null;){var xe=E,Se=xe.stateNode;xe.tag===5&&Se!==null&&(xe=Se,Se=Cp(E,Z),Se!=null&&ue.unshift(_p(E,Se,xe)),Se=Cp(E,z),Se!=null&&ue.push(_p(E,Se,xe))),E=E.return}return ue}function Zv(E){if(E===null)return null;do E=E.return;while(E&&E.tag!==5);return E||null}function q3(E,z,Z,ue,xe){for(var Se=z._reactName,U=[];Z!==null&&Z!==ue;){var N=Z,e=N.alternate,d=N.stateNode;if(e!==null&&e===ue)break;N.tag===5&&d!==null&&(N=d,xe?(e=Cp(Z,Se),e!=null&&U.unshift(_p(Z,e,N))):xe||(e=Cp(Z,Se),e!=null&&U.push(_p(Z,e,N)))),Z=Z.return}U.length!==0&&E.push({event:z,listeners:U})}var E8=/\r\n?/g,C8=/\u0000|\uFFFD/g;function ew(E){return(typeof E=="string"?E:""+E).replace(E8,`
`).replace(C8,"")}function O0(E,z,Z){if(z=ew(z),ew(E)!==z&&Z)throw Error(ma(425))}function xg(){}var e1=null,t1=null;function r1(E,z){return E==="textarea"||E==="noscript"||typeof z.children=="string"||typeof z.children=="number"||typeof z.dangerouslySetInnerHTML=="object"&&z.dangerouslySetInnerHTML!==null&&z.dangerouslySetInnerHTML.__html!=null}var n1=typeof setTimeout=="function"?setTimeout:void 0,L8=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,P8=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(E){return tw.resolve(null).then(E).catch(R8)}:n1;function R8(E){setTimeout(function(){throw E})}function sm(E,z){var Z=z,ue=0;do{var xe=Z.nextSibling;if(E.removeChild(Z),xe&&xe.nodeType===8)if(Z=xe.data,Z==="/$"){if(ue===0){E.removeChild(xe),Rp(z);return}ue--}else Z!=="$"&&Z!=="$?"&&Z!=="$!"||ue++;Z=xe}while(Z);Rp(z)}function mh(E){for(;E!=null;E=E.nextSibling){var z=E.nodeType;if(z===1||z===3)break;if(z===8){if(z=E.data,z==="$"||z==="$!"||z==="$?")break;if(z==="/$")return null}}return E}function rw(E){E=E.previousSibling;for(var z=0;E;){if(E.nodeType===8){var Z=E.data;if(Z==="$"||Z==="$!"||Z==="$?"){if(z===0)return E;z--}else Z==="/$"&&z++}E=E.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),If="__reactFiber$"+Ld,zp="__reactProps$"+Ld,mc="__reactContainer$"+Ld,a1="__reactEvents$"+Ld,k8="__reactListeners$"+Ld,D8="__reactHandles$"+Ld;function lv(E){var z=E[If];if(z)return z;for(var Z=E.parentNode;Z;){if(z=Z[mc]||Z[If]){if(Z=z.alternate,z.child!==null||Z!==null&&Z.child!==null)for(E=rw(E);E!==null;){if(Z=E[If])return Z;E=rw(E)}return z}E=Z,Z=E.parentNode}return null}function Zp(E){return E=E[If]||E[mc],!E||E.tag!==5&&E.tag!==6&&E.tag!==13&&E.tag!==3?null:E}function td(E){if(E.tag===5||E.tag===6)return E.stateNode;throw Error(ma(33))}function jg(E){return E[zp]||null}var i1=[],rd=-1;function Eh(E){return{current:E}}function oo(E){0>rd||(E.current=i1[rd],i1[rd]=null,rd--)}function $i(E,z){rd++,i1[rd]=E.current,E.current=z}var Sh={},Hs=Eh(Sh),Tl=Eh(!1),vv=Sh;function xd(E,z){var Z=E.type.contextTypes;if(!Z)return Sh;var ue=E.stateNode;if(ue&&ue.__reactInternalMemoizedUnmaskedChildContext===z)return ue.__reactInternalMemoizedMaskedChildContext;var xe={},Se;for(Se in Z)xe[Se]=z[Se];return ue&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=z,E.__reactInternalMemoizedMaskedChildContext=xe),xe}function Al(E){return E=E.childContextTypes,E!=null}function bg(){oo(Tl),oo(Hs)}function nw(E,z,Z){if(Hs.current!==Sh)throw Error(ma(168));$i(Hs,z),$i(Tl,Z)}function rT(E,z,Z){var ue=E.stateNode;if(z=z.childContextTypes,typeof ue.getChildContext!="function")return Z;ue=ue.getChildContext();for(var xe in ue)if(!(xe in z))throw Error(ma(108,gE(E)||"Unknown",xe));return Co({},Z,ue)}function wg(E){return E=(E=E.stateNode)&&E.__reactInternalMemoizedMergedChildContext||Sh,vv=Hs.current,$i(Hs,E),$i(Tl,Tl.current),!0}function aw(E,z,Z){var ue=E.stateNode;if(!ue)throw Error(ma(169));Z?(E=rT(E,z,vv),ue.__reactInternalMemoizedMergedChildContext=E,oo(Tl),oo(Hs),$i(Hs,E)):oo(Tl),$i(Tl,Z)}var hc=null,Yg=!1,lm=!1;function nT(E){hc===null?hc=[E]:hc.push(E)}function I8(E){Yg=!0,nT(E)}function Ch(){if(!lm&&hc!==null){lm=!0;var E=0,z=Bi;try{var Z=hc;for(Bi=1;E<Z.length;E++){var ue=Z[E];do ue=ue(!0);while(ue!==null)}hc=null,Yg=!1}catch(xe){throw hc!==null&&(hc=hc.slice(E+1)),L4(ix,Ch),xe}finally{Bi=z,lm=!1}}return null}var nd=[],ad=0,Tg=null,Ag=0,gu=[],yu=0,dv=null,vc=1,dc="";function rv(E,z){nd[ad++]=Ag,nd[ad++]=Tg,Tg=E,Ag=z}function aT(E,z,Z){gu[yu++]=vc,gu[yu++]=dc,gu[yu++]=dv,dv=E;var ue=vc;E=dc;var xe=32-of(ue)-1;ue&=~(1<<xe),Z+=1;var Se=32-of(z)+xe;if(30<Se){var U=xe-xe%5;Se=(ue&(1<<U)-1).toString(32),ue>>=U,xe-=U,vc=1<<32-of(z)+xe|Z<<xe|ue,dc=Se+E}else vc=1<<Se|Z<<xe|ue,dc=E}function dx(E){E.return!==null&&(rv(E,1),aT(E,1,0))}function px(E){for(;E===Tg;)Tg=nd[--ad],nd[ad]=null,Ag=nd[--ad],nd[ad]=null;for(;E===dv;)dv=gu[--yu],gu[yu]=null,dc=gu[--yu],gu[yu]=null,vc=gu[--yu],gu[yu]=null}var Vl=null,Hl=null,ho=!1,nf=null;function iT(E,z){var Z=xu(5,null,null,0);Z.elementType="DELETED",Z.stateNode=z,Z.return=E,z=E.deletions,z===null?(E.deletions=[Z],E.flags|=16):z.push(Z)}function iw(E,z){switch(E.tag){case 5:var Z=E.type;return z=z.nodeType!==1||Z.toLowerCase()!==z.nodeName.toLowerCase()?null:z,z!==null?(E.stateNode=z,Vl=E,Hl=mh(z.firstChild),!0):!1;case 6:return z=E.pendingProps===""||z.nodeType!==3?null:z,z!==null?(E.stateNode=z,Vl=E,Hl=null,!0):!1;case 13:return z=z.nodeType!==8?null:z,z!==null?(Z=dv!==null?{id:vc,overflow:dc}:null,E.memoizedState={dehydrated:z,treeContext:Z,retryLane:1073741824},Z=xu(18,null,null,0),Z.stateNode=z,Z.return=E,E.child=Z,Vl=E,Hl=null,!0):!1;default:return!1}}function o1(E){return(E.mode&1)!==0&&(E.flags&128)===0}function s1(E){if(ho){var z=Hl;if(z){var Z=z;if(!iw(E,z)){if(o1(E))throw Error(ma(418));z=mh(Z.nextSibling);var ue=Vl;z&&iw(E,z)?iT(ue,Z):(E.flags=E.flags&-4097|2,ho=!1,Vl=E)}}else{if(o1(E))throw Error(ma(418));E.flags=E.flags&-4097|2,ho=!1,Vl=E}}}function ow(E){for(E=E.return;E!==null&&E.tag!==5&&E.tag!==3&&E.tag!==13;)E=E.return;Vl=E}function F0(E){if(E!==Vl)return!1;if(!ho)return ow(E),ho=!0,!1;var z;if((z=E.tag!==3)&&!(z=E.tag!==5)&&(z=E.type,z=z!=="head"&&z!=="body"&&!r1(E.type,E.memoizedProps)),z&&(z=Hl)){if(o1(E))throw oT(),Error(ma(418));for(;z;)iT(E,z),z=mh(z.nextSibling)}if(ow(E),E.tag===13){if(E=E.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(ma(317));e:{for(E=E.nextSibling,z=0;E;){if(E.nodeType===8){var Z=E.data;if(Z==="/$"){if(z===0){Hl=mh(E.nextSibling);break e}z--}else Z!=="$"&&Z!=="$!"&&Z!=="$?"||z++}E=E.nextSibling}Hl=null}}else Hl=Vl?mh(E.stateNode.nextSibling):null;return!0}function oT(){for(var E=Hl;E;)E=mh(E.nextSibling)}function bd(){Hl=Vl=null,ho=!1}function gx(E){nf===null?nf=[E]:nf.push(E)}var _8=Tc.ReactCurrentBatchConfig;function ip(E,z,Z){if(E=Z.ref,E!==null&&typeof E!="function"&&typeof E!="object"){if(Z._owner){if(Z=Z._owner,Z){if(Z.tag!==1)throw Error(ma(309));var ue=Z.stateNode}if(!ue)throw Error(ma(147,E));var xe=ue,Se=""+E;return z!==null&&z.ref!==null&&typeof z.ref=="function"&&z.ref._stringRef===Se?z.ref:(z=function(U){var N=xe.refs;U===null?delete N[Se]:N[Se]=U},z._stringRef=Se,z)}if(typeof E!="string")throw Error(ma(284));if(!Z._owner)throw Error(ma(290,E))}return E}function N0(E,z){throw E=Object.prototype.toString.call(z),Error(ma(31,E==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":E))}function sw(E){var z=E._init;return z(E._payload)}function sT(E){function z(t,o){if(E){var a=t.deletions;a===null?(t.deletions=[o],t.flags|=16):a.push(o)}}function Z(t,o){if(!E)return null;for(;o!==null;)z(t,o),o=o.sibling;return null}function ue(t,o){for(t=new Map;o!==null;)o.key!==null?t.set(o.key,o):t.set(o.index,o),o=o.sibling;return t}function xe(t,o){return t=Th(t,o),t.index=0,t.sibling=null,t}function Se(t,o,a){return t.index=a,E?(a=t.alternate,a!==null?(a=a.index,a<o?(t.flags|=2,o):a):(t.flags|=2,o)):(t.flags|=1048576,o)}function U(t){return E&&t.alternate===null&&(t.flags|=2),t}function N(t,o,a,u){return o===null||o.tag!==6?(o=pm(a,t.mode,u),o.return=t,o):(o=xe(o,a),o.return=t,o)}function e(t,o,a,u){var f=a.type;return f===Qv?P(t,o,a.props.children,u,a.key):o!==null&&(o.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===lh&&sw(f)===o.type)?(u=xe(o,a.props),u.ref=ip(t,o,a),u.return=t,u):(u=sg(a.type,a.key,a.props,null,t.mode,u),u.ref=ip(t,o,a),u.return=t,u)}function d(t,o,a,u){return o===null||o.tag!==4||o.stateNode.containerInfo!==a.containerInfo||o.stateNode.implementation!==a.implementation?(o=gm(a,t.mode,u),o.return=t,o):(o=xe(o,a.children||[]),o.return=t,o)}function P(t,o,a,u,f){return o===null||o.tag!==7?(o=hv(a,t.mode,u,f),o.return=t,o):(o=xe(o,a),o.return=t,o)}function n(t,o,a){if(typeof o=="string"&&o!==""||typeof o=="number")return o=pm(""+o,t.mode,a),o.return=t,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case C0:return a=sg(o.type,o.key,o.props,null,t.mode,a),a.ref=ip(t,null,o),a.return=t,a;case Jv:return o=gm(o,t.mode,a),o.return=t,o;case lh:var u=o._init;return n(t,u(o._payload),a)}if(fp(o)||ep(o))return o=hv(o,t.mode,a,null),o.return=t,o;N0(t,o)}return null}function C(t,o,a,u){var f=o!==null?o.key:null;if(typeof a=="string"&&a!==""||typeof a=="number")return f!==null?null:N(t,o,""+a,u);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case C0:return a.key===f?e(t,o,a,u):null;case Jv:return a.key===f?d(t,o,a,u):null;case lh:return f=a._init,C(t,o,f(a._payload),u)}if(fp(a)||ep(a))return f!==null?null:P(t,o,a,u,null);N0(t,a)}return null}function x(t,o,a,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return t=t.get(a)||null,N(o,t,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case C0:return t=t.get(u.key===null?a:u.key)||null,e(o,t,u,f);case Jv:return t=t.get(u.key===null?a:u.key)||null,d(o,t,u,f);case lh:var l=u._init;return x(t,o,a,l(u._payload),f)}if(fp(u)||ep(u))return t=t.get(a)||null,P(o,t,u,f,null);N0(o,u)}return null}function v(t,o,a,u){for(var f=null,l=null,y=o,c=o=0,T=null;y!==null&&c<a.length;c++){y.index>c?(T=y,y=null):T=y.sibling;var h=C(t,y,a[c],u);if(h===null){y===null&&(y=T);break}E&&y&&h.alternate===null&&z(t,y),o=Se(h,o,c),l===null?f=h:l.sibling=h,l=h,y=T}if(c===a.length)return Z(t,y),ho&&rv(t,c),f;if(y===null){for(;c<a.length;c++)y=n(t,a[c],u),y!==null&&(o=Se(y,o,c),l===null?f=y:l.sibling=y,l=y);return ho&&rv(t,c),f}for(y=ue(t,y);c<a.length;c++)T=x(y,t,c,a[c],u),T!==null&&(E&&T.alternate!==null&&y.delete(T.key===null?c:T.key),o=Se(T,o,c),l===null?f=T:l.sibling=T,l=T);return E&&y.forEach(function(i){return z(t,i)}),ho&&rv(t,c),f}function p(t,o,a,u){var f=ep(a);if(typeof f!="function")throw Error(ma(150));if(a=f.call(a),a==null)throw Error(ma(151));for(var l=f=null,y=o,c=o=0,T=null,h=a.next();y!==null&&!h.done;c++,h=a.next()){y.index>c?(T=y,y=null):T=y.sibling;var i=C(t,y,h.value,u);if(i===null){y===null&&(y=T);break}E&&y&&i.alternate===null&&z(t,y),o=Se(i,o,c),l===null?f=i:l.sibling=i,l=i,y=T}if(h.done)return Z(t,y),ho&&rv(t,c),f;if(y===null){for(;!h.done;c++,h=a.next())h=n(t,h.value,u),h!==null&&(o=Se(h,o,c),l===null?f=h:l.sibling=h,l=h);return ho&&rv(t,c),f}for(y=ue(t,y);!h.done;c++,h=a.next())h=x(y,t,c,h.value,u),h!==null&&(E&&h.alternate!==null&&y.delete(h.key===null?c:h.key),o=Se(h,o,c),l===null?f=h:l.sibling=h,l=h);return E&&y.forEach(function(g){return z(t,g)}),ho&&rv(t,c),f}function r(t,o,a,u){if(typeof a=="object"&&a!==null&&a.type===Qv&&a.key===null&&(a=a.props.children),typeof a=="object"&&a!==null){switch(a.$$typeof){case C0:e:{for(var f=a.key,l=o;l!==null;){if(l.key===f){if(f=a.type,f===Qv){if(l.tag===7){Z(t,l.sibling),o=xe(l,a.props.children),o.return=t,t=o;break e}}else if(l.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===lh&&sw(f)===l.type){Z(t,l.sibling),o=xe(l,a.props),o.ref=ip(t,l,a),o.return=t,t=o;break e}Z(t,l);break}else z(t,l);l=l.sibling}a.type===Qv?(o=hv(a.props.children,t.mode,u,a.key),o.return=t,t=o):(u=sg(a.type,a.key,a.props,null,t.mode,u),u.ref=ip(t,o,a),u.return=t,t=u)}return U(t);case Jv:e:{for(l=a.key;o!==null;){if(o.key===l)if(o.tag===4&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){Z(t,o.sibling),o=xe(o,a.children||[]),o.return=t,t=o;break e}else{Z(t,o);break}else z(t,o);o=o.sibling}o=gm(a,t.mode,u),o.return=t,t=o}return U(t);case lh:return l=a._init,r(t,o,l(a._payload),u)}if(fp(a))return v(t,o,a,u);if(ep(a))return p(t,o,a,u);N0(t,a)}return typeof a=="string"&&a!==""||typeof a=="number"?(a=""+a,o!==null&&o.tag===6?(Z(t,o.sibling),o=xe(o,a),o.return=t,t=o):(Z(t,o),o=pm(a,t.mode,u),o.return=t,t=o),U(t)):Z(t,o)}return r}var wd=sT(!0),lT=sT(!1),Sg=Eh(null),Mg=null,id=null,yx=null;function mx(){yx=id=Mg=null}function xx(E){var z=Sg.current;oo(Sg),E._currentValue=z}function l1(E,z,Z){for(;E!==null;){var ue=E.alternate;if((E.childLanes&z)!==z?(E.childLanes|=z,ue!==null&&(ue.childLanes|=z)):ue!==null&&(ue.childLanes&z)!==z&&(ue.childLanes|=z),E===Z)break;E=E.return}}function hd(E,z){Mg=E,yx=id=null,E=E.dependencies,E!==null&&E.firstContext!==null&&(E.lanes&z&&(wl=!0),E.firstContext=null)}function wu(E){var z=E._currentValue;if(yx!==E)if(E={context:E,memoizedValue:z,next:null},id===null){if(Mg===null)throw Error(ma(308));id=E,Mg.dependencies={lanes:0,firstContext:E}}else id=id.next=E;return z}var uv=null;function bx(E){uv===null?uv=[E]:uv.push(E)}function uT(E,z,Z,ue){var xe=z.interleaved;return xe===null?(Z.next=Z,bx(z)):(Z.next=xe.next,xe.next=Z),z.interleaved=Z,xc(E,ue)}function xc(E,z){E.lanes|=z;var Z=E.alternate;for(Z!==null&&(Z.lanes|=z),Z=E,E=E.return;E!==null;)E.childLanes|=z,Z=E.alternate,Z!==null&&(Z.childLanes|=z),Z=E,E=E.return;return Z.tag===3?Z.stateNode:null}var uh=!1;function wx(E){E.updateQueue={baseState:E.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fT(E,z){E=E.updateQueue,z.updateQueue===E&&(z.updateQueue={baseState:E.baseState,firstBaseUpdate:E.firstBaseUpdate,lastBaseUpdate:E.lastBaseUpdate,shared:E.shared,effects:E.effects})}function gc(E,z){return{eventTime:E,lane:z,tag:0,payload:null,callback:null,next:null}}function xh(E,z,Z){var ue=E.updateQueue;if(ue===null)return null;if(ue=ue.shared,Pi&2){var xe=ue.pending;return xe===null?z.next=z:(z.next=xe.next,xe.next=z),ue.pending=z,xc(E,Z)}return xe=ue.interleaved,xe===null?(z.next=z,bx(ue)):(z.next=xe.next,xe.next=z),ue.interleaved=z,xc(E,Z)}function tg(E,z,Z){if(z=z.updateQueue,z!==null&&(z=z.shared,(Z&4194240)!==0)){var ue=z.lanes;ue&=E.pendingLanes,Z|=ue,z.lanes=Z,ox(E,Z)}}function lw(E,z){var Z=E.updateQueue,ue=E.alternate;if(ue!==null&&(ue=ue.updateQueue,Z===ue)){var xe=null,Se=null;if(Z=Z.firstBaseUpdate,Z!==null){do{var U={eventTime:Z.eventTime,lane:Z.lane,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null};Se===null?xe=Se=U:Se=Se.next=U,Z=Z.next}while(Z!==null);Se===null?xe=Se=z:Se=Se.next=z}else xe=Se=z;Z={baseState:ue.baseState,firstBaseUpdate:xe,lastBaseUpdate:Se,shared:ue.shared,effects:ue.effects},E.updateQueue=Z;return}E=Z.lastBaseUpdate,E===null?Z.firstBaseUpdate=z:E.next=z,Z.lastBaseUpdate=z}function Eg(E,z,Z,ue){var xe=E.updateQueue;uh=!1;var Se=xe.firstBaseUpdate,U=xe.lastBaseUpdate,N=xe.shared.pending;if(N!==null){xe.shared.pending=null;var e=N,d=e.next;e.next=null,U===null?Se=d:U.next=d,U=e;var P=E.alternate;P!==null&&(P=P.updateQueue,N=P.lastBaseUpdate,N!==U&&(N===null?P.firstBaseUpdate=d:N.next=d,P.lastBaseUpdate=e))}if(Se!==null){var n=xe.baseState;U=0,P=d=e=null,N=Se;do{var C=N.lane,x=N.eventTime;if((ue&C)===C){P!==null&&(P=P.next={eventTime:x,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var v=E,p=N;switch(C=z,x=Z,p.tag){case 1:if(v=p.payload,typeof v=="function"){n=v.call(x,n,C);break e}n=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,C=typeof v=="function"?v.call(x,n,C):v,C==null)break e;n=Co({},n,C);break e;case 2:uh=!0}}N.callback!==null&&N.lane!==0&&(E.flags|=64,C=xe.effects,C===null?xe.effects=[N]:C.push(N))}else x={eventTime:x,lane:C,tag:N.tag,payload:N.payload,callback:N.callback,next:null},P===null?(d=P=x,e=n):P=P.next=x,U|=C;if(N=N.next,N===null){if(N=xe.shared.pending,N===null)break;C=N,N=C.next,C.next=null,xe.lastBaseUpdate=C,xe.shared.pending=null}}while(!0);if(P===null&&(e=n),xe.baseState=e,xe.firstBaseUpdate=d,xe.lastBaseUpdate=P,z=xe.shared.interleaved,z!==null){xe=z;do U|=xe.lane,xe=xe.next;while(xe!==z)}else Se===null&&(xe.shared.lanes=0);gv|=U,E.lanes=U,E.memoizedState=n}}function uw(E,z,Z){if(E=z.effects,z.effects=null,E!==null)for(z=0;z<E.length;z++){var ue=E[z],xe=ue.callback;if(xe!==null){if(ue.callback=null,ue=Z,typeof xe!="function")throw Error(ma(191,xe));xe.call(ue)}}}var Kp={},Ff=Eh(Kp),Op=Eh(Kp),Fp=Eh(Kp);function fv(E){if(E===Kp)throw Error(ma(174));return E}function Tx(E,z){switch($i(Fp,z),$i(Op,E),$i(Ff,Kp),E=z.nodeType,E){case 9:case 11:z=(z=z.documentElement)?z.namespaceURI:Vm(null,"");break;default:E=E===8?z.parentNode:z,z=E.namespaceURI||null,E=E.tagName,z=Vm(z,E)}oo(Ff),$i(Ff,z)}function Td(){oo(Ff),oo(Op),oo(Fp)}function cT(E){fv(Fp.current);var z=fv(Ff.current),Z=Vm(z,E.type);z!==Z&&($i(Op,E),$i(Ff,Z))}function Ax(E){Op.current===E&&(oo(Ff),oo(Op))}var Mo=Eh(0);function Cg(E){for(var z=E;z!==null;){if(z.tag===13){var Z=z.memoizedState;if(Z!==null&&(Z=Z.dehydrated,Z===null||Z.data==="$?"||Z.data==="$!"))return z}else if(z.tag===19&&z.memoizedProps.revealOrder!==void 0){if(z.flags&128)return z}else if(z.child!==null){z.child.return=z,z=z.child;continue}if(z===E)break;for(;z.sibling===null;){if(z.return===null||z.return===E)return null;z=z.return}z.sibling.return=z.return,z=z.sibling}return null}var um=[];function Sx(){for(var E=0;E<um.length;E++)um[E]._workInProgressVersionPrimary=null;um.length=0}var rg=Tc.ReactCurrentDispatcher,fm=Tc.ReactCurrentBatchConfig,pv=0,Eo=null,ts=null,us=null,Lg=!1,bp=!1,Np=0,z8=0;function Ns(){throw Error(ma(321))}function Mx(E,z){if(z===null)return!1;for(var Z=0;Z<z.length&&Z<E.length;Z++)if(!lf(E[Z],z[Z]))return!1;return!0}function Ex(E,z,Z,ue,xe,Se){if(pv=Se,Eo=z,z.memoizedState=null,z.updateQueue=null,z.lanes=0,rg.current=E===null||E.memoizedState===null?B8:U8,E=Z(ue,xe),bp){Se=0;do{if(bp=!1,Np=0,25<=Se)throw Error(ma(301));Se+=1,us=ts=null,z.updateQueue=null,rg.current=H8,E=Z(ue,xe)}while(bp)}if(rg.current=Pg,z=ts!==null&&ts.next!==null,pv=0,us=ts=Eo=null,Lg=!1,z)throw Error(ma(300));return E}function Cx(){var E=Np!==0;return Np=0,E}function kf(){var E={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return us===null?Eo.memoizedState=us=E:us=us.next=E,us}function Tu(){if(ts===null){var E=Eo.alternate;E=E!==null?E.memoizedState:null}else E=ts.next;var z=us===null?Eo.memoizedState:us.next;if(z!==null)us=z,ts=E;else{if(E===null)throw Error(ma(310));ts=E,E={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},us===null?Eo.memoizedState=us=E:us=us.next=E}return us}function Bp(E,z){return typeof z=="function"?z(E):z}function cm(E){var z=Tu(),Z=z.queue;if(Z===null)throw Error(ma(311));Z.lastRenderedReducer=E;var ue=ts,xe=ue.baseQueue,Se=Z.pending;if(Se!==null){if(xe!==null){var U=xe.next;xe.next=Se.next,Se.next=U}ue.baseQueue=xe=Se,Z.pending=null}if(xe!==null){Se=xe.next,ue=ue.baseState;var N=U=null,e=null,d=Se;do{var P=d.lane;if((pv&P)===P)e!==null&&(e=e.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),ue=d.hasEagerState?d.eagerState:E(ue,d.action);else{var n={lane:P,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};e===null?(N=e=n,U=ue):e=e.next=n,Eo.lanes|=P,gv|=P}d=d.next}while(d!==null&&d!==Se);e===null?U=ue:e.next=N,lf(ue,z.memoizedState)||(wl=!0),z.memoizedState=ue,z.baseState=U,z.baseQueue=e,Z.lastRenderedState=ue}if(E=Z.interleaved,E!==null){xe=E;do Se=xe.lane,Eo.lanes|=Se,gv|=Se,xe=xe.next;while(xe!==E)}else xe===null&&(Z.lanes=0);return[z.memoizedState,Z.dispatch]}function hm(E){var z=Tu(),Z=z.queue;if(Z===null)throw Error(ma(311));Z.lastRenderedReducer=E;var ue=Z.dispatch,xe=Z.pending,Se=z.memoizedState;if(xe!==null){Z.pending=null;var U=xe=xe.next;do Se=E(Se,U.action),U=U.next;while(U!==xe);lf(Se,z.memoizedState)||(wl=!0),z.memoizedState=Se,z.baseQueue===null&&(z.baseState=Se),Z.lastRenderedState=Se}return[Se,ue]}function hT(){}function vT(E,z){var Z=Eo,ue=Tu(),xe=z(),Se=!lf(ue.memoizedState,xe);if(Se&&(ue.memoizedState=xe,wl=!0),ue=ue.queue,Lx(gT.bind(null,Z,ue,E),[E]),ue.getSnapshot!==z||Se||us!==null&&us.memoizedState.tag&1){if(Z.flags|=2048,Up(9,pT.bind(null,Z,ue,xe,z),void 0,null),fs===null)throw Error(ma(349));pv&30||dT(Z,z,xe)}return xe}function dT(E,z,Z){E.flags|=16384,E={getSnapshot:z,value:Z},z=Eo.updateQueue,z===null?(z={lastEffect:null,stores:null},Eo.updateQueue=z,z.stores=[E]):(Z=z.stores,Z===null?z.stores=[E]:Z.push(E))}function pT(E,z,Z,ue){z.value=Z,z.getSnapshot=ue,yT(z)&&mT(E)}function gT(E,z,Z){return Z(function(){yT(z)&&mT(E)})}function yT(E){var z=E.getSnapshot;E=E.value;try{var Z=z();return!lf(E,Z)}catch{return!0}}function mT(E){var z=xc(E,1);z!==null&&sf(z,E,1,-1)}function fw(E){var z=kf();return typeof E=="function"&&(E=E()),z.memoizedState=z.baseState=E,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:E},z.queue=E,E=E.dispatch=N8.bind(null,Eo,E),[z.memoizedState,E]}function Up(E,z,Z,ue){return E={tag:E,create:z,destroy:Z,deps:ue,next:null},z=Eo.updateQueue,z===null?(z={lastEffect:null,stores:null},Eo.updateQueue=z,z.lastEffect=E.next=E):(Z=z.lastEffect,Z===null?z.lastEffect=E.next=E:(ue=Z.next,Z.next=E,E.next=ue,z.lastEffect=E)),E}function xT(){return Tu().memoizedState}function ng(E,z,Z,ue){var xe=kf();Eo.flags|=E,xe.memoizedState=Up(1|z,Z,void 0,ue===void 0?null:ue)}function Xg(E,z,Z,ue){var xe=Tu();ue=ue===void 0?null:ue;var Se=void 0;if(ts!==null){var U=ts.memoizedState;if(Se=U.destroy,ue!==null&&Mx(ue,U.deps)){xe.memoizedState=Up(z,Z,Se,ue);return}}Eo.flags|=E,xe.memoizedState=Up(1|z,Z,Se,ue)}function cw(E,z){return ng(8390656,8,E,z)}function Lx(E,z){return Xg(2048,8,E,z)}function bT(E,z){return Xg(4,2,E,z)}function wT(E,z){return Xg(4,4,E,z)}function TT(E,z){if(typeof z=="function")return E=E(),z(E),function(){z(null)};if(z!=null)return E=E(),z.current=E,function(){z.current=null}}function AT(E,z,Z){return Z=Z!=null?Z.concat([E]):null,Xg(4,4,TT.bind(null,z,E),Z)}function Px(){}function ST(E,z){var Z=Tu();z=z===void 0?null:z;var ue=Z.memoizedState;return ue!==null&&z!==null&&Mx(z,ue[1])?ue[0]:(Z.memoizedState=[E,z],E)}function MT(E,z){var Z=Tu();z=z===void 0?null:z;var ue=Z.memoizedState;return ue!==null&&z!==null&&Mx(z,ue[1])?ue[0]:(E=E(),Z.memoizedState=[E,z],E)}function ET(E,z,Z){return pv&21?(lf(Z,z)||(Z=k4(),Eo.lanes|=Z,gv|=Z,E.baseState=!0),z):(E.baseState&&(E.baseState=!1,wl=!0),E.memoizedState=Z)}function O8(E,z){var Z=Bi;Bi=Z!==0&&4>Z?Z:4,E(!0);var ue=fm.transition;fm.transition={};try{E(!1),z()}finally{Bi=Z,fm.transition=ue}}function CT(){return Tu().memoizedState}function F8(E,z,Z){var ue=wh(E);if(Z={lane:ue,action:Z,hasEagerState:!1,eagerState:null,next:null},LT(E))PT(z,Z);else if(Z=uT(E,z,Z,ue),Z!==null){var xe=el();sf(Z,E,ue,xe),RT(Z,z,ue)}}function N8(E,z,Z){var ue=wh(E),xe={lane:ue,action:Z,hasEagerState:!1,eagerState:null,next:null};if(LT(E))PT(z,xe);else{var Se=E.alternate;if(E.lanes===0&&(Se===null||Se.lanes===0)&&(Se=z.lastRenderedReducer,Se!==null))try{var U=z.lastRenderedState,N=Se(U,Z);if(xe.hasEagerState=!0,xe.eagerState=N,lf(N,U)){var e=z.interleaved;e===null?(xe.next=xe,bx(z)):(xe.next=e.next,e.next=xe),z.interleaved=xe;return}}catch{}finally{}Z=uT(E,z,xe,ue),Z!==null&&(xe=el(),sf(Z,E,ue,xe),RT(Z,z,ue))}}function LT(E){var z=E.alternate;return E===Eo||z!==null&&z===Eo}function PT(E,z){bp=Lg=!0;var Z=E.pending;Z===null?z.next=z:(z.next=Z.next,Z.next=z),E.pending=z}function RT(E,z,Z){if(Z&4194240){var ue=z.lanes;ue&=E.pendingLanes,Z|=ue,z.lanes=Z,ox(E,Z)}}var Pg={readContext:wu,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useInsertionEffect:Ns,useLayoutEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useMutableSource:Ns,useSyncExternalStore:Ns,useId:Ns,unstable_isNewReconciler:!1},B8={readContext:wu,useCallback:function(E,z){return kf().memoizedState=[E,z===void 0?null:z],E},useContext:wu,useEffect:cw,useImperativeHandle:function(E,z,Z){return Z=Z!=null?Z.concat([E]):null,ng(4194308,4,TT.bind(null,z,E),Z)},useLayoutEffect:function(E,z){return ng(4194308,4,E,z)},useInsertionEffect:function(E,z){return ng(4,2,E,z)},useMemo:function(E,z){var Z=kf();return z=z===void 0?null:z,E=E(),Z.memoizedState=[E,z],E},useReducer:function(E,z,Z){var ue=kf();return z=Z!==void 0?Z(z):z,ue.memoizedState=ue.baseState=z,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E,lastRenderedState:z},ue.queue=E,E=E.dispatch=F8.bind(null,Eo,E),[ue.memoizedState,E]},useRef:function(E){var z=kf();return E={current:E},z.memoizedState=E},useState:fw,useDebugValue:Px,useDeferredValue:function(E){return kf().memoizedState=E},useTransition:function(){var E=fw(!1),z=E[0];return E=O8.bind(null,E[1]),kf().memoizedState=E,[z,E]},useMutableSource:function(){},useSyncExternalStore:function(E,z,Z){var ue=Eo,xe=kf();if(ho){if(Z===void 0)throw Error(ma(407));Z=Z()}else{if(Z=z(),fs===null)throw Error(ma(349));pv&30||dT(ue,z,Z)}xe.memoizedState=Z;var Se={value:Z,getSnapshot:z};return xe.queue=Se,cw(gT.bind(null,ue,Se,E),[E]),ue.flags|=2048,Up(9,pT.bind(null,ue,Se,Z,z),void 0,null),Z},useId:function(){var E=kf(),z=fs.identifierPrefix;if(ho){var Z=dc,ue=vc;Z=(ue&~(1<<32-of(ue)-1)).toString(32)+Z,z=":"+z+"R"+Z,Z=Np++,0<Z&&(z+="H"+Z.toString(32)),z+=":"}else Z=z8++,z=":"+z+"r"+Z.toString(32)+":";return E.memoizedState=z},unstable_isNewReconciler:!1},U8={readContext:wu,useCallback:ST,useContext:wu,useEffect:Lx,useImperativeHandle:AT,useInsertionEffect:bT,useLayoutEffect:wT,useMemo:MT,useReducer:cm,useRef:xT,useState:function(){return cm(Bp)},useDebugValue:Px,useDeferredValue:function(E){var z=Tu();return ET(z,ts.memoizedState,E)},useTransition:function(){var E=cm(Bp)[0],z=Tu().memoizedState;return[E,z]},useMutableSource:hT,useSyncExternalStore:vT,useId:CT,unstable_isNewReconciler:!1},H8={readContext:wu,useCallback:ST,useContext:wu,useEffect:Lx,useImperativeHandle:AT,useInsertionEffect:bT,useLayoutEffect:wT,useMemo:MT,useReducer:hm,useRef:xT,useState:function(){return hm(Bp)},useDebugValue:Px,useDeferredValue:function(E){var z=Tu();return ts===null?z.memoizedState=E:ET(z,ts.memoizedState,E)},useTransition:function(){var E=hm(Bp)[0],z=Tu().memoizedState;return[E,z]},useMutableSource:hT,useSyncExternalStore:vT,useId:CT,unstable_isNewReconciler:!1};function tf(E,z){if(E&&E.defaultProps){z=Co({},z),E=E.defaultProps;for(var Z in E)z[Z]===void 0&&(z[Z]=E[Z]);return z}return z}function u1(E,z,Z,ue){z=E.memoizedState,Z=Z(ue,z),Z=Z==null?z:Co({},z,Z),E.memoizedState=Z,E.lanes===0&&(E.updateQueue.baseState=Z)}var Zg={isMounted:function(E){return(E=E._reactInternals)?bv(E)===E:!1},enqueueSetState:function(E,z,Z){E=E._reactInternals;var ue=el(),xe=wh(E),Se=gc(ue,xe);Se.payload=z,Z!=null&&(Se.callback=Z),z=xh(E,Se,xe),z!==null&&(sf(z,E,xe,ue),tg(z,E,xe))},enqueueReplaceState:function(E,z,Z){E=E._reactInternals;var ue=el(),xe=wh(E),Se=gc(ue,xe);Se.tag=1,Se.payload=z,Z!=null&&(Se.callback=Z),z=xh(E,Se,xe),z!==null&&(sf(z,E,xe,ue),tg(z,E,xe))},enqueueForceUpdate:function(E,z){E=E._reactInternals;var Z=el(),ue=wh(E),xe=gc(Z,ue);xe.tag=2,z!=null&&(xe.callback=z),z=xh(E,xe,ue),z!==null&&(sf(z,E,ue,Z),tg(z,E,ue))}};function hw(E,z,Z,ue,xe,Se,U){return E=E.stateNode,typeof E.shouldComponentUpdate=="function"?E.shouldComponentUpdate(ue,Se,U):z.prototype&&z.prototype.isPureReactComponent?!Dp(Z,ue)||!Dp(xe,Se):!0}function kT(E,z,Z){var ue=!1,xe=Sh,Se=z.contextType;return typeof Se=="object"&&Se!==null?Se=wu(Se):(xe=Al(z)?vv:Hs.current,ue=z.contextTypes,Se=(ue=ue!=null)?xd(E,xe):Sh),z=new z(Z,Se),E.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=Zg,E.stateNode=z,z._reactInternals=E,ue&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=xe,E.__reactInternalMemoizedMaskedChildContext=Se),z}function vw(E,z,Z,ue){E=z.state,typeof z.componentWillReceiveProps=="function"&&z.componentWillReceiveProps(Z,ue),typeof z.UNSAFE_componentWillReceiveProps=="function"&&z.UNSAFE_componentWillReceiveProps(Z,ue),z.state!==E&&Zg.enqueueReplaceState(z,z.state,null)}function f1(E,z,Z,ue){var xe=E.stateNode;xe.props=Z,xe.state=E.memoizedState,xe.refs={},wx(E);var Se=z.contextType;typeof Se=="object"&&Se!==null?xe.context=wu(Se):(Se=Al(z)?vv:Hs.current,xe.context=xd(E,Se)),xe.state=E.memoizedState,Se=z.getDerivedStateFromProps,typeof Se=="function"&&(u1(E,z,Se,Z),xe.state=E.memoizedState),typeof z.getDerivedStateFromProps=="function"||typeof xe.getSnapshotBeforeUpdate=="function"||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(z=xe.state,typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount(),z!==xe.state&&Zg.enqueueReplaceState(xe,xe.state,null),Eg(E,Z,xe,ue),xe.state=E.memoizedState),typeof xe.componentDidMount=="function"&&(E.flags|=4194308)}function Ad(E,z){try{var Z="",ue=z;do Z+=pE(ue),ue=ue.return;while(ue);var xe=Z}catch(Se){xe=`
Error generating stack: `+Se.message+`
`+Se.stack}return{value:E,source:z,stack:xe,digest:null}}function vm(E,z,Z){return{value:E,source:null,stack:Z??null,digest:z??null}}function c1(E,z){try{console.error(z.value)}catch(Z){setTimeout(function(){throw Z})}}var V8=typeof WeakMap=="function"?WeakMap:Map;function DT(E,z,Z){Z=gc(-1,Z),Z.tag=3,Z.payload={element:null};var ue=z.value;return Z.callback=function(){kg||(kg=!0,w1=ue),c1(E,z)},Z}function IT(E,z,Z){Z=gc(-1,Z),Z.tag=3;var ue=E.type.getDerivedStateFromError;if(typeof ue=="function"){var xe=z.value;Z.payload=function(){return ue(xe)},Z.callback=function(){c1(E,z)}}var Se=E.stateNode;return Se!==null&&typeof Se.componentDidCatch=="function"&&(Z.callback=function(){c1(E,z),typeof ue!="function"&&(bh===null?bh=new Set([this]):bh.add(this));var U=z.stack;this.componentDidCatch(z.value,{componentStack:U!==null?U:""})}),Z}function dw(E,z,Z){var ue=E.pingCache;if(ue===null){ue=E.pingCache=new V8;var xe=new Set;ue.set(z,xe)}else xe=ue.get(z),xe===void 0&&(xe=new Set,ue.set(z,xe));xe.has(Z)||(xe.add(Z),E=rC.bind(null,E,z,Z),z.then(E,E))}function pw(E){do{var z;if((z=E.tag===13)&&(z=E.memoizedState,z=z!==null?z.dehydrated!==null:!0),z)return E;E=E.return}while(E!==null);return null}function gw(E,z,Z,ue,xe){return E.mode&1?(E.flags|=65536,E.lanes=xe,E):(E===z?E.flags|=65536:(E.flags|=128,Z.flags|=131072,Z.flags&=-52805,Z.tag===1&&(Z.alternate===null?Z.tag=17:(z=gc(-1,1),z.tag=2,xh(Z,z,1))),Z.lanes|=1),E)}var G8=Tc.ReactCurrentOwner,wl=!1;function qs(E,z,Z,ue){z.child=E===null?lT(z,null,Z,ue):wd(z,E.child,Z,ue)}function yw(E,z,Z,ue,xe){Z=Z.render;var Se=z.ref;return hd(z,xe),ue=Ex(E,z,Z,ue,Se,xe),Z=Cx(),E!==null&&!wl?(z.updateQueue=E.updateQueue,z.flags&=-2053,E.lanes&=~xe,bc(E,z,xe)):(ho&&Z&&dx(z),z.flags|=1,qs(E,z,ue,xe),z.child)}function mw(E,z,Z,ue,xe){if(E===null){var Se=Z.type;return typeof Se=="function"&&!Fx(Se)&&Se.defaultProps===void 0&&Z.compare===null&&Z.defaultProps===void 0?(z.tag=15,z.type=Se,_T(E,z,Se,ue,xe)):(E=sg(Z.type,null,ue,z,z.mode,xe),E.ref=z.ref,E.return=z,z.child=E)}if(Se=E.child,!(E.lanes&xe)){var U=Se.memoizedProps;if(Z=Z.compare,Z=Z!==null?Z:Dp,Z(U,ue)&&E.ref===z.ref)return bc(E,z,xe)}return z.flags|=1,E=Th(Se,ue),E.ref=z.ref,E.return=z,z.child=E}function _T(E,z,Z,ue,xe){if(E!==null){var Se=E.memoizedProps;if(Dp(Se,ue)&&E.ref===z.ref)if(wl=!1,z.pendingProps=ue=Se,(E.lanes&xe)!==0)E.flags&131072&&(wl=!0);else return z.lanes=E.lanes,bc(E,z,xe)}return h1(E,z,Z,ue,xe)}function zT(E,z,Z){var ue=z.pendingProps,xe=ue.children,Se=E!==null?E.memoizedState:null;if(ue.mode==="hidden")if(!(z.mode&1))z.memoizedState={baseLanes:0,cachePool:null,transitions:null},$i(sd,Ul),Ul|=Z;else{if(!(Z&1073741824))return E=Se!==null?Se.baseLanes|Z:Z,z.lanes=z.childLanes=1073741824,z.memoizedState={baseLanes:E,cachePool:null,transitions:null},z.updateQueue=null,$i(sd,Ul),Ul|=E,null;z.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue=Se!==null?Se.baseLanes:Z,$i(sd,Ul),Ul|=ue}else Se!==null?(ue=Se.baseLanes|Z,z.memoizedState=null):ue=Z,$i(sd,Ul),Ul|=ue;return qs(E,z,xe,Z),z.child}function OT(E,z){var Z=z.ref;(E===null&&Z!==null||E!==null&&E.ref!==Z)&&(z.flags|=512,z.flags|=2097152)}function h1(E,z,Z,ue,xe){var Se=Al(Z)?vv:Hs.current;return Se=xd(z,Se),hd(z,xe),Z=Ex(E,z,Z,ue,Se,xe),ue=Cx(),E!==null&&!wl?(z.updateQueue=E.updateQueue,z.flags&=-2053,E.lanes&=~xe,bc(E,z,xe)):(ho&&ue&&dx(z),z.flags|=1,qs(E,z,Z,xe),z.child)}function xw(E,z,Z,ue,xe){if(Al(Z)){var Se=!0;wg(z)}else Se=!1;if(hd(z,xe),z.stateNode===null)ag(E,z),kT(z,Z,ue),f1(z,Z,ue,xe),ue=!0;else if(E===null){var U=z.stateNode,N=z.memoizedProps;U.props=N;var e=U.context,d=Z.contextType;typeof d=="object"&&d!==null?d=wu(d):(d=Al(Z)?vv:Hs.current,d=xd(z,d));var P=Z.getDerivedStateFromProps,n=typeof P=="function"||typeof U.getSnapshotBeforeUpdate=="function";n||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(N!==ue||e!==d)&&vw(z,U,ue,d),uh=!1;var C=z.memoizedState;U.state=C,Eg(z,ue,U,xe),e=z.memoizedState,N!==ue||C!==e||Tl.current||uh?(typeof P=="function"&&(u1(z,Z,P,ue),e=z.memoizedState),(N=uh||hw(z,Z,N,ue,C,e,d))?(n||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(z.flags|=4194308)):(typeof U.componentDidMount=="function"&&(z.flags|=4194308),z.memoizedProps=ue,z.memoizedState=e),U.props=ue,U.state=e,U.context=d,ue=N):(typeof U.componentDidMount=="function"&&(z.flags|=4194308),ue=!1)}else{U=z.stateNode,fT(E,z),N=z.memoizedProps,d=z.type===z.elementType?N:tf(z.type,N),U.props=d,n=z.pendingProps,C=U.context,e=Z.contextType,typeof e=="object"&&e!==null?e=wu(e):(e=Al(Z)?vv:Hs.current,e=xd(z,e));var x=Z.getDerivedStateFromProps;(P=typeof x=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(N!==n||C!==e)&&vw(z,U,ue,e),uh=!1,C=z.memoizedState,U.state=C,Eg(z,ue,U,xe);var v=z.memoizedState;N!==n||C!==v||Tl.current||uh?(typeof x=="function"&&(u1(z,Z,x,ue),v=z.memoizedState),(d=uh||hw(z,Z,d,ue,C,v,e)||!1)?(P||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(ue,v,e),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(ue,v,e)),typeof U.componentDidUpdate=="function"&&(z.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(z.flags|=1024)):(typeof U.componentDidUpdate!="function"||N===E.memoizedProps&&C===E.memoizedState||(z.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||N===E.memoizedProps&&C===E.memoizedState||(z.flags|=1024),z.memoizedProps=ue,z.memoizedState=v),U.props=ue,U.state=v,U.context=e,ue=d):(typeof U.componentDidUpdate!="function"||N===E.memoizedProps&&C===E.memoizedState||(z.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||N===E.memoizedProps&&C===E.memoizedState||(z.flags|=1024),ue=!1)}return v1(E,z,Z,ue,Se,xe)}function v1(E,z,Z,ue,xe,Se){OT(E,z);var U=(z.flags&128)!==0;if(!ue&&!U)return xe&&aw(z,Z,!1),bc(E,z,Se);ue=z.stateNode,G8.current=z;var N=U&&typeof Z.getDerivedStateFromError!="function"?null:ue.render();return z.flags|=1,E!==null&&U?(z.child=wd(z,E.child,null,Se),z.child=wd(z,null,N,Se)):qs(E,z,N,Se),z.memoizedState=ue.state,xe&&aw(z,Z,!0),z.child}function FT(E){var z=E.stateNode;z.pendingContext?nw(E,z.pendingContext,z.pendingContext!==z.context):z.context&&nw(E,z.context,!1),Tx(E,z.containerInfo)}function bw(E,z,Z,ue,xe){return bd(),gx(xe),z.flags|=256,qs(E,z,Z,ue),z.child}var d1={dehydrated:null,treeContext:null,retryLane:0};function p1(E){return{baseLanes:E,cachePool:null,transitions:null}}function NT(E,z,Z){var ue=z.pendingProps,xe=Mo.current,Se=!1,U=(z.flags&128)!==0,N;if((N=U)||(N=E!==null&&E.memoizedState===null?!1:(xe&2)!==0),N?(Se=!0,z.flags&=-129):(E===null||E.memoizedState!==null)&&(xe|=1),$i(Mo,xe&1),E===null)return s1(z),E=z.memoizedState,E!==null&&(E=E.dehydrated,E!==null)?(z.mode&1?E.data==="$!"?z.lanes=8:z.lanes=1073741824:z.lanes=1,null):(U=ue.children,E=ue.fallback,Se?(ue=z.mode,Se=z.child,U={mode:"hidden",children:U},!(ue&1)&&Se!==null?(Se.childLanes=0,Se.pendingProps=U):Se=Qg(U,ue,0,null),E=hv(E,ue,Z,null),Se.return=z,E.return=z,Se.sibling=E,z.child=Se,z.child.memoizedState=p1(Z),z.memoizedState=d1,E):Rx(z,U));if(xe=E.memoizedState,xe!==null&&(N=xe.dehydrated,N!==null))return W8(E,z,U,ue,N,xe,Z);if(Se){Se=ue.fallback,U=z.mode,xe=E.child,N=xe.sibling;var e={mode:"hidden",children:ue.children};return!(U&1)&&z.child!==xe?(ue=z.child,ue.childLanes=0,ue.pendingProps=e,z.deletions=null):(ue=Th(xe,e),ue.subtreeFlags=xe.subtreeFlags&14680064),N!==null?Se=Th(N,Se):(Se=hv(Se,U,Z,null),Se.flags|=2),Se.return=z,ue.return=z,ue.sibling=Se,z.child=ue,ue=Se,Se=z.child,U=E.child.memoizedState,U=U===null?p1(Z):{baseLanes:U.baseLanes|Z,cachePool:null,transitions:U.transitions},Se.memoizedState=U,Se.childLanes=E.childLanes&~Z,z.memoizedState=d1,ue}return Se=E.child,E=Se.sibling,ue=Th(Se,{mode:"visible",children:ue.children}),!(z.mode&1)&&(ue.lanes=Z),ue.return=z,ue.sibling=null,E!==null&&(Z=z.deletions,Z===null?(z.deletions=[E],z.flags|=16):Z.push(E)),z.child=ue,z.memoizedState=null,ue}function Rx(E,z){return z=Qg({mode:"visible",children:z},E.mode,0,null),z.return=E,E.child=z}function B0(E,z,Z,ue){return ue!==null&&gx(ue),wd(z,E.child,null,Z),E=Rx(z,z.pendingProps.children),E.flags|=2,z.memoizedState=null,E}function W8(E,z,Z,ue,xe,Se,U){if(Z)return z.flags&256?(z.flags&=-257,ue=vm(Error(ma(422))),B0(E,z,U,ue)):z.memoizedState!==null?(z.child=E.child,z.flags|=128,null):(Se=ue.fallback,xe=z.mode,ue=Qg({mode:"visible",children:ue.children},xe,0,null),Se=hv(Se,xe,U,null),Se.flags|=2,ue.return=z,Se.return=z,ue.sibling=Se,z.child=ue,z.mode&1&&wd(z,E.child,null,U),z.child.memoizedState=p1(U),z.memoizedState=d1,Se);if(!(z.mode&1))return B0(E,z,U,null);if(xe.data==="$!"){if(ue=xe.nextSibling&&xe.nextSibling.dataset,ue)var N=ue.dgst;return ue=N,Se=Error(ma(419)),ue=vm(Se,ue,void 0),B0(E,z,U,ue)}if(N=(U&E.childLanes)!==0,wl||N){if(ue=fs,ue!==null){switch(U&-U){case 4:xe=2;break;case 16:xe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xe=32;break;case 536870912:xe=268435456;break;default:xe=0}xe=xe&(ue.suspendedLanes|U)?0:xe,xe!==0&&xe!==Se.retryLane&&(Se.retryLane=xe,xc(E,xe),sf(ue,E,xe,-1))}return Ox(),ue=vm(Error(ma(421))),B0(E,z,U,ue)}return xe.data==="$?"?(z.flags|=128,z.child=E.child,z=nC.bind(null,E),xe._reactRetry=z,null):(E=Se.treeContext,Hl=mh(xe.nextSibling),Vl=z,ho=!0,nf=null,E!==null&&(gu[yu++]=vc,gu[yu++]=dc,gu[yu++]=dv,vc=E.id,dc=E.overflow,dv=z),z=Rx(z,ue.children),z.flags|=4096,z)}function ww(E,z,Z){E.lanes|=z;var ue=E.alternate;ue!==null&&(ue.lanes|=z),l1(E.return,z,Z)}function dm(E,z,Z,ue,xe){var Se=E.memoizedState;Se===null?E.memoizedState={isBackwards:z,rendering:null,renderingStartTime:0,last:ue,tail:Z,tailMode:xe}:(Se.isBackwards=z,Se.rendering=null,Se.renderingStartTime=0,Se.last=ue,Se.tail=Z,Se.tailMode=xe)}function BT(E,z,Z){var ue=z.pendingProps,xe=ue.revealOrder,Se=ue.tail;if(qs(E,z,ue.children,Z),ue=Mo.current,ue&2)ue=ue&1|2,z.flags|=128;else{if(E!==null&&E.flags&128)e:for(E=z.child;E!==null;){if(E.tag===13)E.memoizedState!==null&&ww(E,Z,z);else if(E.tag===19)ww(E,Z,z);else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===z)break e;for(;E.sibling===null;){if(E.return===null||E.return===z)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}ue&=1}if($i(Mo,ue),!(z.mode&1))z.memoizedState=null;else switch(xe){case"forwards":for(Z=z.child,xe=null;Z!==null;)E=Z.alternate,E!==null&&Cg(E)===null&&(xe=Z),Z=Z.sibling;Z=xe,Z===null?(xe=z.child,z.child=null):(xe=Z.sibling,Z.sibling=null),dm(z,!1,xe,Z,Se);break;case"backwards":for(Z=null,xe=z.child,z.child=null;xe!==null;){if(E=xe.alternate,E!==null&&Cg(E)===null){z.child=xe;break}E=xe.sibling,xe.sibling=Z,Z=xe,xe=E}dm(z,!0,Z,null,Se);break;case"together":dm(z,!1,null,null,void 0);break;default:z.memoizedState=null}return z.child}function ag(E,z){!(z.mode&1)&&E!==null&&(E.alternate=null,z.alternate=null,z.flags|=2)}function bc(E,z,Z){if(E!==null&&(z.dependencies=E.dependencies),gv|=z.lanes,!(Z&z.childLanes))return null;if(E!==null&&z.child!==E.child)throw Error(ma(153));if(z.child!==null){for(E=z.child,Z=Th(E,E.pendingProps),z.child=Z,Z.return=z;E.sibling!==null;)E=E.sibling,Z=Z.sibling=Th(E,E.pendingProps),Z.return=z;Z.sibling=null}return z.child}function j8(E,z,Z){switch(z.tag){case 3:FT(z),bd();break;case 5:cT(z);break;case 1:Al(z.type)&&wg(z);break;case 4:Tx(z,z.stateNode.containerInfo);break;case 10:var ue=z.type._context,xe=z.memoizedProps.value;$i(Sg,ue._currentValue),ue._currentValue=xe;break;case 13:if(ue=z.memoizedState,ue!==null)return ue.dehydrated!==null?($i(Mo,Mo.current&1),z.flags|=128,null):Z&z.child.childLanes?NT(E,z,Z):($i(Mo,Mo.current&1),E=bc(E,z,Z),E!==null?E.sibling:null);$i(Mo,Mo.current&1);break;case 19:if(ue=(Z&z.childLanes)!==0,E.flags&128){if(ue)return BT(E,z,Z);z.flags|=128}if(xe=z.memoizedState,xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),$i(Mo,Mo.current),ue)break;return null;case 22:case 23:return z.lanes=0,zT(E,z,Z)}return bc(E,z,Z)}var UT,g1,HT,VT;UT=function(E,z){for(var Z=z.child;Z!==null;){if(Z.tag===5||Z.tag===6)E.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===z)break;for(;Z.sibling===null;){if(Z.return===null||Z.return===z)return;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}};g1=function(){};HT=function(E,z,Z,ue){var xe=E.memoizedProps;if(xe!==ue){E=z.stateNode,fv(Ff.current);var Se=null;switch(Z){case"input":xe=Nm(E,xe),ue=Nm(E,ue),Se=[];break;case"select":xe=Co({},xe,{value:void 0}),ue=Co({},ue,{value:void 0}),Se=[];break;case"textarea":xe=Hm(E,xe),ue=Hm(E,ue),Se=[];break;default:typeof xe.onClick!="function"&&typeof ue.onClick=="function"&&(E.onclick=xg)}Gm(Z,ue);var U;Z=null;for(d in xe)if(!ue.hasOwnProperty(d)&&xe.hasOwnProperty(d)&&xe[d]!=null)if(d==="style"){var N=xe[d];for(U in N)N.hasOwnProperty(U)&&(Z||(Z={}),Z[U]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Mp.hasOwnProperty(d)?Se||(Se=[]):(Se=Se||[]).push(d,null));for(d in ue){var e=ue[d];if(N=xe!=null?xe[d]:void 0,ue.hasOwnProperty(d)&&e!==N&&(e!=null||N!=null))if(d==="style")if(N){for(U in N)!N.hasOwnProperty(U)||e&&e.hasOwnProperty(U)||(Z||(Z={}),Z[U]="");for(U in e)e.hasOwnProperty(U)&&N[U]!==e[U]&&(Z||(Z={}),Z[U]=e[U])}else Z||(Se||(Se=[]),Se.push(d,Z)),Z=e;else d==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,N=N?N.__html:void 0,e!=null&&N!==e&&(Se=Se||[]).push(d,e)):d==="children"?typeof e!="string"&&typeof e!="number"||(Se=Se||[]).push(d,""+e):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(d)?(e!=null&&d==="onScroll"&&io("scroll",E),Se||N===e||(Se=[])):(Se=Se||[]).push(d,e))}Z&&(Se=Se||[]).push("style",Z);var d=Se;(z.updateQueue=d)&&(z.flags|=4)}};VT=function(E,z,Z,ue){Z!==ue&&(z.flags|=4)};function op(E,z){if(!ho)switch(E.tailMode){case"hidden":z=E.tail;for(var Z=null;z!==null;)z.alternate!==null&&(Z=z),z=z.sibling;Z===null?E.tail=null:Z.sibling=null;break;case"collapsed":Z=E.tail;for(var ue=null;Z!==null;)Z.alternate!==null&&(ue=Z),Z=Z.sibling;ue===null?z||E.tail===null?E.tail=null:E.tail.sibling=null:ue.sibling=null}}function Bs(E){var z=E.alternate!==null&&E.alternate.child===E.child,Z=0,ue=0;if(z)for(var xe=E.child;xe!==null;)Z|=xe.lanes|xe.childLanes,ue|=xe.subtreeFlags&14680064,ue|=xe.flags&14680064,xe.return=E,xe=xe.sibling;else for(xe=E.child;xe!==null;)Z|=xe.lanes|xe.childLanes,ue|=xe.subtreeFlags,ue|=xe.flags,xe.return=E,xe=xe.sibling;return E.subtreeFlags|=ue,E.childLanes=Z,z}function Y8(E,z,Z){var ue=z.pendingProps;switch(px(z),z.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(z),null;case 1:return Al(z.type)&&bg(),Bs(z),null;case 3:return ue=z.stateNode,Td(),oo(Tl),oo(Hs),Sx(),ue.pendingContext&&(ue.context=ue.pendingContext,ue.pendingContext=null),(E===null||E.child===null)&&(F0(z)?z.flags|=4:E===null||E.memoizedState.isDehydrated&&!(z.flags&256)||(z.flags|=1024,nf!==null&&(S1(nf),nf=null))),g1(E,z),Bs(z),null;case 5:Ax(z);var xe=fv(Fp.current);if(Z=z.type,E!==null&&z.stateNode!=null)HT(E,z,Z,ue,xe),E.ref!==z.ref&&(z.flags|=512,z.flags|=2097152);else{if(!ue){if(z.stateNode===null)throw Error(ma(166));return Bs(z),null}if(E=fv(Ff.current),F0(z)){ue=z.stateNode,Z=z.type;var Se=z.memoizedProps;switch(ue[If]=z,ue[zp]=Se,E=(z.mode&1)!==0,Z){case"dialog":io("cancel",ue),io("close",ue);break;case"iframe":case"object":case"embed":io("load",ue);break;case"video":case"audio":for(xe=0;xe<hp.length;xe++)io(hp[xe],ue);break;case"source":io("error",ue);break;case"img":case"image":case"link":io("error",ue),io("load",ue);break;case"details":io("toggle",ue);break;case"input":R3(ue,Se),io("invalid",ue);break;case"select":ue._wrapperState={wasMultiple:!!Se.multiple},io("invalid",ue);break;case"textarea":D3(ue,Se),io("invalid",ue)}Gm(Z,Se),xe=null;for(var U in Se)if(Se.hasOwnProperty(U)){var N=Se[U];U==="children"?typeof N=="string"?ue.textContent!==N&&(Se.suppressHydrationWarning!==!0&&O0(ue.textContent,N,E),xe=["children",N]):typeof N=="number"&&ue.textContent!==""+N&&(Se.suppressHydrationWarning!==!0&&O0(ue.textContent,N,E),xe=["children",""+N]):Mp.hasOwnProperty(U)&&N!=null&&U==="onScroll"&&io("scroll",ue)}switch(Z){case"input":L0(ue),k3(ue,Se,!0);break;case"textarea":L0(ue),I3(ue);break;case"select":case"option":break;default:typeof Se.onClick=="function"&&(ue.onclick=xg)}ue=xe,z.updateQueue=ue,ue!==null&&(z.flags|=4)}else{U=xe.nodeType===9?xe:xe.ownerDocument,E==="http://www.w3.org/1999/xhtml"&&(E=g4(Z)),E==="http://www.w3.org/1999/xhtml"?Z==="script"?(E=U.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild)):typeof ue.is=="string"?E=U.createElement(Z,{is:ue.is}):(E=U.createElement(Z),Z==="select"&&(U=E,ue.multiple?U.multiple=!0:ue.size&&(U.size=ue.size))):E=U.createElementNS(E,Z),E[If]=z,E[zp]=ue,UT(E,z,!1,!1),z.stateNode=E;e:{switch(U=Wm(Z,ue),Z){case"dialog":io("cancel",E),io("close",E),xe=ue;break;case"iframe":case"object":case"embed":io("load",E),xe=ue;break;case"video":case"audio":for(xe=0;xe<hp.length;xe++)io(hp[xe],E);xe=ue;break;case"source":io("error",E),xe=ue;break;case"img":case"image":case"link":io("error",E),io("load",E),xe=ue;break;case"details":io("toggle",E),xe=ue;break;case"input":R3(E,ue),xe=Nm(E,ue),io("invalid",E);break;case"option":xe=ue;break;case"select":E._wrapperState={wasMultiple:!!ue.multiple},xe=Co({},ue,{value:void 0}),io("invalid",E);break;case"textarea":D3(E,ue),xe=Hm(E,ue),io("invalid",E);break;default:xe=ue}Gm(Z,xe),N=xe;for(Se in N)if(N.hasOwnProperty(Se)){var e=N[Se];Se==="style"?x4(E,e):Se==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&y4(E,e)):Se==="children"?typeof e=="string"?(Z!=="textarea"||e!=="")&&Ep(E,e):typeof e=="number"&&Ep(E,""+e):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(Mp.hasOwnProperty(Se)?e!=null&&Se==="onScroll"&&io("scroll",E):e!=null&&ex(E,Se,e,U))}switch(Z){case"input":L0(E),k3(E,ue,!1);break;case"textarea":L0(E),I3(E);break;case"option":ue.value!=null&&E.setAttribute("value",""+Ah(ue.value));break;case"select":E.multiple=!!ue.multiple,Se=ue.value,Se!=null?ld(E,!!ue.multiple,Se,!1):ue.defaultValue!=null&&ld(E,!!ue.multiple,ue.defaultValue,!0);break;default:typeof xe.onClick=="function"&&(E.onclick=xg)}switch(Z){case"button":case"input":case"select":case"textarea":ue=!!ue.autoFocus;break e;case"img":ue=!0;break e;default:ue=!1}}ue&&(z.flags|=4)}z.ref!==null&&(z.flags|=512,z.flags|=2097152)}return Bs(z),null;case 6:if(E&&z.stateNode!=null)VT(E,z,E.memoizedProps,ue);else{if(typeof ue!="string"&&z.stateNode===null)throw Error(ma(166));if(Z=fv(Fp.current),fv(Ff.current),F0(z)){if(ue=z.stateNode,Z=z.memoizedProps,ue[If]=z,(Se=ue.nodeValue!==Z)&&(E=Vl,E!==null))switch(E.tag){case 3:O0(ue.nodeValue,Z,(E.mode&1)!==0);break;case 5:E.memoizedProps.suppressHydrationWarning!==!0&&O0(ue.nodeValue,Z,(E.mode&1)!==0)}Se&&(z.flags|=4)}else ue=(Z.nodeType===9?Z:Z.ownerDocument).createTextNode(ue),ue[If]=z,z.stateNode=ue}return Bs(z),null;case 13:if(oo(Mo),ue=z.memoizedState,E===null||E.memoizedState!==null&&E.memoizedState.dehydrated!==null){if(ho&&Hl!==null&&z.mode&1&&!(z.flags&128))oT(),bd(),z.flags|=98560,Se=!1;else if(Se=F0(z),ue!==null&&ue.dehydrated!==null){if(E===null){if(!Se)throw Error(ma(318));if(Se=z.memoizedState,Se=Se!==null?Se.dehydrated:null,!Se)throw Error(ma(317));Se[If]=z}else bd(),!(z.flags&128)&&(z.memoizedState=null),z.flags|=4;Bs(z),Se=!1}else nf!==null&&(S1(nf),nf=null),Se=!0;if(!Se)return z.flags&65536?z:null}return z.flags&128?(z.lanes=Z,z):(ue=ue!==null,ue!==(E!==null&&E.memoizedState!==null)&&ue&&(z.child.flags|=8192,z.mode&1&&(E===null||Mo.current&1?rs===0&&(rs=3):Ox())),z.updateQueue!==null&&(z.flags|=4),Bs(z),null);case 4:return Td(),g1(E,z),E===null&&Ip(z.stateNode.containerInfo),Bs(z),null;case 10:return xx(z.type._context),Bs(z),null;case 17:return Al(z.type)&&bg(),Bs(z),null;case 19:if(oo(Mo),Se=z.memoizedState,Se===null)return Bs(z),null;if(ue=(z.flags&128)!==0,U=Se.rendering,U===null)if(ue)op(Se,!1);else{if(rs!==0||E!==null&&E.flags&128)for(E=z.child;E!==null;){if(U=Cg(E),U!==null){for(z.flags|=128,op(Se,!1),ue=U.updateQueue,ue!==null&&(z.updateQueue=ue,z.flags|=4),z.subtreeFlags=0,ue=Z,Z=z.child;Z!==null;)Se=Z,E=ue,Se.flags&=14680066,U=Se.alternate,U===null?(Se.childLanes=0,Se.lanes=E,Se.child=null,Se.subtreeFlags=0,Se.memoizedProps=null,Se.memoizedState=null,Se.updateQueue=null,Se.dependencies=null,Se.stateNode=null):(Se.childLanes=U.childLanes,Se.lanes=U.lanes,Se.child=U.child,Se.subtreeFlags=0,Se.deletions=null,Se.memoizedProps=U.memoizedProps,Se.memoizedState=U.memoizedState,Se.updateQueue=U.updateQueue,Se.type=U.type,E=U.dependencies,Se.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),Z=Z.sibling;return $i(Mo,Mo.current&1|2),z.child}E=E.sibling}Se.tail!==null&&Vo()>Sd&&(z.flags|=128,ue=!0,op(Se,!1),z.lanes=4194304)}else{if(!ue)if(E=Cg(U),E!==null){if(z.flags|=128,ue=!0,Z=E.updateQueue,Z!==null&&(z.updateQueue=Z,z.flags|=4),op(Se,!0),Se.tail===null&&Se.tailMode==="hidden"&&!U.alternate&&!ho)return Bs(z),null}else 2*Vo()-Se.renderingStartTime>Sd&&Z!==1073741824&&(z.flags|=128,ue=!0,op(Se,!1),z.lanes=4194304);Se.isBackwards?(U.sibling=z.child,z.child=U):(Z=Se.last,Z!==null?Z.sibling=U:z.child=U,Se.last=U)}return Se.tail!==null?(z=Se.tail,Se.rendering=z,Se.tail=z.sibling,Se.renderingStartTime=Vo(),z.sibling=null,Z=Mo.current,$i(Mo,ue?Z&1|2:Z&1),z):(Bs(z),null);case 22:case 23:return zx(),ue=z.memoizedState!==null,E!==null&&E.memoizedState!==null!==ue&&(z.flags|=8192),ue&&z.mode&1?Ul&1073741824&&(Bs(z),z.subtreeFlags&6&&(z.flags|=8192)):Bs(z),null;case 24:return null;case 25:return null}throw Error(ma(156,z.tag))}function X8(E,z){switch(px(z),z.tag){case 1:return Al(z.type)&&bg(),E=z.flags,E&65536?(z.flags=E&-65537|128,z):null;case 3:return Td(),oo(Tl),oo(Hs),Sx(),E=z.flags,E&65536&&!(E&128)?(z.flags=E&-65537|128,z):null;case 5:return Ax(z),null;case 13:if(oo(Mo),E=z.memoizedState,E!==null&&E.dehydrated!==null){if(z.alternate===null)throw Error(ma(340));bd()}return E=z.flags,E&65536?(z.flags=E&-65537|128,z):null;case 19:return oo(Mo),null;case 4:return Td(),null;case 10:return xx(z.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var U0=!1,Us=!1,Z8=typeof WeakSet=="function"?WeakSet:Set,za=null;function od(E,z){var Z=E.ref;if(Z!==null)if(typeof Z=="function")try{Z(null)}catch(ue){_o(E,z,ue)}else Z.current=null}function y1(E,z,Z){try{Z()}catch(ue){_o(E,z,ue)}}var Tw=!1;function K8(E,z){if(e1=gg,E=X4(),vx(E)){if("selectionStart"in E)var Z={start:E.selectionStart,end:E.selectionEnd};else e:{Z=(Z=E.ownerDocument)&&Z.defaultView||window;var ue=Z.getSelection&&Z.getSelection();if(ue&&ue.rangeCount!==0){Z=ue.anchorNode;var xe=ue.anchorOffset,Se=ue.focusNode;ue=ue.focusOffset;try{Z.nodeType,Se.nodeType}catch{Z=null;break e}var U=0,N=-1,e=-1,d=0,P=0,n=E,C=null;t:for(;;){for(var x;n!==Z||xe!==0&&n.nodeType!==3||(N=U+xe),n!==Se||ue!==0&&n.nodeType!==3||(e=U+ue),n.nodeType===3&&(U+=n.nodeValue.length),(x=n.firstChild)!==null;)C=n,n=x;for(;;){if(n===E)break t;if(C===Z&&++d===xe&&(N=U),C===Se&&++P===ue&&(e=U),(x=n.nextSibling)!==null)break;n=C,C=n.parentNode}n=x}Z=N===-1||e===-1?null:{start:N,end:e}}else Z=null}Z=Z||{start:0,end:0}}else Z=null;for(t1={focusedElem:E,selectionRange:Z},gg=!1,za=z;za!==null;)if(z=za,E=z.child,(z.subtreeFlags&1028)!==0&&E!==null)E.return=z,za=E;else for(;za!==null;){z=za;try{var v=z.alternate;if(z.flags&1024)switch(z.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=z.stateNode,o=t.getSnapshotBeforeUpdate(z.elementType===z.type?p:tf(z.type,p),r);t.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var a=z.stateNode.containerInfo;a.nodeType===1?a.textContent="":a.nodeType===9&&a.documentElement&&a.removeChild(a.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ma(163))}}catch(u){_o(z,z.return,u)}if(E=z.sibling,E!==null){E.return=z.return,za=E;break}za=z.return}return v=Tw,Tw=!1,v}function wp(E,z,Z){var ue=z.updateQueue;if(ue=ue!==null?ue.lastEffect:null,ue!==null){var xe=ue=ue.next;do{if((xe.tag&E)===E){var Se=xe.destroy;xe.destroy=void 0,Se!==void 0&&y1(z,Z,Se)}xe=xe.next}while(xe!==ue)}}function Kg(E,z){if(z=z.updateQueue,z=z!==null?z.lastEffect:null,z!==null){var Z=z=z.next;do{if((Z.tag&E)===E){var ue=Z.create;Z.destroy=ue()}Z=Z.next}while(Z!==z)}}function m1(E){var z=E.ref;if(z!==null){var Z=E.stateNode;switch(E.tag){case 5:E=Z;break;default:E=Z}typeof z=="function"?z(E):z.current=E}}function GT(E){var z=E.alternate;z!==null&&(E.alternate=null,GT(z)),E.child=null,E.deletions=null,E.sibling=null,E.tag===5&&(z=E.stateNode,z!==null&&(delete z[If],delete z[zp],delete z[a1],delete z[k8],delete z[D8])),E.stateNode=null,E.return=null,E.dependencies=null,E.memoizedProps=null,E.memoizedState=null,E.pendingProps=null,E.stateNode=null,E.updateQueue=null}function WT(E){return E.tag===5||E.tag===3||E.tag===4}function Aw(E){e:for(;;){for(;E.sibling===null;){if(E.return===null||WT(E.return))return null;E=E.return}for(E.sibling.return=E.return,E=E.sibling;E.tag!==5&&E.tag!==6&&E.tag!==18;){if(E.flags&2||E.child===null||E.tag===4)continue e;E.child.return=E,E=E.child}if(!(E.flags&2))return E.stateNode}}function x1(E,z,Z){var ue=E.tag;if(ue===5||ue===6)E=E.stateNode,z?Z.nodeType===8?Z.parentNode.insertBefore(E,z):Z.insertBefore(E,z):(Z.nodeType===8?(z=Z.parentNode,z.insertBefore(E,Z)):(z=Z,z.appendChild(E)),Z=Z._reactRootContainer,Z!=null||z.onclick!==null||(z.onclick=xg));else if(ue!==4&&(E=E.child,E!==null))for(x1(E,z,Z),E=E.sibling;E!==null;)x1(E,z,Z),E=E.sibling}function b1(E,z,Z){var ue=E.tag;if(ue===5||ue===6)E=E.stateNode,z?Z.insertBefore(E,z):Z.appendChild(E);else if(ue!==4&&(E=E.child,E!==null))for(b1(E,z,Z),E=E.sibling;E!==null;)b1(E,z,Z),E=E.sibling}var Ms=null,rf=!1;function oh(E,z,Z){for(Z=Z.child;Z!==null;)jT(E,z,Z),Z=Z.sibling}function jT(E,z,Z){if(Of&&typeof Of.onCommitFiberUnmount=="function")try{Of.onCommitFiberUnmount(Hg,Z)}catch{}switch(Z.tag){case 5:Us||od(Z,z);case 6:var ue=Ms,xe=rf;Ms=null,oh(E,z,Z),Ms=ue,rf=xe,Ms!==null&&(rf?(E=Ms,Z=Z.stateNode,E.nodeType===8?E.parentNode.removeChild(Z):E.removeChild(Z)):Ms.removeChild(Z.stateNode));break;case 18:Ms!==null&&(rf?(E=Ms,Z=Z.stateNode,E.nodeType===8?sm(E.parentNode,Z):E.nodeType===1&&sm(E,Z),Rp(E)):sm(Ms,Z.stateNode));break;case 4:ue=Ms,xe=rf,Ms=Z.stateNode.containerInfo,rf=!0,oh(E,z,Z),Ms=ue,rf=xe;break;case 0:case 11:case 14:case 15:if(!Us&&(ue=Z.updateQueue,ue!==null&&(ue=ue.lastEffect,ue!==null))){xe=ue=ue.next;do{var Se=xe,U=Se.destroy;Se=Se.tag,U!==void 0&&(Se&2||Se&4)&&y1(Z,z,U),xe=xe.next}while(xe!==ue)}oh(E,z,Z);break;case 1:if(!Us&&(od(Z,z),ue=Z.stateNode,typeof ue.componentWillUnmount=="function"))try{ue.props=Z.memoizedProps,ue.state=Z.memoizedState,ue.componentWillUnmount()}catch(N){_o(Z,z,N)}oh(E,z,Z);break;case 21:oh(E,z,Z);break;case 22:Z.mode&1?(Us=(ue=Us)||Z.memoizedState!==null,oh(E,z,Z),Us=ue):oh(E,z,Z);break;default:oh(E,z,Z)}}function Sw(E){var z=E.updateQueue;if(z!==null){E.updateQueue=null;var Z=E.stateNode;Z===null&&(Z=E.stateNode=new Z8),z.forEach(function(ue){var xe=aC.bind(null,E,ue);Z.has(ue)||(Z.add(ue),ue.then(xe,xe))})}}function qu(E,z){var Z=z.deletions;if(Z!==null)for(var ue=0;ue<Z.length;ue++){var xe=Z[ue];try{var Se=E,U=z,N=U;e:for(;N!==null;){switch(N.tag){case 5:Ms=N.stateNode,rf=!1;break e;case 3:Ms=N.stateNode.containerInfo,rf=!0;break e;case 4:Ms=N.stateNode.containerInfo,rf=!0;break e}N=N.return}if(Ms===null)throw Error(ma(160));jT(Se,U,xe),Ms=null,rf=!1;var e=xe.alternate;e!==null&&(e.return=null),xe.return=null}catch(d){_o(xe,z,d)}}if(z.subtreeFlags&12854)for(z=z.child;z!==null;)YT(z,E),z=z.sibling}function YT(E,z){var Z=E.alternate,ue=E.flags;switch(E.tag){case 0:case 11:case 14:case 15:if(qu(z,E),Pf(E),ue&4){try{wp(3,E,E.return),Kg(3,E)}catch(p){_o(E,E.return,p)}try{wp(5,E,E.return)}catch(p){_o(E,E.return,p)}}break;case 1:qu(z,E),Pf(E),ue&512&&Z!==null&&od(Z,Z.return);break;case 5:if(qu(z,E),Pf(E),ue&512&&Z!==null&&od(Z,Z.return),E.flags&32){var xe=E.stateNode;try{Ep(xe,"")}catch(p){_o(E,E.return,p)}}if(ue&4&&(xe=E.stateNode,xe!=null)){var Se=E.memoizedProps,U=Z!==null?Z.memoizedProps:Se,N=E.type,e=E.updateQueue;if(E.updateQueue=null,e!==null)try{N==="input"&&Se.type==="radio"&&Se.name!=null&&d4(xe,Se),Wm(N,U);var d=Wm(N,Se);for(U=0;U<e.length;U+=2){var P=e[U],n=e[U+1];P==="style"?x4(xe,n):P==="dangerouslySetInnerHTML"?y4(xe,n):P==="children"?Ep(xe,n):ex(xe,P,n,d)}switch(N){case"input":Bm(xe,Se);break;case"textarea":p4(xe,Se);break;case"select":var C=xe._wrapperState.wasMultiple;xe._wrapperState.wasMultiple=!!Se.multiple;var x=Se.value;x!=null?ld(xe,!!Se.multiple,x,!1):C!==!!Se.multiple&&(Se.defaultValue!=null?ld(xe,!!Se.multiple,Se.defaultValue,!0):ld(xe,!!Se.multiple,Se.multiple?[]:"",!1))}xe[zp]=Se}catch(p){_o(E,E.return,p)}}break;case 6:if(qu(z,E),Pf(E),ue&4){if(E.stateNode===null)throw Error(ma(162));xe=E.stateNode,Se=E.memoizedProps;try{xe.nodeValue=Se}catch(p){_o(E,E.return,p)}}break;case 3:if(qu(z,E),Pf(E),ue&4&&Z!==null&&Z.memoizedState.isDehydrated)try{Rp(z.containerInfo)}catch(p){_o(E,E.return,p)}break;case 4:qu(z,E),Pf(E);break;case 13:qu(z,E),Pf(E),xe=E.child,xe.flags&8192&&(Se=xe.memoizedState!==null,xe.stateNode.isHidden=Se,!Se||xe.alternate!==null&&xe.alternate.memoizedState!==null||(Ix=Vo())),ue&4&&Sw(E);break;case 22:if(P=Z!==null&&Z.memoizedState!==null,E.mode&1?(Us=(d=Us)||P,qu(z,E),Us=d):qu(z,E),Pf(E),ue&8192){if(d=E.memoizedState!==null,(E.stateNode.isHidden=d)&&!P&&E.mode&1)for(za=E,P=E.child;P!==null;){for(n=za=P;za!==null;){switch(C=za,x=C.child,C.tag){case 0:case 11:case 14:case 15:wp(4,C,C.return);break;case 1:od(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){ue=C,Z=C.return;try{z=ue,v.props=z.memoizedProps,v.state=z.memoizedState,v.componentWillUnmount()}catch(p){_o(ue,Z,p)}}break;case 5:od(C,C.return);break;case 22:if(C.memoizedState!==null){Ew(n);continue}}x!==null?(x.return=C,za=x):Ew(n)}P=P.sibling}e:for(P=null,n=E;;){if(n.tag===5){if(P===null){P=n;try{xe=n.stateNode,d?(Se=xe.style,typeof Se.setProperty=="function"?Se.setProperty("display","none","important"):Se.display="none"):(N=n.stateNode,e=n.memoizedProps.style,U=e!=null&&e.hasOwnProperty("display")?e.display:null,N.style.display=m4("display",U))}catch(p){_o(E,E.return,p)}}}else if(n.tag===6){if(P===null)try{n.stateNode.nodeValue=d?"":n.memoizedProps}catch(p){_o(E,E.return,p)}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===E)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===E)break e;for(;n.sibling===null;){if(n.return===null||n.return===E)break e;P===n&&(P=null),n=n.return}P===n&&(P=null),n.sibling.return=n.return,n=n.sibling}}break;case 19:qu(z,E),Pf(E),ue&4&&Sw(E);break;case 21:break;default:qu(z,E),Pf(E)}}function Pf(E){var z=E.flags;if(z&2){try{e:{for(var Z=E.return;Z!==null;){if(WT(Z)){var ue=Z;break e}Z=Z.return}throw Error(ma(160))}switch(ue.tag){case 5:var xe=ue.stateNode;ue.flags&32&&(Ep(xe,""),ue.flags&=-33);var Se=Aw(E);b1(E,Se,xe);break;case 3:case 4:var U=ue.stateNode.containerInfo,N=Aw(E);x1(E,N,U);break;default:throw Error(ma(161))}}catch(e){_o(E,E.return,e)}E.flags&=-3}z&4096&&(E.flags&=-4097)}function J8(E,z,Z){za=E,XT(E)}function XT(E,z,Z){for(var ue=(E.mode&1)!==0;za!==null;){var xe=za,Se=xe.child;if(xe.tag===22&&ue){var U=xe.memoizedState!==null||U0;if(!U){var N=xe.alternate,e=N!==null&&N.memoizedState!==null||Us;N=U0;var d=Us;if(U0=U,(Us=e)&&!d)for(za=xe;za!==null;)U=za,e=U.child,U.tag===22&&U.memoizedState!==null?Cw(xe):e!==null?(e.return=U,za=e):Cw(xe);for(;Se!==null;)za=Se,XT(Se),Se=Se.sibling;za=xe,U0=N,Us=d}Mw(E)}else xe.subtreeFlags&8772&&Se!==null?(Se.return=xe,za=Se):Mw(E)}}function Mw(E){for(;za!==null;){var z=za;if(z.flags&8772){var Z=z.alternate;try{if(z.flags&8772)switch(z.tag){case 0:case 11:case 15:Us||Kg(5,z);break;case 1:var ue=z.stateNode;if(z.flags&4&&!Us)if(Z===null)ue.componentDidMount();else{var xe=z.elementType===z.type?Z.memoizedProps:tf(z.type,Z.memoizedProps);ue.componentDidUpdate(xe,Z.memoizedState,ue.__reactInternalSnapshotBeforeUpdate)}var Se=z.updateQueue;Se!==null&&uw(z,Se,ue);break;case 3:var U=z.updateQueue;if(U!==null){if(Z=null,z.child!==null)switch(z.child.tag){case 5:Z=z.child.stateNode;break;case 1:Z=z.child.stateNode}uw(z,U,Z)}break;case 5:var N=z.stateNode;if(Z===null&&z.flags&4){Z=N;var e=z.memoizedProps;switch(z.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&Z.focus();break;case"img":e.src&&(Z.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(z.memoizedState===null){var d=z.alternate;if(d!==null){var P=d.memoizedState;if(P!==null){var n=P.dehydrated;n!==null&&Rp(n)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ma(163))}Us||z.flags&512&&m1(z)}catch(C){_o(z,z.return,C)}}if(z===E){za=null;break}if(Z=z.sibling,Z!==null){Z.return=z.return,za=Z;break}za=z.return}}function Ew(E){for(;za!==null;){var z=za;if(z===E){za=null;break}var Z=z.sibling;if(Z!==null){Z.return=z.return,za=Z;break}za=z.return}}function Cw(E){for(;za!==null;){var z=za;try{switch(z.tag){case 0:case 11:case 15:var Z=z.return;try{Kg(4,z)}catch(e){_o(z,Z,e)}break;case 1:var ue=z.stateNode;if(typeof ue.componentDidMount=="function"){var xe=z.return;try{ue.componentDidMount()}catch(e){_o(z,xe,e)}}var Se=z.return;try{m1(z)}catch(e){_o(z,Se,e)}break;case 5:var U=z.return;try{m1(z)}catch(e){_o(z,U,e)}}}catch(e){_o(z,z.return,e)}if(z===E){za=null;break}var N=z.sibling;if(N!==null){N.return=z.return,za=N;break}za=z.return}}var Q8=Math.ceil,Rg=Tc.ReactCurrentDispatcher,kx=Tc.ReactCurrentOwner,bu=Tc.ReactCurrentBatchConfig,Pi=0,fs=null,Qo=null,Es=0,Ul=0,sd=Eh(0),rs=0,Hp=null,gv=0,Jg=0,Dx=0,Tp=null,xl=null,Ix=0,Sd=1/0,cc=null,kg=!1,w1=null,bh=null,H0=!1,dh=null,Dg=0,Ap=0,T1=null,ig=-1,og=0;function el(){return Pi&6?Vo():ig!==-1?ig:ig=Vo()}function wh(E){return E.mode&1?Pi&2&&Es!==0?Es&-Es:_8.transition!==null?(og===0&&(og=k4()),og):(E=Bi,E!==0||(E=window.event,E=E===void 0?16:N4(E.type)),E):1}function sf(E,z,Z,ue){if(50<Ap)throw Ap=0,T1=null,Error(ma(185));Yp(E,Z,ue),(!(Pi&2)||E!==fs)&&(E===fs&&(!(Pi&2)&&(Jg|=Z),rs===4&&hh(E,Es)),Sl(E,ue),Z===1&&Pi===0&&!(z.mode&1)&&(Sd=Vo()+500,Yg&&Ch()))}function Sl(E,z){var Z=E.callbackNode;_E(E,z);var ue=pg(E,E===fs?Es:0);if(ue===0)Z!==null&&O3(Z),E.callbackNode=null,E.callbackPriority=0;else if(z=ue&-ue,E.callbackPriority!==z){if(Z!=null&&O3(Z),z===1)E.tag===0?I8(Lw.bind(null,E)):nT(Lw.bind(null,E)),P8(function(){!(Pi&6)&&Ch()}),Z=null;else{switch(D4(ue)){case 1:Z=ix;break;case 4:Z=P4;break;case 16:Z=dg;break;case 536870912:Z=R4;break;default:Z=dg}Z=t5(Z,ZT.bind(null,E))}E.callbackPriority=z,E.callbackNode=Z}}function ZT(E,z){if(ig=-1,og=0,Pi&6)throw Error(ma(327));var Z=E.callbackNode;if(vd()&&E.callbackNode!==Z)return null;var ue=pg(E,E===fs?Es:0);if(ue===0)return null;if(ue&30||ue&E.expiredLanes||z)z=Ig(E,ue);else{z=ue;var xe=Pi;Pi|=2;var Se=JT();(fs!==E||Es!==z)&&(cc=null,Sd=Vo()+500,cv(E,z));do try{eC();break}catch(N){KT(E,N)}while(!0);mx(),Rg.current=Se,Pi=xe,Qo!==null?z=0:(fs=null,Es=0,z=rs)}if(z!==0){if(z===2&&(xe=Km(E),xe!==0&&(ue=xe,z=A1(E,xe))),z===1)throw Z=Hp,cv(E,0),hh(E,ue),Sl(E,Vo()),Z;if(z===6)hh(E,ue);else{if(xe=E.current.alternate,!(ue&30)&&!$8(xe)&&(z=Ig(E,ue),z===2&&(Se=Km(E),Se!==0&&(ue=Se,z=A1(E,Se))),z===1))throw Z=Hp,cv(E,0),hh(E,ue),Sl(E,Vo()),Z;switch(E.finishedWork=xe,E.finishedLanes=ue,z){case 0:case 1:throw Error(ma(345));case 2:nv(E,xl,cc);break;case 3:if(hh(E,ue),(ue&130023424)===ue&&(z=Ix+500-Vo(),10<z)){if(pg(E,0)!==0)break;if(xe=E.suspendedLanes,(xe&ue)!==ue){el(),E.pingedLanes|=E.suspendedLanes&xe;break}E.timeoutHandle=n1(nv.bind(null,E,xl,cc),z);break}nv(E,xl,cc);break;case 4:if(hh(E,ue),(ue&4194240)===ue)break;for(z=E.eventTimes,xe=-1;0<ue;){var U=31-of(ue);Se=1<<U,U=z[U],U>xe&&(xe=U),ue&=~Se}if(ue=xe,ue=Vo()-ue,ue=(120>ue?120:480>ue?480:1080>ue?1080:1920>ue?1920:3e3>ue?3e3:4320>ue?4320:1960*Q8(ue/1960))-ue,10<ue){E.timeoutHandle=n1(nv.bind(null,E,xl,cc),ue);break}nv(E,xl,cc);break;case 5:nv(E,xl,cc);break;default:throw Error(ma(329))}}}return Sl(E,Vo()),E.callbackNode===Z?ZT.bind(null,E):null}function A1(E,z){var Z=Tp;return E.current.memoizedState.isDehydrated&&(cv(E,z).flags|=256),E=Ig(E,z),E!==2&&(z=xl,xl=Z,z!==null&&S1(z)),E}function S1(E){xl===null?xl=E:xl.push.apply(xl,E)}function $8(E){for(var z=E;;){if(z.flags&16384){var Z=z.updateQueue;if(Z!==null&&(Z=Z.stores,Z!==null))for(var ue=0;ue<Z.length;ue++){var xe=Z[ue],Se=xe.getSnapshot;xe=xe.value;try{if(!lf(Se(),xe))return!1}catch{return!1}}}if(Z=z.child,z.subtreeFlags&16384&&Z!==null)Z.return=z,z=Z;else{if(z===E)break;for(;z.sibling===null;){if(z.return===null||z.return===E)return!0;z=z.return}z.sibling.return=z.return,z=z.sibling}}return!0}function hh(E,z){for(z&=~Dx,z&=~Jg,E.suspendedLanes|=z,E.pingedLanes&=~z,E=E.expirationTimes;0<z;){var Z=31-of(z),ue=1<<Z;E[Z]=-1,z&=~ue}}function Lw(E){if(Pi&6)throw Error(ma(327));vd();var z=pg(E,0);if(!(z&1))return Sl(E,Vo()),null;var Z=Ig(E,z);if(E.tag!==0&&Z===2){var ue=Km(E);ue!==0&&(z=ue,Z=A1(E,ue))}if(Z===1)throw Z=Hp,cv(E,0),hh(E,z),Sl(E,Vo()),Z;if(Z===6)throw Error(ma(345));return E.finishedWork=E.current.alternate,E.finishedLanes=z,nv(E,xl,cc),Sl(E,Vo()),null}function _x(E,z){var Z=Pi;Pi|=1;try{return E(z)}finally{Pi=Z,Pi===0&&(Sd=Vo()+500,Yg&&Ch())}}function yv(E){dh!==null&&dh.tag===0&&!(Pi&6)&&vd();var z=Pi;Pi|=1;var Z=bu.transition,ue=Bi;try{if(bu.transition=null,Bi=1,E)return E()}finally{Bi=ue,bu.transition=Z,Pi=z,!(Pi&6)&&Ch()}}function zx(){Ul=sd.current,oo(sd)}function cv(E,z){E.finishedWork=null,E.finishedLanes=0;var Z=E.timeoutHandle;if(Z!==-1&&(E.timeoutHandle=-1,L8(Z)),Qo!==null)for(Z=Qo.return;Z!==null;){var ue=Z;switch(px(ue),ue.tag){case 1:ue=ue.type.childContextTypes,ue!=null&&bg();break;case 3:Td(),oo(Tl),oo(Hs),Sx();break;case 5:Ax(ue);break;case 4:Td();break;case 13:oo(Mo);break;case 19:oo(Mo);break;case 10:xx(ue.type._context);break;case 22:case 23:zx()}Z=Z.return}if(fs=E,Qo=E=Th(E.current,null),Es=Ul=z,rs=0,Hp=null,Dx=Jg=gv=0,xl=Tp=null,uv!==null){for(z=0;z<uv.length;z++)if(Z=uv[z],ue=Z.interleaved,ue!==null){Z.interleaved=null;var xe=ue.next,Se=Z.pending;if(Se!==null){var U=Se.next;Se.next=xe,ue.next=U}Z.pending=ue}uv=null}return E}function KT(E,z){do{var Z=Qo;try{if(mx(),rg.current=Pg,Lg){for(var ue=Eo.memoizedState;ue!==null;){var xe=ue.queue;xe!==null&&(xe.pending=null),ue=ue.next}Lg=!1}if(pv=0,us=ts=Eo=null,bp=!1,Np=0,kx.current=null,Z===null||Z.return===null){rs=1,Hp=z,Qo=null;break}e:{var Se=E,U=Z.return,N=Z,e=z;if(z=Es,N.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var d=e,P=N,n=P.tag;if(!(P.mode&1)&&(n===0||n===11||n===15)){var C=P.alternate;C?(P.updateQueue=C.updateQueue,P.memoizedState=C.memoizedState,P.lanes=C.lanes):(P.updateQueue=null,P.memoizedState=null)}var x=pw(U);if(x!==null){x.flags&=-257,gw(x,U,N,Se,z),x.mode&1&&dw(Se,d,z),z=x,e=d;var v=z.updateQueue;if(v===null){var p=new Set;p.add(e),z.updateQueue=p}else v.add(e);break e}else{if(!(z&1)){dw(Se,d,z),Ox();break e}e=Error(ma(426))}}else if(ho&&N.mode&1){var r=pw(U);if(r!==null){!(r.flags&65536)&&(r.flags|=256),gw(r,U,N,Se,z),gx(Ad(e,N));break e}}Se=e=Ad(e,N),rs!==4&&(rs=2),Tp===null?Tp=[Se]:Tp.push(Se),Se=U;do{switch(Se.tag){case 3:Se.flags|=65536,z&=-z,Se.lanes|=z;var t=DT(Se,e,z);lw(Se,t);break e;case 1:N=e;var o=Se.type,a=Se.stateNode;if(!(Se.flags&128)&&(typeof o.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(bh===null||!bh.has(a)))){Se.flags|=65536,z&=-z,Se.lanes|=z;var u=IT(Se,N,z);lw(Se,u);break e}}Se=Se.return}while(Se!==null)}$T(Z)}catch(f){z=f,Qo===Z&&Z!==null&&(Qo=Z=Z.return);continue}break}while(!0)}function JT(){var E=Rg.current;return Rg.current=Pg,E===null?Pg:E}function Ox(){(rs===0||rs===3||rs===2)&&(rs=4),fs===null||!(gv&268435455)&&!(Jg&268435455)||hh(fs,Es)}function Ig(E,z){var Z=Pi;Pi|=2;var ue=JT();(fs!==E||Es!==z)&&(cc=null,cv(E,z));do try{q8();break}catch(xe){KT(E,xe)}while(!0);if(mx(),Pi=Z,Rg.current=ue,Qo!==null)throw Error(ma(261));return fs=null,Es=0,rs}function q8(){for(;Qo!==null;)QT(Qo)}function eC(){for(;Qo!==null&&!ME();)QT(Qo)}function QT(E){var z=e5(E.alternate,E,Ul);E.memoizedProps=E.pendingProps,z===null?$T(E):Qo=z,kx.current=null}function $T(E){var z=E;do{var Z=z.alternate;if(E=z.return,z.flags&32768){if(Z=X8(Z,z),Z!==null){Z.flags&=32767,Qo=Z;return}if(E!==null)E.flags|=32768,E.subtreeFlags=0,E.deletions=null;else{rs=6,Qo=null;return}}else if(Z=Y8(Z,z,Ul),Z!==null){Qo=Z;return}if(z=z.sibling,z!==null){Qo=z;return}Qo=z=E}while(z!==null);rs===0&&(rs=5)}function nv(E,z,Z){var ue=Bi,xe=bu.transition;try{bu.transition=null,Bi=1,tC(E,z,Z,ue)}finally{bu.transition=xe,Bi=ue}return null}function tC(E,z,Z,ue){do vd();while(dh!==null);if(Pi&6)throw Error(ma(327));Z=E.finishedWork;var xe=E.finishedLanes;if(Z===null)return null;if(E.finishedWork=null,E.finishedLanes=0,Z===E.current)throw Error(ma(177));E.callbackNode=null,E.callbackPriority=0;var Se=Z.lanes|Z.childLanes;if(zE(E,Se),E===fs&&(Qo=fs=null,Es=0),!(Z.subtreeFlags&2064)&&!(Z.flags&2064)||H0||(H0=!0,t5(dg,function(){return vd(),null})),Se=(Z.flags&15990)!==0,Z.subtreeFlags&15990||Se){Se=bu.transition,bu.transition=null;var U=Bi;Bi=1;var N=Pi;Pi|=4,kx.current=null,K8(E,Z),YT(Z,E),w8(t1),gg=!!e1,t1=e1=null,E.current=Z,J8(Z),EE(),Pi=N,Bi=U,bu.transition=Se}else E.current=Z;if(H0&&(H0=!1,dh=E,Dg=xe),Se=E.pendingLanes,Se===0&&(bh=null),PE(Z.stateNode),Sl(E,Vo()),z!==null)for(ue=E.onRecoverableError,Z=0;Z<z.length;Z++)xe=z[Z],ue(xe.value,{componentStack:xe.stack,digest:xe.digest});if(kg)throw kg=!1,E=w1,w1=null,E;return Dg&1&&E.tag!==0&&vd(),Se=E.pendingLanes,Se&1?E===T1?Ap++:(Ap=0,T1=E):Ap=0,Ch(),null}function vd(){if(dh!==null){var E=D4(Dg),z=bu.transition,Z=Bi;try{if(bu.transition=null,Bi=16>E?16:E,dh===null)var ue=!1;else{if(E=dh,dh=null,Dg=0,Pi&6)throw Error(ma(331));var xe=Pi;for(Pi|=4,za=E.current;za!==null;){var Se=za,U=Se.child;if(za.flags&16){var N=Se.deletions;if(N!==null){for(var e=0;e<N.length;e++){var d=N[e];for(za=d;za!==null;){var P=za;switch(P.tag){case 0:case 11:case 15:wp(8,P,Se)}var n=P.child;if(n!==null)n.return=P,za=n;else for(;za!==null;){P=za;var C=P.sibling,x=P.return;if(GT(P),P===d){za=null;break}if(C!==null){C.return=x,za=C;break}za=x}}}var v=Se.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}za=Se}}if(Se.subtreeFlags&2064&&U!==null)U.return=Se,za=U;else e:for(;za!==null;){if(Se=za,Se.flags&2048)switch(Se.tag){case 0:case 11:case 15:wp(9,Se,Se.return)}var t=Se.sibling;if(t!==null){t.return=Se.return,za=t;break e}za=Se.return}}var o=E.current;for(za=o;za!==null;){U=za;var a=U.child;if(U.subtreeFlags&2064&&a!==null)a.return=U,za=a;else e:for(U=o;za!==null;){if(N=za,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:Kg(9,N)}}catch(f){_o(N,N.return,f)}if(N===U){za=null;break e}var u=N.sibling;if(u!==null){u.return=N.return,za=u;break e}za=N.return}}if(Pi=xe,Ch(),Of&&typeof Of.onPostCommitFiberRoot=="function")try{Of.onPostCommitFiberRoot(Hg,E)}catch{}ue=!0}return ue}finally{Bi=Z,bu.transition=z}}return!1}function Pw(E,z,Z){z=Ad(Z,z),z=DT(E,z,1),E=xh(E,z,1),z=el(),E!==null&&(Yp(E,1,z),Sl(E,z))}function _o(E,z,Z){if(E.tag===3)Pw(E,E,Z);else for(;z!==null;){if(z.tag===3){Pw(z,E,Z);break}else if(z.tag===1){var ue=z.stateNode;if(typeof z.type.getDerivedStateFromError=="function"||typeof ue.componentDidCatch=="function"&&(bh===null||!bh.has(ue))){E=Ad(Z,E),E=IT(z,E,1),z=xh(z,E,1),E=el(),z!==null&&(Yp(z,1,E),Sl(z,E));break}}z=z.return}}function rC(E,z,Z){var ue=E.pingCache;ue!==null&&ue.delete(z),z=el(),E.pingedLanes|=E.suspendedLanes&Z,fs===E&&(Es&Z)===Z&&(rs===4||rs===3&&(Es&130023424)===Es&&500>Vo()-Ix?cv(E,0):Dx|=Z),Sl(E,z)}function qT(E,z){z===0&&(E.mode&1?(z=k0,k0<<=1,!(k0&130023424)&&(k0=4194304)):z=1);var Z=el();E=xc(E,z),E!==null&&(Yp(E,z,Z),Sl(E,Z))}function nC(E){var z=E.memoizedState,Z=0;z!==null&&(Z=z.retryLane),qT(E,Z)}function aC(E,z){var Z=0;switch(E.tag){case 13:var ue=E.stateNode,xe=E.memoizedState;xe!==null&&(Z=xe.retryLane);break;case 19:ue=E.stateNode;break;default:throw Error(ma(314))}ue!==null&&ue.delete(z),qT(E,Z)}var e5;e5=function(E,z,Z){if(E!==null)if(E.memoizedProps!==z.pendingProps||Tl.current)wl=!0;else{if(!(E.lanes&Z)&&!(z.flags&128))return wl=!1,j8(E,z,Z);wl=!!(E.flags&131072)}else wl=!1,ho&&z.flags&1048576&&aT(z,Ag,z.index);switch(z.lanes=0,z.tag){case 2:var ue=z.type;ag(E,z),E=z.pendingProps;var xe=xd(z,Hs.current);hd(z,Z),xe=Ex(null,z,ue,E,xe,Z);var Se=Cx();return z.flags|=1,typeof xe=="object"&&xe!==null&&typeof xe.render=="function"&&xe.$$typeof===void 0?(z.tag=1,z.memoizedState=null,z.updateQueue=null,Al(ue)?(Se=!0,wg(z)):Se=!1,z.memoizedState=xe.state!==null&&xe.state!==void 0?xe.state:null,wx(z),xe.updater=Zg,z.stateNode=xe,xe._reactInternals=z,f1(z,ue,E,Z),z=v1(null,z,ue,!0,Se,Z)):(z.tag=0,ho&&Se&&dx(z),qs(null,z,xe,Z),z=z.child),z;case 16:ue=z.elementType;e:{switch(ag(E,z),E=z.pendingProps,xe=ue._init,ue=xe(ue._payload),z.type=ue,xe=z.tag=oC(ue),E=tf(ue,E),xe){case 0:z=h1(null,z,ue,E,Z);break e;case 1:z=xw(null,z,ue,E,Z);break e;case 11:z=yw(null,z,ue,E,Z);break e;case 14:z=mw(null,z,ue,tf(ue.type,E),Z);break e}throw Error(ma(306,ue,""))}return z;case 0:return ue=z.type,xe=z.pendingProps,xe=z.elementType===ue?xe:tf(ue,xe),h1(E,z,ue,xe,Z);case 1:return ue=z.type,xe=z.pendingProps,xe=z.elementType===ue?xe:tf(ue,xe),xw(E,z,ue,xe,Z);case 3:e:{if(FT(z),E===null)throw Error(ma(387));ue=z.pendingProps,Se=z.memoizedState,xe=Se.element,fT(E,z),Eg(z,ue,null,Z);var U=z.memoizedState;if(ue=U.element,Se.isDehydrated)if(Se={element:ue,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},z.updateQueue.baseState=Se,z.memoizedState=Se,z.flags&256){xe=Ad(Error(ma(423)),z),z=bw(E,z,ue,Z,xe);break e}else if(ue!==xe){xe=Ad(Error(ma(424)),z),z=bw(E,z,ue,Z,xe);break e}else for(Hl=mh(z.stateNode.containerInfo.firstChild),Vl=z,ho=!0,nf=null,Z=lT(z,null,ue,Z),z.child=Z;Z;)Z.flags=Z.flags&-3|4096,Z=Z.sibling;else{if(bd(),ue===xe){z=bc(E,z,Z);break e}qs(E,z,ue,Z)}z=z.child}return z;case 5:return cT(z),E===null&&s1(z),ue=z.type,xe=z.pendingProps,Se=E!==null?E.memoizedProps:null,U=xe.children,r1(ue,xe)?U=null:Se!==null&&r1(ue,Se)&&(z.flags|=32),OT(E,z),qs(E,z,U,Z),z.child;case 6:return E===null&&s1(z),null;case 13:return NT(E,z,Z);case 4:return Tx(z,z.stateNode.containerInfo),ue=z.pendingProps,E===null?z.child=wd(z,null,ue,Z):qs(E,z,ue,Z),z.child;case 11:return ue=z.type,xe=z.pendingProps,xe=z.elementType===ue?xe:tf(ue,xe),yw(E,z,ue,xe,Z);case 7:return qs(E,z,z.pendingProps,Z),z.child;case 8:return qs(E,z,z.pendingProps.children,Z),z.child;case 12:return qs(E,z,z.pendingProps.children,Z),z.child;case 10:e:{if(ue=z.type._context,xe=z.pendingProps,Se=z.memoizedProps,U=xe.value,$i(Sg,ue._currentValue),ue._currentValue=U,Se!==null)if(lf(Se.value,U)){if(Se.children===xe.children&&!Tl.current){z=bc(E,z,Z);break e}}else for(Se=z.child,Se!==null&&(Se.return=z);Se!==null;){var N=Se.dependencies;if(N!==null){U=Se.child;for(var e=N.firstContext;e!==null;){if(e.context===ue){if(Se.tag===1){e=gc(-1,Z&-Z),e.tag=2;var d=Se.updateQueue;if(d!==null){d=d.shared;var P=d.pending;P===null?e.next=e:(e.next=P.next,P.next=e),d.pending=e}}Se.lanes|=Z,e=Se.alternate,e!==null&&(e.lanes|=Z),l1(Se.return,Z,z),N.lanes|=Z;break}e=e.next}}else if(Se.tag===10)U=Se.type===z.type?null:Se.child;else if(Se.tag===18){if(U=Se.return,U===null)throw Error(ma(341));U.lanes|=Z,N=U.alternate,N!==null&&(N.lanes|=Z),l1(U,Z,z),U=Se.sibling}else U=Se.child;if(U!==null)U.return=Se;else for(U=Se;U!==null;){if(U===z){U=null;break}if(Se=U.sibling,Se!==null){Se.return=U.return,U=Se;break}U=U.return}Se=U}qs(E,z,xe.children,Z),z=z.child}return z;case 9:return xe=z.type,ue=z.pendingProps.children,hd(z,Z),xe=wu(xe),ue=ue(xe),z.flags|=1,qs(E,z,ue,Z),z.child;case 14:return ue=z.type,xe=tf(ue,z.pendingProps),xe=tf(ue.type,xe),mw(E,z,ue,xe,Z);case 15:return _T(E,z,z.type,z.pendingProps,Z);case 17:return ue=z.type,xe=z.pendingProps,xe=z.elementType===ue?xe:tf(ue,xe),ag(E,z),z.tag=1,Al(ue)?(E=!0,wg(z)):E=!1,hd(z,Z),kT(z,ue,xe),f1(z,ue,xe,Z),v1(null,z,ue,!0,E,Z);case 19:return BT(E,z,Z);case 22:return zT(E,z,Z)}throw Error(ma(156,z.tag))};function t5(E,z){return L4(E,z)}function iC(E,z,Z,ue){this.tag=E,this.key=Z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=z,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ue,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(E,z,Z,ue){return new iC(E,z,Z,ue)}function Fx(E){return E=E.prototype,!(!E||!E.isReactComponent)}function oC(E){if(typeof E=="function")return Fx(E)?1:0;if(E!=null){if(E=E.$$typeof,E===rx)return 11;if(E===nx)return 14}return 2}function Th(E,z){var Z=E.alternate;return Z===null?(Z=xu(E.tag,z,E.key,E.mode),Z.elementType=E.elementType,Z.type=E.type,Z.stateNode=E.stateNode,Z.alternate=E,E.alternate=Z):(Z.pendingProps=z,Z.type=E.type,Z.flags=0,Z.subtreeFlags=0,Z.deletions=null),Z.flags=E.flags&14680064,Z.childLanes=E.childLanes,Z.lanes=E.lanes,Z.child=E.child,Z.memoizedProps=E.memoizedProps,Z.memoizedState=E.memoizedState,Z.updateQueue=E.updateQueue,z=E.dependencies,Z.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext},Z.sibling=E.sibling,Z.index=E.index,Z.ref=E.ref,Z}function sg(E,z,Z,ue,xe,Se){var U=2;if(ue=E,typeof E=="function")Fx(E)&&(U=1);else if(typeof E=="string")U=5;else e:switch(E){case Qv:return hv(Z.children,xe,Se,z);case tx:U=8,xe|=8;break;case _m:return E=xu(12,Z,z,xe|2),E.elementType=_m,E.lanes=Se,E;case zm:return E=xu(13,Z,z,xe),E.elementType=zm,E.lanes=Se,E;case Om:return E=xu(19,Z,z,xe),E.elementType=Om,E.lanes=Se,E;case c4:return Qg(Z,xe,Se,z);default:if(typeof E=="object"&&E!==null)switch(E.$$typeof){case u4:U=10;break e;case f4:U=9;break e;case rx:U=11;break e;case nx:U=14;break e;case lh:U=16,ue=null;break e}throw Error(ma(130,E==null?E:typeof E,""))}return z=xu(U,Z,z,xe),z.elementType=E,z.type=ue,z.lanes=Se,z}function hv(E,z,Z,ue){return E=xu(7,E,ue,z),E.lanes=Z,E}function Qg(E,z,Z,ue){return E=xu(22,E,ue,z),E.elementType=c4,E.lanes=Z,E.stateNode={isHidden:!1},E}function pm(E,z,Z){return E=xu(6,E,null,z),E.lanes=Z,E}function gm(E,z,Z){return z=xu(4,E.children!==null?E.children:[],E.key,z),z.lanes=Z,z.stateNode={containerInfo:E.containerInfo,pendingChildren:null,implementation:E.implementation},z}function sC(E,z,Z,ue,xe){this.tag=z,this.containerInfo=E,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jy(0),this.expirationTimes=Jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jy(0),this.identifierPrefix=ue,this.onRecoverableError=xe,this.mutableSourceEagerHydrationData=null}function Nx(E,z,Z,ue,xe,Se,U,N,e){return E=new sC(E,z,Z,N,e),z===1?(z=1,Se===!0&&(z|=8)):z=0,Se=xu(3,null,null,z),E.current=Se,Se.stateNode=E,Se.memoizedState={element:ue,isDehydrated:Z,cache:null,transitions:null,pendingSuspenseBoundaries:null},wx(Se),E}function lC(E,z,Z){var ue=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jv,key:ue==null?null:""+ue,children:E,containerInfo:z,implementation:Z}}function r5(E){if(!E)return Sh;E=E._reactInternals;e:{if(bv(E)!==E||E.tag!==1)throw Error(ma(170));var z=E;do{switch(z.tag){case 3:z=z.stateNode.context;break e;case 1:if(Al(z.type)){z=z.stateNode.__reactInternalMemoizedMergedChildContext;break e}}z=z.return}while(z!==null);throw Error(ma(171))}if(E.tag===1){var Z=E.type;if(Al(Z))return rT(E,Z,z)}return z}function n5(E,z,Z,ue,xe,Se,U,N,e){return E=Nx(Z,ue,!0,E,xe,Se,U,N,e),E.context=r5(null),Z=E.current,ue=el(),xe=wh(Z),Se=gc(ue,xe),Se.callback=z??null,xh(Z,Se,xe),E.current.lanes=xe,Yp(E,xe,ue),Sl(E,ue),E}function $g(E,z,Z,ue){var xe=z.current,Se=el(),U=wh(xe);return Z=r5(Z),z.context===null?z.context=Z:z.pendingContext=Z,z=gc(Se,U),z.payload={element:E},ue=ue===void 0?null:ue,ue!==null&&(z.callback=ue),E=xh(xe,z,U),E!==null&&(sf(E,xe,U,Se),tg(E,xe,U)),U}function _g(E){if(E=E.current,!E.child)return null;switch(E.child.tag){case 5:return E.child.stateNode;default:return E.child.stateNode}}function Rw(E,z){if(E=E.memoizedState,E!==null&&E.dehydrated!==null){var Z=E.retryLane;E.retryLane=Z!==0&&Z<z?Z:z}}function Bx(E,z){Rw(E,z),(E=E.alternate)&&Rw(E,z)}function uC(){return null}var a5=typeof reportError=="function"?reportError:function(E){console.error(E)};function Ux(E){this._internalRoot=E}qg.prototype.render=Ux.prototype.render=function(E){var z=this._internalRoot;if(z===null)throw Error(ma(409));$g(E,z,null,null)};qg.prototype.unmount=Ux.prototype.unmount=function(){var E=this._internalRoot;if(E!==null){this._internalRoot=null;var z=E.containerInfo;yv(function(){$g(null,E,null,null)}),z[mc]=null}};function qg(E){this._internalRoot=E}qg.prototype.unstable_scheduleHydration=function(E){if(E){var z=z4();E={blockedOn:null,target:E,priority:z};for(var Z=0;Z<ch.length&&z!==0&&z<ch[Z].priority;Z++);ch.splice(Z,0,E),Z===0&&F4(E)}};function Hx(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)}function ey(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11&&(E.nodeType!==8||E.nodeValue!==" react-mount-point-unstable "))}function kw(){}function fC(E,z,Z,ue,xe){if(xe){if(typeof ue=="function"){var Se=ue;ue=function(){var d=_g(U);Se.call(d)}}var U=n5(z,ue,E,0,null,!1,!1,"",kw);return E._reactRootContainer=U,E[mc]=U.current,Ip(E.nodeType===8?E.parentNode:E),yv(),U}for(;xe=E.lastChild;)E.removeChild(xe);if(typeof ue=="function"){var N=ue;ue=function(){var d=_g(e);N.call(d)}}var e=Nx(E,0,!1,null,null,!1,!1,"",kw);return E._reactRootContainer=e,E[mc]=e.current,Ip(E.nodeType===8?E.parentNode:E),yv(function(){$g(z,e,Z,ue)}),e}function ty(E,z,Z,ue,xe){var Se=Z._reactRootContainer;if(Se){var U=Se;if(typeof xe=="function"){var N=xe;xe=function(){var e=_g(U);N.call(e)}}$g(z,U,E,xe)}else U=fC(Z,z,E,xe,ue);return _g(U)}I4=function(E){switch(E.tag){case 3:var z=E.stateNode;if(z.current.memoizedState.isDehydrated){var Z=cp(z.pendingLanes);Z!==0&&(ox(z,Z|1),Sl(z,Vo()),!(Pi&6)&&(Sd=Vo()+500,Ch()))}break;case 13:yv(function(){var ue=xc(E,1);if(ue!==null){var xe=el();sf(ue,E,1,xe)}}),Bx(E,1)}};sx=function(E){if(E.tag===13){var z=xc(E,134217728);if(z!==null){var Z=el();sf(z,E,134217728,Z)}Bx(E,134217728)}};_4=function(E){if(E.tag===13){var z=wh(E),Z=xc(E,z);if(Z!==null){var ue=el();sf(Z,E,z,ue)}Bx(E,z)}};z4=function(){return Bi};O4=function(E,z){var Z=Bi;try{return Bi=E,z()}finally{Bi=Z}};Ym=function(E,z,Z){switch(z){case"input":if(Bm(E,Z),z=Z.name,Z.type==="radio"&&z!=null){for(Z=E;Z.parentNode;)Z=Z.parentNode;for(Z=Z.querySelectorAll("input[name="+JSON.stringify(""+z)+'][type="radio"]'),z=0;z<Z.length;z++){var ue=Z[z];if(ue!==E&&ue.form===E.form){var xe=jg(ue);if(!xe)throw Error(ma(90));v4(ue),Bm(ue,xe)}}}break;case"textarea":p4(E,Z);break;case"select":z=Z.value,z!=null&&ld(E,!!Z.multiple,z,!1)}};T4=_x;A4=yv;var cC={usingClientEntryPoint:!1,Events:[Zp,td,jg,b4,w4,_x]},sp={findFiberByHostInstance:lv,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hC={bundleType:sp.bundleType,version:sp.version,rendererPackageName:sp.rendererPackageName,rendererConfig:sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(E){return E=E4(E),E===null?null:E.stateNode},findFiberByHostInstance:sp.findFiberByHostInstance||uC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V0.isDisabled&&V0.supportsFiber)try{Hg=V0.inject(hC),Of=V0}catch{}}Wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cC;Wl.createPortal=function(E,z){var Z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hx(z))throw Error(ma(200));return lC(E,z,null,Z)};Wl.createRoot=function(E,z){if(!Hx(E))throw Error(ma(299));var Z=!1,ue="",xe=a5;return z!=null&&(z.unstable_strictMode===!0&&(Z=!0),z.identifierPrefix!==void 0&&(ue=z.identifierPrefix),z.onRecoverableError!==void 0&&(xe=z.onRecoverableError)),z=Nx(E,1,!1,null,null,Z,!1,ue,xe),E[mc]=z.current,Ip(E.nodeType===8?E.parentNode:E),new Ux(z)};Wl.findDOMNode=function(E){if(E==null)return null;if(E.nodeType===1)return E;var z=E._reactInternals;if(z===void 0)throw typeof E.render=="function"?Error(ma(188)):(E=Object.keys(E).join(","),Error(ma(268,E)));return E=E4(z),E=E===null?null:E.stateNode,E};Wl.flushSync=function(E){return yv(E)};Wl.hydrate=function(E,z,Z){if(!ey(z))throw Error(ma(200));return ty(null,E,z,!0,Z)};Wl.hydrateRoot=function(E,z,Z){if(!Hx(E))throw Error(ma(405));var ue=Z!=null&&Z.hydratedSources||null,xe=!1,Se="",U=a5;if(Z!=null&&(Z.unstable_strictMode===!0&&(xe=!0),Z.identifierPrefix!==void 0&&(Se=Z.identifierPrefix),Z.onRecoverableError!==void 0&&(U=Z.onRecoverableError)),z=n5(z,null,E,1,Z??null,xe,!1,Se,U),E[mc]=z.current,Ip(E),ue)for(E=0;E<ue.length;E++)Z=ue[E],xe=Z._getVersion,xe=xe(Z._source),z.mutableSourceEagerHydrationData==null?z.mutableSourceEagerHydrationData=[Z,xe]:z.mutableSourceEagerHydrationData.push(Z,xe);return new qg(z)};Wl.render=function(E,z,Z){if(!ey(z))throw Error(ma(200));return ty(null,E,z,!1,Z)};Wl.unmountComponentAtNode=function(E){if(!ey(E))throw Error(ma(40));return E._reactRootContainer?(yv(function(){ty(null,null,E,!1,function(){E._reactRootContainer=null,E[mc]=null})}),!0):!1};Wl.unstable_batchedUpdates=_x;Wl.unstable_renderSubtreeIntoContainer=function(E,z,Z,ue){if(!ey(Z))throw Error(ma(200));if(E==null||E._reactInternals===void 0)throw Error(ma(38));return ty(E,z,Z,!1,ue)};Wl.version="18.3.1-next-f1338f8080-20240426";function i5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i5)}catch(E){console.error(E)}}i5(),i4.exports=Wl;var o5=i4.exports;const vp=wc(o5);var Dw=o5;Dm.createRoot=Dw.createRoot,Dm.hydrateRoot=Dw.hydrateRoot;var s5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(E){(function(){var z={}.hasOwnProperty;function Z(){for(var Se="",U=0;U<arguments.length;U++){var N=arguments[U];N&&(Se=xe(Se,ue(N)))}return Se}function ue(Se){if(typeof Se=="string"||typeof Se=="number")return Se;if(typeof Se!="object")return"";if(Array.isArray(Se))return Z.apply(null,Se);if(Se.toString!==Object.prototype.toString&&!Se.toString.toString().includes("[native code]"))return Se.toString();var U="";for(var N in Se)z.call(Se,N)&&Se[N]&&(U=xe(U,N));return U}function xe(Se,U){return U?Se?Se+" "+U:Se+U:Se}E.exports?(Z.default=Z,E.exports=Z):window.classNames=Z})()})(s5);var vC=s5.exports;const vo=wc(vC);function M1(){return M1=Object.assign?Object.assign.bind():function(E){for(var z=1;z<arguments.length;z++){var Z=arguments[z];for(var ue in Z)({}).hasOwnProperty.call(Z,ue)&&(E[ue]=Z[ue])}return E},M1.apply(null,arguments)}function l5(E,z){if(E==null)return{};var Z={};for(var ue in E)if({}.hasOwnProperty.call(E,ue)){if(z.includes(ue))continue;Z[ue]=E[ue]}return Z}function Iw(E){return"default"+E.charAt(0).toUpperCase()+E.substr(1)}function dC(E){var z=pC(E,"string");return typeof z=="symbol"?z:String(z)}function pC(E,z){if(typeof E!="object"||E===null)return E;var Z=E[Symbol.toPrimitive];if(Z!==void 0){var ue=Z.call(E,z);if(typeof ue!="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}function gC(E,z,Z){var ue=Fn.useRef(E!==void 0),xe=Fn.useState(z),Se=xe[0],U=xe[1],N=E!==void 0,e=ue.current;return ue.current=N,!N&&e&&Se!==z&&U(z),[N?E:Se,Fn.useCallback(function(d){for(var P=arguments.length,n=new Array(P>1?P-1:0),C=1;C<P;C++)n[C-1]=arguments[C];Z&&Z.apply(void 0,[d].concat(n)),U(d)},[Z])]}function yC(E,z){return Object.keys(z).reduce(function(Z,ue){var xe,Se=Z,U=Se[Iw(ue)],N=Se[ue],e=l5(Se,[Iw(ue),ue].map(dC)),d=z[ue],P=gC(N,U,E[d]),n=P[0],C=P[1];return M1({},e,(xe={},xe[ue]=n,xe[d]=C,xe))},E)}function E1(E,z){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,ue){return Z.__proto__=ue,Z},E1(E,z)}function mC(E,z){E.prototype=Object.create(z.prototype),E.prototype.constructor=E,E1(E,z)}const u5=["xxl","xl","lg","md","sm","xs"],f5="xs",Vx=Fn.createContext({prefixes:{},breakpoints:u5,minBreakpoint:f5});function Go(E,z){const{prefixes:Z}=Fn.useContext(Vx);return E||Z[z]||z}function Gx(){const{breakpoints:E}=Fn.useContext(Vx);return E}function Wx(){const{minBreakpoint:E}=Fn.useContext(Vx);return E}function xC(E){return E&&E.ownerDocument||document}function bC(E){var z=xC(E);return z&&z.defaultView||window}function wC(E,z){return bC(E).getComputedStyle(E,z)}var TC=/([A-Z])/g;function AC(E){return E.replace(TC,"-$1").toLowerCase()}var SC=/^ms-/;function G0(E){return AC(E).replace(SC,"-ms-")}var MC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EC(E){return!!(E&&MC.test(E))}function c5(E,z){var Z="",ue="";if(typeof z=="string")return E.style.getPropertyValue(G0(z))||wC(E).getPropertyValue(G0(z));Object.keys(z).forEach(function(xe){var Se=z[xe];!Se&&Se!==0?E.style.removeProperty(G0(xe)):EC(xe)?ue+=xe+"("+Se+") ":Z+=G0(xe)+": "+Se+";"}),ue&&(Z+="transform: "+ue+";"),E.style.cssText+=";"+Z}var h5={exports:{}},CC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LC=CC,PC=LC;function v5(){}function d5(){}d5.resetWarningCache=v5;var RC=function(){function E(ue,xe,Se,U,N,e){if(e!==PC){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}E.isRequired=E;function z(){return E}var Z={array:E,bigint:E,bool:E,func:E,number:E,object:E,string:E,symbol:E,any:E,arrayOf:z,element:E,elementType:E,instanceOf:z,node:E,objectOf:z,oneOf:z,oneOfType:z,shape:z,exact:z,checkPropTypes:d5,resetWarningCache:v5};return Z.PropTypes=Z,Z};h5.exports=RC();var p5=h5.exports;const Xa=wc(p5),_w={disabled:!1},g5=ja.createContext(null);var kC=function(z){return z.scrollTop},dp="unmounted",av="exited",fh="entering",iv="entered",C1="exiting",Ac=function(E){mC(z,E);function z(ue,xe){var Se;Se=E.call(this,ue,xe)||this;var U=xe,N=U&&!U.isMounting?ue.enter:ue.appear,e;return Se.appearStatus=null,ue.in?N?(e=av,Se.appearStatus=fh):e=iv:ue.unmountOnExit||ue.mountOnEnter?e=dp:e=av,Se.state={status:e},Se.nextCallback=null,Se}z.getDerivedStateFromProps=function(xe,Se){var U=xe.in;return U&&Se.status===dp?{status:av}:null};var Z=z.prototype;return Z.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Z.componentDidUpdate=function(xe){var Se=null;if(xe!==this.props){var U=this.state.status;this.props.in?U!==fh&&U!==iv&&(Se=fh):(U===fh||U===iv)&&(Se=C1)}this.updateStatus(!1,Se)},Z.componentWillUnmount=function(){this.cancelNextCallback()},Z.getTimeouts=function(){var xe=this.props.timeout,Se,U,N;return Se=U=N=xe,xe!=null&&typeof xe!="number"&&(Se=xe.exit,U=xe.enter,N=xe.appear!==void 0?xe.appear:U),{exit:Se,enter:U,appear:N}},Z.updateStatus=function(xe,Se){if(xe===void 0&&(xe=!1),Se!==null)if(this.cancelNextCallback(),Se===fh){if(this.props.unmountOnExit||this.props.mountOnEnter){var U=this.props.nodeRef?this.props.nodeRef.current:vp.findDOMNode(this);U&&kC(U)}this.performEnter(xe)}else this.performExit();else this.props.unmountOnExit&&this.state.status===av&&this.setState({status:dp})},Z.performEnter=function(xe){var Se=this,U=this.props.enter,N=this.context?this.context.isMounting:xe,e=this.props.nodeRef?[N]:[vp.findDOMNode(this),N],d=e[0],P=e[1],n=this.getTimeouts(),C=N?n.appear:n.enter;if(!xe&&!U||_w.disabled){this.safeSetState({status:iv},function(){Se.props.onEntered(d)});return}this.props.onEnter(d,P),this.safeSetState({status:fh},function(){Se.props.onEntering(d,P),Se.onTransitionEnd(C,function(){Se.safeSetState({status:iv},function(){Se.props.onEntered(d,P)})})})},Z.performExit=function(){var xe=this,Se=this.props.exit,U=this.getTimeouts(),N=this.props.nodeRef?void 0:vp.findDOMNode(this);if(!Se||_w.disabled){this.safeSetState({status:av},function(){xe.props.onExited(N)});return}this.props.onExit(N),this.safeSetState({status:C1},function(){xe.props.onExiting(N),xe.onTransitionEnd(U.exit,function(){xe.safeSetState({status:av},function(){xe.props.onExited(N)})})})},Z.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},Z.safeSetState=function(xe,Se){Se=this.setNextCallback(Se),this.setState(xe,Se)},Z.setNextCallback=function(xe){var Se=this,U=!0;return this.nextCallback=function(N){U&&(U=!1,Se.nextCallback=null,xe(N))},this.nextCallback.cancel=function(){U=!1},this.nextCallback},Z.onTransitionEnd=function(xe,Se){this.setNextCallback(Se);var U=this.props.nodeRef?this.props.nodeRef.current:vp.findDOMNode(this),N=xe==null&&!this.props.addEndListener;if(!U||N){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var e=this.props.nodeRef?[this.nextCallback]:[U,this.nextCallback],d=e[0],P=e[1];this.props.addEndListener(d,P)}xe!=null&&setTimeout(this.nextCallback,xe)},Z.render=function(){var xe=this.state.status;if(xe===dp)return null;var Se=this.props,U=Se.children;Se.in,Se.mountOnEnter,Se.unmountOnExit,Se.appear,Se.enter,Se.exit,Se.timeout,Se.addEndListener,Se.onEnter,Se.onEntering,Se.onEntered,Se.onExit,Se.onExiting,Se.onExited,Se.nodeRef;var N=l5(Se,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ja.createElement(g5.Provider,{value:null},typeof U=="function"?U(xe,N):ja.cloneElement(ja.Children.only(U),N))},z}(ja.Component);Ac.contextType=g5;Ac.propTypes={};function Kv(){}Ac.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kv,onEntering:Kv,onEntered:Kv,onExit:Kv,onExiting:Kv,onExited:Kv};Ac.UNMOUNTED=dp;Ac.EXITED=av;Ac.ENTERING=fh;Ac.ENTERED=iv;Ac.EXITING=C1;const DC=!!(typeof window<"u"&&window.document&&window.document.createElement);var L1=!1,P1=!1;try{var ym={get passive(){return L1=!0},get once(){return P1=L1=!0}};DC&&(window.addEventListener("test",ym,ym),window.removeEventListener("test",ym,!0))}catch{}function IC(E,z,Z,ue){if(ue&&typeof ue!="boolean"&&!P1){var xe=ue.once,Se=ue.capture,U=Z;!P1&&xe&&(U=Z.__once||function N(e){this.removeEventListener(z,N,Se),Z.call(this,e)},Z.__once=U),E.addEventListener(z,U,L1?ue:Se)}E.addEventListener(z,Z,ue)}function _C(E,z,Z,ue){var xe=ue&&typeof ue!="boolean"?ue.capture:ue;E.removeEventListener(z,Z,xe),Z.__once&&E.removeEventListener(z,Z.__once,xe)}function y5(E,z,Z,ue){return IC(E,z,Z,ue),function(){_C(E,z,Z,ue)}}function zC(E,z,Z,ue){if(ue===void 0&&(ue=!0),E){var xe=document.createEvent("HTMLEvents");xe.initEvent(z,Z,ue),E.dispatchEvent(xe)}}function OC(E){var z=c5(E,"transitionDuration")||"",Z=z.indexOf("ms")===-1?1e3:1;return parseFloat(z)*Z}function FC(E,z,Z){Z===void 0&&(Z=5);var ue=!1,xe=setTimeout(function(){ue||zC(E,"transitionend",!0)},z+Z),Se=y5(E,"transitionend",function(){ue=!0},{once:!0});return function(){clearTimeout(xe),Se()}}function NC(E,z,Z,ue){Z==null&&(Z=OC(E)||0);var xe=FC(E,Z,ue),Se=y5(E,"transitionend",z);return function(){xe(),Se()}}function zw(E,z){const Z=c5(E,z)||"",ue=Z.indexOf("ms")===-1?1e3:1;return parseFloat(Z)*ue}function BC(E,z){const Z=zw(E,"transitionDuration"),ue=zw(E,"transitionDelay"),xe=NC(E,Se=>{Se.target===E&&(xe(),z(Se))},Z+ue)}function UC(E){E.offsetHeight}const Ow=E=>!E||typeof E=="function"?E:z=>{E.current=z};function HC(E,z){const Z=Ow(E),ue=Ow(z);return xe=>{Z&&Z(xe),ue&&ue(xe)}}function jx(E,z){return Fn.useMemo(()=>HC(E,z),[E,z])}function VC(E){return E&&"setState"in E?vp.findDOMNode(E):E??null}const GC=ja.forwardRef(({onEnter:E,onEntering:z,onEntered:Z,onExit:ue,onExiting:xe,onExited:Se,addEndListener:U,children:N,childRef:e,...d},P)=>{const n=Fn.useRef(null),C=jx(n,e),x=l=>{C(VC(l))},v=l=>y=>{l&&n.current&&l(n.current,y)},p=Fn.useCallback(v(E),[E]),r=Fn.useCallback(v(z),[z]),t=Fn.useCallback(v(Z),[Z]),o=Fn.useCallback(v(ue),[ue]),a=Fn.useCallback(v(xe),[xe]),u=Fn.useCallback(v(Se),[Se]),f=Fn.useCallback(v(U),[U]);return Ir.jsx(Ac,{ref:P,...d,onEnter:p,onEntered:t,onEntering:r,onExit:o,onExited:u,onExiting:a,addEndListener:f,nodeRef:n,children:typeof N=="function"?(l,y)=>N(l,{...y,ref:x}):ja.cloneElement(N,{ref:x})})});function WC(E){const z=Fn.useRef(E);return Fn.useEffect(()=>{z.current=E},[E]),z}function Yx(E){const z=WC(E);return Fn.useCallback(function(...Z){return z.current&&z.current(...Z)},[z])}const m5=E=>Fn.forwardRef((z,Z)=>Ir.jsx("div",{...z,ref:Z,className:vo(z.className,E)})),jC=["as","disabled"];function YC(E,z){if(E==null)return{};var Z={};for(var ue in E)if({}.hasOwnProperty.call(E,ue)){if(z.indexOf(ue)>=0)continue;Z[ue]=E[ue]}return Z}function XC(E){return!E||E.trim()==="#"}function Xx({tagName:E,disabled:z,href:Z,target:ue,rel:xe,role:Se,onClick:U,tabIndex:N=0,type:e}){E||(Z!=null||ue!=null||xe!=null?E="a":E="button");const d={tagName:E};if(E==="button")return[{type:e||"button",disabled:z},d];const P=C=>{if((z||E==="a"&&XC(Z))&&C.preventDefault(),z){C.stopPropagation();return}U==null||U(C)},n=C=>{C.key===" "&&(C.preventDefault(),P(C))};return E==="a"&&(Z||(Z="#"),z&&(Z=void 0)),[{role:Se??"button",disabled:void 0,tabIndex:z?void 0:N,href:Z,target:E==="a"?ue:void 0,"aria-disabled":z||void 0,rel:E==="a"?xe:void 0,onClick:P,onKeyDown:n},d]}const x5=Fn.forwardRef((E,z)=>{let{as:Z,disabled:ue}=E,xe=YC(E,jC);const[Se,{tagName:U}]=Xx(Object.assign({tagName:Z,disabled:ue},xe));return Ir.jsx(U,Object.assign({},xe,Se,{ref:z}))});x5.displayName="Button";const ZC=x5,KC=["onKeyDown"];function JC(E,z){if(E==null)return{};var Z={};for(var ue in E)if({}.hasOwnProperty.call(E,ue)){if(z.indexOf(ue)>=0)continue;Z[ue]=E[ue]}return Z}function QC(E){return!E||E.trim()==="#"}const b5=Fn.forwardRef((E,z)=>{let{onKeyDown:Z}=E,ue=JC(E,KC);const[xe]=Xx(Object.assign({tagName:"a"},ue)),Se=Yx(U=>{xe.onKeyDown(U),Z==null||Z(U)});return QC(ue.href)||ue.role==="button"?Ir.jsx("a",Object.assign({ref:z},ue,xe,{onKeyDown:Se})):Ir.jsx("a",Object.assign({ref:z},ue,{onKeyDown:Z}))});b5.displayName="Anchor";const $C={[fh]:"show",[iv]:"show"},Zx=Fn.forwardRef(({className:E,children:z,transitionClasses:Z={},onEnter:ue,...xe},Se)=>{const U={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...xe},N=Fn.useCallback((e,d)=>{UC(e),ue==null||ue(e,d)},[ue]);return Ir.jsx(GC,{ref:Se,addEndListener:BC,...U,onEnter:N,childRef:z.ref,children:(e,d)=>Fn.cloneElement(z,{...d,className:vo("fade",E,z.props.className,$C[e],Z[e])})})});Zx.displayName="Fade";const ti=Fn.forwardRef(({as:E,bsPrefix:z,variant:Z="primary",size:ue,active:xe=!1,disabled:Se=!1,className:U,...N},e)=>{const d=Go(z,"btn"),[P,{tagName:n}]=Xx({tagName:E,disabled:Se,...N}),C=n;return Ir.jsx(C,{...P,...N,ref:e,disabled:Se,className:vo(U,d,xe&&"active",Z&&`${d}-${Z}`,ue&&`${d}-${ue}`,N.href&&Se&&"disabled")})});ti.displayName="Button";const ry=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="div",...ue},xe)=>(z=Go(z,"card-body"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));ry.displayName="CardBody";const Kx=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="div",...ue},xe)=>(z=Go(z,"card-footer"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));Kx.displayName="CardFooter";const Jx=Fn.createContext(null);Jx.displayName="CardHeaderContext";const w5=Fn.forwardRef(({bsPrefix:E,className:z,as:Z="div",...ue},xe)=>{const Se=Go(E,"card-header"),U=Fn.useMemo(()=>({cardHeaderBsPrefix:Se}),[Se]);return Ir.jsx(Jx.Provider,{value:U,children:Ir.jsx(Z,{ref:xe,...ue,className:vo(z,Se)})})});w5.displayName="CardHeader";const T5=Fn.forwardRef(({bsPrefix:E,className:z,variant:Z,as:ue="img",...xe},Se)=>{const U=Go(E,"card-img");return Ir.jsx(ue,{ref:Se,className:vo(Z?`${U}-${Z}`:U,z),...xe})});T5.displayName="CardImg";const A5=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="div",...ue},xe)=>(z=Go(z,"card-img-overlay"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));A5.displayName="CardImgOverlay";const S5=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="a",...ue},xe)=>(z=Go(z,"card-link"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));S5.displayName="CardLink";const qC=m5("h6"),M5=Fn.forwardRef(({className:E,bsPrefix:z,as:Z=qC,...ue},xe)=>(z=Go(z,"card-subtitle"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));M5.displayName="CardSubtitle";const Qx=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="p",...ue},xe)=>(z=Go(z,"card-text"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));Qx.displayName="CardText";const eL=m5("h5"),E5=Fn.forwardRef(({className:E,bsPrefix:z,as:Z=eL,...ue},xe)=>(z=Go(z,"card-title"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));E5.displayName="CardTitle";const C5=Fn.forwardRef(({bsPrefix:E,className:z,bg:Z,text:ue,border:xe,body:Se=!1,children:U,as:N="div",...e},d)=>{const P=Go(E,"card");return Ir.jsx(N,{ref:d,...e,className:vo(z,P,Z&&`bg-${Z}`,ue&&`text-${ue}`,xe&&`border-${xe}`),children:Se?Ir.jsx(ry,{children:U}):U})});C5.displayName="Card";const dd=Object.assign(C5,{Img:T5,Title:E5,Subtitle:M5,Body:ry,Link:S5,Text:Qx,Header:w5,Footer:Kx,ImgOverlay:A5});function tL({as:E,bsPrefix:z,className:Z,...ue}){z=Go(z,"col");const xe=Gx(),Se=Wx(),U=[],N=[];return xe.forEach(e=>{const d=ue[e];delete ue[e];let P,n,C;typeof d=="object"&&d!=null?{span:P,offset:n,order:C}=d:P=d;const x=e!==Se?`-${e}`:"";P&&U.push(P===!0?`${z}${x}`:`${z}${x}-${P}`),C!=null&&N.push(`order${x}-${C}`),n!=null&&N.push(`offset${x}-${n}`)}),[{...ue,className:vo(Z,...U,...N)},{as:E,bsPrefix:z,spans:U}]}const Ja=Fn.forwardRef((E,z)=>{const[{className:Z,...ue},{as:xe="div",bsPrefix:Se,spans:U}]=tL(E);return Ir.jsx(xe,{...ue,ref:z,className:vo(Z,!U.length&&Se)})});Ja.displayName="Col";const pc=Fn.forwardRef(({bsPrefix:E,fluid:z=!1,as:Z="div",className:ue,...xe},Se)=>{const U=Go(E,"container"),N=typeof z=="string"?`-${z}`:"-fluid";return Ir.jsx(Z,{ref:Se,...xe,className:vo(ue,z?`${U}${N}`:U)})});pc.displayName="Container";var rL=Function.prototype.bind.call(Function.prototype.call,[].slice);function nL(E,z){return rL(E.querySelectorAll(z))}function aL(E,z,Z){const ue=Fn.useRef(E!==void 0),[xe,Se]=Fn.useState(z),U=E!==void 0,N=ue.current;return ue.current=U,!U&&N&&xe!==z&&Se(z),[U?E:xe,Fn.useCallback((...e)=>{const[d,...P]=e;let n=Z==null?void 0:Z(d,...P);return Se(d),n},[Z])]}function iL(){const[,E]=Fn.useReducer(z=>!z,!1);return E}const zg={prefix:String(Math.round(Math.random()*1e10)),current:0},L5=ja.createContext(zg),oL=ja.createContext(!1);let sL=!!(typeof window<"u"&&window.document&&window.document.createElement),mm=new WeakMap;function lL(E=!1){let z=Fn.useContext(L5),Z=Fn.useRef(null);if(Z.current===null&&!E){var ue,xe;let Se=(xe=ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||xe===void 0||(ue=xe.ReactCurrentOwner)===null||ue===void 0?void 0:ue.current;if(Se){let U=mm.get(Se);U==null?mm.set(Se,{id:z.current,state:Se.memoizedState}):Se.memoizedState!==U.state&&(z.current=U.id,mm.delete(Se))}Z.current=++z.current}return Z.current}function uL(E){let z=Fn.useContext(L5);z===zg&&!sL&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let Z=lL(!!E),ue=`react-aria${z.prefix}`;return E||`${ue}-${Z}`}function fL(E){let z=ja.useId(),[Z]=Fn.useState(pL()),ue=Z?"react-aria":`react-aria${zg.prefix}`;return E||`${ue}-${z}`}const cL=typeof ja.useId=="function"?fL:uL;function hL(){return!1}function vL(){return!0}function dL(E){return()=>{}}function pL(){return typeof ja.useSyncExternalStore=="function"?ja.useSyncExternalStore(dL,hL,vL):Fn.useContext(oL)}const gL=Fn.createContext(null),Vp=(E,z=null)=>E!=null?String(E):z||null,Md=gL,$x=Fn.createContext(null);$x.displayName="NavContext";const yL="data-rr-ui-",mL="rrUi";function qx(E){return`${yL}${E}`}function xL(E){return`${mL}${E}`}const P5=Fn.createContext(null);P5.displayName="NavbarContext";const Pd=Fn.createContext(null),bL=["as","active","eventKey"];function wL(E,z){if(E==null)return{};var Z={};for(var ue in E)if({}.hasOwnProperty.call(E,ue)){if(z.indexOf(ue)>=0)continue;Z[ue]=E[ue]}return Z}function R5({key:E,onClick:z,active:Z,id:ue,role:xe,disabled:Se}){const U=Fn.useContext(Md),N=Fn.useContext($x),e=Fn.useContext(Pd);let d=Z;const P={role:xe};if(N){!xe&&N.role==="tablist"&&(P.role="tab");const n=N.getControllerId(E??null),C=N.getControlledId(E??null);P[qx("event-key")]=E,P.id=n||ue,d=Z==null&&E!=null?N.activeKey===E:Z,(d||!(e!=null&&e.unmountOnExit)&&!(e!=null&&e.mountOnEnter))&&(P["aria-controls"]=C)}return P.role==="tab"&&(P["aria-selected"]=d,d||(P.tabIndex=-1),Se&&(P.tabIndex=-1,P["aria-disabled"]=!0)),P.onClick=Yx(n=>{Se||(z==null||z(n),E!=null&&U&&!n.isPropagationStopped()&&U(E,n))}),[P,{isActive:d}]}const k5=Fn.forwardRef((E,z)=>{let{as:Z=ZC,active:ue,eventKey:xe}=E,Se=wL(E,bL);const[U,N]=R5(Object.assign({key:Vp(xe,Se.href),active:ue},Se));return U[qx("active")]=N.isActive,Ir.jsx(Z,Object.assign({},Se,U,{ref:z}))});k5.displayName="NavItem";const TL=k5,AL=["as","onSelect","activeKey","role","onKeyDown"];function SL(E,z){if(E==null)return{};var Z={};for(var ue in E)if({}.hasOwnProperty.call(E,ue)){if(z.indexOf(ue)>=0)continue;Z[ue]=E[ue]}return Z}const Fw=()=>{},Nw=qx("event-key"),D5=Fn.forwardRef((E,z)=>{let{as:Z="div",onSelect:ue,activeKey:xe,role:Se,onKeyDown:U}=E,N=SL(E,AL);const e=iL(),d=Fn.useRef(!1),P=Fn.useContext(Md),n=Fn.useContext(Pd);let C,x;n&&(Se=Se||"tablist",xe=n.activeKey,C=n.getControlledId,x=n.getControllerId);const v=Fn.useRef(null),p=a=>{const u=v.current;if(!u)return null;const f=nL(u,`[${Nw}]:not([aria-disabled=true])`),l=u.querySelector("[aria-selected=true]");if(!l||l!==document.activeElement)return null;const y=f.indexOf(l);if(y===-1)return null;let c=y+a;return c>=f.length&&(c=0),c<0&&(c=f.length-1),f[c]},r=(a,u)=>{a!=null&&(ue==null||ue(a,u),P==null||P(a,u))},t=a=>{if(U==null||U(a),!n)return;let u;switch(a.key){case"ArrowLeft":case"ArrowUp":u=p(-1);break;case"ArrowRight":case"ArrowDown":u=p(1);break;default:return}u&&(a.preventDefault(),r(u.dataset[xL("EventKey")]||null,a),d.current=!0,e())};Fn.useEffect(()=>{if(v.current&&d.current){const a=v.current.querySelector(`[${Nw}][aria-selected=true]`);a==null||a.focus()}d.current=!1});const o=jx(z,v);return Ir.jsx(Md.Provider,{value:r,children:Ir.jsx($x.Provider,{value:{role:Se,activeKey:Vp(xe),getControlledId:C||Fw,getControllerId:x||Fw},children:Ir.jsx(Z,Object.assign({},N,{onKeyDown:t,ref:o,role:Se}))})})});D5.displayName="Nav";const ML=Object.assign(D5,{Item:TL});function I5({children:E,in:z,onExited:Z,mountOnEnter:ue,unmountOnExit:xe}){const Se=Fn.useRef(null),U=Fn.useRef(z),N=Yx(Z);Fn.useEffect(()=>{z?U.current=!0:N(Se.current)},[z,N]);const e=jx(Se,E.ref),d=Fn.cloneElement(E,{ref:e});return z?d:xe||!U.current&&ue?null:d}var Bw={exports:{}},R1={exports:{}};(function(E,z){Object.defineProperty(z,"__esModule",{value:!0}),z.default=Z;function Z(ue){function xe(U,N,e,d,P,n){var C=d||"<<anonymous>>",x=n||e;if(N[e]==null)return U?new Error("Required "+P+" `"+x+"` was not specified "+("in `"+C+"`.")):null;for(var v=arguments.length,p=Array(v>6?v-6:0),r=6;r<v;r++)p[r-6]=arguments[r];return ue.apply(void 0,[N,e,C,P,x].concat(p))}var Se=xe.bind(null,!1);return Se.isRequired=xe.bind(null,!0),Se}E.exports=z.default})(R1,R1.exports);var EL=R1.exports;(function(E,z){Object.defineProperty(z,"__esModule",{value:!0}),z.default=Se;var Z=EL,ue=xe(Z);function xe(U){return U&&U.__esModule?U:{default:U}}function Se(){for(var U=arguments.length,N=Array(U),e=0;e<U;e++)N[e]=arguments[e];function d(){for(var P=arguments.length,n=Array(P),C=0;C<P;C++)n[C]=arguments[C];var x=null;return N.forEach(function(v){if(x==null){var p=v.apply(void 0,n);p!=null&&(x=p)}}),x}return(0,ue.default)(d)}E.exports=z.default})(Bw,Bw.exports);const _5=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="div",...ue},xe)=>(z=Go(z,"nav-item"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));_5.displayName="NavItem";const z5=Fn.forwardRef(({bsPrefix:E,className:z,as:Z=b5,active:ue,eventKey:xe,disabled:Se=!1,...U},N)=>{E=Go(E,"nav-link");const[e,d]=R5({key:Vp(xe,U.href),active:ue,disabled:Se,...U});return Ir.jsx(Z,{...U,...e,ref:N,disabled:Se,className:vo(z,E,Se&&"disabled",d.isActive&&"active")})});z5.displayName="NavLink";const O5=Fn.forwardRef((E,z)=>{const{as:Z="div",bsPrefix:ue,variant:xe,fill:Se=!1,justify:U=!1,navbar:N,navbarScroll:e,className:d,activeKey:P,...n}=yC(E,{activeKey:"onSelect"}),C=Go(ue,"nav");let x,v,p=!1;const r=Fn.useContext(P5),t=Fn.useContext(Jx);return r?(x=r.bsPrefix,p=N??!0):t&&({cardHeaderBsPrefix:v}=t),Ir.jsx(ML,{as:Z,ref:z,activeKey:P,className:vo(d,{[C]:!p,[`${x}-nav`]:p,[`${x}-nav-scroll`]:p&&e,[`${v}-${xe}`]:!!v,[`${C}-${xe}`]:!!xe,[`${C}-fill`]:Se,[`${C}-justified`]:U}),...n})});O5.displayName="Nav";const Rf=Object.assign(O5,{Item:_5,Link:z5}),Li=Fn.forwardRef(({bsPrefix:E,className:z,as:Z="div",...ue},xe)=>{const Se=Go(E,"row"),U=Gx(),N=Wx(),e=`${Se}-cols`,d=[];return U.forEach(P=>{const n=ue[P];delete ue[P];let C;n!=null&&typeof n=="object"?{cols:C}=n:C=n;const x=P!==N?`-${P}`:"";C!=null&&d.push(`${e}${x}-${C}`)}),Ir.jsx(Z,{ref:xe,...ue,className:vo(z,Se,...d)})});Li.displayName="Row";function CL(E,z=u5,Z=f5){const ue=[];return Object.entries(E).forEach(([xe,Se])=>{Se!=null&&(typeof Se=="object"?z.forEach(U=>{const N=Se[U];if(N!=null){const e=U!==Z?`-${U}`:"";ue.push(`${xe}${e}-${N}`)}}):ue.push(`${xe}-${Se}`))}),ue}const Gp=Fn.forwardRef(({as:E="div",bsPrefix:z,className:Z,direction:ue,gap:xe,...Se},U)=>{z=Go(z,ue==="horizontal"?"hstack":"vstack");const N=Gx(),e=Wx();return Ir.jsx(E,{...Se,ref:U,className:vo(Z,z,...CL({gap:xe},N,e))})});Gp.displayName="Stack";const LL=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],PL=["activeKey","getControlledId","getControllerId"],RL=["as"];function k1(E,z){if(E==null)return{};var Z={};for(var ue in E)if({}.hasOwnProperty.call(E,ue)){if(z.indexOf(ue)>=0)continue;Z[ue]=E[ue]}return Z}function F5(E){let{active:z,eventKey:Z,mountOnEnter:ue,transition:xe,unmountOnExit:Se,role:U="tabpanel",onEnter:N,onEntering:e,onEntered:d,onExit:P,onExiting:n,onExited:C}=E,x=k1(E,LL);const v=Fn.useContext(Pd);if(!v)return[Object.assign({},x,{role:U}),{eventKey:Z,isActive:z,mountOnEnter:ue,transition:xe,unmountOnExit:Se,onEnter:N,onEntering:e,onEntered:d,onExit:P,onExiting:n,onExited:C}];const{activeKey:p,getControlledId:r,getControllerId:t}=v,o=k1(v,PL),a=Vp(Z);return[Object.assign({},x,{role:U,id:r(Z),"aria-labelledby":t(Z)}),{eventKey:Z,isActive:z==null&&a!=null?Vp(p)===a:z,transition:xe||o.transition,mountOnEnter:ue??o.mountOnEnter,unmountOnExit:Se??o.unmountOnExit,onEnter:N,onEntering:e,onEntered:d,onExit:P,onExiting:n,onExited:C}]}const N5=Fn.forwardRef((E,z)=>{let{as:Z="div"}=E,ue=k1(E,RL);const[xe,{isActive:Se,onEnter:U,onEntering:N,onEntered:e,onExit:d,onExiting:P,onExited:n,mountOnEnter:C,unmountOnExit:x,transition:v=I5}]=F5(ue);return Ir.jsx(Pd.Provider,{value:null,children:Ir.jsx(Md.Provider,{value:null,children:Ir.jsx(v,{in:Se,onEnter:U,onEntering:N,onEntered:e,onExit:d,onExiting:P,onExited:n,mountOnEnter:C,unmountOnExit:x,children:Ir.jsx(Z,Object.assign({},xe,{ref:z,hidden:!Se,"aria-hidden":!Se}))})})})});N5.displayName="TabPanel";const B5=E=>{const{id:z,generateChildId:Z,onSelect:ue,activeKey:xe,defaultActiveKey:Se,transition:U,mountOnEnter:N,unmountOnExit:e,children:d}=E,[P,n]=aL(xe,Se,ue),C=cL(z),x=Fn.useMemo(()=>Z||((p,r)=>C?`${C}-${r}-${p}`:null),[C,Z]),v=Fn.useMemo(()=>({onSelect:n,activeKey:P,transition:U,mountOnEnter:N||!1,unmountOnExit:e||!1,getControlledId:p=>x(p,"tabpane"),getControllerId:p=>x(p,"tab")}),[n,P,U,N,e,x]);return Ir.jsx(Pd.Provider,{value:v,children:Ir.jsx(Md.Provider,{value:n||null,children:d})})};B5.Panel=N5;function U5(E){return typeof E=="boolean"?E?Zx:I5:E}const H5=({transition:E,...z})=>Ir.jsx(B5,{...z,transition:U5(E)});H5.displayName="TabContainer";const V5=Fn.forwardRef(({className:E,bsPrefix:z,as:Z="div",...ue},xe)=>(z=Go(z,"tab-content"),Ir.jsx(Z,{ref:xe,className:vo(E,z),...ue})));V5.displayName="TabContent";const G5=Fn.forwardRef(({bsPrefix:E,transition:z,...Z},ue)=>{const[{className:xe,as:Se="div",...U},{isActive:N,onEnter:e,onEntering:d,onEntered:P,onExit:n,onExiting:C,onExited:x,mountOnEnter:v,unmountOnExit:p,transition:r=Zx}]=F5({...Z,transition:U5(z)}),t=Go(E,"tab-pane");return Ir.jsx(Pd.Provider,{value:null,children:Ir.jsx(Md.Provider,{value:null,children:Ir.jsx(r,{in:N,onEnter:e,onEntering:d,onEntered:P,onExit:n,onExiting:C,onExited:x,mountOnEnter:v,unmountOnExit:p,children:Ir.jsx(Se,{...U,ref:ue,className:vo(xe,t,N&&"active")})})})})});G5.displayName="TabPane";const kL={eventKey:Xa.oneOfType([Xa.string,Xa.number]),title:Xa.node.isRequired,disabled:Xa.bool,tabClassName:Xa.string,tabAttrs:Xa.object},W5=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};W5.propTypes=kL;const ef=Object.assign(W5,{Container:H5,Content:V5,Pane:G5}),DL=Fn.forwardRef(({bsPrefix:E,className:z,striped:Z,bordered:ue,borderless:xe,hover:Se,size:U,variant:N,responsive:e,...d},P)=>{const n=Go(E,"table"),C=vo(z,n,N&&`${n}-${N}`,U&&`${n}-${U}`,Z&&`${n}-${typeof Z=="string"?`striped-${Z}`:"striped"}`,ue&&`${n}-bordered`,xe&&`${n}-borderless`,Se&&`${n}-hover`),x=Ir.jsx("table",{...d,className:C,ref:P});if(e){let v=`${n}-responsive`;return typeof e=="string"&&(v=`${v}-${e}`),Ir.jsx("div",{className:v,children:x})}return x});var j5={},Y5={};(function(E){function z(f){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},z(f)}Object.defineProperty(E,"__esModule",{value:!0}),E.default=u;var Z=U(Fn),ue=xe(p5);function xe(f){return f&&f.__esModule?f:{default:f}}function Se(f){if(typeof WeakMap!="function")return null;var l=new WeakMap,y=new WeakMap;return(Se=function(T){return T?y:l})(f)}function U(f,l){if(f&&f.__esModule)return f;if(f===null||z(f)!=="object"&&typeof f!="function")return{default:f};var y=Se(l);if(y&&y.has(f))return y.get(f);var c={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in f)if(h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)){var i=T?Object.getOwnPropertyDescriptor(f,h):null;i&&(i.get||i.set)?Object.defineProperty(c,h,i):c[h]=f[h]}return c.default=f,y&&y.set(f,c),c}function N(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function e(f,l){for(var y=0;y<l.length;y++){var c=l[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function d(f,l,y){return l&&e(f.prototype,l),Object.defineProperty(f,"prototype",{writable:!1}),f}function P(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),l&&n(f,l)}function n(f,l){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,T){return c.__proto__=T,c},n(f,l)}function C(f){var l=p();return function(){var c=r(f),T;if(l){var h=r(this).constructor;T=Reflect.construct(c,arguments,h)}else T=c.apply(this,arguments);return x(this,T)}}function x(f,l){if(l&&(z(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(f)}function v(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(f){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},r(f)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],o=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],a=typeof window<"u";function u(f){var l=function(y){P(T,y);var c=C(T);function T(h){var i;return N(this,T),i=c.call(this,h),i.p=Promise.resolve(),i.resizeHandler=null,i.handlers={},i.syncWindowResize=i.syncWindowResize.bind(v(i)),i.syncEventHandlers=i.syncEventHandlers.bind(v(i)),i.attachUpdateEvents=i.attachUpdateEvents.bind(v(i)),i.getRef=i.getRef.bind(v(i)),i.handleUpdate=i.handleUpdate.bind(v(i)),i.figureCallback=i.figureCallback.bind(v(i)),i.updatePlotly=i.updatePlotly.bind(v(i)),i}return d(T,[{key:"updatePlotly",value:function(i,g,b){var A=this;this.p=this.p.then(function(){if(!A.unmounting){if(!A.el)throw new Error("Missing element reference");return f.react(A.el,{data:A.props.data,layout:A.props.layout,config:A.props.config,frames:A.props.frames})}}).then(function(){A.unmounting||(A.syncWindowResize(i),A.syncEventHandlers(),A.figureCallback(g),b&&A.attachUpdateEvents())}).catch(function(R){A.props.onError&&A.props.onError(R)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(i){this.unmounting=!1;var g=i.frames&&i.frames.length?i.frames.length:0,b=this.props.frames&&this.props.frames.length?this.props.frames.length:0,A=!(i.layout===this.props.layout&&i.data===this.props.data&&i.config===this.props.config&&b===g),R=i.revision!==void 0,m=i.revision!==this.props.revision;!A&&(!R||R&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&a&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||o.forEach(function(g){i.el.on(g,i.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||o.forEach(function(g){i.el.removeListener(g,i.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(i){if(typeof i=="function"){var g=this.el,b=g.data,A=g.layout,R=this.el._transitionData?this.el._transitionData._frames:null,m={data:b,layout:A,frames:R};i(m,this.el)}}},{key:"syncWindowResize",value:function(i){var g=this;a&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(g.el)},window.addEventListener("resize",this.resizeHandler),i&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(i){this.el=i,this.props.debug&&a&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var i=this;t.forEach(function(g){var b=i.props["on"+g],A=i.handlers[g],R=!!A;b&&!R?i.addEventHandler(g,b):!b&&R?i.removeEventHandler(g):b&&R&&b!==A&&(i.removeEventHandler(g),i.addEventHandler(g,b))})}},{key:"addEventHandler",value:function(i,g){this.handlers[i]=g,this.el.on(this.getPlotlyEventName(i),this.handlers[i])}},{key:"removeEventHandler",value:function(i){this.el.removeListener(this.getPlotlyEventName(i),this.handlers[i]),delete this.handlers[i]}},{key:"getPlotlyEventName",value:function(i){return"plotly_"+i.toLowerCase()}},{key:"render",value:function(){return Z.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(Z.Component);return l.propTypes={data:ue.default.arrayOf(ue.default.object),config:ue.default.object,layout:ue.default.object,frames:ue.default.arrayOf(ue.default.object),revision:ue.default.number,onInitialized:ue.default.func,onPurge:ue.default.func,onError:ue.default.func,onUpdate:ue.default.func,debug:ue.default.bool,style:ue.default.object,className:ue.default.string,useResizeHandler:ue.default.bool,divId:ue.default.string},t.forEach(function(y){l.propTypes["on"+y]=ue.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(Y5);var X5={exports:{}};(function(E,z){(function(ue,xe){E.exports=xe()})(self,function(){return function(){var Z={79288:function(U,N,e){var d=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in P){var C=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");d.addStyleRule(C,P[n])}},86712:function(U,N,e){U.exports=e(84224)},37240:function(U,N,e){U.exports=e(51132)},29744:function(U,N,e){U.exports=e(94456)},29352:function(U,N,e){U.exports=e(67244)},96144:function(U,N,e){U.exports=e(97776)},53219:function(U,N,e){U.exports=e(61712)},4624:function(U,N,e){U.exports=e(95856)},54543:function(U,N,e){U.exports=e(54272)},45e3:function(U,N,e){U.exports=e(85404)},62300:function(U,N,e){U.exports=e(26048)},6920:function(U,N,e){U.exports=e(66240)},10264:function(U,N,e){U.exports=e(40448)},32016:function(U,N,e){U.exports=e(64884)},27528:function(U,N,e){U.exports=e(15088)},75556:function(U,N,e){U.exports=e(76744)},39204:function(U,N,e){U.exports=e(94704)},73996:function(U,N,e){U.exports=e(62396)},16489:function(U,N,e){U.exports=e(32028)},5e3:function(U,N,e){U.exports=e(81932)},77280:function(U,N,e){U.exports=e(45536)},33992:function(U,N,e){U.exports=e(42600)},17600:function(U,N,e){U.exports=e(21536)},49116:function(U,N,e){U.exports=e(65664)},46808:function(U,N,e){U.exports=e(29044)},36168:function(U,N,e){U.exports=e(48928)},13792:function(U,N,e){var d=e(32016);d.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),U.exports=d},3920:function(U,N,e){U.exports=e(43480)},25120:function(U,N,e){U.exports=e(6296)},4340:function(U,N,e){U.exports=e(7404)},86152:function(U,N,e){U.exports=e(65456)},56816:function(U,N,e){U.exports=e(22020)},89296:function(U,N,e){U.exports=e(29928)},20260:function(U,N,e){U.exports=e(75792)},32140:function(U,N,e){U.exports=e(156)},84764:function(U,N,e){U.exports=e(45499)},48824:function(U,N,e){U.exports=e(3296)},69967:function(U,N,e){U.exports=e(4184)},8363:function(U,N,e){U.exports=e(36952)},86636:function(U,N,e){U.exports=e(38983)},70192:function(U,N,e){U.exports=e(11572)},81604:function(U,N,e){U.exports=e(76924)},63796:function(U,N,e){U.exports=e(62944)},89336:function(U,N,e){U.exports=e(95443)},67484:function(U,N,e){U.exports=e(34864)},97312:function(U,N,e){U.exports=e(76272)},42192:function(U,N,e){U.exports=e(97924)},29800:function(U,N,e){U.exports=e(15436)},63560:function(U,N,e){U.exports=e(5621)},89904:function(U,N,e){U.exports=e(91304)},50248:function(U,N,e){U.exports=e(41724)},65832:function(U,N,e){U.exports=e(31991)},79440:function(U,N,e){U.exports=e(22869)},13752:function(U,N,e){U.exports=e(67776)},83096:function(U,N,e){U.exports=e(95952)},72196:function(U){U.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(U,N,e){var d=e(72196),P=e(25376),n=e(33816),C=e(31780).templatedArray;e(36208),U.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:d.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:d.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(U,N,e){var d=e(3400),P=e(54460),n=e(23816).draw;U.exports=function(p){var r=p._fullLayout,t=d.filterVisible(r.annotations);if(t.length&&p._fullData.length)return d.syncOrAsync([n,C],p)};function C(v){var p=v._fullLayout;d.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),o=P.getFromId(v,r.yref),a=P.getRefType(r.xref),u=P.getRefType(r.yref);r._extremes={},a==="range"&&x(r,t),u==="range"&&x(r,o)})}function x(v,p){var r=p._id,t=r.charAt(0),o=v[t],a=v["a"+t],u=v[t+"ref"],f=v["a"+t+"ref"],l=v["_"+t+"padplus"],y=v["_"+t+"padminus"],c={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,h=T+c,i=T-c,g=3*v.startarrowsize*v.arrowwidth||0,b=g+c,A=g-c,R;if(f===u){var m=P.findExtremes(p,[p.r2c(o)],{ppadplus:h,ppadminus:i}),L=P.findExtremes(p,[p.r2c(a)],{ppadplus:Math.max(l,b),ppadminus:Math.max(y,A)});R={min:[m.min[0],L.min[0]],max:[m.max[0],L.max[0]]}}else b=a?b+a:b,A=a?A-a:A,R=P.findExtremes(p,[p.r2c(o)],{ppadplus:Math.max(l,h,b),ppadminus:Math.max(y,i,A)});v._extremes[r]=R}},42300:function(U,N,e){var d=e(3400),P=e(24040),n=e(31780).arrayEditor;U.exports={hasClickToShow:C,onClick:x};function C(r,t){var o=v(r,t);return o.on.length>0||o.explicitOff.length>0}function x(r,t){var o=v(r,t),a=o.on,u=o.off.concat(o.explicitOff),f={},l=r._fullLayout.annotations,y,c;if(a.length||u.length){for(y=0;y<a.length;y++)c=n(r.layout,"annotations",l[a[y]]),c.modifyItem("visible",!0),d.extendFlat(f,c.getUpdateObj());for(y=0;y<u.length;y++)c=n(r.layout,"annotations",l[u[y]]),c.modifyItem("visible",!1),d.extendFlat(f,c.getUpdateObj());return P.call("update",r,{},f)}}function v(r,t){var o=r._fullLayout.annotations,a=[],u=[],f=[],l=(t||[]).length,y,c,T,h,i,g,b,A;for(y=0;y<o.length;y++)if(T=o[y],h=T.clicktoshow,h){for(c=0;c<l;c++)if(i=t[c],g=i.xaxis,b=i.yaxis,g._id===T.xref&&b._id===T.yref&&g.d2r(i.x)===p(T._xclick,g)&&b.d2r(i.y)===p(T._yclick,b)){T.visible?h==="onout"?A=u:A=f:A=a,A.push(y);break}c===l&&T.visible&&h==="onout"&&u.push(y)}return{on:a,off:u,explicitOff:f}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(U,N,e){var d=e(3400),P=e(76308);U.exports=function(C,x,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),o=P.opacity(t);p("borderpad");var a=p("borderwidth"),u=p("showarrow");p("text",u?" ":v._dfltTitle.annotation),p("textangle"),d.coerceFont(p,"font",v.font),p("width"),p("align");var f=p("height");if(f&&p("valign"),u){var l=p("arrowside"),y,c;l.indexOf("end")!==-1&&(y=p("arrowhead"),c=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",y),p("startarrowsize",c)),p("arrowcolor",o?x.bordercolor:P.defaultLine),p("arrowwidth",(o&&a||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),h=v.hoverlabel||{};if(T){var i=p("hoverlabel.bgcolor",h.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),g=p("hoverlabel.bordercolor",h.bordercolor||P.contrast(i)),b=d.extendFlat({},h.font);b.color||(b.color=g),d.coerceFont(p,"hoverlabel.font",b)}p("captureevents",!!T)}},26828:function(U,N,e){var d=e(38248),P=e(36896);U.exports=function(C,x,v,p){x=x||{};var r=v==="log"&&x.type==="linear",t=v==="linear"&&x.type==="log";if(!(r||t))return;var o=C._fullLayout.annotations,a=x._id.charAt(0),u,f;function l(c){var T=u[c],h=null;r?h=P(T,x.range):h=Math.pow(10,T),d(h)||(h=null),p(f+c,h)}for(var y=0;y<o.length;y++)u=o[y],f="annotations["+y+"].",u[a+"ref"]===x._id&&l(a),u["a"+a+"ref"]===x._id&&l("a"+a)}},45216:function(U,N,e){var d=e(3400),P=e(54460),n=e(51272),C=e(87192),x=e(13916);U.exports=function(r,t){n(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function o(M,s){return d.coerce(p,r,x,M,s)}var a=o("visible"),u=o("clicktoshow");if(a||u){C(p,r,t,o);for(var f=r.showarrow,l=["x","y"],y=[-10,-30],c={_fullLayout:t},T=0;T<2;T++){var h=l[T],i=P.coerceRef(p,r,c,h,"","paper");if(i!=="paper"){var g=P.getFromId(c,i);g._annIndices.push(r._index)}if(P.coercePosition(r,c,o,i,h,.5),f){var b="a"+h,A=P.coerceRef(p,r,c,b,"pixel",["pixel","paper"]);A!=="pixel"&&A!==i&&(A=r[b]="pixel");var R=A==="pixel"?y[T]:.4;P.coercePosition(r,c,o,A,b,R)}o(h+"anchor"),o(h+"shift")}if(d.noneOrAll(p,r,["x","y"]),f&&d.noneOrAll(p,r,["ax","ay"]),u){var m=o("xclick"),L=o("yclick");r._xclick=m===void 0?r.x:P.cleanPosition(m,c,r.xref),r._yclick=L===void 0?r.y:P.cleanPosition(L,c,r.yref)}}}},23816:function(U,N,e){var d=e(33428),P=e(24040),n=e(7316),C=e(3400),x=C.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),o=e(72736),a=e(93972),u=e(86476),f=e(31780).arrayEditor,l=e(33652);U.exports={draw:y,drawOne:c,drawRaw:h};function y(i){var g=i._fullLayout;g._infolayer.selectAll(".annotation").remove();for(var b=0;b<g.annotations.length;b++)g.annotations[b].visible&&c(i,b);return n.previousPromises(i)}function c(i,g){var b=i._fullLayout,A=b.annotations[g]||{},R=v.getFromId(i,A.xref),m=v.getFromId(i,A.yref);R&&R.setScale(),m&&m.setScale(),h(i,A,g,!1,R,m)}function T(i,g,b,A,R){var m=R[b],L=R[b+"ref"],M=b.indexOf("y")!==-1,s=v.getRefType(L)==="domain",S=M?A.h:A.w;return i?s?m+(M?-g:g)/i._length:i.p2r(i.r2p(m)+g):m+(M?-g:g)/S}function h(i,g,b,A,R,m){var L=i._fullLayout,M=i._fullLayout._size,s=i._context.edits,S,w;A?(S="annotation-"+A,w=A+".annotations"):(S="annotation",w="annotations");var _=f(i.layout,w,g),I=_.modifyBase,H=_.modifyItem,O=_.getUpdateObj;L._infolayer.selectAll("."+S+'[data-index="'+b+'"]').remove();var V="clip"+L._uid+"_ann"+b;if(!g._input||g.visible===!1){d.selectAll("#"+V).remove();return}var B={x:{},y:{}},F=+g.textangle||0,G=L._infolayer.append("g").classed(S,!0).attr("data-index",String(b)).style("opacity",g.opacity),Y=G.append("g").classed("annotation-text-g",!0),Q=s[g.showarrow?"annotationTail":"annotationPosition"],te=g.captureevents||s.annotationText||Q;function ae(me){var we={index:b,annotation:g._input,fullAnnotation:g,event:me};return A&&(we.subplotId=A),we}var fe=Y.append("g").style("pointer-events",te?"all":null).call(a,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",ae(d.event))});g.hovertext&&fe.on("mouseover",function(){var me=g.hoverlabel,we=me.font,Te=this.getBoundingClientRect(),Le=i.getBoundingClientRect();t.loneHover({x0:Te.left-Le.left,x1:Te.right-Le.left,y:(Te.top+Te.bottom)/2-Le.top,text:g.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color,fontWeight:we.weight,fontStyle:we.style,fontVariant:we.variant,fontShadow:we.fontShadow,fontLineposition:we.fontLineposition,fontTextcase:we.fontTextcase},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:i})}).on("mouseout",function(){t.loneUnhover(L._hoverlayer.node())});var oe=g.borderwidth,J=g.borderpad,ee=oe+J,X=fe.append("rect").attr("class","bg").style("stroke-width",oe+"px").call(p.stroke,g.bordercolor).call(p.fill,g.bgcolor),q=g.width||g.height,le=L._topclips.selectAll("#"+V).data(q?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",V).append("rect"),le.exit().remove();var $=g.font,j=L._meta?C.templateString(g.text,L._meta):g.text,se=fe.append("text").classed("annotation-text",!0).text(j);function ne(me){return me.call(r.font,$).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"}),o.convertToTspans(me,i,he),me}function he(){var me=se.selectAll("a");if(me.size()===1&&me.text()===se.text()){var we=fe.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});we.node().appendChild(X.node())}var Te=fe.select(".annotation-text-math-group"),Le=!Te.empty(),Ie=r.bBox((Le?Te:se).node()),ze=Ie.width,Me=Ie.height,_e=g.width||ze,Ce=g.height||Me,Oe=Math.round(_e+2*ee),Pe=Math.round(Ce+2*ee);function Ge(mr,or){return or==="auto"&&(mr<.3333333333333333?or="left":mr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var Ze=!1,it=["x","y"],Je=0;Je<it.length;Je++){var et=it[Je],ft=g[et+"ref"]||et,vt=g["a"+et+"ref"],dt={x:R,y:m}[et],xt=(F+(et==="x"?0:-90))*Math.PI/180,Mt=Oe*Math.cos(xt),nt=Pe*Math.sin(xt),Fe=Math.abs(Mt)+Math.abs(nt),We=g[et+"anchor"],je=g[et+"shift"]*(et==="x"?1:-1),Ke=B[et],ke,Ue,Ve,Re,de,be=v.getRefType(ft);if(dt&&be!=="domain"){var Ne=dt.r2fraction(g[et]);(Ne<0||Ne>1)&&(vt===ft?(Ne=dt.r2fraction(g["a"+et]),(Ne<0||Ne>1)&&(Ze=!0)):Ze=!0),ke=dt._offset+dt.r2p(g[et]),Re=.5}else{var Ye=be==="domain";et==="x"?(Ve=g[et],ke=Ye?dt._offset+dt._length*Ve:ke=M.l+M.w*Ve):(Ve=1-g[et],ke=Ye?dt._offset+dt._length*Ve:ke=M.t+M.h*Ve),Re=g.showarrow?.5:Ve}if(g.showarrow){Ke.head=ke;var at=g["a"+et];if(de=Mt*Ge(.5,g.xanchor)-nt*Ge(.5,g.yanchor),vt===ft){var lt=v.getRefType(vt);lt==="domain"?(et==="y"&&(at=1-at),Ke.tail=dt._offset+dt._length*at):lt==="paper"?et==="y"?(at=1-at,Ke.tail=M.t+M.h*at):Ke.tail=M.l+M.w*at:Ke.tail=dt._offset+dt.r2p(at),Ue=de}else Ke.tail=ke+at,Ue=de+at;Ke.text=Ke.tail+de;var Ht=L[et==="x"?"width":"height"];if(ft==="paper"&&(Ke.head=C.constrain(Ke.head,1,Ht-1)),vt==="pixel"){var Yt=-Math.max(Ke.tail-3,Ke.text),Tt=Math.min(Ke.tail+3,Ke.text)-Ht;Yt>0?(Ke.tail+=Yt,Ke.text+=Yt):Tt>0&&(Ke.tail-=Tt,Ke.text-=Tt)}Ke.tail+=je,Ke.head+=je}else de=Fe*Ge(Re,We),Ue=de,Ke.text=ke+de;Ke.text+=je,de+=je,Ue+=je,g["_"+et+"padplus"]=Fe/2+Ue,g["_"+et+"padminus"]=Fe/2-Ue,g["_"+et+"size"]=Fe,g["_"+et+"shift"]=de}if(Ze){fe.remove();return}var Lt=0,Kt=0;if(g.align!=="left"&&(Lt=(_e-ze)*(g.align==="center"?.5:1)),g.valign!=="top"&&(Kt=(Ce-Me)*(g.valign==="middle"?.5:1)),Le)Te.select("svg").attr({x:ee+Lt-1,y:ee+Kt}).call(r.setClipUrl,q?V:null,i);else{var vr=ee+Kt-Ie.top,gt=ee+Lt-Ie.left;se.call(o.positionText,gt,vr).call(r.setClipUrl,q?V:null,i)}le.select("rect").call(r.setRect,ee,ee,_e,Ce),X.call(r.setRect,oe/2,oe/2,Oe-oe,Pe-oe),fe.call(r.setTranslate,Math.round(B.x.text-Oe/2),Math.round(B.y.text-Pe/2)),Y.attr({transform:"rotate("+F+","+B.x.text+","+B.y.text+")"});var Xt=function(mr,or){G.selectAll(".annotation-arrow-g").remove();var yt=B.x.head,ut=B.y.head,bt=B.x.tail+mr,Et=B.y.tail+or,It=B.x.text+mr,Ft=B.y.text+or,Ot=C.rotationXYMatrix(F,It,Ft),Nt=C.apply2DTransform(Ot),Jt=C.apply2DTransform2(Ot),hr=+X.attr("width"),cr=+X.attr("height"),dr=It-.5*hr,fr=dr+hr,Lr=Ft-.5*cr,xr=Lr+cr,Qe=[[dr,Lr,dr,xr],[dr,xr,fr,xr],[fr,xr,fr,Lr],[fr,Lr,dr,Lr]].map(Jt);if(!Qe.reduce(function(Tr,dn){return Tr^!!C.segmentsIntersect(yt,ut,yt+1e6,ut+1e6,dn[0],dn[1],dn[2],dn[3])},!1)){Qe.forEach(function(Tr){var dn=C.segmentsIntersect(bt,Et,yt,ut,Tr[0],Tr[1],Tr[2],Tr[3]);dn&&(bt=dn.x,Et=dn.y)});var rt=g.arrowwidth,er=g.arrowcolor,tr=g.arrowside,jt=G.append("g").style({opacity:p.opacity(er)}).classed("annotation-arrow-g",!0),Pt=jt.append("path").attr("d","M"+bt+","+Et+"L"+yt+","+ut).style("stroke-width",rt+"px").call(p.stroke,p.rgb(er));if(l(Pt,tr,g),s.annotationPosition&&Pt.node().parentNode&&!A){var Zt=yt,nr=ut;if(g.standoff){var Qt=Math.sqrt(Math.pow(yt-bt,2)+Math.pow(ut-Et,2));Zt+=g.standoff*(bt-yt)/Qt,nr+=g.standoff*(Et-ut)/Qt}var Wt=jt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-Zt)+","+(Et-nr),transform:x(Zt,nr)}).style("stroke-width",rt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),yr,Dr;u.init({element:Wt.node(),gd:i,prepFn:function(){var Tr=r.getTranslate(fe);yr=Tr.x,Dr=Tr.y,R&&R.autorange&&I(R._name+".autorange",!0),m&&m.autorange&&I(m._name+".autorange",!0)},moveFn:function(Tr,dn){var Nr=Nt(yr,Dr),Cn=Nr[0]+Tr,an=Nr[1]+dn;fe.call(r.setTranslate,Cn,an),H("x",T(R,Tr,"x",M,g)),H("y",T(m,dn,"y",M,g)),g.axref===g.xref&&H("ax",T(R,Tr,"ax",M,g)),g.ayref===g.yref&&H("ay",T(m,dn,"ay",M,g)),jt.attr("transform",x(Tr,dn)),Y.attr({transform:"rotate("+F+","+Cn+","+an+")"})},doneFn:function(){P.call("_guiRelayout",i,O());var Tr=document.querySelector(".js-notes-box-panel");Tr&&Tr.redraw(Tr.selectedObj)}})}}};if(g.showarrow&&Xt(0,0),Q){var $t;u.init({element:fe.node(),gd:i,prepFn:function(){$t=Y.attr("transform")},moveFn:function(mr,or){var yt="pointer";if(g.showarrow)g.axref===g.xref?H("ax",T(R,mr,"ax",M,g)):H("ax",g.ax+mr),g.ayref===g.yref?H("ay",T(m,or,"ay",M.w,g)):H("ay",g.ay+or),Xt(mr,or);else{if(A)return;var ut,bt;if(R)ut=T(R,mr,"x",M,g);else{var Et=g._xsize/M.w,It=g.x+(g._xshift-g.xshift)/M.w-Et/2;ut=u.align(It+mr/M.w,Et,0,1,g.xanchor)}if(m)bt=T(m,or,"y",M,g);else{var Ft=g._ysize/M.h,Ot=g.y-(g._yshift+g.yshift)/M.h-Ft/2;bt=u.align(Ot-or/M.h,Ft,0,1,g.yanchor)}H("x",ut),H("y",bt),(!R||!m)&&(yt=u.getCursor(R?.5:ut,m?.5:bt,g.xanchor,g.yanchor))}Y.attr({transform:x(mr,or)+$t}),a(fe,yt)},clickFn:function(mr,or){g.captureevents&&i.emit("plotly_clickannotation",ae(or))},doneFn:function(){a(fe),P.call("_guiRelayout",i,O());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}s.annotationText?se.call(o.makeEditable,{delegate:fe,gd:i}).call(ne).on("edit",function(me){g.text=me,this.call(ne),H("text",me),R&&R.autorange&&I(R._name+".autorange",!0),m&&m.autorange&&I(m._name+".autorange",!0),P.call("_guiRelayout",i,O())}):se.call(ne)}},33652:function(U,N,e){var d=e(33428),P=e(76308),n=e(72196),C=e(3400),x=C.strScale,v=C.strRotate,p=C.strTranslate;U.exports=function(t,o,a){var u=t.node(),f=n[a.arrowhead||0],l=n[a.startarrowhead||0],y=(a.arrowwidth||1)*(a.arrowsize||1),c=(a.arrowwidth||1)*(a.startarrowsize||1),T=o.indexOf("start")>=0,h=o.indexOf("end")>=0,i=f.backoff*y+a.standoff,g=l.backoff*c+a.startstandoff,b,A,R,m;if(u.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},A={x:+t.attr("x2"),y:+t.attr("y2")};var L=b.x-A.x,M=b.y-A.y;if(R=Math.atan2(M,L),m=R+Math.PI,i&&g&&i+g>Math.sqrt(L*L+M*M)){Y();return}if(i){if(i*i>L*L+M*M){Y();return}var s=i*Math.cos(R),S=i*Math.sin(R);A.x+=s,A.y+=S,t.attr({x2:A.x,y2:A.y})}if(g){if(g*g>L*L+M*M){Y();return}var w=g*Math.cos(R),_=g*Math.sin(R);b.x-=w,b.y-=_,t.attr({x1:b.x,y1:b.y})}}else if(u.nodeName==="path"){var I=u.getTotalLength(),H="";if(I<i+g){Y();return}var O=u.getPointAtLength(0),V=u.getPointAtLength(.1);R=Math.atan2(O.y-V.y,O.x-V.x),b=u.getPointAtLength(Math.min(g,I)),H="0px,"+g+"px,";var B=u.getPointAtLength(I),F=u.getPointAtLength(I-.1);m=Math.atan2(B.y-F.y,B.x-F.x),A=u.getPointAtLength(Math.max(0,I-i));var G=H?g+i:i;H+=I-G+"px,"+I+"px",t.style("stroke-dasharray",H)}function Y(){t.style("stroke-dasharray","0px,100px")}function Q(te,ae,fe,oe){te.path&&(te.noRotate&&(fe=0),d.select(u.parentNode).append("path").attr({class:t.attr("class"),d:te.path,transform:p(ae.x,ae.y)+v(fe*180/Math.PI)+x(oe)}).style({fill:P.rgb(a.arrowcolor),"stroke-width":0}))}T&&Q(l,b,R,c),h&&Q(f,A,m,y)}},79180:function(U,N,e){var d=e(23816),P=e(42300);U.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:d.draw,drawOne:d.drawOne,drawRaw:d.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(U,N,e){var d=e(13916),P=e(67824).overrideAll,n=e(31780).templatedArray;U.exports=P(n("annotation",{visible:d.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:d.xanchor,xshift:d.xshift,yanchor:d.yanchor,yshift:d.yshift,text:d.text,textangle:d.textangle,font:d.font,width:d.width,height:d.height,opacity:d.opacity,align:d.align,valign:d.valign,bgcolor:d.bgcolor,bordercolor:d.bordercolor,borderpad:d.borderpad,borderwidth:d.borderwidth,showarrow:d.showarrow,arrowcolor:d.arrowcolor,arrowhead:d.arrowhead,startarrowhead:d.startarrowhead,arrowside:d.arrowside,arrowsize:d.arrowsize,startarrowsize:d.startarrowsize,arrowwidth:d.arrowwidth,standoff:d.standoff,startstandoff:d.startstandoff,hovertext:d.hovertext,hoverlabel:d.hoverlabel,captureevents:d.captureevents}),"calc","from-root")},42456:function(U,N,e){var d=e(3400),P=e(54460);U.exports=function(x){for(var v=x.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)n(p[r],x);x.fullLayout._infolayer.selectAll(".annotation-"+x.id).remove()};function n(C,x){var v=x.fullSceneLayout,p=v.domain,r=x.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},d.extendFlat(C._xa,t),P.setConvert(C._xa),C._xa._offset=r.l+p.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(p.x[1]-p.x[0])},C._ya={},d.extendFlat(C._ya,t),P.setConvert(C._ya),C._ya._offset=r.t+(1-p.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(U,N,e){var d=e(3400),P=e(54460),n=e(51272),C=e(87192),x=e(45899);U.exports=function(r,t,o){n(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:o.fullLayout})};function v(p,r,t,o){function a(l,y){return d.coerce(p,r,x,l,y)}function u(l){var y=l+"axis",c={_fullLayout:{}};return c._fullLayout[y]=t[y],P.coercePosition(r,c,a,l,l,.5)}var f=a("visible");f&&(C(p,r,o.fullLayout,a),u("x"),u("y"),u("z"),d.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),d.noneOrAll(p,r,["ax","ay"])))}},71836:function(U,N,e){var d=e(23816).drawRaw,P=e(94424),n=["x","y","z"];U.exports=function(x){for(var v=x.fullSceneLayout,p=x.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var o=r[t],a=!1,u=0;u<3;u++){var f=n[u],l=o[f],y=v[f+"axis"],c=y.r2fraction(l);if(c<0||c>1){a=!0;break}}a?x.fullLayout._infolayer.select(".annotation-"+x.id+'[data-index="'+t+'"]').remove():(o._pdata=P(x.glplot.cameraParams,[v.xaxis.r2l(o.x)*p[0],v.yaxis.r2l(o.y)*p[1],v.zaxis.r2l(o.z)*p[2]]),d(x.graphDiv,o,t,x.id,o._xa,o._ya))}}},56864:function(U,N,e){var d=e(24040),P=e(3400);U.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:n,convert:e(42456),draw:e(71836)};function n(C,x){var v=d.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var o=r[t];p.test(o)&&(C[o].annotations||[]).length&&(P.pushUnique(x._basePlotModules,v),P.pushUnique(x._subplots.gl3d,o))}}},54976:function(U,N,e){U.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(U,N,e){var d=e(54976),P=e(3400),n=e(39032),C=n.EPOCHJD,x=n.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(d.calendars),editType:"calc",dflt:"gregorian"},p=function(R,m,L,M){var s={};return s[L]=v,P.coerce(R,m,s,L,M)},r=function(R,m,L,M){for(var s=0;s<L.length;s++)p(R,m,L[s]+"calendar",M.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},o={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},a={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(R,m,L){for(var M=Math.floor((m+.05)/x)+C,s=c(L).fromJD(M),S=0,w,_,I,H,O;(S=R.indexOf("%",S))!==-1;)w=R.charAt(S+1),w==="0"||w==="-"||w==="_"?(I=3,_=R.charAt(S+2),w==="_"&&(w="-")):(_=w,w="0",I=2),H=f[_],H?(H===u?O=u:O=s.formatDate(H[w]),R=R.substr(0,S)+O+R.substr(S+I),S+=O.length):S+=I;return R}var y={};function c(R){var m=y[R];return m||(m=y[R]=d.instance(R),m)}function T(R){return P.extendFlat({},v,{description:R})}function h(R){return"Sets the calendar system to use with `"+R+"` date data."}var i={xcalendar:T(h("x"))},g=P.extendFlat({},i,{ycalendar:T(h("y"))}),b=P.extendFlat({},g,{zcalendar:T(h("z"))}),A=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));U.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:g,bar:g,box:g,heatmap:g,contour:g,histogram:g,histogram2d:g,histogram2dcontour:g,scatter3d:b,surface:b,mesh3d:b,scattergl:g,ohlc:i,candlestick:i},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:o,CANONICAL_TICK:t,DFLTRANGE:a,getCal:c,worldCalFmt:l}},22548:function(U,N){N.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],N.defaultLine="#444",N.lightLine="#eee",N.background="#fff",N.borderLine="#BEC8D9",N.lightFraction=90.9090909090909},76308:function(U,N,e){var d=e(49760),P=e(38248),n=e(38116).isTypedArray,C=U.exports={},x=e(22548);C.defaults=x.defaults;var v=C.defaultLine=x.defaultLine;C.lightLine=x.lightLine;var p=C.background=x.background;C.tinyRGB=function(t){var o=t.toRgb();return"rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")"},C.rgb=function(t){return C.tinyRGB(d(t))},C.opacity=function(t){return t?d(t).getAlpha():0},C.addOpacity=function(t,o){var a=d(t).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+o+")"},C.combine=function(t,o){var a=d(t).toRgb();if(a.a===1)return d(t).toRgbString();var u=d(o||p).toRgb(),f=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},l={r:f.r*(1-a.a)+a.r*a.a,g:f.g*(1-a.a)+a.g*a.a,b:f.b*(1-a.a)+a.b*a.a};return d(l).toRgbString()},C.interpolate=function(t,o,a){var u=d(t).toRgb(),f=d(o).toRgb(),l={r:a*u.r+(1-a)*f.r,g:a*u.g+(1-a)*f.g,b:a*u.b+(1-a)*f.b};return d(l).toRgbString()},C.contrast=function(t,o,a){var u=d(t);u.getAlpha()!==1&&(u=d(C.combine(t,p)));var f=u.isDark()?o?u.lighten(o):p:a?u.darken(a):v;return f.toString()},C.stroke=function(t,o){var a=d(o);t.style({stroke:C.tinyRGB(a),"stroke-opacity":a.getAlpha()})},C.fill=function(t,o){var a=d(o);t.style({fill:C.tinyRGB(a),"fill-opacity":a.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var o=Object.keys(t),a,u,f,l;for(a=0;a<o.length;a++)if(f=o[a],l=t[f],f.substr(f.length-5)==="color")if(Array.isArray(l))for(u=0;u<l.length;u++)l[u]=r(l[u]);else t[f]=r(l);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(l))for(u=0;u<l.length;u++)Array.isArray(l[u])&&(l[u][1]=r(l[u][1]));else if(Array.isArray(l)){var y=l[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(u=0;u<l.length;u++)C.clean(l[u])}else l&&typeof l=="object"&&!n(l)&&C.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var o=t.trim();if(o.substr(0,3)!=="rgb")return t;var a=o.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return t;var u=a[1].trim().split(/\s*[\s,]\s*/),f=o.charAt(3)==="a"&&u.length===4;if(!f&&u.length!==3)return t;for(var l=0;l<u.length;l++){if(!u[l].length||(u[l]=Number(u[l]),!(u[l]>=0)))return t;if(l===3)u[l]>1&&(u[l]=1);else if(u[l]>=1)return t}var y=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return f?"rgba("+y+", "+u[3]+")":"rgb("+y+")"}},42996:function(U,N,e){var d=e(94724),P=e(25376),n=e(92880).extendFlat,C=e(67824).overrideAll;U.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:d.linecolor,outlinewidth:d.linewidth,bordercolor:d.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:n({},d.ticks,{dflt:""}),ticklabeloverflow:n({},d.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:P({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(U){U.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(U,N,e){var d=e(3400),P=e(31780),n=e(26332),C=e(25404),x=e(95936),v=e(42568),p=e(42996);U.exports=function(t,o,a){var u=P.newContainer(o,"colorbar"),f=t.colorbar||{};function l(B,F){return d.coerce(f,u,p,B,F)}var y=a.margin||{t:0,b:0,l:0,r:0},c=a.width-y.l-y.r,T=a.height-y.t-y.b,h=l("orientation"),i=h==="v",g=l("thicknessmode");l("thickness",g==="fraction"?30/(i?c:T):30);var b=l("lenmode");l("len",b==="fraction"?1:i?T:c);var A=l("yref"),R=l("xref"),m=A==="paper",L=R==="paper",M,s,S,w="left";i?(S="middle",w=L?"left":"right",M=L?1.02:1,s=.5):(S=m?"bottom":"top",w="center",M=.5,s=m?1.02:1),d.coerce(f,u,{x:{valType:"number",min:L?-2:0,max:L?3:1,dflt:M}},"x"),d.coerce(f,u,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:s}},"y"),l("xanchor",w),l("xpad"),l("yanchor",S),l("ypad"),d.noneOrAll(f,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var _=d.coerce(f,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(f,u,l,"linear");var I=a.font,H={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:I};_.indexOf("inside")!==-1&&(H.bgColor="black"),v(f,u,l,"linear",H),x(f,u,l,"linear",H),C(f,u,l,"linear",H),l("title.text",a._dfltTitle.colorbar);var O=u.showticklabels?u.tickfont:I,V=d.extendFlat({},I,{family:O.family,size:d.bigFont(O.size)});d.coerceFont(l,"title.font",V),l("title.side",i?"top":"right")}},37848:function(U,N,e){var d=e(33428),P=e(49760),n=e(7316),C=e(24040),x=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,o=e(93972),a=e(43616),u=e(76308),f=e(81668),l=e(72736),y=e(94288).flipScale,c=e(28336),T=e(37668),h=e(94724),i=e(84284),g=i.LINE_SPACING,b=i.FROM_TL,A=i.FROM_BR,R=e(63964).cn;function m(_){var I=_._fullLayout,H=I._infolayer.selectAll("g."+R.colorbar).data(L(_),function(O){return O._id});H.enter().append("g").attr("class",function(O){return O._id}).classed(R.colorbar,!0),H.each(function(O){var V=d.select(this);p.ensureSingle(V,"rect",R.cbbg),p.ensureSingle(V,"g",R.cbfills),p.ensureSingle(V,"g",R.cblines),p.ensureSingle(V,"g",R.cbaxis,function(F){F.classed(R.crisp,!0)}),p.ensureSingle(V,"g",R.cbtitleunshift,function(F){F.append("g").classed(R.cbtitle,!0)}),p.ensureSingle(V,"rect",R.cboutline);var B=M(V,O,_);B&&B.then&&(_._promises||[]).push(B),_._context.edits.colorbarPosition&&s(V,O,_)}),H.exit().each(function(O){n.autoMargin(_,O._id)}).remove(),H.order()}function L(_){var I=_._fullLayout,H=_.calcdata,O=[],V,B,F,G;function Y($){return t($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){typeof G.calc=="function"?G.calc(_,F,V):(V._fillgradient=B.reversescale?y(B.colorscale):B.colorscale,V._zrange=[B[G.min],B[G.max]])}for(var te=0;te<H.length;te++){var ae=H[te];if(F=ae[0].trace,!!F._module){var fe=F._module.colorbar;if(F.visible===!0&&fe)for(var oe=Array.isArray(fe),J=oe?fe:[fe],ee=0;ee<J.length;ee++){G=J[ee];var X=G.container;B=X?F[X]:F,B&&B.showscale&&(V=Y(B.colorbar),V._id="cb"+F.uid+(oe&&X?"-"+X:""),V._traceIndex=F.index,V._propPrefix=(X?X+".":"")+"colorbar.",V._meta=F._meta,Q(),O.push(V))}}}for(var q in I._colorAxes)if(B=I[q],B.showscale){var le=I._colorAxes[q];V=Y(B.colorbar),V._id="cb"+q,V._propPrefix=q+".colorbar.",V._meta=I._meta,G={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(F=le[1],G.calc=F._module.colorbar.calc),Q(),O.push(V)}return O}function M(_,I,H){var O=I.orientation==="v",V=I.len,B=I.lenmode,F=I.thickness,G=I.thicknessmode,Y=I.outlinewidth,Q=I.borderwidth,te=I.bgcolor,ae=I.xanchor,fe=I.yanchor,oe=I.xpad,J=I.ypad,ee=I.x,X=O?I.y:1-I.y,q=I.yref==="paper",le=I.xref==="paper",$=H._fullLayout,j=$._size,se=I._fillcolor,ne=I._line,he=I.title,me=he.side,we=I._zrange||d.extent((typeof se=="function"?se:ne.color).domain()),Te=typeof ne.color=="function"?ne.color:function(){return ne.color},Le=typeof se=="function"?se:function(){return se},Ie=I._levels,ze=S(H,I,we),Me=ze.fill,_e=ze.line,Ce=Math.round(F*(G==="fraction"?O?j.w:j.h:1)),Oe=Ce/(O?j.w:j.h),Pe=Math.round(V*(B==="fraction"?O?j.h:j.w:1)),Ge=Pe/(O?j.h:j.w),Ze=le?j.w:H._fullLayout.width,it=q?j.h:H._fullLayout.height,Je=Math.round(O?ee*Ze+oe:X*it+J),et={center:.5,right:1}[ae]||0,ft={top:1,middle:.5}[fe]||0,vt=O?ee-et*Oe:X-ft*Oe,dt=O?X-ft*Ge:ee-et*Ge,xt=Math.round(O?it*(1-dt):Ze*dt);I._lenFrac=Ge,I._thickFrac=Oe,I._uFrac=vt,I._vFrac=dt;var Mt=I._axis=w(H,I,we);Mt.position=Oe+(O?ee+oe/j.w:X+J/j.h);var nt=["top","bottom"].indexOf(me)!==-1;if(O&&nt&&(Mt.title.side=me,Mt.titlex=ee+oe/j.w,Mt.titley=dt+(he.side==="top"?Ge-J/j.h:J/j.h)),!O&&!nt&&(Mt.title.side=me,Mt.titley=X+J/j.h,Mt.titlex=dt+oe/j.w),ne.color&&I.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=Ie.start;var Fe=Ie.size,We=p.constrain(Pe/50,4,15)+1,je=(we[1]-we[0])/((I.nticks||We)*Fe);if(je>1){var Ke=Math.pow(10,Math.floor(Math.log(je)/Math.LN10));Fe*=Ke*p.roundUp(je/Ke,[2,5,10]),(Math.abs(Ie.start)/Ie.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=Fe}Mt.domain=O?[dt+J/j.h,dt+Ge-J/j.h]:[dt+oe/j.w,dt+Ge-oe/j.w],Mt.setScale(),_.attr("transform",r(Math.round(j.l),Math.round(j.t)));var ke=_.select("."+R.cbtitleunshift).attr("transform",r(-Math.round(j.l),-Math.round(j.t))),Ue=Mt.ticklabelposition,Ve=Mt.title.font.size,Re=_.select("."+R.cbaxis),de,be=0,Ne=0;function Ye(Tt,Lt){var Kt={propContainer:Mt,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:$._dfltTitle.colorbar,containerGroup:_.select("."+R.cbtitle)},vr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;_.selectAll("."+vr+",."+vr+"-math-group").remove(),f.draw(H,Tt,t(Kt,Lt||{}))}function at(){if(O&&nt||!O&&!nt){var Tt,Lt;me==="top"&&(Tt=oe+j.l+Ze*ee,Lt=J+j.t+it*(1-dt-Ge)+3+Ve*.75),me==="bottom"&&(Tt=oe+j.l+Ze*ee,Lt=J+j.t+it*(1-dt)-3-Ve*.25),me==="right"&&(Lt=J+j.t+it*X+3+Ve*.75,Tt=oe+j.l+Ze*dt),Ye(Mt._id+"title",{attributes:{x:Tt,y:Lt,"text-anchor":O?"start":"middle"}})}}function lt(){if(O&&!nt||!O&&nt){var Tt=Mt.position||0,Lt=Mt._offset+Mt._length/2,Kt,vr;if(me==="right")vr=Lt,Kt=j.l+Ze*Tt+10+Ve*(Mt.showticklabels?1:.5);else if(Kt=Lt,me==="bottom"&&(vr=j.t+it*Tt+10+(Ue.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&I.ticklen||0)),me==="top"){var gt=he.text.split("<br>").length;vr=j.t+it*Tt+10-Ce-g*Ve*gt}Ye((O?"h":"v")+Mt._id+"title",{avoid:{selection:d.select(H).selectAll("g."+Mt._id+"tick"),side:me,offsetTop:O?0:j.t,offsetLeft:O?j.l:0,maxShift:O?$.width:$.height},attributes:{x:Kt,y:vr,"text-anchor":"middle"},transform:{rotate:O?-90:0,offset:0}})}}function Ht(){if(!O&&!nt||O&&nt){var Tt=_.select("."+R.cbtitle),Lt=Tt.select("text"),Kt=[-Y/2,Y/2],vr=Tt.select(".h"+Mt._id+"title-math-group").node(),gt=15.6;Lt.node()&&(gt=parseInt(Lt.node().style.fontSize,10)*g);var Xt;if(vr?(Xt=a.bBox(vr),Ne=Xt.width,be=Xt.height,be>gt&&(Kt[1]-=(be-gt)/2)):Lt.node()&&!Lt.classed(R.jsPlaceholder)&&(Xt=a.bBox(Lt.node()),Ne=Xt.width,be=Xt.height),O){if(be){if(be+=5,me==="top")Mt.domain[1]-=be/j.h,Kt[1]*=-1;else{Mt.domain[0]+=be/j.h;var $t=l.lineCount(Lt);Kt[1]+=(1-$t)*gt}Tt.attr("transform",r(Kt[0],Kt[1])),Mt.setScale()}}else Ne&&(me==="right"&&(Mt.domain[0]+=(Ne+Ve/2)/j.w),Tt.attr("transform",r(Kt[0],Kt[1])),Mt.setScale())}_.selectAll("."+R.cbfills+",."+R.cblines).attr("transform",O?r(0,Math.round(j.h*(1-Mt.domain[1]))):r(Math.round(j.w*Mt.domain[0]),0)),Re.attr("transform",O?r(0,Math.round(-j.t)):r(Math.round(-j.l),0));var mr=_.select("."+R.cbfills).selectAll("rect."+R.cbfill).attr("style","").data(Me);mr.enter().append("rect").classed(R.cbfill,!0).attr("style",""),mr.exit().remove();var or=we.map(Mt.c2p).map(Math.round).sort(function(It,Ft){return It-Ft});mr.each(function(It,Ft){var Ot=[Ft===0?we[0]:(Me[Ft]+Me[Ft-1])/2,Ft===Me.length-1?we[1]:(Me[Ft]+Me[Ft+1])/2].map(Mt.c2p).map(Math.round);O&&(Ot[1]=p.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,or[0],or[1]));var Nt=d.select(this).attr(O?"x":"y",Je).attr(O?"y":"x",d.min(Ot)).attr(O?"width":"height",Math.max(Ce,2)).attr(O?"height":"width",Math.max(d.max(Ot)-d.min(Ot),2));if(I._fillgradient)a.gradient(Nt,H,I._id,O?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Jt=Le(It).replace("e-","");Nt.attr("fill",P(Jt).toHexString())}});var yt=_.select("."+R.cblines).selectAll("path."+R.cbline).data(ne.color&&ne.width?_e:[]);yt.enter().append("path").classed(R.cbline,!0),yt.exit().remove(),yt.each(function(It){var Ft=Je,Ot=Math.round(Mt.c2p(It))+ne.width/2%1;d.select(this).attr("d","M"+(O?Ft+","+Ot:Ot+","+Ft)+(O?"h":"v")+Ce).call(a.lineGroupStyle,ne.width,Te(It),ne.dash)}),Re.selectAll("g."+Mt._id+"tick,path").remove();var ut=Je+Ce+(Y||0)/2-(I.ticks==="outside"?1:0),bt=x.calcTicks(Mt),Et=x.getTickSigns(Mt)[2];return x.drawTicks(H,Mt,{vals:Mt.ticks==="inside"?x.clipEnds(Mt,bt):bt,layer:Re,path:x.makeTickPath(Mt,ut,Et),transFn:x.makeTransTickFn(Mt)}),x.drawLabels(H,Mt,{vals:bt,layer:Re,transFn:x.makeTransTickLabelFn(Mt),labelFns:x.makeLabelFns(Mt,ut)})}function Yt(){var Tt,Lt=Ce+Y/2;Ue.indexOf("inside")===-1&&(Tt=a.bBox(Re.node()),Lt+=O?Tt.width:Tt.height),de=ke.select("text");var Kt=0,vr=O&&me==="top",gt=!O&&me==="right",Xt=0;if(de.node()&&!de.classed(R.jsPlaceholder)){var $t,mr=ke.select(".h"+Mt._id+"title-math-group").node();mr&&(O&&nt||!O&&!nt)?(Tt=a.bBox(mr),Kt=Tt.width,$t=Tt.height):(Tt=a.bBox(ke.node()),Kt=Tt.right-j.l-(O?Je:xt),$t=Tt.bottom-j.t-(O?xt:Je),!O&&me==="top"&&(Lt+=Tt.height,Xt=Tt.height)),gt&&(de.attr("transform",r(Kt/2+Ve/2,0)),Kt*=2),Lt=Math.max(Lt,O?Kt:$t)}var or=(O?oe:J)*2+Lt+Q+Y/2,yt=0;!O&&he.text&&fe==="bottom"&&X<=0&&(yt=or/2,or+=yt,Xt+=yt),$._hColorbarMoveTitle=yt,$._hColorbarMoveCBTitle=Xt;var ut=Q+Y,bt=(O?Je:xt)-ut/2-(O?oe:0),Et=(O?xt:Je)-(O?Pe:J+Xt-yt);_.select("."+R.cbbg).attr("x",bt).attr("y",Et).attr(O?"width":"height",Math.max(or-yt,2)).attr(O?"height":"width",Math.max(Pe+ut,2)).call(u.fill,te).call(u.stroke,I.bordercolor).style("stroke-width",Q);var It=gt?Math.max(Kt-10,0):0;_.selectAll("."+R.cboutline).attr("x",(O?Je:xt+oe)+It).attr("y",(O?xt+J-Pe:Je)+(vr?be:0)).attr(O?"width":"height",Math.max(Ce,2)).attr(O?"height":"width",Math.max(Pe-(O?2*J+be:2*oe+It),2)).call(u.stroke,I.outlinecolor).style({fill:"none","stroke-width":Y});var Ft=O?et*or:0,Ot=O?0:(1-ft)*or-Xt;if(Ft=le?j.l-Ft:-Ft,Ot=q?j.t-Ot:-Ot,_.attr("transform",r(Ft,Ot)),!O&&(Q||P(te).getAlpha()&&!P.equals($.paper_bgcolor,te))){var Nt=Re.selectAll("text"),Jt=Nt[0].length,hr=_.select("."+R.cbbg).node(),cr=a.bBox(hr),dr=a.getTranslate(_),fr=2;Nt.each(function(nr,Qt){var Wt=0,yr=Jt-1;if(Qt===Wt||Qt===yr){var Dr=a.bBox(this),Tr=a.getTranslate(this),dn;if(Qt===yr){var Nr=Dr.right+Tr.x,Cn=cr.right+dr.x+xt-Q-fr+ee;dn=Cn-Nr,dn>0&&(dn=0)}else if(Qt===Wt){var an=Dr.left+Tr.x,gr=cr.left+dr.x+xt+Q+fr;dn=gr-an,dn<0&&(dn=0)}dn&&(Jt<3?this.setAttribute("transform","translate("+dn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Lr={},xr=b[ae],Qe=A[ae],rt=b[fe],er=A[fe],tr=or-Ce;O?(B==="pixels"?(Lr.y=X,Lr.t=Pe*rt,Lr.b=Pe*er):(Lr.t=Lr.b=0,Lr.yt=X+V*rt,Lr.yb=X-V*er),G==="pixels"?(Lr.x=ee,Lr.l=or*xr,Lr.r=or*Qe):(Lr.l=tr*xr,Lr.r=tr*Qe,Lr.xl=ee-F*xr,Lr.xr=ee+F*Qe)):(B==="pixels"?(Lr.x=ee,Lr.l=Pe*xr,Lr.r=Pe*Qe):(Lr.l=Lr.r=0,Lr.xl=ee+V*xr,Lr.xr=ee-V*Qe),G==="pixels"?(Lr.y=1-X,Lr.t=or*rt,Lr.b=or*er):(Lr.t=tr*rt,Lr.b=tr*er,Lr.yt=X-F*rt,Lr.yb=X+F*er));var jt=I.y<.5?"b":"t",Pt=I.x<.5?"l":"r";H._fullLayout._reservedMargin[I._id]={};var Zt={r:$.width-bt-Ft,l:bt+Lr.r,b:$.height-Et-Ot,t:Et+Lr.b};le&&q?n.autoMargin(H,I._id,Lr):le?H._fullLayout._reservedMargin[I._id][jt]=Zt[jt]:q||O?H._fullLayout._reservedMargin[I._id][Pt]=Zt[Pt]:H._fullLayout._reservedMargin[I._id][jt]=Zt[jt]}return p.syncOrAsync([n.previousPromises,at,Ht,lt,n.previousPromises,Yt],H)}function s(_,I,H){var O=I.orientation==="v",V=H._fullLayout,B=V._size,F,G,Y;v.init({element:_.node(),gd:H,prepFn:function(){F=_.attr("transform"),o(_)},moveFn:function(Q,te){_.attr("transform",F+r(Q,te)),G=v.align((O?I._uFrac:I._vFrac)+Q/B.w,O?I._thickFrac:I._lenFrac,0,1,I.xanchor),Y=v.align((O?I._vFrac:1-I._uFrac)-te/B.h,O?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ae=v.getCursor(G,Y,I.xanchor,I.yanchor);o(_,ae)},doneFn:function(){if(o(_),G!==void 0&&Y!==void 0){var Q={};Q[I._propPrefix+"x"]=G,Q[I._propPrefix+"y"]=Y,I._traceIndex!==void 0?C.call("_guiRestyle",H,Q,I._traceIndex):C.call("_guiRelayout",H,Q)}}})}function S(_,I,H){var O=I._levels,V=[],B=[],F,G,Y=O.end+O.size/100,Q=O.size,te=1.001*H[0]-.001*H[1],ae=1.001*H[1]-.001*H[0];for(G=0;G<1e5&&(F=O.start+G*Q,!(Q>0?F>=Y:F<=Y));G++)F>te&&F<ae&&V.push(F);if(I._fillgradient)B=[0];else if(typeof I._fillcolor=="function"){var fe=I._filllevels;if(fe)for(Y=fe.end+fe.size/100,Q=fe.size,G=0;G<1e5&&(F=fe.start+G*Q,!(Q>0?F>=Y:F<=Y));G++)F>H[0]&&F<H[1]&&B.push(F);else B=V.map(function(oe){return oe-O.size/2}),B.push(B[B.length-1]+O.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(B=[0]);return O.size<0&&(V.reverse(),B.reverse()),{line:V,fill:B}}function w(_,I,H){var O=_._fullLayout,V=I.orientation==="v",B={type:"linear",range:H,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:V?"right":"bottom",position:1},F=V?"y":"x",G={type:"linear",_id:F+I._id},Y={letter:F,font:O.font,noAutotickangles:F==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:O.calendar};function Q(te,ae){return p.coerce(B,G,h,te,ae)}return c(B,G,Q,Y,O),T(B,G,Q,Y),G}U.exports={draw:m}},90553:function(U,N,e){var d=e(3400);U.exports=function(n){return d.isPlainObject(n.colorbar)}},55080:function(U,N,e){U.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(U,N,e){var d=e(42996),P=e(53756).counter,n=e(95376),C=e(88304).scales;n(C),U.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",o="showScaleDflt"in p?p.showScaleDflt:r==="z",a=typeof p.colorscaleDflt=="string"?C[p.colorscaleDflt]:null,u=p.editTypeOverride||"",f;"colorAttr"in p?(f=p.colorAttr,p.colorAttr):f={z:"z",c:"color"}[r];var l=r+"auto",y=r+"min",c=r+"max",T=r+"mid",h={};h[y]=h[c]=void 0;var i={};i[l]=!1;var g={};return f==="color"&&(g.color={valType:"color",arrayOk:!0,editType:u||"style"},p.anim&&(g.color.anim=!0)),g[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},g[y]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:i},g[c]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:i},g[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},g.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},g.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},g.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(g.showscale={valType:"boolean",dflt:o,editType:"calc"},g.colorbar=d),p.noColorAxis||(g.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),g}},47128:function(U,N,e){var d=e(38248),P=e(3400),n=e(94288).extractOpts;U.exports=function(x,v,p){var r=x._fullLayout,t=p.vals,o=p.containerStr,a=o?P.nestedProperty(v,o).get():v,u=n(a),f=u.auto!==!1,l=u.min,y=u.max,c=u.mid,T=function(){return P.aggNums(Math.min,null,t)},h=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=T():f&&(a._colorAx&&d(l)?l=Math.min(l,T()):l=T()),y===void 0?y=h():f&&(a._colorAx&&d(y)?y=Math.max(y,h()):y=h()),f&&c!==void 0&&(y-c>c-l?l=c-(y-c):y-c<c-l&&(y=c+(c-l))),l===y&&(l-=.5,y+=.5),u._sync("min",l),u._sync("max",y),u.autocolorscale){var i;l*y<0?i=r.colorscale.diverging:l>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,u._sync("colorscale",i)}}},95504:function(U,N,e){var d=e(3400),P=e(94288).hasColorscale,n=e(94288).extractOpts;U.exports=function(x,v){function p(l,y){var c=l["_"+y];c!==void 0&&(l[y]=c)}function r(l,y){var c=y.container?d.nestedProperty(l,y.container).get():l;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var T=n(c),h=T.auto;(h||T.min===void 0)&&p(c,y.min),(h||T.max===void 0)&&p(c,y.max),T.autocolorscale&&p(c,"colorscale")}}for(var t=0;t<x.length;t++){var o=x[t],a=o._module.colorbar;if(a)if(Array.isArray(a))for(var u=0;u<a.length;u++)r(o,a[u]);else r(o,a);P(o,"marker.line")&&r(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)r(v[f],{min:"cmin",max:"cmax"})}},27260:function(U,N,e){var d=e(38248),P=e(3400),n=e(90553),C=e(64013),x=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var o=t.slice(0,t.length-1);return t?P.nestedProperty(r,o).get()||{}:r}U.exports=function r(t,o,a,u,f){var l=f.prefix,y=f.cLetter,c="_module"in o,T=p(t,l),h=p(o,l),i=p(o._template||{},l)||{},g=function(){return delete t.coloraxis,delete o.coloraxis,r(t,o,a,u,f)};if(c){var b=a._colorAxes||{},A=u(l+"coloraxis");if(A){var R=v(o,"contour")&&P.nestedProperty(o,"contours.coloring").get()||"heatmap",m=b[A];m?(m[2].push(g),m[0]!==R&&(m[0]=!1,P.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[A]=[R,o,[g]];return}}var L=T[y+"min"],M=T[y+"max"],s=d(L)&&d(M)&&L<M,S=u(l+y+"auto",!s);S?u(l+y+"mid"):(u(l+y+"min"),u(l+y+"max"));var w=T.colorscale,_=i.colorscale,I;if(w!==void 0&&(I=!x(w)),_!==void 0&&(I=!x(_)),u(l+"autocolorscale",I),u(l+"colorscale"),u(l+"reversescale"),l!=="marker.line."){var H;l&&c&&(H=n(T));var O=u(l+"showscale",H);O&&(l&&i&&(h._template=i),C(T,h,a))}}},94288:function(U,N,e){var d=e(33428),P=e(49760),n=e(38248),C=e(3400),x=e(76308),v=e(88304).isValid;function p(c,T,h){var i=T?C.nestedProperty(c,T).get()||{}:c,g=i[h||"color"];g&&g._inputArray&&(g=g._inputArray);var b=!1;if(C.isArrayOrTypedArray(g)){for(var A=0;A<g.length;A++)if(n(g[A])){b=!0;break}}return C.isPlainObject(i)&&(b||i.showscale===!0||n(i.cmin)&&n(i.cmax)||v(i.colorscale)||C.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function o(c){var T=c._colorAx,h=T||c,i={},g,b,A;for(b=0;b<r.length;b++)A=r[b],i[A]=h[A];if(T)for(g="c",b=0;b<t.length;b++)A=t[b],i[A]=h["c"+A];else{var R;for(b=0;b<t.length;b++){if(A=t[b],R="c"+A,R in h){i[A]=h[R];continue}R="z"+A,R in h&&(i[A]=h[R])}g=R.charAt(0)}return i._sync=function(m,L){var M=t.indexOf(m)!==-1?g+m:m;h[M]=h["_"+M]=L},i}function a(c){for(var T=o(c),h=T.min,i=T.max,g=T.reversescale?u(T.colorscale):T.colorscale,b=g.length,A=new Array(b),R=new Array(b),m=0;m<b;m++){var L=g[m];A[m]=h+L[0]*(i-h),R[m]=L[1]}return{domain:A,range:R}}function u(c){for(var T=c.length,h=new Array(T),i=T-1,g=0;i>=0;i--,g++){var b=c[i];h[g]=[1-b[0],b[1]]}return h}function f(c,T){T=T||{};for(var h=c.domain,i=c.range,g=i.length,b=new Array(g),A=0;A<g;A++){var R=P(i[A]).toRgb();b[A]=[R.r,R.g,R.b,R.a]}var m=d.scale.linear().domain(h).range(b).clamp(!0),L=T.noNumericCheck,M=T.returnArray,s;return L&&M?s=m:L?s=function(S){return y(m(S))}:M?s=function(S){return n(S)?m(S):P(S).isValid()?S:x.defaultLine}:s=function(S){return n(S)?y(m(S)):P(S).isValid()?S:x.defaultLine},s.domain=m.domain,s.range=function(){return i},s}function l(c,T){return f(a(c),T)}function y(c){var T={r:c[0],g:c[1],b:c[2],a:c[3]};return P(T).toRgbString()}U.exports={hasColorscale:p,extractOpts:o,extractScale:a,flipScale:u,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:l}},8932:function(U,N,e){var d=e(88304),P=e(94288);U.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:d.scales,defaultScale:d.defaultScale,getScale:d.get,isValidScale:d.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(U,N,e){var d=e(92880).extendFlat,P=e(49084),n=e(88304).scales;U.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:d({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(U,N,e){var d=e(3400),P=e(31780),n=e(92332),C=e(27260);U.exports=function(v,p){function r(c,T){return d.coerce(v,p,n,c,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,o,a;function u(c,T){return d.coerce(o,a,n.coloraxis,c,T)}for(var f in t){var l=t[f];if(l[0])o=v[f]||{},a=P.newContainer(p,f,"coloraxis"),a._name=f,C(o,a,p,u,{prefix:"",cLetter:"c"});else{for(var y=0;y<l[2].length;y++)l[2][y]();delete p._colorAxes[f]}}}},88304:function(U,N,e){var d=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=P.RdBu;function C(p,r){if(r||(r=n),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),x(p)?p:r}function x(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var o=p[t];if(o.length!==2||+o[0]<r||!d(o[1]).isValid())return!1;r=+o[0]}return!0}function v(p){return P[p]!==void 0?!0:x(p)}U.exports={scales:P,defaultScale:n,get:C,isValid:v}},78316:function(U){U.exports=function(e,d,P,n,C){var x=(e-P)/(n-P),v=x+d/(n-P),p=(x+v)/2;return C==="left"||C==="bottom"?x:C==="center"||C==="middle"?p:C==="right"||C==="top"?v:x<.6666666666666666-p?x:v>1.3333333333333333-p?v:p}},67416:function(U,N,e){var d=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];U.exports=function(C,x,v,p){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=d.constrain(Math.floor(C*3),0,2),p==="bottom"?x=0:p==="middle"?x=1:p==="top"?x=2:x=d.constrain(Math.floor(x*3),0,2),P[x][C]}},72760:function(U,N){N.selectMode=function(e){return e==="lasso"||e==="select"},N.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},N.openMode=function(e){return e==="drawline"||e==="drawopenpath"},N.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},N.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},N.selectingOrDrawing=function(e){return N.freeMode(e)||N.rectMode(e)}},86476:function(U,N,e){var d=e(29128),P=e(52264),n=e(89184),C=e(3400).removeElement,x=e(33816),v=U.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(a){var u=a.gd,f=1,l=u._context.doubleClickDelay,y=a.element,c,T,h,i,g,b,A,R;u._mouseDownTime||(u._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=M,n?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=M,y.addEventListener("touchstart",M,{passive:!1})):y.ontouchstart=M;function m(w,_,I){return Math.abs(w)<I&&(w=0),Math.abs(_)<I&&(_=0),[w,_]}var L=a.clampFn||m;function M(w){u._dragged=!1,u._dragging=!0;var _=t(w);c=_[0],T=_[1],A=w.target,b=w,R=w.buttons===2||w.ctrlKey,typeof w.clientX>"u"&&typeof w.clientY>"u"&&(w.clientX=c,w.clientY=T),h=new Date().getTime(),h-u._mouseDownTime<l?f+=1:(f=1,u._mouseDownTime=h),a.prepFn&&a.prepFn(w,c,T),P&&!R?(g=r(),g.style.cursor=window.getComputedStyle(y).cursor):P||(g=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",S),document.addEventListener("touchend",S),a.dragmode!==!1&&(w.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(w){w.preventDefault();var _=t(w),I=a.minDrag||x.MINDRAG,H=L(_[0]-c,_[1]-T,I),O=H[0],V=H[1];(O||V)&&(u._dragged=!0,v.unhover(u,w)),u._dragged&&a.moveFn&&!R&&(u._dragdata={element:y,dx:O,dy:V},a.moveFn(O,V))}function S(w){if(delete u._dragdata,a.dragmode!==!1&&(w.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",S),document.removeEventListener("touchend",S),P?C(g):i&&(g.documentElement.style.cursor=i,i=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>l&&(f=Math.max(f-1,1)),u._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(f,b),!R){var _;try{_=new MouseEvent("click",w)}catch{var I=t(w);_=document.createEvent("MouseEvents"),_.initMouseEvent("click",w.bubbles,w.cancelable,w.view,w.detail,w.screenX,w.screenY,I[0],I[1],w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget)}A.dispatchEvent(_)}u._dragging=!1,u._dragged=!1}};function r(){var o=document.createElement("div");o.className="dragcover";var a=o.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(o),o}v.coverSlip=r;function t(o){return d(o.changedTouches?o.changedTouches[0]:o,document.body)}},2616:function(U,N,e){var d=e(95924),P=e(91200),n=e(52200).getGraphDiv,C=e(92456),x=U.exports={};x.wrapped=function(v,p,r){v=n(v),v._fullLayout&&P.clear(v._fullLayout._uid+C.HOVERID),x.raw(v,p,r)},x.raw=function(p,r){var t=p._fullLayout,o=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&d.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&o&&p.emit("plotly_unhover",{event:r,points:o}))}},98192:function(U,N){N.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},N.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(U,N,e){var d=e(33428),P=e(3400),n=P.numberFormat,C=e(38248),x=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,o=e(72736),a=e(9616),u=e(84284),f=u.LINE_SPACING,l=e(13448).DESELECTDIM,y=e(43028),c=e(7152),T=e(10624).appendArrayPointValue,h=U.exports={};h.font=function(Ce,Oe){var Pe=Oe.variant,Ge=Oe.style,Ze=Oe.weight,it=Oe.color,Je=Oe.size,et=Oe.family,ft=Oe.shadow,vt=Oe.lineposition,dt=Oe.textcase;et&&Ce.style("font-family",et),Je+1&&Ce.style("font-size",Je+"px"),it&&Ce.call(p.fill,it),Ze&&Ce.style("font-weight",Ze),Ge&&Ce.style("font-style",Ge),Pe&&Ce.style("font-variant",Pe),dt&&Ce.style("text-transform",i(b(dt))),ft&&Ce.style("text-shadow",ft==="auto"?o.makeTextShadow(p.contrast(it)):i(ft)),vt&&Ce.style("text-decoration-line",i(A(vt)))};function i(Ce){return Ce==="none"?void 0:Ce}var g={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function b(Ce){return g[Ce]}function A(Ce){return Ce.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}h.setPosition=function(Ce,Oe,Pe){Ce.attr("x",Oe).attr("y",Pe)},h.setSize=function(Ce,Oe,Pe){Ce.attr("width",Oe).attr("height",Pe)},h.setRect=function(Ce,Oe,Pe,Ge,Ze){Ce.call(h.setPosition,Oe,Pe).call(h.setSize,Ge,Ze)},h.translatePoint=function(Ce,Oe,Pe,Ge){var Ze=Pe.c2p(Ce.x),it=Ge.c2p(Ce.y);if(C(Ze)&&C(it)&&Oe.node())Oe.node().nodeName==="text"?Oe.attr("x",Ze).attr("y",it):Oe.attr("transform",t(Ze,it));else return!1;return!0},h.translatePoints=function(Ce,Oe,Pe){Ce.each(function(Ge){var Ze=d.select(this);h.translatePoint(Ge,Ze,Oe,Pe)})},h.hideOutsideRangePoint=function(Ce,Oe,Pe,Ge,Ze,it){Oe.attr("display",Pe.isPtWithinRange(Ce,Ze)&&Ge.isPtWithinRange(Ce,it)?null:"none")},h.hideOutsideRangePoints=function(Ce,Oe){if(Oe._hasClipOnAxisFalse){var Pe=Oe.xaxis,Ge=Oe.yaxis;Ce.each(function(Ze){var it=Ze[0].trace,Je=it.xcalendar,et=it.ycalendar,ft=v.traceIs(it,"bar-like")?".bartext":".point,.textpoint";Ce.selectAll(ft).each(function(vt){h.hideOutsideRangePoint(vt,d.select(this),Pe,Ge,Je,et)})})}},h.crispRound=function(Ce,Oe,Pe){return!Oe||!C(Oe)?Pe||0:Ce._context.staticPlot?Oe:Oe<1?1:Math.round(Oe)},h.singleLineStyle=function(Ce,Oe,Pe,Ge,Ze){Oe.style("fill","none");var it=(((Ce||[])[0]||{}).trace||{}).line||{},Je=Pe||it.width||0,et=Ze||it.dash||"";p.stroke(Oe,Ge||it.color),h.dashLine(Oe,et,Je)},h.lineGroupStyle=function(Ce,Oe,Pe,Ge){Ce.style("fill","none").each(function(Ze){var it=(((Ze||[])[0]||{}).trace||{}).line||{},Je=Oe||it.width||0,et=Ge||it.dash||"";d.select(this).call(p.stroke,Pe||it.color).call(h.dashLine,et,Je)})},h.dashLine=function(Ce,Oe,Pe){Pe=+Pe||0,Oe=h.dashStyle(Oe,Pe),Ce.style({"stroke-dasharray":Oe,"stroke-width":Pe+"px"})},h.dashStyle=function(Ce,Oe){Oe=+Oe||1;var Pe=Math.max(Oe,3);return Ce==="solid"?Ce="":Ce==="dot"?Ce=Pe+"px,"+Pe+"px":Ce==="dash"?Ce=3*Pe+"px,"+3*Pe+"px":Ce==="longdash"?Ce=5*Pe+"px,"+5*Pe+"px":Ce==="dashdot"?Ce=3*Pe+"px,"+Pe+"px,"+Pe+"px,"+Pe+"px":Ce==="longdashdot"&&(Ce=5*Pe+"px,"+2*Pe+"px,"+Pe+"px,"+2*Pe+"px"),Ce};function R(Ce,Oe,Pe,Ge){var Ze=Oe.fillpattern,it=Oe.fillgradient,Je=Ze&&h.getPatternAttr(Ze.shape,0,"");if(Je){var et=h.getPatternAttr(Ze.bgcolor,0,null),ft=h.getPatternAttr(Ze.fgcolor,0,null),vt=Ze.fgopacity,dt=h.getPatternAttr(Ze.size,0,8),xt=h.getPatternAttr(Ze.solidity,0,.3),Mt=Oe.uid;h.pattern(Ce,"point",Pe,Mt,Je,dt,xt,void 0,Ze.fillmode,et,ft,vt)}else if(it&&it.type!=="none"){var nt=it.type,Fe="scatterfill-"+Oe.uid;if(Ge&&(Fe="legendfill-"+Oe.uid),!Ge&&(it.start!==void 0||it.stop!==void 0)){var We,je;nt==="horizontal"?(We={x:it.start,y:0},je={x:it.stop,y:0}):nt==="vertical"&&(We={x:0,y:it.start},je={x:0,y:it.stop}),We.x=Oe._xA.c2p(We.x===void 0?Oe._extremes.x.min[0].val:We.x,!0),We.y=Oe._yA.c2p(We.y===void 0?Oe._extremes.y.min[0].val:We.y,!0),je.x=Oe._xA.c2p(je.x===void 0?Oe._extremes.x.max[0].val:je.x,!0),je.y=Oe._yA.c2p(je.y===void 0?Oe._extremes.y.max[0].val:je.y,!0),Ce.call(_,Pe,Fe,"linear",it.colorscale,"fill",We,je,!0,!1)}else nt==="horizontal"&&(nt=nt+"reversed"),Ce.call(h.gradient,Pe,Fe,nt,it.colorscale,"fill")}else Oe.fillcolor&&Ce.call(p.fill,Oe.fillcolor)}h.singleFillStyle=function(Ce,Oe){var Pe=d.select(Ce.node()),Ge=Pe.data(),Ze=((Ge[0]||[])[0]||{}).trace||{};R(Ce,Ze,Oe,!1)},h.fillGroupStyle=function(Ce,Oe,Pe){Ce.style("stroke-width",0).each(function(Ge){var Ze=d.select(this);Ge[0].trace&&R(Ze,Ge[0].trace,Oe,Pe)})};var m=e(71984);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(m).forEach(function(Ce){var Oe=m[Ce],Pe=Oe.n;h.symbolList.push(Pe,String(Pe),Ce,Pe+100,String(Pe+100),Ce+"-open"),h.symbolNames[Pe]=Ce,h.symbolFuncs[Pe]=Oe.f,h.symbolBackOffs[Pe]=Oe.backoff||0,Oe.needLine&&(h.symbolNeedLines[Pe]=!0),Oe.noDot?h.symbolNoDot[Pe]=!0:h.symbolList.push(Pe+200,String(Pe+200),Ce+"-dot",Pe+300,String(Pe+300),Ce+"-open-dot"),Oe.noFill&&(h.symbolNoFill[Pe]=!0)});var L=h.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Ce){if(C(Ce))Ce=+Ce;else if(typeof Ce=="string"){var Oe=0;Ce.indexOf("-open")>0&&(Oe=100,Ce=Ce.replace("-open","")),Ce.indexOf("-dot")>0&&(Oe+=200,Ce=Ce.replace("-dot","")),Ce=h.symbolNames.indexOf(Ce),Ce>=0&&(Ce+=Oe)}return Ce%100>=L||Ce>=400?0:Math.floor(Math.max(Ce,0))};function s(Ce,Oe,Pe,Ge){var Ze=Ce%100;return h.symbolFuncs[Ze](Oe,Pe,Ge)+(Ce>=200?M:"")}var S=n("~f"),w={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};h.gradient=function(Ce,Oe,Pe,Ge,Ze,it){var Je=w[Ge];return _(Ce,Oe,Pe,Je.type,Ze,it,Je.start,Je.stop,!1,Je.reversed)};function _(Ce,Oe,Pe,Ge,Ze,it,Je,et,ft,vt){var dt=Ze.length,xt;Ge==="linear"?xt={node:"linearGradient",attrs:{x1:Je.x,y1:Je.y,x2:et.x,y2:et.y,gradientUnits:ft?"userSpaceOnUse":"objectBoundingBox"},reversed:vt}:Ge==="radial"&&(xt={node:"radialGradient",reversed:vt});for(var Mt=new Array(dt),nt=0;nt<dt;nt++)xt.reversed?Mt[dt-1-nt]=[S((1-Ze[nt][0])*100),Ze[nt][1]]:Mt[nt]=[S(Ze[nt][0]*100),Ze[nt][1]];var Fe=Oe._fullLayout,We="g"+Fe._uid+"-"+Pe,je=Fe._defs.select(".gradients").selectAll("#"+We).data([Ge+Mt.join(";")],P.identity);je.exit().remove(),je.enter().append(xt.node).each(function(){var Ke=d.select(this);xt.attrs&&Ke.attr(xt.attrs),Ke.attr("id",We);var ke=Ke.selectAll("stop").data(Mt);ke.exit().remove(),ke.enter().append("stop"),ke.each(function(Ue){var Ve=x(Ue[1]);d.select(this).attr({offset:Ue[0]+"%","stop-color":p.tinyRGB(Ve),"stop-opacity":Ve.getAlpha()})})}),Ce.style(it,q(We,Oe)).style(it+"-opacity",null),Ce.classed("gradient_filled",!0)}h.pattern=function(Ce,Oe,Pe,Ge,Ze,it,Je,et,ft,vt,dt,xt){var Mt=Oe==="legend";et&&(ft==="overlay"?(vt=et,dt=p.contrast(vt)):(vt=void 0,dt=et));var nt=Pe._fullLayout,Fe="p"+nt._uid+"-"+Ge,We,je,Ke=function(Yt,Tt,Lt,Kt,vr){return Kt+(vr-Kt)*(Yt-Tt)/(Lt-Tt)},ke,Ue,Ve,Re,de={},be=x(dt),Ne=p.tinyRGB(be),Ye=be.getAlpha(),at=xt*Ye;switch(Ze){case"/":We=it*Math.sqrt(2),je=it*Math.sqrt(2),ke="M-"+We/4+","+je/4+"l"+We/2+",-"+je/2+"M0,"+je+"L"+We+",0M"+We/4*3+","+je/4*5+"l"+We/2+",-"+je/2,Ue=Je*it,Re="path",de={d:ke,opacity:at,stroke:Ne,"stroke-width":Ue+"px"};break;case"\\":We=it*Math.sqrt(2),je=it*Math.sqrt(2),ke="M"+We/4*3+",-"+je/4+"l"+We/2+","+je/2+"M0,0L"+We+","+je+"M-"+We/4+","+je/4*3+"l"+We/2+","+je/2,Ue=Je*it,Re="path",de={d:ke,opacity:at,stroke:Ne,"stroke-width":Ue+"px"};break;case"x":We=it*Math.sqrt(2),je=it*Math.sqrt(2),ke="M-"+We/4+","+je/4+"l"+We/2+",-"+je/2+"M0,"+je+"L"+We+",0M"+We/4*3+","+je/4*5+"l"+We/2+",-"+je/2+"M"+We/4*3+",-"+je/4+"l"+We/2+","+je/2+"M0,0L"+We+","+je+"M-"+We/4+","+je/4*3+"l"+We/2+","+je/2,Ue=it-it*Math.sqrt(1-Je),Re="path",de={d:ke,opacity:at,stroke:Ne,"stroke-width":Ue+"px"};break;case"|":We=it,je=it,Re="path",ke="M"+We/2+",0L"+We/2+","+je,Ue=Je*it,Re="path",de={d:ke,opacity:at,stroke:Ne,"stroke-width":Ue+"px"};break;case"-":We=it,je=it,Re="path",ke="M0,"+je/2+"L"+We+","+je/2,Ue=Je*it,Re="path",de={d:ke,opacity:at,stroke:Ne,"stroke-width":Ue+"px"};break;case"+":We=it,je=it,Re="path",ke="M"+We/2+",0L"+We/2+","+je+"M0,"+je/2+"L"+We+","+je/2,Ue=it-it*Math.sqrt(1-Je),Re="path",de={d:ke,opacity:at,stroke:Ne,"stroke-width":Ue+"px"};break;case".":We=it,je=it,Je<Math.PI/4?Ve=Math.sqrt(Je*it*it/Math.PI):Ve=Ke(Je,Math.PI/4,1,it/2,it/Math.sqrt(2)),Re="circle",de={cx:We/2,cy:je/2,r:Ve,opacity:at,fill:Ne};break}var lt=[Ze||"noSh",vt||"noBg",dt||"noFg",it,Je].join(";"),Ht=nt._defs.select(".patterns").selectAll("#"+Fe).data([lt],P.identity);Ht.exit().remove(),Ht.enter().append("pattern").each(function(){var Yt=d.select(this);if(Yt.attr({id:Fe,width:We+"px",height:je+"px",patternUnits:"userSpaceOnUse",patternTransform:Mt?"scale(0.8)":""}),vt){var Tt=x(vt),Lt=p.tinyRGB(Tt),Kt=Tt.getAlpha(),vr=Yt.selectAll("rect").data([0]);vr.exit().remove(),vr.enter().append("rect").attr({width:We+"px",height:je+"px",fill:Lt,"fill-opacity":Kt})}var gt=Yt.selectAll(Re).data([0]);gt.exit().remove(),gt.enter().append(Re).attr(de)}),Ce.style("fill",q(Fe,Pe)).style("fill-opacity",null),Ce.classed("pattern_filled",!0)},h.initGradients=function(Ce){var Oe=Ce._fullLayout,Pe=P.ensureSingle(Oe._defs,"g","gradients");Pe.selectAll("linearGradient,radialGradient").remove(),d.select(Ce).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Ce){var Oe=Ce._fullLayout,Pe=P.ensureSingle(Oe._defs,"g","patterns");Pe.selectAll("pattern").remove(),d.select(Ce).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Ce,Oe,Pe){return Ce&&P.isArrayOrTypedArray(Ce)?Oe<Ce.length?Ce[Oe]:Pe:Ce},h.pointStyle=function(Ce,Oe,Pe,Ge){if(Ce.size()){var Ze=h.makePointStyleFns(Oe);Ce.each(function(it){h.singlePointStyle(it,d.select(this),Oe,Ze,Pe,Ge)})}},h.singlePointStyle=function(Ce,Oe,Pe,Ge,Ze,it){var Je=Pe.marker,et=Je.line;if(it&&it.i>=0&&Ce.i===void 0&&(Ce.i=it.i),Oe.style("opacity",Ge.selectedOpacityFn?Ge.selectedOpacityFn(Ce):Ce.mo===void 0?Je.opacity:Ce.mo),Ge.ms2mrc){var ft;Ce.ms==="various"||Je.size==="various"?ft=3:ft=Ge.ms2mrc(Ce.ms),Ce.mrc=ft,Ge.selectedSizeFn&&(ft=Ce.mrc=Ge.selectedSizeFn(Ce));var vt=h.symbolNumber(Ce.mx||Je.symbol)||0;Ce.om=vt%200>=100;var dt=_e(Ce,Pe),xt=j(Ce,Pe);Oe.attr("d",s(vt,ft,dt,xt))}var Mt=!1,nt,Fe,We;if(Ce.so)We=et.outlierwidth,Fe=et.outliercolor,nt=Je.outliercolor;else{var je=(et||{}).width;We=(Ce.mlw+1||je+1||(Ce.trace?(Ce.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ce?Fe=Ce.mlcc=Ge.lineScale(Ce.mlc):P.isArrayOrTypedArray(et.color)?Fe=p.defaultLine:Fe=et.color,P.isArrayOrTypedArray(Je.color)&&(nt=p.defaultLine,Mt=!0),"mc"in Ce?nt=Ce.mcc=Ge.markerScale(Ce.mc):nt=Je.color||Je.colors||"rgba(0,0,0,0)",Ge.selectedColorFn&&(nt=Ge.selectedColorFn(Ce))}if(Ce.om)Oe.call(p.stroke,nt).style({"stroke-width":(We||1)+"px",fill:"none"});else{Oe.style("stroke-width",(Ce.isBlank?0:We)+"px");var Ke=Je.gradient,ke=Ce.mgt;ke?Mt=!0:ke=Ke&&Ke.type,P.isArrayOrTypedArray(ke)&&(ke=ke[0],w[ke]||(ke=0));var Ue=Je.pattern,Ve=Ue&&h.getPatternAttr(Ue.shape,Ce.i,"");if(ke&&ke!=="none"){var Re=Ce.mgc;Re?Mt=!0:Re=Ke.color;var de=Pe.uid;Mt&&(de+="-"+Ce.i),h.gradient(Oe,Ze,de,ke,[[0,Re],[1,nt]],"fill")}else if(Ve){var be=!1,Ne=Ue.fgcolor;!Ne&&it&&it.color&&(Ne=it.color,be=!0);var Ye=h.getPatternAttr(Ne,Ce.i,it&&it.color||null),at=h.getPatternAttr(Ue.bgcolor,Ce.i,null),lt=Ue.fgopacity,Ht=h.getPatternAttr(Ue.size,Ce.i,8),Yt=h.getPatternAttr(Ue.solidity,Ce.i,.3);be=be||Ce.mcc||P.isArrayOrTypedArray(Ue.shape)||P.isArrayOrTypedArray(Ue.bgcolor)||P.isArrayOrTypedArray(Ue.fgcolor)||P.isArrayOrTypedArray(Ue.size)||P.isArrayOrTypedArray(Ue.solidity);var Tt=Pe.uid;be&&(Tt+="-"+Ce.i),h.pattern(Oe,"point",Ze,Tt,Ve,Ht,Yt,Ce.mcc,Ue.fillmode,at,Ye,lt)}else P.isArrayOrTypedArray(nt)?p.fill(Oe,nt[Ce.i]):p.fill(Oe,nt);We&&p.stroke(Oe,Fe)}},h.makePointStyleFns=function(Ce){var Oe={},Pe=Ce.marker;return Oe.markerScale=h.tryColorscale(Pe,""),Oe.lineScale=h.tryColorscale(Pe,"line"),v.traceIs(Ce,"symbols")&&(Oe.ms2mrc=y.isBubble(Ce)?c(Ce):function(){return(Pe.size||6)/2}),Ce.selectedpoints&&P.extendFlat(Oe,h.makeSelectedPointStyleFns(Ce)),Oe},h.makeSelectedPointStyleFns=function(Ce){var Oe={},Pe=Ce.selected||{},Ge=Ce.unselected||{},Ze=Ce.marker||{},it=Pe.marker||{},Je=Ge.marker||{},et=Ze.opacity,ft=it.opacity,vt=Je.opacity,dt=ft!==void 0,xt=vt!==void 0;(P.isArrayOrTypedArray(et)||dt||xt)&&(Oe.selectedOpacityFn=function(Ve){var Re=Ve.mo===void 0?Ze.opacity:Ve.mo;return Ve.selected?dt?ft:Re:xt?vt:l*Re});var Mt=Ze.color,nt=it.color,Fe=Je.color;(nt||Fe)&&(Oe.selectedColorFn=function(Ve){var Re=Ve.mcc||Mt;return Ve.selected?nt||Re:Fe||Re});var We=Ze.size,je=it.size,Ke=Je.size,ke=je!==void 0,Ue=Ke!==void 0;return v.traceIs(Ce,"symbols")&&(ke||Ue)&&(Oe.selectedSizeFn=function(Ve){var Re=Ve.mrc||We/2;return Ve.selected?ke?je/2:Re:Ue?Ke/2:Re}),Oe},h.makeSelectedTextStyleFns=function(Ce){var Oe={},Pe=Ce.selected||{},Ge=Ce.unselected||{},Ze=Ce.textfont||{},it=Pe.textfont||{},Je=Ge.textfont||{},et=Ze.color,ft=it.color,vt=Je.color;return Oe.selectedTextColorFn=function(dt){var xt=dt.tc||et;return dt.selected?ft||xt:vt||(ft?xt:p.addOpacity(xt,l))},Oe},h.selectedPointStyle=function(Ce,Oe){if(!(!Ce.size()||!Oe.selectedpoints)){var Pe=h.makeSelectedPointStyleFns(Oe),Ge=Oe.marker||{},Ze=[];Pe.selectedOpacityFn&&Ze.push(function(it,Je){it.style("opacity",Pe.selectedOpacityFn(Je))}),Pe.selectedColorFn&&Ze.push(function(it,Je){p.fill(it,Pe.selectedColorFn(Je))}),Pe.selectedSizeFn&&Ze.push(function(it,Je){var et=Je.mx||Ge.symbol||0,ft=Pe.selectedSizeFn(Je);it.attr("d",s(h.symbolNumber(et),ft,_e(Je,Oe),j(Je,Oe))),Je.mrc2=ft}),Ze.length&&Ce.each(function(it){for(var Je=d.select(this),et=0;et<Ze.length;et++)Ze[et](Je,it)})}},h.tryColorscale=function(Ce,Oe){var Pe=Oe?P.nestedProperty(Ce,Oe).get():Ce;if(Pe){var Ge=Pe.color;if((Pe.colorscale||Pe._colorAx)&&P.isArrayOrTypedArray(Ge))return r.makeColorScaleFuncFromTrace(Pe)}return P.identity};var I={start:1,end:-1,middle:0,bottom:1,top:-1};function H(Ce,Oe,Pe,Ge,Ze){var it=d.select(Ce.node().parentNode),Je=Oe.indexOf("top")!==-1?"top":Oe.indexOf("bottom")!==-1?"bottom":"middle",et=Oe.indexOf("left")!==-1?"end":Oe.indexOf("right")!==-1?"start":"middle",ft=Ge?Ge/.8+1:0,vt=(o.lineCount(Ce)-1)*f+1,dt=I[et]*ft,xt=Pe*.75+I[Je]*ft+(I[Je]-1)*vt*Pe/2;Ce.attr("text-anchor",et),Ze||it.attr("transform",t(dt,xt))}function O(Ce,Oe){var Pe=Ce.ts||Oe.textfont.size;return C(Pe)&&Pe>0?Pe:0}h.textPointStyle=function(Ce,Oe,Pe){if(Ce.size()){var Ge;if(Oe.selectedpoints){var Ze=h.makeSelectedTextStyleFns(Oe);Ge=Ze.selectedTextColorFn}var it=Oe.texttemplate,Je=Pe._fullLayout;Ce.each(function(et){var ft=d.select(this),vt=it?P.extractOption(et,Oe,"txt","texttemplate"):P.extractOption(et,Oe,"tx","text");if(!vt&&vt!==0){ft.remove();return}if(it){var dt=Oe._module.formatLabels,xt=dt?dt(et,Oe,Je):{},Mt={};T(Mt,Oe,et.i);var nt=Oe._meta||{};vt=P.texttemplateString(vt,xt,Je._d3locale,Mt,et,nt)}var Fe=et.tp||Oe.textposition,We=O(et,Oe),je=Ge?Ge(et):et.tc||Oe.textfont.color;ft.call(h.font,{family:et.tf||Oe.textfont.family,weight:et.tw||Oe.textfont.weight,style:et.ty||Oe.textfont.style,variant:et.tv||Oe.textfont.variant,textcase:et.tC||Oe.textfont.textcase,lineposition:et.tE||Oe.textfont.lineposition,shadow:et.tS||Oe.textfont.shadow,size:We,color:je}).text(vt).call(o.convertToTspans,Pe).call(H,Fe,We,et.mrc)})}},h.selectedTextStyle=function(Ce,Oe){if(!(!Ce.size()||!Oe.selectedpoints)){var Pe=h.makeSelectedTextStyleFns(Oe);Ce.each(function(Ge){var Ze=d.select(this),it=Pe.selectedTextColorFn(Ge),Je=Ge.tp||Oe.textposition,et=O(Ge,Oe);p.fill(Ze,it);var ft=v.traceIs(Oe,"bar-like");H(Ze,Je,et,Ge.mrc2||Ge.mrc,ft)})}};var V=.5;h.smoothopen=function(Ce,Oe){if(Ce.length<3)return"M"+Ce.join("L");var Pe="M"+Ce[0],Ge=[],Ze;for(Ze=1;Ze<Ce.length-1;Ze++)Ge.push(te(Ce[Ze-1],Ce[Ze],Ce[Ze+1],Oe));for(Pe+="Q"+Ge[0][0]+" "+Ce[1],Ze=2;Ze<Ce.length-1;Ze++)Pe+="C"+Ge[Ze-2][1]+" "+Ge[Ze-1][0]+" "+Ce[Ze];return Pe+="Q"+Ge[Ce.length-3][1]+" "+Ce[Ce.length-1],Pe},h.smoothclosed=function(Ce,Oe){if(Ce.length<3)return"M"+Ce.join("L")+"Z";var Pe="M"+Ce[0],Ge=Ce.length-1,Ze=[te(Ce[Ge],Ce[0],Ce[1],Oe)],it;for(it=1;it<Ge;it++)Ze.push(te(Ce[it-1],Ce[it],Ce[it+1],Oe));for(Ze.push(te(Ce[Ge-1],Ce[Ge],Ce[0],Oe)),it=1;it<=Ge;it++)Pe+="C"+Ze[it-1][1]+" "+Ze[it][0]+" "+Ce[it];return Pe+="C"+Ze[Ge][1]+" "+Ze[0][0]+" "+Ce[0]+"Z",Pe};var B,F;function G(Ce,Oe,Pe){return Pe&&(Ce=oe(Ce)),Oe?Q(Ce[1]):Y(Ce[0])}function Y(Ce){var Oe=d.round(Ce,2);return B=Oe,Oe}function Q(Ce){var Oe=d.round(Ce,2);return F=Oe,Oe}function te(Ce,Oe,Pe,Ge){var Ze=Ce[0]-Oe[0],it=Ce[1]-Oe[1],Je=Pe[0]-Oe[0],et=Pe[1]-Oe[1],ft=Math.pow(Ze*Ze+it*it,V/2),vt=Math.pow(Je*Je+et*et,V/2),dt=(vt*vt*Ze-ft*ft*Je)*Ge,xt=(vt*vt*it-ft*ft*et)*Ge,Mt=3*vt*(ft+vt),nt=3*ft*(ft+vt);return[[Y(Oe[0]+(Mt&&dt/Mt)),Q(Oe[1]+(Mt&&xt/Mt))],[Y(Oe[0]-(nt&&dt/nt)),Q(Oe[1]-(nt&&xt/nt))]]}var ae={hv:function(Ce,Oe,Pe){return"H"+Y(Oe[0])+"V"+G(Oe,1,Pe)},vh:function(Ce,Oe,Pe){return"V"+Q(Oe[1])+"H"+G(Oe,0,Pe)},hvh:function(Ce,Oe,Pe){return"H"+Y((Ce[0]+Oe[0])/2)+"V"+Q(Oe[1])+"H"+G(Oe,0,Pe)},vhv:function(Ce,Oe,Pe){return"V"+Q((Ce[1]+Oe[1])/2)+"H"+Y(Oe[0])+"V"+G(Oe,1,Pe)}},fe=function(Ce,Oe,Pe){return"L"+G(Oe,0,Pe)+","+G(Oe,1,Pe)};h.steps=function(Ce){var Oe=ae[Ce]||fe;return function(Pe){for(var Ge="M"+Y(Pe[0][0])+","+Q(Pe[0][1]),Ze=Pe.length,it=1;it<Ze;it++)Ge+=Oe(Pe[it-1],Pe[it],it===Ze-1);return Ge}};function oe(Ce,Oe){var Pe=Ce.backoff,Ge=Ce.trace,Ze=Ce.d,it=Ce.i;if(Pe&&Ge&&Ge.marker&&Ge.marker.angle%360===0&&Ge.line&&Ge.line.shape!=="spline"){var Je=P.isArrayOrTypedArray(Pe),et=Ce,ft=Oe?Oe[0]:B||0,vt=Oe?Oe[1]:F||0,dt=et[0],xt=et[1],Mt=dt-ft,nt=xt-vt,Fe=Math.atan2(nt,Mt),We=Je?Pe[it]:Pe;if(We==="auto"){var je=et.i;Ge.type==="scatter"&&je--;var Ke=et.marker,ke=Ke.symbol;P.isArrayOrTypedArray(ke)&&(ke=ke[je]);var Ue=Ke.size;P.isArrayOrTypedArray(Ue)&&(Ue=Ue[je]),We=Ke?h.symbolBackOffs[h.symbolNumber(ke)]*Ue:0,We+=h.getMarkerStandoff(Ze[je],Ge)||0}var Ve=dt-We*Math.cos(Fe),Re=xt-We*Math.sin(Fe);(Ve<=dt&&Ve>=ft||Ve>=dt&&Ve<=ft)&&(Re<=xt&&Re>=vt||Re>=xt&&Re<=vt)&&(Ce=[Ve,Re])}return Ce}h.applyBackoff=oe,h.makeTester=function(){var Ce=P.ensureSingleById(d.select("body"),"svg","js-plotly-tester",function(Pe){Pe.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Oe=P.ensureSingle(Ce,"path","js-reference-point",function(Pe){Pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Ce,h.testref=Oe},h.savedBBoxes={};var J=0,ee=1e4;h.bBox=function(Ce,Oe,Pe){Pe||(Pe=X(Ce));var Ge;if(Pe){if(Ge=h.savedBBoxes[Pe],Ge)return P.extendFlat({},Ge)}else if(Ce.childNodes.length===1){var Ze=Ce.childNodes[0];if(Pe=X(Ze),Pe){var it=+Ze.getAttribute("x")||0,Je=+Ze.getAttribute("y")||0,et=Ze.getAttribute("transform");if(!et){var ft=h.bBox(Ze,!1,Pe);return it&&(ft.left+=it,ft.right+=it),Je&&(ft.top+=Je,ft.bottom+=Je),ft}if(Pe+="~"+it+"~"+Je+"~"+et,Ge=h.savedBBoxes[Pe],Ge)return P.extendFlat({},Ge)}}var vt,dt;Oe?vt=Ce:(dt=h.tester.node(),vt=Ce.cloneNode(!0),dt.appendChild(vt)),d.select(vt).attr("transform",null).call(o.positionText,0,0);var xt=vt.getBoundingClientRect(),Mt=h.testref.node().getBoundingClientRect();Oe||dt.removeChild(vt);var nt={height:xt.height,width:xt.width,left:xt.left-Mt.left,top:xt.top-Mt.top,right:xt.right-Mt.left,bottom:xt.bottom-Mt.top};return J>=ee&&(h.savedBBoxes={},J=0),Pe&&(h.savedBBoxes[Pe]=nt),J++,P.extendFlat({},nt)};function X(Ce){var Oe=Ce.getAttribute("data-unformatted");if(Oe!==null)return Oe+Ce.getAttribute("data-math")+Ce.getAttribute("text-anchor")+Ce.getAttribute("style")}h.setClipUrl=function(Ce,Oe,Pe){Ce.attr("clip-path",q(Oe,Pe))};function q(Ce,Oe){if(!Ce)return null;var Pe=Oe._context,Ge=Pe._exportedPlot?"":Pe._baseUrl||"";return Ge?"url('"+Ge+"#"+Ce+"')":"url(#"+Ce+")"}h.getTranslate=function(Ce){var Oe=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Pe=Ce.attr?"attr":"getAttribute",Ge=Ce[Pe]("transform")||"",Ze=Ge.replace(Oe,function(it,Je,et){return[Je,et].join(" ")}).split(" ");return{x:+Ze[0]||0,y:+Ze[1]||0}},h.setTranslate=function(Ce,Oe,Pe){var Ge=/(\btranslate\(.*?\);?)/,Ze=Ce.attr?"attr":"getAttribute",it=Ce.attr?"attr":"setAttribute",Je=Ce[Ze]("transform")||"";return Oe=Oe||0,Pe=Pe||0,Je=Je.replace(Ge,"").trim(),Je+=t(Oe,Pe),Je=Je.trim(),Ce[it]("transform",Je),Je},h.getScale=function(Ce){var Oe=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Pe=Ce.attr?"attr":"getAttribute",Ge=Ce[Pe]("transform")||"",Ze=Ge.replace(Oe,function(it,Je,et){return[Je,et].join(" ")}).split(" ");return{x:+Ze[0]||1,y:+Ze[1]||1}},h.setScale=function(Ce,Oe,Pe){var Ge=/(\bscale\(.*?\);?)/,Ze=Ce.attr?"attr":"getAttribute",it=Ce.attr?"attr":"setAttribute",Je=Ce[Ze]("transform")||"";return Oe=Oe||1,Pe=Pe||1,Je=Je.replace(Ge,"").trim(),Je+="scale("+Oe+","+Pe+")",Je=Je.trim(),Ce[it]("transform",Je),Je};var le=/\s*sc.*/;h.setPointGroupScale=function(Ce,Oe,Pe){if(Oe=Oe||1,Pe=Pe||1,!!Ce){var Ge=Oe===1&&Pe===1?"":"scale("+Oe+","+Pe+")";Ce.each(function(){var Ze=(this.getAttribute("transform")||"").replace(le,"");Ze+=Ge,Ze=Ze.trim(),this.setAttribute("transform",Ze)})}};var $=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Ce,Oe,Pe){Ce&&Ce.each(function(){var Ge,Ze=d.select(this),it=Ze.select("text");if(it.node()){var Je=parseFloat(it.attr("x")||0),et=parseFloat(it.attr("y")||0),ft=(Ze.attr("transform")||"").match($);Oe===1&&Pe===1?Ge=[]:Ge=[t(Je,et),"scale("+Oe+","+Pe+")",t(-Je,-et)],ft&&Ge.push(ft),Ze.attr("transform",Ge.join(""))}})};function j(Ce,Oe){var Pe;return Ce&&(Pe=Ce.mf),Pe===void 0&&(Pe=Oe.marker&&Oe.marker.standoff||0),!Oe._geo&&!Oe._xA?-Pe:Pe}h.getMarkerStandoff=j;var se=Math.atan2,ne=Math.cos,he=Math.sin;function me(Ce,Oe){var Pe=Oe[0],Ge=Oe[1];return[Pe*ne(Ce)-Ge*he(Ce),Pe*he(Ce)+Ge*ne(Ce)]}var we,Te,Le,Ie,ze,Me;function _e(Ce,Oe){var Pe=Ce.ma;Pe===void 0&&(Pe=Oe.marker.angle,(!Pe||P.isArrayOrTypedArray(Pe))&&(Pe=0));var Ge,Ze,it=Oe.marker.angleref;if(it==="previous"||it==="north"){if(Oe._geo){var Je=Oe._geo.project(Ce.lonlat);Ge=Je[0],Ze=Je[1]}else{var et=Oe._xA,ft=Oe._yA;if(et&&ft)Ge=et.c2p(Ce.x),Ze=ft.c2p(Ce.y);else return 90}if(Oe._geo){var vt=Ce.lonlat[0],dt=Ce.lonlat[1],xt=Oe._geo.project([vt,dt+1e-5]),Mt=Oe._geo.project([vt+1e-5,dt]),nt=se(Mt[1]-Ze,Mt[0]-Ge),Fe=se(xt[1]-Ze,xt[0]-Ge),We;if(it==="north")We=Pe/180*Math.PI;else if(it==="previous"){var je=vt/180*Math.PI,Ke=dt/180*Math.PI,ke=we/180*Math.PI,Ue=Te/180*Math.PI,Ve=ke-je,Re=ne(Ue)*he(Ve),de=he(Ue)*ne(Ke)-ne(Ue)*he(Ke)*ne(Ve);We=-se(Re,de)-Math.PI,we=vt,Te=dt}var be=me(nt,[ne(We),0]),Ne=me(Fe,[he(We),0]);Pe=se(be[1]+Ne[1],be[0]+Ne[0])/Math.PI*180,it==="previous"&&!(Me===Oe.uid&&Ce.i===ze+1)&&(Pe=null)}if(it==="previous"&&!Oe._geo)if(Me===Oe.uid&&Ce.i===ze+1&&C(Ge)&&C(Ze)){var Ye=Ge-Le,at=Ze-Ie,lt=Oe.line&&Oe.line.shape||"",Ht=lt.slice(lt.length-1);Ht==="h"&&(at=0),Ht==="v"&&(Ye=0),Pe+=se(at,Ye)/Math.PI*180+90}else Pe=null}return Le=Ge,Ie=Ze,ze=Ce.i,Me=Oe.uid,Pe}h.getMarkerAngle=_e},71984:function(U,N,e){var d=e(21984),P=e(33428).round,n="M0,0Z",C=Math.sqrt(2),x=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;U.exports={circle:{n:0,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return T?l(c,T,i):i}},square:{n:1,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(y,c,T){if(t(c))return n;var h=P(y*1.3,2);return l(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(y,c,T){if(t(c))return n;var h=P(y*.4,2),i=P(y*1.2,2);return l(c,T,"M"+i+","+h+"H"+h+"V"+i+"H-"+h+"V"+h+"H-"+i+"V-"+h+"H-"+h+"V-"+i+"H"+h+"V-"+h+"H"+i+"Z")}},x:{n:4,f:function(y,c,T){if(t(c))return n;var h=P(y*.8/C,2),i="l"+h+","+h,g="l"+h+",-"+h,b="l-"+h+",-"+h,A="l-"+h+","+h;return l(c,T,"M0,"+h+i+g+b+g+b+A+b+A+i+A+i+"Z")}},"triangle-up":{n:5,f:function(y,c,T){if(t(c))return n;var h=P(y*2/x,2),i=P(y/2,2),g=P(y,2);return l(c,T,"M-"+h+","+i+"H"+h+"L0,-"+g+"Z")}},"triangle-down":{n:6,f:function(y,c,T){if(t(c))return n;var h=P(y*2/x,2),i=P(y/2,2),g=P(y,2);return l(c,T,"M-"+h+",-"+i+"H"+h+"L0,"+g+"Z")}},"triangle-left":{n:7,f:function(y,c,T){if(t(c))return n;var h=P(y*2/x,2),i=P(y/2,2),g=P(y,2);return l(c,T,"M"+i+",-"+h+"V"+h+"L-"+g+",0Z")}},"triangle-right":{n:8,f:function(y,c,T){if(t(c))return n;var h=P(y*2/x,2),i=P(y/2,2),g=P(y,2);return l(c,T,"M-"+i+",-"+h+"V"+h+"L"+g+",0Z")}},"triangle-ne":{n:9,f:function(y,c,T){if(t(c))return n;var h=P(y*.6,2),i=P(y*1.2,2);return l(c,T,"M-"+i+",-"+h+"H"+h+"V"+i+"Z")}},"triangle-se":{n:10,f:function(y,c,T){if(t(c))return n;var h=P(y*.6,2),i=P(y*1.2,2);return l(c,T,"M"+h+",-"+i+"V"+h+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(y,c,T){if(t(c))return n;var h=P(y*.6,2),i=P(y*1.2,2);return l(c,T,"M"+i+","+h+"H-"+h+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(y,c,T){if(t(c))return n;var h=P(y*.6,2),i=P(y*1.2,2);return l(c,T,"M-"+h+","+i+"V-"+h+"H"+i+"Z")}},pentagon:{n:13,f:function(y,c,T){if(t(c))return n;var h=P(y*.951,2),i=P(y*.588,2),g=P(-y,2),b=P(y*-.309,2),A=P(y*.809,2);return l(c,T,"M"+h+","+b+"L"+i+","+A+"H-"+i+"L-"+h+","+b+"L0,"+g+"Z")}},hexagon:{n:14,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y/2,2),g=P(y*x/2,2);return l(c,T,"M"+g+",-"+i+"V"+i+"L0,"+h+"L-"+g+","+i+"V-"+i+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y/2,2),g=P(y*x/2,2);return l(c,T,"M-"+i+","+g+"H"+i+"L"+h+",0L"+i+",-"+g+"H-"+i+"L-"+h+",0Z")}},octagon:{n:16,f:function(y,c,T){if(t(c))return n;var h=P(y*.924,2),i=P(y*.383,2);return l(c,T,"M-"+i+",-"+h+"H"+i+"L"+h+",-"+i+"V"+i+"L"+i+","+h+"H-"+i+"L-"+h+","+i+"V-"+i+"Z")}},star:{n:17,f:function(y,c,T){if(t(c))return n;var h=y*1.4,i=P(h*.225,2),g=P(h*.951,2),b=P(h*.363,2),A=P(h*.588,2),R=P(-h,2),m=P(h*-.309,2),L=P(h*.118,2),M=P(h*.809,2),s=P(h*.382,2);return l(c,T,"M"+i+","+m+"H"+g+"L"+b+","+L+"L"+A+","+M+"L0,"+s+"L-"+A+","+M+"L-"+b+","+L+"L-"+g+","+m+"H-"+i+"L0,"+R+"Z")}},hexagram:{n:18,f:function(y,c,T){if(t(c))return n;var h=P(y*.66,2),i=P(y*.38,2),g=P(y*.76,2);return l(c,T,"M-"+g+",0l-"+i+",-"+h+"h"+g+"l"+i+",-"+h+"l"+i+","+h+"h"+g+"l-"+i+","+h+"l"+i+","+h+"h-"+g+"l-"+i+","+h+"l-"+i+",-"+h+"h-"+g+"Z")}},"star-triangle-up":{n:19,f:function(y,c,T){if(t(c))return n;var h=P(y*x*.8,2),i=P(y*.8,2),g=P(y*1.6,2),b=P(y*4,2),A="A "+b+","+b+" 0 0 1 ";return l(c,T,"M-"+h+","+i+A+h+","+i+A+"0,-"+g+A+"-"+h+","+i+"Z")}},"star-triangle-down":{n:20,f:function(y,c,T){if(t(c))return n;var h=P(y*x*.8,2),i=P(y*.8,2),g=P(y*1.6,2),b=P(y*4,2),A="A "+b+","+b+" 0 0 1 ";return l(c,T,"M"+h+",-"+i+A+"-"+h+",-"+i+A+"0,"+g+A+h+",-"+i+"Z")}},"star-square":{n:21,f:function(y,c,T){if(t(c))return n;var h=P(y*1.1,2),i=P(y*2,2),g="A "+i+","+i+" 0 0 1 ";return l(c,T,"M-"+h+",-"+h+g+"-"+h+","+h+g+h+","+h+g+h+",-"+h+g+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(y,c,T){if(t(c))return n;var h=P(y*1.4,2),i=P(y*1.9,2),g="A "+i+","+i+" 0 0 1 ";return l(c,T,"M-"+h+",0"+g+"0,"+h+g+h+",0"+g+"0,-"+h+g+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(y,c,T){if(t(c))return n;var h=P(y*.7,2),i=P(y*1.4,2);return l(c,T,"M0,"+i+"L"+h+",0L0,-"+i+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(y,c,T){if(t(c))return n;var h=P(y*1.4,2),i=P(y*.7,2);return l(c,T,"M0,"+i+"L"+h+",0L0,-"+i+"L-"+h+",0Z")}},hourglass:{n:25,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y/C,2);return l(c,T,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,c,T){if(t(c))return n;var h=P(y*1.3,2);return l(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,c,T){if(t(c))return n;var h=P(y*1.3,2),i=P(y*.65,2);return l(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,c,T){if(t(c))return n;var h=P(y*1.4,2);return l(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,c,T){if(t(c))return n;var h=P(y*1.2,2),i=P(y*.85,2);return l(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,c,T){if(t(c))return n;var h=P(y/2,2),i=P(y,2);return l(c,T,"M"+h+","+i+"V-"+i+"M"+(h-i)+",-"+i+"V"+i+"M"+i+","+h+"H-"+i+"M-"+i+","+(h-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,c,T){if(t(c))return n;var h=P(y*1.2,2),i=P(y*1.6,2),g=P(y*.8,2);return l(c,T,"M-"+h+","+g+"L0,0M"+h+","+g+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,c,T){if(t(c))return n;var h=P(y*1.2,2),i=P(y*1.6,2),g=P(y*.8,2);return l(c,T,"M-"+h+",-"+g+"L0,0M"+h+",-"+g+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,c,T){if(t(c))return n;var h=P(y*1.2,2),i=P(y*1.6,2),g=P(y*.8,2);return l(c,T,"M"+g+","+h+"L0,0M"+g+",-"+h+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,c,T){if(t(c))return n;var h=P(y*1.2,2),i=P(y*1.6,2),g=P(y*.8,2);return l(c,T,"M-"+g+","+h+"L0,0M-"+g+",-"+h+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,c,T){if(t(c))return n;var h=P(y*1.4,2);return l(c,T,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,c,T){if(t(c))return n;var h=P(y*1.4,2);return l(c,T,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,c,T){if(t(c))return n;var h=P(y,2);return l(c,T,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y*2,2);return l(c,T,"M0,0L-"+h+","+i+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y*2,2);return l(c,T,"M0,0L-"+h+",-"+i+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,c,T){if(t(c))return n;var h=P(y*2,2),i=P(y,2);return l(c,T,"M0,0L"+h+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,c,T){if(t(c))return n;var h=P(y*2,2),i=P(y,2);return l(c,T,"M0,0L-"+h+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y*2,2);return l(c,T,"M-"+h+",0H"+h+"M0,0L-"+h+","+i+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,c,T){if(t(c))return n;var h=P(y,2),i=P(y*2,2);return l(c,T,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+i+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,c,T){if(t(c))return n;var h=P(y*2,2),i=P(y,2);return l(c,T,"M0,-"+i+"V"+i+"M0,0L"+h+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,c,T){if(t(c))return n;var h=P(y*2,2),i=P(y,2);return l(c,T,"M0,-"+i+"V"+i+"M0,0L-"+h+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,c,T){if(t(c))return n;var h=v/2.5,i=2*y*p(h),g=2*y*r(h);return l(c,T,"M0,0L"+-i+","+g+"L"+i+","+g+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,c,T){if(t(c))return n;var h=v/4,i=2*y*p(h),g=2*y*r(h);return l(c,T,"M0,0L"+-i+","+g+"A "+2*y+","+2*y+" 0 0 1 "+i+","+g+"Z")},backoff:.4,noDot:!0}};function t(y){return y===null}var o,a,u,f;function l(y,c,T){if((!y||y%360===0)&&!c)return T;if(u===y&&f===c&&o===T)return a;u=y,f=c,o=T;function h(I,H){var O=p(I),V=r(I),B=H[0],F=H[1]+(c||0);return[B*O-F*V,B*V+F*O]}for(var i=y/180*v,g=0,b=0,A=d(T),R="",m=0;m<A.length;m++){var L=A[m],M=L[0],s=g,S=b;if(M==="M"||M==="L")g=+L[1],b=+L[2];else if(M==="m"||M==="l")g+=+L[1],b+=+L[2];else if(M==="H")g=+L[1];else if(M==="h")g+=+L[1];else if(M==="V")b=+L[1];else if(M==="v")b+=+L[1];else if(M==="A"){g=+L[1],b=+L[2];var w=h(i,[+L[6],+L[7]]);L[6]=w[0],L[7]=w[1],L[3]=+L[3]+y}(M==="H"||M==="V")&&(M="L"),(M==="h"||M==="v")&&(M="l"),(M==="m"||M==="l")&&(g-=s,b-=S);var _=h(i,[g,b]);(M==="H"||M==="V")&&(M="L"),(M==="M"||M==="L"||M==="m"||M==="l")&&(L[1]=_[0],L[2]=_[1]),L[0]=M,R+=L[0]+L.slice(1).join(",")}return a=R,R}},97644:function(U){U.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(U,N,e){var d=e(38248),P=e(24040),n=e(54460),C=e(3400),x=e(93792);U.exports=function(r){for(var t=r.calcdata,o=0;o<t.length;o++){var a=t[o],u=a[0].trace;if(u.visible===!0&&P.traceIs(u,"errorBarsOK")){var f=n.getFromId(r,u.xaxis),l=n.getFromId(r,u.yaxis);v(a,u,f,"x"),v(a,u,l,"y")}}};function v(p,r,t,o){var a=r["error_"+o]||{},u=a.visible&&["linear","log"].indexOf(t.type)!==-1,f=[];if(u){for(var l=x(a),y=0;y<p.length;y++){var c=p[y],T=c.i;if(T===void 0)T=y;else if(T===null)continue;var h=c[o];if(d(t.c2l(h))){var i=l(h,T);if(d(i[0])&&d(i[1])){var g=c[o+"s"]=h-i[0],b=c[o+"h"]=h+i[1];f.push(g,b)}}}var A=t._id,R=r._extremes[A],m=n.findExtremes(t,f,C.extendFlat({tozero:R.opts.tozero},{padded:!0}));R.min=R.min.concat(m.min),R.max=R.max.concat(m.max)}}},93792:function(U){U.exports=function(d){var P=d.type,n=d.symmetric;if(P==="data"){var C=d.array||[];if(n)return function(t,o){var a=+C[o];return[a,a]};var x=d.arrayminus||[];return function(t,o){var a=+C[o],u=+x[o];return!isNaN(a)||!isNaN(u)?[u||0,a||0]:[NaN,NaN]}}else{var v=N(P,d.value),p=N(P,d.valueminus);return n||d.valueminus===void 0?function(t){var o=v(t);return[o,o]}:function(t){return[p(t),v(t)]}}};function N(e,d){if(e==="percent")return function(P){return Math.abs(P*d/100)};if(e==="constant")return function(){return Math.abs(d)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(U,N,e){var d=e(38248),P=e(24040),n=e(3400),C=e(31780),x=e(97644);U.exports=function(v,p,r,t){var o="error_"+t.axis,a=C.newContainer(p,o),u=v[o]||{};function f(g,b){return n.coerce(u,a,x,g,b)}var l=u.array!==void 0||u.value!==void 0||u.type==="sqrt",y=f("visible",l);if(y!==!1){var c=f("type","array"in u?"data":"percent"),T=!0;c!=="sqrt"&&(T=f("symmetric",!((c==="data"?"arrayminus":"valueminus")in u))),c==="data"?(f("array"),f("traceref"),T||(f("arrayminus"),f("tracerefminus"))):(c==="percent"||c==="constant")&&(f("value"),T||f("valueminus"));var h="copy_"+t.inherit+"style";if(t.inherit){var i=p["error_"+t.inherit];(i||{}).visible&&f(h,!(u.color||d(u.thickness)||d(u.width)))}(!t.inherit||!a[h])&&(f("color",r),f("thickness"),f("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(U,N,e){var d=e(3400),P=e(67824).overrideAll,n=e(97644),C={error_x:d.extendFlat({},n),error_y:d.extendFlat({},n)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var x={error_x:d.extendFlat({},n),error_y:d.extendFlat({},n),error_z:d.extendFlat({},n)};delete x.error_x.copy_ystyle,delete x.error_y.copy_ystyle,delete x.error_z.copy_ystyle,delete x.error_z.copy_zstyle,U.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:P(x,"calc","nested"),scattergl:P(C,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(U,N,e){var d=e(33428),P=e(38248),n=e(43616),C=e(43028);U.exports=function(p,r,t,o){var a,u=t.xaxis,f=t.yaxis,l=o&&o.duration>0,y=p._context.staticPlot;r.each(function(c){var T=c[0].trace,h=T.error_x||{},i=T.error_y||{},g;T.ids&&(g=function(m){return m.id});var b=C.hasMarkers(T)&&T.marker.maxdisplayed>0;!i.visible&&!h.visible&&(c=[]);var A=d.select(this).selectAll("g.errorbar").data(c,g);if(A.exit().remove(),!!c.length){h.visible||A.selectAll("path.xerror").remove(),i.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var R=A.enter().append("g").classed("errorbar",!0);l&&R.style("opacity",0).transition().duration(o.duration).style("opacity",1),n.setClipUrl(A,t.layerClipId,p),A.each(function(m){var L=d.select(this),M=x(m,u,f);if(!(b&&!m.vis)){var s,S=L.select("path.yerror");if(i.visible&&P(M.x)&&P(M.yh)&&P(M.ys)){var w=i.width;s="M"+(M.x-w)+","+M.yh+"h"+2*w+"m-"+w+",0V"+M.ys,M.noYS||(s+="m-"+w+",0h"+2*w),a=!S.size(),a?S=L.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):l&&(S=S.transition().duration(o.duration).ease(o.easing)),S.attr("d",s)}else S.remove();var _=L.select("path.xerror");if(h.visible&&P(M.y)&&P(M.xh)&&P(M.xs)){var I=(h.copy_ystyle?i:h).width;s="M"+M.xh+","+(M.y-I)+"v"+2*I+"m0,-"+I+"H"+M.xs,M.noXS||(s+="m0,-"+I+"v"+2*I),a=!_.size(),a?_=L.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):l&&(_=_.transition().duration(o.duration).ease(o.easing)),_.attr("d",s)}else _.remove()}})}})};function x(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(U,N,e){var d=e(33428),P=e(76308);U.exports=function(C){C.each(function(x){var v=x[0].trace,p=v.error_y||{},r=v.error_x||{},t=d.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(U,N,e){var d=e(25376),P=e(65460).hoverlabel,n=e(92880).extendFlat;U.exports={hoverlabel:{bgcolor:n({},P.bgcolor,{arrayOk:!0}),bordercolor:n({},P.bordercolor,{arrayOk:!0}),font:d({arrayOk:!0,editType:"none"}),align:n({},P.align,{arrayOk:!0}),namelength:n({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(U,N,e){var d=e(3400),P=e(24040);U.exports=function(x){var v=x.calcdata,p=x._fullLayout;function r(f){return function(l){return d.coerceHoverinfo({hoverinfo:l},{_module:f._module},p)}}for(var t=0;t<v.length;t++){var o=v[t],a=o[0].trace;if(!P.traceIs(a,"pie-like")){var u=P.traceIs(a,"2dMap")?n:d.fillArray;u(a.hoverinfo,o,"hi",r(a)),a.hovertemplate&&u(a.hovertemplate,o,"ht"),a.hoverlabel&&(u(a.hoverlabel.bgcolor,o,"hbg"),u(a.hoverlabel.bordercolor,o,"hbc"),u(a.hoverlabel.font.size,o,"hts"),u(a.hoverlabel.font.color,o,"htc"),u(a.hoverlabel.font.family,o,"htf"),u(a.hoverlabel.font.weight,o,"htw"),u(a.hoverlabel.font.style,o,"hty"),u(a.hoverlabel.font.variant,o,"htv"),u(a.hoverlabel.namelength,o,"hnl"),u(a.hoverlabel.align,o,"hta"))}}};function n(C,x,v,p){p=p||d.identity,Array.isArray(C)&&(x[0][v]=p(C))}},62376:function(U,N,e){var d=e(24040),P=e(83292).hover;U.exports=function(C,x,v){var p=d.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&P(C,x,v,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:x})}C._hoverdata&&x&&x.target&&(p&&p.then?p.then(r):r(),x.stopImmediatePropagation&&x.stopImmediatePropagation())}},92456:function(U){U.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(U,N,e){var d=e(3400),P=e(55756),n=e(16132);U.exports=function(x,v,p,r){function t(a,u){return d.coerce(x,v,P,a,u)}var o=d.extendFlat({},r.hoverlabel);v.hovertemplate&&(o.namelength=-1),n(x,v,t,o)}},10624:function(U,N,e){var d=e(3400);N.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},N.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],o=p.yaxes||[],a=0;a<t.length;a++)for(var u=0;u<o.length;u++)if(r.indexOf(t[a]+o[u])!==-1)return!0;return!1}return r.indexOf(N.getSubplot(p))!==-1},N.flat=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=r;return t},N.p2c=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=p[o].p2c(r);return t},N.getDistanceFunction=function(p,r,t,o){return p==="closest"?o||N.quadrature(r,t):p.charAt(0)==="x"?r:t},N.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var o=0;o<p.length;o++){var a=r(p[o]);a<=t.distance&&(t.index=o,t.distance=a)}return t},N.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},N.quadrature=function(p,r){return function(t){var o=p(t),a=r(t);return Math.sqrt(o*o+a*a)}},N.makeEventData=function(p,r,t){var o="index"in p?p.index:p.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var u=r._indexToPoints[o];u.length===1?a.pointIndex=u[0]:a.pointIndices=u}else a.pointIndex=o;return r._module.eventData?a=r._module.eventData(a,p,r,t,o):("xVal"in p?a.x=p.xVal:"x"in p&&(a.x=p.x),"yVal"in p?a.y=p.yVal:"y"in p&&(a.y=p.y),p.xa&&(a.xaxis=p.xa),p.ya&&(a.yaxis=p.ya),p.zLabelVal!==void 0&&(a.z=p.zLabelVal)),N.appendArrayPointValue(a,r,o),a},N.appendArrayPointValue=function(p,r,t){var o=r._arrayAttrs;if(o)for(var a=0;a<o.length;a++){var u=o[a],f=n(u);if(p[f]===void 0){var l=d.nestedProperty(r,u).get(),y=C(l,t);y!==void 0&&(p[f]=y)}}},N.appendArrayMultiPointValues=function(p,r,t){var o=r._arrayAttrs;if(o)for(var a=0;a<o.length;a++){var u=o[a],f=n(u);if(p[f]===void 0){for(var l=d.nestedProperty(r,u).get(),y=new Array(t.length),c=0;c<t.length;c++)y[c]=C(l,t[c]);p[f]=y}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(p){return P[p]||p}function C(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var x={x:!0,y:!0},v={"x unified":!0,"y unified":!0};N.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},N.isXYhover=function(p){return typeof p!="string"?!1:!!x[p]}},83292:function(U,N,e){var d=e(33428),P=e(38248),n=e(49760),C=e(3400),x=C.pushUnique,v=C.strTranslate,p=C.strRotate,r=e(95924),t=e(72736),o=e(72213),a=e(43616),u=e(76308),f=e(86476),l=e(54460),y=e(33816).zindexSeparator,c=e(24040),T=e(10624),h=e(92456),i=e(77864),g=e(31140),b=h.YANGLE,A=Math.PI*b/180,R=1/Math.sin(A),m=Math.cos(A),L=Math.sin(A),M=h.HOVERARROWSIZE,s=h.HOVERTEXTPAD,S={box:!0,ohlc:!0,violin:!0,candlestick:!0},w={scatter:!0,scattergl:!0,splom:!0};function _(j,se){return j.distance-se.distance}N.hover=function(se,ne,he,me){se=C.getGraphDiv(se);var we=ne.target;C.throttle(se._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){I(se,ne,he,me,we)})},N.loneHover=function(se,ne){var he=!0;Array.isArray(se)||(he=!1,se=[se]);var me=ne.gd,we=q(me),Te=le(me),Le=se.map(function(Ze){var it=Ze._x0||Ze.x0||Ze.x||0,Je=Ze._x1||Ze.x1||Ze.x||0,et=Ze._y0||Ze.y0||Ze.y||0,ft=Ze._y1||Ze.y1||Ze.y||0,vt=Ze.eventData;if(vt){var dt=Math.min(it,Je),xt=Math.max(it,Je),Mt=Math.min(et,ft),nt=Math.max(et,ft),Fe=Ze.trace;if(c.traceIs(Fe,"gl3d")){var We=me._fullLayout[Fe.scene]._scene.container,je=We.offsetLeft,Ke=We.offsetTop;dt+=je,xt+=je,Mt+=Ke,nt+=Ke}vt.bbox={x0:dt+Te,x1:xt+Te,y0:Mt+we,y1:nt+we},ne.inOut_bbox&&ne.inOut_bbox.push(vt.bbox)}else vt=!1;return{color:Ze.color||u.defaultLine,x0:Ze.x0||Ze.x||0,x1:Ze.x1||Ze.x||0,y0:Ze.y0||Ze.y||0,y1:Ze.y1||Ze.y||0,xLabel:Ze.xLabel,yLabel:Ze.yLabel,zLabel:Ze.zLabel,text:Ze.text,name:Ze.name,idealAlign:Ze.idealAlign,borderColor:Ze.borderColor,fontFamily:Ze.fontFamily,fontSize:Ze.fontSize,fontColor:Ze.fontColor,fontWeight:Ze.fontWeight,fontStyle:Ze.fontStyle,fontVariant:Ze.fontVariant,nameLength:Ze.nameLength,textAlign:Ze.textAlign,trace:Ze.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ze.hovertemplate||!1,hovertemplateLabels:Ze.hovertemplateLabels||!1,eventData:vt}}),Ie=!1,ze=V(Le,{gd:me,hovermode:"closest",rotateLabels:Ie,bgColor:ne.bgColor||u.background,container:d.select(ne.container),outerContainer:ne.outerContainer||ne.container}),Me=ze.hoverLabels,_e=5,Ce=0,Oe=0;Me.sort(function(Ze,it){return Ze.y0-it.y0}).each(function(Ze,it){var Je=Ze.y0-Ze.by/2;Je-_e<Ce?Ze.offset=Ce-Je+_e:Ze.offset=0,Ce=Je+Ze.by+Ze.offset,it===ne.anchorIndex&&(Oe=Ze.offset)}).each(function(Ze){Ze.offset-=Oe});var Pe=me._fullLayout._invScaleX,Ge=me._fullLayout._invScaleY;return Q(Me,Ie,Pe,Ge),he?Me:Me.node()};function I(j,se,ne,he,me){ne||(ne="xy"),typeof ne=="string"&&(ne=ne.split(y)[0]);var we=Array.isArray(ne)?ne:[ne],Te,Le=j._fullLayout,Ie=Le.hoversubplots,ze=Le._plots||[],Me=ze[ne],_e=Le._has("cartesian"),Ce=se.hovermode||Le.hovermode,Oe=(Ce||"").charAt(0)==="x",Pe=(Ce||"").charAt(0)==="y",Ge,Ze;if(_e&&(Oe||Pe)&&Ie==="axis"){for(var it=we.length,Je=0;Je<it;Je++)if(Te=we[Je],ze[Te]){Ge=l.getFromId(j,Te,"x"),Ze=l.getFromId(j,Te,"y");var et=(Oe?Ge:Ze)._subplotsWith;if(et&&et.length)for(var ft=0;ft<et.length;ft++)x(we,et[ft])}}if(Me&&Ie!=="single"){var vt=Me.overlays.map(function(kn){return kn.id});we=we.concat(vt)}for(var dt=we.length,xt=new Array(dt),Mt=new Array(dt),nt=!1,Fe=0;Fe<dt;Fe++)if(Te=we[Fe],ze[Te])nt=!0,xt[Fe]=ze[Te].xaxis,Mt[Fe]=ze[Te].yaxis;else if(Le[Te]&&Le[Te]._subplot){var We=Le[Te]._subplot;xt[Fe]=We.xaxis,Mt[Fe]=We.yaxis}else{C.warn("Unrecognized subplot: "+Te);return}if(Ce&&!nt&&(Ce="closest"),["x","y","closest","x unified","y unified"].indexOf(Ce)===-1||!j.calcdata||j.querySelector(".zoombox")||j._dragging)return f.unhoverRaw(j,se);var je=Le.hoverdistance;je===-1&&(je=1/0);var Ke=Le.spikedistance;Ke===-1&&(Ke=1/0);var ke=[],Ue=[],Ve,Re,de,be,Ne,Ye,at,lt,Ht,Yt,Tt,Lt,Kt,vr={hLinePoint:null,vLinePoint:null},gt=!1;if(Array.isArray(se))for(Ce="array",de=0;de<se.length;de++)Ne=j.calcdata[se[de].curveNumber||0],Ne&&(Ye=Ne[0].trace,Ne[0].trace.hoverinfo!=="skip"&&(Ue.push(Ne),Ye.orientation==="h"&&(gt=!0)));else{var Xt=j.calcdata.slice();for(Xt.sort(function(kn,Cr){var on=kn[0].trace.zorder||0,sn=Cr[0].trace.zorder||0;return on-sn}),be=0;be<Xt.length;be++)Ne=Xt[be],Ye=Ne[0].trace,Ye.hoverinfo!=="skip"&&T.isTraceInSubplots(Ye,we)&&(Ue.push(Ne),Ye.orientation==="h"&&(gt=!0));var $t=!me,mr,or;if($t)"xpx"in se?mr=se.xpx:mr=xt[0]._length/2,"ypx"in se?or=se.ypx:or=Mt[0]._length/2;else{if(r.triggerHandler(j,"plotly_beforehover",se)===!1)return;var yt=me.getBoundingClientRect();mr=se.clientX-yt.left,or=se.clientY-yt.top,Le._calcInverseTransform(j);var ut=C.apply3DTransform(Le._invTransform)(mr,or);if(mr=ut[0],or=ut[1],mr<0||mr>xt[0]._length||or<0||or>Mt[0]._length)return f.unhoverRaw(j,se)}if(se.pointerX=mr+xt[0]._offset,se.pointerY=or+Mt[0]._offset,"xval"in se?Ve=T.flat(we,se.xval):Ve=T.p2c(xt,mr),"yval"in se?Re=T.flat(we,se.yval):Re=T.p2c(Mt,or),!P(Ve[0])||!P(Re[0]))return C.warn("Fx.hover failed",se,j),f.unhoverRaw(j,se)}var bt=1/0;function Et(kn,Cr){for(be=0;be<Ue.length;be++)if(Ne=Ue[be],!(!Ne||!Ne[0]||!Ne[0].trace)&&(Ye=Ne[0].trace,!(Ye.visible!==!0||Ye._length===0)&&["carpet","contourcarpet"].indexOf(Ye._module.name)===-1)){if(Ht=Ce,T.isUnifiedHover(Ht)&&(Ht=Ht.charAt(0)),Ye.type==="splom"?(lt=0,at=we[lt]):(at=T.getSubplot(Ye),lt=we.indexOf(at)),Lt={cd:Ne,trace:Ye,xa:xt[lt],ya:Mt[lt],maxHoverDistance:je,maxSpikeDistance:Ke,index:!1,distance:Math.min(bt,je),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:Ye.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Le[at]&&(Lt.subplot=Le[at]._subplot),Le._splomScenes&&Le._splomScenes[Ye.uid]&&(Lt.scene=Le._splomScenes[Ye.uid]),Ht==="array"){var on=se[be];"pointNumber"in on?(Lt.index=on.pointNumber,Ht="closest"):(Ht="","xval"in on&&(Yt=on.xval,Ht="x"),"yval"in on&&(Tt=on.yval,Ht=Ht?"closest":"y"))}else kn!==void 0&&Cr!==void 0?(Yt=kn,Tt=Cr):(Yt=Ve[lt],Tt=Re[lt]);if(Kt=ke.length,je!==0)if(Ye._module&&Ye._module.hoverPoints){var sn=Ye._module.hoverPoints(Lt,Yt,Tt,Ht,{finiteRange:!0,hoverLayer:Le._hoverlayer,hoversubplots:Ie,gd:j});if(sn)for(var un,Bn=0;Bn<sn.length;Bn++)un=sn[Bn],P(un.x0)&&P(un.y0)&&ke.push(te(un,Ce))}else C.log("Unrecognized trace type in hover:",Ye);if(Ce==="closest"&&ke.length>Kt&&(ke.splice(0,Kt),bt=ke[0].distance),_e&&Ke!==0&&ke.length===0){Lt.distance=Ke,Lt.index=!1;var yn=Ye._module.hoverPoints(Lt,Yt,Tt,"closest",{hoverLayer:Le._hoverlayer});if(yn&&(yn=yn.filter(function(Ar){return Ar.spikeDistance<=Ke})),yn&&yn.length){var Ln,Un=yn.filter(function(Ar){return Ar.xa.showspikes&&Ar.xa.spikesnap!=="hovered data"});if(Un.length){var qn=Un[0];P(qn.x0)&&P(qn.y0)&&(Ln=Ft(qn),(!vr.vLinePoint||vr.vLinePoint.spikeDistance>Ln.spikeDistance)&&(vr.vLinePoint=Ln))}var da=yn.filter(function(Ar){return Ar.ya.showspikes&&Ar.ya.spikesnap!=="hovered data"});if(da.length){var Ia=da[0];P(Ia.x0)&&P(Ia.y0)&&(Ln=Ft(Ia),(!vr.hLinePoint||vr.hLinePoint.spikeDistance>Ln.spikeDistance)&&(vr.hLinePoint=Ln))}}}}}Et();function It(kn,Cr,on){for(var sn=null,un=1/0,Bn,yn=0;yn<kn.length;yn++)Ge&&Ge._id!==kn[yn].xa._id||Ze&&Ze._id!==kn[yn].ya._id||(Bn=kn[yn].spikeDistance,on&&yn===0&&(Bn=-1/0),Bn<=un&&Bn<=Cr&&(sn=kn[yn],un=Bn));return sn}function Ft(kn){return kn?{xa:kn.xa,ya:kn.ya,x:kn.xSpike!==void 0?kn.xSpike:(kn.x0+kn.x1)/2,y:kn.ySpike!==void 0?kn.ySpike:(kn.y0+kn.y1)/2,distance:kn.distance,spikeDistance:kn.spikeDistance,curveNumber:kn.trace.index,color:kn.color,pointNumber:kn.index}:null}var Ot={fullLayout:Le,container:Le._hoverlayer,event:se};j._spikepoints;var Nt={vLinePoint:vr.vLinePoint,hLinePoint:vr.hLinePoint};j._spikepoints=Nt;var Jt=function(){var kn=ke.filter(function(on){return Ge&&Ge._id===on.xa._id&&Ze&&Ze._id===on.ya._id}),Cr=ke.filter(function(on){return!(Ge&&Ge._id===on.xa._id&&Ze&&Ze._id===on.ya._id)});kn.sort(_),Cr.sort(_),ke=kn.concat(Cr),ke=ee(ke,Ce)};Jt();var hr=Ce.charAt(0),cr=(hr==="x"||hr==="y")&&ke[0]&&w[ke[0].trace.type];if(_e&&Ke!==0&&ke.length!==0){var dr=ke.filter(function(kn){return kn.ya.showspikes}),fr=It(dr,Ke,cr);vr.hLinePoint=Ft(fr);var Lr=ke.filter(function(kn){return kn.xa.showspikes}),xr=It(Lr,Ke,cr);vr.vLinePoint=Ft(xr)}if(ke.length===0){var Qe=f.unhoverRaw(j,se);return _e&&(vr.hLinePoint!==null||vr.vLinePoint!==null)&&oe()&&ae(j,vr,Ot),Qe}if(_e&&oe()&&ae(j,vr,Ot),T.isXYhover(Ht)&&ke[0].length!==0&&ke[0].trace.type!=="splom"){var rt=ke[0];S[rt.trace.type]?ke=ke.filter(function(kn){return kn.trace.index===rt.trace.index}):ke=[rt];var er=ke.length,tr=X("x",rt,Le),jt=X("y",rt,Le);Et(tr,jt);var Pt=[],Zt={},nr=0,Qt=function(kn){var Cr=S[kn.trace.type]?H(kn):kn.trace.index;if(!Zt[Cr])nr++,Zt[Cr]=nr,Pt.push(kn);else{var on=Zt[Cr]-1,sn=Pt[on];on>0&&Math.abs(kn.distance)<Math.abs(sn.distance)&&(Pt[on]=kn)}},Wt;for(Wt=0;Wt<er;Wt++)Qt(ke[Wt]);for(Wt=ke.length-1;Wt>er-1;Wt--)Qt(ke[Wt]);ke=Pt,Jt()}var yr=j._hoverdata,Dr=[],Tr=q(j),dn=le(j);for(de=0;de<ke.length;de++){var Nr=ke[de],Cn=T.makeEventData(Nr,Nr.trace,Nr.cd);if(Nr.hovertemplate!==!1){var an=!1;Nr.cd[Nr.index]&&Nr.cd[Nr.index].ht&&(an=Nr.cd[Nr.index].ht),Nr.hovertemplate=an||Nr.trace.hovertemplate||!1}if(Nr.xa&&Nr.ya){var gr=Nr.x0+Nr.xa._offset,Pr=Nr.x1+Nr.xa._offset,Xr=Nr.y0+Nr.ya._offset,_r=Nr.y1+Nr.ya._offset,gn=Math.min(gr,Pr),rn=Math.max(gr,Pr),An=Math.min(Xr,_r),Pn=Math.max(Xr,_r);Cn.bbox={x0:gn+dn,x1:rn+dn,y0:An+Tr,y1:Pn+Tr}}Nr.eventData=[Cn],Dr.push(Cn)}j._hoverdata=Dr;var Wn=Ce==="y"&&(Ue.length>1||ke.length>1)||Ce==="closest"&&gt&&ke.length>1,ya=u.combine(Le.plot_bgcolor||u.background,Le.paper_bgcolor),Ta=V(ke,{gd:j,hovermode:Ce,rotateLabels:Wn,bgColor:ya,container:Le._hoverlayer,outerContainer:Le._paper.node(),commonLabelOpts:Le.hoverlabel,hoverdistance:Le.hoverdistance}),sa=Ta.hoverLabels;if(T.isUnifiedHover(Ce)||(F(sa,Wn,Le,Ta.commonLabelBoundingBox),Q(sa,Wn,Le._invScaleX,Le._invScaleY)),me&&me.tagName){var aa=c.getComponentMethod("annotations","hasClickToShow")(j,Dr);o(d.select(me),aa?"pointer":"")}!me||he||!fe(j,se,yr)||(yr&&j.emit("plotly_unhover",{event:se,points:yr}),j.emit("plotly_hover",{event:se,points:j._hoverdata,xaxes:xt,yaxes:Mt,xvals:Ve,yvals:Re}))}function H(j){return[j.trace.index,j.index,j.x0,j.y0,j.name,j.attr,j.xa?j.xa._id:"",j.ya?j.ya._id:""].join(",")}var O=/<extra>([\s\S]*)<\/extra>/;function V(j,se){var ne=se.gd,he=ne._fullLayout,me=se.hovermode,we=se.rotateLabels,Te=se.bgColor,Le=se.container,Ie=se.outerContainer,ze=se.commonLabelOpts||{};if(j.length===0)return[[]];var Me=se.fontFamily||h.HOVERFONT,_e=se.fontSize||h.HOVERFONTSIZE,Ce=se.fontWeight||he.font.weight,Oe=se.fontStyle||he.font.style,Pe=se.fontVariant||he.font.variant,Ge=se.fontTextcase||he.font.textcase,Ze=se.fontLineposition||he.font.lineposition,it=se.fontShadow||he.font.shadow,Je=j[0],et=Je.xa,ft=Je.ya,vt=me.charAt(0),dt=vt+"Label",xt=Je[dt];if(xt===void 0&&et.type==="multicategory")for(var Mt=0;Mt<j.length&&(xt=j[Mt][dt],xt===void 0);Mt++);var nt=$(ne,Ie),Fe=nt.top,We=nt.width,je=nt.height,Ke=xt!==void 0&&Je.distance<=se.hoverdistance&&(me==="x"||me==="y");if(Ke){var ke=!0,Ue,Ve;for(Ue=0;Ue<j.length;Ue++)if(ke&&j[Ue].zLabel===void 0&&(ke=!1),Ve=j[Ue].hoverinfo||j[Ue].trace.hoverinfo,Ve){var Re=Array.isArray(Ve)?Ve:Ve.split("+");if(Re.indexOf("all")===-1&&Re.indexOf(me)===-1){Ke=!1;break}}ke&&(Ke=!1)}var de=Le.selectAll("g.axistext").data(Ke?[0]:[]);de.enter().append("g").classed("axistext",!0),de.exit().remove();var be={minX:0,maxX:0,minY:0,maxY:0};if(de.each(function(){var xr=d.select(this),Qe=C.ensureSingle(xr,"path","",function(rn){rn.style({"stroke-width":"1px"})}),rt=C.ensureSingle(xr,"text","",function(rn){rn.attr("data-notex",1)}),er=ze.bgcolor||u.defaultLine,tr=ze.bordercolor||u.contrast(er),jt=u.contrast(er),Pt=ze.font,Zt={weight:Pt.weight||Ce,style:Pt.style||Oe,variant:Pt.variant||Pe,textcase:Pt.textcase||Ge,lineposition:Pt.lineposition||Ze,shadow:Pt.shadow||it,family:Pt.family||Me,size:Pt.size||_e,color:Pt.color||jt};Qe.style({fill:er,stroke:tr}),rt.text(xt).call(a.font,Zt).call(t.positionText,0,0).call(t.convertToTspans,ne),xr.attr("transform","");var nr=$(ne,rt.node()),Qt,Wt;if(me==="x"){var yr=et.side==="top"?"-":"";rt.attr("text-anchor","middle").call(t.positionText,0,et.side==="top"?Fe-nr.bottom-M-s:Fe-nr.top+M+s),Qt=et._offset+(Je.x0+Je.x1)/2,Wt=ft._offset+(et.side==="top"?0:ft._length);var Dr=nr.width/2+s,Tr=Qt;Qt<Dr?Tr=Dr:Qt>he.width-Dr&&(Tr=he.width-Dr),Qe.attr("d","M"+(Qt-Tr)+",0L"+(Qt-Tr+M)+","+yr+M+"H"+Dr+"v"+yr+(s*2+nr.height)+"H"+-Dr+"V"+yr+M+"H"+(Qt-Tr-M)+"Z"),Qt=Tr,be.minX=Qt-Dr,be.maxX=Qt+Dr,et.side==="top"?(be.minY=Wt-(s*2+nr.height),be.maxY=Wt-s):(be.minY=Wt+s,be.maxY=Wt+(s*2+nr.height))}else{var dn,Nr,Cn;ft.side==="right"?(dn="start",Nr=1,Cn="",Qt=et._offset+et._length):(dn="end",Nr=-1,Cn="-",Qt=et._offset),Wt=ft._offset+(Je.y0+Je.y1)/2,rt.attr("text-anchor",dn),Qe.attr("d","M0,0L"+Cn+M+","+M+"V"+(s+nr.height/2)+"h"+Cn+(s*2+nr.width)+"V-"+(s+nr.height/2)+"H"+Cn+M+"V-"+M+"Z"),be.minY=Wt-(s+nr.height/2),be.maxY=Wt+(s+nr.height/2),ft.side==="right"?(be.minX=Qt+M,be.maxX=Qt+M+(s*2+nr.width)):(be.minX=Qt-M-(s*2+nr.width),be.maxX=Qt-M);var an=nr.height/2,gr=Fe-nr.top-an,Pr="clip"+he._uid+"commonlabel"+ft._id,Xr;if(Qt<nr.width+2*s+M){Xr="M-"+(M+s)+"-"+an+"h-"+(nr.width-s)+"V"+an+"h"+(nr.width-s)+"Z";var _r=nr.width-Qt+s;t.positionText(rt,_r,gr),dn==="end"&&rt.selectAll("tspan").each(function(){var rn=d.select(this),An=a.tester.append("text").text(rn.text()).call(a.font,Zt),Pn=$(ne,An.node());Math.round(Pn.width)<Math.round(nr.width)&&rn.attr("x",_r-Pn.width),An.remove()})}else t.positionText(rt,Nr*(s+M),gr),Xr=null;var gn=he._topclips.selectAll("#"+Pr).data(Xr?[0]:[]);gn.enter().append("clipPath").attr("id",Pr).append("path"),gn.exit().remove(),gn.select("path").attr("d",Xr),a.setClipUrl(rt,Xr?Pr:null,ne)}xr.attr("transform",v(Qt,Wt))}),T.isUnifiedHover(me)){Le.selectAll("g.hovertext").remove();var Ne=j.filter(function(xr){return xr.hoverinfo!=="none"});if(Ne.length===0)return[];var Ye=he.hoverlabel,at=Ye.font,lt={showlegend:!0,legend:{title:{text:xt,font:at},font:at,bgcolor:Ye.bgcolor,bordercolor:Ye.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:he.legend?he.legend.traceorder:void 0,orientation:"v"}},Ht={font:at};i(lt,Ht,ne._fullData);var Yt=Ht.legend;Yt.entries=[];for(var Tt=0;Tt<Ne.length;Tt++){var Lt=Ne[Tt];if(Lt.hoverinfo!=="none"){var Kt=B(Lt,!0,me,he,xt),vr=Kt[0],gt=Kt[1];Lt.name=gt,gt!==""?Lt.text=gt+" : "+vr:Lt.text=vr;var Xt=Lt.cd[Lt.index];Xt&&(Xt.mc&&(Lt.mc=Xt.mc),Xt.mcc&&(Lt.mc=Xt.mcc),Xt.mlc&&(Lt.mlc=Xt.mlc),Xt.mlcc&&(Lt.mlc=Xt.mlcc),Xt.mlw&&(Lt.mlw=Xt.mlw),Xt.mrc&&(Lt.mrc=Xt.mrc),Xt.dir&&(Lt.dir=Xt.dir)),Lt._distinct=!0,Yt.entries.push([Lt])}}Yt.entries.sort(function(xr,Qe){return xr[0].trace.index-Qe[0].trace.index}),Yt.layer=Le,Yt._inHover=!0,Yt._groupTitleFont=Ye.grouptitlefont,g(ne,Yt);var $t=Le.select("g.legend"),mr=$(ne,$t.node()),or=mr.width+2*s,yt=mr.height+2*s,ut=Ne[0],bt=(ut.x0+ut.x1)/2,Et=(ut.y0+ut.y1)/2,It=!(c.traceIs(ut.trace,"bar-like")||c.traceIs(ut.trace,"box-violin")),Ft,Ot;vt==="y"?It?(Ot=Et-s,Ft=Et+s):(Ot=Math.min.apply(null,Ne.map(function(xr){return Math.min(xr.y0,xr.y1)})),Ft=Math.max.apply(null,Ne.map(function(xr){return Math.max(xr.y0,xr.y1)}))):Ot=Ft=C.mean(Ne.map(function(xr){return(xr.y0+xr.y1)/2}))-yt/2;var Nt,Jt;vt==="x"?It?(Nt=bt+s,Jt=bt-s):(Nt=Math.max.apply(null,Ne.map(function(xr){return Math.max(xr.x0,xr.x1)})),Jt=Math.min.apply(null,Ne.map(function(xr){return Math.min(xr.x0,xr.x1)}))):Nt=Jt=C.mean(Ne.map(function(xr){return(xr.x0+xr.x1)/2}))-or/2;var hr=et._offset,cr=ft._offset;Ft+=cr,Nt+=hr,Jt+=hr-or,Ot+=cr-yt;var dr,fr;return Nt+or<We&&Nt>=0?dr=Nt:Jt+or<We&&Jt>=0?dr=Jt:hr+or<We?dr=hr:Nt-bt<bt-Jt+or?dr=We-or:dr=0,dr+=s,Ft+yt<je&&Ft>=0?fr=Ft:Ot+yt<je&&Ot>=0?fr=Ot:cr+yt<je?fr=cr:Ft-Et<Et-Ot+yt?fr=je-yt:fr=0,fr+=s,$t.attr("transform",v(dr-1,fr-1)),$t}var Lr=Le.selectAll("g.hovertext").data(j,function(xr){return H(xr)});return Lr.enter().append("g").classed("hovertext",!0).each(function(){var xr=d.select(this);xr.append("rect").call(u.fill,u.addOpacity(Te,.8)),xr.append("text").classed("name",!0),xr.append("path").style("stroke-width","1px"),xr.append("text").classed("nums",!0).call(a.font,{weight:Ce,style:Oe,variant:Pe,textcase:Ge,lineposition:Ze,shadow:it,family:Me,size:_e})}),Lr.exit().remove(),Lr.each(function(xr){var Qe=d.select(this).attr("transform",""),rt=xr.color;Array.isArray(rt)&&(rt=rt[xr.eventData[0].pointNumber]);var er=xr.bgcolor||rt,tr=u.combine(u.opacity(er)?er:u.defaultLine,Te),jt=u.combine(u.opacity(rt)?rt:u.defaultLine,Te),Pt=xr.borderColor||u.contrast(tr),Zt=B(xr,Ke,me,he,xt,Qe),nr=Zt[0],Qt=Zt[1],Wt=Qe.select("text.nums").call(a.font,{family:xr.fontFamily||Me,size:xr.fontSize||_e,color:xr.fontColor||Pt,weight:xr.fontWeight||Ce,style:xr.fontStyle||Oe,variant:xr.fontVariant||Pe,textcase:xr.fontTextcase||Ge,lineposition:xr.fontLineposition||Ze,shadow:xr.fontShadow||it}).text(nr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ne),yr=Qe.select("text.name"),Dr=0,Tr=0;if(Qt&&Qt!==nr){yr.call(a.font,{family:xr.fontFamily||Me,size:xr.fontSize||_e,color:jt,weight:xr.fontWeight||Ce,style:xr.fontStyle||Oe,variant:xr.fontVariant||Pe,textcase:xr.fontTextcase||Ge,lineposition:xr.fontLineposition||Ze,shadow:xr.fontShadow||it}).text(Qt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ne);var dn=$(ne,yr.node());Dr=dn.width+2*s,Tr=dn.height+2*s}else yr.remove(),Qe.select("rect").remove();Qe.select("path").style({fill:tr,stroke:Pt});var Nr=xr.xa._offset+(xr.x0+xr.x1)/2,Cn=xr.ya._offset+(xr.y0+xr.y1)/2,an=Math.abs(xr.x1-xr.x0),gr=Math.abs(xr.y1-xr.y0),Pr=$(ne,Wt.node()),Xr=Pr.width/he._invScaleX,_r=Pr.height/he._invScaleY;xr.ty0=(Fe-Pr.top)/he._invScaleY,xr.bx=Xr+2*s,xr.by=Math.max(_r+2*s,Tr),xr.anchor="start",xr.txwidth=Xr,xr.tx2width=Dr,xr.offset=0;var gn=(Xr+M+s+Dr)*he._invScaleX,rn,An;if(we)xr.pos=Nr,rn=Cn+gr/2+gn<=je,An=Cn-gr/2-gn>=0,(xr.idealAlign==="top"||!rn)&&An?(Cn-=gr/2,xr.anchor="end"):rn?(Cn+=gr/2,xr.anchor="start"):xr.anchor="middle",xr.crossPos=Cn;else{if(xr.pos=Cn,rn=Nr+an/2+gn<=We,An=Nr-an/2-gn>=0,(xr.idealAlign==="left"||!rn)&&An)Nr-=an/2,xr.anchor="end";else if(rn)Nr+=an/2,xr.anchor="start";else{xr.anchor="middle";var Pn=gn/2,Wn=Nr+Pn-We,ya=Nr-Pn;Wn>0&&(Nr-=Wn),ya<0&&(Nr+=-ya)}xr.crossPos=Nr}Wt.attr("text-anchor",xr.anchor),Dr&&yr.attr("text-anchor",xr.anchor),Qe.attr("transform",v(Nr,Cn)+(we?p(b):""))}),{hoverLabels:Lr,commonLabelBoundingBox:be}}function B(j,se,ne,he,me,we){var Te="",Le="";j.nameOverride!==void 0&&(j.name=j.nameOverride),j.name&&(j.trace._meta&&(j.name=C.templateString(j.name,j.trace._meta)),Te=J(j.name,j.nameLength));var Ie=ne.charAt(0),ze=Ie==="x"?"y":"x";j.zLabel!==void 0?(j.xLabel!==void 0&&(Le+="x: "+j.xLabel+"<br>"),j.yLabel!==void 0&&(Le+="y: "+j.yLabel+"<br>"),j.trace.type!=="choropleth"&&j.trace.type!=="choroplethmapbox"&&(Le+=(Le?"z: ":"")+j.zLabel)):se&&j[Ie+"Label"]===me?Le=j[ze+"Label"]||"":j.xLabel===void 0?j.yLabel!==void 0&&j.trace.type!=="scattercarpet"&&(Le=j.yLabel):j.yLabel===void 0?Le=j.xLabel:Le="("+j.xLabel+", "+j.yLabel+")",(j.text||j.text===0)&&!Array.isArray(j.text)&&(Le+=(Le?"<br>":"")+j.text),j.extraText!==void 0&&(Le+=(Le?"<br>":"")+j.extraText),we&&Le===""&&!j.hovertemplate&&(Te===""&&we.remove(),Le=Te);var Me=j.hovertemplate||!1;if(Me){var _e=j.hovertemplateLabels||j;j[Ie+"Label"]!==me&&(_e[Ie+"other"]=_e[Ie+"Val"],_e[Ie+"otherLabel"]=_e[Ie+"Label"]),Le=C.hovertemplateString(Me,_e,he._d3locale,j.eventData[0]||{},j.trace._meta),Le=Le.replace(O,function(Ce,Oe){return Te=J(Oe,j.nameLength),""})}return[Le,Te]}function F(j,se,ne,he){var me=se?"xa":"ya",we=se?"ya":"xa",Te=0,Le=1,Ie=j.size(),ze=new Array(Ie),Me=0,_e=he.minX,Ce=he.maxX,Oe=he.minY,Pe=he.maxY,Ge=function(Ve){return Ve*ne._invScaleX},Ze=function(Ve){return Ve*ne._invScaleY};j.each(function(Ve){var Re=Ve[me],de=Ve[we],be=Re._id.charAt(0)==="x",Ne=Re.range;Me===0&&Ne&&Ne[0]>Ne[1]!==be&&(Le=-1);var Ye=0,at=be?ne.width:ne.height;if(ne.hovermode==="x"||ne.hovermode==="y"){var lt=G(Ve,se),Ht=Ve.anchor,Yt=Ht==="end"?-1:1,Tt,Lt;if(Ht==="middle")Tt=Ve.crossPos+(be?Ze(lt.y-Ve.by/2):Ge(Ve.bx/2+Ve.tx2width/2)),Lt=Tt+(be?Ze(Ve.by):Ge(Ve.bx));else if(be)Tt=Ve.crossPos+Ze(M+lt.y)-Ze(Ve.by/2-M),Lt=Tt+Ze(Ve.by);else{var Kt=Ge(Yt*M+lt.x),vr=Kt+Ge(Yt*Ve.bx);Tt=Ve.crossPos+Math.min(Kt,vr),Lt=Ve.crossPos+Math.max(Kt,vr)}be?Oe!==void 0&&Pe!==void 0&&Math.min(Lt,Pe)-Math.max(Tt,Oe)>1&&(de.side==="left"?(Ye=de._mainLinePosition,at=ne.width):at=de._mainLinePosition):_e!==void 0&&Ce!==void 0&&Math.min(Lt,Ce)-Math.max(Tt,_e)>1&&(de.side==="top"?(Ye=de._mainLinePosition,at=ne.height):at=de._mainLinePosition)}ze[Me++]=[{datum:Ve,traceIndex:Ve.trace.index,dp:0,pos:Ve.pos,posref:Ve.posref,size:Ve.by*(be?R:1)/2,pmin:Ye,pmax:at}]}),ze.sort(function(Ve,Re){return Ve[0].posref-Re[0].posref||Le*(Re[0].traceIndex-Ve[0].traceIndex)});var it,Je,et,ft,vt,dt,xt;function Mt(Ve){var Re=Ve[0],de=Ve[Ve.length-1];if(Je=Re.pmin-Re.pos-Re.dp+Re.size,et=de.pos+de.dp+de.size-Re.pmax,Je>.01){for(vt=Ve.length-1;vt>=0;vt--)Ve[vt].dp+=Je;it=!1}if(!(et<.01)){if(Je<-.01){for(vt=Ve.length-1;vt>=0;vt--)Ve[vt].dp-=et;it=!1}if(it){var be=0;for(ft=0;ft<Ve.length;ft++)dt=Ve[ft],dt.pos+dt.dp+dt.size>Re.pmax&&be++;for(ft=Ve.length-1;ft>=0&&!(be<=0);ft--)dt=Ve[ft],dt.pos>Re.pmax-1&&(dt.del=!0,be--);for(ft=0;ft<Ve.length&&!(be<=0);ft++)if(dt=Ve[ft],dt.pos<Re.pmin+1)for(dt.del=!0,be--,et=dt.size*2,vt=Ve.length-1;vt>=0;vt--)Ve[vt].dp-=et;for(ft=Ve.length-1;ft>=0&&!(be<=0);ft--)dt=Ve[ft],dt.pos+dt.dp+dt.size>Re.pmax&&(dt.del=!0,be--)}}}for(;!it&&Te<=Ie;){for(Te++,it=!0,ft=0;ft<ze.length-1;){var nt=ze[ft],Fe=ze[ft+1],We=nt[nt.length-1],je=Fe[0];if(Je=We.pos+We.dp+We.size-je.pos-je.dp+je.size,Je>.01){for(vt=Fe.length-1;vt>=0;vt--)Fe[vt].dp+=Je;for(nt.push.apply(nt,Fe),ze.splice(ft+1,1),xt=0,vt=nt.length-1;vt>=0;vt--)xt+=nt[vt].dp;for(et=xt/nt.length,vt=nt.length-1;vt>=0;vt--)nt[vt].dp-=et;it=!1}else ft++}ze.forEach(Mt)}for(ft=ze.length-1;ft>=0;ft--){var Ke=ze[ft];for(vt=Ke.length-1;vt>=0;vt--){var ke=Ke[vt],Ue=ke.datum;Ue.offset=ke.dp,Ue.del=ke.del}}}function G(j,se){var ne=0,he=j.offset;return se&&(he*=-L,ne=j.offset*m),{x:ne,y:he}}function Y(j){var se={start:1,end:-1,middle:0}[j.anchor],ne=se*(M+s),he=ne+se*(j.txwidth+s),me=j.anchor==="middle";return me&&(ne-=j.tx2width/2,he+=j.txwidth/2+s),{alignShift:se,textShiftX:ne,text2ShiftX:he}}function Q(j,se,ne,he){var me=function(Te){return Te*ne},we=function(Te){return Te*he};j.each(function(Te){var Le=d.select(this);if(Te.del)return Le.remove();var Ie=Le.select("text.nums"),ze=Te.anchor,Me=ze==="end"?-1:1,_e=Y(Te),Ce=G(Te,se),Oe=Ce.x,Pe=Ce.y,Ge=ze==="middle";Le.select("path").attr("d",Ge?"M-"+me(Te.bx/2+Te.tx2width/2)+","+we(Pe-Te.by/2)+"h"+me(Te.bx)+"v"+we(Te.by)+"h-"+me(Te.bx)+"Z":"M0,0L"+me(Me*M+Oe)+","+we(M+Pe)+"v"+we(Te.by/2-M)+"h"+me(Me*Te.bx)+"v-"+we(Te.by)+"H"+me(Me*M+Oe)+"V"+we(Pe-M)+"Z");var Ze=Oe+_e.textShiftX,it=Pe+Te.ty0-Te.by/2+s,Je=Te.textAlign||"auto";Je!=="auto"&&(Je==="left"&&ze!=="start"?(Ie.attr("text-anchor","start"),Ze=Ge?-Te.bx/2-Te.tx2width/2+s:-Te.bx-s):Je==="right"&&ze!=="end"&&(Ie.attr("text-anchor","end"),Ze=Ge?Te.bx/2-Te.tx2width/2-s:Te.bx+s)),Ie.call(t.positionText,me(Ze),we(it)),Te.tx2width&&(Le.select("text.name").call(t.positionText,me(_e.text2ShiftX+_e.alignShift*s+Oe),we(Pe+Te.ty0-Te.by/2+s)),Le.select("rect").call(a.setRect,me(_e.text2ShiftX+(_e.alignShift-1)*Te.tx2width/2+Oe),we(Pe-Te.by/2-1),me(Te.tx2width),we(Te.by+2)))})}function te(j,se){var ne=j.index,he=j.trace||{},me=j.cd[0],we=j.cd[ne]||{};function Te(Ce){return Ce||P(Ce)&&Ce===0}var Le=Array.isArray(ne)?function(Ce,Oe){var Pe=C.castOption(me,ne,Ce);return Te(Pe)?Pe:C.extractOption({},he,"",Oe)}:function(Ce,Oe){return C.extractOption(we,he,Ce,Oe)};function Ie(Ce,Oe,Pe){var Ge=Le(Oe,Pe);Te(Ge)&&(j[Ce]=Ge)}if(Ie("hoverinfo","hi","hoverinfo"),Ie("bgcolor","hbg","hoverlabel.bgcolor"),Ie("borderColor","hbc","hoverlabel.bordercolor"),Ie("fontFamily","htf","hoverlabel.font.family"),Ie("fontSize","hts","hoverlabel.font.size"),Ie("fontColor","htc","hoverlabel.font.color"),Ie("fontWeight","htw","hoverlabel.font.weight"),Ie("fontStyle","hty","hoverlabel.font.style"),Ie("fontVariant","htv","hoverlabel.font.variant"),Ie("nameLength","hnl","hoverlabel.namelength"),Ie("textAlign","hta","hoverlabel.align"),j.posref=se==="y"||se==="closest"&&he.orientation==="h"?j.xa._offset+(j.x0+j.x1)/2:j.ya._offset+(j.y0+j.y1)/2,j.x0=C.constrain(j.x0,0,j.xa._length),j.x1=C.constrain(j.x1,0,j.xa._length),j.y0=C.constrain(j.y0,0,j.ya._length),j.y1=C.constrain(j.y1,0,j.ya._length),j.xLabelVal!==void 0&&(j.xLabel="xLabel"in j?j.xLabel:l.hoverLabelText(j.xa,j.xLabelVal,he.xhoverformat),j.xVal=j.xa.c2d(j.xLabelVal)),j.yLabelVal!==void 0&&(j.yLabel="yLabel"in j?j.yLabel:l.hoverLabelText(j.ya,j.yLabelVal,he.yhoverformat),j.yVal=j.ya.c2d(j.yLabelVal)),j.zLabelVal!==void 0&&j.zLabel===void 0&&(j.zLabel=String(j.zLabelVal)),!isNaN(j.xerr)&&!(j.xa.type==="log"&&j.xerr<=0)){var ze=l.tickText(j.xa,j.xa.c2l(j.xerr),"hover").text;j.xerrneg!==void 0?j.xLabel+=" +"+ze+" / -"+l.tickText(j.xa,j.xa.c2l(j.xerrneg),"hover").text:j.xLabel+=" ± "+ze,se==="x"&&(j.distance+=1)}if(!isNaN(j.yerr)&&!(j.ya.type==="log"&&j.yerr<=0)){var Me=l.tickText(j.ya,j.ya.c2l(j.yerr),"hover").text;j.yerrneg!==void 0?j.yLabel+=" +"+Me+" / -"+l.tickText(j.ya,j.ya.c2l(j.yerrneg),"hover").text:j.yLabel+=" ± "+Me,se==="y"&&(j.distance+=1)}var _e=j.hoverinfo||j.trace.hoverinfo;return _e&&_e!=="all"&&(_e=Array.isArray(_e)?_e:_e.split("+"),_e.indexOf("x")===-1&&(j.xLabel=void 0),_e.indexOf("y")===-1&&(j.yLabel=void 0),_e.indexOf("z")===-1&&(j.zLabel=void 0),_e.indexOf("text")===-1&&(j.text=void 0),_e.indexOf("name")===-1&&(j.name=void 0)),j}function ae(j,se,ne){var he=ne.container,me=ne.fullLayout,we=me._size,Te=ne.event,Le=!!se.hLinePoint,Ie=!!se.vLinePoint,ze,Me;if(he.selectAll(".spikeline").remove(),!!(Ie||Le)){var _e=u.combine(me.plot_bgcolor,me.paper_bgcolor);if(Le){var Ce=se.hLinePoint,Oe,Pe;ze=Ce&&Ce.xa,Me=Ce&&Ce.ya;var Ge=Me.spikesnap;Ge==="cursor"?(Oe=Te.pointerX,Pe=Te.pointerY):(Oe=ze._offset+Ce.x,Pe=Me._offset+Ce.y);var Ze=n.readability(Ce.color,_e)<1.5?u.contrast(_e):Ce.color,it=Me.spikemode,Je=Me.spikethickness,et=Me.spikecolor||Ze,ft=l.getPxPosition(j,Me),vt,dt;if(it.indexOf("toaxis")!==-1||it.indexOf("across")!==-1){if(it.indexOf("toaxis")!==-1&&(vt=ft,dt=Oe),it.indexOf("across")!==-1){var xt=Me._counterDomainMin,Mt=Me._counterDomainMax;Me.anchor==="free"&&(xt=Math.min(xt,Me.position),Mt=Math.max(Mt,Me.position)),vt=we.l+xt*we.w,dt=we.l+Mt*we.w}he.insert("line",":first-child").attr({x1:vt,x2:dt,y1:Pe,y2:Pe,"stroke-width":Je,stroke:et,"stroke-dasharray":a.dashStyle(Me.spikedash,Je)}).classed("spikeline",!0).classed("crisp",!0),he.insert("line",":first-child").attr({x1:vt,x2:dt,y1:Pe,y2:Pe,"stroke-width":Je+2,stroke:_e}).classed("spikeline",!0).classed("crisp",!0)}it.indexOf("marker")!==-1&&he.insert("circle",":first-child").attr({cx:ft+(Me.side!=="right"?Je:-Je),cy:Pe,r:Je,fill:et}).classed("spikeline",!0)}if(Ie){var nt=se.vLinePoint,Fe,We;ze=nt&&nt.xa,Me=nt&&nt.ya;var je=ze.spikesnap;je==="cursor"?(Fe=Te.pointerX,We=Te.pointerY):(Fe=ze._offset+nt.x,We=Me._offset+nt.y);var Ke=n.readability(nt.color,_e)<1.5?u.contrast(_e):nt.color,ke=ze.spikemode,Ue=ze.spikethickness,Ve=ze.spikecolor||Ke,Re=l.getPxPosition(j,ze),de,be;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(de=Re,be=We),ke.indexOf("across")!==-1){var Ne=ze._counterDomainMin,Ye=ze._counterDomainMax;ze.anchor==="free"&&(Ne=Math.min(Ne,ze.position),Ye=Math.max(Ye,ze.position)),de=we.t+(1-Ye)*we.h,be=we.t+(1-Ne)*we.h}he.insert("line",":first-child").attr({x1:Fe,x2:Fe,y1:de,y2:be,"stroke-width":Ue,stroke:Ve,"stroke-dasharray":a.dashStyle(ze.spikedash,Ue)}).classed("spikeline",!0).classed("crisp",!0),he.insert("line",":first-child").attr({x1:Fe,x2:Fe,y1:de,y2:be,"stroke-width":Ue+2,stroke:_e}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&he.insert("circle",":first-child").attr({cx:Fe,cy:Re-(ze.side!=="top"?Ue:-Ue),r:Ue,fill:Ve}).classed("spikeline",!0)}}}function fe(j,se,ne){if(!ne||ne.length!==j._hoverdata.length)return!0;for(var he=ne.length-1;he>=0;he--){var me=ne[he],we=j._hoverdata[he];if(me.curveNumber!==we.curveNumber||String(me.pointNumber)!==String(we.pointNumber)||String(me.pointNumbers)!==String(we.pointNumbers))return!0}return!1}function oe(j,se){return!0}function J(j,se){return t.plainText(j||"",{len:se,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function ee(j,se){for(var ne=se.charAt(0),he=[],me=[],we=[],Te=0;Te<j.length;Te++){var Le=j[Te];c.traceIs(Le.trace,"bar-like")||c.traceIs(Le.trace,"box-violin")?we.push(Le):Le.trace[ne+"period"]?me.push(Le):he.push(Le)}return he.concat(me).concat(we)}function X(j,se,ne){var he=se[j+"a"],me=se[j+"Val"],we=se.cd[0];if(he.type==="category"||he.type==="multicategory")me=he._categoriesMap[me];else if(he.type==="date"){var Te=se.trace[j+"periodalignment"];if(Te){var Le=se.cd[se.index],Ie=Le[j+"Start"];Ie===void 0&&(Ie=Le[j]);var ze=Le[j+"End"];ze===void 0&&(ze=Le[j]);var Me=ze-Ie;Te==="end"?me+=Me:Te==="middle"&&(me+=Me/2)}me=he.d2c(me)}return we&&we.t&&we.t.posLetter===he._id&&(ne.boxmode==="group"||ne.violinmode==="group")&&(me+=we.t.dPos),me}function q(j){return j.offsetTop+j.clientTop}function le(j){return j.offsetLeft+j.clientLeft}function $(j,se){var ne=j._fullLayout,he=se.getBoundingClientRect(),me=he.left,we=he.top,Te=me+he.width,Le=we+he.height,Ie=C.apply3DTransform(ne._invTransform)(me,we),ze=C.apply3DTransform(ne._invTransform)(Te,Le),Me=Ie[0],_e=Ie[1],Ce=ze[0],Oe=ze[1];return{x:Me,y:_e,width:Ce-Me,height:Oe-_e,top:Math.min(_e,Oe),left:Math.min(Me,Ce),right:Math.max(Me,Ce),bottom:Math.max(_e,Oe)}}},16132:function(U,N,e){var d=e(3400),P=e(76308),n=e(10624).isUnifiedHover;U.exports=function(x,v,p,r){r=r||{};var t=v.legend;function o(a){r.font[a]||(r.font[a]=t?v.legend.font[a]:v.font[a])}v&&n(v.hovermode)&&(r.font||(r.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),d.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(U,N,e){var d=e(3400),P=e(65460);U.exports=function(C,x){function v(p,r){return x[p]!==void 0?x[p]:d.coerce(C,x,P,p,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(U,N,e){var d=e(33428),P=e(3400),n=e(86476),C=e(10624),x=e(65460),v=e(83292);U.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:x},attributes:e(55756),layoutAttributes:x,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:n.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(o){var a=P.isD3Selection(o)?o:d.select(o);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()}function r(o,a,u){return P.castOption(o,a,"hoverlabel."+u)}function t(o,a,u){function f(l){return P.coerceHoverinfo({hoverinfo:l},{_module:o._module},a)}return P.castOption(o,u,"hoverinfo",f)}},65460:function(U,N,e){var d=e(92456),P=e(25376),n=P({editType:"none"});n.family.dflt=d.HOVERFONT,n.size.dflt=d.HOVERFONTSIZE,U.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(U,N,e){var d=e(3400),P=e(65460),n=e(41008),C=e(16132);U.exports=function(v,p){function r(l,y){return d.coerce(v,p,P,l,y)}var t=n(v,p);t&&(r("hoverdistance"),r("spikedistance"));var o=r("dragmode");o==="select"&&r("selectdirection");var a=p._has("mapbox"),u=p._has("geo"),f=p._basePlotModules.length;p.dragmode==="zoom"&&((a||u)&&f===1||a&&u&&f===2)&&(p.dragmode="pan"),C(v,p,r),d.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(U,N,e){var d=e(3400),P=e(16132),n=e(65460);U.exports=function(x,v){function p(r,t){return d.coerce(x,v,n,r,t)}P(x,v,p)}},12704:function(U,N,e){var d=e(3400),P=e(53756).counter,n=e(86968).u,C=e(33816).idRegex,x=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(u,f,l){var y=f[l+"axes"],c=Object.keys((u._splomAxes||{})[l]||{});if(Array.isArray(y))return y;if(c.length)return c}function r(u,f){var l=u.grid||{},y=p(f,l,"x"),c=p(f,l,"y");if(!u.grid&&!y&&!c)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),h=Array.isArray(y),i=Array.isArray(c),g=h&&y!==l.xaxes&&i&&c!==l.yaxes,b,A;T?(b=l.subplots.length,A=l.subplots[0].length):(i&&(b=c.length),h&&(A=y.length));var R=x.newContainer(f,"grid");function m(V,B){return d.coerce(l,R,v,V,B)}var L=m("rows",b),M=m("columns",A);if(!(L*M>1)){delete f.grid;return}if(!T&&!h&&!i){var s=m("pattern")==="independent";s&&(T=!0)}R._hasSubplotGrid=T;var S=m("roworder"),w=S==="top to bottom",_=T?.2:.1,I=T?.3:.1,H,O;g&&f._splomGridDflt&&(H=f._splomGridDflt.xside,O=f._splomGridDflt.yside),R._domains={x:t("x",m,_,H,M),y:t("y",m,I,O,L,w)}}function t(u,f,l,y,c,T){var h=f(u+"gap",l),i=f("domain."+u);f(u+"side",y);for(var g=new Array(c),b=i[0],A=(i[1]-b)/(c-h),R=A*(1-h),m=0;m<c;m++){var L=b+A*m;g[T?c-1-m:m]=[L,L+R]}return g}function o(u,f){var l=f.grid;if(!(!l||!l._domains)){var y=u.grid||{},c=f._subplots,T=l._hasSubplotGrid,h=l.rows,i=l.columns,g=l.pattern==="independent",b,A,R,m,L,M,s,S=l._axisMap={};if(T){var w=y.subplots||[];M=l.subplots=new Array(h);var _=1;for(b=0;b<h;b++){var I=M[b]=new Array(i),H=w[b]||[];for(A=0;A<i;A++)if(g?(L=_===1?"xy":"x"+_+"y"+_,_++):L=H[A],I[A]="",c.cartesian.indexOf(L)!==-1){if(s=L.indexOf("y"),R=L.slice(0,s),m=L.slice(s),S[R]!==void 0&&S[R]!==A||S[m]!==void 0&&S[m]!==b)continue;I[A]=L,S[R]=A,S[m]=b}}}else{var O=p(f,y,"x"),V=p(f,y,"y");l.xaxes=a(O,c.xaxis,i,S,"x"),l.yaxes=a(V,c.yaxis,h,S,"y")}var B=l._anchors={},F=l.roworder==="top to bottom";for(var G in S){var Y=G.charAt(0),Q=l[Y+"side"],te,ae,fe;if(Q.length<8)B[G]="free";else if(Y==="x"){if(Q.charAt(0)==="t"===F?(te=0,ae=1,fe=h):(te=h-1,ae=-1,fe=-1),T){var oe=S[G];for(b=te;b!==fe;b+=ae)if(L=M[b][oe],!!L&&(s=L.indexOf("y"),L.slice(0,s)===G)){B[G]=L.slice(s);break}}else for(b=te;b!==fe;b+=ae)if(m=l.yaxes[b],c.cartesian.indexOf(G+m)!==-1){B[G]=m;break}}else if(Q.charAt(0)==="l"?(te=0,ae=1,fe=i):(te=i-1,ae=-1,fe=-1),T){var J=S[G];for(b=te;b!==fe;b+=ae)if(L=M[J][b],!!L&&(s=L.indexOf("y"),L.slice(s)===G)){B[G]=L.slice(0,s);break}}else for(b=te;b!==fe;b+=ae)if(R=l.xaxes[b],c.cartesian.indexOf(R+G)!==-1){B[G]=R;break}}}}function a(u,f,l,y,c){var T=new Array(l),h;function i(g,b){f.indexOf(b)!==-1&&y[b]===void 0?(T[g]=b,y[b]=g):T[g]=""}if(Array.isArray(u))for(h=0;h<l;h++)i(h,u[h]);else for(i(0,c),h=1;h<l;h++)i(h,c+(h+1));return T}U.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:o}},65760:function(U,N,e){var d=e(33816),P=e(31780).templatedArray;e(36208),U.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",d.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",d.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(U,N,e){var d=e(38248),P=e(36896);U.exports=function(C,x,v,p){x=x||{};var r=v==="log"&&x.type==="linear",t=v==="linear"&&x.type==="log";if(r||t){for(var o=C._fullLayout.images,a=x._id.charAt(0),u,f,l=0;l<o.length;l++)if(u=o[l],f="images["+l+"].",u[a+"ref"]===x._id){var y=u[a],c=u["size"+a],T=null,h=null;if(r){T=P(y,x.range);var i=c/Math.pow(10,T)/2;h=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else T=Math.pow(10,y),h=T*(Math.pow(10,c/2)-Math.pow(10,-c/2));d(T)?d(h)||(h=null):(T=null,h=null),p(f+a,T),p(f+"size"+a,h)}}}},25024:function(U,N,e){var d=e(3400),P=e(54460),n=e(51272),C=e(65760),x="images";U.exports=function(r,t){var o={name:x,handleItemDefaults:v};n(r,t,o)};function v(p,r,t){function o(i,g){return d.coerce(p,r,C,i,g)}var a=o("source"),u=o("visible",!!a);if(!u)return r;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var f={_fullLayout:t},l=["x","y"],y=0;y<2;y++){var c=l[y],T=P.coerceRef(p,r,f,c,"paper",void 0);if(T!=="paper"){var h=P.getFromId(f,T);h._imgIndices.push(r._index)}P.coercePosition(r,f,o,T,c,0)}return r}},60963:function(U,N,e){var d=e(33428),P=e(43616),n=e(54460),C=e(79811),x=e(9616);U.exports=function(p){var r=p._fullLayout,t=[],o={},a=[],u,f;for(f=0;f<r.images.length;f++){var l=r.images[f];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){u=C.ref2id(l.xref)+C.ref2id(l.yref);var y=r._plots[u];if(!y){a.push(l);continue}y.mainplot&&(u=y.mainplot.id),o[u]||(o[u]=[]),o[u].push(l)}else l.layer==="above"?t.push(l):a.push(l)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(m){var L=d.select(this);if(this._imgSrc!==m.source)if(L.attr("xmlns",x.svg),m.source&&m.source.slice(0,5)==="data:")L.attr("xlink:href",m.source),this._imgSrc=m.source;else{var M=new Promise((function(s){var S=new Image;this.img=S,S.setAttribute("crossOrigin","anonymous"),S.onerror=w,S.onload=function(){var _=document.createElement("canvas");_.width=this.width,_.height=this.height;var I=_.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var H=_.toDataURL("image/png");L.attr("xlink:href",H),s()},L.on("error",w),S.src=m.source,this._imgSrc=m.source;function w(){L.remove(),s()}}).bind(this));p._promises.push(M)}}function h(m){var L=d.select(this),M=n.getFromId(p,m.xref),s=n.getFromId(p,m.yref),S=n.getRefType(m.xref)==="domain",w=n.getRefType(m.yref)==="domain",_=r._size,I,H;M!==void 0?I=typeof m.xref=="string"&&S?M._length*m.sizex:Math.abs(M.l2p(m.sizex)-M.l2p(0)):I=m.sizex*_.w,s!==void 0?H=typeof m.yref=="string"&&w?s._length*m.sizey:Math.abs(s.l2p(m.sizey)-s.l2p(0)):H=m.sizey*_.h;var O=I*c.x[m.xanchor].offset,V=H*c.y[m.yanchor].offset,B=c.x[m.xanchor].sizing+c.y[m.yanchor].sizing,F,G;switch(M!==void 0?F=typeof m.xref=="string"&&S?M._length*m.x+M._offset:M.r2p(m.x)+M._offset:F=m.x*_.w+_.l,F+=O,s!==void 0?G=typeof m.yref=="string"&&w?s._length*(1-m.y)+s._offset:s.r2p(m.y)+s._offset:G=_.h-m.y*_.h+_.t,G+=V,m.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}L.attr({x:F,y:G,width:I,height:H,preserveAspectRatio:B,opacity:m.opacity});var Y=M&&n.getRefType(m.xref)!=="domain"?M._id:"",Q=s&&n.getRefType(m.yref)!=="domain"?s._id:"",te=Y+Q;P.setClipUrl(L,te?"clip"+r._uid+te:null,p)}var i=r._imageLowerLayer.selectAll("image").data(a),g=r._imageUpperLayer.selectAll("image").data(t);i.enter().append("image"),g.enter().append("image"),i.exit().remove(),g.exit().remove(),i.each(function(m){T.bind(this)(m),h.bind(this)(m)}),g.each(function(m){T.bind(this)(m),h.bind(this)(m)});var b=Object.keys(r._plots);for(f=0;f<b.length;f++){u=b[f];var A=r._plots[u];if(A.imagelayer){var R=A.imagelayer.selectAll("image").data(o[u]||[]);R.enter().append("image"),R.exit().remove(),R.each(function(m){T.bind(this)(m),h.bind(this)(m)})}}}},7402:function(U,N,e){U.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(U,N,e){var d=e(25376),P=e(22548);U.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:d({editType:"legend"}),grouptitlefont:d({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:d({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(U){U.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(U,N,e){var d=e(24040),P=e(3400),n=e(31780),C=e(45464),x=e(3800),v=e(64859),p=e(42451);function r(t,o,a,u){var f=o[t]||{},l=n.newContainer(a,t);function y(fe,oe){return P.coerce(f,l,x,fe,oe)}var c=P.coerceFont(y,"font",a.font);y("bgcolor",a.paper_bgcolor),y("bordercolor");var T=y("visible");if(T){for(var h,i=function(fe,oe){var J=h._input,ee=h;return P.coerce(J,ee,C,fe,oe)},g=a.font||{},b=P.coerceFont(y,"grouptitlefont",g,{overrideDflt:{size:Math.round(g.size*1.1)}}),A=0,R=!1,m="normal",L=(a.shapes||[]).filter(function(fe){return fe.showlegend}),M=u.concat(L).filter(function(fe){return t===(fe.legend||"legend")}),s=0;s<M.length;s++)if(h=M[s],!!h.visible){var S=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(A++,h.showlegend&&(R=!0,(!S&&d.traceIs(h,"pie-like")||h._input.showlegend===!0)&&A++),P.coerceFont(i,"legendgrouptitle.font",b)),(!S&&d.traceIs(h,"bar")&&a.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(m=p.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(m=p.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var w=P.coerce(o,a,v,"showlegend",R&&A>(t==="legend"?1:0));if(w===!1&&(a[t]=void 0),!(w===!1&&!f.uirevision)&&(y("uirevision",a.uirevision),w!==!1)){y("borderwidth");var _=y("orientation"),I=y("yref"),H=y("xref"),O=_==="h",V=I==="paper",B=H==="paper",F,G,Y,Q="left";O?(F=0,d.getComponentMethod("rangeslider","isVisible")(o.xaxis)?V?(G=1.1,Y="bottom"):(G=1,Y="top"):V?(G=-.1,Y="top"):(G=0,Y="bottom")):(G=1,Y="auto",B?F=1.02:(F=1,Q="right")),P.coerce(f,l,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:F}},"x"),P.coerce(f,l,{y:{valType:"number",editType:"legend",min:V?-2:0,max:V?3:1,dflt:G}},"y"),y("traceorder",m),p.isGrouped(a[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",Q),y("yanchor",Y),y("valign"),P.noneOrAll(f,l,["x","y"]);var te=y("title.text");if(te){y("title.side",O?"left":"top");var ae=P.extendFlat({},c,{size:P.bigFont(c.size)});P.coerceFont(y,"title.font",ae)}}}}U.exports=function(o,a,u){var f,l=u.slice(),y=a.shapes;if(y)for(f=0;f<y.length;f++){var c=y[f];if(c.showlegend){var T={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};l.push(T)}}var h=["legend"];for(f=0;f<l.length;f++)P.pushUnique(h,l[f].legend);for(a._legends=[],f=0;f<h.length;f++){var i=h[f];r(i,o,a,l),a[i]&&a[i].visible&&(a[i]._id=i),a._legends.push(i)}}},31140:function(U,N,e){var d=e(33428),P=e(3400),n=e(7316),C=e(24040),x=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),o=e(33048),a=e(65196),u=e(84284),f=u.LINE_SPACING,l=u.FROM_TL,y=u.FROM_BR,c=e(35456),T=e(2012),h=e(42451),i=1,g=/^legend[0-9]*$/;U.exports=function(G,Y){if(Y)A(G,Y);else{var Q=G._fullLayout,te=Q._legends,ae=Q._infolayer.selectAll('[class^="legend"]');ae.each(function(){var ee=d.select(this),X=ee.attr("class"),q=X.split(" ")[0];q.match(g)&&te.indexOf(q)===-1&&ee.remove()});for(var fe=0;fe<te.length;fe++){var oe=te[fe],J=G._fullLayout[oe];A(G,J)}}};function b(F,G,Y){if(!(G.title.side!=="top center"&&G.title.side!=="top right")){var Q=G.title.font,te=Q.size*f,ae=0,fe=F.node(),oe=p.bBox(fe).width;G.title.side==="top center"?ae=.5*(G._width-2*Y-2*a.titlePad-oe):G.title.side==="top right"&&(ae=G._width-2*Y-2*a.titlePad-oe),t.positionText(F,Y+a.titlePad+ae,Y+te)}}function A(F,G){var Y=G||{},Q=F._fullLayout,te=B(Y),ae,fe,oe=Y._inHover;if(oe?(fe=Y.layer,ae="hover"):(fe=Q._infolayer,ae=te),!!fe){ae+=Q._uid,F._legendMouseDownTime||(F._legendMouseDownTime=0);var J;if(oe){if(!Y.entries)return;J=c(Y.entries,Y)}else{for(var ee=(F.calcdata||[]).slice(),X=Q.shapes,q=0;q<X.length;q++){var le=X[q];if(le.showlegend){var $={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};ee.push([{trace:$}])}}J=Q.showlegend&&c(ee,Y,Q._legends.length>1)}var j=Q.hiddenlabels||[];if(!oe&&(!Q.showlegend||!J.length))return fe.selectAll("."+te).remove(),Q._topdefs.select("#"+ae).remove(),n.autoMargin(F,te);var se=P.ensureSingle(fe,"g",te,function(Me){oe||Me.attr("pointer-events","all")}),ne=P.ensureSingleById(Q._topdefs,"clipPath",ae,function(Me){Me.append("rect")}),he=P.ensureSingle(se,"rect","bg",function(Me){Me.attr("shape-rendering","crispEdges")});he.call(r.stroke,Y.bordercolor).call(r.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var me=P.ensureSingle(se,"g","scrollbox"),we=Y.title;Y._titleWidth=0,Y._titleHeight=0;var Te;we.text?(Te=P.ensureSingle(me,"text",te+"titletext"),Te.attr("text-anchor","start").call(p.font,we.font).text(we.text),S(Te,me,F,Y,i)):me.selectAll("."+te+"titletext").remove();var Le=P.ensureSingle(se,"rect","scrollbar",function(Me){Me.attr(a.scrollBarEnterAttrs).call(r.fill,a.scrollBarColor)}),Ie=me.selectAll("g.groups").data(J);Ie.enter().append("g").attr("class","groups"),Ie.exit().remove();var ze=Ie.selectAll("g.traces").data(P.identity);ze.enter().append("g").attr("class","traces"),ze.exit().remove(),ze.style("opacity",function(Me){var _e=Me[0].trace;return C.traceIs(_e,"pie-like")?j.indexOf(Me[0].label)!==-1?.5:1:_e.visible==="legendonly"?.5:1}).each(function(){d.select(this).call(L,F,Y)}).call(T,F,Y).each(function(){oe||d.select(this).call(s,F,te)}),P.syncOrAsync([n.previousPromises,function(){return I(F,Ie,ze,Y)},function(){var Me=Q._size,_e=Y.borderwidth,Ce=Y.xref==="paper",Oe=Y.yref==="paper";if(we.text&&b(Te,Y,_e),!oe){var Pe,Ge;Ce?Pe=Me.l+Me.w*Y.x-l[O(Y)]*Y._width:Pe=Q.width*Y.x-l[O(Y)]*Y._width,Oe?Ge=Me.t+Me.h*(1-Y.y)-l[V(Y)]*Y._effHeight:Ge=Q.height*(1-Y.y)-l[V(Y)]*Y._effHeight;var Ze=H(F,te,Pe,Ge);if(Ze)return;if(Q.margin.autoexpand){var it=Pe,Je=Ge;Pe=Ce?P.constrain(Pe,0,Q.width-Y._width):it,Ge=Oe?P.constrain(Ge,0,Q.height-Y._effHeight):Je,Pe!==it&&P.log("Constrain "+te+".x to make legend fit inside graph"),Ge!==Je&&P.log("Constrain "+te+".y to make legend fit inside graph")}p.setTranslate(se,Pe,Ge)}if(Le.on(".drag",null),se.on("wheel",null),oe||Y._height<=Y._maxHeight||F._context.staticPlot){var et=Y._effHeight;oe&&(et=Y._height),he.attr({width:Y._width-_e,height:et-_e,x:_e/2,y:_e/2}),p.setTranslate(me,0,0),ne.select("rect").attr({width:Y._width-2*_e,height:et-2*_e,x:_e,y:_e}),p.setClipUrl(me,ae,F),p.setRect(Le,0,0,0,0),delete Y._scrollY}else{var ft=Math.max(a.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),vt=Y._effHeight-ft-2*a.scrollBarMargin,dt=Y._height-Y._effHeight,xt=vt/dt,Mt=Math.min(Y._scrollY||0,dt);he.attr({width:Y._width-2*_e+a.scrollBarWidth+a.scrollBarMargin,height:Y._effHeight-_e,x:_e/2,y:_e/2}),ne.select("rect").attr({width:Y._width-2*_e+a.scrollBarWidth+a.scrollBarMargin,height:Y._effHeight-2*_e,x:_e,y:_e+Mt}),p.setClipUrl(me,ae,F),Ve(Mt,ft,xt),se.on("wheel",function(){Mt=P.constrain(Y._scrollY+d.event.deltaY/vt*dt,0,dt),Ve(Mt,ft,xt),Mt!==0&&Mt!==dt&&d.event.preventDefault()});var nt,Fe,We,je=function(Ye,at,lt){var Ht=(lt-at)/xt+Ye;return P.constrain(Ht,0,dt)},Ke=function(Ye,at,lt){var Ht=(at-lt)/xt+Ye;return P.constrain(Ht,0,dt)},ke=d.behavior.drag().on("dragstart",function(){var Ye=d.event.sourceEvent;Ye.type==="touchstart"?nt=Ye.changedTouches[0].clientY:nt=Ye.clientY,We=Mt}).on("drag",function(){var Ye=d.event.sourceEvent;Ye.buttons===2||Ye.ctrlKey||(Ye.type==="touchmove"?Fe=Ye.changedTouches[0].clientY:Fe=Ye.clientY,Mt=je(We,nt,Fe),Ve(Mt,ft,xt))});Le.call(ke);var Ue=d.behavior.drag().on("dragstart",function(){var Ye=d.event.sourceEvent;Ye.type==="touchstart"&&(nt=Ye.changedTouches[0].clientY,We=Mt)}).on("drag",function(){var Ye=d.event.sourceEvent;Ye.type==="touchmove"&&(Fe=Ye.changedTouches[0].clientY,Mt=Ke(We,nt,Fe),Ve(Mt,ft,xt))});me.call(Ue)}function Ve(Ye,at,lt){Y._scrollY=F._fullLayout[te]._scrollY=Ye,p.setTranslate(me,0,-Ye),p.setRect(Le,Y._width,a.scrollBarMargin+Ye*lt,a.scrollBarWidth,at),ne.select("rect").attr("y",_e+Ye)}if(F._context.edits.legendPosition){var Re,de,be,Ne;se.classed("cursor-move",!0),v.init({element:se.node(),gd:F,prepFn:function(Ye){if(Ye.target!==Le.node()){var at=p.getTranslate(se);be=at.x,Ne=at.y}},moveFn:function(Ye,at){if(be!==void 0&&Ne!==void 0){var lt=be+Ye,Ht=Ne+at;p.setTranslate(se,lt,Ht),Re=v.align(lt,Y._width,Me.l,Me.l+Me.w,Y.xanchor),de=v.align(Ht+Y._height,-Y._height,Me.t+Me.h,Me.t,Y.yanchor)}},doneFn:function(){if(Re!==void 0&&de!==void 0){var Ye={};Ye[te+".x"]=Re,Ye[te+".y"]=de,C.call("_guiRelayout",F,Ye)}},clickFn:function(Ye,at){var lt=fe.selectAll("g.traces").filter(function(){var Ht=this.getBoundingClientRect();return at.clientX>=Ht.left&&at.clientX<=Ht.right&&at.clientY>=Ht.top&&at.clientY<=Ht.bottom});lt.size()>0&&m(F,se,lt,Ye,at)}})}}],F)}}function R(F,G,Y){var Q=F[0],te=Q.width,ae=G.entrywidthmode,fe=Q.trace.legendwidth||G.entrywidth;return ae==="fraction"?G._maxWidth*fe:Y+(fe||te)}function m(F,G,Y,Q,te){var ae=Y.data()[0][0].trace,fe={event:te,node:Y.node(),curveNumber:ae.index,expandedIndex:ae._expandedIndex,data:F.data,layout:F.layout,frames:F._transitionData._frames,config:F._context,fullData:F._fullData,fullLayout:F._fullLayout};ae._group&&(fe.group=ae._group),C.traceIs(ae,"pie-like")&&(fe.label=Y.datum()[0].label);var oe=x.triggerHandler(F,"plotly_legendclick",fe);if(Q===1){if(oe===!1)return;G._clickTimeout=setTimeout(function(){F._fullLayout&&o(Y,F,Q)},F._context.doubleClickDelay)}else if(Q===2){G._clickTimeout&&clearTimeout(G._clickTimeout),F._legendMouseDownTime=0;var J=x.triggerHandler(F,"plotly_legenddoubleclick",fe);J!==!1&&oe!==!1&&o(Y,F,Q)}}function L(F,G,Y){var Q=B(Y),te=F.data()[0][0],ae=te.trace,fe=C.traceIs(ae,"pie-like"),oe=!Y._inHover&&G._context.edits.legendText&&!fe,J=Y._maxNameLength,ee,X;te.groupTitle?(ee=te.groupTitle.text,X=te.groupTitle.font):(X=Y.font,Y.entries?ee=te.text:(ee=fe?te.label:ae.name,ae._meta&&(ee=P.templateString(ee,ae._meta))));var q=P.ensureSingle(F,"text",Q+"text");q.attr("text-anchor","start").call(p.font,X).text(oe?M(ee,J):ee);var le=Y.indentation+Y.itemwidth+a.itemGap*2;t.positionText(q,le,0),oe?q.call(t.makeEditable,{gd:G,text:ee}).call(S,F,G,Y).on("edit",function($){this.text(M($,J)).call(S,F,G,Y);var j=te.trace._fullInput||{},se={};if(C.hasTransform(j,"groupby")){var ne=C.getTransformIndices(j,"groupby"),he=ne[ne.length-1],me=P.keyedContainer(j,"transforms["+he+"].styles","target","value.name");me.set(te.trace._group,$),se=me.constructUpdate()}else se.name=$;return j._isShape?C.call("_guiRelayout",G,"shapes["+ae.index+"].name",se.name):C.call("_guiRestyle",G,se,ae.index)}):S(q,F,G,Y)}function M(F,G){var Y=Math.max(4,G);if(F&&F.trim().length>=Y/2)return F;F=F||"";for(var Q=Y-F.length;Q>0;Q--)F+=" ";return F}function s(F,G,Y){var Q=G._context.doubleClickDelay,te,ae=1,fe=P.ensureSingle(F,"rect",Y+"toggle",function(oe){G._context.staticPlot||oe.style("cursor","pointer").attr("pointer-events","all"),oe.call(r.fill,"rgba(0,0,0,0)")});G._context.staticPlot||(fe.on("mousedown",function(){te=new Date().getTime(),te-G._legendMouseDownTime<Q?ae+=1:(ae=1,G._legendMouseDownTime=te)}),fe.on("mouseup",function(){if(!(G._dragged||G._editing)){var oe=G._fullLayout[Y];new Date().getTime()-G._legendMouseDownTime>Q&&(ae=Math.max(ae-1,1)),m(G,oe,F,ae,d.event)}}))}function S(F,G,Y,Q,te){Q._inHover&&F.attr("data-notex",!0),t.convertToTspans(F,Y,function(){w(G,Y,Q,te)})}function w(F,G,Y,Q){var te=F.data()[0][0];if(!Y._inHover&&te&&!te.trace.showlegend){F.remove();return}var ae=F.select("g[class*=math-group]"),fe=ae.node(),oe=B(Y);Y||(Y=G._fullLayout[oe]);var J=Y.borderwidth,ee;Q===i?ee=Y.title.font:te.groupTitle?ee=te.groupTitle.font:ee=Y.font;var X=ee.size*f,q,le;if(fe){var $=p.bBox(fe);q=$.height,le=$.width,Q===i?p.setTranslate(ae,J,J+q*.75):p.setTranslate(ae,0,q*.25)}else{var j="."+oe+(Q===i?"title":"")+"text",se=F.select(j),ne=t.lineCount(se),he=se.node();if(q=X*ne,le=he?p.bBox(he).width:0,Q===i)Y.title.side==="left"&&(le+=a.itemGap*2),t.positionText(se,J+a.titlePad,J+X);else{var me=a.itemGap*2+Y.indentation+Y.itemwidth;te.groupTitle&&(me=a.itemGap,le-=Y.indentation+Y.itemwidth),t.positionText(se,me,-X*((ne-1)/2-.3))}}Q===i?(Y._titleWidth=le,Y._titleHeight=q):(te.lineHeight=X,te.height=Math.max(q,16)+3,te.width=le)}function _(F){var G=0,Y=0,Q=F.title.side;return Q&&(Q.indexOf("left")!==-1&&(G=F._titleWidth),Q.indexOf("top")!==-1&&(Y=F._titleHeight)),[G,Y]}function I(F,G,Y,Q){var te=F._fullLayout,ae=B(Q);Q||(Q=te[ae]);var fe=te._size,oe=h.isVertical(Q),J=h.isGrouped(Q),ee=Q.entrywidthmode==="fraction",X=Q.borderwidth,q=2*X,le=a.itemGap,$=Q.indentation+Q.itemwidth+le*2,j=2*(X+le),se=V(Q),ne=Q.y<0||Q.y===0&&se==="top",he=Q.y>1||Q.y===1&&se==="bottom",me=Q.tracegroupgap,we={};Q._maxHeight=Math.max(ne||he?te.height/2:fe.h,30);var Te=0;Q._width=0,Q._height=0;var Le=_(Q);if(oe)Y.each(function(We){var je=We[0].height;p.setTranslate(this,X+Le[0],X+Le[1]+Q._height+je/2+le),Q._height+=je,Q._width=Math.max(Q._width,We[0].width)}),Te=$+Q._width,Q._width+=le+$+q,Q._height+=j,J&&(G.each(function(We,je){p.setTranslate(this,0,je*Q.tracegroupgap)}),Q._height+=(Q._lgroupsLength-1)*Q.tracegroupgap);else{var Ie=O(Q),ze=Q.x<0||Q.x===0&&Ie==="right",Me=Q.x>1||Q.x===1&&Ie==="left",_e=he||ne,Ce=te.width/2;Q._maxWidth=Math.max(ze?_e&&Ie==="left"?fe.l+fe.w:Ce:Me?_e&&Ie==="right"?fe.r+fe.w:Ce:fe.w,2*$);var Oe=0,Pe=0;Y.each(function(We){var je=R(We,Q,$);Oe=Math.max(Oe,je),Pe+=je}),Te=null;var Ge=0;if(J){var Ze=0,it=0,Je=0;G.each(function(){var We=0,je=0;d.select(this).selectAll("g.traces").each(function(ke){var Ue=R(ke,Q,$),Ve=ke[0].height;p.setTranslate(this,Le[0],Le[1]+X+le+Ve/2+je),je+=Ve,We=Math.max(We,Ue),we[ke[0].trace.legendgroup]=We});var Ke=We+le;it>0&&Ke+X+it>Q._maxWidth?(Ge=Math.max(Ge,it),it=0,Je+=Ze+me,Ze=je):Ze=Math.max(Ze,je),p.setTranslate(this,it,Je),it+=Ke}),Q._width=Math.max(Ge,it)+X,Q._height=Je+Ze+j}else{var et=Y.size(),ft=Pe+q+(et-1)*le<Q._maxWidth,vt=0,dt=0,xt=0,Mt=0;Y.each(function(We){var je=We[0].height,Ke=R(We,Q,$),ke=ft?Ke:Oe;ee||(ke+=le),ke+X+dt-le>=Q._maxWidth&&(Ge=Math.max(Ge,Mt),dt=0,xt+=vt,Q._height+=vt,vt=0),p.setTranslate(this,Le[0]+X+dt,Le[1]+X+xt+je/2+le),Mt=dt+Ke+le,dt+=ke,vt=Math.max(vt,je)}),ft?(Q._width=dt+q,Q._height=vt+j):(Q._width=Math.max(Ge,Mt)+q,Q._height+=vt+j)}}Q._width=Math.ceil(Math.max(Q._width+Le[0],Q._titleWidth+2*(X+a.titlePad))),Q._height=Math.ceil(Math.max(Q._height+Le[1],Q._titleHeight+2*(X+a.itemGap))),Q._effHeight=Math.min(Q._height,Q._maxHeight);var nt=F._context.edits,Fe=nt.legendText||nt.legendPosition;Y.each(function(We){var je=d.select(this).select("."+ae+"toggle"),Ke=We[0].height,ke=We[0].trace.legendgroup,Ue=R(We,Q,$);J&&ke!==""&&(Ue=we[ke]);var Ve=Fe?$:Te||Ue;!oe&&!ee&&(Ve+=le/2),p.setRect(je,0,-Ke/2,Ve,Ke)})}function H(F,G,Y,Q){var te=F._fullLayout,ae=te[G],fe=O(ae),oe=V(ae),J=ae.xref==="paper",ee=ae.yref==="paper";F._fullLayout._reservedMargin[G]={};var X=ae.y<.5?"b":"t",q=ae.x<.5?"l":"r",le={r:te.width-Y,l:Y+ae._width,b:te.height-Q,t:Q+ae._effHeight};if(J&&ee)return n.autoMargin(F,G,{x:ae.x,y:ae.y,l:ae._width*l[fe],r:ae._width*y[fe],b:ae._effHeight*y[oe],t:ae._effHeight*l[oe]});J?F._fullLayout._reservedMargin[G][X]=le[X]:ee||ae.orientation==="v"?F._fullLayout._reservedMargin[G][q]=le[q]:F._fullLayout._reservedMargin[G][X]=le[X]}function O(F){return P.isRightAnchor(F)?"right":P.isCenterAnchor(F)?"center":"left"}function V(F){return P.isBottomAnchor(F)?"bottom":P.isMiddleAnchor(F)?"middle":"top"}function B(F){return F._id||"legend"}},35456:function(U,N,e){var d=e(24040),P=e(42451);U.exports=function(C,x,v){var p=x._inHover,r=P.isGrouped(x),t=P.isReversed(x),o={},a=[],u=!1,f={},l=0,y=0,c,T;function h(F,G,Y){if(x.visible!==!1&&!(v&&F!==x._id))if(G===""||!P.isGrouped(x)){var Q="~~i"+l;a.push(Q),o[Q]=[Y],l++}else a.indexOf(G)===-1?(a.push(G),u=!0,o[G]=[Y]):o[G].push(Y)}for(c=0;c<C.length;c++){var i=C[c],g=i[0],b=g.trace,A=b.legend,R=b.legendgroup;if(!(!p&&(!b.visible||!b.showlegend)))if(d.traceIs(b,"pie-like"))for(f[R]||(f[R]={}),T=0;T<i.length;T++){var m=i[T].label;f[R][m]||(h(A,R,{label:m,color:i[T].color,i:i[T].i,trace:b,pts:i[T].pts}),f[R][m]=!0,y=Math.max(y,(m||"").length))}else h(A,R,g),y=Math.max(y,(b.name||"").length)}if(!a.length)return[];var L=!u||!r,M=[];for(c=0;c<a.length;c++){var s=o[a[c]];L?M.push(s[0]):M.push(s)}for(L&&(M=[M]),c=0;c<M.length;c++){var S=1/0;for(T=0;T<M[c].length;T++){var w=M[c][T].trace.legendrank;S>w&&(S=w)}M[c][0]._groupMinRank=S,M[c][0]._preGroupSort=c}var _=function(F,G){return F[0]._groupMinRank-G[0]._groupMinRank||F[0]._preGroupSort-G[0]._preGroupSort},I=function(F,G){return F.trace.legendrank-G.trace.legendrank||F._preSort-G._preSort};for(M.forEach(function(F,G){F[0]._preGroupSort=G}),M.sort(_),c=0;c<M.length;c++){M[c].forEach(function(F,G){F._preSort=G}),M[c].sort(I);var H=M[c][0].trace,O=null;for(T=0;T<M[c].length;T++){var V=M[c][T].trace.legendgrouptitle;if(V&&V.text){O=V,p&&(V.font=x._groupTitleFont);break}}if(t&&M[c].reverse(),O){var B=!1;for(T=0;T<M[c].length;T++)if(d.traceIs(M[c][T].trace,"pie-like")){B=!0;break}M[c].unshift({i:-1,groupTitle:O,noClick:B,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:x.groupclick==="toggleitem"?!0:H.visible}})}for(T=0;T<M[c].length;T++)M[c][T]=[M[c][T]]}return x._lgroupsLength=M.length,x._maxNameLength=y,M}},33048:function(U,N,e){var d=e(24040),P=e(3400),n=P.pushUnique,C=!0;U.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var o=t.legend.itemclick,a=t.legend.itemdoubleclick,u=t.legend.groupclick;r===1&&o==="toggle"&&a==="toggleothers"&&C&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),C=!1;var f;if(r===1?f=o:r===2&&(f=a),!f)return;var l=u==="togglegroup",y=t.hiddenlabels?t.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var T=p._fullData,h=(t.shapes||[]).filter(function(Ce){return Ce.showlegend}),i=T.concat(h),g=c.trace;g._isShape&&(g=g._fullInput);var b=g.legendgroup,A,R,m,L,M,s,S={},w=[],_=[],I=[];function H(Ce,Oe){var Pe=w.indexOf(Ce),Ge=S.visible;return Ge||(Ge=S.visible=[]),w.indexOf(Ce)===-1&&(w.push(Ce),Pe=w.length-1),Ge[Pe]=Oe,Pe}var O=(t.shapes||[]).map(function(Ce){return Ce._input}),V=!1;function B(Ce,Oe){O[Ce].visible=Oe,V=!0}function F(Ce,Oe){if(!(c.groupTitle&&!l)){var Pe=Ce._fullInput||Ce,Ge=Pe._isShape,Ze=Pe.index;if(Ze===void 0&&(Ze=Pe._index),d.hasTransform(Pe,"groupby")){var it=_[Ze];if(!it){var Je=d.getTransformIndices(Pe,"groupby"),et=Je[Je.length-1];it=P.keyedContainer(Pe,"transforms["+et+"].styles","target","value.visible"),_[Ze]=it}var ft=it.get(Ce._group);ft===void 0&&(ft=!0),ft!==!1&&it.set(Ce._group,Oe),I[Ze]=H(Ze,Pe.visible!==!1)}else{var vt=Pe.visible===!1?!1:Oe;Ge?B(Ze,vt):H(Ze,vt)}}}var G=g.legend,Y=g._fullInput,Q=Y&&Y._isShape;if(!Q&&d.traceIs(g,"pie-like")){var te=c.label,ae=y.indexOf(te);if(f==="toggle")ae===-1?y.push(te):y.splice(ae,1);else if(f==="toggleothers"){var fe=ae!==-1,oe=[];for(A=0;A<p.calcdata.length;A++){var J=p.calcdata[A];for(R=0;R<J.length;R++){var ee=J[R],X=ee.label;G===J[0].trace.legend&&te!==X&&(y.indexOf(X)===-1&&(fe=!0),n(y,X),oe.push(X))}}if(!fe)for(var q=0;q<oe.length;q++){var le=y.indexOf(oe[q]);le!==-1&&y.splice(le,1)}}d.call("_guiRelayout",p,"hiddenlabels",y)}else{var $=b&&b.length,j=[],se;if($)for(A=0;A<i.length;A++)se=i[A],se.visible&&se.legendgroup===b&&j.push(A);if(f==="toggle"){var ne;switch(g.visible){case!0:ne="legendonly";break;case!1:ne=!1;break;case"legendonly":ne=!0;break}if($)if(l)for(A=0;A<i.length;A++){var he=i[A];he.visible!==!1&&he.legendgroup===b&&F(he,ne)}else F(g,ne);else F(g,ne)}else if(f==="toggleothers"){var me,we,Te,Le,Ie,ze=!0;for(A=0;A<i.length;A++)if(Ie=i[A],me=Ie===g,Te=Ie.showlegend!==!0,!(me||Te)&&(we=$&&Ie.legendgroup===b,!we&&Ie.legend===G&&Ie.visible===!0&&!d.traceIs(Ie,"notLegendIsolatable"))){ze=!1;break}for(A=0;A<i.length;A++)if(Ie=i[A],!(Ie.visible===!1||Ie.legend!==G)&&!d.traceIs(Ie,"notLegendIsolatable"))switch(g.visible){case"legendonly":F(Ie,!0);break;case!0:Le=ze?!0:"legendonly",me=Ie===g,Te=Ie.showlegend!==!0&&!Ie.legendgroup,we=me||$&&Ie.legendgroup===b,F(Ie,we||Te?!0:Le);break}}for(A=0;A<_.length;A++)if(m=_[A],!!m){var Me=m.constructUpdate(),_e=Object.keys(Me);for(R=0;R<_e.length;R++)L=_e[R],s=S[L]=S[L]||[],s[I[A]]=Me[L]}for(M=Object.keys(S),A=0;A<M.length;A++)for(L=M[A],R=0;R<w.length;R++)S[L].hasOwnProperty(R)||(S[L][R]=void 0);V?d.call("_guiUpdate",p,S,{shapes:O},w):d.call("_guiRestyle",p,S,w)}}},42451:function(U,N){N.isGrouped=function(d){return(d.traceorder||"").indexOf("grouped")!==-1},N.isVertical=function(d){return d.orientation!=="h"},N.isReversed=function(d){return(d.traceorder||"").indexOf("reversed")!==-1}},2780:function(U,N,e){U.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(U,N,e){var d=e(33428),P=e(24040),n=e(3400),C=n.strTranslate,x=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),o=e(69656).castOption,a=e(65196),u=12,f=5,l=2,y=10,c=5;U.exports=function(b,A,R){var m=A._fullLayout;R||(R=m.legend);var L=R.itemsizing==="constant",M=R.itemwidth,s=(M+a.itemGap*2)/2,S=C(s,0),w=function(oe,J,ee,X){var q;if(oe+1)q=oe;else if(J&&J.width>0)q=J.width;else return 0;return L?X:Math.min(q,ee)};b.each(function(oe){var J=d.select(this),ee=n.ensureSingle(J,"g","layers");ee.style("opacity",oe[0].trace.opacity);var X=R.indentation,q=R.valign,le=oe[0].lineHeight,$=oe[0].height;if(q==="middle"&&X===0||!le||!$)ee.attr("transform",null);else{var j={top:1,bottom:-1}[q],se=j*(.5*(le-$+3))||0,ne=R.indentation;ee.attr("transform",C(ne,se))}var he=ee.selectAll("g.legendfill").data([oe]);he.enter().append("g").classed("legendfill",!0);var me=ee.selectAll("g.legendlines").data([oe]);me.enter().append("g").classed("legendlines",!0);var we=ee.selectAll("g.legendsymbols").data([oe]);we.enter().append("g").classed("legendsymbols",!0),we.selectAll("g.legendpoints").data([oe]).enter().append("g").classed("legendpoints",!0)}).each(fe).each(H).each(V).each(O).each(F).each(te).each(Q).each(_).each(I).each(G).each(Y);function _(oe){var J=h(oe),ee=J.showFill,X=J.showLine,q=J.showGradientLine,le=J.showGradientFill,$=J.anyFill,j=J.anyLine,se=oe[0],ne=se.trace,he,me,we=p(ne),Te=we.colorscale,Le=we.reversescale,Ie=function(Ge){if(Ge.size())if(ee)x.fillGroupStyle(Ge,A,!0);else{var Ze="legendfill-"+ne.uid;x.gradient(Ge,A,Ze,T(Le),Te,"fill")}},ze=function(Ge){if(Ge.size()){var Ze="legendline-"+ne.uid;x.lineGroupStyle(Ge),x.gradient(Ge,A,Ze,T(Le),Te,"stroke")}},Me=r.hasMarkers(ne)||!$?"M5,0":j?"M5,-2":"M5,-3",_e=d.select(this),Ce=_e.select(".legendfill").selectAll("path").data(ee||le?[oe]:[]);if(Ce.enter().append("path").classed("js-fill",!0),Ce.exit().remove(),Ce.attr("d",Me+"h"+M+"v6h-"+M+"z").call(Ie),X||q){var Oe=w(void 0,ne.line,y,f);me=n.minExtend(ne,{line:{width:Oe}}),he=[n.minExtend(se,{trace:me})]}var Pe=_e.select(".legendlines").selectAll("path").data(X||q?[he]:[]);Pe.enter().append("path").classed("js-line",!0),Pe.exit().remove(),Pe.attr("d",Me+(q?"l"+M+",0.0001":"h"+M)).call(X?x.lineGroupStyle:ze)}function I(oe){var J=h(oe),ee=J.anyFill,X=J.anyLine,q=J.showLine,le=J.showMarker,$=oe[0],j=$.trace,se=!le&&!X&&!ee&&r.hasText(j),ne,he;function me(Ce,Oe,Pe,Ge){var Ze=n.nestedProperty(j,Ce).get(),it=n.isArrayOrTypedArray(Ze)&&Oe?Oe(Ze):Ze;if(L&&it&&Ge!==void 0&&(it=Ge),Pe){if(it<Pe[0])return Pe[0];if(it>Pe[1])return Pe[1]}return it}function we(Ce){return $._distinct&&$.index&&Ce[$.index]?Ce[$.index]:Ce[0]}if(le||se||q){var Te={},Le={};if(le){Te.mc=me("marker.color",we),Te.mx=me("marker.symbol",we),Te.mo=me("marker.opacity",n.mean,[.2,1]),Te.mlc=me("marker.line.color",we),Te.mlw=me("marker.line.width",n.mean,[0,5],l),Le.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ie=me("marker.size",n.mean,[2,16],u);Te.ms=Ie,Le.marker.size=Ie}q&&(Le.line={width:me("line.width",we,[0,10],f)}),se&&(Te.tx="Aa",Te.tp=me("textposition",we),Te.ts=10,Te.tc=me("textfont.color",we),Te.tf=me("textfont.family",we),Te.tw=me("textfont.weight",we),Te.ty=me("textfont.style",we),Te.tv=me("textfont.variant",we),Te.tC=me("textfont.textcase",we),Te.tE=me("textfont.lineposition",we),Te.tS=me("textfont.shadow",we)),ne=[n.minExtend($,Te)],he=n.minExtend(j,Le),he.selectedpoints=null,he.texttemplate=null}var ze=d.select(this).select("g.legendpoints"),Me=ze.selectAll("path.scatterpts").data(le?ne:[]);Me.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",S),Me.exit().remove(),Me.call(x.pointStyle,he,A),le&&(ne[0].mrc=3);var _e=ze.selectAll("g.pointtext").data(se?ne:[]);_e.enter().append("g").classed("pointtext",!0).append("text").attr("transform",S),_e.exit().remove(),_e.selectAll("text").call(x.textPointStyle,he,A)}function H(oe){var J=oe[0].trace,ee=J.type==="waterfall";if(oe[0]._distinct&&ee){var X=oe[0].trace[oe[0].dir].marker;return oe[0].mc=X.color,oe[0].mlw=X.line.width,oe[0].mlc=X.line.color,B(oe,this,"waterfall")}var q=[];J.visible&&ee&&(q=oe[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=d.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",S).style("stroke-miterlimit",1),le.exit().remove(),le.each(function($){var j=d.select(this),se=J[$[0]].marker,ne=w(void 0,se.line,c,l);j.attr("d",$[1]).style("stroke-width",ne+"px").call(v.fill,se.color),ne&&j.call(v.stroke,se.line.color)})}function O(oe){B(oe,this)}function V(oe){B(oe,this,"funnel")}function B(oe,J,ee){var X=oe[0].trace,q=X.marker||{},le=q.line||{},$=q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",j=ee?X.visible&&X.type===ee:P.traceIs(X,"bar"),se=d.select(J).select("g.legendpoints").selectAll("path.legend"+ee).data(j?[oe]:[]);se.enter().append("path").classed("legend"+ee,!0).attr("d",$).attr("transform",S),se.exit().remove(),se.each(function(ne){var he=d.select(this),me=ne[0],we=w(me.mlw,q.line,c,l);he.style("stroke-width",we+"px");var Te=me.mcc;if(!R._inHover&&"mc"in me){var Le=p(q),Ie=Le.mid;Ie===void 0&&(Ie=(Le.max+Le.min)/2),Te=x.tryColorscale(q,"")(Ie)}var ze=Te||me.mc||q.color,Me=q.pattern,_e=Me&&x.getPatternAttr(Me.shape,0,"");if(_e){var Ce=x.getPatternAttr(Me.bgcolor,0,null),Oe=x.getPatternAttr(Me.fgcolor,0,null),Pe=Me.fgopacity,Ge=i(Me.size,8,10),Ze=i(Me.solidity,.5,1),it="legend-"+X.uid;he.call(x.pattern,"legend",A,it,_e,Ge,Ze,Te,Me.fillmode,Ce,Oe,Pe)}else he.call(v.fill,ze);we&&v.stroke(he,me.mlc||le.color)})}function F(oe){var J=oe[0].trace,ee=d.select(this).select("g.legendpoints").selectAll("path.legendbox").data(J.visible&&P.traceIs(J,"box-violin")?[oe]:[]);ee.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),ee.exit().remove(),ee.each(function(){var X=d.select(this);if((J.boxpoints==="all"||J.points==="all")&&v.opacity(J.fillcolor)===0&&v.opacity((J.line||{}).color)===0){var q=n.minExtend(J,{marker:{size:L?u:n.constrain(J.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ee.call(x.pointStyle,q,A)}else{var le=w(void 0,J.line,c,l);X.style("stroke-width",le+"px").call(v.fill,J.fillcolor),le&&v.stroke(X,J.line.color)}})}function G(oe){var J=oe[0].trace,ee=d.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(J.visible&&J.type==="candlestick"?[oe,oe]:[]);ee.enter().append("path").classed("legendcandle",!0).attr("d",function(X,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",S).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(X,q){var le=d.select(this),$=J[q?"increasing":"decreasing"],j=w(void 0,$.line,c,l);le.style("stroke-width",j+"px").call(v.fill,$.fillcolor),j&&v.stroke(le,$.line.color)})}function Y(oe){var J=oe[0].trace,ee=d.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(J.visible&&J.type==="ohlc"?[oe,oe]:[]);ee.enter().append("path").classed("legendohlc",!0).attr("d",function(X,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",S).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(X,q){var le=d.select(this),$=J[q?"increasing":"decreasing"],j=w(void 0,$.line,c,l);le.style("fill","none").call(x.dashLine,$.line.dash,j),j&&v.stroke(le,$.line.color)})}function Q(oe){ae(oe,this,"pie")}function te(oe){ae(oe,this,"funnelarea")}function ae(oe,J,ee){var X=oe[0],q=X.trace,le=ee?q.visible&&q.type===ee:P.traceIs(q,ee),$=d.select(J).select("g.legendpoints").selectAll("path.legend"+ee).data(le?[oe]:[]);if($.enter().append("path").classed("legend"+ee,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),$.exit().remove(),$.size()){var j=q.marker||{},se=w(o(j.line.width,X.pts),j.line,c,l),ne="pieLike",he=n.minExtend(q,{marker:{line:{width:se}}},ne),me=n.minExtend(X,{trace:he},ne);t($,me,he,A)}}function fe(oe){var J=oe[0].trace,ee,X=[];if(J.visible)switch(J.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],ee=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],ee=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ee="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ee=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ee=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ee=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ee=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ee=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ee=!1;break}var q=d.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",S).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(le,$){var j=d.select(this),se=p(J),ne=se.colorscale,he=se.reversescale,me=function(Ie){if(Ie.size()){var ze="legendfill-"+J.uid;x.gradient(Ie,A,ze,T(he,ee==="radial"),ne,"fill")}},we;if(ne){if(!ee){var Le=ne.length;we=$===0?ne[he?Le-1:0][1]:$===1?ne[he?0:Le-1][1]:ne[Math.floor((Le-1)/2)][1]}}else{var Te=J.vertexcolor||J.facecolor||J.color;we=n.isArrayOrTypedArray(Te)?Te[$]||Te[0]:Te}j.attr("d",le[0]),we?j.call(v.fill,we):j.call(me)})}};function T(g,b){var A=b?"radial":"horizontal";return A+(g?"":"reversed")}function h(g){var b=g[0].trace,A=b.contours,R=r.hasLines(b),m=r.hasMarkers(b),L=b.visible&&b.fill&&b.fill!=="none",M=!1,s=!1;if(A){var S=A.coloring;S==="lines"?M=!0:R=S==="none"||S==="heatmap"||A.showlines,A.type==="constraint"?L=A._operation!=="=":(S==="fill"||S==="heatmap")&&(s=!0)}return{showMarker:m,showLine:R,showFill:L,showGradientLine:M,showGradientFill:s,anyLine:R||M,anyFill:L||s}}function i(g,b,A){return g&&n.isArrayOrTypedArray(g)?b:g>A?A:g}},66540:function(U,N,e){e(76052),U.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(U,N,e){var d=e(24040),P=e(7316),n=e(79811),C=e(9224),x=e(4016).eraseActiveShape,v=e(3400),p=v._,r=U.exports={};r.toImage={name:"toImage",title:function(g){var b=g._context.toImageButtonOptions||{},A=b.format||"png";return A==="png"?p(g,"Download plot as a png"):p(g,"Download plot")},icon:C.camera,click:function(g){var b=g._context.toImageButtonOptions,A={format:b.format||"png"};v.notifier(p(g,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(p(g,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(R){R in b&&(A[R]=b[R])}),d.call("downloadImage",g,A).then(function(R){v.notifier(p(g,"Snapshot succeeded")+" - "+R,"long")}).catch(function(){v.notifier(p(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(g){return p(g,"Edit in Chart Studio")},icon:C.disk,click:function(g){P.sendDataToCloud(g)}},r.editInChartStudio={name:"editInChartStudio",title:function(g){return p(g,"Edit in Chart Studio")},icon:C.pencil,click:function(g){P.sendDataToCloud(g)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return p(g,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(g){return p(g,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(g){return p(g,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return p(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(g){return p(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(g){return p(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(g){return p(g,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(g){return p(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(g){return p(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(g){return p(g,"Erase active shape")},icon:C.eraseshape,click:x},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return p(g,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return p(g,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return p(g,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return p(g,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return p(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return p(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(g,b){var A=b.currentTarget,R=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,L=g._fullLayout,M={},s=n.list(g,null,!0),S=L._cartesianSpikesEnabled,w,_;if(R==="zoom"){var I=m==="in"?.5:2,H=(1+I)/2,O=(1-I)/2,V;for(_=0;_<s.length;_++)if(w=s[_],!w.fixedrange)if(V=w._name,m==="auto")M[V+".autorange"]=!0;else if(m==="reset")w._rangeInitial0===void 0&&w._rangeInitial1===void 0?M[V+".autorange"]=!0:w._rangeInitial0===void 0?(M[V+".autorange"]=w._autorangeInitial,M[V+".range"]=[null,w._rangeInitial1]):w._rangeInitial1===void 0?(M[V+".range"]=[w._rangeInitial0,null],M[V+".autorange"]=w._autorangeInitial):M[V+".range"]=[w._rangeInitial0,w._rangeInitial1],w._showSpikeInitial!==void 0&&(M[V+".showspikes"]=w._showSpikeInitial,S==="on"&&!w._showSpikeInitial&&(S="off"));else{var B=[w.r2l(w.range[0]),w.r2l(w.range[1])],F=[H*B[0]+O*B[1],H*B[1]+O*B[0]];M[V+".range[0]"]=w.l2r(F[0]),M[V+".range[1]"]=w.l2r(F[1])}}else R==="hovermode"&&(m==="x"||m==="y")&&(m=L._isHoriz?"y":"x",A.setAttribute("data-val",m)),M[R]=m;L._cartesianSpikesEnabled=S,d.call("_guiRelayout",g,M)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return p(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:o},r.pan3d={name:"pan3d",_cat:"pan",title:function(g){return p(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:o},r.orbitRotation={name:"orbitRotation",title:function(g){return p(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:o},r.tableRotation={name:"tableRotation",title:function(g){return p(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:o};function o(g,b){for(var A=b.currentTarget,R=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,L=g._fullLayout._subplots.gl3d||[],M={},s=R.split("."),S=0;S<L.length;S++)M[L[S]+"."+s[1]]=m;var w=m==="pan"?m:"zoom";M.dragmode=w,d.call("_guiRelayout",g,M)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return p(g,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:a},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return p(g,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:a};function a(g,b){for(var A=b.currentTarget,R=A.getAttribute("data-attr"),m=R==="resetLastSave",L=R==="resetDefault",M=g._fullLayout,s=M._subplots.gl3d||[],S={},w=0;w<s.length;w++){var _=s[w],I=_+".camera",H=_+".aspectratio",O=_+".aspectmode",V=M[_]._scene,B;m?(S[I+".up"]=V.viewInitial.up,S[I+".eye"]=V.viewInitial.eye,S[I+".center"]=V.viewInitial.center,B=!0):L&&(S[I+".up"]=null,S[I+".eye"]=null,S[I+".center"]=null,B=!0),B&&(S[H+".x"]=V.viewInitial.aspectratio.x,S[H+".y"]=V.viewInitial.aspectratio.y,S[H+".z"]=V.viewInitial.aspectratio.z,S[O]=V.viewInitial.aspectmode)}d.call("_guiRelayout",g,S)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return p(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f};function u(g,b){var A=b.currentTarget,R=A._previousVal,m=g._fullLayout,L=m._subplots.gl3d||[],M=["xaxis","yaxis","zaxis"],s={},S={};if(R)S=R,A._previousVal=null;else{for(var w=0;w<L.length;w++){var _=L[w],I=m[_],H=_+".hovermode";s[H]=I.hovermode,S[H]=!1;for(var O=0;O<3;O++){var V=M[O],B=_+"."+V+".showspikes";S[B]=!1,s[B]=I[V].showspikes}}A._previousVal=s}return S}function f(g,b){var A=u(g,b);d.call("_guiRelayout",g,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return p(g,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return p(g,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return p(g,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return p(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function l(g,b){for(var A=b.currentTarget,R=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,L=g._fullLayout,M=L._subplots.geo||[],s=0;s<M.length;s++){var S=M[s],w=L[S];if(R==="zoom"){var _=w.projection.scale,I=m==="in"?2*_:.5*_;d.call("_guiRelayout",g,S+".projection.scale",I)}}R==="reset"&&i(g,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return p(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return p(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:c};function y(g){var b=g._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function c(g){var b=y(g);d.call("_guiRelayout",g,"hovermode",b)}r.resetViewSankey={name:"resetSankeyGroup",title:function(g){return p(g,"Reset view")},icon:C.home,click:function(g){for(var b={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<g._fullData.length;A++){var R=g._fullData[A]._viewInitial;b["node.groups"].push(R.node.groups.slice()),b["node.x"].push(R.node.x.slice()),b["node.y"].push(R.node.y.slice())}d.call("restyle",g,b)}},r.toggleHover={name:"toggleHover",title:function(g){return p(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(g,b){var A=u(g,b);A.hovermode=y(g),d.call("_guiRelayout",g,A)}},r.resetViews={name:"resetViews",title:function(g){return p(g,"Reset views")},icon:C.home,click:function(g,b){var A=b.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),t(g,b),A.setAttribute("data-attr","resetLastSave"),a(g,b),i(g,"geo"),i(g,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(g){return p(g,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var b=g._fullLayout,A=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=A==="on"?"off":"on",d.call("_guiRelayout",g,T(g))}};function T(g){for(var b=g._fullLayout,A=b._cartesianSpikesEnabled==="on",R=n.list(g,null,!0),m={},L=0;L<R.length;L++){var M=R[L];m[M._name+".showspikes"]=A?!0:M._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return p(g,"Reset view")},attr:"reset",icon:C.home,click:function(g){i(g,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return p(g,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:h},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return p(g,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:h};function h(g,b){for(var A=b.currentTarget,R=A.getAttribute("data-val"),m=g._fullLayout,L=m._subplots.mapbox||[],M=1.05,s={},S=0;S<L.length;S++){var w=L[S],_=m[w].zoom,I=R==="in"?M*_:_/M;s[w+".zoom"]=I}d.call("_guiRelayout",g,s)}function i(g,b){for(var A=g._fullLayout,R=A._subplots[b]||[],m={},L=0;L<R.length;L++)for(var M=R[L],s=A[M]._subplot,S=s.viewInitial,w=Object.keys(S),_=0;_<w.length;_++){var I=w[_];m[M+"."+I]=S[I]}d.call("_guiRelayout",g,m)}},76052:function(U,N,e){var d=e(44248),P=Object.keys(d),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),x=[],v=function(p){if(C.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();x.indexOf(r)===-1&&x.push(r),x.indexOf(t)===-1&&x.push(t)}};P.forEach(function(p){v(d[p])}),x.sort(),U.exports={DRAW_MODES:n,backButtons:C,foreButtons:x}},90824:function(U,N,e){var d=e(3400),P=e(76308),n=e(31780),C=e(66540);U.exports=function(v,p){var r=v.modebar||{},t=n.newContainer(p,"modebar");function o(u,f){return d.coerce(r,t,C,u,f)}o("orientation"),o("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var a=P.contrast(P.rgb(p.modebar.bgcolor));o("color",P.addOpacity(a,.3)),o("activecolor",P.addOpacity(a,.7)),o("uirevision",p.uirevision),o("add"),o("remove")}},45460:function(U,N,e){U.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(U,N,e){var d=e(79811),P=e(43028),n=e(24040),C=e(10624).isUnifiedHover,x=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;U.exports=function(c){var T=c._fullLayout,h=c._context,i=T._modeBar;if(!h.displayModeBar&&!h.watermark){i&&(i.destroy(),delete T._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var g=h.modeBarButtons,b;Array.isArray(g)&&g.length?b=l(g):!h.displayModeBar&&h.watermark?b=[]:b=t(c),i?i.update(c,b):T._modeBar=x(c,b)};function t(y){var c=y._fullLayout,T=y._fullData,h=y._context;function i($,j){if(typeof j=="string"){if(j.toLowerCase()===$.toLowerCase())return!0}else{var se=j.name,ne=j._cat||j.name;if(se===$||ne===$.toLowerCase())return!0}return!1}var g=c.modebar.add;typeof g=="string"&&(g=[g]);var b=c.modebar.remove;typeof b=="string"&&(b=[b]);var A=h.modeBarButtonsToAdd.concat(g.filter(function($){for(var j=0;j<h.modeBarButtonsToRemove.length;j++)if(i($,h.modeBarButtonsToRemove[j]))return!1;return!0})),R=h.modeBarButtonsToRemove.concat(b.filter(function($){for(var j=0;j<h.modeBarButtonsToAdd.length;j++)if(i($,h.modeBarButtonsToAdd[j]))return!1;return!0})),m=c._has("cartesian"),L=c._has("gl3d"),M=c._has("geo"),s=c._has("pie"),S=c._has("funnelarea"),w=c._has("gl2d"),_=c._has("ternary"),I=c._has("mapbox"),H=c._has("polar"),O=c._has("smith"),V=c._has("sankey"),B=o(c),F=C(c.hovermode),G=[];function Y($){if($.length){for(var j=[],se=0;se<$.length;se++){for(var ne=$[se],he=v[ne],me=he.name.toLowerCase(),we=(he._cat||he.name).toLowerCase(),Te=!1,Le=0;Le<R.length;Le++){var Ie=R[Le].toLowerCase();if(Ie===me||Ie===we){Te=!0;break}}Te||j.push(v[ne])}G.push(j)}}var Q=["toImage"];h.showEditInChartStudio?Q.push("editInChartStudio"):h.showSendToCloud&&Q.push("sendDataToCloud"),Y(Q);var te=[],ae=[],fe=[],oe=[];(m||w||s||S||_)+M+L+I+H+O>1?(ae=["toggleHover"],fe=["resetViews"]):M?(te=["zoomInGeo","zoomOutGeo"],ae=["hoverClosestGeo"],fe=["resetGeo"]):L?(ae=["hoverClosest3d"],fe=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(te=["zoomInMapbox","zoomOutMapbox"],ae=["toggleHover"],fe=["resetViewMapbox"]):w?ae=["hoverClosestGl2d"]:s?ae=["hoverClosestPie"]:V?(ae=["hoverClosestCartesian","hoverCompareCartesian"],fe=["resetViewSankey"]):ae=["toggleHover"],m&&ae.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(u(T)||F)&&(ae=[]),(m||w)&&!B&&(te=["zoomIn2d","zoomOut2d","autoScale2d"],fe[0]!=="resetViews"&&(fe=["resetScale2d"])),L?oe=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||w)&&!B||_?oe=["zoom2d","pan2d"]:I||M?oe=["pan2d"]:H&&(oe=["zoom2d"]),a(T)&&oe.push("select2d","lasso2d");var J=[],ee=function($){J.indexOf($)===-1&&ae.indexOf($)!==-1&&J.push($)};if(Array.isArray(A)){for(var X=[],q=0;q<A.length;q++){var le=A[q];typeof le=="string"?(le=le.toLowerCase(),p.indexOf(le)!==-1?(c._has("mapbox")||c._has("cartesian"))&&oe.push(le):le==="togglespikelines"?ee("toggleSpikelines"):le==="togglehover"?ee("toggleHover"):le==="hovercompare"?ee("hoverCompareCartesian"):le==="hoverclosest"?(ee("hoverClosestCartesian"),ee("hoverClosestGeo"),ee("hoverClosest3d"),ee("hoverClosestGl2d"),ee("hoverClosestPie")):le==="v1hovermode"&&(ee("hoverClosestCartesian"),ee("hoverCompareCartesian"),ee("hoverClosestGeo"),ee("hoverClosest3d"),ee("hoverClosestGl2d"),ee("hoverClosestPie"))):X.push(le)}A=X}return Y(oe),Y(te.concat(fe)),Y(J),f(G,A)}function o(y){for(var c=d.list({_fullLayout:y},null,!0),T=0;T<c.length;T++)if(!c[T].fixedrange)return!1;return!0}function a(y){for(var c=!1,T=0;T<y.length&&!c;T++){var h=y[T];!h._module||!h._module.selectPoints||(n.traceIs(h,"scatter-like")?(P.hasMarkers(h)||P.hasText(h))&&(c=!0):n.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function u(y){for(var c=0;c<y.length;c++)if(!n.traceIs(y[c],"noHover"))return!1;return!0}function f(y,c){if(c.length)if(Array.isArray(c[0]))for(var T=0;T<c.length;T++)y.push(c[T]);else y.push(c);return y}function l(y){for(var c=r([],y),T=0;T<c.length;T++)for(var h=c[T],i=0;i<h.length;i++){var g=h[i];if(typeof g=="string")if(v[g]!==void 0)c[T][i]=v[g];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},66400:function(U,N,e){var d=e(33428),P=e(38248),n=e(3400),C=e(9224),x=e(25788).version,v=new DOMParser;function p(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(a,u){this.graphInfo=a;var f=this.graphInfo._context,l=this.graphInfo._fullLayout,y="modebar-"+l._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var c=l.modebar,T=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(y),n.addRelatedStyleRule(y,T+"#"+y+" .modebar-group","background-color: "+c.bgcolor),n.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+c.color),n.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+c.activecolor),n.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(u),i=this.hasLogo!==f.displaylogo,g=this.locale!==f.locale;if(this.locale=f.locale,(h||i||g)&&(this.removeAllButtons(),this.updateButtons(u),f.watermark||f.displaylogo)){var b=this.getLogo();f.watermark&&(b.className=b.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(a){var u=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var l=u.createGroup();f.forEach(function(y){var c=y.name;if(!c)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");u.buttonsNames.push(c);var T=u.createButton(y);u.buttonElements.push(T),l.appendChild(T)}),u.element.appendChild(l)})},r.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},r.createButton=function(a){var u=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var l=a.title;l===void 0?l=a.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&f.setAttribute("data-title",l),a.attr!==void 0&&f.setAttribute("data-attr",a.attr);var y=a.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),f.setAttribute("data-val",y));var c=a.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(h){a.click(u.graphInfo,h),u.updateActiveButton(h.currentTarget)}),f.setAttribute("data-toggle",a.toggle||!1),a.toggle&&d.select(f).classed("active",!0);var T=a.icon;return typeof T=="function"?f.appendChild(T()):f.appendChild(this.createIcon(T||C.question)),f.setAttribute("data-gravity",a.gravity||"n"),f},r.createIcon=function(a){var u=P(a.height)?Number(a.height):a.ascent-a.descent,f="http://www.w3.org/2000/svg",l;if(a.path){l=document.createElementNS(f,"svg"),l.setAttribute("viewBox",[0,0,a.width,u].join(" ")),l.setAttribute("class","icon");var y=document.createElementNS(f,"path");y.setAttribute("d",a.path),a.transform?y.setAttribute("transform",a.transform):a.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),l.appendChild(y)}if(a.svg){var c=v.parseFromString(a.svg,"application/xml");l=c.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(a){var u=this.graphInfo._fullLayout,f=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var y=l.getAttribute("data-val")||!0,c=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",h=d.select(l);if(T)c===f&&h.classed("active",!h.classed("active"));else{var i=c===null?c:n.nestedProperty(u,c).get();h.classed("active",i===y)}})},r.hasButtons=function(a){var u=this.buttons;if(!u||a.length!==u.length)return!1;for(var f=0;f<a.length;++f){if(a[f].length!==u[f].length)return!1;for(var l=0;l<a[f].length;l++)if(a[f][l].name!==u[f][l].name)return!1}return!0};function t(a){return a+" (v"+x+")"}r.getLogo=function(){var a=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",t(n._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(C.newplotlylogo)),a.appendChild(u),a},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function o(a,u){var f=a._fullLayout,l=new p({graphInfo:a,container:f._modebardiv.node(),buttons:u});return f._privateplot&&d.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}U.exports=o},26680:function(U,N,e){var d=e(25376),P=e(22548),n=e(31780).templatedArray,C=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});U.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:d({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(U){U.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(U,N,e){var d=e(3400),P=e(76308),n=e(31780),C=e(51272),x=e(26680),v=e(85984);U.exports=function(o,a,u,f,l){var y=o.rangeselector||{},c=n.newContainer(a,"rangeselector");function T(A,R){return d.coerce(y,c,x,A,R)}var h=C(y,c,{name:"buttons",handleItemDefaults:p,calendar:l}),i=T("visible",h.length>0);if(i){var g=r(a,u,f);T("x",g[0]),T("y",g[1]),d.noneOrAll(o,a,["x","y"]),T("xanchor"),T("yanchor"),d.coerceFont(T,"font",u.font);var b=T("bgcolor");T("activecolor",P.contrast(b,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,o,a,u){var f=u.calendar;function l(T,h){return d.coerce(t,o,x.buttons,T,h)}var y=l("visible");if(y){var c=l("step");c!=="all"&&(f&&f!=="gregorian"&&(c==="month"||c==="year")?o.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,o,a){for(var u=a.filter(function(c){return o[c].anchor===t._id}),f=0,l=0;l<u.length;l++){var y=o[u[l]].domain;y&&(f=Math.max(y[1],f))}return[t.domain[0],f+v.yPad]}},50216:function(U,N,e){var d=e(33428),P=e(24040),n=e(7316),C=e(76308),x=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),o=e(84284),a=o.LINE_SPACING,u=o.FROM_TL,f=o.FROM_BR,l=e(85984),y=e(48040);U.exports=function(L){var M=L._fullLayout,s=M._infolayer.selectAll(".rangeselector").data(c(L),T);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(S){var w=d.select(this),_=S,I=_.rangeselector,H=w.selectAll("g.button").data(v.filterVisible(I.buttons));H.enter().append("g").classed("button",!0),H.exit().remove(),H.each(function(O){var V=d.select(this),B=y(_,O);O._isActive=h(_,O,B),V.call(i,I,O),V.call(b,I,O,L),V.on("click",function(){L._dragged||P.call("_guiRelayout",L,B)}),V.on("mouseover",function(){O._isHovered=!0,V.call(i,I,O)}),V.on("mouseout",function(){O._isHovered=!1,V.call(i,I,O)})}),R(L,H,I,_._name,w)})};function c(m){for(var L=t.list(m,"x",!0),M=[],s=0;s<L.length;s++){var S=L[s];S.rangeselector&&S.rangeselector.visible&&M.push(S)}return M}function T(m){return m._id}function h(m,L,M){if(L.step==="all")return m.autorange===!0;var s=Object.keys(M);return m.range[0]===M[s[0]]&&m.range[1]===M[s[1]]}function i(m,L,M){var s=v.ensureSingle(m,"rect","selector-rect",function(S){S.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(C.stroke,L.bordercolor).call(C.fill,g(L,M)).style("stroke-width",L.borderwidth+"px")}function g(m,L){return L._isActive||L._isHovered?m.activecolor:m.bgcolor}function b(m,L,M,s){function S(_){r.convertToTspans(_,s)}var w=v.ensureSingle(m,"text","selector-text",function(_){_.attr("text-anchor","middle")});w.call(x.font,L.font).text(A(M,s._fullLayout._meta)).call(S)}function A(m,L){return m.label?L?v.templateString(m.label,L):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function R(m,L,M,s,S){var w=0,_=0,I=M.borderwidth;L.each(function(){var G=d.select(this),Y=G.select(".selector-text"),Q=M.font.size*a,te=Math.max(Q*r.lineCount(Y),16)+3;_=Math.max(_,te)}),L.each(function(){var G=d.select(this),Y=G.select(".selector-rect"),Q=G.select(".selector-text"),te=Q.node()&&x.bBox(Q.node()).width,ae=M.font.size*a,fe=r.lineCount(Q),oe=Math.max(te+10,l.minButtonWidth);G.attr("transform",p(I+w,I)),Y.attr({x:0,y:0,width:oe,height:_}),r.positionText(Q,oe/2,_/2-(fe-1)*ae/2+3),w+=oe+5});var H=m._fullLayout._size,O=H.l+H.w*M.x,V=H.t+H.h*(1-M.y),B="left";v.isRightAnchor(M)&&(O-=w,B="right"),v.isCenterAnchor(M)&&(O-=w/2,B="center");var F="top";v.isBottomAnchor(M)&&(V-=_,F="bottom"),v.isMiddleAnchor(M)&&(V-=_/2,F="middle"),w=Math.ceil(w),_=Math.ceil(_),O=Math.round(O),V=Math.round(V),n.autoMargin(m,s+"-range-selector",{x:M.x,y:M.y,l:w*u[B],r:w*f[B],b:_*f[F],t:_*u[F]}),S.attr("transform",p(O,V))}},48040:function(U,N,e){var d=e(73220),P=e(3400).titleCase;U.exports=function(x,v){var p=x._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=n(x,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function n(C,x){var v=C.range,p=new Date(C.r2l(v[1])),r=x.step,t=d["utc"+P(r)],o=x.count,a;switch(x.stepmode){case"backward":a=C.l2r(+t.offset(p,-o));break;case"todate":var u=t.offset(p,-o);a=C.l2r(+t.ceil(u));break}var f=v[1];return[a,f]}},41152:function(U,N,e){U.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(U,N,e){var d=e(22548);U.exports={bgcolor:{valType:"color",dflt:d.background,editType:"plot"},bordercolor:{valType:"color",dflt:d.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(U,N,e){var d=e(79811).list,P=e(19280).getAutoRange,n=e(74636);U.exports=function(x){for(var v=d(x,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[n.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(x,r))}}},74636:function(U){U.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(U,N,e){var d=e(3400),P=e(31780),n=e(79811),C=e(11200),x=e(10936);U.exports=function(p,r,t){var o=p[t],a=r[t];if(!(o.rangeslider||r._requestRangeslider[a._id]))return;d.isPlainObject(o.rangeslider)||(o.rangeslider={});var u=o.rangeslider,f=P.newContainer(a,"rangeslider");function l(s,S){return d.coerce(u,f,C,s,S)}var y,c;function T(s,S){return d.coerce(y,c,x,s,S)}var h=l("visible");if(h){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!a.isValidRange(u.range)),l("range");var i=r._subplots;if(i)for(var g=i.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===n.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),b=d.simpleMap(g,n.id2name),A=0;A<b.length;A++){var R=b[A];y=u[R]||{},c=P.newContainer(f,R,"yaxis");var m=r[R],L;y.range&&m.isValidRange(y.range)&&(L="fixed");var M=T("rangemode",L);M!=="match"&&T("range",m.range.slice())}f._input=u}}},20060:function(U,N,e){var d=e(33428),P=e(24040),n=e(7316),C=e(3400),x=C.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),o=e(79811),a=e(86476),u=e(93972),f=e(74636);U.exports=function(L){for(var M=L._fullLayout,s=M._rangeSliderData,S=0;S<s.length;S++){var w=s[S][f.name];w._clipId=w._id+"-"+M._uid}function _(H){return H._name}var I=M._infolayer.selectAll("g."+f.containerClassName).data(s,_);I.exit().each(function(H){var O=H[f.name];M._topdefs.select("#"+O._clipId).remove()}).remove(),s.length!==0&&(I.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),I.each(function(H){var O=d.select(this),V=H[f.name],B=M[o.id2name(H.anchor)],F=V[o.id2name(H.anchor)];if(V.range){var G=C.simpleMap(V.range,H.r2l),Y=C.simpleMap(H.range,H.r2l),Q;Y[0]<Y[1]?Q=[Math.min(G[0],Y[0]),Math.max(G[1],Y[1])]:Q=[Math.max(G[0],Y[0]),Math.min(G[1],Y[1])],V.range=V._input.range=C.simpleMap(Q,H.l2r)}H.cleanRange("rangeslider.range");var te=M._size,ae=H.domain;V._width=te.w*(ae[1]-ae[0]);var fe=Math.round(te.l+te.w*ae[0]),oe=Math.round(te.t+te.h*(1-H._counterDomainMin)+(H.side==="bottom"?H._depth:0)+V._offsetShift+f.extraPad);O.attr("transform",x(fe,oe)),V._rl=C.simpleMap(V.range,H.r2l);var J=V._rl[0],ee=V._rl[1],X=ee-J;if(V.p2d=function(Te){return Te/V._width*X+J},V.d2p=function(Te){return(Te-J)/X*V._width},H.rangebreaks){var q=H.locateBreaks(J,ee);if(q.length){var le,$,j=0;for(le=0;le<q.length;le++)$=q[le],j+=$.max-$.min;var se=V._width/(ee-J-j),ne=[-se*J];for(le=0;le<q.length;le++)$=q[le],ne.push(ne[ne.length-1]-se*($.max-$.min));for(V.d2p=function(Te){for(var Le=ne[0],Ie=0;Ie<q.length;Ie++){var ze=q[Ie];if(Te>=ze.max)Le=ne[Ie+1];else if(Te<ze.min)break}return Le+se*Te},le=0;le<q.length;le++)$=q[le],$.pmin=V.d2p($.min),$.pmax=V.d2p($.max);V.p2d=function(Te){for(var Le=ne[0],Ie=0;Ie<q.length;Ie++){var ze=q[Ie];if(Te>=ze.pmax)Le=ne[Ie+1];else if(Te<ze.pmin)break}return(Te-Le)/se}}}if(F.rangemode!=="match"){var he=B.r2l(F.range[0]),me=B.r2l(F.range[1]),we=me-he;V.d2pOppAxis=function(Te){return(Te-he)/we*V._height}}O.call(h,L,H,V).call(i,L,H,V).call(g,L,H,V).call(A,L,H,V,F).call(R,L,H,V).call(m,L,H,V),y(O,L,H,V),T(O,L,H,V,B,F),H.side==="bottom"&&r.draw(L,H._id+"title",{propContainer:H,propName:H._name+".title",placeholder:M._dfltTitle.x,attributes:{x:H._offset+H._length/2,y:oe+V._height+V._offsetShift+10+1.5*H.title.font.size,"text-anchor":"middle"}})}))};function l(L){return typeof L.clientX=="number"?L.clientX:L.touches&&L.touches.length>0?L.touches[0].clientX:0}function y(L,M,s,S){if(M._context.staticPlot)return;var w=L.select("rect."+f.slideBoxClassName).node(),_=L.select("rect."+f.grabAreaMinClassName).node(),I=L.select("rect."+f.grabAreaMaxClassName).node();function H(){var O=d.event,V=O.target,B=l(O),F=B-L.node().getBoundingClientRect().left,G=S.d2p(s._rl[0]),Y=S.d2p(s._rl[1]),Q=a.coverSlip();this.addEventListener("touchmove",te),this.addEventListener("touchend",ae),Q.addEventListener("mousemove",te),Q.addEventListener("mouseup",ae);function te(fe){var oe=l(fe),J=+oe-B,ee,X,q;switch(V){case w:if(q="ew-resize",G+J>s._length||Y+J<0)return;ee=G+J,X=Y+J;break;case _:if(q="col-resize",G+J>s._length)return;ee=G+J,X=Y;break;case I:if(q="col-resize",Y+J<0)return;ee=G,X=Y+J;break;default:q="ew-resize",ee=F,X=F+J;break}if(X<ee){var le=X;X=ee,ee=le}S._pixelMin=ee,S._pixelMax=X,u(d.select(Q),q),c(L,M,s,S)}function ae(){Q.removeEventListener("mousemove",te),Q.removeEventListener("mouseup",ae),this.removeEventListener("touchmove",te),this.removeEventListener("touchend",ae),C.removeElement(Q)}}L.on("mousedown",H),L.on("touchstart",H)}function c(L,M,s,S){function w(H){return s.l2r(C.constrain(H,S._rl[0],S._rl[1]))}var _=w(S.p2d(S._pixelMin)),I=w(S.p2d(S._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",M,s._name+".range",[_,I])})}function T(L,M,s,S,w,_){var I=f.handleWidth/2;function H(fe){return C.constrain(fe,0,S._width)}function O(fe){return C.constrain(fe,0,S._height)}function V(fe){return C.constrain(fe,-I,S._width+I)}var B=H(S.d2p(s._rl[0])),F=H(S.d2p(s._rl[1]));if(L.select("rect."+f.slideBoxClassName).attr("x",B).attr("width",F-B),L.select("rect."+f.maskMinClassName).attr("width",B),L.select("rect."+f.maskMaxClassName).attr("x",F).attr("width",S._width-F),_.rangemode!=="match"){var G=S._height-O(S.d2pOppAxis(w._rl[1])),Y=S._height-O(S.d2pOppAxis(w._rl[0]));L.select("rect."+f.maskMinOppAxisClassName).attr("x",B).attr("height",G).attr("width",F-B),L.select("rect."+f.maskMaxOppAxisClassName).attr("x",B).attr("y",Y).attr("height",S._height-Y).attr("width",F-B),L.select("rect."+f.slideBoxClassName).attr("y",G).attr("height",Y-G)}var Q=.5,te=Math.round(V(B-I))-Q,ae=Math.round(V(F-I))+Q;L.select("g."+f.grabberMinClassName).attr("transform",x(te,Q)),L.select("g."+f.grabberMaxClassName).attr("transform",x(ae,Q))}function h(L,M,s,S){var w=C.ensureSingle(L,"rect",f.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),_=S.borderwidth%2===0?S.borderwidth:S.borderwidth-1,I=-S._offsetShift,H=v.crispRound(M,S.borderwidth);w.attr({width:S._width+_,height:S._height+_,transform:x(I,I),"stroke-width":H}).call(p.stroke,S.bordercolor).call(p.fill,S.bgcolor)}function i(L,M,s,S){var w=M._fullLayout,_=C.ensureSingleById(w._topdefs,"clipPath",S._clipId,function(I){I.append("rect").attr({x:0,y:0})});_.select("rect").attr({width:S._width,height:S._height})}function g(L,M,s,S){var w=M.calcdata,_=L.selectAll("g."+f.rangePlotClassName).data(s._subplotsWith,C.identity);_.enter().append("g").attr("class",function(H){return f.rangePlotClassName+" "+H}).call(v.setClipUrl,S._clipId,M),_.order(),_.exit().remove();var I;_.each(function(H,O){var V=d.select(this),B=O===0,F=o.getFromId(M,H,"y"),G=F._name,Y=S[G],Q={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:S.range.slice(),calendar:s.calendar},width:S._width,height:S._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};s.rangebreaks&&(Q.layout.xaxis.rangebreaks=s.rangebreaks),Q.layout[G]={type:F.type,domain:[0,1],range:Y.rangemode!=="match"?Y.range.slice():F.range.slice(),calendar:F.calendar},F.rangebreaks&&(Q.layout[G].rangebreaks=F.rangebreaks),n.supplyDefaults(Q);var te=Q._fullLayout.xaxis,ae=Q._fullLayout[G];te.clearCalc(),te.setScale(),ae.clearCalc(),ae.setScale();var fe={id:H,plotgroup:V,xaxis:te,yaxis:ae,isRangePlot:!0};B?I=fe:(fe.mainplot="xy",fe.mainplotinfo=I),t.rangePlot(M,fe,b(w,H))})}function b(L,M){for(var s=[],S=0;S<L.length;S++){var w=L[S],_=w[0].trace;_.xaxis+_.yaxis===M&&s.push(w)}return s}function A(L,M,s,S,w){var _=C.ensureSingle(L,"rect",f.maskMinClassName,function(V){V.attr({x:0,y:0,"shape-rendering":"crispEdges"})});_.attr("height",S._height).call(p.fill,f.maskColor);var I=C.ensureSingle(L,"rect",f.maskMaxClassName,function(V){V.attr({y:0,"shape-rendering":"crispEdges"})});if(I.attr("height",S._height).call(p.fill,f.maskColor),w.rangemode!=="match"){var H=C.ensureSingle(L,"rect",f.maskMinOppAxisClassName,function(V){V.attr({y:0,"shape-rendering":"crispEdges"})});H.attr("width",S._width).call(p.fill,f.maskOppAxisColor);var O=C.ensureSingle(L,"rect",f.maskMaxOppAxisClassName,function(V){V.attr({y:0,"shape-rendering":"crispEdges"})});O.attr("width",S._width).style("border-top",f.maskOppBorder).call(p.fill,f.maskOppAxisColor)}}function R(L,M,s,S){if(!M._context.staticPlot){var w=C.ensureSingle(L,"rect",f.slideBoxClassName,function(_){_.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});w.attr({height:S._height,fill:f.slideBoxFill})}}function m(L,M,s,S){var w=C.ensureSingle(L,"g",f.grabberMinClassName),_=C.ensureSingle(L,"g",f.grabberMaxClassName),I={x:0,width:f.handleWidth,rx:f.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},H={y:Math.round(S._height/4),height:Math.round(S._height/2)},O=C.ensureSingle(w,"rect",f.handleMinClassName,function(Y){Y.attr(I)});O.attr(H);var V=C.ensureSingle(_,"rect",f.handleMaxClassName,function(Y){Y.attr(I)});V.attr(H);var B={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:M._context.staticPlot?void 0:f.grabAreaCursor},F=C.ensureSingle(w,"rect",f.grabAreaMinClassName,function(Y){Y.attr(B)});F.attr("height",S._height);var G=C.ensureSingle(_,"rect",f.grabAreaMaxClassName,function(Y){Y.attr(B)});G.attr("height",S._height)}},97944:function(U,N,e){var d=e(79811),P=e(72736),n=e(74636),C=e(84284).LINE_SPACING,x=n.name;function v(p){var r=p&&p[x];return r&&r.visible}N.isVisible=v,N.makeData=function(p){var r=d.list({_fullLayout:p},"x",!0),t=p.margin,o=[];if(!p._has("gl2d"))for(var a=0;a<r.length;a++){var u=r[a];if(v(u)){o.push(u);var f=u[x];f._id=x+u._id,f._height=(p.height-t.b-t.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}p._rangeSliderData=o},N.autoMarginOpts=function(p,r){var t=p._fullLayout,o=r[x],a=r._id.charAt(0),u=0,f=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==t._dfltTitle[a])){f=1.5*r.title.font.size+10+o._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;f+=l*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:o._height+u+Math.max(t.margin.b,f),pad:n.extraPad+o._offsetShift*2}}},49692:function(U,N,e){var d=e(3400),P=e(11200),n=e(10936),C=e(97944);U.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:d.extendFlat({},P,{yaxis:n})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},10936:function(U){U.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(U,N,e){var d=e(13916),P=e(52904).line,n=e(98192).u,C=e(92880).extendFlat,x=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),U.exports=x(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},d.xref,{}),yref:C({},d.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:C({},P.width,{min:1,dflt:1}),dash:C({},n,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(U){U.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(U,N,e){var d=e(3400),P=e(54460),n=e(51272),C=e(93956),x=e(65152);U.exports=function(r,t){n(r,t,{name:"selections",handleItemDefaults:v});for(var o=t.selections,a=0;a<o.length;a++){var u=o[a];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(t.selections[a]=null)}};function v(p,r,t){function o(w,_){return d.coerce(p,r,C,w,_)}var a=o("path"),u=a?"path":"rect",f=o("type",u),l=f!=="path";l&&delete r.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var y=["x","y"],c=0;c<2;c++){var T=y[c],h={_fullLayout:t},i,g,b,A=P.coerceRef(p,r,h,T);if(i=P.getFromId(h,A),i._selectionIndices.push(r._index),b=x.rangeToShapePosition(i),g=x.shapePositionToRange(i),l){var R=T+"0",m=T+"1",L=p[R],M=p[m];p[R]=g(p[R],!0),p[m]=g(p[m],!0),P.coercePosition(r,h,o,A,R),P.coercePosition(r,h,o,A,m);var s=r[R],S=r[m];s!==void 0&&S!==void 0&&(r[R]=b(s),r[m]=b(S),p[R]=L,p[m]=M)}}l&&d.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(U,N,e){var d=e(9856).readPaths,P=e(55496),n=e(1936).clearOutlineControllers,C=e(76308),x=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;U.exports={draw:t,drawOne:a,activateLastSelection:l};function t(c){var T=c._fullLayout;n(c),T._selectionLayer.selectAll("path").remove();for(var h in T._plots){var i=T._plots[h].selectionLayer;i&&i.selectAll("path").remove()}for(var g=0;g<T.selections.length;g++)a(c,g)}function o(c){return c._context.editSelection}function a(c,T){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var h=p.makeSelectionsOptionsAndPlotinfo(c,T),i=h.options,g=h.plotinfo;if(!i._input)return;b(c._fullLayout._selectionLayer);function b(A){var R=r(c,i),m={"data-index":T,"fill-rule":"evenodd",d:R},L=i.opacity,M="rgba(0,0,0,0)",s=i.line.color||C.contrast(c._fullLayout.plot_bgcolor),S=i.line.width,w=i.line.dash;S||(S=5,w="solid");var _=o(c)&&c._fullLayout._activeSelectionIndex===T;_&&(M=c._fullLayout.activeselection.fillcolor,L=c._fullLayout.activeselection.opacity);for(var I=[],H=1;H>=0;H--){var O=A.append("path").attr(m).style("opacity",H?.1:L).call(C.stroke,s).call(C.fill,M).call(x.dashLine,H?"solid":w,H?4+S:S);if(u(O,c,i),_){var V=v(c.layout,"selections",i);O.style({cursor:"move"});var B={element:O.node(),plotinfo:g,gd:c,editHelpers:V,isActiveSelection:!0},F=d(R,c);P(F,O,B)}else O.style("pointer-events",H?"all":"none");I[H]=O}var G=I[0],Y=I[1];Y.node().addEventListener("click",function(){return f(c,G)})}}function u(c,T,h){var i=h.xref+h.yref;x.setClipUrl(c,"clip"+T._fullLayout._uid+i,T)}function f(c,T){if(o(c)){var h=T.node(),i=+h.getAttribute("data-index");if(i>=0){if(i===c._fullLayout._activeSelectionIndex){y(c);return}c._fullLayout._activeSelectionIndex=i,c._fullLayout._deactivateSelection=y,t(c)}}}function l(c){if(o(c)){var T=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=T,c._fullLayout._deactivateSelection=y,t(c)}}function y(c){if(o(c)){var T=c._fullLayout._activeSelectionIndex;T>=0&&(n(c),delete c._fullLayout._activeSelectionIndex,t(c))}}},34200:function(U,N,e){var d=e(98192).u,P=e(92880).extendFlat;U.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},d,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(U){U.exports=function(e,d,P){P("newselection.mode");var n=P("newselection.line.width");n&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(U,N,e){var d=e(72760),P=d.selectMode,n=e(1936),C=n.clearOutline,x=e(9856),v=x.readPaths,p=x.writePaths,r=x.fixDatesForPaths;U.exports=function(o,a){if(o.length){var u=o[0][0];if(u){var f=u.getAttribute("d"),l=a.gd,y=l._fullLayout.newselection,c=a.plotinfo,T=c.xaxis,h=c.yaxis,i=a.isActiveSelection,g=a.dragmode,b=(l.layout||{}).selections||[];if(!P(g)&&i!==void 0){var A=l._fullLayout._activeSelectionIndex;if(A<b.length)switch(l._fullLayout.selections[A].type){case"rect":g="select";break;case"path":g="lasso";break}}var R=v(f,l,c,i),m={xref:T._id,yref:h._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},L;R.length===1&&(L=R[0]),L&&L.length===5&&g==="select"?(m.type="rect",m.x0=L[0][1],m.y0=L[0][2],m.x1=L[2][1],m.y1=L[2][2]):(m.type="path",T&&h&&r(R,T,h),m.path=p(R),L=null),C(l);for(var M=a.editHelpers,s=(M||{}).modifyItem,S=[],w=0;w<b.length;w++){var _=l._fullLayout.selections[w];if(!_){S[w]=_;continue}if(S[w]=_._input,i!==void 0&&w===l._fullLayout._activeSelectionIndex){var I=m;switch(_.type){case"rect":s("x0",I.x0),s("x1",I.x1),s("y0",I.y0),s("y1",I.y1);break;case"path":s("path",I.path);break}}}return i===void 0?(S.push(m),S):M?M.getUpdateObj():{}}}}},5840:function(U,N,e){var d=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function n(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function C(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function x(v){return d(v.xaxis._offset,v.yaxis._offset)}U.exports={p2r:P,r2p:n,axValue:C,getTransform:x}},22676:function(U,N,e){var d=e(23640),P=e(43156);U.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:d.draw,drawOne:d.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(U,N,e){var d=e(14756),P=e(61456),n=e(24040),C=e(43616).dashStyle,x=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,o=r.rectMode,a=r.drawMode,u=r.openMode,f=r.selectMode,l=e(65152),y=e(85448),c=e(55496),T=e(1936).clearOutline,h=e(9856),i=h.handleEllipse,g=h.readPaths,b=e(93940).newShapes,A=e(5968),R=e(23640).activateLastSelection,m=e(3400),L=m.sorterAsc,M=e(92065),s=e(91200),S=e(79811).getFromId,w=e(73696),_=e(39172).redrawReglTraces,I=e(83280),H=I.MINSELECT,O=M.filter,V=M.tester,B=e(5840),F=B.p2r,G=B.axValue,Y=B.getTransform;function Q(Ke){return Ke.subplot!==void 0}function te(Ke,ke,Ue,Ve,Re){var de=!Q(Ve),be=t(Re),Ne=o(Re),Ye=u(Re),at=a(Re),lt=f(Re),Ht=Re==="drawline",Yt=Re==="drawcircle",Tt=Ht||Yt,Lt=Ve.gd,Kt=Lt._fullLayout,vr=lt&&Kt.newselection.mode==="immediate"&&de,gt=Kt._zoomlayer,Xt=Ve.element.getBoundingClientRect(),$t=Ve.plotinfo,mr=Y($t),or=ke-Xt.left,yt=Ue-Xt.top;Kt._calcInverseTransform(Lt);var ut=m.apply3DTransform(Kt._invTransform)(or,yt);or=ut[0],yt=ut[1];var bt=Kt._invScaleX,Et=Kt._invScaleY,It=or,Ft=yt,Ot="M"+or+","+yt,Nt=Ve.xaxes[0],Jt=Ve.yaxes[0],hr=Nt._length,cr=Jt._length,dr=Ke.altKey&&!(a(Re)&&Ye),fr,Lr,xr,Qe,rt,er,tr;X(Ke,Lt,Ve),be&&(fr=O([[or,yt]],I.BENDPX));var jt=gt.selectAll("path.select-outline-"+$t.id).data([1]),Pt=at?Kt.newshape:Kt.newselection;at&&(Ve.hasText=Pt.label.text||Pt.label.texttemplate);var Zt=at&&!Ye?Pt.fillcolor:"rgba(0,0,0,0)",nr=Pt.line.color||(de?x.contrast(Lt._fullLayout.plot_bgcolor):"#7f7f7f");jt.enter().append("path").attr("class","select-outline select-outline-"+$t.id).style({opacity:at?Pt.opacity/2:1,"stroke-dasharray":C(Pt.line.dash,Pt.line.width),"stroke-width":Pt.line.width+"px","shape-rendering":"crispEdges"}).call(x.stroke,nr).call(x.fill,Zt).attr("fill-rule","evenodd").classed("cursor-move",!!at).attr("transform",mr).attr("d",Ot+"Z");var Qt=gt.append("path").attr("class","zoombox-corners").style({fill:x.background,stroke:x.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(at&&Ve.hasText){var Wt=gt.select(".label-temp");Wt.empty()&&(Wt=gt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var yr=Kt._uid+I.SELECTID,Dr=[],Tr=se(Lt,Ve.xaxes,Ve.yaxes,Ve.subplot);vr&&!Ke.shiftKey&&(Ve._clearSubplotSelections=function(){if(de){var Nr=Nt._id,Cn=Jt._id;it(Lt,Nr,Cn,Tr);for(var an=(Lt.layout||{}).selections||[],gr=[],Pr=!1,Xr=0;Xr<an.length;Xr++){var _r=Kt.selections[Xr];_r.xref!==Nr||_r.yref!==Cn?gr.push(an[Xr]):Pr=!0}Pr&&(Lt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Lt,{selections:gr}))}});var dn=nt(Ve);Ve.moveFn=function(Nr,Cn){Ve._clearSubplotSelections&&(Ve._clearSubplotSelections(),Ve._clearSubplotSelections=void 0),It=Math.max(0,Math.min(hr,bt*Nr+or)),Ft=Math.max(0,Math.min(cr,Et*Cn+yt));var an=Math.abs(It-or),gr=Math.abs(Ft-yt);if(Ne){var Pr,Xr,_r;if(lt){var gn=Kt.selectdirection;switch(gn==="any"?gr<Math.min(an*.6,H)?Pr="h":an<Math.min(gr*.6,H)?Pr="v":Pr="d":Pr=gn,Pr){case"h":Xr=Yt?cr/2:0,_r=cr;break;case"v":Xr=Yt?hr/2:0,_r=hr;break}}if(at)switch(Kt.newshape.drawdirection){case"vertical":Pr="h",Xr=Yt?cr/2:0,_r=cr;break;case"horizontal":Pr="v",Xr=Yt?hr/2:0,_r=hr;break;case"ortho":an<gr?(Pr="h",Xr=yt,_r=Ft):(Pr="v",Xr=or,_r=It);break;default:Pr="d"}Pr==="h"?(Qe=Tt?i(Yt,[It,Xr],[It,_r]):[[or,Xr],[or,_r],[It,_r],[It,Xr]],Qe.xmin=Tt?It:Math.min(or,It),Qe.xmax=Tt?It:Math.max(or,It),Qe.ymin=Math.min(Xr,_r),Qe.ymax=Math.max(Xr,_r),Qt.attr("d","M"+Qe.xmin+","+(yt-H)+"h-4v"+2*H+"h4ZM"+(Qe.xmax-1)+","+(yt-H)+"h4v"+2*H+"h-4Z")):Pr==="v"?(Qe=Tt?i(Yt,[Xr,Ft],[_r,Ft]):[[Xr,yt],[Xr,Ft],[_r,Ft],[_r,yt]],Qe.xmin=Math.min(Xr,_r),Qe.xmax=Math.max(Xr,_r),Qe.ymin=Tt?Ft:Math.min(yt,Ft),Qe.ymax=Tt?Ft:Math.max(yt,Ft),Qt.attr("d","M"+(or-H)+","+Qe.ymin+"v-4h"+2*H+"v4ZM"+(or-H)+","+(Qe.ymax-1)+"v4h"+2*H+"v-4Z")):Pr==="d"&&(Qe=Tt?i(Yt,[or,yt],[It,Ft]):[[or,yt],[or,Ft],[It,Ft],[It,yt]],Qe.xmin=Math.min(or,It),Qe.xmax=Math.max(or,It),Qe.ymin=Math.min(yt,Ft),Qe.ymax=Math.max(yt,Ft),Qt.attr("d","M0,0Z"))}else be&&(fr.addPt([It,Ft]),Qe=fr.filtered);if(Ve.selectionDefs&&Ve.selectionDefs.length?(xr=Me(Ve.mergedPolygons,Qe,dr),Qe.subtract=dr,Lr=ee(Ve.selectionDefs.concat([Qe]))):(xr=[Qe],Lr=V(Qe)),c(Ce(xr,Ye),jt,Ve),lt){var rn=Pe(Lt,!1),An=rn.eventData?rn.eventData.points.slice():[];rn=Pe(Lt,!1,Lr,Tr,Ve),Lr=rn.selectionTesters,tr=rn.eventData;var Pn;fr?Pn=fr.filtered:Pn=dt(xr),s.throttle(yr,I.SELECTDELAY,function(){Dr=Oe(Lr,Tr);for(var Wn=Dr.slice(),ya=0;ya<An.length;ya++){for(var Ta=An[ya],sa=!1,aa=0;aa<Wn.length;aa++)if(Wn[aa].curveNumber===Ta.curveNumber&&Wn[aa].pointNumber===Ta.pointNumber){sa=!0;break}sa||Wn.push(Ta)}Wn.length&&(tr||(tr={}),tr.points=Wn),dn(tr,Pn),Fe(Lt,tr)})}},Ve.clickFn=function(Nr,Cn){if(Qt.remove(),Lt._fullLayout._activeShapeIndex>=0){Lt._fullLayout._deactivateShape(Lt);return}if(!at){var an=Kt.clickmode;s.done(yr).then(function(){if(s.clear(yr),Nr===2){for(jt.remove(),rt=0;rt<Tr.length;rt++)er=Tr[rt],er._module.selectPoints(er,!1);if(Ie(Lt,Tr),$(Ve),je(Lt),Tr.length){var gr=Tr[0].xaxis,Pr=Tr[0].yaxis;if(gr&&Pr){for(var Xr=[],_r=Lt._fullLayout.selections,gn=0;gn<_r.length;gn++){var rn=_r[gn];rn&&(rn.xref!==gr._id||rn.yref!==Pr._id)&&Xr.push(rn)}Xr.length<_r.length&&(Lt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Lt,{selections:Xr}))}}}else an.indexOf("select")>-1&&ae(Cn,Lt,Ve.xaxes,Ve.yaxes,Ve.subplot,Ve,jt),an==="event"&&We(Lt,void 0);v.click(Lt,Cn,$t.id)}).catch(m.error)}},Ve.doneFn=function(){Qt.remove(),s.done(yr).then(function(){s.clear(yr),!vr&&Qe&&Ve.selectionDefs&&(Qe.subtract=dr,Ve.selectionDefs.push(Qe),Ve.mergedPolygons.length=0,[].push.apply(Ve.mergedPolygons,xr)),(vr||at)&&$(Ve,vr),Ve.doneFnCompleted&&Ve.doneFnCompleted(Dr),lt&&We(Lt,tr)}).catch(m.error)}}function ae(Ke,ke,Ue,Ve,Re,de,be){var Ne=ke._hoverdata,Ye=ke._fullLayout,at=Ye.clickmode,lt=at.indexOf("event")>-1,Ht=[],Yt,Tt,Lt,Kt,vr,gt,Xt,$t,mr,or;if(he(Ne)){X(Ke,ke,de),Yt=se(ke,Ue,Ve,Re);var yt=me(Ne,Yt),ut=yt.pointNumbers.length>0;if(ut?Te(Yt,yt):Le(Yt)&&(Xt=we(yt))){for(be&&be.remove(),or=0;or<Yt.length;or++)Tt=Yt[or],Tt._module.selectPoints(Tt,!1);Ie(ke,Yt),$(de),lt&&je(ke)}else{$t=Ke.shiftKey&&(Xt!==void 0?Xt:we(yt)),Lt=fe(yt.pointNumber,yt.searchInfo,$t);var bt=de.selectionDefs.concat([Lt]);for(Kt=ee(bt),or=0;or<Yt.length;or++)if(vr=Yt[or]._module.selectPoints(Yt[or],Kt),gt=_e(vr,Yt[or]),Ht.length)for(var Et=0;Et<gt.length;Et++)Ht.push(gt[Et]);else Ht=gt;if(mr={points:Ht},Ie(ke,Yt,mr),Lt&&de&&de.selectionDefs.push(Lt),be){var It=de.mergedPolygons,Ft=u(de.dragmode);c(Ce(It,Ft),be,de)}lt&&We(ke,mr)}}}function fe(Ke,ke,Ue){return{pointNumber:Ke,searchInfo:ke,subtract:!!Ue}}function oe(Ke){return"pointNumber"in Ke&&"searchInfo"in Ke}function J(Ke){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ke,Ue,Ve,Re){var de=Ke.searchInfo.cd[0].trace._expandedIndex,be=Re.cd[0].trace._expandedIndex;return be===de&&Ve===Ke.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ke.subtract}}function ee(Ke){if(!Ke.length)return;for(var ke=[],Ue=oe(Ke[0])?0:Ke[0][0][0],Ve=Ue,Re=oe(Ke[0])?0:Ke[0][0][1],de=Re,be=0;be<Ke.length;be++)if(oe(Ke[be]))ke.push(J(Ke[be]));else{var Ne=V(Ke[be]);Ne.subtract=!!Ke[be].subtract,ke.push(Ne),Ue=Math.min(Ue,Ne.xmin),Ve=Math.max(Ve,Ne.xmax),Re=Math.min(Re,Ne.ymin),de=Math.max(de,Ne.ymax)}function Ye(at,lt,Ht,Yt){for(var Tt=!1,Lt=0;Lt<ke.length;Lt++)ke[Lt].contains(at,lt,Ht,Yt)&&(Tt=!ke[Lt].subtract);return Tt}return{xmin:Ue,xmax:Ve,ymin:Re,ymax:de,pts:[],contains:Ye,isRect:!1,degenerate:!1}}function X(Ke,ke,Ue){var Ve=ke._fullLayout,Re=Ue.plotinfo,de=Ue.dragmode,be=Ve._lastSelectedSubplot&&Ve._lastSelectedSubplot===Re.id,Ne=(Ke.shiftKey||Ke.altKey)&&!(a(de)&&u(de));be&&Ne&&Re.selection&&Re.selection.selectionDefs&&!Ue.selectionDefs?(Ue.selectionDefs=Re.selection.selectionDefs,Ue.mergedPolygons=Re.selection.mergedPolygons):(!Ne||!Re.selection)&&$(Ue),be||(T(ke),Ve._lastSelectedSubplot=Re.id)}function q(Ke){return Ke._fullLayout._activeShapeIndex>=0}function le(Ke){return Ke._fullLayout._activeSelectionIndex>=0}function $(Ke,ke){var Ue=Ke.dragmode,Ve=Ke.plotinfo,Re=Ke.gd;q(Re)&&Re._fullLayout._deactivateShape(Re),le(Re)&&Re._fullLayout._deactivateSelection(Re);var de=Re._fullLayout,be=de._zoomlayer,Ne=a(Ue),Ye=f(Ue);if(Ne||Ye){var at=be.selectAll(".select-outline-"+Ve.id);if(at&&Re._fullLayout._outlining){var lt;Ne&&(lt=b(at,Ke)),lt&&n.call("_guiRelayout",Re,{shapes:lt});var Ht;Ye&&!Q(Ke)&&(Ht=A(at,Ke)),Ht&&(Re._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Re,{selections:Ht}).then(function(){ke&&R(Re)})),Re._fullLayout._outlining=!1}}Ve.selection={},Ve.selection.selectionDefs=Ke.selectionDefs=[],Ve.selection.mergedPolygons=Ke.mergedPolygons=[]}function j(Ke){return Ke._id}function se(Ke,ke,Ue,Ve){if(!Ke.calcdata)return[];var Re=[],de=ke.map(j),be=Ue.map(j),Ne,Ye,at;for(at=0;at<Ke.calcdata.length;at++)if(Ne=Ke.calcdata[at],Ye=Ne[0].trace,!(Ye.visible!==!0||!Ye._module||!Ye._module.selectPoints))if(Q({subplot:Ve})&&(Ye.subplot===Ve||Ye.geo===Ve))Re.push(ne(Ye._module,Ne,ke[0],Ue[0]));else if(Ye.type==="splom"){if(Ye._xaxes[de[0]]&&Ye._yaxes[be[0]]){var lt=ne(Ye._module,Ne,ke[0],Ue[0]);lt.scene=Ke._fullLayout._splomScenes[Ye.uid],Re.push(lt)}}else if(Ye.type==="sankey"){var Ht=ne(Ye._module,Ne,ke[0],Ue[0]);Re.push(Ht)}else{if(de.indexOf(Ye.xaxis)===-1&&(!Ye._xA||!Ye._xA.overlaying)||be.indexOf(Ye.yaxis)===-1&&(!Ye._yA||!Ye._yA.overlaying))continue;Re.push(ne(Ye._module,Ne,S(Ke,Ye.xaxis),S(Ke,Ye.yaxis)))}return Re}function ne(Ke,ke,Ue,Ve){return{_module:Ke,cd:ke,xaxis:Ue,yaxis:Ve}}function he(Ke){return Ke&&Array.isArray(Ke)&&Ke[0].hoverOnBox!==!0}function me(Ke,ke){var Ue=Ke[0],Ve=-1,Re=[],de,be;for(be=0;be<ke.length;be++)if(de=ke[be],Ue.fullData._expandedIndex===de.cd[0].trace._expandedIndex){if(Ue.hoverOnBox===!0)break;Ue.pointNumber!==void 0?Ve=Ue.pointNumber:Ue.binNumber!==void 0&&(Ve=Ue.binNumber,Re=Ue.pointNumbers);break}return{pointNumber:Ve,pointNumbers:Re,searchInfo:de}}function we(Ke){var ke=Ke.searchInfo.cd[0].trace,Ue=Ke.pointNumber,Ve=Ke.pointNumbers,Re=Ve.length>0,de=Re?Ve[0]:Ue;return ke.selectedpoints?ke.selectedpoints.indexOf(de)>-1:!1}function Te(Ke,ke){var Ue=[],Ve,Re,de,be;for(be=0;be<Ke.length;be++)Ve=Ke[be],Ve.cd[0].trace.selectedpoints&&Ve.cd[0].trace.selectedpoints.length>0&&Ue.push(Ve);if(Ue.length===1&&(de=Ue[0]===ke.searchInfo,de&&(Re=ke.searchInfo.cd[0].trace,Re.selectedpoints.length===ke.pointNumbers.length))){for(be=0;be<ke.pointNumbers.length;be++)if(Re.selectedpoints.indexOf(ke.pointNumbers[be])<0)return!1;return!0}return!1}function Le(Ke){var ke=0,Ue,Ve,Re;for(Re=0;Re<Ke.length;Re++)if(Ue=Ke[Re],Ve=Ue.cd[0].trace,Ve.selectedpoints&&(Ve.selectedpoints.length>1||(ke+=Ve.selectedpoints.length,ke>1)))return!1;return ke===1}function Ie(Ke,ke,Ue){var Ve;for(Ve=0;Ve<ke.length;Ve++){var Re=ke[Ve].cd[0].trace._fullInput,de=Ke._fullLayout._tracePreGUI[Re.uid]||{};de.selectedpoints===void 0&&(de.selectedpoints=Re._input.selectedpoints||null)}var be;if(Ue){var Ne=Ue.points||[];for(Ve=0;Ve<ke.length;Ve++)be=ke[Ve].cd[0].trace,be._input.selectedpoints=be._fullInput.selectedpoints=[],be._fullInput!==be&&(be.selectedpoints=[]);for(var Ye=0;Ye<Ne.length;Ye++){var at=Ne[Ye],lt=at.data,Ht=at.fullData,Yt=at.pointIndex,Tt=at.pointIndices;Tt?([].push.apply(lt.selectedpoints,Tt),be._fullInput!==be&&[].push.apply(Ht.selectedpoints,Tt)):(lt.selectedpoints.push(Yt),be._fullInput!==be&&Ht.selectedpoints.push(Yt))}}else for(Ve=0;Ve<ke.length;Ve++)be=ke[Ve].cd[0].trace,delete be.selectedpoints,delete be._input.selectedpoints,be._fullInput!==be&&delete be._fullInput.selectedpoints;ze(Ke,ke)}function ze(Ke,ke){for(var Ue=!1,Ve=0;Ve<ke.length;Ve++){var Re=ke[Ve],de=Re.cd;n.traceIs(de[0].trace,"regl")&&(Ue=!0);var be=Re._module,Ne=be.styleOnSelect||be.style;Ne&&(Ne(Ke,de,de[0].node3),de[0].nodeRangePlot3&&Ne(Ke,de,de[0].nodeRangePlot3))}Ue&&(w(Ke),_(Ke))}function Me(Ke,ke,Ue){for(var Ve=Ue?d.difference:d.union,Re=Ve({regions:Ke},{regions:[ke]}),de=Re.regions.reverse(),be=0;be<de.length;be++){var Ne=de[be];Ne.subtract=ft(Ne,de.slice(0,be))}return de}function _e(Ke,ke){if(Array.isArray(Ke))for(var Ue=ke.cd,Ve=ke.cd[0].trace,Re=0;Re<Ke.length;Re++)Ke[Re]=p(Ke[Re],Ve,Ue);return Ke}function Ce(Ke,ke){for(var Ue=[],Ve=0;Ve<Ke.length;Ve++){Ue[Ve]=[];for(var Re=0;Re<Ke[Ve].length;Re++){Ue[Ve][Re]=[],Ue[Ve][Re][0]=Re?"L":"M";for(var de=0;de<Ke[Ve][Re].length;de++)Ue[Ve][Re].push(Ke[Ve][Re][de])}ke||Ue[Ve].push(["Z",Ue[Ve][0][1],Ue[Ve][0][2]])}return Ue}function Oe(Ke,ke){for(var Ue=[],Ve,Re,de=0;de<ke.length;de++){var be=ke[de];Re=be._module.selectPoints(be,Ke),Ve=_e(Re,be),Ue=Ue.concat(Ve)}return Ue}function Pe(Ke,ke,Ue,Ve,Re){var de=!!Ve,be,Ne,Ye;Re&&(be=Re.plotinfo,Ne=Re.xaxes[0]._id,Ye=Re.yaxes[0]._id);var at=[],lt=[],Ht=et(Ke),Yt=Ke._fullLayout;if(be){var Tt=Yt._zoomlayer,Lt=Yt.dragmode,Kt=a(Lt),vr=f(Lt);if(Kt||vr){var gt=S(Ke,Ne,"x"),Xt=S(Ke,Ye,"y");if(gt&&Xt){var $t=Tt.selectAll(".select-outline-"+be.id);if($t&&Ke._fullLayout._outlining&&$t.length){for(var mr=$t[0][0],or=mr.getAttribute("d"),yt=g(or,Ke,be),ut=[],bt=0;bt<yt.length;bt++){for(var Et=yt[bt],It=[],Ft=0;Ft<Et.length;Ft++)It.push([vt(gt,Et[Ft][1]),vt(Xt,Et[Ft][2])]);It.xref=Ne,It.yref=Ye,It.subtract=ft(It,ut),ut.push(It)}Ht=Ht.concat(ut)}}}}var Ot=Ne&&Ye?[Ne+Ye]:Yt._subplots.cartesian;Ge(Ke);for(var Nt={},Jt=0;Jt<Ot.length;Jt++){var hr=Ot[Jt],cr=hr.indexOf("y"),dr=hr.slice(0,cr),fr=hr.slice(cr),Lr=Ne&&Ye?Ue:void 0;if(Lr=Je(Ht,dr,fr,Lr),Lr){var xr=Ve;if(!de){var Qe=S(Ke,dr,"x"),rt=S(Ke,fr,"y");xr=se(Ke,[Qe],[rt],hr);for(var er=0;er<xr.length;er++){var tr=xr[er],jt=tr.cd[0],Pt=jt.trace;if(tr._module.name==="scattergl"&&!jt.t.xpx){var Zt=Pt.x,nr=Pt.y,Qt=Pt._length;jt.t.xpx=[],jt.t.ypx=[];for(var Wt=0;Wt<Qt;Wt++)jt.t.xpx[Wt]=Qe.c2p(Zt[Wt]),jt.t.ypx[Wt]=rt.c2p(nr[Wt])}tr._module.name==="splom"&&(Nt[Pt.uid]||(Nt[Pt.uid]=!0))}}var yr=Oe(Lr,xr);at=at.concat(yr),lt=lt.concat(xr)}}var Dr={points:at};Ie(Ke,lt,Dr);var Tr=Yt.clickmode,dn=Tr.indexOf("event")>-1&&ke;if(!be&&ke){var Nr=et(Ke,!0);if(Nr.length){var Cn=Nr[0].xref,an=Nr[0].yref;if(Cn&&an){var gr=dt(Nr),Pr=Mt([S(Ke,Cn,"x"),S(Ke,an,"y")]);Pr(Dr,gr)}}Ke._fullLayout._noEmitSelectedAtStart?Ke._fullLayout._noEmitSelectedAtStart=!1:dn&&We(Ke,Dr),Yt._reselect=!1}if(!be&&Yt._deselect){var Xr=Yt._deselect;Ne=Xr.xref,Ye=Xr.yref,Ze(Ne,Ye,lt)||it(Ke,Ne,Ye,Ve),dn&&(Dr.points.length?We(Ke,Dr):je(Ke)),Yt._deselect=!1}return{eventData:Dr,selectionTesters:Ue}}function Ge(Ke){var ke=Ke.calcdata;if(ke)for(var Ue=0;Ue<ke.length;Ue++){var Ve=ke[Ue][0],Re=Ve.trace,de=Ke._fullLayout._splomScenes;if(de){var be=de[Re.uid];be&&(be.selectBatch=[])}}}function Ze(Ke,ke,Ue){for(var Ve=0;Ve<Ue.length;Ve++){var Re=Ue[Ve];if(Re.xaxis&&Re.xaxis._id===Ke&&Re.yaxis&&Re.yaxis._id===ke)return!0}return!1}function it(Ke,ke,Ue,Ve){Ve=se(Ke,[S(Ke,ke,"x")],[S(Ke,Ue,"y")],ke+Ue);for(var Re=0;Re<Ve.length;Re++){var de=Ve[Re];de._module.selectPoints(de,!1)}Ie(Ke,Ve)}function Je(Ke,ke,Ue,Ve){for(var Re,de=0;de<Ke.length;de++){var be=Ke[de];if(!(ke!==be.xref||Ue!==be.yref))if(Re){var Ne=!!be.subtract;Re=Me(Re,be,Ne),Ve=ee(Re)}else Re=[be],Ve=V(be)}return Ve}function et(Ke,ke){for(var Ue=[],Ve=Ke._fullLayout,Re=Ve.selections,de=Re.length,be=0;be<de;be++)if(!(ke&&be!==Ve._activeSelectionIndex)){var Ne=Re[be];if(Ne){var Ye=Ne.xref,at=Ne.yref,lt=S(Ke,Ye,"x"),Ht=S(Ke,at,"y"),Yt,Tt,Lt,Kt,vr;if(Ne.type==="rect"){vr=[];var gt=vt(lt,Ne.x0),Xt=vt(lt,Ne.x1),$t=vt(Ht,Ne.y0),mr=vt(Ht,Ne.y1);vr=[[gt,$t],[gt,mr],[Xt,mr],[Xt,$t]],Yt=Math.min(gt,Xt),Tt=Math.max(gt,Xt),Lt=Math.min($t,mr),Kt=Math.max($t,mr),vr.xmin=Yt,vr.xmax=Tt,vr.ymin=Lt,vr.ymax=Kt,vr.xref=Ye,vr.yref=at,vr.subtract=!1,vr.isRect=!0,Ue.push(vr)}else if(Ne.type==="path")for(var or=Ne.path.split("Z"),yt=[],ut=0;ut<or.length;ut++){var bt=or[ut];if(bt){bt+="Z";var Et=l.extractPathCoords(bt,y.paramIsX,"raw"),It=l.extractPathCoords(bt,y.paramIsY,"raw");Yt=1/0,Tt=-1/0,Lt=1/0,Kt=-1/0,vr=[];for(var Ft=0;Ft<Et.length;Ft++){var Ot=vt(lt,Et[Ft]),Nt=vt(Ht,It[Ft]);vr.push([Ot,Nt]),Yt=Math.min(Ot,Yt),Tt=Math.max(Ot,Tt),Lt=Math.min(Nt,Lt),Kt=Math.max(Nt,Kt)}vr.xmin=Yt,vr.xmax=Tt,vr.ymin=Lt,vr.ymax=Kt,vr.xref=Ye,vr.yref=at,vr.subtract=ft(vr,yt),yt.push(vr),Ue.push(vr)}}}}return Ue}function ft(Ke,ke){for(var Ue=!1,Ve=0;Ve<ke.length;Ve++)for(var Re=ke[Ve],de=0;de<Ke.length;de++)if(P(Ke[de],Re)){Ue=!Ue;break}return Ue}function vt(Ke,ke){return Ke.type==="date"&&(ke=ke.replace("_"," ")),Ke.type==="log"?Ke.c2p(ke):Ke.r2p(ke,null,Ke.calendar)}function dt(Ke){for(var ke=Ke.length,Ue=[],Ve=0;Ve<ke;Ve++){var Re=Ke[Ve];Ue=Ue.concat(Re),Ue=Ue.concat([Re[0]])}return xt(Ue)}function xt(Ke){return Ke.isRect=Ke.length===5&&Ke[0][0]===Ke[4][0]&&Ke[0][1]===Ke[4][1]&&Ke[0][0]===Ke[1][0]&&Ke[2][0]===Ke[3][0]&&Ke[0][1]===Ke[3][1]&&Ke[1][1]===Ke[2][1]||Ke[0][1]===Ke[1][1]&&Ke[2][1]===Ke[3][1]&&Ke[0][0]===Ke[3][0]&&Ke[1][0]===Ke[2][0],Ke.isRect&&(Ke.xmin=Math.min(Ke[0][0],Ke[2][0]),Ke.xmax=Math.max(Ke[0][0],Ke[2][0]),Ke.ymin=Math.min(Ke[0][1],Ke[2][1]),Ke.ymax=Math.max(Ke[0][1],Ke[2][1])),Ke}function Mt(Ke){return function(ke,Ue){for(var Ve,Re,de=0;de<Ke.length;de++){var be=Ke[de],Ne=be._id,Ye=Ne.charAt(0);if(Ue.isRect){Ve||(Ve={});var at=Ue[Ye+"min"],lt=Ue[Ye+"max"];at!==void 0&&lt!==void 0&&(Ve[Ne]=[F(be,at),F(be,lt)].sort(L))}else Re||(Re={}),Re[Ne]=Ue.map(G(be))}Ve&&(ke.range=Ve),Re&&(ke.lassoPoints=Re)}}function nt(Ke){var ke=Ke.plotinfo;return ke.fillRangeItems||Mt(Ke.xaxes.concat(Ke.yaxes))}function Fe(Ke,ke){Ke.emit("plotly_selecting",ke)}function We(Ke,ke){ke&&(ke.selections=(Ke.layout||{}).selections||[]),Ke.emit("plotly_selected",ke)}function je(Ke){Ke.emit("plotly_deselect",null)}U.exports={reselect:Pe,prepSelect:te,clearOutline:T,clearSelectionsCache:$,selectOnClick:ae}},46056:function(U,N,e){var d=e(13916),P=e(25376),n=e(52904).line,C=e(98192).u,x=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);U.exports=v("shape",{visible:x({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:x({},p.legend,{editType:"calc+arraydraw"}),legendgroup:x({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:x({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:x({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:x({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:x({},d.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:x({},d.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:x({},n.color,{editType:"arraydraw"}),width:x({},n.width,{editType:"calc+arraydraw"}),dash:x({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(U,N,e){var d=e(3400),P=e(54460),n=e(85448),C=e(65152);U.exports=function(o){var a=o._fullLayout,u=d.filterVisible(a.shapes);if(!(!u.length||!o._fullData.length))for(var f=0;f<u.length;f++){var l=u[f];l._extremes={};var y,c,T=P.getRefType(l.xref),h=P.getRefType(l.yref);l.xref!=="paper"&&T!=="domain"&&(y=P.getFromId(o,l.xref),c=r(y,l,n.paramIsX),c&&(l._extremes[y._id]=P.findExtremes(y,c,x(l)))),l.yref!=="paper"&&h!=="domain"&&(y=P.getFromId(o,l.yref),c=r(y,l,n.paramIsY),c&&(l._extremes[y._id]=P.findExtremes(y,c,v(l))))}};function x(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,o,a,u,f,l){var y=t/2,c=l;if(o==="pixel"){var T=f?C.extractPathCoords(f,l?n.paramIsY:n.paramIsX):[a,u],h=d.aggNums(Math.max,null,T),i=d.aggNums(Math.min,null,T),g=i<0?Math.abs(i)+y:y,b=h>0?h+y:y;return{ppad:y,ppadplus:c?g:b,ppadminus:c?b:g}}else return{ppad:y}}function r(t,o,a){var u=t._id.charAt(0)==="x"?"x":"y",f=t.type==="category"||t.type==="multicategory",l,y,c=0,T=0,h=f?t.r2c:t.d2c,i=o[u+"sizemode"]==="scaled";if(i?(l=o[u+"0"],y=o[u+"1"],f&&(c=o[u+"0shift"],T=o[u+"1shift"])):(l=o[u+"anchor"],y=o[u+"anchor"]),l!==void 0)return[h(l)+c,h(y)+T];if(o.path){var g=1/0,b=-1/0,A=o.path.match(n.segmentRE),R,m,L,M,s;for(t.type==="date"&&(h=C.decodeDate(h)),R=0;R<A.length;R++)m=A[R],L=a[m.charAt(0)].drawn,L!==void 0&&(M=A[R].substr(1).match(n.paramRE),!(!M||M.length<L)&&(s=h(M[L]),s<g&&(g=s),s>b&&(b=s)));if(b>=g)return[g,b]}}},85448:function(U){U.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(U,N,e){var d=e(3400),P=e(54460),n=e(51272),C=e(46056),x=e(65152);U.exports=function(t,o){n(t,o,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,o){function a(oe,J){return d.coerce(r,t,C,oe,J)}t._isShape=!0;var u=a("visible");if(u){var f=a("showlegend");f&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),d.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var l=a("path"),y=l?"path":"rect",c=a("type",y),T=c!=="path";T&&delete t.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var h=a("line.width");h&&(a("line.color"),a("line.dash"));for(var i=a("xsizemode"),g=a("ysizemode"),b=["x","y"],A=0;A<2;A++){var R=b[A],m=R+"anchor",L=R==="x"?i:g,M={_fullLayout:o},s,S,w,_=P.coerceRef(r,t,M,R,void 0,"paper"),I=P.getRefType(_);if(I==="range"?(s=P.getFromId(M,_),s._shapeIndices.push(t._index),w=x.rangeToShapePosition(s),S=x.shapePositionToRange(s),(s.type==="category"||s.type==="multicategory")&&(a(R+"0shift"),a(R+"1shift"))):S=w=d.identity,T){var H=.25,O=.75,V=R+"0",B=R+"1",F=r[V],G=r[B];r[V]=S(r[V],!0),r[B]=S(r[B],!0),L==="pixel"?(a(V,0),a(B,10)):(P.coercePosition(t,M,a,_,V,H),P.coercePosition(t,M,a,_,B,O)),t[V]=w(t[V]),t[B]=w(t[B]),r[V]=F,r[B]=G}if(L==="pixel"){var Y=r[m];r[m]=S(r[m],!0),P.coercePosition(t,M,a,_,m,.25),t[m]=w(t[m]),r[m]=Y}}T&&d.noneOrAll(r,t,["x0","x1","y0","y1"]);var Q=c==="line",te,ae;if(T&&(te=a("label.texttemplate")),te||(ae=a("label.text")),ae||te){a("label.textangle");var fe=a("label.textposition",Q?"middle":"middle center");a("label.xanchor"),a("label.yanchor",v(Q,fe)),a("label.padding"),d.coerceFont(a,"label.font",o.font)}}}},60728:function(U,N,e){var d=e(3400),P=e(54460),n=e(72736),C=e(43616),x=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;U.exports=function(f,l,y,c){if(c.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var T;if(y.label.texttemplate){var h={};if(y.type!=="path"){var i=P.getFromId(f,y.xref),g=P.getFromId(f,y.yref);for(var b in r){var A=r[b](y,i,g);A!==void 0&&(h[b]=A)}}T=d.texttemplateStringForShapes(y.label.texttemplate,{},f._fullLayout._d3locale,h)}else T=y.label.text;var R={"data-index":l},m=y.label.font,L={"data-notex":1},M=c.append("g").attr(R).classed("shape-label",!0),s=M.append("text").attr(L).classed("shape-label-text",!0).text(T),S,w,_,I;if(y.path){var H=p(f,y),O=x(H,f);S=1/0,_=1/0,w=-1/0,I=-1/0;for(var V=0;V<O.length;V++)for(var B=0;B<O[V].length;B++)for(var F=O[V][B],G=1;G<F.length;G+=2){var Y=F[G],Q=F[G+1];S=Math.min(S,Y),w=Math.max(w,Y),_=Math.min(_,Q),I=Math.max(I,Q)}}else{var te=P.getFromId(f,y.xref),ae=y.x0shift,fe=y.x1shift,oe=P.getRefType(y.xref),J=P.getFromId(f,y.yref),ee=y.y0shift,X=y.y1shift,q=P.getRefType(y.yref),le=function(Te,Le){var Ie=v.getDataToPixel(f,te,Le,!1,oe);return Ie(Te)},$=function(Te,Le){var Ie=v.getDataToPixel(f,J,Le,!0,q);return Ie(Te)};S=le(y.x0,ae),w=le(y.x1,fe),_=$(y.y0,ee),I=$(y.y1,X)}var j=y.label.textangle;j==="auto"&&(y.type==="line"?j=o(S,_,w,I):j=0),s.call(function(Te){return Te.call(C.font,m).attr({}),n.convertToTspans(Te,f),Te});var se=C.bBox(s.node()),ne=a(S,_,w,I,y,j,se),he=ne.textx,me=ne.texty,we=ne.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[we],y:me,x:he,transform:"rotate("+j+","+he+","+me+")"}).call(n.positionText,he,me)}};function o(u,f,l,y){var c,T;return T=Math.abs(l-u),l>=u?c=f-y:c=y-f,-180/Math.PI*Math.atan2(c,T)}function a(u,f,l,y,c,T,h){var i=c.label.textposition,g=c.label.textangle,b=c.label.padding,A=c.type,R=Math.PI/180*T,m=Math.sin(R),L=Math.cos(R),M=c.label.xanchor,s=c.label.yanchor,S,w,_,I;if(A==="line"){i==="start"?(S=u,w=f):i==="end"?(S=l,w=y):(S=(u+l)/2,w=(f+y)/2),M==="auto"&&(i==="start"?g==="auto"?l>u?M="left":l<u?M="right":M="center":l>u?M="right":l<u?M="left":M="center":i==="end"?g==="auto"?l>u?M="right":l<u?M="left":M="center":l>u?M="left":l<u?M="right":M="center":M="center");var H={left:1,center:0,right:-1},O={bottom:-1,middle:0,top:1};if(g==="auto"){var V=O[s];_=-b*m*V,I=b*L*V}else{var B=H[M],F=O[s];_=b*B,I=b*F}S=S+_,w=w+I}else _=b+3,i.indexOf("right")!==-1?(S=Math.max(u,l)-_,M==="auto"&&(M="right")):i.indexOf("left")!==-1?(S=Math.min(u,l)+_,M==="auto"&&(M="left")):(S=(u+l)/2,M==="auto"&&(M="center")),i.indexOf("top")!==-1?w=Math.min(f,y):i.indexOf("bottom")!==-1?w=Math.max(f,y):w=(f+y)/2,I=b,s==="bottom"?w=w-I:s==="top"&&(w=w+I);var G=t[s],Y=c.label.font.size,Q=h.height,te=(Q*G-Y)*m,ae=-(Q*G-Y)*L;return{textx:S+te,texty:w+ae,xanchor:M}}},55496:function(U,N,e){var d=e(3400),P=d.strTranslate,n=e(86476),C=e(72760),x=C.drawMode,v=C.selectMode,p=e(24040),r=e(76308),t=e(7e3),o=t.i000,a=t.i090,u=t.i180,f=t.i270,l=e(1936),y=l.clearOutlineControllers,c=e(9856),T=c.pointsOnRectangle,h=c.pointsOnEllipse,i=c.writePaths,g=e(93940).newShapes,b=e(93940).createShapeObj,A=e(5968),R=e(60728);U.exports=function s(S,w,_,I){I||(I=0);var H=_.gd;function O(){s(S,w,_,I++),(h(S[0])||_.hasText)&&V({redrawing:!0})}function V(Me){var _e={};_.isActiveShape!==void 0&&(_.isActiveShape=!1,_e=g(w,_)),_.isActiveSelection!==void 0&&(_.isActiveSelection=!1,_e=A(w,_),H._fullLayout._reselect=!0),Object.keys(_e).length&&p.call((Me||{}).redrawing?"relayout":"_guiRelayout",H,_e)}var B=H._fullLayout,F=B._zoomlayer,G=_.dragmode,Y=x(G),Q=v(G);(Y||Q)&&(H._fullLayout._outlining=!0),y(H),w.attr("d",i(S));var te,ae,fe,oe,J;if(!I&&(_.isActiveShape||_.isActiveSelection)){J=m([],S);var ee=F.append("g").attr("class","outline-controllers");he(ee),ze()}if(Y&&_.hasText){var X=F.select(".label-temp"),q=b(w,_,_.dragmode);R(H,"label-temp",q,X)}function le(Me){fe=+Me.srcElement.getAttribute("data-i"),oe=+Me.srcElement.getAttribute("data-j"),te[fe][oe].moveFn=$}function $(Me,_e){if(S.length){var Ce=J[fe][oe][1],Oe=J[fe][oe][2],Pe=S[fe],Ge=Pe.length;if(T(Pe)){var Ze=Me,it=_e;if(_.isActiveSelection){var Je=L(Pe,oe);Je[1]===Pe[oe][1]?it=0:Ze=0}for(var et=0;et<Ge;et++)if(et!==oe){var ft=Pe[et];ft[1]===Pe[oe][1]&&(ft[1]=Ce+Ze),ft[2]===Pe[oe][2]&&(ft[2]=Oe+it)}if(Pe[oe][1]=Ce+Ze,Pe[oe][2]=Oe+it,!T(Pe))for(var vt=0;vt<Ge;vt++)for(var dt=0;dt<Pe[vt].length;dt++)Pe[vt][dt]=J[fe][vt][dt]}else Pe[oe][1]=Ce+Me,Pe[oe][2]=Oe+_e;O()}}function j(){V()}function se(){if(S.length&&S[fe]&&S[fe].length){for(var Me=[],_e=0;_e<S[fe].length;_e++)_e!==oe&&Me.push(S[fe][_e]);Me.length>1&&!(Me.length===2&&Me[1][0]==="Z")&&(oe===0&&(Me[0][0]="M"),S[fe]=Me,O(),V())}}function ne(Me,_e){if(Me===2){fe=+_e.srcElement.getAttribute("data-i"),oe=+_e.srcElement.getAttribute("data-j");var Ce=S[fe];!T(Ce)&&!h(Ce)&&se()}}function he(Me){te=[];for(var _e=0;_e<S.length;_e++){var Ce=S[_e],Oe=T(Ce),Pe=!Oe&&h(Ce);te[_e]=[];for(var Ge=Ce.length,Ze=0;Ze<Ge;Ze++)if(Ce[Ze][0]!=="Z"&&!(Pe&&Ze!==o&&Ze!==a&&Ze!==u&&Ze!==f)){var it=Oe&&_.isActiveSelection,Je;it&&(Je=L(Ce,Ze));var et=Ce[Ze][1],ft=Ce[Ze][2],vt=Me.append(it?"rect":"circle").attr("data-i",_e).attr("data-j",Ze).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(it){var dt=Je[1]-et,xt=Je[2]-ft,Mt=xt?5:Math.max(Math.min(25,Math.abs(dt)-5),5),nt=dt?5:Math.max(Math.min(25,Math.abs(xt)-5),5);vt.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",nt).attr("x",et-Mt/2).attr("y",ft-nt/2).attr("transform",P(dt/2,xt/2))}else vt.classed("cursor-grab",!0).attr("r",5).attr("cx",et).attr("cy",ft);te[_e][Ze]={element:vt.node(),gd:H,prepFn:le,doneFn:j,clickFn:ne},n.init(te[_e][Ze])}}}function me(Me,_e){if(S.length)for(var Ce=0;Ce<S.length;Ce++)for(var Oe=0;Oe<S[Ce].length;Oe++)for(var Pe=0;Pe+2<S[Ce][Oe].length;Pe+=2)S[Ce][Oe][Pe+1]=J[Ce][Oe][Pe+1]+Me,S[Ce][Oe][Pe+2]=J[Ce][Oe][Pe+2]+_e}function we(Me,_e){me(Me,_e),O()}function Te(Me){fe=+Me.srcElement.getAttribute("data-i"),fe||(fe=0),ae[fe].moveFn=we}function Le(){V()}function Ie(Me){Me===2&&M(H)}function ze(){if(ae=[],!!S.length){var Me=0;ae[Me]={element:w[0][0],gd:H,prepFn:Te,doneFn:Le,clickFn:Ie},n.init(ae[Me])}}};function m(s,S){for(var w=0;w<S.length;w++){var _=S[w];s[w]=[];for(var I=0;I<_.length;I++){s[w][I]=[];for(var H=0;H<_[I].length;H++)s[w][I][H]=_[I][H]}}return s}function L(s,S){var w=s[S][1],_=s[S][2],I=s.length,H,O,V;return H=(S+1)%I,O=s[H][1],V=s[H][2],O===w&&V===_&&(H=(S+2)%I,O=s[H][1],V=s[H][2]),[H,O,V]}function M(s){if(v(s._fullLayout.dragmode)){y(s);var S=s._fullLayout._activeSelectionIndex,w=(s.layout||{}).selections||[];if(S<w.length){for(var _=[],I=0;I<w.length;I++)I!==S&&_.push(w[I]);delete s._fullLayout._activeSelectionIndex;var H=s._fullLayout.selections[S];s._fullLayout._deselect={xref:H.xref,yref:H.yref},p.call("_guiRelayout",s,{selections:_})}}}},4016:function(U,N,e){var d=e(33428),P=e(24040),n=e(3400),C=e(54460),x=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),o=e(43616),a=e(31780).arrayEditor,u=e(86476),f=e(93972),l=e(85448),y=e(65152),c=y.getPathString;U.exports={draw:T,drawOne:g,eraseActiveShape:M,drawLabel:p};function T(s){var S=s._fullLayout;S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove();for(var w in S._plots){var _=S._plots[w].shapelayer;_&&(_.selectAll("path").remove(),_.selectAll("text").remove())}for(var I=0;I<S.shapes.length;I++)S.shapes[I].visible===!0&&g(s,I)}function h(s){return!!s._fullLayout._outlining}function i(s){return!s._context.edits.shapePosition}function g(s,S){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var w=y.makeShapesOptionsAndPlotinfo(s,S),_=w.options,I=w.plotinfo;if(!_._input||_.visible!==!0)return;if(_.layer==="above")O(s._fullLayout._shapeUpperLayer);else if(_.xref==="paper"||_.yref==="paper")O(s._fullLayout._shapeLowerLayer);else if(_.layer==="between")O(I.shapelayerBetween);else if(I._hadPlotinfo){var H=I.mainplotinfo||I;O(H.shapelayer)}else O(s._fullLayout._shapeLowerLayer);function O(V){var B=c(s,_),F={"data-index":S,"fill-rule":_.fillrule,d:B},G=_.opacity,Y=_.fillcolor,Q=_.line.width?_.line.color:"rgba(0,0,0,0)",te=_.line.width,ae=_.line.dash;!te&&_.editable===!0&&(te=5,ae="solid");var fe=B[B.length-1]!=="Z",oe=i(s)&&_.editable&&s._fullLayout._activeShapeIndex===S;oe&&(Y=fe?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,G=s._fullLayout.activeshape.opacity);var J=V.append("g").classed("shape-group",!0).attr({"data-index":S}),ee=J.append("path").attr(F).style("opacity",G).call(t.stroke,Q).call(t.fill,Y).call(o.dashLine,ae,te);b(J,s,_),p(s,S,_,J);var X;if((oe||s._context.edits.shapePosition)&&(X=a(s.layout,"shapes",_)),oe){ee.style({cursor:"move"});var q={element:ee.node(),plotinfo:I,gd:s,editHelpers:X,hasText:_.label.text||_.label.texttemplate,isActiveShape:!0},le=x(B,s);v(le,ee,q)}else s._context.edits.shapePosition?A(s,ee,_,S,V,X):_.editable===!0&&ee.style("pointer-events",fe||t.opacity(Y)*G<=.5?"stroke":"all");ee.node().addEventListener("click",function(){return m(s,ee)})}}function b(s,S,w){var _=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");o.setClipUrl(s,_?"clip"+S._fullLayout._uid+_:null,S)}function A(s,S,w,_,I,H){var O=10,V=10,B=w.xsizemode==="pixel",F=w.ysizemode==="pixel",G=w.type==="line",Y=w.type==="path",Q=H.modifyItem,te,ae,fe,oe,J,ee,X,q,le,$,j,se,ne,he,me,we=d.select(S.node().parentNode),Te=C.getFromId(s,w.xref),Le=C.getRefType(w.xref),Ie=C.getFromId(s,w.yref),ze=C.getRefType(w.yref),Me=w.x0shift,_e=w.x1shift,Ce=w.y0shift,Oe=w.y1shift,Pe=function(Ve,Re){var de=y.getDataToPixel(s,Te,Re,!1,Le);return de(Ve)},Ge=function(Ve,Re){var de=y.getDataToPixel(s,Ie,Re,!0,ze);return de(Ve)},Ze=y.getPixelToData(s,Te,!1,Le),it=y.getPixelToData(s,Ie,!0,ze),Je=vt(),et={element:Je.node(),gd:s,prepFn:Mt,doneFn:nt,clickFn:Fe},ft;u.init(et),Je.node().onmousemove=xt;function vt(){return G?dt():S}function dt(){var Ve=10,Re=Math.max(w.line.width,Ve),de=I.append("g").attr("data-index",_).attr("drag-helper",!0);de.append("path").attr("d",S.attr("d")).style({cursor:"move","stroke-width":Re,"stroke-opacity":"0"});var be={"fill-opacity":"0"},Ne=Math.max(Re/2,Ve);return de.append("circle").attr({"data-line-point":"start-point",cx:B?Pe(w.xanchor)+w.x0:Pe(w.x0,Me),cy:F?Ge(w.yanchor)-w.y0:Ge(w.y0,Ce),r:Ne}).style(be).classed("cursor-grab",!0),de.append("circle").attr({"data-line-point":"end-point",cx:B?Pe(w.xanchor)+w.x1:Pe(w.x1,_e),cy:F?Ge(w.yanchor)-w.y1:Ge(w.y1,Oe),r:Ne}).style(be).classed("cursor-grab",!0),de}function xt(Ve){if(h(s)){ft=null;return}if(G)Ve.target.tagName==="path"?ft="move":ft=Ve.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Re=et.element.getBoundingClientRect(),de=Re.right-Re.left,be=Re.bottom-Re.top,Ne=Ve.clientX-Re.left,Ye=Ve.clientY-Re.top,at=!Y&&de>O&&be>V&&!Ve.shiftKey?u.getCursor(Ne/de,1-Ye/be):"move";f(S,at),ft=at.split("-")[0]}}function Mt(Ve){h(s)||(B&&(J=Pe(w.xanchor)),F&&(ee=Ge(w.yanchor)),w.type==="path"?me=w.path:(te=B?w.x0:Pe(w.x0),ae=F?w.y0:Ge(w.y0),fe=B?w.x1:Pe(w.x1),oe=F?w.y1:Ge(w.y1)),te<fe?(le=te,ne="x0",$=fe,he="x1"):(le=fe,ne="x1",$=te,he="x0"),!F&&ae<oe||F&&ae>oe?(X=ae,j="y0",q=oe,se="y1"):(X=oe,j="y1",q=ae,se="y0"),xt(Ve),Ke(I,w),Ue(S,w,s),et.moveFn=ft==="move"?We:je,et.altKey=Ve.altKey)}function nt(){h(s)||(f(S),ke(I),b(S,s,w),P.call("_guiRelayout",s,H.getUpdateObj()))}function Fe(){h(s)||ke(I)}function We(Ve,Re){if(w.type==="path"){var de=function(Ye){return Ye},be=de,Ne=de;B?Q("xanchor",w.xanchor=Ze(J+Ve)):(be=function(at){return Ze(Pe(at)+Ve)},Te&&Te.type==="date"&&(be=y.encodeDate(be))),F?Q("yanchor",w.yanchor=it(ee+Re)):(Ne=function(at){return it(Ge(at)+Re)},Ie&&Ie.type==="date"&&(Ne=y.encodeDate(Ne))),Q("path",w.path=R(me,be,Ne))}else B?Q("xanchor",w.xanchor=Ze(J+Ve)):(Q("x0",w.x0=Ze(te+Ve)),Q("x1",w.x1=Ze(fe+Ve))),F?Q("yanchor",w.yanchor=it(ee+Re)):(Q("y0",w.y0=it(ae+Re)),Q("y1",w.y1=it(oe+Re)));S.attr("d",c(s,w)),Ke(I,w),p(s,_,w,we)}function je(Ve,Re){if(Y){var de=function(or){return or},be=de,Ne=de;B?Q("xanchor",w.xanchor=Ze(J+Ve)):(be=function(yt){return Ze(Pe(yt)+Ve)},Te&&Te.type==="date"&&(be=y.encodeDate(be))),F?Q("yanchor",w.yanchor=it(ee+Re)):(Ne=function(yt){return it(Ge(yt)+Re)},Ie&&Ie.type==="date"&&(Ne=y.encodeDate(Ne))),Q("path",w.path=R(me,be,Ne))}else if(G){if(ft==="resize-over-start-point"){var Ye=te+Ve,at=F?ae-Re:ae+Re;Q("x0",w.x0=B?Ye:Ze(Ye)),Q("y0",w.y0=F?at:it(at))}else if(ft==="resize-over-end-point"){var lt=fe+Ve,Ht=F?oe-Re:oe+Re;Q("x1",w.x1=B?lt:Ze(lt)),Q("y1",w.y1=F?Ht:it(Ht))}}else{var Yt=function(or){return ft.indexOf(or)!==-1},Tt=Yt("n"),Lt=Yt("s"),Kt=Yt("w"),vr=Yt("e"),gt=Tt?X+Re:X,Xt=Lt?q+Re:q,$t=Kt?le+Ve:le,mr=vr?$+Ve:$;F&&(Tt&&(gt=X-Re),Lt&&(Xt=q-Re)),(!F&&Xt-gt>V||F&&gt-Xt>V)&&(Q(j,w[j]=F?gt:it(gt)),Q(se,w[se]=F?Xt:it(Xt))),mr-$t>O&&(Q(ne,w[ne]=B?$t:Ze($t)),Q(he,w[he]=B?mr:Ze(mr)))}S.attr("d",c(s,w)),Ke(I,w),p(s,_,w,we)}function Ke(Ve,Re){(B||F)&&de();function de(){var be=Re.type!=="path",Ne=Ve.selectAll(".visual-cue").data([0]),Ye=1;Ne.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ye}).classed("visual-cue",!0);var at=Pe(B?Re.xanchor:n.midRange(be?[Re.x0,Re.x1]:y.extractPathCoords(Re.path,l.paramIsX))),lt=Ge(F?Re.yanchor:n.midRange(be?[Re.y0,Re.y1]:y.extractPathCoords(Re.path,l.paramIsY)));if(at=y.roundPositionForSharpStrokeRendering(at,Ye),lt=y.roundPositionForSharpStrokeRendering(lt,Ye),B&&F){var Ht="M"+(at-1-Ye)+","+(lt-1-Ye)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ne.attr("d",Ht)}else if(B){var Yt="M"+(at-1-Ye)+","+(lt-9-Ye)+"v18 h2 v-18 Z";Ne.attr("d",Yt)}else{var Tt="M"+(at-9-Ye)+","+(lt-1-Ye)+"h18 v2 h-18 Z";Ne.attr("d",Tt)}}}function ke(Ve){Ve.selectAll(".visual-cue").remove()}function Ue(Ve,Re,de){var be=Re.xref,Ne=Re.yref,Ye=C.getFromId(de,be),at=C.getFromId(de,Ne),lt="";be!=="paper"&&!Ye.autorange&&(lt+=be),Ne!=="paper"&&!at.autorange&&(lt+=Ne),o.setClipUrl(Ve,lt?"clip"+de._fullLayout._uid+lt:null,de)}}function R(s,S,w){return s.replace(l.segmentRE,function(_){var I=0,H=_.charAt(0),O=l.paramIsX[H],V=l.paramIsY[H],B=l.numParams[H],F=_.substr(1).replace(l.paramRE,function(G){return I>=B||(O[I]?G=S(G):V[I]&&(G=w(G)),I++),G});return H+F})}function m(s,S){if(i(s)){var w=S.node(),_=+w.getAttribute("data-index");if(_>=0){if(_===s._fullLayout._activeShapeIndex){L(s);return}s._fullLayout._activeShapeIndex=_,s._fullLayout._deactivateShape=L,T(s)}}}function L(s){if(i(s)){var S=s._fullLayout._activeShapeIndex;S>=0&&(r(s),delete s._fullLayout._activeShapeIndex,T(s))}}function M(s){if(i(s)){r(s);var S=s._fullLayout._activeShapeIndex,w=(s.layout||{}).shapes||[];if(S<w.length){for(var _=[],I=0;I<w.length;I++)I!==S&&_.push(w[I]);return delete s._fullLayout._activeShapeIndex,P.call("_guiRelayout",s,{shapes:_})}}}},92872:function(U,N,e){var d=e(67824).overrideAll,P=e(45464),n=e(25376),C=e(98192).u,x=e(92880).extendFlat,v=e(21776).ye,p=e(97728);U.exports=d({newshape:{visible:x({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:x({},P.legend,{}),legendgroup:x({},P.legendgroup,{}),legendgrouptitle:{text:x({},P.legendgrouptitle.text,{}),font:n({})},legendrank:x({},P.legendrank,{}),legendwidth:x({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:x({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:x({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(U){var N=32;U.exports={CIRCLE_SIDES:N,i000:0,i090:N/4,i180:N/2,i270:N/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(U,N,e){var d=e(76308),P=e(3400);function n(C,x){return C?"bottom":x.indexOf("top")!==-1?"top":x.indexOf("bottom")!==-1?"bottom":"middle"}U.exports=function(x,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(x||{}).plot_bgcolor||"#FFF";p("newshape.line.color",d.contrast(t)),p("newshape.line.dash")}var o=x.dragmode==="drawline",a=p("newshape.label.text"),u=p("newshape.label.texttemplate");if(a||u){p("newshape.label.textangle");var f=p("newshape.label.textposition",o?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",n(o,f)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(U,N,e){var d=e(21984),P=e(7e3),n=P.CIRCLE_SIDES,C=P.SQRT2,x=e(5840),v=x.p2r,p=x.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];N.writePaths=function(u){var f=u.length;if(!f)return"M0,0Z";for(var l="",y=0;y<f;y++)for(var c=u[y].length,T=0;T<c;T++){var h=u[y][T][0];if(h==="Z")l+="Z";else for(var i=u[y][T].length,g=0;g<i;g++){var b=g;h==="Q"||h==="S"?b=t[g]:h==="C"&&(b=r[g]),l+=u[y][T][b],g>0&&g<i-1&&(l+=",")}}return l},N.readPaths=function(u,f,l,y){var c=d(u),T=[],h=-1,i=function(){h++,T[h]=[]},g,b=0,A=0,R,m,L=function(){R=b,m=A};L();for(var M=0;M<c.length;M++){var s=[],S,w,_,I,H=c[M][0],O=H;switch(H){case"M":i(),b=+c[M][1],A=+c[M][2],s.push([O,b,A]),L();break;case"Q":case"S":S=+c[M][1],_=+c[M][2],b=+c[M][3],A=+c[M][4],s.push([O,b,A,S,_]);break;case"C":S=+c[M][1],_=+c[M][2],w=+c[M][3],I=+c[M][4],b=+c[M][5],A=+c[M][6],s.push([O,b,A,S,_,w,I]);break;case"T":case"L":b=+c[M][1],A=+c[M][2],s.push([O,b,A]);break;case"H":O="L",b=+c[M][1],s.push([O,b,A]);break;case"V":O="L",A=+c[M][1],s.push([O,b,A]);break;case"A":O="L";var V=+c[M][1],B=+c[M][2];+c[M][4]||(V=-V,B=-B);var F=b-V,G=A;for(g=1;g<=n/2;g++){var Y=2*Math.PI*g/n;s.push([O,F+V*Math.cos(Y),G+B*Math.sin(Y)])}break;case"Z":(b!==R||A!==m)&&(b=R,A=m,s.push([O,b,A]));break}for(var Q=(l||{}).domain,te=f._fullLayout._size,ae=l&&l.xsizemode==="pixel",fe=l&&l.ysizemode==="pixel",oe=y===!1,J=0;J<s.length;J++){for(g=0;g+2<7;g+=2){var ee=s[J][g+1],X=s[J][g+2];ee===void 0||X===void 0||(b=ee,A=X,l&&(l.xaxis&&l.xaxis.p2r?(oe&&(ee-=l.xaxis._offset),ae?ee=p(l.xaxis,l.xanchor)+ee:ee=v(l.xaxis,ee)):(oe&&(ee-=te.l),Q?ee=Q.x[0]+ee/te.w:ee=ee/te.w),l.yaxis&&l.yaxis.p2r?(oe&&(X-=l.yaxis._offset),fe?X=p(l.yaxis,l.yanchor)-X:X=v(l.yaxis,X)):(oe&&(X-=te.t),Q?X=Q.y[1]-X/te.h:X=1-X/te.h)),s[J][g+1]=ee,s[J][g+2]=X)}T[h].push(s[J].slice())}}return T};function o(u,f){return Math.abs(u-f)<=1e-6}function a(u,f){var l=f[1]-u[1],y=f[2]-u[2];return Math.sqrt(l*l+y*y)}N.pointsOnRectangle=function(u){var f=u.length;if(f!==5)return!1;for(var l=1;l<3;l++){var y=u[0][l]-u[1][l],c=u[3][l]-u[2][l];if(!o(y,c))return!1;var T=u[0][l]-u[3][l],h=u[1][l]-u[2][l];if(!o(T,h))return!1}return!o(u[0][1],u[1][1])&&!o(u[0][1],u[3][1])?!1:!!(a(u[0],u[1])*a(u[0],u[3]))},N.pointsOnEllipse=function(u){var f=u.length;if(f!==n+1)return!1;f=n;for(var l=0;l<f;l++){var y=(f*2-l)%f,c=(f/2+y)%f,T=(f/2+l)%f;if(!o(a(u[l],u[T]),a(u[y],u[c])))return!1}return!0},N.handleEllipse=function(u,f,l){if(!u)return[f,l];var y=N.ellipseOver({x0:f[0],y0:f[1],x1:l[0],y1:l[1]}),c=(y.x1+y.x0)/2,T=(y.y1+y.y0)/2,h=(y.x1-y.x0)/2,i=(y.y1-y.y0)/2;h||(h=i=i/C),i||(i=h=h/C);for(var g=[],b=0;b<n;b++){var A=b*2*Math.PI/n;g.push([c+h*Math.cos(A),T+i*Math.sin(A)])}return g},N.ellipseOver=function(u){var f=u.x0,l=u.y0,y=u.x1,c=u.y1,T=y-f,h=c-l;f-=T,l-=h;var i=(f+y)/2,g=(l+c)/2,b=C;return T*=b,h*=b,{x0:i-T,y0:g-h,x1:i+T,y1:g+h}},N.fixDatesForPaths=function(u,f,l){var y=f.type==="date",c=l.type==="date";if(!y&&!c)return u;for(var T=0;T<u.length;T++)for(var h=0;h<u[T].length;h++)for(var i=0;i+2<u[T][h].length;i+=2)y&&(u[T][h][i+1]=u[T][h][i+1].replace(" ","_")),c&&(u[T][h][i+2]=u[T][h][i+2].replace(" ","_"));return u}},93940:function(U,N,e){var d=e(72760),P=d.drawMode,n=d.openMode,C=e(7e3),x=C.i000,v=C.i090,p=C.i180,r=C.i270,t=C.cos45,o=C.sin45,a=e(5840),u=a.p2r,f=a.r2p,l=e(1936),y=l.clearOutline,c=e(9856),T=c.readPaths,h=c.writePaths,i=c.ellipseOver,g=c.fixDatesForPaths;function b(R,m){if(R.length){var L=R[0][0];if(L){var M=m.gd,s=m.isActiveShape,S=m.dragmode,w=(M.layout||{}).shapes||[];if(!P(S)&&s!==void 0){var _=M._fullLayout._activeShapeIndex;if(_<w.length)switch(M._fullLayout.shapes[_].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var I=w[_].path||"";I[I.length-1]==="Z"?S="drawclosedpath":S="drawopenpath";break}}var H=A(R,m,S);y(M);for(var O=m.editHelpers,V=(O||{}).modifyItem,B=[],F=0;F<w.length;F++){var G=M._fullLayout.shapes[F];if(B[F]=G._input,s!==void 0&&F===M._fullLayout._activeShapeIndex){var Y=H;switch(G.type){case"line":case"rect":case"circle":V("x0",Y.x0-(G.x0shift||0)),V("x1",Y.x1-(G.x1shift||0)),V("y0",Y.y0-(G.y0shift||0)),V("y1",Y.y1-(G.y1shift||0));break;case"path":V("path",Y.path);break}}}return s===void 0?(B.push(H),B):O?O.getUpdateObj():{}}}}function A(R,m,L){var M=R[0][0],s=m.gd,S=M.getAttribute("d"),w=s._fullLayout.newshape,_=m.plotinfo,I=m.isActiveShape,H=_.xaxis,O=_.yaxis,V=!!_.domain||!_.xaxis,B=!!_.domain||!_.yaxis,F=n(L),G=T(S,s,_,I),Y={editable:!0,visible:w.visible,name:w.name,showlegend:w.showlegend,legend:w.legend,legendwidth:w.legendwidth,legendgroup:w.legendgroup,legendgrouptitle:{text:w.legendgrouptitle.text,font:w.legendgrouptitle.font},legendrank:w.legendrank,label:w.label,xref:V?"paper":H._id,yref:B?"paper":O._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};F||(Y.fillcolor=w.fillcolor,Y.fillrule=w.fillrule);var Q;if(G.length===1&&(Q=G[0]),Q&&Q.length===5&&L==="drawrect")Y.type="rect",Y.x0=Q[0][1],Y.y0=Q[0][2],Y.x1=Q[2][1],Y.y1=Q[2][2];else if(Q&&L==="drawline")Y.type="line",Y.x0=Q[0][1],Y.y0=Q[0][2],Y.x1=Q[1][1],Y.y1=Q[1][2];else if(Q&&L==="drawcircle"){Y.type="circle";var te=Q[x][1],ae=Q[v][1],fe=Q[p][1],oe=Q[r][1],J=Q[x][2],ee=Q[v][2],X=Q[p][2],q=Q[r][2],le=_.xaxis&&(_.xaxis.type==="date"||_.xaxis.type==="log"),$=_.yaxis&&(_.yaxis.type==="date"||_.yaxis.type==="log");le&&(te=f(_.xaxis,te),ae=f(_.xaxis,ae),fe=f(_.xaxis,fe),oe=f(_.xaxis,oe)),$&&(J=f(_.yaxis,J),ee=f(_.yaxis,ee),X=f(_.yaxis,X),q=f(_.yaxis,q));var j=(ae+oe)/2,se=(J+X)/2,ne=(oe-ae+fe-te)/2,he=(q-ee+X-J)/2,me=i({x0:j,y0:se,x1:j+ne*t,y1:se+he*o});le&&(me.x0=u(_.xaxis,me.x0),me.x1=u(_.xaxis,me.x1)),$&&(me.y0=u(_.yaxis,me.y0),me.y1=u(_.yaxis,me.y1)),Y.x0=me.x0,Y.y0=me.y0,Y.x1=me.x1,Y.y1=me.y1}else Y.type="path",H&&O&&g(G,H,O),Y.path=h(G),Q=null;return Y}U.exports={newShapes:b,createShapeObj:A}},1936:function(U){function N(d){var P=d._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(d){var P=d._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),d._fullLayout._outlining=!1}U.exports={clearOutlineControllers:N,clearOutline:e}},65152:function(U,N,e){var d=e(85448),P=e(3400),n=e(54460);N.rangeToShapePosition=function(v){return v.type==="log"?v.r2d:function(p){return p}},N.shapePositionToRange=function(v){return v.type==="log"?v.d2r:function(p){return p}},N.decodeDate=function(v){return function(p){return p.replace&&(p=p.replace("_"," ")),v(p)}},N.encodeDate=function(v){return function(p){return v(p).replace(" ","_")}},N.extractPathCoords=function(v,p,r){var t=[],o=v.match(d.segmentRE);return o.forEach(function(a){var u=p[a.charAt(0)].drawn;if(u!==void 0){var f=a.substr(1).match(d.paramRE);if(!(!f||f.length<u)){var l=f[u],y=r?l:P.cleanNumber(l);t.push(y)}}}),t},N.getDataToPixel=function(v,p,r,t,o){var a=v._fullLayout._size,u;if(p)if(o==="domain")u=function(l){return p._length*(t?1-l:l)+p._offset};else{var f=N.shapePositionToRange(p);u=function(l){var y=x(p,r);return p._offset+p.r2p(f(l,!0))+y},p.type==="date"&&(u=N.decodeDate(u))}else t?u=function(l){return a.t+a.h*(1-l)}:u=function(l){return a.l+a.w*l};return u},N.getPixelToData=function(v,p,r,t){var o=v._fullLayout._size,a;if(p)if(t==="domain")a=function(f){var l=(f-p._offset)/p._length;return r?1-l:l};else{var u=N.rangeToShapePosition(p);a=function(f){return u(p.p2r(f-p._offset))}}else r?a=function(f){return 1-(f-o.t)/o.h}:a=function(f){return(f-o.l)/o.w};return a},N.roundPositionForSharpStrokeRendering=function(v,p){var r=Math.round(p%2)===1,t=Math.round(v);return r?t+.5:t},N.makeShapesOptionsAndPlotinfo=function(v,p){var r=v._fullLayout.shapes[p]||{},t=v._fullLayout._plots[r.xref+r.yref],o=!!t;return o?t._hadPlotinfo=!0:(t={},r.xref&&r.xref!=="paper"&&(t.xaxis=v._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(t.yaxis=v._fullLayout[r.yref+"axis"])),t.xsizemode=r.xsizemode,t.ysizemode=r.ysizemode,t.xanchor=r.xanchor,t.yanchor=r.yanchor,{options:r,plotinfo:t}},N.makeSelectionsOptionsAndPlotinfo=function(v,p){var r=v._fullLayout.selections[p]||{},t=v._fullLayout._plots[r.xref+r.yref],o=!!t;return o?t._hadPlotinfo=!0:(t={},r.xref&&(t.xaxis=v._fullLayout[r.xref+"axis"]),r.yref&&(t.yaxis=v._fullLayout[r.yref+"axis"])),{options:r,plotinfo:t}},N.getPathString=function(v,p){var r=p.type,t=n.getRefType(p.xref),o=n.getRefType(p.yref),a=n.getFromId(v,p.xref),u=n.getFromId(v,p.yref),f=v._fullLayout._size,l,y,c,T,h=x(a,p.x0shift),i=x(a,p.x1shift),g=x(u,p.y0shift),b=x(u,p.y1shift),A,R,m,L;if(a?t==="domain"?y=function(B){return a._offset+a._length*B}:(l=N.shapePositionToRange(a),y=function(B){return a._offset+a.r2p(l(B,!0))}):y=function(B){return f.l+f.w*B},u?o==="domain"?T=function(B){return u._offset+u._length*(1-B)}:(c=N.shapePositionToRange(u),T=function(B){return u._offset+u.r2p(c(B,!0))}):T=function(B){return f.t+f.h*(1-B)},r==="path")return a&&a.type==="date"&&(y=N.decodeDate(y)),u&&u.type==="date"&&(T=N.decodeDate(T)),C(p,y,T);if(p.xsizemode==="pixel"){var M=y(p.xanchor);A=M+p.x0+h,R=M+p.x1+i}else A=y(p.x0)+h,R=y(p.x1)+i;if(p.ysizemode==="pixel"){var s=T(p.yanchor);m=s-p.y0+g,L=s-p.y1+b}else m=T(p.y0)+g,L=T(p.y1)+b;if(r==="line")return"M"+A+","+m+"L"+R+","+L;if(r==="rect")return"M"+A+","+m+"H"+R+"V"+L+"H"+A+"Z";var S=(A+R)/2,w=(m+L)/2,_=Math.abs(S-A),I=Math.abs(w-m),H="A"+_+","+I,O=S+_+","+w,V=S+","+(w-I);return"M"+O+H+" 0 1,1 "+V+H+" 0 0,1 "+O+"Z"};function C(v,p,r){var t=v.path,o=v.xsizemode,a=v.ysizemode,u=v.xanchor,f=v.yanchor;return t.replace(d.segmentRE,function(l){var y=0,c=l.charAt(0),T=d.paramIsX[c],h=d.paramIsY[c],i=d.numParams[c],g=l.substr(1).replace(d.paramRE,function(b){return T[y]?o==="pixel"?b=p(u)+Number(b):b=p(b):h[y]&&(a==="pixel"?b=r(f)-Number(b):b=r(b)),y++,y>i&&(b="X"),b});return y>i&&(g=g.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+l)),c+g})}function x(v,p){p=p||0;var r=0;return p&&v&&(v.type==="category"||v.type==="multicategory")&&(r=(v.r2p(1)-v.r2p(0))*p),r}},41592:function(U,N,e){var d=e(4016);U.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:d.draw,drawOne:d.drawOne}},97728:function(U){function N(T,h){return h?h.d2l(T):T}function e(T,h){return h?h.l2d(T):T}function d(T){return T.x0}function P(T){return T.x1}function n(T){return T.y0}function C(T){return T.y1}function x(T){return T.x0shift||0}function v(T){return T.x1shift||0}function p(T){return T.y0shift||0}function r(T){return T.y1shift||0}function t(T,h){return N(T.x1,h)+v(T)-N(T.x0,h)-x(T)}function o(T,h,i){return N(T.y1,i)+r(T)-N(T.y0,i)-p(T)}function a(T,h){return Math.abs(t(T,h))}function u(T,h,i){return Math.abs(o(T,h,i))}function f(T,h,i){return T.type!=="line"?void 0:Math.sqrt(Math.pow(t(T,h),2)+Math.pow(o(T,h,i),2))}function l(T,h){return e((N(T.x1,h)+v(T)+N(T.x0,h)+x(T))/2,h)}function y(T,h,i){return e((N(T.y1,i)+r(T)+N(T.y0,i)+p(T))/2,i)}function c(T,h,i){return T.type!=="line"?void 0:o(T,h,i)/t(T,h)}U.exports={x0:d,x1:P,y0:n,y1:C,slope:c,dx:t,dy:o,width:a,height:u,length:f,xcenter:l,ycenter:y}},89861:function(U,N,e){var d=e(25376),P=e(66741),n=e(92880).extendDeepAll,C=e(67824).overrideAll,x=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});U.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:x.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:d({})},font:d({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(U){U.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(U,N,e){var d=e(3400),P=e(51272),n=e(89861),C=e(60876),x=C.name,v=n.steps;U.exports=function(o,a){P(o,a,{name:x,handleItemDefaults:p})};function p(t,o,a){function u(g,b){return d.coerce(t,o,n,g,b)}for(var f=P(t,o,{name:"steps",handleItemDefaults:r}),l=0,y=0;y<f.length;y++)f[y].visible&&l++;var c;if(l<2?c=o.visible=!1:c=u("visible"),!!c){o._stepCount=l;var T=o._visibleSteps=d.filterVisible(f),h=u("active");(f[h]||{}).visible||(o.active=T[0]._index),u("x"),u("y"),d.noneOrAll(t,o,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),d.coerceFont(u,"font",a.font);var i=u("currentvalue.visible");i&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),d.coerceFont(u,"currentvalue.font",o.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(t,o){function a(l,y){return d.coerce(t,o,v,l,y)}var u;if(t.method!=="skip"&&!Array.isArray(t.args)?u=o.visible=!1:u=a("visible"),u){a("method"),a("args");var f=a("label","step-"+o._index);a("value",f),a("execute")}}},79664:function(U,N,e){var d=e(33428),P=e(7316),n=e(76308),C=e(43616),x=e(3400),v=x.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),o=e(84284),a=o.LINE_SPACING,u=o.FROM_TL,f=o.FROM_BR;U.exports=function(V){var B=V._context.staticPlot,F=V._fullLayout,G=y(F,V),Y=F._infolayer.selectAll("g."+t.containerClassName).data(G.length>0?[0]:[]);Y.enter().append("g").classed(t.containerClassName,!0).style("cursor",B?null:"ew-resize");function Q(oe){oe._commandObserver&&(oe._commandObserver.remove(),delete oe._commandObserver),P.autoMargin(V,l(oe))}if(Y.exit().each(function(){d.select(this).selectAll("g."+t.groupClassName).each(Q)}).remove(),G.length!==0){var te=Y.selectAll("g."+t.groupClassName).data(G,c);te.enter().append("g").classed(t.groupClassName,!0),te.exit().each(Q).remove();for(var ae=0;ae<G.length;ae++){var fe=G[ae];T(V,fe)}te.each(function(oe){var J=d.select(this);s(oe),P.manageCommandObserver(V,oe,oe._visibleSteps,function(ee){var X=J.data()[0];X.active!==ee.index&&(X._dragging||m(V,J,X,ee.index,!1,!0))}),h(V,d.select(this),oe)})}};function l(O){return t.autoMarginIdRoot+O._index}function y(O,V){for(var B=O[t.name],F=[],G=0;G<B.length;G++){var Y=B[G];Y.visible&&(Y._gd=V,F.push(Y))}return F}function c(O){return O._index}function T(O,V){var B=C.tester.selectAll("g."+t.labelGroupClass).data(V._visibleSteps);B.enter().append("g").classed(t.labelGroupClass,!0);var F=0,G=0;B.each(function(q){var le=d.select(this),$=b(le,{step:q},V),j=$.node();if(j){var se=C.bBox(j);G=Math.max(G,se.height),F=Math.max(F,se.width)}}),B.remove();var Y=V._dims={};Y.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var Q=O._fullLayout._size;Y.lx=Q.l+Q.w*V.x,Y.ly=Q.t+Q.h*(1-V.y),V.lenmode==="fraction"?Y.outerLength=Math.round(Q.w*V.len):Y.outerLength=V.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-V.pad.l-V.pad.r);var te=Y.inputAreaLength-2*t.stepInset,ae=te/(V._stepCount-1),fe=F+t.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(fe/ae)),Y.labelHeight=G,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,V.currentvalue.visible){var oe=C.tester.append("g");B.each(function(q){var le=i(oe,V,q.label),$=le.node()&&C.bBox(le.node())||{width:0,height:0},j=p.lineCount(le);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil($.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil($.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,j)}),Y.currentValueTotalHeight=Y.currentValueHeight+V.currentvalue.offset,oe.remove()}Y.height=Y.currentValueTotalHeight+t.tickOffset+V.ticklen+t.labelOffset+Y.labelHeight+V.pad.t+V.pad.b;var J="left";x.isRightAnchor(V)&&(Y.lx-=Y.outerLength,J="right"),x.isCenterAnchor(V)&&(Y.lx-=Y.outerLength/2,J="center");var ee="top";x.isBottomAnchor(V)&&(Y.ly-=Y.height,ee="bottom"),x.isMiddleAnchor(V)&&(Y.ly-=Y.height/2,ee="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var X={y:V.y,b:Y.height*f[ee],t:Y.height*u[ee]};V.lenmode==="fraction"?(X.l=0,X.xl=V.x-V.len*u[J],X.r=0,X.xr=V.x+V.len*f[J]):(X.x=V.x,X.l=Y.outerLength*u[J],X.r=Y.outerLength*f[J]),P.autoMargin(O,l(V),X)}function h(O,V,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),V.call(i,B).call(H,B).call(A,B).call(M,B).call(I,O,B).call(g,O,B);var F=B._dims;C.setTranslate(V,F.lx+B.pad.l,F.ly+B.pad.t),V.call(S,B,!1),V.call(i,B)}function i(O,V,B){if(V.currentvalue.visible){var F=V._dims,G,Y;switch(V.currentvalue.xanchor){case"right":G=F.inputAreaLength-t.currentValueInset-F.currentValueMaxWidth,Y="left";break;case"center":G=F.inputAreaLength*.5,Y="middle";break;default:G=t.currentValueInset,Y="left"}var Q=x.ensureSingle(O,"text",t.labelClass,function(ee){ee.attr({"text-anchor":Y,"data-notex":1})}),te=V.currentvalue.prefix?V.currentvalue.prefix:"";if(typeof B=="string")te+=B;else{var ae=V.steps[V.active].label,fe=V._gd._fullLayout._meta;fe&&(ae=x.templateString(ae,fe)),te+=ae}V.currentvalue.suffix&&(te+=V.currentvalue.suffix),Q.call(C.font,V.currentvalue.font).text(te).call(p.convertToTspans,V._gd);var oe=p.lineCount(Q),J=(F.currentValueMaxLines+1-oe)*V.currentvalue.font.size*a;return p.positionText(Q,G,J),Q}}function g(O,V,B){var F=x.ensureSingle(O,"rect",t.gripRectClass,function(G){G.call(L,V,O,B).style("pointer-events","all")});F.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(n.stroke,B.bordercolor).call(n.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function b(O,V,B){var F=x.ensureSingle(O,"text",t.labelClass,function(Q){Q.attr({"text-anchor":"middle","data-notex":1})}),G=V.step.label,Y=B._gd._fullLayout._meta;return Y&&(G=x.templateString(G,Y)),F.call(C.font,B.font).text(G).call(p.convertToTspans,B._gd),F}function A(O,V){var B=x.ensureSingle(O,"g",t.labelsClass),F=V._dims,G=B.selectAll("g."+t.labelGroupClass).data(F.labelSteps);G.enter().append("g").classed(t.labelGroupClass,!0),G.exit().remove(),G.each(function(Y){var Q=d.select(this);Q.call(b,Y,V),C.setTranslate(Q,w(V,Y.fraction),t.tickOffset+V.ticklen+V.font.size*a+t.labelOffset+F.currentValueTotalHeight)})}function R(O,V,B,F,G){var Y=Math.round(F*(B._stepCount-1)),Q=B._visibleSteps[Y]._index;Q!==B.active&&m(O,V,B,Q,!0,G)}function m(O,V,B,F,G,Y){var Q=B.active;B.active=F,r(O.layout,t.name,B).applyUpdate("active",F);var te=B.steps[B.active];V.call(S,B,Y),V.call(i,B),O.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:G,previousActive:Q}),te&&te.method&&G&&(V._nextMethod?(V._nextMethod.step=te,V._nextMethod.doCallback=G,V._nextMethod.doTransition=Y):(V._nextMethod={step:te,doCallback:G,doTransition:Y},V._nextMethodRaf=window.requestAnimationFrame(function(){var ae=V._nextMethod.step;ae.method&&(ae.execute&&P.executeAPICommand(O,ae.method,ae.args),V._nextMethod=null,V._nextMethodRaf=null)})))}function L(O,V,B){if(V._context.staticPlot)return;var F=B.node(),G=d.select(V);function Y(){return B.data()[0]}function Q(){var te=Y();V.emit("plotly_sliderstart",{slider:te});var ae=B.select("."+t.gripRectClass);d.event.stopPropagation(),d.event.preventDefault(),ae.call(n.fill,te.activebgcolor);var fe=_(te,d.mouse(F)[0]);R(V,B,te,fe,!0),te._dragging=!0;function oe(){var ee=Y(),X=_(ee,d.mouse(F)[0]);R(V,B,ee,X,!1)}G.on("mousemove",oe),G.on("touchmove",oe);function J(){var ee=Y();ee._dragging=!1,ae.call(n.fill,ee.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),V.emit("plotly_sliderend",{slider:ee,step:ee.steps[ee.active]})}G.on("mouseup",J),G.on("touchend",J)}O.on("mousedown",Q),O.on("touchstart",Q)}function M(O,V){var B=O.selectAll("rect."+t.tickRectClass).data(V._visibleSteps),F=V._dims;B.enter().append("rect").classed(t.tickRectClass,!0),B.exit().remove(),B.attr({width:V.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(G,Y){var Q=Y%F.labelStride===0,te=d.select(this);te.attr({height:Q?V.ticklen:V.minorticklen}).call(n.fill,V.tickcolor),C.setTranslate(te,w(V,Y/(V._stepCount-1))-.5*V.tickwidth,(Q?t.tickOffset:t.minorTickOffset)+F.currentValueTotalHeight)})}function s(O){var V=O._dims;V.labelSteps=[];for(var B=O._stepCount,F=0;F<B;F+=V.labelStride)V.labelSteps.push({fraction:F/(B-1),step:O._visibleSteps[F]})}function S(O,V,B){for(var F=O.select("rect."+t.gripRectClass),G=0,Y=0;Y<V._stepCount;Y++)if(V._visibleSteps[Y]._index===V.active){G=Y;break}var Q=w(V,G/(V._stepCount-1));if(!V._invokingCommand){var te=F;B&&V.transition.duration>0&&(te=te.transition().duration(V.transition.duration).ease(V.transition.easing)),te.attr("transform",v(Q-t.gripWidth*.5,V._dims.currentValueTotalHeight))}}function w(O,V){var B=O._dims;return B.inputAreaStart+t.stepInset+(B.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,V))}function _(O,V){var B=O._dims;return Math.min(1,Math.max(0,(V-t.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*t.stepInset-2*B.inputAreaStart)))}function I(O,V,B){var F=B._dims,G=x.ensureSingle(O,"rect",t.railTouchRectClass,function(Y){Y.call(L,V,O,B).style("pointer-events","all")});G.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,t.tickOffset+B.ticklen+F.labelHeight)}).call(n.fill,B.bgcolor).attr("opacity",0),C.setTranslate(G,0,F.currentValueTotalHeight)}function H(O,V){var B=V._dims,F=B.inputAreaLength-t.railInset*2,G=x.ensureSingle(O,"rect",t.railRectClass);G.attr({width:F,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,V.bordercolor).call(n.fill,V.bgcolor).style("stroke-width",V.borderwidth+"px"),C.setTranslate(G,t.railInset,(B.inputAreaWidth-t.railWidth)*.5+B.currentValueTotalHeight)}},97544:function(U,N,e){var d=e(60876);U.exports={moduleType:"component",name:d.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(U,N,e){var d=e(33428),P=e(38248),n=e(7316),C=e(24040),x=e(3400),v=x.strTranslate,p=e(43616),r=e(76308),t=e(72736),o=e(13448),a=e(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /,f=1.6,l=1.6;function y(c,T,h){var i=c._fullLayout,g=h.propContainer,b=h.propName,A=h.placeholder,R=h.traceIndex,m=h.avoid||{},L=h.attributes,M=h.transform,s=h.containerGroup,S=1,w=g.title,_=(w&&w.text?w.text:"").trim(),I=!1,H=w&&w.font?w.font:{},O=H.family,V=H.size,B=H.color,F=H.weight,G=H.style,Y=H.variant,Q=H.textcase,te=H.lineposition,ae=H.shadow,fe=h.subtitlePropName,oe=!!fe,J=h.subtitlePlaceholder,ee=(g.title||{}).subtitle||{text:"",font:{}},X=ee.text.trim(),q=!1,le=1,$=ee.font,j=$.family,se=$.size,ne=$.color,he=$.weight,me=$.style,we=$.variant,Te=$.textcase,Le=$.lineposition,Ie=$.shadow,ze;b==="title.text"?ze="titleText":b.indexOf("axis")!==-1?ze="axisTitleText":b.indexOf("colorbar"!==-1)&&(ze="colorbarTitleText");var Me=c._context.edits[ze];function _e(Mt,nt){return Mt===void 0||nt===void 0?!1:Mt.replace(u," % ")===nt.replace(u," % ")}_===""?S=0:_e(_,A)&&(Me||(_=""),S=.2,I=!0),oe&&(X===""?le=0:_e(X,J)&&(Me||(X=""),le=.2,q=!0)),h._meta?_=x.templateString(_,h._meta):i._meta&&(_=x.templateString(_,i._meta));var Ce=_||X||Me,Oe;s||(s=x.ensureSingle(i._infolayer,"g","g-"+T),Oe=i._hColorbarMoveTitle);var Pe=s.selectAll("text."+T).data(Ce?[0]:[]);Pe.enter().append("text"),Pe.text(_).attr("class",T),Pe.exit().remove();var Ge=null,Ze=T+"-subtitle",it=X||Me;if(oe&&it&&(Ge=s.selectAll("text."+Ze).data(it?[0]:[]),Ge.enter().append("text"),Ge.text(X).attr("class",Ze),Ge.exit().remove()),!Ce)return s;function Je(Mt,nt){x.syncOrAsync([et,ft],{title:Mt,subtitle:nt})}function et(Mt){var nt=Mt.title,Fe=Mt.subtitle,We;!M&&Oe&&(M={}),M?(We="",M.rotate&&(We+="rotate("+[M.rotate,L.x,L.y]+")"),(M.offset||Oe)&&(We+=v(0,(M.offset||0)-(Oe||0)))):We=null,nt.attr("transform",We);function je(de){if(de){var be=d.select(de.node().parentNode).select("."+Ze);if(!be.empty()){var Ne=de.node().getBBox();if(Ne.height){var Ye=Ne.y+Ne.height+f*se;be.attr("y",Ye)}}}}if(nt.style("opacity",S*r.opacity(B)).call(p.font,{color:r.rgb(B),size:d.round(V,2),family:O,weight:F,style:G,variant:Y,textcase:Q,shadow:ae,lineposition:te}).attr(L).call(t.convertToTspans,c,je),Fe){var Ke=s.select("."+T+"-math-group"),ke=nt.node().getBBox(),Ue=Ke.node()?Ke.node().getBBox():void 0,Ve=Ue?Ue.y+Ue.height+f*se:ke.y+ke.height+l*se,Re=x.extendFlat({},L,{y:Ve});Fe.attr("transform",We),Fe.style("opacity",le*r.opacity(ne)).call(p.font,{color:r.rgb(ne),size:d.round(se,2),family:j,weight:he,style:me,variant:we,textcase:Te,shadow:Ie,lineposition:Le}).attr(Re).call(t.convertToTspans,c)}return n.previousPromises(c)}function ft(Mt){var nt=Mt.title,Fe=d.select(nt.node().parentNode);if(m&&m.selection&&m.side&&_){Fe.attr("transform",null);var We=a[m.side],je=m.side==="left"||m.side==="top"?-1:1,Ke=P(m.pad)?m.pad:2,ke=p.bBox(Fe.node()),Ue={t:0,b:0,l:0,r:0},Ve=c._fullLayout._reservedMargin;for(var Re in Ve)for(var de in Ve[Re]){var be=Ve[Re][de];Ue[de]=Math.max(Ue[de],be)}var Ne={left:Ue.l,top:Ue.t,right:i.width-Ue.r,bottom:i.height-Ue.b},Ye=m.maxShift||je*(Ne[m.side]-ke[m.side]),at=0;if(Ye<0)at=Ye;else{var lt=m.offsetLeft||0,Ht=m.offsetTop||0;ke.left-=lt,ke.right-=lt,ke.top-=Ht,ke.bottom-=Ht,m.selection.each(function(){var Tt=p.bBox(this);x.bBoxIntersect(ke,Tt,Ke)&&(at=Math.max(at,je*(Tt[m.side]-ke[We])+Ke))}),at=Math.min(Ye,at),g._titleScoot=Math.abs(at)}if(at>0||Ye<0){var Yt={left:[-at,0],right:[at,0],top:[0,-at],bottom:[0,at]}[m.side];Fe.attr("transform",v(Yt[0],Yt[1]))}}}Pe.call(Je,Ge);function vt(Mt,nt){Mt.text(nt).on("mouseover.opacity",function(){d.select(this).transition().duration(o.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){d.select(this).transition().duration(o.HIDE_PLACEHOLDER).style("opacity",0)})}if(Me&&(_?Pe.on(".opacity",null):(vt(Pe,A),I=!0),Pe.call(t.makeEditable,{gd:c}).on("edit",function(Mt){R!==void 0?C.call("_guiRestyle",c,b,Mt,R):C.call("_guiRelayout",c,b,Mt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Je)}).on("input",function(Mt){this.text(Mt||" ").call(t.positionText,L.x,L.y)}),oe)){if(oe&&!_){var dt=Pe.node().getBBox(),xt=dt.y+dt.height+l*se;Ge.attr("y",xt)}X?Ge.on(".opacity",null):(vt(Ge,J),q=!0),Ge.call(t.makeEditable,{gd:c}).on("edit",function(Mt){C.call("_guiRelayout",c,"title.subtitle.text",Mt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Je)}).on("input",function(Mt){this.text(Mt||" ").call(t.positionText,Ge.attr("x"),Ge.attr("y"))})}return Pe.classed("js-placeholder",I),Ge&&Ge.classed("js-placeholder",q),s}U.exports={draw:y,SUBTITLE_PADDING_EM:l,SUBTITLE_PADDING_MATHJAX_EM:f}},88444:function(U,N,e){var d=e(25376),P=e(22548),n=e(92880).extendFlat,C=e(67824).overrideAll,x=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});U.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(x({editType:"arraydraw"}),{}),font:d({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(U){U.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(U,N,e){var d=e(3400),P=e(51272),n=e(88444),C=e(73712),x=C.name,v=n.buttons;U.exports=function(o,a){var u={name:x,handleItemDefaults:p};P(o,a,u)};function p(t,o,a){function u(y,c){return d.coerce(t,o,n,y,c)}var f=P(t,o,{name:"buttons",handleItemDefaults:r}),l=u("visible",f.length>0);l&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),d.noneOrAll(t,o,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),d.coerceFont(u,"font",a.font),u("bgcolor",a.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(t,o){function a(f,l){return d.coerce(t,o,v,f,l)}var u=a("visible",t.method==="skip"||Array.isArray(t.args));u&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}},14420:function(U,N,e){var d=e(33428),P=e(7316),n=e(76308),C=e(43616),x=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),o=e(37400);U.exports=function(_){var I=_._fullLayout,H=x.filterVisible(I[t.name]);function O(ae){P.autoMargin(_,M(ae))}var V=I._menulayer.selectAll("g."+t.containerClassName).data(H.length>0?[0]:[]);if(V.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),V.exit().each(function(){d.select(this).selectAll("g."+t.headerGroupClassName).each(O)}).remove(),H.length!==0){var B=V.selectAll("g."+t.headerGroupClassName).data(H,a);B.enter().append("g").classed(t.headerGroupClassName,!0);for(var F=x.ensureSingle(V,"g",t.dropdownButtonGroupClassName,function(ae){ae.style("pointer-events","all")}),G=0;G<H.length;G++){var Y=H[G];L(_,Y)}var Q="updatemenus"+I._uid,te=new o(_,F,Q);B.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(S)),B.exit().each(function(ae){F.call(S),O(ae)}).remove(),B.each(function(ae){var fe=d.select(this),oe=ae.type==="dropdown"?F:null;P.manageCommandObserver(_,ae,ae.buttons,function(J){l(_,ae,ae.buttons[J.index],fe,oe,te,J.index,!0)}),ae.type==="dropdown"?(y(_,fe,F,te,ae),f(F,ae)&&c(_,fe,F,te,ae)):c(_,fe,null,null,ae)})}};function a(w){return w._index}function u(w){return+w.attr(t.menuIndexAttrName)==-1}function f(w,_){return+w.attr(t.menuIndexAttrName)===_._index}function l(w,_,I,H,O,V,B,F){_.active=B,p(w.layout,t.name,_).applyUpdate("active",B),_.type==="buttons"?c(w,H,null,null,_):_.type==="dropdown"&&(O.attr(t.menuIndexAttrName,"-1"),y(w,H,O,V,_),F||c(w,H,O,V,_))}function y(w,_,I,H,O){var V=x.ensureSingle(_,"g",t.headerClassName,function(ae){ae.style("pointer-events","all")}),B=O._dims,F=O.active,G=O.buttons[F]||t.blankHeaderOpts,Y={y:O.pad.t,yPad:0,x:O.pad.l,xPad:0,index:0},Q={width:B.headerWidth,height:B.headerHeight};V.call(i,O,G,w).call(s,O,Y,Q);var te=x.ensureSingle(_,"text",t.headerArrowClassName,function(ae){ae.attr("text-anchor","end").call(C.font,O.font).text(t.arrowSymbol[O.direction])});te.attr({x:B.headerWidth-t.arrowOffsetX+O.pad.l,y:B.headerHeight/2+t.textOffsetY+O.pad.t}),V.on("click",function(){I.call(S,String(f(I,O)?-1:O._index)),c(w,_,I,H,O)}),V.on("mouseover",function(){V.call(R)}),V.on("mouseout",function(){V.call(m,O)}),C.setTranslate(_,B.lx,B.ly)}function c(w,_,I,H,O){I||(I=_,I.attr("pointer-events","all"));var V=!u(I)||O.type==="buttons"?O.buttons:[],B=O.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,F=I.selectAll("g."+B).data(x.filterVisible(V)),G=F.enter().append("g").classed(B,!0),Y=F.exit();O.type==="dropdown"?(G.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var Q=0,te=0,ae=O._dims,fe=["up","down"].indexOf(O.direction)!==-1;O.type==="dropdown"&&(fe?te=ae.headerHeight+t.gapButtonHeader:Q=ae.headerWidth+t.gapButtonHeader),O.type==="dropdown"&&O.direction==="up"&&(te=-t.gapButtonHeader+t.gapButton-ae.openHeight),O.type==="dropdown"&&O.direction==="left"&&(Q=-t.gapButtonHeader+t.gapButton-ae.openWidth);var oe={x:ae.lx+Q+O.pad.l,y:ae.ly+te+O.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},J={l:oe.x+O.borderwidth,t:oe.y+O.borderwidth};F.each(function(ee,X){var q=d.select(this);q.call(i,O,ee,w).call(s,O,oe),q.on("click",function(){d.event.defaultPrevented||(ee.execute&&(ee.args2&&O.active===X?(l(w,O,ee,_,I,H,-1),P.executeAPICommand(w,ee.method,ee.args2)):(l(w,O,ee,_,I,H,X),P.executeAPICommand(w,ee.method,ee.args))),w.emit("plotly_buttonclicked",{menu:O,button:ee,active:O.active}))}),q.on("mouseover",function(){q.call(R)}),q.on("mouseout",function(){q.call(m,O),F.call(A,O)})}),F.call(A,O),fe?(J.w=Math.max(ae.openWidth,ae.headerWidth),J.h=oe.y-J.t):(J.w=oe.x-J.l,J.h=Math.max(ae.openHeight,ae.headerHeight)),J.direction=O.direction,H&&(F.size()?T(w,_,I,H,O,J):h(H))}function T(w,_,I,H,O,V){var B=O.direction,F=B==="up"||B==="down",G=O._dims,Y=O.active,Q,te,ae;if(F)for(te=0,ae=0;ae<Y;ae++)te+=G.heights[ae]+t.gapButton;else for(Q=0,ae=0;ae<Y;ae++)Q+=G.widths[ae]+t.gapButton;H.enable(V,Q,te),H.hbar&&H.hbar.attr("opacity","0").transition().attr("opacity","1"),H.vbar&&H.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(w){var _=!!w.hbar,I=!!w.vbar;_&&w.hbar.transition().attr("opacity","0").each("end",function(){_=!1,I||w.disable()}),I&&w.vbar.transition().attr("opacity","0").each("end",function(){I=!1,_||w.disable()})}function i(w,_,I,H){w.call(g,_).call(b,_,I,H)}function g(w,_){var I=x.ensureSingle(w,"rect",t.itemRectClassName,function(H){H.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});I.call(n.stroke,_.bordercolor).call(n.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px")}function b(w,_,I,H){var O=x.ensureSingle(w,"text",t.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),V=I.label,B=H._fullLayout._meta;B&&(V=x.templateString(V,B)),O.call(C.font,_.font).text(V).call(v.convertToTspans,H)}function A(w,_){var I=_.active;w.each(function(H,O){var V=d.select(this);O===I&&_.showactive&&V.select("rect."+t.itemRectClassName).call(n.fill,t.activeColor)})}function R(w){w.select("rect."+t.itemRectClassName).call(n.fill,t.hoverColor)}function m(w,_){w.select("rect."+t.itemRectClassName).call(n.fill,_.bgcolor)}function L(w,_){var I=_._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},H=C.tester.selectAll("g."+t.dropdownButtonClassName).data(x.filterVisible(_.buttons));H.enter().append("g").classed(t.dropdownButtonClassName,!0);var O=["up","down"].indexOf(_.direction)!==-1;H.each(function(Q,te){var ae=d.select(this);ae.call(i,_,Q,w);var fe=ae.select("."+t.itemTextClassName),oe=fe.node()&&C.bBox(fe.node()).width,J=Math.max(oe+t.textPadX,t.minWidth),ee=_.font.size*r,X=v.lineCount(fe),q=Math.max(ee*X,t.minHeight)+t.textOffsetY;q=Math.ceil(q),J=Math.ceil(J),I.widths[te]=J,I.heights[te]=q,I.height1=Math.max(I.height1,q),I.width1=Math.max(I.width1,J),O?(I.totalWidth=Math.max(I.totalWidth,J),I.openWidth=I.totalWidth,I.totalHeight+=q+t.gapButton,I.openHeight+=q+t.gapButton):(I.totalWidth+=J+t.gapButton,I.openWidth+=J+t.gapButton,I.totalHeight=Math.max(I.totalHeight,q),I.openHeight=I.totalHeight)}),O?I.totalHeight-=t.gapButton:I.totalWidth-=t.gapButton,I.headerWidth=I.width1+t.arrowPadX,I.headerHeight=I.height1,_.type==="dropdown"&&(O?(I.width1+=t.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=t.arrowPadX),H.remove();var V=I.totalWidth+_.pad.l+_.pad.r,B=I.totalHeight+_.pad.t+_.pad.b,F=w._fullLayout._size;I.lx=F.l+F.w*_.x,I.ly=F.t+F.h*(1-_.y);var G="left";x.isRightAnchor(_)&&(I.lx-=V,G="right"),x.isCenterAnchor(_)&&(I.lx-=V/2,G="center");var Y="top";x.isBottomAnchor(_)&&(I.ly-=B,Y="bottom"),x.isMiddleAnchor(_)&&(I.ly-=B/2,Y="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(w,M(_),{x:_.x,y:_.y,l:V*({right:1,center:.5}[G]||0),r:V*({left:1,center:.5}[G]||0),b:B*({top:1,middle:.5}[Y]||0),t:B*({bottom:1,middle:.5}[Y]||0)})}function M(w){return t.autoMarginIdRoot+w._index}function s(w,_,I,H){H=H||{};var O=w.select("."+t.itemRectClassName),V=w.select("."+t.itemTextClassName),B=_.borderwidth,F=I.index,G=_._dims;C.setTranslate(w,B+I.x,B+I.y);var Y=["up","down"].indexOf(_.direction)!==-1,Q=H.height||(Y?G.heights[F]:G.height1);O.attr({x:0,y:0,width:H.width||(Y?G.width1:G.widths[F]),height:Q});var te=_.font.size*r,ae=v.lineCount(V),fe=(ae-1)*te/2;v.positionText(V,t.textOffsetX,Q/2-fe+t.textOffsetY),Y?I.y+=G.heights[F]+I.yPad:I.x+=G.widths[F]+I.xPad,I.index++}function S(w,_){w.attr(t.menuIndexAttrName,_||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(U,N,e){var d=e(73712);U.exports={moduleType:"component",name:d.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(U,N,e){U.exports=x;var d=e(33428),P=e(76308),n=e(43616),C=e(3400);function x(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}x.barWidth=2,x.barLength=20,x.barRadius=2,x.barPad=1,x.barColor="#808BA4",x.prototype.enable=function(p,r,t){var o=this.gd._fullLayout,a=o.width,u=o.height;this.position=p;var f=this.position.l,l=this.position.w,y=this.position.t,c=this.position.h,T=this.position.direction,h=T==="down",i=T==="left",g=T==="right",b=T==="up",A=l,R=c,m,L,M,s;!h&&!i&&!g&&!b&&(this.position.direction="down",h=!0);var S=h||b;S?(m=f,L=m+A,h?(M=y,s=Math.min(M+R,u),R=s-M):(s=y+R,M=Math.max(s-R,0),R=s-M)):(M=y,s=M+R,i?(L=f+A,m=Math.max(L-A,0),A=L-m):(m=f,L=Math.min(m+A,a),A=L-m)),this._box={l:m,t:M,w:A,h:R};var w=l>A,_=x.barLength+2*x.barPad,I=x.barWidth+2*x.barPad,H=f,O=y+c;O+I>u&&(O=u-I);var V=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,x.barColor),w?(this.hbar=V.attr({rx:x.barRadius,ry:x.barRadius,x:H,y:O,width:_,height:I}),this._hbarXMin=H+_/2,this._hbarTranslateMax=A-_):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=c>R,F=x.barWidth+2*x.barPad,G=x.barLength+2*x.barPad,Y=f+l,Q=y;Y+F>a&&(Y=a-F);var te=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,x.barColor),B?(this.vbar=te.attr({rx:x.barRadius,ry:x.barRadius,x:Y,y:Q,width:F,height:G}),this._vbarYMin=Q+G/2,this._vbarTranslateMax=R-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ae=this.id,fe=m-.5,oe=B?L+F+.5:L+.5,J=M-.5,ee=w?s+I+.5:s+.5,X=o._topdefs.selectAll("#"+ae).data(w||B?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",ae).append("rect"),w||B?(this._clipRect=X.select("rect").attr({x:Math.floor(fe),y:Math.floor(J),width:Math.ceil(oe)-Math.floor(fe),height:Math.ceil(ee)-Math.floor(J)}),this.container.call(n.setClipUrl,ae,this.gd),this.bg.attr({x:f,y,width:l,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),w||B){var q=d.behavior.drag().on("dragstart",function(){d.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var le=d.behavior.drag().on("dragstart",function(){d.event.sourceEvent.preventDefault(),d.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(le),B&&this.vbar.on(".drag",null).call(le)}this.setTranslate(r,t)},x.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},x.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=d.event.dx),this.vbar&&(r-=d.event.dy),this.setTranslate(p,r)},x.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=d.event.deltaY),this.vbar&&(r+=d.event.deltaY),this.setTranslate(p,r)},x.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,o=t+this._hbarTranslateMax,a=C.constrain(d.event.x,t,o),u=(a-t)/(o-t),f=this.position.w-this._box.w;p=u*f}if(this.vbar){var l=r+this._vbarYMin,y=l+this._vbarTranslateMax,c=C.constrain(d.event.y,l,y),T=(c-l)/(y-l),h=this.position.h-this._box.h;r=T*h}this.setTranslate(p,r)},x.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,o=this.position.h-this._box.h;if(p=C.constrain(p||0,0,t),r=C.constrain(r||0,0,o),this.translateX=p,this.translateY=r,this.container.call(n.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var a=p/t;this.hbar.call(n.setTranslate,p+a*this._hbarTranslateMax,r)}if(this.vbar){var u=r/o;this.vbar.call(n.setTranslate,p,r+u*this._vbarTranslateMax)}}},84284:function(U){U.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(U){U.exports={axisRefDescription:function(N,e,d){return["If set to a",N,"axis id (e.g. *"+N+"* or","*"+N+"2*), the `"+N+"` position refers to a",N,"coordinate. If set to *paper*, the `"+N+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+d+"). If set to a",N,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+N+"2 domain* refers to the domain of the second",N," axis and a",N,"position of 0.5 refers to the","point between the",e,"and the",d,"of the domain of the","second",N,"axis."].join(" ")}}},48164:function(U){U.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(U){U.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(U){U.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(U){U.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(U){U.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(U){U.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(U){U.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(U,N){N.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],N.STYLE=N.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(U,N){N.xmlns="http://www.w3.org/2000/xmlns/",N.svg="http://www.w3.org/2000/svg",N.xlink="http://www.w3.org/1999/xlink",N.svgAttrs={xmlns:N.svg,"xmlns:xlink":N.xlink}},64884:function(U,N,e){N.version=e(25788).version,e(88324),e(79288);for(var d=e(24040),P=N.register=d.register,n=e(22448),C=Object.keys(n),x=0;x<C.length;x++){var v=C[x];v.charAt(0)!=="_"&&(N[v]=n[v]),P({moduleType:"apiMethod",name:v,fn:n[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),N.Icons=e(9224);var p=e(93024),r=e(7316);N.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},N.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},N.Snapshot=e(78904),N.PlotSchema=e(73060)},9224:function(U){U.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(U,N){N.isLeftAnchor=function(d){return d.xanchor==="left"||d.xanchor==="auto"&&d.x<=.3333333333333333},N.isCenterAnchor=function(d){return d.xanchor==="center"||d.xanchor==="auto"&&d.x>.3333333333333333&&d.x<.6666666666666666},N.isRightAnchor=function(d){return d.xanchor==="right"||d.xanchor==="auto"&&d.x>=.6666666666666666},N.isTopAnchor=function(d){return d.yanchor==="top"||d.yanchor==="auto"&&d.y>=.6666666666666666},N.isMiddleAnchor=function(d){return d.yanchor==="middle"||d.yanchor==="auto"&&d.y>.3333333333333333&&d.y<.6666666666666666},N.isBottomAnchor=function(d){return d.yanchor==="bottom"||d.yanchor==="auto"&&d.y<=.3333333333333333}},11864:function(U,N,e){var d=e(20435),P=d.mod,n=d.modHalf,C=Math.PI,x=2*C;function v(T){return T/180*C}function p(T){return T/C*180}function r(T){return Math.abs(T[1]-T[0])>x-1e-14}function t(T,h){return n(h-T,x)}function o(T,h){return Math.abs(t(T,h))}function a(T,h){if(r(h))return!0;var i,g;h[0]<h[1]?(i=h[0],g=h[1]):(i=h[1],g=h[0]),i=P(i,x),g=P(g,x),i>g&&(g+=x);var b=P(T,x),A=b+x;return b>=i&&b<=g||A>=i&&A<=g}function u(T,h,i,g){if(!a(h,g))return!1;var b,A;return i[0]<i[1]?(b=i[0],A=i[1]):(b=i[1],A=i[0]),T>=b&&T<=A}function f(T,h,i,g,b,A,R){b=b||0,A=A||0;var m=r([i,g]),L,M,s,S,w;m?(L=0,M=C,s=x):i<g?(L=i,s=g):(L=g,s=i),T<h?(S=T,w=h):(S=h,w=T);function _(V,B){return[V*Math.cos(B)+b,A-V*Math.sin(B)]}var I=Math.abs(s-L)<=C?0:1;function H(V,B,F){return"A"+[V,V]+" "+[0,I,F]+" "+_(V,B)}var O;return m?S===null?O="M"+_(w,L)+H(w,M,0)+H(w,s,0)+"Z":O="M"+_(S,L)+H(S,M,0)+H(S,s,0)+"ZM"+_(w,L)+H(w,M,1)+H(w,s,1)+"Z":S===null?(O="M"+_(w,L)+H(w,s,0),R&&(O+="L0,0Z")):O="M"+_(S,L)+"L"+_(w,L)+H(w,s,0)+"L"+_(S,s)+H(S,L,1)+"Z",O}function l(T,h,i,g,b){return f(null,T,h,i,g,b,0)}function y(T,h,i,g,b){return f(null,T,h,i,g,b,1)}function c(T,h,i,g,b,A){return f(T,h,i,g,b,A,1)}U.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:o,isFullCircle:r,isAngleInsideSector:a,isPtInsideSector:u,pathArc:l,pathSector:y,pathAnnulus:c}},38116:function(U,N,e){var d=e(83160).decode,P=e(63620),n=Array.isArray,C=ArrayBuffer,x=DataView;function v(f){return C.isView(f)&&!(f instanceof x)}N.isTypedArray=v;function p(f){return n(f)||v(f)}N.isArrayOrTypedArray=p;function r(f){return!p(f[0])}N.isArray1D=r,N.ensureArray=function(f,l){return n(f)||(f=[]),f.length=l,f};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function o(f){return f.constructor===ArrayBuffer}N.isArrayBuffer=o,N.decodeTypedArraySpec=function(f){var l=[],y=a(f),c=y.dtype,T=t[c];if(!T)throw new Error('Error in dtype: "'+c+'"');var h=T.BYTES_PER_ELEMENT,i=y.bdata;o(i)||(i=d(i));var g=y.shape===void 0?[i.byteLength/h]:(""+y.shape).split(",");g.reverse();var b=g.length,A,R,m=+g[0],L=h*m,M=0;if(b===1)l=new T(i);else if(b===2)for(A=+g[1],R=0;R<A;R++)l[R]=new T(i,M,m),M+=L;else if(b===3){A=+g[1];for(var s=+g[2],S=0;S<s;S++)for(l[S]=[],R=0;R<A;R++)l[S][R]=new T(i,M,m),M+=L}else throw new Error("ndim: "+b+'is not supported with the shape:"'+y.shape+'"');return l.bdata=y.bdata,l.dtype=y.dtype,l.shape=g.reverse().join(","),f._inputArray=l,l},N.isTypedArraySpec=function(f){return P(f)&&f.hasOwnProperty("dtype")&&typeof f.dtype=="string"&&f.hasOwnProperty("bdata")&&(typeof f.bdata=="string"||o(f.bdata))&&(f.shape===void 0||f.hasOwnProperty("shape")&&(typeof f.shape=="string"||typeof f.shape=="number"))};function a(f){return{bdata:f.bdata,dtype:f.dtype,shape:f.shape}}N.concat=function(){var f=[],l=!0,y=0,c,T,h,i,g,b,A,R;for(h=0;h<arguments.length;h++)i=arguments[h],b=i.length,b&&(T?f.push(i):(T=i,g=b),n(i)?c=!1:(l=!1,y?c!==i.constructor&&(c=!1):c=i.constructor),y+=b);if(!y)return[];if(!f.length)return T;if(l)return T.concat.apply(T,f);if(c){for(A=new c(y),A.set(T),h=0;h<f.length;h++)i=f[h],A.set(i,g),g+=i.length;return A}for(A=new Array(y),R=0;R<T.length;R++)A[R]=T[R];for(h=0;h<f.length;h++){for(i=f[h],R=0;R<i.length;R++)A[g+R]=i[R];g+=R}return A},N.maxRowLength=function(f){return u(f,Math.max,0)},N.minRowLength=function(f){return u(f,Math.min,1/0)};function u(f,l,y){if(p(f))if(p(f[0])){for(var c=y,T=0;T<f.length;T++)c=l(c,f[T].length);return c}else return f.length;return 0}},54037:function(U,N,e){var d=e(38248),P=e(39032).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;U.exports=function(x){return typeof x=="string"&&(x=x.replace(n,"")),d(x)?Number(x):P}},73696:function(U){U.exports=function(e){var d=e._fullLayout;d._glcanvas&&d._glcanvas.size()&&d._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(U){U.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(U,N,e){var d=e(38248),P=e(49760),n=e(92880).extendFlat,C=e(45464),x=e(88304),v=e(76308),p=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,o=e(20435).modHalf,a=e(38116).isArrayOrTypedArray,u=e(38116).isTypedArraySpec,f=e(38116).decodeTypedArraySpec;N.valObjectMeta={data_array:{coerceFunction:function(y,c,T){c.set(a(y)?y:u(y)?f(y):T)}},enumerated:{coerceFunction:function(y,c,T,h){h.coerceNumber&&(y=+y),h.values.indexOf(y)===-1?c.set(T):c.set(y)},validateFunction:function(y,c){c.coerceNumber&&(y=+y);for(var T=c.values,h=0;h<T.length;h++){var i=String(T[h]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var g=new RegExp(i.substr(1,i.length-2));if(g.test(y))return!0}else if(y===T[h])return!0}return!1}},boolean:{coerceFunction:function(y,c,T){y===!0||y===!1?c.set(y):c.set(T)}},number:{coerceFunction:function(y,c,T,h){u(y)&&(y=f(y)),!d(y)||h.min!==void 0&&y<h.min||h.max!==void 0&&y>h.max?c.set(T):c.set(+y)}},integer:{coerceFunction:function(y,c,T,h){if((h.extras||[]).indexOf(y)!==-1){c.set(y);return}u(y)&&(y=f(y)),y%1||!d(y)||h.min!==void 0&&y<h.min||h.max!==void 0&&y>h.max?c.set(T):c.set(+y)}},string:{coerceFunction:function(y,c,T,h){if(typeof y!="string"){var i=typeof y=="number";h.strict===!0||!i?c.set(T):c.set(String(y))}else h.noBlank&&!y?c.set(T):c.set(y)}},color:{coerceFunction:function(y,c,T){u(y)&&(y=f(y)),P(y).isValid()?c.set(y):c.set(T)}},colorlist:{coerceFunction:function(y,c,T){function h(i){return P(i).isValid()}!Array.isArray(y)||!y.length?c.set(T):y.every(h)?c.set(y):c.set(T)}},colorscale:{coerceFunction:function(y,c,T){c.set(x.get(y,T))}},angle:{coerceFunction:function(y,c,T){u(y)&&(y=f(y)),y==="auto"?c.set("auto"):d(y)?c.set(o(+y,360)):c.set(T)}},subplotid:{coerceFunction:function(y,c,T,h){var i=h.regex||t(T);if(typeof y=="string"&&i.test(y)){c.set(y);return}c.set(T)},validateFunction:function(y,c){var T=c.dflt;return y===T?!0:typeof y!="string"?!1:!!t(T).test(y)}},flaglist:{coerceFunction:function(y,c,T,h){if((h.extras||[]).indexOf(y)!==-1){c.set(y);return}if(typeof y!="string"){c.set(T);return}for(var i=y.split("+"),g=0;g<i.length;){var b=i[g];h.flags.indexOf(b)===-1||i.indexOf(b)<g?i.splice(g,1):g++}i.length?c.set(i.join("+")):c.set(T)}},any:{coerceFunction:function(y,c,T){y===void 0?c.set(T):c.set(u(y)?f(y):y)}},info_array:{coerceFunction:function(y,c,T,h){function i(O,V,B){var F,G={set:function(Y){F=Y}};return B===void 0&&(B=V.dflt),N.valObjectMeta[V.valType].coerceFunction(O,G,B,V),F}if(u(y)&&(y=f(y)),!a(y)){c.set(T);return}var g=h.dimensions===2||h.dimensions==="1-2"&&Array.isArray(y)&&a(y[0]),b=h.items,A=[],R=Array.isArray(b),m=R&&g&&a(b[0]),L=g&&R&&!m,M=R&&!L?b.length:y.length,s,S,w,_,I,H;if(T=Array.isArray(T)?T:[],g)for(s=0;s<M;s++)for(A[s]=[],w=a(y[s])?y[s]:[],L?I=b.length:R?I=b[s].length:I=w.length,S=0;S<I;S++)L?_=b[S]:R?_=b[s][S]:_=b,H=i(w[S],_,(T[s]||[])[S]),H!==void 0&&(A[s][S]=H);else for(s=0;s<M;s++)H=i(y[s],R?b[s]:b,T[s]),H!==void 0&&(A[s]=H);c.set(A)},validateFunction:function(y,c){if(!a(y))return!1;var T=c.items,h=Array.isArray(T),i=c.dimensions===2;if(!c.freeLength&&y.length!==T.length)return!1;for(var g=0;g<y.length;g++)if(i){if(!a(y[g])||!c.freeLength&&y[g].length!==T[g].length)return!1;for(var b=0;b<y[g].length;b++)if(!l(y[g][b],h?T[g][b]:T))return!1}else if(!l(y[g],h?T[g]:T))return!1;return!0}}},N.coerce=function(y,c,T,h,i){var g=r(T,h).get(),b=r(y,h),A=r(c,h),R=b.get(),m=c._template;if(R===void 0&&m&&(R=r(m,h).get(),m=0),i===void 0&&(i=g.dflt),g.arrayOk){if(a(R))return A.set(R),R;if(u(R))return R=f(R),A.set(R),R}var L=N.valObjectMeta[g.valType].coerceFunction;L(R,A,i,g);var M=A.get();return m&&M===i&&!l(R,g)&&(R=r(m,h).get(),L(R,A,i,g),M=A.get()),M},N.coerce2=function(y,c,T,h,i){var g=r(y,h),b=N.coerce(y,c,T,h,i),A=g.get();return A!=null?b:!1},N.coerceFont=function(y,c,T,h){h||(h={}),T=n({},T),T=n(T,h.overrideDflt||{});var i={family:y(c+".family",T.family),size:y(c+".size",T.size),color:y(c+".color",T.color),weight:y(c+".weight",T.weight),style:y(c+".style",T.style)};if(h.noFontVariant||(i.variant=y(c+".variant",T.variant)),h.noFontLineposition||(i.lineposition=y(c+".lineposition",T.lineposition)),h.noFontTextcase||(i.textcase=y(c+".textcase",T.textcase)),!h.noFontShadow){var g=T.shadow;g==="none"&&h.autoShadowDflt&&(g="auto"),i.shadow=y(c+".shadow",g)}return i},N.coercePattern=function(y,c,T,h){var i=y(c+".shape");if(i){y(c+".solidity"),y(c+".size");var g=y(c+".fillmode"),b=g==="overlay";if(!h){var A=y(c+".bgcolor",b?T:void 0);y(c+".fgcolor",b?v.contrast(A):T)}y(c+".fgopacity",b?.5:1)}},N.coerceHoverinfo=function(y,c,T){var h=c._module.attributes,i=h.hoverinfo?h:C,g=i.hoverinfo,b;if(T._dataLength===1){var A=g.dflt==="all"?g.flags.slice():g.dflt.split("+");A.splice(A.indexOf("name"),1),b=A.join("+")}return N.coerce(y,c,i,"hoverinfo",b)},N.coerceSelectionMarkerOpacity=function(y,c){if(y.marker){var T=y.marker.opacity;if(T!==void 0){var h,i;!a(T)&&!y.selected&&!y.unselected&&(h=T,i=p*T),c("selected.marker.opacity",h),c("unselected.marker.opacity",i)}}};function l(y,c){var T=N.valObjectMeta[c.valType];if(c.arrayOk&&a(y))return!0;if(T.validateFunction)return T.validateFunction(y,c);var h={},i=h,g={set:function(b){i=b}};return T.coerceFunction(y,g,h,c),i!==h}N.validate=l},67555:function(U,N,e){var d=e(94336).Yn,P=e(38248),n=e(24248),C=e(20435).mod,x=e(39032),v=x.BADNUM,p=x.ONEDAY,r=x.ONEHOUR,t=x.ONEMIN,o=x.ONESEC,a=x.EPOCHJD,u=e(24040),f=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function T(O){return O&&u.componentsRegistry.calendars&&typeof O=="string"&&O!=="gregorian"}N.dateTick0=function(O,V){var B=h(O,!!V);if(V<2)return B;var F=N.dateTime2ms(B,O);return F+=p*(V-1),N.ms2DateTime(F,0,O)};function h(O,V){return T(O)?V?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[O]:u.getComponentMethod("calendars","CANONICAL_TICK")[O]:V?"2000-01-02":"2000-01-01"}N.dfltRange=function(O){return T(O)?u.getComponentMethod("calendars","DFLTRANGE")[O]:["2000-01-01","2001-01-01"]},N.isJSDate=function(O){return typeof O=="object"&&O!==null&&typeof O.getTime=="function"};var i,g;N.dateTime2ms=function(O,V){if(N.isJSDate(O)){var B=O.getTimezoneOffset()*t,F=(O.getUTCMinutes()-O.getMinutes())*t+(O.getUTCSeconds()-O.getSeconds())*o+(O.getUTCMilliseconds()-O.getMilliseconds());if(F){var G=3*t;B=B-G/2+C(F-B+G/2,G)}return O=Number(O)-B,O>=i&&O<=g?O:v}if(typeof O!="string"&&typeof O!="number")return v;O=String(O);var Y=T(V),Q=O.charAt(0);Y&&(Q==="G"||Q==="g")&&(O=O.substr(1),V="");var te=Y&&V.substr(0,7)==="chinese",ae=O.match(te?y:l);if(!ae)return v;var fe=ae[1],oe=ae[3]||"1",J=Number(ae[5]||1),ee=Number(ae[7]||0),X=Number(ae[9]||0),q=Number(ae[11]||0);if(Y){if(fe.length===2)return v;fe=Number(fe);var le;try{var $=u.getComponentMethod("calendars","getCal")(V);if(te){var j=oe.charAt(oe.length-1)==="i";oe=parseInt(oe,10),le=$.newDate(fe,$.toMonthIndex(fe,oe,j),J)}else le=$.newDate(fe,Number(oe),J)}catch{return v}return le?(le.toJD()-a)*p+ee*r+X*t+q*o:v}fe.length===2?fe=(Number(fe)+2e3-c)%100+c:fe=Number(fe),oe-=1;var se=new Date(Date.UTC(2e3,oe,J,ee,X));return se.setUTCFullYear(fe),se.getUTCMonth()!==oe||se.getUTCDate()!==J?v:se.getTime()+q*o},i=N.MIN_MS=N.dateTime2ms("-9999"),g=N.MAX_MS=N.dateTime2ms("9999-12-31 23:59:59.9999"),N.isDateTime=function(O,V){return N.dateTime2ms(O,V)!==v};function b(O,V){return String(O+Math.pow(10,V)).substr(1)}var A=90*p,R=3*r,m=5*t;N.ms2DateTime=function(O,V,B){if(typeof O!="number"||!(O>=i&&O<=g))return v;V||(V=0);var F=Math.floor(C(O+.05,1)*10),G=Math.round(O-F/10),Y,Q,te,ae,fe,oe;if(T(B)){var J=Math.floor(G/p)+a,ee=Math.floor(C(O,p));try{Y=u.getComponentMethod("calendars","getCal")(B).fromJD(J).formatDate("yyyy-mm-dd")}catch{Y=f("G%Y-%m-%d")(new Date(G))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;Q=V<A?Math.floor(ee/r):0,te=V<A?Math.floor(ee%r/t):0,ae=V<R?Math.floor(ee%t/o):0,fe=V<m?ee%o*10+F:0}else oe=new Date(G),Y=f("%Y-%m-%d")(oe),Q=V<A?oe.getUTCHours():0,te=V<A?oe.getUTCMinutes():0,ae=V<R?oe.getUTCSeconds():0,fe=V<m?oe.getUTCMilliseconds()*10+F:0;return L(Y,Q,te,ae,fe)},N.ms2DateTimeLocal=function(O){if(!(O>=i+p&&O<=g-p))return v;var V=Math.floor(C(O+.05,1)*10),B=new Date(Math.round(O-V/10)),F=d("%Y-%m-%d")(B),G=B.getHours(),Y=B.getMinutes(),Q=B.getSeconds(),te=B.getUTCMilliseconds()*10+V;return L(F,G,Y,Q,te)};function L(O,V,B,F,G){if((V||B||F||G)&&(O+=" "+b(V,2)+":"+b(B,2),(F||G)&&(O+=":"+b(F,2),G))){for(var Y=4;G%10===0;)Y-=1,G/=10;O+="."+b(G,Y)}return O}N.cleanDate=function(O,V,B){if(O===v)return V;if(N.isJSDate(O)||typeof O=="number"&&isFinite(O)){if(T(B))return n.error("JS Dates and milliseconds are incompatible with world calendars",O),V;if(O=N.ms2DateTimeLocal(+O),!O&&V!==void 0)return V}else if(!N.isDateTime(O,B))return n.error("unrecognized date",O),V;return O};var M=/%\d?f/g,s=/%h/g,S={1:"1",2:"1",3:"2",4:"2"};function w(O,V,B,F){O=O.replace(M,function(Y){var Q=Math.min(+Y.charAt(1)||6,6),te=(V/1e3%1+2).toFixed(Q).substr(2).replace(/0+$/,"")||"0";return te});var G=new Date(Math.floor(V+.05));if(O=O.replace(s,function(){return S[B("%q")(G)]}),T(F))try{O=u.getComponentMethod("calendars","worldCalFmt")(O,V,F)}catch{return"Invalid"}return B(O)(G)}var _=[59,59.9,59.99,59.999,59.9999];function I(O,V){var B=C(O+.05,p),F=b(Math.floor(B/r),2)+":"+b(C(Math.floor(B/t),60),2);if(V!=="M"){P(V)||(V=0);var G=Math.min(C(O/o,60),_[V]),Y=(100+G).toFixed(V).substr(1);V>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+Y}return F}N.formatDate=function(O,V,B,F,G,Y){if(G=T(G)&&G,!V)if(B==="y")V=Y.year;else if(B==="m")V=Y.month;else if(B==="d")V=Y.dayMonth+`
`+Y.year;else return I(O,B)+`
`+w(Y.dayMonthYear,O,F,G);return w(V,O,F,G)};var H=3*p;N.incrementMonth=function(O,V,B){B=T(B)&&B;var F=C(O,p);if(O=Math.round(O-F),B)try{var G=Math.round(O/p)+a,Y=u.getComponentMethod("calendars","getCal")(B),Q=Y.fromJD(G);return V%12?Y.add(Q,V,"m"):Y.add(Q,V/12,"y"),(Q.toJD()-a)*p+F}catch{n.error("invalid ms "+O+" in calendar "+B)}var te=new Date(O+H);return te.setUTCMonth(te.getUTCMonth()+V)+F-H},N.findExactDates=function(O,V){for(var B=0,F=0,G=0,Y=0,Q,te,ae=T(V)&&u.getComponentMethod("calendars","getCal")(V),fe=0;fe<O.length;fe++){if(te=O[fe],!P(te)){Y++;continue}if(!(te%p))if(ae)try{Q=ae.fromJD(te/p+a),Q.day()===1?Q.month()===1?B++:F++:G++}catch{}else Q=new Date(te),Q.getUTCDate()===1?Q.getUTCMonth()===0?B++:F++:G++}F+=B,G+=F;var oe=O.length-Y;return{exactYears:B/oe,exactMonths:F/oe,exactDays:G/oe}}},52200:function(U,N,e){var d=e(33428),P=e(24248),n=e(52248),C=e(36524);function x(c){var T;if(typeof c=="string"){if(T=document.getElementById(c),T===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return T}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var T=d.select(c);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(c){var T=c&&c.parentNode;T&&T.removeChild(c)}function r(c,T){t("global",c,T)}function t(c,T,h){var i="plotly.js-style-"+c,g=document.getElementById(i);g||(g=document.createElement("style"),g.setAttribute("id",i),g.appendChild(document.createTextNode("")),document.head.appendChild(g));var b=g.sheet;b.insertRule?b.insertRule(T+"{"+h+"}",0):b.addRule?b.addRule(T,h,0):P.warn("addStyleRule failed")}function o(c){var T="plotly.js-style-"+c,h=document.getElementById(T);h&&p(h)}function a(c){var T=f(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(i){var g=u(i);if(g){var b=n.convertCssMatrix(g);h=C.multiply(h,h,b)}}),h}function u(c){var T=window.getComputedStyle(c,null),h=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function f(c){for(var T=[];l(c);)T.push(c),c=c.parentNode,typeof ShadowRoot=="function"&&c instanceof ShadowRoot&&(c=c.host);return T}function l(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function y(c,T){return c&&T&&c.top===T.top&&c.left===T.left&&c.right===T.right&&c.bottom===T.bottom}U.exports={getGraphDiv:x,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:o,getFullTransformMatrix:a,getElementTransformMatrix:u,getElementAndAncestors:f,equalDomRects:y}},95924:function(U,N,e){var d=e(61252).EventEmitter,P={init:function(n){if(n._ev instanceof d)return n;var C=new d,x=new d;return n._ev=C,n._internalEv=x,n.on=C.on.bind(C),n.once=C.once.bind(C),n.removeListener=C.removeListener.bind(C),n.removeAllListeners=C.removeAllListeners.bind(C),n._internalOn=x.on.bind(x),n._internalOnce=x.once.bind(x),n._removeInternalListener=x.removeListener.bind(x),n._removeAllInternalListeners=x.removeAllListeners.bind(x),n.emit=function(v,p){typeof jQuery<"u"&&jQuery(n).trigger(v,p),C.emit(v,p),x.emit(v,p)},n},triggerHandler:function(n,C,x){var v,p;typeof jQuery<"u"&&(v=jQuery(n).triggerHandler(C,x));var r=n._ev;if(!r)return v;var t=r._events[C];if(!t)return v;function o(u){if(u.listener){if(r.removeListener(C,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[x])}else return u.apply(r,[x])}t=Array.isArray(t)?t:[t];var a;for(a=0;a<t.length-1;a++)o(t[a]);return p=o(t[a]),v!==void 0?v:p},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};U.exports=P},92880:function(U,N,e){var d=e(63620),P=Array.isArray;function n(x,v){var p,r;for(p=0;p<x.length;p++){if(r=x[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}N.extendFlat=function(){return C(arguments,!1,!1,!1)},N.extendDeep=function(){return C(arguments,!0,!1,!1)},N.extendDeepAll=function(){return C(arguments,!0,!0,!1)},N.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(x,v,p,r){var t=x[0],o=x.length,a,u,f,l,y,c,T;if(o===2&&P(t)&&P(x[1])&&t.length===0){if(T=n(x[1],t),T)return t;t.splice(0,t.length)}for(var h=1;h<o;h++){a=x[h];for(u in a)f=t[u],l=a[u],r&&P(l)?t[u]=l:v&&l&&(d(l)||(y=P(l)))?(y?(y=!1,c=f&&P(f)?f:[]):c=f&&d(f)?f:{},t[u]=C([c,l],v,p,r)):(typeof l<"u"||p)&&(t[u]=l)}return t}},68944:function(U){U.exports=function(e){for(var d={},P=[],n=0,C=0;C<e.length;C++){var x=e[C];d[x]!==1&&(d[x]=1,P[n++]=x)}return P}},43880:function(U){U.exports=function(n){for(var C=d(n)?e:N,x=[],v=0;v<n.length;v++){var p=n[v];C(p)&&x.push(p)}return x};function N(P){return P.visible===!0}function e(P){var n=P[0].trace;return n.visible===!0&&n._length!==0}function d(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(U,N,e){var d=e(33428),P=e(36116),n=e(40440),C=e(77844),x=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),o=e(92065),a=Object.keys(P),u={"ISO-3":v,"USA-states":v,"country names":f};function f(b){for(var A=0;A<a.length;A++){var R=a[A],m=new RegExp(P[R]);if(m.test(b.trim().toLowerCase()))return R}return p.log("Unrecognized country name: "+b+"."),!1}function l(b,A,R){if(!A||typeof A!="string")return!1;var m=u[b](A),L,M,s;if(m){if(b==="USA-states")for(L=[],s=0;s<R.length;s++)M=R[s],M.properties&&M.properties.gu&&M.properties.gu==="USA"&&L.push(M);else L=R;for(s=0;s<L.length;s++)if(M=L[s],M.id===m)return M;p.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(b){var A=b.geometry,R=A.coordinates,m=b.id,L=[],M,s,S,w;function _(I){for(var H=0;H<I.length-1;H++)if(I[H][0]>0&&I[H+1][0]<0)return H;return null}switch(m==="RUS"||m==="FJI"?M=function(I){var H;if(_(I)===null)H=I;else for(H=new Array(I.length),w=0;w<I.length;w++)H[w]=[I[w][0]<0?I[w][0]+360:I[w][0],I[w][1]];L.push(o.tester(H))}:m==="ATA"?M=function(I){var H=_(I);if(H===null)return L.push(o.tester(I));var O=new Array(I.length+1),V=0;for(w=0;w<I.length;w++)w>H?O[V++]=[I[w][0]+360,I[w][1]]:w===H?(O[V++]=I[w],O[V++]=[I[w][0],-90]):O[V++]=I[w];var B=o.tester(O);B.pts.pop(),L.push(B)}:M=function(I){L.push(o.tester(I))},A.type){case"MultiPolygon":for(s=0;s<R.length;s++)for(S=0;S<R[s].length;S++)M(R[s][S]);break;case"Polygon":for(s=0;s<R.length;s++)M(R[s]);break}return L}function c(b){var A=b.geojson,R=window.PlotlyGeoAssets||{},m=typeof A=="string"?R[A]:A;return r(m)?m:(p.error("Oops ... something went wrong when fetching "+A),!1)}function T(b){var A=b[0].trace,R=c(A);if(!R)return!1;var m={},L=[],M;for(M=0;M<A._length;M++){var s=b[M];(s.loc||s.loc===0)&&(m[s.loc]=s)}function S(I){var H=t(I,A.featureidkey||"id").get(),O=m[H];if(O){var V=I.geometry;if(V.type==="Polygon"||V.type==="MultiPolygon"){var B={type:"Feature",id:H,geometry:V,properties:{}};B.properties.ct=h(B),O.fIn=I,O.fOut=B,L.push(B)}else p.log(["Location",O.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[H]}switch(R.type){case"FeatureCollection":var w=R.features;for(M=0;M<w.length;M++)S(w[M]);break;case"Feature":S(R);break;default:return p.warn(["Invalid GeoJSON type",(R.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in m)p.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return L}function h(b){var A=b.geometry,R;if(A.type==="MultiPolygon")for(var m=A.coordinates,L=0,M=0;M<m.length;M++){var s={type:"Polygon",coordinates:m[M]},S=n.default(s);S>L&&(L=S,R=s)}else R=A;return C.default(R).geometry.coordinates}function i(b){var A=window.PlotlyGeoAssets||{},R=[];function m(w){return new Promise(function(_,I){d.json(w,function(H,O){if(H){delete A[w];var V=H.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return I(new Error(V))}return A[w]=O,_(O)})})}function L(w){return new Promise(function(_,I){var H=0,O=setInterval(function(){if(A[w]&&A[w]!=="pending")return clearInterval(O),_(A[w]);if(H>100)return clearInterval(O),I("Unexpected error while fetching from "+w);H++},50)})}for(var M=0;M<b.length;M++){var s=b[M][0].trace,S=s.geojson;typeof S=="string"&&(A[S]?A[S]==="pending"&&R.push(L(S)):(A[S]="pending",R.push(m(S))))}return R}function g(b){return x.default(b)}U.exports={locationToFeature:l,feature2polygons:y,getTraceGeojson:c,extractTraceFeature:T,fetchTraceGeoData:i,computeBbox:g}},44808:function(U,N,e){var d=e(39032).BADNUM;N.calcTraceToLineCoords=function(P){for(var n=P[0].trace,C=n.connectgaps,x=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==d?v.push(t):!C&&v.length>0&&(x.push(v),v=[])}return v.length>0&&x.push(v),x},N.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},N.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var n=new Array(P.length),C=0;C<P.length;C++)n[C]=[P[C]];return{type:"MultiPolygon",coordinates:n}},N.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(U,N,e){var d=e(20435).mod;N.segmentsIntersect=P;function P(p,r,t,o,a,u,f,l){var y=t-p,c=a-p,T=f-a,h=o-r,i=u-r,g=l-u,b=y*g-T*h;if(b===0)return null;var A=(c*g-T*i)/b,R=(c*h-y*i)/b;return R<0||R>1||A<0||A>1?null:{x:p+y*A,y:r+h*A}}N.segmentDistance=function(r,t,o,a,u,f,l,y){if(P(r,t,o,a,u,f,l,y))return 0;var c=o-r,T=a-t,h=l-u,i=y-f,g=c*c+T*T,b=h*h+i*i,A=Math.min(n(c,T,g,u-r,f-t),n(c,T,g,l-r,y-t),n(h,i,b,r-u,t-f),n(h,i,b,o-u,a-f));return Math.sqrt(A)};function n(p,r,t,o,a){var u=o*p+a*r;if(u<0)return o*o+a*a;if(u>t){var f=o-p,l=a-r;return f*f+l*l}else{var y=o*r-a*p;return y*y/t}}var C,x,v;N.getTextLocation=function(r,t,o,a){if((r!==x||a!==v)&&(C={},x=r,v=a),C[o])return C[o];var u=r.getPointAtLength(d(o-a/2,t)),f=r.getPointAtLength(d(o+a/2,t)),l=Math.atan((f.y-u.y)/(f.x-u.x)),y=r.getPointAtLength(d(o,t)),c=(y.x*4+u.x+f.x)/6,T=(y.y*4+u.y+f.y)/6,h={x:c,y:T,theta:l};return C[o]=h,h},N.clearLocationCache=function(){x=null},N.getVisibleSegment=function(r,t,o){var a=t.left,u=t.right,f=t.top,l=t.bottom,y=0,c=r.getTotalLength(),T=c,h,i;function g(A){var R=r.getPointAtLength(A);A===0?h=R:A===c&&(i=R);var m=R.x<a?a-R.x:R.x>u?R.x-u:0,L=R.y<f?f-R.y:R.y>l?R.y-l:0;return Math.sqrt(m*m+L*L)}for(var b=g(y);b;){if(y+=b+o,y>T)return;b=g(y)}for(b=g(T);b;){if(T-=b+o,y>T)return;b=g(T)}return{min:y,max:T,len:T-y,total:c,isClosed:y===0&&T===c&&Math.abs(h.x-i.x)<.1&&Math.abs(h.y-i.y)<.1}},N.findPointOnPath=function(r,t,o,a){a=a||{};for(var u=a.pathLength||r.getTotalLength(),f=a.tolerance||.001,l=a.iterationLimit||30,y=r.getPointAtLength(0)[o]>r.getPointAtLength(u)[o]?-1:1,c=0,T=0,h=u,i,g,b;c<l;){if(i=(T+h)/2,g=r.getPointAtLength(i),b=g[o]-t,Math.abs(b)<f)return g;y*b>0?h=i:T=i,c++}return g}},33040:function(U,N,e){var d=e(38248),P=e(49760),n=e(72160),C=e(8932),x=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=n(x),r=1;function t(l,y){var c=l;return c[3]*=y,c}function o(l){if(d(l))return p;var y=n(l);return y.length?y:p}function a(l){return d(l)?l:r}function u(l,y,c){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var h=v(T),i=v(y),g=C.extractOpts(l),b=[],A,R,m,L,M;if(g.colorscale!==void 0?A=C.makeColorScaleFuncFromTrace(l):A=o,h?R=function(S,w){return S[w]===void 0?p:n(A(S[w]))}:R=o,i?m=function(S,w){return S[w]===void 0?r:a(S[w])}:m=a,h||i)for(var s=0;s<c;s++)L=R(T,s),M=m(y,s),b[s]=t(L,M);else b=t(n(T),y);return b}function f(l){var y=C.extractOpts(l),c=y.colorscale;return y.reversescale&&(c=C.flipScale(y.colorscale)),c.map(function(T){var h=T[0],i=P(T[1]),g=i.toRgb();return{index:h,rgb:[g.r,g.g,g.b,g.a]}})}U.exports={formatColor:u,parseColorScale:f}},71688:function(U,N,e){var d=e(35536);function P(n){return[n]}U.exports={keyFun:function(n){return n.key},repeat:P,descend:d,wrap:P,unwrap:function(n){return n[0]}}},35536:function(U){U.exports=function(e){return e}},1396:function(U){U.exports=function(e,d){if(!d)return e;var P=1/Math.abs(d),n=P>1?(P*e+P*d)/P:e+d,C=String(n).length;if(C>16){var x=String(d).length,v=String(e).length;if(C>=v+x){var p=parseFloat(n).toPrecision(12);p.indexOf("e+")===-1&&(n=+p)}}return n}},3400:function(U,N,e){var d=e(33428),P=e(94336).E9,n=e(57624).E9,C=e(38248),x=e(39032),v=x.FP_SAFE,p=-v,r=x.BADNUM,t=U.exports={};t.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var o={};t.warnBadFormat=function(q){var le=String(q);o[le]||(o[le]=1,t.warn('encountered bad format: "'+le+'"'))},t.noFormat=function(q){return String(q)},t.numberFormat=function(q){var le;try{le=n(t.adjustFormat(q))}catch{return t.warnBadFormat(q),t.noFormat}return le},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var a=e(38116);t.isArrayBuffer=a.isArrayBuffer,t.isTypedArray=a.isTypedArray,t.isArrayOrTypedArray=a.isArrayOrTypedArray,t.isArray1D=a.isArray1D,t.ensureArray=a.ensureArray,t.concat=a.concat,t.maxRowLength=a.maxRowLength,t.minRowLength=a.minRowLength;var u=e(20435);t.mod=u.mod,t.modHalf=u.modHalf;var f=e(63064);t.valObjectMeta=f.valObjectMeta,t.coerce=f.coerce,t.coerce2=f.coerce2,t.coerceFont=f.coerceFont,t.coercePattern=f.coercePattern,t.coerceHoverinfo=f.coerceHoverinfo,t.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,t.validate=f.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var y=e(14952);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=e(95376);var c=e(63084);t.aggNums=c.aggNums,t.len=c.len,t.mean=c.mean,t.geometricMean=c.geometricMean,t.median=c.median,t.midRange=c.midRange,t.variance=c.variance,t.stdev=c.stdev,t.interp=c.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var h=e(11864);t.deg2rad=h.deg2rad,t.rad2deg=h.rad2deg,t.angleDelta=h.angleDelta,t.angleDist=h.angleDist,t.isFullCircle=h.isFullCircle,t.isAngleInsideSector=h.isAngleInsideSector,t.isPtInsideSector=h.isPtInsideSector,t.pathArc=h.pathArc,t.pathSector=h.pathSector,t.pathAnnulus=h.pathAnnulus;var i=e(98308);t.isLeftAnchor=i.isLeftAnchor,t.isCenterAnchor=i.isCenterAnchor,t.isRightAnchor=i.isRightAnchor,t.isTopAnchor=i.isTopAnchor,t.isMiddleAnchor=i.isMiddleAnchor,t.isBottomAnchor=i.isBottomAnchor;var g=e(92348);t.segmentsIntersect=g.segmentsIntersect,t.segmentDistance=g.segmentDistance,t.getTextLocation=g.getTextLocation,t.clearLocationCache=g.clearLocationCache,t.getVisibleSegment=g.getVisibleSegment,t.findPointOnPath=g.findPointOnPath;var b=e(92880);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var A=e(24248);t.log=A.log,t.warn=A.warn,t.error=A.error;var R=e(53756);t.counterRegex=R.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var L=e(52200);t.getGraphDiv=L.getGraphDiv,t.isPlotDiv=L.isPlotDiv,t.removeElement=L.removeElement,t.addStyleRule=L.addStyleRule,t.addRelatedStyleRule=L.addRelatedStyleRule,t.deleteRelatedStyleRule=L.deleteRelatedStyleRule,t.getFullTransformMatrix=L.getFullTransformMatrix,t.getElementTransformMatrix=L.getElementTransformMatrix,t.getElementAndAncestors=L.getElementAndAncestors,t.equalDomRects=L.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(le){return C(le)?(le=Number(le),le>v||le<p?r:le):r},t.isIndex=function(q,le){return le!==void 0&&q>=le?!1:C(q)&&q>=0&&q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(q,le){for(var $=new Array(le),j=0;j<le;j++)$[j]=q;return $},t.swapAttrs=function(q,le,$,j){$||($="x"),j||(j="y");for(var se=0;se<le.length;se++){var ne=le[se],he=t.nestedProperty(q,ne.replace("?",$)),me=t.nestedProperty(q,ne.replace("?",j)),we=he.get();he.set(me.get()),me.set(we)}},t.raiseToTop=function(le){le.parentNode.appendChild(le)},t.cancelTransition=function(q){return q.transition().duration(0)},t.constrain=function(q,le,$){return le>$?Math.max($,Math.min(le,q)):Math.max(le,Math.min($,q))},t.bBoxIntersect=function(q,le,$){return $=$||0,q.left<=le.right+$&&le.left<=q.right+$&&q.top<=le.bottom+$&&le.top<=q.bottom+$},t.simpleMap=function(q,le,$,j,se){for(var ne=q.length,he=new Array(ne),me=0;me<ne;me++)he[me]=le(q[me],$,j,se);return he},t.randstr=function q(le,$,j,se){if(j||(j=16),$===void 0&&($=24),$<=0)return"0";var ne=Math.log(Math.pow(2,$))/Math.log(j),he="",me,we,Te;for(me=2;ne===1/0;me*=2)ne=Math.log(Math.pow(2,$/me))/Math.log(j)*me;var Le=ne-Math.floor(ne);for(me=0;me<Math.floor(ne);me++)Te=Math.floor(Math.random()*j).toString(j),he=Te+he;Le&&(we=Math.pow(j,Le),Te=Math.floor(Math.random()*we).toString(j),he=Te+he);var Ie=parseInt(he,j);return le&&le[he]||Ie!==1/0&&Ie>=Math.pow(2,$)?se>10?(t.warn("randstr failed uniqueness"),he):q(le,$,j,(se||0)+1):he},t.OptionControl=function(q,le){q||(q={}),le||(le="opt");var $={};return $.optionList=[],$._newoption=function(j){j[le]=q,$[j.name]=j,$.optionList.push(j)},$["_"+le]=q,$},t.smooth=function(q,le){if(le=Math.round(le)||0,le<2)return q;var $=q.length,j=2*$,se=2*le-1,ne=new Array(se),he=new Array($),me,we,Te,Le;for(me=0;me<se;me++)ne[me]=(1-Math.cos(Math.PI*(me+1)/le))/(2*le);for(me=0;me<$;me++){for(Le=0,we=0;we<se;we++)Te=me+we+1-le,Te<-$?Te-=j*Math.round(Te/j):Te>=j&&(Te-=j*Math.floor(Te/j)),Te<0?Te=-1-Te:Te>=$&&(Te=j-1-Te),Le+=q[Te]*ne[we];he[me]=Le}return he},t.syncOrAsync=function(q,le,$){var j,se;function ne(){return t.syncOrAsync(q,le,$)}for(;q.length;)if(se=q.splice(0,1)[0],j=se(le),j&&j.then)return j.then(ne);return $&&$(le)},t.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},t.noneOrAll=function(q,le,$){if(q){var j=!1,se=!0,ne,he;for(ne=0;ne<$.length;ne++)he=q[$[ne]],he!=null?j=!0:se=!1;if(j&&!se)for(ne=0;ne<$.length;ne++)q[$[ne]]=le[$[ne]]}},t.mergeArray=function(q,le,$,j){var se=typeof j=="function";if(t.isArrayOrTypedArray(q))for(var ne=Math.min(q.length,le.length),he=0;he<ne;he++){var me=q[he];le[he][$]=se?j(me):me}},t.mergeArrayCastPositive=function(q,le,$){return t.mergeArray(q,le,$,function(j){var se=+j;return isFinite(se)&&se>0?se:0})},t.fillArray=function(q,le,$,j){if(j=j||t.identity,t.isArrayOrTypedArray(q))for(var se=0;se<le.length;se++)le[se][$]=j(q[se])},t.castOption=function(q,le,$,j){j=j||t.identity;var se=t.nestedProperty(q,$).get();return t.isArrayOrTypedArray(se)?Array.isArray(le)&&t.isArrayOrTypedArray(se[le[0]])?j(se[le[0]][le[1]]):j(se[le]):se},t.extractOption=function(q,le,$,j){if($ in q)return q[$];var se=t.nestedProperty(le,j).get();if(!Array.isArray(se))return se};function M(q){var le={};for(var $ in q)for(var j=q[$],se=0;se<j.length;se++)le[j[se]]=+$;return le}t.tagSelected=function(q,le,$){var j=le.selectedpoints,se=le._indexToPoints,ne;se&&(ne=M(se));function he(Ie){return Ie!==void 0&&Ie<q.length}for(var me=0;me<j.length;me++){var we=j[me];if(t.isIndex(we)||t.isArrayOrTypedArray(we)&&t.isIndex(we[0])&&t.isIndex(we[1])){var Te=ne?ne[we]:we,Le=$?$[Te]:Te;he(Le)&&(q[Le].selected=1)}}},t.selIndices2selPoints=function(q){var le=q.selectedpoints,$=q._indexToPoints;if($){for(var j=M($),se=[],ne=0;ne<le.length;ne++){var he=le[ne];if(t.isIndex(he)){var me=j[he];t.isIndex(me)&&se.push(me)}}return se}else return le},t.getTargetArray=function(q,le){var $=le.target;if(typeof $=="string"&&$){var j=t.nestedProperty(q,$).get();return t.isArrayOrTypedArray(j)?j:!1}else if(t.isArrayOrTypedArray($))return $;return!1};function s(q,le,$){var j={};typeof le!="object"&&(le={});var se=$==="pieLike"?-1:3,ne=Object.keys(q),he,me,we;for(he=0;he<ne.length;he++)me=ne[he],we=q[me],!(me.charAt(0)==="_"||typeof we=="function")&&(me==="module"?j[me]=we:Array.isArray(we)?me==="colorscale"||se===-1?j[me]=we.slice():j[me]=we.slice(0,se):t.isTypedArray(we)?se===-1?j[me]=we.subarray():j[me]=we.subarray(0,se):we&&typeof we=="object"?j[me]=s(q[me],le[me],$):j[me]=we);for(ne=Object.keys(le),he=0;he<ne.length;he++)me=ne[he],we=le[me],(typeof we!="object"||!(me in j)||typeof j[me]!="object")&&(j[me]=we);return j}t.minExtend=s,t.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},t.containsAny=function(q,le){for(var $=0;$<le.length;$++)if(q.indexOf(le[$])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var S=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return S.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;t.isIOS=function(){return w.test(window.navigator.userAgent)};var _=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var q=_.exec(window.navigator.userAgent);if(q&&q.length===2){var le=parseInt(q[1]);if(!isNaN(le))return le}return null},t.isD3Selection=function(q){return q instanceof d.selection},t.ensureSingle=function(q,le,$,j){var se=q.select(le+($?"."+$:""));if(se.size())return se;var ne=q.append(le);return $&&ne.classed($,!0),j&&ne.call(j),ne},t.ensureSingleById=function(q,le,$,j){var se=q.select(le+"#"+$);if(se.size())return se;var ne=q.append(le).attr("id",$);return j&&ne.call(j),ne},t.objectFromPath=function(q,le){for(var $=q.split("."),j,se=j={},ne=0;ne<$.length;ne++){var he=$[ne],me=null,we=$[ne].match(/(.*)\[([0-9]+)\]/);we?(he=we[1],me=we[2],j=j[he]=[],ne===$.length-1?j[me]=le:j[me]={},j=j[me]):(ne===$.length-1?j[he]=le:j[he]={},j=j[he])}return se};var I=/^([^\[\.]+)\.(.+)?/,H=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function O(q){return q.slice(0,2)==="__"}t.expandObjectPaths=function(q){var le,$,j,se,ne,he,me;if(typeof q=="object"&&!Array.isArray(q)){for($ in q)if(q.hasOwnProperty($))if(le=$.match(I)){if(se=q[$],j=le[1],O(j))continue;delete q[$],q[j]=t.extendDeepNoArrays(q[j]||{},t.objectFromPath($,t.expandObjectPaths(se))[j])}else if(le=$.match(H)){if(se=q[$],j=le[1],O(j))continue;if(ne=parseInt(le[2]),delete q[$],q[j]=q[j]||[],le[3]===".")me=le[4],he=q[j][ne]=q[j][ne]||{},t.extendDeepNoArrays(he,t.objectFromPath(me,t.expandObjectPaths(se)));else{if(O(j))continue;q[j][ne]=t.expandObjectPaths(se)}}else{if(O($))continue;q[$]=t.expandObjectPaths(q[$])}}return q},t.numSeparate=function(q,le,$){if($||($=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var j=/(\d+)(\d{3})/,se=le.charAt(0),ne=le.charAt(1),he=q.split("."),me=he[0],we=he.length>1?se+he[1]:"";if(ne&&(he.length>1||me.length>4||$))for(;j.test(me);)me=me.replace(j,"$1"+ne+"$2");return me+we},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var V=/^\w*$/;t.templateString=function(q,le){var $={};return q.replace(t.TEMPLATE_STRING_REGEX,function(j,se){var ne;return V.test(se)?ne=le[se]:($[se]=$[se]||t.nestedProperty(le,se).get,ne=$[se]()),t.isValidTextValue(ne)?ne:""})};var B={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ae.apply(B,arguments)};var F={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ae.apply(F,arguments)};var G=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(q){var le=q.match(G);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:q,op:null,number:null}}var Q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ae.apply(Q,arguments)};var te=/^[:|\|]/;function ae(q,le,$){var j=this,se=arguments;le||(le={});var ne={};return q.replace(t.TEMPLATE_STRING_REGEX,function(he,me,we){var Te=me==="xother"||me==="yother",Le=me==="_xother"||me==="_yother",Ie=me==="_xother_"||me==="_yother_",ze=me==="xother_"||me==="yother_",Me=Te||Le||ze||Ie,_e=me;(Le||Ie)&&(_e=_e.substring(1)),(ze||Ie)&&(_e=_e.substring(0,_e.length-1));var Ce=null,Oe=null;if(j.parseMultDiv){var Pe=Y(_e);_e=Pe.key,Ce=Pe.op,Oe=Pe.number}var Ge;if(Me){if(Ge=le[_e],Ge===void 0)return""}else{var Ze,it;for(it=3;it<se.length;it++)if(Ze=se[it],!!Ze){if(Ze.hasOwnProperty(_e)){Ge=Ze[_e];break}if(V.test(_e)||(Ge=t.nestedProperty(Ze,_e).get(),Ge=ne[_e]||t.nestedProperty(Ze,_e).get(),Ge&&(ne[_e]=Ge)),Ge!==void 0)break}}if(Ge!==void 0&&(Ce==="*"&&(Ge*=Oe),Ce==="/"&&(Ge/=Oe)),Ge===void 0&&j)return j.count<j.max&&(t.warn("Variable '"+_e+"' in "+j.name+" could not be found!"),Ge=he),j.count===j.max&&t.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,he;if(we){var Je;if(we[0]===":"&&(Je=$?$.numberFormat:t.numberFormat,Ge!==""&&(Ge=Je(we.replace(te,""))(Ge))),we[0]==="|"){Je=$?$.timeFormat:P;var et=t.dateTime2ms(Ge);Ge=t.formatDate(et,we.replace(te,""),!1,Je)}}else{var ft=_e+"Label";le.hasOwnProperty(ft)&&(Ge=le[ft])}return Me&&(Ge="("+Ge+")",(Le||Ie)&&(Ge=" "+Ge),(ze||Ie)&&(Ge=Ge+" ")),Ge})}var fe=48,oe=57;t.subplotSort=function(q,le){for(var $=Math.min(q.length,le.length)+1,j=0,se=0,ne=0;ne<$;ne++){var he=q.charCodeAt(ne)||0,me=le.charCodeAt(ne)||0,we=he>=fe&&he<=oe,Te=me>=fe&&me<=oe;if(we&&(j=10*j+he-fe),Te&&(se=10*se+me-fe),!we||!Te){if(j!==se)return j-se;if(he!==me)return he-me}}return se-j};var J=2e9;t.seedPseudoRandom=function(){J=2e9},t.pseudoRandom=function(){var q=J;return J=(69069*J+1)%4294967296,Math.abs(J-q)<429496729?t.pseudoRandom():J/4294967296},t.fillText=function(q,le,$){var j=Array.isArray($)?function(he){$.push(he)}:function(he){$.text=he},se=t.extractOption(q,le,"htx","hovertext");if(t.isValidTextValue(se))return j(se);var ne=t.extractOption(q,le,"tx","text");if(t.isValidTextValue(ne))return j(ne)},t.isValidTextValue=function(q){return q||q===0},t.formatPercent=function(q,le){le=le||0;for(var $=(Math.round(100*q*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",j=0;j<le;j++)$.indexOf(".")!==-1&&($=$.replace("0%","%"),$=$.replace(".%","%"));return $},t.isHidden=function(q){var le=window.getComputedStyle(q).display;return!le||le==="none"},t.strTranslate=function(q,le){return q||le?"translate("+q+","+le+")":""},t.strRotate=function(q){return q?"rotate("+q+")":""},t.strScale=function(q){return q!==1?"scale("+q+")":""},t.getTextTransform=function(q){var le=q.noCenter,$=q.textX,j=q.textY,se=q.targetX,ne=q.targetY,he=q.anchorX||0,me=q.anchorY||0,we=q.rotate,Te=q.scale;return Te?Te>1&&(Te=1):Te=0,t.strTranslate(se-Te*($+he),ne-Te*(j+me))+t.strScale(Te)+(we?"rotate("+we+(le?"":" "+$+" "+j)+")":"")},t.setTransormAndDisplay=function(q,le){q.attr("transform",t.getTextTransform(le)),q.style("display",le.scale?null:"none")},t.ensureUniformFontSize=function(q,le){var $=t.extendFlat({},le);return $.size=Math.max(le.size,q._fullLayout.uniformtext.minsize||0),$},t.join2=function(q,le,$){var j=q.length;return j>1?q.slice(0,-1).join(le)+$+q[j-1]:q.join(le)},t.bigFont=function(q){return Math.round(1.2*q)};var ee=t.getFirefoxVersion(),X=ee!==null&&ee<86;t.getPositionFromD3Event=function(){return X?[d.event.layerX,d.event.layerY]:[d.event.offsetX,d.event.offsetY]}},63620:function(U){U.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(U,N,e){var d=e(22296),P=/^\w*$/,n=0,C=1,x=2,v=3,p=4;U.exports=function(t,o,a,u){a=a||"name",u=u||"value";var f,l,y,c={};o&&o.length?(y=d(t,o),l=y.get()):l=t,o=o||"";var T={};if(l)for(f=0;f<l.length;f++)T[l[f][a]]=f;var h=P.test(u),i={set:function(g,b){var A=b===null?p:n;if(!l){if(!y||A===p)return;l=[],y.set(l)}var R=T[g];if(R===void 0){if(A===p)return;A=A|v,R=l.length,T[g]=R}else b!==(h?l[R][u]:d(l[R],u).get())&&(A=A|x);var m=l[R]=l[R]||{};return m[a]=g,h?m[u]=b:d(m,u).set(b),b!==null&&(A=A&~p),c[R]=c[R]|A,i},get:function(g){if(l){var b=T[g];if(b!==void 0)return h?l[b][u]:d(l[b],u).get()}},rename:function(g,b){var A=T[g];return A===void 0||(c[A]=c[A]|C,T[b]=A,delete T[g],l[A][a]=b),i},remove:function(g){var b=T[g];if(b===void 0)return i;var A=l[b];if(Object.keys(A).length>2)return c[b]=c[b]|x,i.set(g,null);if(h){for(f=b;f<l.length;f++)c[f]=c[f]|v;for(f=b;f<l.length;f++)T[l[f][a]]--;l.splice(b,1),delete T[g]}else d(A,u).set(null),c[b]=c[b]|x|p;return i},constructUpdate:function(){for(var g,b,A={},R=Object.keys(c),m=0;m<R.length;m++)b=R[m],g=o+"["+b+"]",l[b]?(c[b]&C&&(A[g+"."+a]=l[b][a]),c[b]&x&&(h?A[g+"."+u]=c[b]&p?null:l[b][u]:A[g+"."+u]=c[b]&p?null:d(l[b],u).get())):A[g]=null;return A}};return i}},98356:function(U,N,e){var d=e(24040);U.exports=function(n,C){for(var x=n._context.locale,v=0;v<2;v++){for(var p=n._context.locales,r=0;r<2;r++){var t=(p[x]||{}).dictionary;if(t){var o=t[C];if(o)return o}p=d.localeRegistry}var a=x.split("-")[0];if(a===x)break;x=a}return C}},24248:function(U,N,e){var d=e(20556).dfltConfig,P=e(41792),n=U.exports={};n.log=function(){var C;if(d.logging>1){var x=["LOG:"];for(C=0;C<arguments.length;C++)x.push(arguments[C]);console.trace.apply(console,x)}if(d.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);P(v.join("<br>"),"long")}},n.warn=function(){var C;if(d.logging>0){var x=["WARN:"];for(C=0;C<arguments.length;C++)x.push(arguments[C]);console.trace.apply(console,x)}if(d.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);P(v.join("<br>"),"stick")}},n.error=function(){var C;if(d.logging>0){var x=["ERROR:"];for(C=0;C<arguments.length;C++)x.push(arguments[C]);console.error.apply(console,x)}if(d.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);P(v.join("<br>"),"stick")}}},30988:function(U,N,e){var d=e(33428);U.exports=function(n,C,x){var v=n.selectAll("g."+x.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",x),v.order();var p=n.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=d.select(this)}),v}},52248:function(U,N,e){var d=e(36524);N.init2dArray=function(P,n){for(var C=new Array(P),x=0;x<P;x++)C[x]=new Array(n);return C},N.transposeRagged=function(P){var n=0,C=P.length,x,v;for(x=0;x<C;x++)n=Math.max(n,P[x].length);var p=new Array(n);for(x=0;x<n;x++)for(p[x]=new Array(C),v=0;v<C;v++)p[x][v]=P[v][x];return p},N.dot=function(P,n){if(!(P.length&&n.length)||P.length!==n.length)return null;var C=P.length,x,v;if(P[0].length)for(x=new Array(C),v=0;v<C;v++)x[v]=N.dot(P[v],n);else if(n[0].length){var p=N.transposeRagged(n);for(x=new Array(p.length),v=0;v<p.length;v++)x[v]=N.dot(P,p[v])}else for(x=0,v=0;v<C;v++)x+=P[v]*n[v];return x},N.translationMatrix=function(P,n){return[[1,0,P],[0,1,n],[0,0,1]]},N.rotationMatrix=function(P){var n=P*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},N.rotationXYMatrix=function(P,n,C){return N.dot(N.dot(N.translationMatrix(n,C),N.rotationMatrix(P)),N.translationMatrix(-n,-C))},N.apply3DTransform=function(P){return function(){var n=arguments,C=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return N.dot(P,[C[0],C[1],C[2],1]).slice(0,3)}},N.apply2DTransform=function(P){return function(){var n=arguments;n.length===3&&(n=n[0]);var C=arguments.length===1?n[0]:[n[0],n[1]];return N.dot(P,[C[0],C[1],1]).slice(0,2)}},N.apply2DTransform2=function(P){var n=N.apply2DTransform(P);return function(C){return n(C.slice(0,2)).concat(n(C.slice(2,4)))}},N.convertCssMatrix=function(P){if(P){var n=P.length;if(n===16)return P;if(n===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},N.inverseTransformMatrix=function(P){var n=[];return d.invert(n,P),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},20435:function(U){function N(d,P){var n=d%P;return n<0?n+P:n}function e(d,P){return Math.abs(d)>P/2?d-Math.round(d/P)*P:d}U.exports={mod:N,modHalf:e}},22296:function(U,N,e){var d=e(38248),P=e(38116).isArrayOrTypedArray;U.exports=function(u,f){if(d(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var l=f.split("."),y,c,T,h;for(h=0;h<l.length;h++)if(String(l[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<l.length;){if(y=String(l[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])l[h]=y[1];else if(h===0)l.splice(0,1);else throw"bad property string";for(c=y[2].substr(1,y[2].length-2).split("]["),T=0;T<c.length;T++)h++,l.splice(h,0,Number(c[T]))}h++}return typeof u!="object"?o(u,f,l):{set:v(u,l,f),get:n(u,l),astr:f,parts:l,obj:u}};function n(a,u){return function(){var f=a,l,y,c,T,h;for(T=0;T<u.length-1;T++){if(l=u[T],l===-1){for(y=!0,c=[],h=0;h<f.length;h++)c[h]=n(f[h],u.slice(T+1))(),c[h]!==c[0]&&(y=!1);return y?c[0]:c}if(typeof l=="number"&&!P(f)||(f=f[l],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(c=f[u[T]],c!==null))return c}}var C=/(^|\.)args\[/;function x(a,u){return a===void 0||a===null&&!u.match(C)}function v(a,u,f){return function(l){var y=a,c="",T=x(l,f),h,i;for(i=0;i<u.length-1;i++){if(h=u[i],typeof h=="number"&&!P(y))throw"array index but container is not an array";if(h===-1){if(T=!r(y,u.slice(i+1),l,f),T)break;return}if(!t(y,h,u[i+1],T))break;if(y=y[h],typeof y!="object"||y===null)throw"container is not an object";c=p(c,h)}if(T){if(i===u.length-1&&(delete y[u[i]],Array.isArray(y)&&+u[i]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[u[i]]=l}}function p(a,u){var f=u;return d(u)?f="["+u+"]":a&&(f="."+u),a+f}function r(a,u,f,l){var y=P(f),c=!0,T=f,h=l.replace("-1",0),i=y?!1:x(f,h),g=u[0],b;for(b=0;b<a.length;b++)h=l.replace("-1",b),y&&(T=f[b%f.length],i=x(T,h)),i&&(c=!1),t(a,b,g,i)&&v(a[b],u,l.replace("-1",b))(T);return c}function t(a,u,f,l){if(a[u]===void 0){if(l)return!1;typeof f=="number"?a[u]=[]:a[u]={}}return!0}function o(a,u,f){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:f,obj:a}}},16628:function(U){U.exports=function(){}},41792:function(U,N,e){var d=e(33428),P=e(38248),n=[];U.exports=function(C,x){if(n.indexOf(C)!==-1)return;n.push(C);var v=1e3;P(x)?v=x:x==="long"&&(v=3e3);var p=d.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(n);function t(o){o.duration(700).style("opacity",0).each("end",function(a){var u=n.indexOf(a);u!==-1&&n.splice(u,1),d.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var a=d.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(t)});for(var u=a.append("p"),f=o.split(/<br\s*\/?>/g),l=0;l<f.length;l++)l&&u.append("br"),u.append("span").text(f[l]);x==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(U,N,e){var d=e(93972),P="data-savedcursor",n="!!";U.exports=function(x,v){var p=x.attr(P);if(v){if(!p){for(var r=(x.attr("class")||"").split(" "),t=0;t<r.length;t++){var o=r[t];o.indexOf("cursor-")===0&&x.attr(P,o.substr(7)).classed(o,!1)}x.attr(P)||x.attr(P,n)}d(x,v)}else p&&(x.attr(P,null),p===n?d(x):d(x,p))}},92065:function(U,N,e){var d=e(52248).dot,P=e(39032).BADNUM,n=U.exports={};n.tester=function(x){var v=x.slice(),p=v[0][0],r=p,t=v[0][1],o=t,a;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),a=1;a<v.length;a++)p=Math.min(p,v[a][0]),r=Math.max(r,v[a][0]),t=Math.min(t,v[a][1]),o=Math.max(o,v[a][1]);var u=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(u=!0,f=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(u=!0,f=function(h){return h[1]===v[0][1]}));function l(h,i){var g=h[0],b=h[1];return!(g===P||g<p||g>r||b===P||b<t||b>o||i&&f(h))}function y(h,i){var g=h[0],b=h[1];if(g===P||g<p||g>r||b===P||b<t||b>o)return!1;var A=v.length,R=v[0][0],m=v[0][1],L=0,M,s,S,w,_;for(M=1;M<A;M++)if(s=R,S=m,R=v[M][0],m=v[M][1],w=Math.min(s,R),!(g<w||g>Math.max(s,R)||b>Math.max(S,m)))if(b<Math.min(S,m))g!==w&&L++;else{if(R===s?_=b:_=S+(g-s)*(m-S)/(R-s),b===_)return!(M===1&&i);b<=_&&g!==w&&L++}return L%2===1}var c=!0,T=v[0];for(a=1;a<v.length;a++)if(T[0]!==v[a][0]||T[1]!==v[a][1]){c=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:o,pts:v,contains:u?l:y,isRect:u,degenerate:c}},n.isSegmentBent=function(x,v,p,r){var t=x[v],o=[x[p][0]-t[0],x[p][1]-t[1]],a=d(o,o),u=Math.sqrt(a),f=[-o[1]/u,o[0]/u],l,y,c;for(l=v+1;l<p;l++)if(y=[x[l][0]-t[0],x[l][1]-t[1]],c=d(y,o),c<0||c>a||Math.abs(d(y,f))>r)return!0;return!1},n.filter=function(x,v){var p=[x[0]],r=0,t=0;function o(u){x.push(u);var f=p.length,l=r;p.splice(t+1);for(var y=l+1;y<x.length;y++)(y===x.length-1||n.isSegmentBent(x,l,y+1,v))&&(p.push(x[y]),p.length<f-2&&(r=y,t=p.length-1),l=y)}if(x.length>1){var a=x.pop();o(a)}return{addPt:o,raw:x,filtered:p}}},5048:function(U,N,e){var d=e(16576),P=e(28624);U.exports=function(C,x,v){var p=C._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:x||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(o){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:o,layer:t.key})},!1)}}),r||d({container:p._glcontainer.node()}),r}},34296:function(U,N,e){var d=e(38248),P=e(25928);U.exports=function(x){var v;if(x&&x.hasOwnProperty("userAgent")?v=x.userAgent:v=n(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var o=r[t];if(o.indexOf("Safari")!==-1)for(var a=t-1;a>-1;a--){var u=r[a];if(u.substr(0,8)==="Version/"){var f=u.substr(8).split(".")[0];if(d(f)&&(f=+f),f>=13)return!0}}}return p};function n(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},52416:function(U){U.exports=function(e,d){if(d instanceof RegExp){for(var P=d.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===P)return e;e.push(d)}else(d||d===0)&&e.indexOf(d)===-1&&e.push(d);return e}},94552:function(U,N,e){var d=e(3400),P=e(20556).dfltConfig;function n(x,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===x?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?d.extendDeep([],r):d.extendDeepAll({},r):p[t]=r;return p}var C={};C.add=function(x,v,p,r,t){var o,a;if(x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},a=x.undoQueue.index,x.autoplay){x.undoQueue.inSequence||(x.autoplay=!1);return}!x.undoQueue.sequence||x.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},x.undoQueue.queue.splice(a,x.undoQueue.queue.length-a,o),x.undoQueue.index+=1):o=x.undoQueue.queue[a-1],x.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(v),o.undo.args.unshift(p),o.redo.calls.push(r),o.redo.args.push(t)),x.undoQueue.queue.length>P.queueLength&&(x.undoQueue.queue.shift(),x.undoQueue.index--)},C.startSequence=function(x){x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},x.undoQueue.sequence=!0,x.undoQueue.beginSequence=!0},C.stopSequence=function(x){x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},x.undoQueue.sequence=!1,x.undoQueue.beginSequence=!1},C.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)C.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)C.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(x,v,p){x.autoplay=!0,p=n(x,p),v.apply(null,p)},U.exports=C},53756:function(U,N){N.counter=function(e,d,P,n){var C=(d||"")+(P?"":"$"),x=n===!1?"":"^";return e==="xy"?new RegExp(x+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(x+e+"([2-9]|[1-9][0-9]+)?"+C)}},23193:function(U){var N=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;U.exports=function(d,P){for(;P;){var n=d.match(N);if(n)d=n[1];else if(d.match(e))d="";else throw new Error("bad relativeAttr call:"+[d,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return d&&P.charAt(0)!=="["?d+"."+P:d+P}},51528:function(U,N,e){var d=e(38116).isArrayOrTypedArray,P=e(63620);U.exports=function n(C,x){for(var v in x){var p=x[v],r=C[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in C)continue;C[v]=p}else if(d(p)&&d(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),o=0;o<t;o++)r[o]!==p[o]&&P(p[o])&&P(r[o])&&n(r[o],p[o])}else P(p)&&P(r)&&(n(r,p),Object.keys(r).length||delete C[v])}}},14952:function(U,N,e){var d=e(38248),P=e(24248),n=e(35536),C=e(39032).BADNUM,x=1e-9;N.findBin=function(o,a,u){if(d(a.start))return u?Math.ceil((o-a.start)/a.size-x)-1:Math.floor((o-a.start)/a.size+x);var f=0,l=a.length,y=0,c=l>1?(a[l-1]-a[0])/(l-1):1,T,h;for(c>=0?h=u?v:p:h=u?t:r,o+=c*x*(u?-1:1)*(c>=0?1:-1);f<l&&y++<100;)T=Math.floor((f+l)/2),h(a[T],o)?f=T+1:l=T;return y>90&&P.log("Long binary search..."),f-1};function v(o,a){return o<a}function p(o,a){return o<=a}function r(o,a){return o>a}function t(o,a){return o>=a}N.sorterAsc=function(o,a){return o-a},N.sorterDes=function(o,a){return a-o},N.distinctVals=function(o){var a=o.slice();a.sort(N.sorterAsc);var u;for(u=a.length-1;u>-1&&a[u]===C;u--);for(var f=a[u]-a[0]||1,l=f/(u||1)/1e4,y=[],c,T=0;T<=u;T++){var h=a[T],i=h-c;c===void 0?(y.push(h),c=h):i>l&&(f=Math.min(f,i),y.push(h),c=h)}return{vals:y,minDiff:f}},N.roundUp=function(o,a,u){for(var f=0,l=a.length-1,y,c=0,T=u?0:1,h=u?1:0,i=u?Math.ceil:Math.floor;f<l&&c++<100;)y=i((f+l)/2),a[y]<=o?f=y+T:l=y-h;return a[f]},N.sort=function(o,a){for(var u=0,f=0,l=1;l<o.length;l++){var y=a(o[l],o[l-1]);if(y<0?u=1:y>0&&(f=1),u&&f)return o.sort(a)}return f?o:o.reverse()},N.findIndexOfMin=function(o,a){a=a||n;for(var u=1/0,f,l=0;l<o.length;l++){var y=a(o[l]);y<u&&(u=y,f=l)}return f}},93972:function(U){U.exports=function(e,d){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),d&&e.classed("cursor-"+d,!0)}},16576:function(U,N,e){var d=e(76308),P=function(){};U.exports=function(C){for(var x in C)typeof C[x]=="function"&&(C[x]=P);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=d.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=d.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(U){U.exports=function(e){return Object.keys(e).sort()}},63084:function(U,N,e){var d=e(38248),P=e(38116).isArrayOrTypedArray;N.aggNums=function(n,C,x,v){var p,r;if((!v||v>x.length)&&(v=x.length),d(C)||(C=!1),P(x[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=N.aggNums(n,C,x[p]);x=r}for(p=0;p<v;p++)d(C)?d(x[p])&&(C=n(+C,+x[p])):C=x[p];return C},N.len=function(n){return N.aggNums(function(C){return C+1},0,n)},N.mean=function(n,C){return C||(C=N.len(n)),N.aggNums(function(x,v){return x+v},0,n)/C},N.geometricMean=function(n,C){return C||(C=N.len(n)),Math.pow(N.aggNums(function(x,v){return x*v},1,n),1/C)},N.midRange=function(n){if(!(n===void 0||n.length===0))return(N.aggNums(Math.max,null,n)+N.aggNums(Math.min,null,n))/2},N.variance=function(n,C,x){return C||(C=N.len(n)),d(x)||(x=N.mean(n,C)),N.aggNums(function(v,p){return v+Math.pow(p-x,2)},0,n)/C},N.stdev=function(n,C,x){return Math.sqrt(N.variance(n,C,x))},N.median=function(n){var C=n.slice().sort();return N.interp(C,.5)},N.interp=function(n,C){if(!d(C))throw"n should be a finite number";if(C=C*n.length-.5,C<0)return n[0];if(C>n.length-1)return n[n.length-1];var x=C%1;return x*n[Math.ceil(C)]+(1-x)*n[Math.floor(C)]}},43080:function(U,N,e){var d=e(72160);function P(n){return n?d(n):[0,0,0,1]}U.exports=P},9188:function(U,N,e){var d=e(2264),P=e(43616),n=e(3400),C=null;function x(){if(C!==null)return C;C=!1;var v=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(d.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=p.some(function(u){return r.apply(null,u)});else{var t=P.tester.append("image").attr("style",d.STYLE),o=window.getComputedStyle(t.node()),a=o.imageRendering;C=p.some(function(u){var f=u[1];return a===f||a===f.toLowerCase()}),t.remove()}}return C}U.exports=x},72736:function(U,N,e){var d=e(33428),P=e(3400),n=P.strTranslate,C=e(9616),x=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;N.convertToTspans=function(B,F,G){var Y=B.text(),Q=!B.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&Y.match(v),te=d.select(B.node().parentNode);if(te.empty())return;var ae=B.attr("class")?B.attr("class").split(" ")[0]:"text";ae+="-math",te.selectAll("svg."+ae).remove(),te.selectAll("g."+ae+"-group").remove(),B.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function fe(){te.empty()||(ae=B.attr("class")+"-math",te.select("svg."+ae).remove()),B.text("").style("white-space","pre");var oe=I(B.node(),Y);oe&&B.style("pointer-events","all"),N.positionText(B),G&&G.call(B)}return Q?(F&&F._promises||[]).push(new Promise(function(oe){B.style("display","none");var J=parseInt(B.node().style.fontSize,10),ee={fontSize:J};a(Q[2],ee,function(X,q,le){te.selectAll("svg."+ae).remove(),te.selectAll("g."+ae+"-group").remove();var $=X&&X.select("svg");if(!$||!$.node()){fe(),oe();return}var j=te.append("g").classed(ae+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});j.node().appendChild($.node()),q&&q.node()&&$.node().insertBefore(q.node().cloneNode(!0),$.node().firstChild);var se=le.width,ne=le.height;$.attr({class:ae,height:ne,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=B.node().style.fill||"black",me=$.select("g");me.attr({fill:he,stroke:he});var we=me.node().getBoundingClientRect(),Te=we.width,Le=we.height;(Te>se||Le>ne)&&($.style("overflow","hidden"),we=$.node().getBoundingClientRect(),Te=we.width,Le=we.height);var Ie=+B.attr("x"),ze=+B.attr("y"),Me=J||B.node().getBoundingClientRect().height,_e=-Me/4;if(ae[0]==="y")j.attr({transform:"rotate("+[-90,Ie,ze]+")"+n(-Te/2,_e-Le/2)});else if(ae[0]==="l")ze=_e-Le/2;else if(ae[0]==="a"&&ae.indexOf("atitle")!==0)Ie=0,ze=_e;else{var Ce=B.attr("text-anchor");Ie=Ie-Te*(Ce==="middle"?.5:Ce==="end"?1:0),ze=ze+_e-Le/2}$.attr({x:Ie,y:ze}),G&&G.call(B,j),oe(j)})})):fe(),B};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(B){return B.replace(p,"\\lt ").replace(r,"\\gt ")}var o=[["$","$"],["\\(","\\)"]];function a(B,F,G){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){P.warn("No MathJax version:",MathJax.version);return}var Q,te,ae,fe,oe=function(){return te=P.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},J=function(){te=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o},ee=function(){if(Q=MathJax.Hub.config.menuSettings.renderer,Q!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){Q=MathJax.config.startup.output,Q!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var he="math-output-"+P.randstr({},64);fe=d.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(t(B));var me=fe.node();return Y===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},le=function(){var he=fe.select(Y===2?".MathJax_SVG":".MathJax"),me=!he.empty()&&fe.select("svg").node();if(!me)P.log("There was an error in the tex syntax.",B),G();else{var we=me.getBoundingClientRect(),Te;Y===2?Te=d.select("body").select("#MathJax_SVG_glyphs"):Te=he.select("defs"),G(he,Te,we)}fe.remove()},$=function(){if(Q!=="SVG")return MathJax.Hub.setRenderer(Q)},j=function(){Q!=="svg"&&(MathJax.config.startup.output=Q)},se=function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(te)},ne=function(){MathJax.config=te};Y===2?MathJax.Hub.Queue(oe,ee,q,le,$,se):Y===3&&(J(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),le(),j(),ne()}))}var u={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},y="​",c=["http:","https:","mailto:","",void 0,":"],T=N.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;N.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,R=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(B,F){if(!B)return null;var G=B.match(F),Y=G&&(G[3]||G[4]);return Y&&w(Y)}var M=/(^|;)\s*color:/;N.plainText=function(B,F){F=F||{};for(var G=F.len!==void 0&&F.len!==-1?F.len:1/0,Y=F.allowedTags!==void 0?F.allowedTags:["br"],Q="...",te=Q.length,ae=B.split(h),fe=[],oe="",J=0,ee=0;ee<ae.length;ee++){var X=ae[ee],q=X.match(i),le=q&&q[2].toLowerCase();if(le)Y.indexOf(le)!==-1&&(fe.push(X),oe=le);else{var $=X.length;if(J+$<G)fe.push(X),J+=$;else if(J<G){var j=G-J;oe&&(oe!=="br"||j<=te||$<=te)&&fe.pop(),G>te?fe.push(X.substr(0,j-te)+Q):fe.push(X.substr(0,j));break}oe=""}}return fe.join("")};var s={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},S=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function w(B){return B.replace(S,function(F,G){var Y;return G.charAt(0)==="#"?Y=_(G.charAt(1)==="x"?parseInt(G.substr(2),16):parseInt(G.substr(1),10)):Y=s[G],Y||F})}N.convertEntities=w;function _(B){if(!(B>1114111)){var F=String.fromCodePoint;if(F)return F(B);var G=String.fromCharCode;return B<=65535?G(B):G((B>>10)+55232,B%1024+56320)}}function I(B,F){F=F.replace(T," ");var G=!1,Y=[],Q,te=-1;function ae(){te++;var Le=document.createElementNS(C.svg,"tspan");d.select(Le).attr({class:"line",dy:te*x+"em"}),B.appendChild(Le),Q=Le;var Ie=Y;if(Y=[{node:Le}],Ie.length>1)for(var ze=1;ze<Ie.length;ze++)fe(Ie[ze])}function fe(Le){var Ie=Le.type,ze={},Me;if(Ie==="a"){Me="a";var _e=Le.target,Ce=Le.href,Oe=Le.popup;Ce&&(ze={"xlink:xlink:show":_e==="_blank"||_e.charAt(0)!=="_"?"new":"replace",target:_e,"xlink:xlink:href":Ce},Oe&&(ze.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Oe+'");return false;'))}else Me="tspan";Le.style&&(ze.style=Le.style);var Pe=document.createElementNS(C.svg,Me);if(Ie==="sup"||Ie==="sub"){oe(Q,y),Q.appendChild(Pe);var Ge=document.createElementNS(C.svg,"tspan");oe(Ge,y),d.select(Ge).attr("dy",l[Ie]),ze.dy=f[Ie],Q.appendChild(Pe),Q.appendChild(Ge)}else Q.appendChild(Pe);d.select(Pe).attr(ze),Q=Le.node=Pe,Y.push(Le)}function oe(Le,Ie){Le.appendChild(document.createTextNode(Ie))}function J(Le){if(Y.length===1){P.log("Ignoring unexpected end tag </"+Le+">.",F);return}var Ie=Y.pop();Le!==Ie.type&&P.log("Start tag <"+Ie.type+"> doesnt match end tag <"+Le+">. Pretending it did match.",F),Q=Y[Y.length-1].node}var ee=g.test(F);ee?ae():(Q=B,Y=[{node:B}]);for(var X=F.split(h),q=0;q<X.length;q++){var le=X[q],$=le.match(i),j=$&&$[2].toLowerCase(),se=u[j];if(j==="br")ae();else if(se===void 0)oe(Q,w(le));else if($[1])J(j);else{var ne=$[4],he={type:j},me=L(ne,b);if(me?(me=me.replace(M,"$1 fill:"),se&&(me+=";"+se)):se&&(me=se),me&&(he.style=me),j==="a"){G=!0;var we=L(ne,A);if(we){var Te=H(we);Te&&(he.href=Te,he.target=L(ne,R)||"_blank",he.popup=L(ne,m))}}fe(he)}}return G}function H(B){var F=encodeURI(decodeURI(B)),G=document.createElement("a"),Y=document.createElement("a");G.href=B,Y.href=F;var Q=G.protocol,te=Y.protocol;return c.indexOf(Q)!==-1&&c.indexOf(te)!==-1?F:""}N.sanitizeHTML=function(F){F=F.replace(T," ");for(var G=document.createElement("p"),Y=G,Q=[],te=F.split(h),ae=0;ae<te.length;ae++){var fe=te[ae],oe=fe.match(i),J=oe&&oe[2].toLowerCase();if(J in u)if(oe[1])Q.length&&(Y=Q.pop());else{var ee=oe[4],X=L(ee,b),q=X?{style:X}:{};if(J==="a"){var le=L(ee,A);if(le){var $=H(le);if($){q.href=$;var j=L(ee,R);j&&(q.target=j)}}}var se=document.createElement(J);Y.appendChild(se),d.select(se).attr(q),Y=se,Q.push(se)}else Y.appendChild(document.createTextNode(w(fe)))}var ne="innerHTML";return G[ne]},N.lineCount=function(F){return F.selectAll("tspan.line").size()||1},N.positionText=function(F,G,Y){return F.each(function(){var Q=d.select(this);function te(oe,J){return J===void 0?(J=Q.attr(oe),J===null&&(Q.attr(oe,0),J=0)):Q.attr(oe,J),J}var ae=te("x",G),fe=te("y",Y);this.nodeName==="text"&&Q.selectAll("tspan.line").attr({x:ae,y:fe})})};function O(B,F,G){var Y=G.horizontalAlign,Q=G.verticalAlign||"top",te=B.node().getBoundingClientRect(),ae=F.node().getBoundingClientRect(),fe,oe,J;return Q==="bottom"?oe=function(){return te.bottom-fe.height}:Q==="middle"?oe=function(){return te.top+(te.height-fe.height)/2}:oe=function(){return te.top},Y==="right"?J=function(){return te.right-fe.width}:Y==="center"?J=function(){return te.left+(te.width-fe.width)/2}:J=function(){return te.left},function(){fe=this.node().getBoundingClientRect();var ee=J()-ae.left,X=oe()-ae.top,q=G.gd||{};if(G.gd){q._fullLayout._calcInverseTransform(q);var le=P.apply3DTransform(q._fullLayout._invTransform)(ee,X);ee=le[0],X=le[1]}return this.style({top:X+"px",left:ee+"px","z-index":1e3}),this}}var V="1px ";N.makeTextShadow=function(B){var F=V,G=V,Y=V;return F+G+Y+B+", -"+F+"-"+G+Y+B+", "+F+"-"+G+Y+B+", -"+F+G+Y+B},N.makeEditable=function(B,F){var G=F.gd,Y=F.delegate,Q=d.dispatch("edit","input","cancel"),te=Y||B;if(B.style({"pointer-events":Y?"none":"all"}),B.size()!==1)throw new Error("boo");function ae(){oe(),B.style({opacity:0});var J=te.attr("class"),ee;J?ee="."+J.split(" ")[0]+"-math-group":ee="[class*=-math-group]",ee&&d.select(B.node().parentNode).select(ee).style({opacity:0})}function fe(J){var ee=J.node(),X=document.createRange();X.selectNodeContents(ee);var q=window.getSelection();q.removeAllRanges(),q.addRange(X),ee.focus()}function oe(){var J=d.select(G),ee=J.select(".svg-container"),X=ee.append("div"),q=B.node().style,le=parseFloat(q.fontSize||12),$=F.text;$===void 0&&($=B.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":le,color:F.fill||q.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(O(B,ee,F)).on("blur",function(){G._editing=!1,B.text(this.textContent).style({opacity:1});var j=d.select(this).attr("class"),se;j?se="."+j.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&d.select(B.node().parentNode).select(se).style({opacity:0});var ne=this.textContent;d.select(this).transition().duration(0).remove(),d.select(document).on("mouseup",null),Q.edit.call(B,ne)}).on("focus",function(){var j=this;G._editing=!0,d.select(document).on("mouseup",function(){if(d.event.target===j)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){d.event.which===27?(G._editing=!1,B.style({opacity:1}),d.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Q.cancel.call(B,this.textContent)):(Q.input.call(B,this.textContent),d.select(this).call(O(B,ee,F)))}).on("keydown",function(){d.event.which===13&&this.blur()}).call(fe)}return F.immediate?ae():te.on("click",ae),d.rebind(B,Q,"on")}},91200:function(U,N){var e={};N.throttle=function(n,C,x){var v=e[n],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[n]={ts:0,timer:null}}d(v);function t(){x(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+C){t();return}v.timer=setTimeout(function(){t(),v.timer=null},C)},N.done=function(P){var n=e[P];return!n||!n.timer?Promise.resolve():new Promise(function(C){var x=n.onDone;n.onDone=function(){x&&x(),C(),n.onDone=null}})},N.clear=function(P){if(P)d(e[P]),delete e[P];else for(var n in e)N.clear(n)};function d(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(U,N,e){var d=e(38248);U.exports=function(n,C){if(n>0)return Math.log(n)/Math.LN10;var x=Math.log(Math.min(C[0],C[1]))/Math.LN10;return d(x)||(x=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),x}},59972:function(U,N,e){var d=U.exports={},P=e(79552).locationmodeToLayer,n=e(55712).NO;d.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},d.getTopojsonPath=function(C,x){return C+x+".json"},d.getTopojsonFeatures=function(C,x){var v=P[C.locationmode],p=x.objects[v];return n(x,p).features}},11680:function(U){U.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(U){U.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(U,N,e){var d=e(24040);U.exports=function(n){for(var C=d.layoutArrayContainers,x=d.layoutArrayRegexes,v=n.split("[")[0],p,r,t=0;t<x.length;t++)if(r=n.match(x[t]),r&&r.index===0){p=r[0];break}if(p||(p=C[C.indexOf(v)]),!p)return!1;var o=n.substr(p.length);return o?(r=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(U,N,e){var d=e(92880).extendFlat,P=e(63620),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},x=n.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");U.exports={traces:n,layout:C,traceFlags:function(){return p(x)},layoutFlags:function(){return p(v)},update:function(o,a){var u=a.editType;if(u&&u!=="none")for(var f=u.split("+"),l=0;l<f.length;l++)o[f[l]]=!0},overrideAll:r};function p(o){for(var a={},u=0;u<o.length;u++)a[o[u]]=!1;return a}function r(o,a,u){var f=d({},o);for(var l in f){var y=f[l];P(y)&&(f[l]=t(y,a,u,l))}return u==="from-root"&&(f.editType=a),f}function t(o,a,u,f){if(o.valType){var l=d({},o);if(l.editType=a,Array.isArray(o.items)){l.items=new Array(o.items.length);for(var y=0;y<o.items.length;y++)l.items[y]=t(o.items[y],a)}return l}else return r(o,a,f.charAt(0)==="_"?"nested":"from-root")}},93404:function(U,N,e){var d=e(38248),P=e(61784),n=e(24040),C=e(3400),x=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,o=n.traceIs;N.clearPromiseQueue=function(g){Array.isArray(g._promises)&&g._promises.length>0&&C.log("Clearing previous rejected promises from queue."),g._promises=[]},N.cleanLayout=function(g){var b,A;g||(g={}),g.xaxis1&&(g.xaxis||(g.xaxis=g.xaxis1),delete g.xaxis1),g.yaxis1&&(g.yaxis||(g.yaxis=g.yaxis1),delete g.yaxis1),g.scene1&&(g.scene||(g.scene=g.scene1),delete g.scene1);var R=(x.subplotsRegistry.cartesian||{}).attrRegex,m=(x.subplotsRegistry.polar||{}).attrRegex,L=(x.subplotsRegistry.ternary||{}).attrRegex,M=(x.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(g);for(b=0;b<s.length;b++){var S=s[b];if(R&&R.test(S)){var w=g[S];w.anchor&&w.anchor!=="free"&&(w.anchor=r(w.anchor)),w.overlaying&&(w.overlaying=r(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),w.insiderange&&delete w.range,delete w.islog,delete w.isdate,delete w.categories,c(w,"domain")&&delete w.domain,w.autotick!==void 0&&(w.tickmode===void 0&&(w.tickmode=w.autotick?"auto":"linear"),delete w.autotick),u(w)}else if(m&&m.test(S)){var _=g[S];u(_.radialaxis)}else if(L&&L.test(S)){var I=g[S];u(I.aaxis),u(I.baxis),u(I.caxis)}else if(M&&M.test(S)){var H=g[S],O=H.cameraposition;if(Array.isArray(O)&&O[0].length===4){var V=O[0],B=O[1],F=O[2],G=P([],V),Y=[];for(A=0;A<3;++A)Y[A]=B[A]+F*G[2+4*A];H.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete H.cameraposition}u(H.xaxis),u(H.yaxis),u(H.zaxis)}}var Q=Array.isArray(g.annotations)?g.annotations.length:0;for(b=0;b<Q;b++){var te=g.annotations[b];C.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),a(te,"xref"),a(te,"yref"))}var ae=Array.isArray(g.shapes)?g.shapes.length:0;for(b=0;b<ae;b++){var fe=g.shapes[b];C.isPlainObject(fe)&&(a(fe,"xref"),a(fe,"yref"))}var oe=Array.isArray(g.images)?g.images.length:0;for(b=0;b<oe;b++){var J=g.images[b];C.isPlainObject(J)&&(a(J,"xref"),a(J,"yref"))}var ee=g.legend;return ee&&(ee.x>3?(ee.x=1.02,ee.xanchor="left"):ee.x<-2&&(ee.x=-.02,ee.xanchor="right"),ee.y>3?(ee.y=1.02,ee.yanchor="bottom"):ee.y<-2&&(ee.y=-.02,ee.yanchor="top")),u(g),g.dragmode==="rotate"&&(g.dragmode="orbit"),p.clean(g),g.template&&g.template.layout&&N.cleanLayout(g.template.layout),g};function a(g,b){var A=g[b],R=b.charAt(0);A&&A!=="paper"&&(g[b]=r(A,R,!0))}function u(g){g&&((typeof g.title=="string"||typeof g.title=="number")&&(g.title={text:g.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(A,R){var m=g[A],L=g.title&&g.title[R];m&&!L&&(g.title||(g.title={}),g.title[R]=g[A],delete g[A])}}N.cleanData=function(g){for(var b=0;b<g.length;b++){var A=g[b],R;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var m=p.defaults,L=A.error_y.color||(o(A,"bar")?p.defaultLine:m[b%m.length]);A.error_y.color=p.addOpacity(p.rgb(L),p.opacity(L)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(o(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",N.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&N.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),o(A,"gl3d")&&A.scene&&(A.scene=x.subplotsRegistry.gl3d.cleanId(A.scene)),!o(A,"pie-like")&&!o(A,"bar-like"))if(Array.isArray(A.textposition))for(R=0;R<A.textposition.length;R++)A.textposition[R]=y(A.textposition[R]);else A.textposition&&(A.textposition=y(A.textposition));var M=n.getModule(A);if(M&&M.colorbar){var s=M.colorbar.container,S=s?A[s]:A;S&&S.colorscale&&(S.colorscale==="YIGnBu"&&(S.colorscale="YlGnBu"),S.colorscale==="YIOrRd"&&(S.colorscale="YlOrRd"))}if(A.type==="surface"&&C.isPlainObject(A.contours)){var w=["x","y","z"];for(R=0;R<w.length;R++){var _=A.contours[w[R]];C.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var I=(A.increasing||{}).showlegend!==!1,H=(A.decreasing||{}).showlegend!==!1,O=f(A.increasing),V=f(A.decreasing);if(O!==!1&&V!==!1){var B=l(O,V,I,H);B&&(A.name=B)}else(O||V)&&!A.name&&(A.name=O||V)}if(Array.isArray(A.transforms)){var F=A.transforms;for(R=0;R<F.length;R++){var G=F[R];if(C.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var Y=G.styles,Q=Object.keys(Y);G.styles=[];for(var te=0;te<Q.length;te++)G.styles.push({target:Q[te],value:Y[Q[te]]})}break}}}c(A,"line")&&delete A.line,"marker"in A&&(c(A.marker,"line")&&delete A.marker.line,c(A,"marker")&&delete A.marker),p.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),u(A),A.colorbar&&u(A.colorbar),A.marker&&A.marker.colorbar&&u(A.marker.colorbar),A.line&&A.line.colorbar&&u(A.line.colorbar),A.aaxis&&u(A.aaxis),A.baxis&&u(A.baxis)}};function f(g){if(!C.isPlainObject(g))return!1;var b=g.name;return delete g.name,delete g.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function l(g,b,A,R){if(A&&!R)return g;if(R&&!A||!g.trim())return b;if(!b.trim())return g;var m=Math.min(g.length,b.length),L;for(L=0;L<m&&g.charAt(L)===b.charAt(L);L++);var M=g.substr(0,L);return M.trim()}function y(g){var b="middle",A="center";return typeof g=="string"&&(g.indexOf("top")!==-1?b="top":g.indexOf("bottom")!==-1&&(b="bottom"),g.indexOf("left")!==-1?A="left":g.indexOf("right")!==-1&&(A="right")),b+" "+A}function c(g,b){return b in g&&typeof g[b]=="object"&&Object.keys(g[b]).length===0}N.swapXYData=function(g){var b;if(C.swapAttrs(g,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(g.z)&&Array.isArray(g.z[0])&&(g.transpose?delete g.transpose:g.transpose=!0),g.error_x&&g.error_y){var A=g.error_y,R="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);C.swapAttrs(g,["error_?.copy_ystyle"]),R&&C.swapAttrs(g,["error_?.color","error_?.thickness","error_?.width"])}if(typeof g.hoverinfo=="string"){var m=g.hoverinfo.split("+");for(b=0;b<m.length;b++)m[b]==="x"?m[b]="y":m[b]==="y"&&(m[b]="x");g.hoverinfo=m.join("+")}},N.coerceTraceIndices=function(g,b){if(d(b))return[b];if(!Array.isArray(b)||!b.length)return g.data.map(function(m,L){return L});if(Array.isArray(b)){for(var A=[],R=0;R<b.length;R++)C.isIndex(b[R],g.data.length)?A.push(b[R]):C.warn("trace index (",b[R],") is not a number or is out of bounds");return A}return b},N.manageArrayContainers=function(g,b,A){var R=g.obj,m=g.parts,L=m.length,M=m[L-1],s=d(M);if(s&&b===null){var S=m.slice(0,L-1).join("."),w=C.nestedProperty(R,S).get();w.splice(M,1)}else s&&g.get()===void 0&&g.get()===void 0&&(A[g.astr]=null),g.set(b)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(g){var b=g.search(T);if(b>0)return g.substr(0,b)}N.hasParent=function(g,b){for(var A=h(b);A;){if(A in g)return!0;A=h(A)}return!1};var i=["x","y","z"];N.clearAxisTypes=function(g,b,A){for(var R=0;R<b.length;R++)for(var m=g._fullData[R],L=0;L<3;L++){var M=t(g,m,i[L]);if(M&&M.type!=="log"){var s=M._name,S=M._id.substr(1);if(S.substr(0,5)==="scene"){if(A[S]!==void 0)continue;s=S+"."+s}var w=s+".type";A[s]===void 0&&A[w]===void 0&&C.nestedProperty(g.layout,w).set(null)}}}},22448:function(U,N,e){var d=e(36424);N._doPlot=d._doPlot,N.newPlot=d.newPlot,N.restyle=d.restyle,N.relayout=d.relayout,N.redraw=d.redraw,N.update=d.update,N._guiRestyle=d._guiRestyle,N._guiRelayout=d._guiRelayout,N._guiUpdate=d._guiUpdate,N._storeDirectGUIEdit=d._storeDirectGUIEdit,N.react=d.react,N.extendTraces=d.extendTraces,N.prependTraces=d.prependTraces,N.addTraces=d.addTraces,N.deleteTraces=d.deleteTraces,N.moveTraces=d.moveTraces,N.purge=d.purge,N.addFrames=d.addFrames,N.deleteFrames=d.deleteFrames,N.animate=d.animate,N.setPlotConfig=d.setPlotConfig;var P=e(52200).getGraphDiv,n=e(4016).eraseActiveShape;N.deleteActiveShape=function(x){return n(P(x))},N.toImage=e(67024),N.validate=e(21480),N.downloadImage=e(39792);var C=e(94828);N.makeTemplate=C.makeTemplate,N.validateTemplate=C.validateTemplate},17680:function(U,N,e){var d=e(63620),P=e(16628),n=e(24248),C=e(14952).sorterAsc,x=e(24040);N.containerArrayMatch=e(69820);var v=N.isAddVal=function(t){return t==="add"||d(t)},p=N.isRemoveVal=function(t){return t===null||t==="remove"};N.applyContainerArrayChanges=function(t,o,a,u,f){var l=o.astr,y=x.getComponentMethod(l,"supplyLayoutDefaults"),c=x.getComponentMethod(l,"draw"),T=x.getComponentMethod(l,"drawOne"),h=u.replot||u.recalc||y===P||c===P,i=t.layout,g=t._fullLayout;if(a[""]){Object.keys(a).length>1&&n.warn("Full array edits are incompatible with other edits",l);var b=a[""][""];if(p(b))o.set(null);else if(Array.isArray(b))o.set(b);else return n.warn("Unrecognized full array edit value",l,b),!0;return h?!1:(y(i,g),c(t),!0)}var A=Object.keys(a).map(Number).sort(C),R=o.get(),m=R||[],L=f(g,l).get(),M=[],s=-1,S=m.length,w,_,I,H,O,V,B,F;for(w=0;w<A.length;w++){if(I=A[w],H=a[I],O=Object.keys(H),V=H[""],B=v(V),I<0||I>m.length-(B?0:1)){n.warn("index out of range",l,I);continue}if(V!==void 0)O.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",l,I),p(V)?M.push(I):B?(V==="add"&&(V={}),m.splice(I,0,V),L&&L.splice(I,0,{})):n.warn("Unrecognized full object edit value",l,I,V),s===-1&&(s=I);else for(_=0;_<O.length;_++)F=l+"["+I+"].",f(m[I],O[_],F).set(H[O[_]])}for(w=M.length-1;w>=0;w--)m.splice(M[w],1),L&&L.splice(M[w],1);if(m.length?R||o.set(m):o.set(null),h)return!1;if(y(i,g),T!==P){var G;if(s===-1)G=A;else{for(S=Math.max(m.length,S),G=[],w=0;w<A.length&&(I=A[w],!(I>=s));w++)G.push(I);for(w=s;w<S;w++)G.push(w)}for(w=0;w<G.length;w++)T(t,G[w])}else c(t);return!0}},36424:function(U,N,e){var d=e(33428),P=e(38248),n=e(52264),C=e(3400),x=C.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),o=e(7316),a=e(54460),u=e(96312),f=e(94724),l=e(43616),y=e(76308),c=e(42464).initInteractions,T=e(9616),h=e(22676).clearOutline,i=e(20556).dfltConfig,g=e(17680),b=e(93404),A=e(39172),R=e(67824),m=e(33816).AX_NAME_PATTERN,L=0,M=5;function s(de,be,Ne,Ye){var at;if(de=C.getGraphDiv(de),v.init(de),C.isPlainObject(be)){var lt=be;be=lt.data,Ne=lt.layout,Ye=lt.config,at=lt.frames}var Ht=v.triggerHandler(de,"plotly_beforeplot",[be,Ne,Ye]);if(Ht===!1)return Promise.reject();!be&&!Ne&&!C.isPlotDiv(de)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",de);function Yt(){if(at)return N.addFrames(de,at)}H(de,Ye),Ne||(Ne={}),d.select(de).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(de._promises)||(de._promises=[]);var Tt=(de.data||[]).length===0&&Array.isArray(be);Array.isArray(be)&&(b.cleanData(be),Tt?de.data=be:de.data.push.apply(de.data,be),de.empty=!1),(!de.layout||Tt)&&(de.layout=b.cleanLayout(Ne)),o.supplyDefaults(de);var Lt=de._fullLayout,Kt=Lt._has("cartesian");Lt._replotting=!0,(Tt||Lt._shouldCreateBgLayer)&&(Re(de),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),l.initGradients(de),l.initPatterns(de),Tt&&a.saveShowSpikeInitial(de);var vr=!de.calcdata||de.calcdata.length!==(de._fullData||[]).length;vr&&o.doCalcdata(de);for(var gt=0;gt<de.calcdata.length;gt++)de.calcdata[gt][0].trace=de._fullData[gt];de._context.responsive?de._responsiveChartHandler||(de._responsiveChartHandler=function(){C.isHidden(de)||o.resize(de)},window.addEventListener("resize",de._responsiveChartHandler)):C.clearResponsive(de);var Xt=C.extendFlat({},Lt._size),$t=0;function mr(){for(var Ot=Lt._basePlotModules,Nt=0;Nt<Ot.length;Nt++)Ot[Nt].drawFramework&&Ot[Nt].drawFramework(de);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=de._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*Jt).attr("height",Lt.height*Jt).style("width",Lt.width+"px").style("height",Lt.height+"px");var hr=Lt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Lt.width*Jt)!==hr._gl.drawingBufferWidth||Math.floor(Lt.height*Jt)!==hr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if($t)C.error(cr);else return C.log(cr+" Clearing graph and plotting again."),o.cleanPlot([],{},de._fullData,Lt),o.supplyDefaults(de),Lt=de._fullLayout,o.doCalcdata(de),$t++,mr()}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),o.previousPromises(de)}function or(){if(o.clearAutoMarginIds(de),A.drawMarginPushers(de),a.allowAutoMargin(de),de._fullLayout.title.text&&de._fullLayout.title.automargin&&o.allowAutoMargin(de,"title.automargin"),Lt._has("pie"))for(var Ot=de._fullData,Nt=0;Nt<Ot.length;Nt++){var Jt=Ot[Nt];Jt.type==="pie"&&Jt.automargin&&o.allowAutoMargin(de,"pie."+Jt.uid+".automargin")}return o.doAutoMargin(de),o.previousPromises(de)}function yt(){if(o.didMarginChange(Xt,Lt._size))return C.syncOrAsync([or,A.layoutStyles],de)}function ut(){if(!vr){bt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],de)}function bt(){de._transitioning||(A.doAutoRangeAndConstraints(de),Tt&&a.saveRangeInitial(de),r.getComponentMethod("rangeslider","calcAutorange")(de))}function Et(){return a.draw(de,Tt?"":"redraw")}var It=[o.previousPromises,Yt,mr,or,yt];Kt&&It.push(ut),It.push(A.layoutStyles),Kt&&It.push(Et,function(Nt){var Jt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,we(Nt,Jt).then(function(){a.saveRangeInitial(Nt,!0)})}),It.push(A.drawData,A.finalDraw,c,o.addLinks,o.rehover,o.redrag,o.reselect,o.doAutoMargin,o.previousPromises);var Ft=C.syncOrAsync(It,de);return(!Ft||!Ft.then)&&(Ft=Promise.resolve()),Ft.then(function(){return S(de),de})}function S(de){var be=de._fullLayout;be._redrawFromAutoMarginCount?be._redrawFromAutoMarginCount--:de.emit("plotly_afterplot")}function w(de){return C.extendFlat(i,de)}function _(de,be){try{de._fullLayout._paper.style("background",be)}catch(Ne){C.error(Ne)}}function I(de,be){var Ne=y.combine(be,"white");_(de,Ne)}function H(de,be){if(!de._context){de._context=C.extendDeep({},i);var Ne=d.select("base");de._context._baseUrl=Ne.size()&&Ne.attr("href")?window.location.href.split("#")[0]:""}var Ye=de._context,at,lt,Ht;if(be){for(lt=Object.keys(be),at=0;at<lt.length;at++)Ht=lt[at],!(Ht==="editable"||Ht==="edits")&&Ht in Ye&&(Ht==="setBackground"&&be[Ht]==="opaque"?Ye[Ht]=I:Ye[Ht]=be[Ht]);be.plot3dPixelRatio&&!Ye.plotGlPixelRatio&&(Ye.plotGlPixelRatio=Ye.plot3dPixelRatio);var Yt=be.editable;if(Yt!==void 0)for(Ye.editable=Yt,lt=Object.keys(Ye.edits),at=0;at<lt.length;at++)Ye.edits[lt[at]]=Yt;if(be.edits)for(lt=Object.keys(be.edits),at=0;at<lt.length;at++)Ht=lt[at],Ht in Ye.edits&&(Ye.edits[Ht]=be.edits[Ht]);Ye._exportedPlot=be._exportedPlot}Ye.staticPlot&&(Ye.editable=!1,Ye.edits={},Ye.autosizable=!1,Ye.scrollZoom=!1,Ye.doubleClick=!1,Ye.showTips=!1,Ye.showLink=!1,Ye.displayModeBar=!1),Ye.displayModeBar==="hover"&&!n&&(Ye.displayModeBar=!0),(Ye.setBackground==="transparent"||typeof Ye.setBackground!="function")&&(Ye.setBackground=_),Ye._hasZeroHeight=Ye._hasZeroHeight||de.clientHeight===0,Ye._hasZeroWidth=Ye._hasZeroWidth||de.clientWidth===0;var Tt=Ye.scrollZoom,Lt=Ye._scrollZoom={};if(Tt===!0)Lt.cartesian=1,Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1;else if(typeof Tt=="string"){var Kt=Tt.split("+");for(at=0;at<Kt.length;at++)Lt[Kt[at]]=1}else Tt!==!1&&(Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1)}function O(de){if(de=C.getGraphDiv(de),!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de);return b.cleanData(de.data),b.cleanLayout(de.layout),de.calcdata=void 0,N._doPlot(de).then(function(){return de.emit("plotly_redraw"),de})}function V(de,be,Ne,Ye){return de=C.getGraphDiv(de),o.cleanPlot([],{},de._fullData||[],de._fullLayout||{}),o.purge(de),N._doPlot(de,be,Ne,Ye)}function B(de,be){var Ne=be+1,Ye=[],at,lt;for(at=0;at<de.length;at++)lt=de[at],lt<0?Ye.push(Ne+lt):Ye.push(lt);return Ye}function F(de,be,Ne){var Ye,at;for(Ye=0;Ye<be.length;Ye++){if(at=be[Ye],at!==parseInt(at,10))throw new Error("all values in "+Ne+" must be integers");if(at>=de.data.length||at<-de.data.length)throw new Error(Ne+" must be valid indices for gd.data.");if(be.indexOf(at,Ye+1)>-1||at>=0&&be.indexOf(-de.data.length+at)>-1||at<0&&be.indexOf(de.data.length+at)>-1)throw new Error("each index in "+Ne+" must be unique.")}}function G(de,be,Ne){if(!Array.isArray(de.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(be)||(be=[be]),F(de,be,"currentIndices"),typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&F(de,Ne,"newIndices"),typeof Ne<"u"&&be.length!==Ne.length)throw new Error("current and new indices must be of equal length.")}function Y(de,be,Ne){var Ye,at;if(!Array.isArray(de.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("traces must be defined.");for(Array.isArray(be)||(be=[be]),Ye=0;Ye<be.length;Ye++)if(at=be[Ye],typeof at!="object"||Array.isArray(at)||at===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&Ne.length!==be.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Q(de,be,Ne,Ye){var at=C.isPlainObject(Ye);if(!Array.isArray(de.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(be))throw new Error("update must be a key:value object");if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers");F(de,Ne,"indices");for(var lt in be){if(!Array.isArray(be[lt])||be[lt].length!==Ne.length)throw new Error("attribute "+lt+" must be an array of length equal to indices array length");if(at&&(!(lt in Ye)||!Array.isArray(Ye[lt])||Ye[lt].length!==be[lt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function te(de,be,Ne,Ye){var at=C.isPlainObject(Ye),lt=[],Ht,Yt,Tt,Lt,Kt;Array.isArray(Ne)||(Ne=[Ne]),Ne=B(Ne,de.data.length-1);for(var vr in be)for(var gt=0;gt<Ne.length;gt++){if(Ht=de.data[Ne[gt]],Tt=x(Ht,vr),Yt=Tt.get(),Lt=be[vr][gt],!C.isArrayOrTypedArray(Lt))throw new Error("attribute: "+vr+" index: "+gt+" must be an array");if(!C.isArrayOrTypedArray(Yt))throw new Error("cannot extend missing or non-array attribute: "+vr);if(Yt.constructor!==Lt.constructor)throw new Error("cannot extend array with an array of a different type: "+vr);Kt=at?Ye[vr][gt]:Ye,P(Kt)||(Kt=-1),lt.push({prop:Tt,target:Yt,insert:Lt,maxp:Math.floor(Kt)})}return lt}function ae(de,be,Ne,Ye,at){Q(de,be,Ne,Ye);for(var lt=te(de,be,Ne,Ye),Ht={},Yt={},Tt=0;Tt<lt.length;Tt++){var Lt=lt[Tt].prop,Kt=lt[Tt].maxp,vr=at(lt[Tt].target,lt[Tt].insert,Kt);Lt.set(vr[0]),Array.isArray(Ht[Lt.astr])||(Ht[Lt.astr]=[]),Ht[Lt.astr].push(vr[1]),Array.isArray(Yt[Lt.astr])||(Yt[Lt.astr]=[]),Yt[Lt.astr].push(lt[Tt].target.length)}return{update:Ht,maxPoints:Yt}}function fe(de,be){var Ne=new de.constructor(de.length+be.length);return Ne.set(de),Ne.set(be,de.length),Ne}function oe(de,be,Ne,Ye){de=C.getGraphDiv(de);function at(Tt,Lt,Kt){var vr,gt;if(C.isTypedArray(Tt))if(Kt<0){var Xt=new Tt.constructor(0),$t=fe(Tt,Lt);Kt<0?(vr=$t,gt=Xt):(vr=Xt,gt=$t)}else if(vr=new Tt.constructor(Kt),gt=new Tt.constructor(Tt.length+Lt.length-Kt),Kt===Lt.length)vr.set(Lt),gt.set(Tt);else if(Kt<Lt.length){var mr=Lt.length-Kt;vr.set(Lt.subarray(mr)),gt.set(Tt),gt.set(Lt.subarray(0,mr),Tt.length)}else{var or=Kt-Lt.length,yt=Tt.length-or;vr.set(Tt.subarray(yt)),vr.set(Lt,or),gt.set(Tt.subarray(0,yt))}else vr=Tt.concat(Lt),gt=Kt>=0&&Kt<vr.length?vr.splice(0,vr.length-Kt):[];return[vr,gt]}var lt=ae(de,be,Ne,Ye,at),Ht=N.redraw(de),Yt=[de,lt.update,Ne,lt.maxPoints];return p.add(de,N.prependTraces,Yt,oe,arguments),Ht}function J(de,be,Ne,Ye){de=C.getGraphDiv(de);function at(Tt,Lt,Kt){var vr,gt;if(C.isTypedArray(Tt))if(Kt<=0){var Xt=new Tt.constructor(0),$t=fe(Lt,Tt);Kt<0?(vr=$t,gt=Xt):(vr=Xt,gt=$t)}else if(vr=new Tt.constructor(Kt),gt=new Tt.constructor(Tt.length+Lt.length-Kt),Kt===Lt.length)vr.set(Lt),gt.set(Tt);else if(Kt<Lt.length){var mr=Lt.length-Kt;vr.set(Lt.subarray(0,mr)),gt.set(Lt.subarray(mr)),gt.set(Tt,mr)}else{var or=Kt-Lt.length;vr.set(Lt),vr.set(Tt.subarray(0,or),Lt.length),gt.set(Tt.subarray(or))}else vr=Lt.concat(Tt),gt=Kt>=0&&Kt<vr.length?vr.splice(Kt,vr.length):[];return[vr,gt]}var lt=ae(de,be,Ne,Ye,at),Ht=N.redraw(de),Yt=[de,lt.update,Ne,lt.maxPoints];return p.add(de,N.extendTraces,Yt,J,arguments),Ht}function ee(de,be,Ne){de=C.getGraphDiv(de);var Ye=[],at=N.deleteTraces,lt=ee,Ht=[de,Ye],Yt=[de,be],Tt,Lt;for(Y(de,be,Ne),Array.isArray(be)||(be=[be]),be=be.map(function(Kt){return C.extendFlat({},Kt)}),b.cleanData(be),Tt=0;Tt<be.length;Tt++)de.data.push(be[Tt]);for(Tt=0;Tt<be.length;Tt++)Ye.push(-be.length+Tt);if(typeof Ne>"u")return Lt=N.redraw(de),p.add(de,at,Ht,lt,Yt),Lt;Array.isArray(Ne)||(Ne=[Ne]);try{G(de,Ye,Ne)}catch(Kt){throw de.data.splice(de.data.length-be.length,be.length),Kt}return p.startSequence(de),p.add(de,at,Ht,lt,Yt),Lt=N.moveTraces(de,Ye,Ne),p.stopSequence(de),Lt}function X(de,be){de=C.getGraphDiv(de);var Ne=[],Ye=N.addTraces,at=X,lt=[de,Ne,be],Ht=[de,be],Yt,Tt;if(typeof be>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(be)||(be=[be]),F(de,be,"indices"),be=B(be,de.data.length-1),be.sort(C.sorterDes),Yt=0;Yt<be.length;Yt+=1)Tt=de.data.splice(be[Yt],1)[0],Ne.push(Tt);var Lt=N.redraw(de);return p.add(de,Ye,lt,at,Ht),Lt}function q(de,be,Ne){de=C.getGraphDiv(de);var Ye=[],at=[],lt=q,Ht=q,Yt=[de,Ne,be],Tt=[de,be,Ne],Lt;if(G(de,be,Ne),be=Array.isArray(be)?be:[be],typeof Ne>"u")for(Ne=[],Lt=0;Lt<be.length;Lt++)Ne.push(-be.length+Lt);for(Ne=Array.isArray(Ne)?Ne:[Ne],be=B(be,de.data.length-1),Ne=B(Ne,de.data.length-1),Lt=0;Lt<de.data.length;Lt++)be.indexOf(Lt)===-1&&Ye.push(de.data[Lt]);for(Lt=0;Lt<be.length;Lt++)at.push({newIndex:Ne[Lt],trace:de.data[be[Lt]]});for(at.sort(function(vr,gt){return vr.newIndex-gt.newIndex}),Lt=0;Lt<at.length;Lt+=1)Ye.splice(at[Lt].newIndex,0,at[Lt].trace);de.data=Ye;var Kt=N.redraw(de);return p.add(de,lt,Yt,Ht,Tt),Kt}function le(de,be,Ne,Ye){de=C.getGraphDiv(de),b.clearPromiseQueue(de);var at={};if(typeof be=="string")at[be]=Ne;else if(C.isPlainObject(be))at=C.extendFlat({},be),Ye===void 0&&(Ye=Ne);else return C.warn("Restyle fail.",be,Ne,Ye),Promise.reject();Object.keys(at).length&&(de.changed=!0);var lt=b.coerceTraceIndices(de,Ye),Ht=he(de,at,lt),Yt=Ht.flags;Yt.calc&&(de.calcdata=void 0),Yt.clearAxisTypes&&b.clearAxisTypes(de,lt,{});var Tt=[];Yt.fullReplot?Tt.push(N._doPlot):(Tt.push(o.previousPromises),o.supplyDefaults(de),Yt.markerSize&&(o.doCalcdata(de),Le(Tt)),Yt.style&&Tt.push(A.doTraceStyle),Yt.colorbars&&Tt.push(A.doColorBars),Tt.push(S)),Tt.push(o.rehover,o.redrag,o.reselect),p.add(de,le,[de,Ht.undoit,Ht.traces],le,[de,Ht.redoit,Ht.traces]);var Lt=C.syncOrAsync(Tt,de);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return de.emit("plotly_restyle",Ht.eventData),de})}function $(de){return de===void 0?null:de}function j(de,be){return be?function(Ne,Ye,at){var lt=x(Ne,Ye),Ht=lt.set;return lt.set=function(Yt){var Tt=(at||"")+Ye;se(Tt,lt.get(),Yt,de),Ht(Yt)},lt}:x}function se(de,be,Ne,Ye){if(Array.isArray(be)||Array.isArray(Ne))for(var at=Array.isArray(be)?be:[],lt=Array.isArray(Ne)?Ne:[],Ht=Math.max(at.length,lt.length),Yt=0;Yt<Ht;Yt++)se(de+"["+Yt+"]",at[Yt],lt[Yt],Ye);else if(C.isPlainObject(be)||C.isPlainObject(Ne)){var Tt=C.isPlainObject(be)?be:{},Lt=C.isPlainObject(Ne)?Ne:{},Kt=C.extendFlat({},Tt,Lt);for(var vr in Kt)se(de+"."+vr,Tt[vr],Lt[vr],Ye)}else Ye[de]===void 0&&(Ye[de]=$(be))}function ne(de,be,Ne){for(var Ye in Ne){var at=x(de,Ye);se(Ye,at.get(),Ne[Ye],be)}}function he(de,be,Ne){var Ye=de._fullLayout,at=de._fullData,lt=de.data,Ht=Ye._guiEditing,Yt=j(Ye._preGUI,Ht),Tt=C.extendDeepAll({},be),Lt;me(be);var Kt=R.traceFlags(),vr={},gt={},Xt;function $t(){return Ne.map(function(){})}function mr(an){var gr=a.id2name(an);Xt.indexOf(gr)===-1&&Xt.push(gr)}function or(an){return"LAYOUT"+an+".autorange"}function yt(an){return"LAYOUT"+an+".range"}function ut(an){for(var gr=an;gr<at.length;gr++)if(at[gr]._input===lt[an])return at[gr]}function bt(an,gr,Pr){if(Array.isArray(an)){an.forEach(function(rn){bt(rn,gr,Pr)});return}if(!(an in be||b.hasParent(be,an))){var Xr;if(an.substr(0,6)==="LAYOUT")Xr=Yt(de.layout,an.replace("LAYOUT",""));else{var _r=Ne[Pr],gn=Ye._tracePreGUI[ut(_r)._fullInput.uid];Xr=j(gn,Ht)(lt[_r],an)}an in gt||(gt[an]=$t()),gt[an][Pr]===void 0&&(gt[an][Pr]=$(Xr.get())),gr!==void 0&&Xr.set(gr)}}function Et(an){return function(gr){return at[gr][an]}}function It(an){return function(gr,Pr){return gr===!1?at[Ne[Pr]][an]:null}}for(var Ft in be){if(b.hasParent(be,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Ot=be[Ft],Nt,Jt,hr,cr,dr,fr;if((Ft==="autobinx"||Ft==="autobiny")&&(Ft=Ft.charAt(Ft.length-1)+"bins",Array.isArray(Ot)?Ot=Ot.map(It(Ft)):Ot===!1?Ot=Ne.map(Et(Ft)):Ot=null),vr[Ft]=Ot,Ft.substr(0,6)==="LAYOUT"){hr=Yt(de.layout,Ft.replace("LAYOUT","")),gt[Ft]=[$(hr.get())],hr.set(Array.isArray(Ot)?Ot[0]:Ot),Kt.calc=!0;continue}for(gt[Ft]=$t(),Lt=0;Lt<Ne.length;Lt++){Nt=lt[Ne[Lt]],Jt=ut(Ne[Lt]);var Lr=Ye._tracePreGUI[Jt._fullInput.uid];if(hr=j(Lr,Ht)(Nt,Ft),cr=hr.get(),dr=Array.isArray(Ot)?Ot[Lt%Ot.length]:Ot,dr!==void 0){var xr=hr.parts[hr.parts.length-1],Qe=Ft.substr(0,Ft.length-xr.length-1),rt=Qe?Qe+".":"",er=Qe?x(Jt,Qe).get():Jt;if(fr=t.getTraceValObject(Jt,hr.parts),fr&&fr.impliedEdits&&dr!==null)for(var tr in fr.impliedEdits)bt(C.relativeAttr(Ft,tr),fr.impliedEdits[tr],Lt);else if((xr==="thicknessmode"||xr==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&er){var jt=Ye._size,Pt=er.orient,Zt=Pt==="top"||Pt==="bottom";if(xr==="thicknessmode"){var nr=Zt?jt.h:jt.w;bt(rt+"thickness",er.thickness*(dr==="fraction"?1/nr:nr),Lt)}else{var Qt=Zt?jt.w:jt.h;bt(rt+"len",er.len*(dr==="fraction"?1/Qt:Qt),Lt)}}else if(Ft==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var Wt="x",yr="y";(dr==="bar"||cr==="bar")&&Nt.orientation==="h"&&(Wt="y",yr="x"),C.swapAttrs(Nt,["?","?src"],"labels",Wt),C.swapAttrs(Nt,["d?","?0"],"label",Wt),C.swapAttrs(Nt,["?","?src"],"values",yr),cr==="pie"||cr==="funnelarea"?(x(Nt,"marker.color").set(x(Nt,"marker.colors").get()),Ye._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&x(Nt,"marker.colors").set(x(Nt,"marker.color").get())}gt[Ft][Lt]=$(cr);var Dr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Dr.indexOf(Ft)!==-1){if(Ft==="orientation"){hr.set(dr);var Tr=Nt.x&&!Nt.y?"h":"v";if((hr.get()||Tr)===Jt.orientation)continue}else Ft==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Jt.orientation]);b.swapXYData(Nt),Kt.calc=Kt.clearAxisTypes=!0}else o.dataArrayContainers.indexOf(hr.parts[0])!==-1?(b.manageArrayContainers(hr,dr,gt),Kt.calc=!0):(fr?fr.arrayOk&&!r.traceIs(Jt,"regl")&&(C.isArrayOrTypedArray(dr)||C.isArrayOrTypedArray(cr))?Kt.calc=!0:R.update(Kt,fr):Kt.calc=!0,hr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&a.swap(de,Ne),Ft==="orientationaxes"){var dn=x(de.layout,"hovermode"),Nr=dn.get();Nr==="x"?dn.set("y"):Nr==="y"?dn.set("x"):Nr==="x unified"?dn.set("y unified"):Nr==="y unified"&&dn.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(Xt=[],Lt=0;Lt<Ne.length;Lt++){var Cn=lt[Ne[Lt]];r.traceIs(Cn,"cartesian")&&(mr(Cn.xaxis||"x"),mr(Cn.yaxis||"y"))}bt(Xt.map(or),!0,0),bt(Xt.map(yt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:gt,redoit:vr,traces:Ne,eventData:C.extendDeepNoArrays([],[Tt,Ne])}}function me(de){var be=C.counterRegex("axis",".title",!1,!1),Ne=/colorbar\.title$/,Ye=Object.keys(de),at,lt,Ht;for(at=0;at<Ye.length;at++)lt=Ye[at],Ht=de[lt],(lt==="title"||be.test(lt)||Ne.test(lt))&&(typeof Ht=="string"||typeof Ht=="number")?Yt(lt,lt.replace("title","title.text")):lt.indexOf("titlefont")>-1&&lt.indexOf("grouptitlefont")===-1?Yt(lt,lt.replace("titlefont","title.font")):lt.indexOf("titleposition")>-1?Yt(lt,lt.replace("titleposition","title.position")):lt.indexOf("titleside")>-1?Yt(lt,lt.replace("titleside","title.side")):lt.indexOf("titleoffset")>-1&&Yt(lt,lt.replace("titleoffset","title.offset"));function Yt(Tt,Lt){de[Lt]=de[Tt],delete de[Tt]}}function we(de,be,Ne){de=C.getGraphDiv(de),b.clearPromiseQueue(de);var Ye={};if(typeof be=="string")Ye[be]=Ne;else if(C.isPlainObject(be))Ye=C.extendFlat({},be);else return C.warn("Relayout fail.",be,Ne),Promise.reject();Object.keys(Ye).length&&(de.changed=!0);var at=_e(de,Ye),lt=at.flags;lt.calc&&(de.calcdata=void 0);var Ht=[o.previousPromises];lt.layoutReplot?Ht.push(A.layoutReplot):Object.keys(Ye).length&&(Te(de,lt,at)||o.supplyDefaults(de),lt.legend&&Ht.push(A.doLegend),lt.layoutstyle&&Ht.push(A.layoutStyles),lt.axrange&&Le(Ht,at.rangesAltered),lt.ticks&&Ht.push(A.doTicksRelayout),lt.modebar&&Ht.push(A.doModeBar),lt.camera&&Ht.push(A.doCamera),lt.colorbars&&Ht.push(A.doColorBars),Ht.push(S)),Ht.push(o.rehover,o.redrag,o.reselect),p.add(de,we,[de,at.undoit],we,[de,at.redoit]);var Yt=C.syncOrAsync(Ht,de);return(!Yt||!Yt.then)&&(Yt=Promise.resolve(de)),Yt.then(function(){return de.emit("plotly_relayout",at.eventData),de})}function Te(de,be,Ne){var Ye=de._fullLayout;if(!be.axrange)return!1;for(var at in be)if(at!=="axrange"&&be[at])return!1;var lt,Ht,Yt=function(Xt,$t){return C.coerce(lt,Ht,f,Xt,$t)},Tt={};for(var Lt in Ne.rangesAltered){var Kt=a.id2name(Lt);if(lt=de.layout[Kt],Ht=Ye[Kt],u(lt,Ht,Yt,Tt),Ht._matchGroup){for(var vr in Ht._matchGroup)if(vr!==Lt){var gt=Ye[a.id2name(vr)];gt.autorange=Ht.autorange,gt.range=Ht.range.slice(),gt._input.range=Ht.range.slice()}}}return!0}function Le(de,be){var Ne=be?function(Ye){var at=[],lt=!0;for(var Ht in be){var Yt=a.getFromId(Ye,Ht);if(at.push(Ht),(Yt.ticklabelposition||"").indexOf("inside")!==-1&&Yt._anchorAxis&&at.push(Yt._anchorAxis._id),Yt._matchGroup)for(var Tt in Yt._matchGroup)be[Tt]||at.push(Tt)}return a.draw(Ye,at,{skipTitle:lt})}:function(Ye){return a.draw(Ye,"redraw")};de.push(h,A.doAutoRangeAndConstraints,Ne,A.drawData,A.finalDraw)}var Ie=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ze=/^[xyz]axis[0-9]*\.autorange$/,Me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function _e(de,be){var Ne=de.layout,Ye=de._fullLayout,at=Ye._guiEditing,lt=j(Ye._preGUI,at),Ht=Object.keys(be),Yt=a.list(de),Tt=C.extendDeepAll({},be),Lt={},Kt,vr,gt;for(me(be),Ht=Object.keys(be),vr=0;vr<Ht.length;vr++)if(Ht[vr].indexOf("allaxes")===0){for(gt=0;gt<Yt.length;gt++){var Xt=Yt[gt]._id.substr(1),$t=Xt.indexOf("scene")!==-1?Xt+".":"",mr=Ht[vr].replace("allaxes",$t+Yt[gt]._name);be[mr]||(be[mr]=be[Ht[vr]])}delete be[Ht[vr]]}var or=R.layoutFlags(),yt={},ut={};function bt(gn,rn){if(Array.isArray(gn)){gn.forEach(function(Pn){bt(Pn,rn)});return}if(!(gn in be||b.hasParent(be,gn))){var An=lt(Ne,gn);gn in ut||(ut[gn]=$(An.get())),rn!==void 0&&An.set(rn)}}var Et={},It;function Ft(gn){var rn=a.name2id(gn.split(".")[0]);return Et[rn]=1,rn}for(var Ot in be){if(b.hasParent(be,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");for(var Nt=lt(Ne,Ot),Jt=be[Ot],hr=Nt.parts.length,cr=hr-1;cr>0&&typeof Nt.parts[cr]!="string";)cr--;var dr=Nt.parts[cr],fr=Nt.parts[cr-1]+"."+dr,Lr=Nt.parts.slice(0,cr).join("."),xr=x(de.layout,Lr).get(),Qe=x(Ye,Lr).get(),rt=Nt.get();if(Jt!==void 0){yt[Ot]=Jt,ut[Ot]=dr==="reverse"?Jt:$(rt);var er=t.getLayoutValObject(Ye,Nt.parts);if(er&&er.impliedEdits&&Jt!==null)for(var tr in er.impliedEdits)bt(C.relativeAttr(Ot,tr),er.impliedEdits[tr]);if(["width","height"].indexOf(Ot)!==-1)if(Jt){bt("autosize",null);var jt=Ot==="height"?"width":"height";bt(jt,Ye[jt])}else Ye[Ot]=de._initialAutoSize[Ot];else if(Ot==="autosize")bt("width",Jt?null:Ye.width),bt("height",Jt?null:Ye.height);else if(fr.match(Ie))Ft(fr),x(Ye,Lr+"._inputRange").set(null);else if(fr.match(ze)){Ft(fr),x(Ye,Lr+"._inputRange").set(null);var Pt=x(Ye,Lr).get();Pt._inputDomain&&(Pt._input.domain=Pt._inputDomain.slice())}else fr.match(Me)&&x(Ye,Lr+"._inputDomain").set(null);if(dr==="type"){It=xr;var Zt=Qe.type==="linear"&&Jt==="log",nr=Qe.type==="log"&&Jt==="linear";if(Zt||nr){if(!It||!It.range)bt(Lr+".autorange",!0);else if(Qe.autorange)Zt&&(It.range=It.range[1]>It.range[0]?[1,2]:[2,1]);else{var Qt=It.range[0],Wt=It.range[1];Zt?(Qt<=0&&Wt<=0&&bt(Lr+".autorange",!0),Qt<=0?Qt=Wt/1e6:Wt<=0&&(Wt=Qt/1e6),bt(Lr+".range[0]",Math.log(Qt)/Math.LN10),bt(Lr+".range[1]",Math.log(Wt)/Math.LN10)):(bt(Lr+".range[0]",Math.pow(10,Qt)),bt(Lr+".range[1]",Math.pow(10,Wt)))}Array.isArray(Ye._subplots.polar)&&Ye._subplots.polar.length&&Ye[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete Ye[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(de,Qe,Jt,bt),r.getComponentMethod("images","convertCoords")(de,Qe,Jt,bt)}else bt(Lr+".autorange",!0),bt(Lr+".range",null);x(Ye,Lr+"._inputRange").set(null)}else if(dr.match(m)){var yr=x(Ye,Ot).get(),Dr=(Jt||{}).type;(!Dr||Dr==="-")&&(Dr="linear"),r.getComponentMethod("annotations","convertCoords")(de,yr,Dr,bt),r.getComponentMethod("images","convertCoords")(de,yr,Dr,bt)}var Tr=g.containerArrayMatch(Ot);if(Tr){Kt=Tr.array,vr=Tr.index;var dn=Tr.property,Nr=er||{editType:"calc"};vr!==""&&dn===""&&(g.isAddVal(Jt)?ut[Ot]=null:g.isRemoveVal(Jt)?ut[Ot]=(x(Ne,Kt).get()||[])[vr]:C.warn("unrecognized full object value",be)),R.update(or,Nr),Lt[Kt]||(Lt[Kt]={});var Cn=Lt[Kt][vr];Cn||(Cn=Lt[Kt][vr]={}),Cn[dn]=Jt,delete be[Ot]}else dr==="reverse"?(xr.range?xr.range.reverse():(bt(Lr+".autorange",!0),xr.range=[1,0]),Qe.autorange?or.calc=!0:or.plot=!0):(Ot==="dragmode"&&(Jt===!1&&rt!==!1||Jt!==!1&&rt===!1)||Ye._has("scatter-like")&&Ye._has("regl")&&Ot==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(rt==="lasso"||rt==="select")||Ye._has("gl2d")?or.plot=!0:er?R.update(or,er):or.calc=!0,Nt.set(Jt))}}for(Kt in Lt){var an=g.applyContainerArrayChanges(de,lt(Ne,Kt),Lt[Kt],or,lt);an||(or.plot=!0)}for(var gr in Et){It=a.getFromId(de,gr);var Pr=It&&It._constraintGroup;if(Pr){or.calc=!0;for(var Xr in Pr)Et[Xr]||(a.getFromId(de,Xr)._constraintShrinkable=!0)}}(Ce(de)||be.height||be.width)&&(or.plot=!0);var _r=Ye.shapes;for(vr=0;vr<_r.length;vr++)if(_r[vr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Et,undoit:ut,redoit:yt,eventData:Tt}}function Ce(de){var be=de._fullLayout,Ne=be.width,Ye=be.height;return de.layout.autosize&&o.plotAutoSize(de,de.layout,be),be.width!==Ne||be.height!==Ye}function Oe(de,be,Ne,Ye){de=C.getGraphDiv(de),b.clearPromiseQueue(de),C.isPlainObject(be)||(be={}),C.isPlainObject(Ne)||(Ne={}),Object.keys(be).length&&(de.changed=!0),Object.keys(Ne).length&&(de.changed=!0);var at=b.coerceTraceIndices(de,Ye),lt=he(de,C.extendFlat({},be),at),Ht=lt.flags,Yt=_e(de,C.extendFlat({},Ne)),Tt=Yt.flags;(Ht.calc||Tt.calc)&&(de.calcdata=void 0),Ht.clearAxisTypes&&b.clearAxisTypes(de,at,Ne);var Lt=[];Tt.layoutReplot?Lt.push(A.layoutReplot):Ht.fullReplot?Lt.push(N._doPlot):(Lt.push(o.previousPromises),Te(de,Tt,Yt)||o.supplyDefaults(de),Ht.style&&Lt.push(A.doTraceStyle),(Ht.colorbars||Tt.colorbars)&&Lt.push(A.doColorBars),Tt.legend&&Lt.push(A.doLegend),Tt.layoutstyle&&Lt.push(A.layoutStyles),Tt.axrange&&Le(Lt,Yt.rangesAltered),Tt.ticks&&Lt.push(A.doTicksRelayout),Tt.modebar&&Lt.push(A.doModeBar),Tt.camera&&Lt.push(A.doCamera),Lt.push(S)),Lt.push(o.rehover,o.redrag,o.reselect),p.add(de,Oe,[de,lt.undoit,Yt.undoit,lt.traces],Oe,[de,lt.redoit,Yt.redoit,lt.traces]);var Kt=C.syncOrAsync(Lt,de);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(de)),Kt.then(function(){return de.emit("plotly_update",{data:lt.eventData,layout:Yt.eventData}),de})}function Pe(de){return function(Ne){Ne._fullLayout._guiEditing=!0;var Ye=de.apply(null,arguments);return Ne._fullLayout._guiEditing=!1,Ye}}var Ge=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ze=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function it(de,be){for(var Ne=0;Ne<be.length;Ne++){var Ye=be[Ne],at=de.match(Ye.pattern);if(at){var lt=at[1]||"";return{head:lt,tail:de.substr(lt.length+1),attr:Ye.attr}}}}function Je(de,be){var Ne=x(be,de).get();if(Ne!==void 0)return Ne;var Ye=de.split(".");for(Ye.pop();Ye.length>1;)if(Ye.pop(),Ne=x(be,Ye.join(".")+".uirevision").get(),Ne!==void 0)return Ne;return be.uirevision}function et(de,be){for(var Ne=0;Ne<be.length;Ne++)if(be[Ne]._fullInput.uid===de)return Ne;return-1}function ft(de,be,Ne){for(var Ye=0;Ye<be.length;Ye++)if(be[Ye].uid===de)return Ye;return!be[Ne]||be[Ne].uid?-1:Ne}function vt(de,be){var Ne=C.isPlainObject(de),Ye=Array.isArray(de);return Ne||Ye?(Ne&&C.isPlainObject(be)||Ye&&Array.isArray(be))&&JSON.stringify(de)===JSON.stringify(be):de===be}function dt(de,be,Ne,Ye){var at=Ye._preGUI,lt,Ht,Yt,Tt,Lt,Kt,vr,gt,Xt,$t,mr=[],or={},yt={};for(lt in at){if(Lt=it(lt,Ge),Lt){if(Xt=Lt.head,$t=Lt.tail,Ht=Lt.attr||Xt+".uirevision",Yt=x(Ye,Ht).get(),Tt=Yt&&Je(Ht,be),Tt&&Tt===Yt){if(Kt=at[lt],Kt===null&&(Kt=void 0),vr=x(be,lt),gt=vr.get(),vt(gt,Kt)){gt===void 0&&$t==="autorange"&&mr.push(Xt),vr.set($(x(Ye,lt).get()));continue}else if($t==="autorange"||$t.substr(0,6)==="range["){var ut=at[Xt+".range[0]"],bt=at[Xt+".range[1]"],Et=at[Xt+".autorange"];if(Et||Et===null&&ut===null&&bt===null){if(!(Xt in or)){var It=x(be,Xt).get();or[Xt]=It&&(It.autorange||It.autorange!==!1&&(!It.range||It.range.length!==2))}if(or[Xt]){vr.set($(x(Ye,lt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+lt);delete at[lt],Lt&&Lt.tail.substr(0,6)==="range["&&(yt[Lt.head]=1)}for(var Ft=0;Ft<mr.length;Ft++){var Ot=mr[Ft];if(yt[Ot]){var Nt=x(be,Ot).get();Nt&&delete Nt.autorange}}var Jt=Ye._tracePreGUI;for(var hr in Jt){var cr=Jt[hr],dr=null,fr;for(lt in cr){if(!dr){var Lr=et(hr,Ne);if(Lr<0){delete Jt[hr];break}var xr=Ne[Lr];fr=xr._fullInput;var Qe=ft(hr,de,fr.index);if(Qe<0){delete Jt[hr];break}dr=de[Qe]}if(Lt=it(lt,Ze),Lt){if(Lt.attr?(Yt=x(Ye,Lt.attr).get(),Tt=Yt&&Je(Lt.attr,be)):(Yt=fr.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=be.uirevision)),Tt&&Tt===Yt&&(Kt=cr[lt],Kt===null&&(Kt=void 0),vr=x(dr,lt),gt=vr.get(),vt(gt,Kt))){vr.set($(x(fr,lt).get()));continue}}else C.warn("unrecognized GUI edit: "+lt+" in trace uid "+hr);delete cr[lt]}}}function xt(de,be,Ne,Ye){var at,lt;function Ht(){return N.addFrames(de,at)}de=C.getGraphDiv(de),b.clearPromiseQueue(de);var Yt=de._fullData,Tt=de._fullLayout;if(!C.isPlotDiv(de)||!Yt||!Tt)lt=N.newPlot(de,be,Ne,Ye);else{if(C.isPlainObject(be)){var Lt=be;be=Lt.data,Ne=Lt.layout,Ye=Lt.config,at=Lt.frames}var Kt=!1;if(Ye){var vr=C.extendDeep({},de._context);de._context=void 0,H(de,Ye),Kt=We(vr,de._context)}de.data=be||[],b.cleanData(de.data),de.layout=Ne||{},b.cleanLayout(de.layout),dt(de.data,de.layout,Yt,Tt),o.supplyDefaults(de,{skipUpdateCalc:!0});var gt=de._fullData,Xt=de._fullLayout,$t=Xt.datarevision===void 0,mr=Xt.transition,or=nt(de,Tt,Xt,$t,mr),yt=or.newDataRevision,ut=Mt(de,Yt,gt,$t,mr,yt);if(Ce(de)&&(or.layoutReplot=!0),ut.calc||or.calc){de.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Xt),Et=0;Et<bt.length;Et++){var It=bt[Et],Ft=It.substring(0,5);if(Ft==="xaxis"||Ft==="yaxis"){var Ot=Xt[It]._emptyCategories;Ot&&Ot()}}}else o.supplyDefaultsUpdateCalc(de.calcdata,gt);var Nt=[];if(at&&(de._transitionData={},o.createTransitionData(de),Nt.push(Ht)),Xt.transition&&!Kt&&(ut.anim||or.anim))or.ticks&&Nt.push(A.doTicksRelayout),o.doCalcdata(de),A.doAutoRangeAndConstraints(de),Nt.push(function(){return o.transitionFromReact(de,ut,or,Tt)});else if(ut.fullReplot||or.layoutReplot||Kt)de._fullLayout._skipDefaults=!0,Nt.push(N._doPlot);else{for(var Jt in or.arrays){var hr=or.arrays[Jt];if(hr.length){var cr=r.getComponentMethod(Jt,"drawOne");if(cr!==C.noop)for(var dr=0;dr<hr.length;dr++)cr(de,hr[dr]);else{var fr=r.getComponentMethod(Jt,"draw");if(fr===C.noop)throw new Error("cannot draw components: "+Jt);fr(de)}}}Nt.push(o.previousPromises),ut.style&&Nt.push(A.doTraceStyle),(ut.colorbars||or.colorbars)&&Nt.push(A.doColorBars),or.legend&&Nt.push(A.doLegend),or.layoutstyle&&Nt.push(A.layoutStyles),or.axrange&&Le(Nt),or.ticks&&Nt.push(A.doTicksRelayout),or.modebar&&Nt.push(A.doModeBar),or.camera&&Nt.push(A.doCamera),Nt.push(S)}Nt.push(o.rehover,o.redrag,o.reselect),lt=C.syncOrAsync(Nt,de),(!lt||!lt.then)&&(lt=Promise.resolve(de))}return lt.then(function(){return de.emit("plotly_react",{data:be,layout:Ne}),de})}function Mt(de,be,Ne,Ye,at,lt){var Ht=be.length===Ne.length;if(!at&&!Ht)return{fullReplot:!0,calc:!0};var Yt=R.traceFlags();Yt.arrays={},Yt.nChanges=0,Yt.nChangesAnim=0;var Tt,Lt;function Kt(Xt){var $t=t.getTraceValObject(Lt,Xt);return!Lt._module.animatable&&$t.anim&&($t.anim=!1),$t}var vr={getValObject:Kt,flags:Yt,immutable:Ye,transition:at,newDataRevision:lt,gd:de},gt={};for(Tt=0;Tt<be.length;Tt++)if(Ne[Tt]){if(Lt=Ne[Tt]._fullInput,o.hasMakesDataTransform(Lt)&&(Lt=Ne[Tt]),gt[Lt.uid])continue;gt[Lt.uid]=1,Fe(be[Tt]._fullInput,Lt,[],vr)}return(Yt.calc||Yt.plot)&&(Yt.fullReplot=!0),at&&Yt.nChanges&&Yt.nChangesAnim&&(Yt.anim=Yt.nChanges===Yt.nChangesAnim&&Ht?"all":"some"),Yt}function nt(de,be,Ne,Ye,at){var lt=R.layoutFlags();lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0;function Ht(Tt){return t.getLayoutValObject(Ne,Tt)}var Yt={getValObject:Ht,flags:lt,immutable:Ye,transition:at,gd:de};return Fe(be,Ne,[],Yt),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),at&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}function Fe(de,be,Ne,Ye){var at,lt,Ht,Yt=Ye.getValObject,Tt=Ye.flags,Lt=Ye.immutable,Kt=Ye.inArray,vr=Ye.arrayIndex;function gt(){var Lr=at.editType;if(Kt&&Lr.indexOf("arraydraw")!==-1){C.pushUnique(Tt.arrays[Kt],vr);return}R.update(Tt,at),Lr!=="none"&&Tt.nChanges++,Ye.transition&&at.anim&&Tt.nChangesAnim++,(Ie.test(Ht)||ze.test(Ht))&&(Tt.rangesAltered[Ne[0]]=1),Me.test(Ht)&&x(be,"_inputDomain").set(null),lt==="datarevision"&&(Tt.newDataRevision=1)}function Xt(Lr){return Lr.valType==="data_array"||Lr.arrayOk}for(lt in de){if(Tt.calc&&!Ye.transition)return;var $t=de[lt],mr=be[lt],or=Ne.concat(lt);if(Ht=or.join("."),!(lt.charAt(0)==="_"||typeof $t=="function"||$t===mr)){if((lt==="tick0"||lt==="dtick")&&Ne[0]!=="geo"){var yt=be.tickmode;if(yt==="auto"||yt==="array"||!yt)continue}if(!(lt==="range"&&be.autorange)&&!((lt==="zmin"||lt==="zmax")&&be.type==="contourcarpet")&&(at=Yt(or),!!at&&!(at._compareAsJSON&&JSON.stringify($t)===JSON.stringify(mr)))){var ut=at.valType,bt,Et=Xt(at),It=Array.isArray($t),Ft=Array.isArray(mr);if(It&&Ft){var Ot="_input_"+lt,Nt=de[Ot],Jt=be[Ot];if(Array.isArray(Nt)&&Nt===Jt)continue}if(mr===void 0)Et&&It?Tt.calc=!0:gt();else if(at._isLinkedToArray){var hr=[],cr=!1;Kt||(Tt.arrays[lt]=hr);var dr=Math.min($t.length,mr.length),fr=Math.max($t.length,mr.length);if(dr!==fr)if(at.editType==="arraydraw")cr=!0;else{gt();continue}for(bt=0;bt<dr;bt++)Fe($t[bt],mr[bt],or.concat(bt),C.extendFlat({inArray:lt,arrayIndex:bt},Ye));if(cr)for(bt=dr;bt<fr;bt++)hr.push(bt)}else!ut&&C.isPlainObject($t)?Fe($t,mr,or,Ye):Et?It&&Ft?(Lt&&(Tt.calc=!0),(Lt||Ye.newDataRevision)&&gt()):It!==Ft?Tt.calc=!0:gt():It&&Ft?($t.length!==mr.length||String($t)!==String(mr))&&gt():gt()}}}for(lt in be)if(!(lt in de||lt.charAt(0)==="_"||typeof be[lt]=="function"))if(at=Yt(Ne.concat(lt)),Xt(at)&&Array.isArray(be[lt])){Tt.calc=!0;return}else gt()}function We(de,be){var Ne;for(Ne in de)if(Ne.charAt(0)!=="_"){var Ye=de[Ne],at=be[Ne];if(Ye!==at)if(C.isPlainObject(Ye)&&C.isPlainObject(at)){if(We(Ye,at))return!0}else if(Array.isArray(Ye)&&Array.isArray(at)){if(Ye.length!==at.length)return!0;for(var lt=0;lt<Ye.length;lt++)if(Ye[lt]!==at[lt])if(C.isPlainObject(Ye[lt])&&C.isPlainObject(at[lt])){if(We(Ye[lt],at[lt]))return!0}else return!0}else return!0}}function je(de,be,Ne){if(de=C.getGraphDiv(de),!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ye=de._transitionData;Ye._frameQueue||(Ye._frameQueue=[]),Ne=o.supplyAnimationDefaults(Ne);var at=Ne.transition,lt=Ne.frame;Ye._frameWaitingCnt===void 0&&(Ye._frameWaitingCnt=0);function Ht(Lt){return Array.isArray(at)?Lt>=at.length?at[0]:at[Lt]:at}function Yt(Lt){return Array.isArray(lt)?Lt>=lt.length?lt[0]:lt[Lt]:lt}function Tt(Lt,Kt){var vr=0;return function(){if(Lt&&++vr===Kt)return Lt()}}return new Promise(function(Lt,Kt){function vr(){if(Ye._frameQueue.length!==0){for(;Ye._frameQueue.length;){var dr=Ye._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}de.emit("plotly_animationinterrupted",[])}}function gt(dr){if(dr.length!==0){for(var fr=0;fr<dr.length;fr++){var Lr;dr[fr].type==="byname"?Lr=o.computeFrame(de,dr[fr].name):Lr=dr[fr].data;var xr=Yt(fr),Qe=Ht(fr);Qe.duration=Math.min(Qe.duration,xr.duration);var rt={frame:Lr,name:dr[fr].name,frameOpts:xr,transitionOpts:Qe};fr===dr.length-1&&(rt.onComplete=Tt(Lt,2),rt.onInterrupt=Kt),Ye._frameQueue.push(rt)}Ne.mode==="immediate"&&(Ye._lastFrameAt=-1/0),Ye._animationRaf||mr()}}function Xt(){de.emit("plotly_animated"),window.cancelAnimationFrame(Ye._animationRaf),Ye._animationRaf=null}function $t(){Ye._currentFrame&&Ye._currentFrame.onComplete&&Ye._currentFrame.onComplete();var dr=Ye._currentFrame=Ye._frameQueue.shift();if(dr){var fr=dr.name?dr.name.toString():null;de._fullLayout._currentFrame=fr,Ye._lastFrameAt=Date.now(),Ye._timeToNext=dr.frameOpts.duration,o.transition(de,dr.frame.data,dr.frame.layout,b.coerceTraceIndices(de,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),de.emit("plotly_animatingframe",{name:fr,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Xt()}function mr(){de.emit("plotly_animating"),Ye._lastFrameAt=-1/0,Ye._timeToNext=0,Ye._runningTransitions=0,Ye._currentFrame=null;var dr=function(){Ye._animationRaf=window.requestAnimationFrame(dr),Date.now()-Ye._lastFrameAt>Ye._timeToNext&&$t()};dr()}var or=0;function yt(dr){return Array.isArray(at)?or>=at.length?dr.transitionOpts=at[or]:dr.transitionOpts=at[0]:dr.transitionOpts=at,or++,dr}var ut,bt,Et=[],It=be==null,Ft=Array.isArray(be),Ot=!It&&!Ft&&C.isPlainObject(be);if(Ot)Et.push({type:"object",data:yt(C.extendFlat({},be))});else if(It||["string","number"].indexOf(typeof be)!==-1)for(ut=0;ut<Ye._frames.length;ut++)bt=Ye._frames[ut],bt&&(It||String(bt.group)===String(be))&&Et.push({type:"byname",name:String(bt.name),data:yt({name:bt.name})});else if(Ft)for(ut=0;ut<be.length;ut++){var Nt=be[ut];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Et.push({type:"byname",name:Nt,data:yt({name:Nt})})):C.isPlainObject(Nt)&&Et.push({type:"object",data:yt(C.extendFlat({},Nt))})}for(ut=0;ut<Et.length;ut++)if(bt=Et[ut],bt.type==="byname"&&!Ye._frameHash[bt.data.name]){C.warn('animate failure: frame not found: "'+bt.data.name+'"'),Kt();return}["next","immediate"].indexOf(Ne.mode)!==-1&&vr(),Ne.direction==="reverse"&&Et.reverse();var Jt=de._fullLayout._currentFrame;if(Jt&&Ne.fromcurrent){var hr=-1;for(ut=0;ut<Et.length;ut++)if(bt=Et[ut],bt.type==="byname"&&bt.name===Jt){hr=ut;break}if(hr>0&&hr<Et.length-1){var cr=[];for(ut=0;ut<Et.length;ut++)bt=Et[ut],(Et[ut].type!=="byname"||ut>hr)&&cr.push(bt);Et=cr}}Et.length>0?gt(Et):(de.emit("plotly_animated"),Lt())})}function Ke(de,be,Ne){if(de=C.getGraphDiv(de),be==null)return Promise.resolve();if(!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ye,at,lt,Ht,Yt=de._transitionData._frames,Tt=de._transitionData._frameHash;if(!Array.isArray(be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+be);var Lt=Yt.length+be.length*2,Kt=[],vr={};for(Ye=be.length-1;Ye>=0;Ye--)if(C.isPlainObject(be[Ye])){var gt=be[Ye].name,Xt=(Tt[gt]||vr[gt]||{}).name,$t=be[Ye].name,mr=Tt[Xt]||vr[Xt];Xt&&$t&&typeof $t=="number"&&mr&&L<M&&(L++,C.warn('addFrames: overwriting frame "'+(Tt[Xt]||vr[Xt]).name+'" with a frame whose name of type "number" also equates to "'+Xt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),L===M&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vr[gt]={name:gt},Kt.push({frame:o.supplyFrameDefaults(be[Ye]),index:Ne&&Ne[Ye]!==void 0&&Ne[Ye]!==null?Ne[Ye]:Lt+Ye})}Kt.sort(function(Ot,Nt){return Ot.index>Nt.index?-1:Ot.index<Nt.index?1:0});var or=[],yt=[],ut=Yt.length;for(Ye=Kt.length-1;Ye>=0;Ye--){if(at=Kt[Ye].frame,typeof at.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!at.name)for(;Tt[at.name="frame "+de._transitionData._counter++];);if(Tt[at.name]){for(lt=0;lt<Yt.length&&(Yt[lt]||{}).name!==at.name;lt++);or.push({type:"replace",index:lt,value:at}),yt.unshift({type:"replace",index:lt,value:Yt[lt]})}else Ht=Math.max(0,Math.min(Kt[Ye].index,ut)),or.push({type:"insert",index:Ht,value:at}),yt.unshift({type:"delete",index:Ht}),ut++}var bt=o.modifyFrames,Et=o.modifyFrames,It=[de,yt],Ft=[de,or];return p&&p.add(de,bt,It,Et,Ft),o.modifyFrames(de,or)}function ke(de,be){if(de=C.getGraphDiv(de),!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de);var Ne,Ye,at=de._transitionData._frames,lt=[],Ht=[];if(!be)for(be=[],Ne=0;Ne<at.length;Ne++)be.push(Ne);for(be=be.slice(),be.sort(),Ne=be.length-1;Ne>=0;Ne--)Ye=be[Ne],lt.push({type:"delete",index:Ye}),Ht.unshift({type:"insert",index:Ye,value:at[Ye]});var Yt=o.modifyFrames,Tt=o.modifyFrames,Lt=[de,Ht],Kt=[de,lt];return p&&p.add(de,Yt,Lt,Tt,Kt),o.modifyFrames(de,lt)}function Ue(de){de=C.getGraphDiv(de);var be=de._fullLayout||{},Ne=de._fullData||[];return o.cleanPlot([],{},Ne,be),o.purge(de),v.purge(de),be._container&&be._container.remove(),delete de._context,de}function Ve(de){var be=de._fullLayout,Ne=de.getBoundingClientRect();if(!C.equalDomRects(Ne,be._lastBBox)){var Ye=be._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(de));be._invScaleX=Math.sqrt(Ye[0][0]*Ye[0][0]+Ye[0][1]*Ye[0][1]+Ye[0][2]*Ye[0][2]),be._invScaleY=Math.sqrt(Ye[1][0]*Ye[1][0]+Ye[1][1]*Ye[1][1]+Ye[1][2]*Ye[1][2]),be._lastBBox=Ne}}function Re(de){var be=d.select(de),Ne=de._fullLayout;if(Ne._calcInverseTransform=Ve,Ne._calcInverseTransform(de),Ne._container=be.selectAll(".plot-container").data([0]),Ne._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ne._paperdiv=Ne._container.selectAll(".svg-container").data([0]),Ne._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ne._glcontainer=Ne._paperdiv.selectAll(".gl-container").data([{}]),Ne._glcontainer.enter().append("div").classed("gl-container",!0),Ne._paperdiv.selectAll(".main-svg").remove(),Ne._paperdiv.select(".modebar-container").remove(),Ne._paper=Ne._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ne._toppaper=Ne._paperdiv.append("svg").classed("main-svg",!0),Ne._modebardiv=Ne._paperdiv.append("div"),delete Ne._modeBar,Ne._hoverpaper=Ne._paperdiv.append("svg").classed("main-svg",!0),!Ne._uid){var Ye={};d.selectAll("defs").each(function(){this.id&&(Ye[this.id.split("-")[1]]=1)}),Ne._uid=C.randstr(Ye)}Ne._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ne._defs=Ne._paper.append("defs").attr("id","defs-"+Ne._uid),Ne._clips=Ne._defs.append("g").classed("clips",!0),Ne._topdefs=Ne._toppaper.append("defs").attr("id","topdefs-"+Ne._uid),Ne._topclips=Ne._topdefs.append("g").classed("clips",!0),Ne._bgLayer=Ne._paper.append("g").classed("bglayer",!0),Ne._draggers=Ne._paper.append("g").classed("draglayer",!0);var at=Ne._paper.append("g").classed("layer-below",!0);Ne._imageLowerLayer=at.append("g").classed("imagelayer",!0),Ne._shapeLowerLayer=at.append("g").classed("shapelayer",!0),Ne._cartesianlayer=Ne._paper.append("g").classed("cartesianlayer",!0),Ne._polarlayer=Ne._paper.append("g").classed("polarlayer",!0),Ne._smithlayer=Ne._paper.append("g").classed("smithlayer",!0),Ne._ternarylayer=Ne._paper.append("g").classed("ternarylayer",!0),Ne._geolayer=Ne._paper.append("g").classed("geolayer",!0),Ne._funnelarealayer=Ne._paper.append("g").classed("funnelarealayer",!0),Ne._pielayer=Ne._paper.append("g").classed("pielayer",!0),Ne._iciclelayer=Ne._paper.append("g").classed("iciclelayer",!0),Ne._treemaplayer=Ne._paper.append("g").classed("treemaplayer",!0),Ne._sunburstlayer=Ne._paper.append("g").classed("sunburstlayer",!0),Ne._indicatorlayer=Ne._toppaper.append("g").classed("indicatorlayer",!0),Ne._glimages=Ne._paper.append("g").classed("glimages",!0);var lt=Ne._toppaper.append("g").classed("layer-above",!0);Ne._imageUpperLayer=lt.append("g").classed("imagelayer",!0),Ne._shapeUpperLayer=lt.append("g").classed("shapelayer",!0),Ne._selectionLayer=Ne._toppaper.append("g").classed("selectionlayer",!0),Ne._infolayer=Ne._toppaper.append("g").classed("infolayer",!0),Ne._menulayer=Ne._toppaper.append("g").classed("menulayer",!0),Ne._zoomlayer=Ne._toppaper.append("g").classed("zoomlayer",!0),Ne._hoverlayer=Ne._hoverpaper.append("g").classed("hoverlayer",!0),Ne._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),de.emit("plotly_framework")}N.animate=je,N.addFrames=Ke,N.deleteFrames=ke,N.addTraces=ee,N.deleteTraces=X,N.extendTraces=oe,N.moveTraces=q,N.prependTraces=J,N.newPlot=V,N._doPlot=s,N.purge=Ue,N.react=xt,N.redraw=O,N.relayout=we,N.restyle=le,N.setPlotConfig=w,N.update=Oe,N._guiRelayout=Pe(we),N._guiRestyle=Pe(le),N._guiUpdate=Pe(Oe),N._storeDirectGUIEdit=ne},20556:function(U){var N={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function d(P,n){for(var C in P){var x=P[C];x.valType?n[C]=x.dflt:(n[C]||(n[C]={}),d(x,n[C]))}}d(N,e),U.exports={configAttributes:N,dfltConfig:e}},73060:function(U,N,e){var d=e(24040),P=e(3400),n=e(45464),C=e(64859),x=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,o=P.isPlainObject,a=P.isArrayOrTypedArray,u=P.nestedProperty,f=P.valObjectMeta,l="_isSubplotObj",y="_isLinkedToArray",c="_arrayAttrRegexps",T="_deprecated",h=[l,y,c,T];N.IS_SUBPLOT_OBJ=l,N.IS_LINKED_TO_ARRAY=y,N.DEPRECATED=T,N.UNDERSCORE_ATTRS=h,N.get=function(){var H={};d.allTypes.forEach(function(V){H[V]=A(V)});var O={};return Object.keys(d.transformsRegistry).forEach(function(V){O[V]=m(V)}),{defs:{valObjects:f,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:H,layout:R(),transforms:O,frames:L(),animation:M(v),config:M(p)}},N.crawl=function(H,O,V,B){var F=V||0;B=B||"",Object.keys(H).forEach(function(G){var Y=H[G];if(h.indexOf(G)===-1){var Q=(B?B+".":"")+G;O(Y,G,H,F,Q),!N.isValObject(Y)&&o(Y)&&G!=="impliedEdits"&&N.crawl(Y,O,F+1,Q)}})},N.isValObject=function(H){return H&&H.valType!==void 0},N.findArrayAttributes=function(H){var O=[],V=[],B=[],F,G;function Y(J,ee,X,q){V=V.slice(0,q).concat([ee]),B=B.slice(0,q).concat([J&&J._isLinkedToArray]);var le=J&&(J.valType==="data_array"||J.arrayOk===!0)&&!(V[q-1]==="colorbar"&&(ee==="ticktext"||ee==="tickvals"));le&&Q(F,0,"")}function Q(J,ee,X){var q=J[V[ee]],le=X+V[ee];if(ee===V.length-1)a(q)&&O.push(G+le);else if(B[ee]){if(Array.isArray(q))for(var $=0;$<q.length;$++)o(q[$])&&Q(q[$],ee+1,le+"["+$+"].")}else o(q)&&Q(q,ee+1,le+".")}F=H,G="",N.crawl(n,Y),H._module&&H._module.attributes&&N.crawl(H._module.attributes,Y);var te=H.transforms;if(te)for(var ae=0;ae<te.length;ae++){var fe=te[ae],oe=fe._module;oe&&(G="transforms["+ae+"].",F=fe,N.crawl(oe.attributes,Y))}return O},N.getTraceValObject=function(H,O){var V=O[0],B=1,F,G;if(V==="transforms"){if(O.length===1)return n.transforms;var Y=H.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var Q=O[1];if(!b(Q)||Q>=Y.length)return!1;F=(d.transformsRegistry[Y[Q].type]||{}).attributes,G=F&&F[O[2]],B=3}else{var te=H._module;if(te||(te=(d.modules[H.type||n.type.dflt]||{})._module),!te)return!1;if(F=te.attributes,G=F&&F[V],!G){var ae=te.basePlotModule;ae&&ae.attributes&&(G=ae.attributes[V])}G||(G=n[V])}return g(G,O,B)},N.getLayoutValObject=function(H,O){var V=i(H,O[0]);return g(V,O,1)};function i(H,O){var V,B,F,G,Y=H._basePlotModules;if(Y){var Q;for(V=0;V<Y.length;V++){if(F=Y[V],F.attrRegex&&F.attrRegex.test(O)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!Q&&F.layoutAttributes&&(Q=F.layoutAttributes)}var te=F.baseLayoutAttrOverrides;if(te&&O in te)return te[O]}if(Q)return Q}var ae=H._modules;if(ae){for(V=0;V<ae.length;V++)if(G=ae[V].layoutAttributes,G&&O in G)return G[O]}for(B in d.componentsRegistry){if(F=d.componentsRegistry[B],F.name==="colorscale"&&O.indexOf("coloraxis")===0)return F.layoutAttributes[O];if(!F.schema&&O===F.name)return F.layoutAttributes}return O in C?C[O]:!1}function g(H,O,V){if(!H)return!1;if(H._isLinkedToArray){if(b(O[V]))V++;else if(V<O.length)return!1}for(;V<O.length;V++){var B=H[O[V]];if(o(B))H=B;else break;if(V===O.length-1)break;if(H._isLinkedToArray){if(V++,!b(O[V]))return!1}else if(H.valType==="info_array"){V++;var F=O[V];if(!b(F))return!1;var G=H.items;if(Array.isArray(G)){if(F>=G.length)return!1;if(H.dimensions===2){if(V++,O.length===V)return H;var Y=O[V];if(!b(Y))return!1;H=G[F][Y]}else H=G[F]}else H=G}}return H}function b(H){return H===Math.round(H)&&H>=0}function A(H){var O,V;O=d.modules[H]._module,V=O.basePlotModule;var B={};B.type=null;var F=t({},n),G=t({},O.attributes);N.crawl(G,function(te,ae,fe,oe,J){u(F,J).set(void 0),te===void 0&&u(G,J).set(void 0)}),t(B,F),d.traceIs(H,"noOpacity")&&delete B.opacity,d.traceIs(H,"showLegend")||(delete B.showlegend,delete B.legendgroup),d.traceIs(H,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),O.selectPoints||delete B.selectedpoints,t(B,G),V.attributes&&t(B,V.attributes),B.type=H;var Y={meta:O.meta||{},categories:O.categories||{},animatable:!!O.animatable,type:H,attributes:M(B)};if(O.layoutAttributes){var Q={};t(Q,O.layoutAttributes),Y.layoutAttributes=M(Q)}return O.animatable||N.crawl(Y,function(te){N.isValObject(te)&&"anim"in te&&delete te.anim}),Y}function R(){var H={},O,V;t(H,C);for(O in d.subplotsRegistry)if(V=d.subplotsRegistry[O],!!V.layoutAttributes)if(Array.isArray(V.attr))for(var B=0;B<V.attr.length;B++)_(H,V,V.attr[B]);else{var F=V.attr==="subplot"?V.name:V.attr;_(H,V,F)}for(O in d.componentsRegistry){V=d.componentsRegistry[O];var G=V.schema;if(G&&(G.subplots||G.layout)){var Y=G.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var Q in Y.xaxis)delete H.yaxis[Q];delete H.xaxis.shift,delete H.xaxis.autoshift}else V.name==="colorscale"?t(H,V.layoutAttributes):V.layoutAttributes&&I(H,V.layoutAttributes,V.name)}return{layoutAttributes:M(H)}}function m(H){var O=d.transformsRegistry[H],V=t({},O.attributes);return Object.keys(d.componentsRegistry).forEach(function(B){var F=d.componentsRegistry[B];F.schema&&F.schema.transforms&&F.schema.transforms[H]&&Object.keys(F.schema.transforms[H]).forEach(function(G){I(V,F.schema.transforms[H][G],G)})}),{attributes:M(V)}}function L(){var H={frames:t({},x)};return M(H),H.frames}function M(H){return s(H),S(H),w(H),H}function s(H){function O(B){return{valType:"string",editType:"none"}}function V(B,F,G){N.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(G[F+"src"]=O()):o(B)&&(B.role="object")}N.crawl(H,V)}function S(H){function O(V,B,F){if(V){var G=V[y];G&&(delete V[y],F[B]={items:{}},F[B].items[G]=V,F[B].role="object")}}N.crawl(H,O)}function w(H){function O(V){for(var B in V)if(o(V[B]))O(V[B]);else if(Array.isArray(V[B]))for(var F=0;F<V[B].length;F++)O(V[B][F]);else V[B]instanceof RegExp&&(V[B]=V[B].toString())}O(H)}function _(H,O,V){var B=u(H,V),F=t({},O.layoutAttributes);F[l]=!0,B.set(F)}function I(H,O,V){var B=u(H,V);B.set(t(B.get()||{},O))}},31780:function(U,N,e){var d=e(3400),P=e(45464),n="templateitemname",C={name:{valType:"string",editType:"none"}};C[n]={valType:"string",editType:"calc"},N.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=C.name,r[n]=C[n],r},N.traceTemplater=function(p){var r={},t,o;for(t in p)o=p[t],Array.isArray(o)&&o.length&&(r[t]=0);function a(u){t=d.coerce(u,{},P,"type");var f={type:t,_template:null};if(t in r){o=p[t];var l=r[t]%o.length;r[t]++,f._template=o[l]}return f}return{newTrace:a}},N.newContainer=function(p,r,t){var o=p._template,a=o&&(o[r]||t&&o[t]);d.isPlainObject(a)||(a=null);var u=p[r]={_template:a};return u},N.arrayTemplater=function(p,r,t){var o=p._template,a=o&&o[v(r)],u=o&&o[r];(!Array.isArray(u)||!u.length)&&(u=[]);var f={};function l(c){var T={name:c.name,_input:c},h=T[n]=c[n];if(!x(h))return T._template=a,T;for(var i=0;i<u.length;i++){var g=u[i];if(g.name===h)return f[h]=1,T._template=g,T}return T[t]=c[t]||!1,T._template=!1,T}function y(){for(var c=[],T=0;T<u.length;T++){var h=u[T],i=h.name;if(x(i)&&!f[i]){var g={_template:h,name:i,_input:{_templateitemname:i}};g[n]=h[n],c.push(g),f[i]=1}}return c}return{newItem:l,defaultItems:y}};function x(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&d.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}N.arrayDefaultKey=v,N.arrayEditor=function(p,r,t){var o=(d.nestedProperty(p,r).get()||[]).length,a=t._index,u=a>=o&&(t._input||{})._templateitemname;u&&(a=o);var f=r+"["+a+"]",l;function y(){l={},u&&(l[f]={},l[f][n]=u)}y();function c(g,b){l[g]=b}function T(g,b){u?d.nestedProperty(l[f],g).set(b):l[f+"."+g]=b}function h(){var g=l;return y(),g}function i(g,b){g&&T(g,b);var A=h();for(var R in A)d.nestedProperty(p,R).set(A[R])}return{modifyBase:c,modifyItem:T,getUpdateObj:h,applyUpdate:i}}},39172:function(U,N,e){var d=e(33428),P=e(24040),n=e(7316),C=e(3400),x=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),o=e(45460),a=e(54460),u=e(84284),f=e(71888),l=f.enforce,y=f.clean,c=e(19280).doAutoRange,T="start",h="middle",i="end",g=e(33816).zindexSeparator;N.layoutStyles=function(B){return C.syncOrAsync([n.doAutoMargin,A],B)};function b(B,F,G){for(var Y=0;Y<G.length;Y++){var Q=G[Y][0],te=G[Y][1];if(!(Q[0]>=B[1]||Q[1]<=B[0])&&te[0]<F[1]&&te[1]>F[0])return!0}return!1}function A(B){var F=B._fullLayout,G=F._size,Y=G.p,Q=a.list(B,"",!0),te,ae,fe,oe,J,ee;if(F._paperdiv.style({width:B._context.responsive&&F.autosize&&!B._context._hasZeroWidth&&!B.layout.width?"100%":F.width+"px",height:B._context.responsive&&F.autosize&&!B._context._hasZeroHeight&&!B.layout.height?"100%":F.height+"px"}).selectAll(".main-svg").call(r.setSize,F.width,F.height),B._context.setBackground(B,F.paper_bgcolor),N.drawMainTitle(B),o.manage(B),!F._has("cartesian"))return n.previousPromises(B);function X(Ve,Re,de){var be=Ve._lw/2;if(Ve._id.charAt(0)==="x"){if(Re){if(de==="top")return Re._offset-Y-be}else return G.t+G.h*(1-(Ve.position||0))+be%1;return Re._offset+Re._length+Y+be}if(Re){if(de==="right")return Re._offset+Re._length+Y+be}else return G.l+G.w*(Ve.position||0)+be%1;return Re._offset-Y-be}for(te=0;te<Q.length;te++){oe=Q[te];var q=oe._anchorAxis;oe._linepositions={},oe._lw=r.crispRound(B,oe.linewidth,1),oe._mainLinePosition=X(oe,q,oe.side),oe._mainMirrorPosition=oe.mirror&&q?X(oe,q,u.OPPOSITE_SIDE[oe.side]):null}var le=[],$=[],j=[],se=p.opacity(F.paper_bgcolor)===1&&p.opacity(F.plot_bgcolor)===1&&F.paper_bgcolor===F.plot_bgcolor;for(ae in F._plots)if(fe=F._plots[ae],fe.mainplot)fe.bg&&fe.bg.remove(),fe.bg=void 0;else{var ne=fe.xaxis.domain,he=fe.yaxis.domain,me=fe.plotgroup;if(b(ne,he,j)&&ae.indexOf(g)===-1){var we=me.node(),Te=fe.bg=C.ensureSingle(me,"rect","bg");we.insertBefore(Te.node(),we.childNodes[0]),$.push(ae)}else me.select("rect.bg").remove(),j.push([ne,he]),se||(le.push(ae),$.push(ae))}var Le=F._bgLayer.selectAll(".bg").data(le);for(Le.enter().append("rect").classed("bg",!0),Le.exit().remove(),Le.each(function(Ve){F._plots[Ve].bg=d.select(this)}),te=0;te<$.length;te++)fe=F._plots[$[te]],J=fe.xaxis,ee=fe.yaxis,fe.bg&&J._offset!==void 0&&ee._offset!==void 0&&fe.bg.call(r.setRect,J._offset-Y,ee._offset-Y,J._length+2*Y,ee._length+2*Y).call(p.fill,F.plot_bgcolor).style("stroke-width",0);if(!F._hasOnlyLargeSploms)for(ae in F._plots){fe=F._plots[ae],J=fe.xaxis,ee=fe.yaxis;var Ie=fe.clipId="clip"+F._uid+ae+"plot",ze=C.ensureSingleById(F._clips,"clipPath",Ie,function(Ve){Ve.classed("plotclip",!0).append("rect")});fe.clipRect=ze.select("rect").attr({width:J._length,height:ee._length}),r.setTranslate(fe.plot,J._offset,ee._offset);var Me,_e;fe._hasClipOnAxisFalse?(Me=null,_e=Ie):(Me=Ie,_e=null),r.setClipUrl(fe.plot,Me,B),fe.layerClipId=_e}var Ce,Oe,Pe,Ge,Ze,it,Je,et,ft,vt,dt,xt,Mt;function nt(Ve){return"M"+Ce+","+Ve+"H"+Oe}function Fe(Ve){return"M"+J._offset+","+Ve+"h"+J._length}function We(Ve){return"M"+Ve+","+et+"V"+Je}function je(Ve){return ee._shift!==void 0&&(Ve+=ee._shift),"M"+Ve+","+ee._offset+"v"+ee._length}function Ke(Ve,Re,de){if(!Ve.showline||ae!==Ve._mainSubplot)return"";if(!Ve._anchorAxis)return de(Ve._mainLinePosition);var be=Re(Ve._mainLinePosition);return Ve.mirror&&(be+=Re(Ve._mainMirrorPosition)),be}for(ae in F._plots){fe=F._plots[ae],J=fe.xaxis,ee=fe.yaxis;var ke="M0,0";R(J,ae)&&(Ze=L(J,"left",ee,Q),Ce=J._offset-(Ze?Y+Ze:0),it=L(J,"right",ee,Q),Oe=J._offset+J._length+(it?Y+it:0),Pe=X(J,ee,"bottom"),Ge=X(J,ee,"top"),Mt=!J._anchorAxis||ae!==J._mainSubplot,Mt&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ae]=[Pe,Ge]),ke=Ke(J,nt,Fe),Mt&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(ke+=nt(Pe)+nt(Ge)),fe.xlines.style("stroke-width",J._lw+"px").call(p.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),fe.xlines.attr("d",ke);var Ue="M0,0";R(ee,ae)&&(dt=L(ee,"bottom",J,Q),Je=ee._offset+ee._length+(dt?Y:0),xt=L(ee,"top",J,Q),et=ee._offset-(xt?Y:0),ft=X(ee,J,"left"),vt=X(ee,J,"right"),Mt=!ee._anchorAxis||ae!==ee._mainSubplot,Mt&&(ee.mirror==="allticks"||ee.mirror==="all")&&(ee._linepositions[ae]=[ft,vt]),Ue=Ke(ee,We,je),Mt&&ee.showline&&(ee.mirror==="all"||ee.mirror==="allticks")&&(Ue+=We(ft)+We(vt)),fe.ylines.style("stroke-width",ee._lw+"px").call(p.stroke,ee.showline?ee.linecolor:"rgba(0,0,0,0)")),fe.ylines.attr("d",Ue)}return a.makeClipPaths(B),n.previousPromises(B)}function R(B,F){return(B.ticks||B.showline)&&(F===B._mainSubplot||B.mirror==="all"||B.mirror==="allticks")}function m(B,F,G){if(!G.showline||!G._lw)return!1;if(G.mirror==="all"||G.mirror==="allticks")return!0;var Y=G._anchorAxis;if(!Y)return!1;var Q=u.FROM_BL[F];return G.side===F?Y.domain[Q]===B.domain[Q]:G.mirror&&Y.domain[1-Q]===B.domain[1-Q]}function L(B,F,G,Y){if(m(B,F,G))return G._lw;for(var Q=0;Q<Y.length;Q++){var te=Y[Q];if(te._mainAxis===G._mainAxis&&m(B,F,te))return te._lw}return 0}N.drawMainTitle=function(B){var F=B._fullLayout.title,G=B._fullLayout,Y=O(G),Q=V(G),te=I(G,Q),ae=_(G,Y);if(t.draw(B,"gtitle",{propContainer:G,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:G._dfltTitle.plot,subtitlePlaceholder:G._dfltTitle.subtitle,attributes:{x:ae,y:te,"text-anchor":Y,dy:Q}}),F.text&&F.automargin){var fe=d.selectAll(".gtitle"),oe=r.bBox(d.selectAll(".g-gtitle").node()).height,J=S(B,F,oe);if(J>0){w(B,te,J,oe),fe.attr({x:ae,y:te,"text-anchor":Y,dy:H(F.yanchor)}).call(x.positionText,ae,te);var ee=(F.text.match(x.BR_TAG_ALL)||[]).length;if(ee){var X=u.LINE_SPACING*ee+u.MID_SHIFT;F.y===0&&(X=-X),fe.selectAll(".line").each(function(){var se=+this.getAttribute("dy").slice(0,-2)-X+"em";this.setAttribute("dy",se)})}var q=d.selectAll(".gtitle-subtitle");if(q.node()){var le=fe.node().getBBox(),$=le.y+le.height,j=$+t.SUBTITLE_PADDING_EM*F.subtitle.font.size;q.attr({x:ae,y:j,"text-anchor":Y,dy:H(F.yanchor)}).call(x.positionText,ae,j)}}}};function M(B,F,G,Y,Q){var te=F.yref==="paper"?B._fullLayout._size.h:B._fullLayout.height,ae=C.isTopAnchor(F)?Y:Y-Q,fe=G==="b"?te-ae:ae;return C.isTopAnchor(F)&&G==="t"||C.isBottomAnchor(F)&&G==="b"?!1:fe<Q}function s(B,F,G,Y,Q){var te=0;return G==="middle"&&(te+=Q/2),B==="t"?(G==="top"&&(te+=Q),te+=Y-F*Y):(G==="bottom"&&(te+=Q),te+=F*Y),te}function S(B,F,G){var Y=F.y,Q=F.yanchor,te=Y>.5?"t":"b",ae=B._fullLayout.margin[te],fe=0;return F.yref==="paper"?fe=G+F.pad.t+F.pad.b:F.yref==="container"&&(fe=s(te,Y,Q,B._fullLayout.height,G)+F.pad.t+F.pad.b),fe>ae?fe:0}function w(B,F,G,Y){var Q="title.automargin",te=B._fullLayout.title,ae=te.y>.5?"t":"b",fe={x:te.x,y:te.y,t:0,b:0},oe={};te.yref==="paper"&&M(B,te,ae,F,Y)?fe[ae]=G:te.yref==="container"&&(oe[ae]=G,B._fullLayout._reservedMargin[Q]=oe),n.allowAutoMargin(B,Q),n.autoMargin(B,Q,fe)}function _(B,F){var G=B.title,Y=B._size,Q=0;switch(F===T?Q=G.pad.l:F===i&&(Q=-G.pad.r),G.xref){case"paper":return Y.l+Y.w*G.x+Q;case"container":default:return B.width*G.x+Q}}function I(B,F){var G=B.title,Y=B._size,Q=0;if(F==="0em"||!F?Q=-G.pad.b:F===u.CAP_SHIFT+"em"&&(Q=G.pad.t),G.y==="auto")return Y.t/2;switch(G.yref){case"paper":return Y.t+Y.h-Y.h*G.y+Q;case"container":default:return B.height-B.height*G.y+Q}}function H(B){return B==="top"?u.CAP_SHIFT+.3+"em":B==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function O(B){var F=B.title,G=h;return C.isRightAnchor(F)?G=i:C.isLeftAnchor(F)&&(G=T),G}function V(B){var F=B.title,G="0em";return C.isTopAnchor(F)?G=u.CAP_SHIFT+"em":C.isMiddleAnchor(F)&&(G=u.MID_SHIFT+"em"),G}N.doTraceStyle=function(B){var F=B.calcdata,G=[],Y;for(Y=0;Y<F.length;Y++){var Q=F[Y],te=Q[0]||{},ae=te.trace||{},fe=ae._module||{},oe=fe.arraysToCalcdata;oe&&oe(Q,ae);var J=fe.editStyle;J&&G.push({fn:J,cd0:te})}if(G.length){for(Y=0;Y<G.length;Y++){var ee=G[Y];ee.fn(B,ee.cd0)}v(B),N.redrawReglTraces(B)}return n.style(B),P.getComponentMethod("legend","draw")(B),n.previousPromises(B)},N.doColorBars=function(B){return P.getComponentMethod("colorbar","draw")(B),n.previousPromises(B)},N.layoutReplot=function(B){var F=B.layout;return B.layout=void 0,P.call("_doPlot",B,"",F)},N.doLegend=function(B){return P.getComponentMethod("legend","draw")(B),n.previousPromises(B)},N.doTicksRelayout=function(B){return a.draw(B,"redraw"),B._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(B),v(B),N.redrawReglTraces(B)),N.drawMainTitle(B),n.previousPromises(B)},N.doModeBar=function(B){var F=B._fullLayout;o.manage(B);for(var G=0;G<F._basePlotModules.length;G++){var Y=F._basePlotModules[G].updateFx;Y&&Y(B)}return n.previousPromises(B)},N.doCamera=function(B){for(var F=B._fullLayout,G=F._subplots.gl3d,Y=0;Y<G.length;Y++){var Q=F[G[Y]],te=Q._scene;te.setViewport(Q)}},N.drawData=function(B){var F=B._fullLayout;v(B);for(var G=F._basePlotModules,Y=0;Y<G.length;Y++)G[Y].plot(B);return N.redrawReglTraces(B),n.style(B),P.getComponentMethod("selections","draw")(B),P.getComponentMethod("shapes","draw")(B),P.getComponentMethod("annotations","draw")(B),P.getComponentMethod("images","draw")(B),F._replotting=!1,n.previousPromises(B)},N.redrawReglTraces=function(B){var F=B._fullLayout;if(F._has("regl")){var G=B._fullData,Y=[],Q=[],te,ae;for(F._hasOnlyLargeSploms&&F._splomGrid.draw(),te=0;te<G.length;te++){var fe=G[te];fe.visible===!0&&fe._length!==0&&(fe.type==="splom"?F._splomScenes[fe.uid].draw():fe.type==="scattergl"?C.pushUnique(Y,fe.xaxis+fe.yaxis):fe.type==="scatterpolargl"&&C.pushUnique(Q,fe.subplot))}for(te=0;te<Y.length;te++)ae=F._plots[Y[te]],ae._scene&&ae._scene.draw();for(te=0;te<Q.length;te++)ae=F[Q[te]]._subplot,ae._scene&&ae._scene.draw()}},N.doAutoRangeAndConstraints=function(B){for(var F=a.list(B,"",!0),G,Y={},Q=0;Q<F.length;Q++)if(G=F[Q],!Y[G._id]){Y[G._id]=1,y(B,G),c(B,G);var te=G._matchGroup;if(te)for(var ae in te){var fe=a.getFromId(B,ae);c(B,fe,G.range),Y[ae]=1}}l(B)},N.finalDraw=function(B){P.getComponentMethod("rangeslider","draw")(B),P.getComponentMethod("rangeselector","draw")(B)},N.drawMarginPushers=function(B){P.getComponentMethod("legend","draw")(B),P.getComponentMethod("rangeselector","draw")(B),P.getComponentMethod("sliders","draw")(B),P.getComponentMethod("updatemenus","draw")(B),P.getComponentMethod("colorbar","draw")(B)}},94828:function(U,N,e){var d=e(3400),P=d.isPlainObject,n=e(73060),C=e(7316),x=e(45464),v=e(31780),p=e(20556).dfltConfig;N.makeTemplate=function(c){c=d.isPlainObject(c)?c:d.getGraphDiv(c),c=d.extendDeep({_context:p},{data:c.data,layout:c.layout}),C.supplyDefaults(c);var T=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var i={data:{},layout:{}};T.forEach(function(w){var _={};o(w,_,u.bind(null,w));var I=d.coerce(w,{},x,"type"),H=i.data[I];H||(H=i.data[I]=[]),H.push(_)}),o(h,i.layout,a.bind(null,h)),delete i.layout.template;var g=h.template;if(P(g)){var b=g.layout,A,R,m,L,M,s;P(b)&&r(b,i.layout);var S=g.data;if(P(S)){for(R in i.data)if(m=S[R],Array.isArray(m)){for(M=i.data[R],s=M.length,L=m.length,A=0;A<s;A++)r(m[A%L],M[A]);for(A=s;A<L;A++)M.push(d.extendDeep({},m[A]))}for(R in S)R in i.data||(i.data[R]=d.extendDeep([],S[R]))}}return i};function r(c,T){c=d.extendDeep({},c);var h=Object.keys(c).sort(),i,g;function b(M,s,S){if(P(s)&&P(M))r(M,s);else if(Array.isArray(s)&&Array.isArray(M)){var w=v.arrayTemplater({_template:c},S);for(g=0;g<s.length;g++){var _=s[g],I=w.newItem(_)._template;I&&r(I,_)}var H=w.defaultItems();for(g=0;g<H.length;g++)s.push(H[g]._template);for(g=0;g<s.length;g++)delete s[g].templateitemname}}for(i=0;i<h.length;i++){var A=h[i],R=c[A];if(A in T?b(R,T[A],A):T[A]=R,t(A)===A)for(var m in T){var L=t(m);m!==L&&L===A&&!(m in c)&&b(R,T[m],A)}}}function t(c){return c.replace(/[0-9]+$/,"")}function o(c,T,h,i,g){var b=g&&h(g);for(var A in c){var R=c[A],m=f(c,A,i),L=f(c,A,g),M=h(L);if(!M){var s=t(A);s!==A&&(L=f(c,s,g),M=h(L))}if(!(b&&b===M)&&!(!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(R)))if(!M.valType&&P(R))o(R,T,h,m,L);else if(M._isLinkedToArray&&Array.isArray(R))for(var S=!1,w=0,_={},I=0;I<R.length;I++){var H=R[I];if(P(H)){var O=H.name;if(O)_[O]||(o(H,T,h,f(R,w,m),f(R,w,L)),w++,_[O]=1);else if(!S){var V=v.arrayDefaultKey(A),B=f(c,V,i),F=f(R,w,m);o(H,T,h,F,f(R,w,L));var G=d.nestedProperty(T,F),Y=d.nestedProperty(T,B);Y.set(G.get()),G.set(null),S=!0}}}else{var Q=d.nestedProperty(T,m);Q.set(R)}}}function a(c,T){return n.getLayoutValObject(c,d.nestedProperty({},T).parts)}function u(c,T){return n.getTraceValObject(c,d.nestedProperty({},T).parts)}function f(c,T,h){var i;return h?Array.isArray(c)?i=h+"["+T+"]":i=h+"."+T:i=T,i}N.validateTemplate=function(c,T){var h=d.extendDeep({},{_context:p,data:c.data,layout:c.layout}),i=h.layout||{};P(T)||(T=i.template||{});var g=T.layout,b=T.data,A=[];h.layout=i,h.layout.template=T,C.supplyDefaults(h);var R=h._fullLayout,m=h._fullData,L={};function M(B,F){for(var G in B)if(G.charAt(0)!=="_"&&P(B[G])){var Y=t(G),Q=[],te;for(te=0;te<F.length;te++)Q.push(f(B,G,F[te])),Y!==G&&Q.push(f(B,Y,F[te]));for(te=0;te<Q.length;te++)L[Q[te]]=1;M(B[G],Q)}}function s(B,F){for(var G in B)if(G.indexOf("defaults")===-1&&P(B[G])){var Y=f(B,G,F);L[Y]?s(B[G],Y):A.push({code:"unused",path:Y})}}if(P(g)?(M(R,["layout"]),s(g,"layout")):A.push({code:"layout"}),!P(b))A.push({code:"data"});else{for(var S={},w,_=0;_<m.length;_++){var I=m[_];w=I.type,S[w]=(S[w]||0)+1,I._fullInput._template||A.push({code:"missing",index:I._fullInput.index,traceType:w})}for(w in b){var H=b[w].length,O=S[w]||0;H>O?A.push({code:"unused",traceType:w,templateCount:H,dataCount:O}):O>H&&A.push({code:"reused",traceType:w,templateCount:H,dataCount:O})}}function V(B,F){for(var G in B)if(G.charAt(0)!=="_"){var Y=B[G],Q=f(B,G,F);P(Y)?(Array.isArray(B)&&Y._template===!1&&Y.templateitemname&&A.push({code:"missing",path:Q,templateitemname:Y.templateitemname}),V(Y,Q)):Array.isArray(Y)&&l(Y)&&V(Y,Q)}}if(V({data:m,layout:R},""),A.length)return A.map(y)};function l(c){for(var T=0;T<c.length;T++)if(P(c[T]))return!0}function y(c){var T;switch(c.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":c.path?T="There are no templates for item "+c.path+" with name "+c.templateitemname:T="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?T="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?T="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":T="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=T,c}},67024:function(U,N,e){var d=e(38248),P=e(36424),n=e(7316),C=e(3400),x=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function o(a,u){u=u||{};var f,l,y,c;C.isPlainObject(a)?(f=a.data||[],l=a.layout||{},y=a.config||{},c={}):(a=C.getGraphDiv(a),f=C.extendDeep([],a.data),l=C.extendDeep({},a.layout),y=a._context,c=a._fullLayout||{});function T(O){return!(O in u)||C.validate(u[O],t[O])}if(!T("width")&&u.width!==null||!T("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var h={};function i(O,V){return C.coerce(u,h,t,O,V)}var g=i("format"),b=i("width"),A=i("height"),R=i("scale"),m=i("setBackground"),L=i("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var s=C.extendFlat({},l);b?s.width=b:u.width===null&&d(c.width)&&(s.width=c.width),A?s.height=A:u.height===null&&d(c.height)&&(s.height=c.height);var S=C.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),w=x.getRedrawFunc(M);function _(){return new Promise(function(O){setTimeout(O,x.getDelay(M._fullLayout))})}function I(){return new Promise(function(O,V){var B=v(M,g,R),F=M._fullLayout.width,G=M._fullLayout.height;function Y(){P.purge(M),document.body.removeChild(M)}if(g==="full-json"){var Q=n.graphJson(M,!1,"keepdata","object",!0,!0);return Q.version=r,Q=JSON.stringify(Q),Y(),O(L?Q:x.encodeJSON(Q))}if(Y(),g==="svg")return O(L?B:x.encodeSVG(B));var te=document.createElement("canvas");te.id=C.randstr(),p({format:g,width:F,height:G,scale:R,canvas:te,svg:B,promise:!0}).then(O).catch(V)})}function H(O){return L?O.replace(x.IMAGE_URL_PREFIX,""):O}return new Promise(function(O,V){P.newPlot(M,f,s,S).then(w).then(_).then(I).then(function(B){O(H(B))}).catch(function(B){V(B)})})}U.exports=o},21480:function(U,N,e){var d=e(3400),P=e(7316),n=e(73060),C=e(20556).dfltConfig,x=d.isPlainObject,v=Array.isArray,p=d.isArrayOrTypedArray;U.exports=function(i,g){i===void 0&&(i=[]),g===void 0&&(g={});var b=n.get(),A=[],R={_context:d.extendFlat({},C)},m,L;v(i)?(R.data=d.extendDeep([],i),m=i):(R.data=[],m=[],A.push(u("array","data"))),x(g)?(R.layout=d.extendDeep({},g),L=g):(R.layout={},L={},arguments.length>1&&A.push(u("object","layout"))),P.supplyDefaults(R);for(var M=R._fullData,s=m.length,S=0;S<s;S++){var w=m[S],_=["data",S];if(!x(w)){A.push(u("object",_));continue}var I=M[S],H=I.type,O=b.traces[H].attributes;O.type={valType:"enumerated",values:[H]},I.visible===!1&&w.visible!==!1&&A.push(u("invisible",_)),r(w,I,O,A,_);var V=w.transforms,B=I.transforms;if(V){v(V)||A.push(u("array",_,["transforms"])),_.push("transforms");for(var F=0;F<V.length;F++){var G=["transforms",F],Y=V[F].type;if(!x(V[F])){A.push(u("object",_,G));continue}var Q=b.transforms[Y]?b.transforms[Y].attributes:{};Q.type={valType:"enumerated",values:Object.keys(b.transforms)},r(V[F],B[F],Q,A,_,G)}}}var te=R._fullLayout,ae=t(b,M);return r(L,te,ae,A,"layout"),A.length===0?void 0:A};function r(h,i,g,b,A,R){R=R||[];for(var m=Object.keys(h),L=0;L<m.length;L++){var M=m[L];if(M!=="transforms"){var s=R.slice();s.push(M);var S=h[M],w=i[M],_=l(g,M),I=(_||{}).valType,H=I==="info_array",O=I==="colorscale",V=(_||{}).items;if(!f(g,M))b.push(u("schema",A,s));else if(x(S)&&x(w)&&I!=="any")r(S,w,_,b,A,s);else if(H&&v(S)){S.length>w.length&&b.push(u("unused",A,s.concat(w.length)));var B=w.length,F=Array.isArray(V);F&&(B=Math.min(B,V.length));var G,Y,Q,te,ae;if(_.dimensions===2)for(Y=0;Y<B;Y++)if(v(S[Y])){S[Y].length>w[Y].length&&b.push(u("unused",A,s.concat(Y,w[Y].length)));var fe=w[Y].length;for(G=0;G<(F?Math.min(fe,V[Y].length):fe);G++)Q=F?V[Y][G]:V,te=S[Y][G],ae=w[Y][G],d.validate(te,Q)?ae!==te&&ae!==+te&&b.push(u("dynamic",A,s.concat(Y,G),te,ae)):b.push(u("value",A,s.concat(Y,G),te))}else b.push(u("array",A,s.concat(Y),S[Y]));else for(Y=0;Y<B;Y++)Q=F?V[Y]:V,te=S[Y],ae=w[Y],d.validate(te,Q)?ae!==te&&ae!==+te&&b.push(u("dynamic",A,s.concat(Y),te,ae)):b.push(u("value",A,s.concat(Y),te))}else if(_.items&&!H&&v(S)){var oe=V[Object.keys(V)[0]],J=[],ee,X;for(ee=0;ee<w.length;ee++){var q=w[ee]._index||ee;if(X=s.slice(),X.push(q),x(S[q])&&x(w[ee])){J.push(q);var le=S[q],$=w[ee];x(le)&&le.visible!==!1&&$.visible===!1?b.push(u("invisible",A,X)):r(le,$,oe,b,A,X)}}for(ee=0;ee<S.length;ee++)X=s.slice(),X.push(ee),x(S[ee])?J.indexOf(ee)===-1&&b.push(u("unused",A,X)):b.push(u("object",A,X,S[ee]))}else!x(S)&&x(w)?b.push(u("object",A,s,S)):!p(S)&&p(w)&&!H&&!O?b.push(u("array",A,s,S)):M in i?d.validate(S,_)?_.valType==="enumerated"&&(_.coerceNumber&&S!==+w||S!==w)&&b.push(u("dynamic",A,s,S,w)):b.push(u("value",A,s,S)):b.push(u("unused",A,s,S))}}return b}function t(h,i){for(var g=h.layout.layoutAttributes,b=0;b<i.length;b++){var A=i[b],R=h.traces[A.type],m=R.layoutAttributes;m&&(A.subplot?d.extendFlat(g[R.attributes.subplot.dflt],m):d.extendFlat(g,m))}return g}var o={object:function(h,i){var g;return h==="layout"&&i===""?g="The layout argument":h[0]==="data"&&i===""?g="Trace "+h[1]+" in the data argument":g=a(h)+"key "+i,g+" must be linked to an object container"},array:function(h,i){var g;return h==="data"?g="The data argument":g=a(h)+"key "+i,g+" must be linked to an array container"},schema:function(h,i){return a(h)+"key "+i+" is not part of the schema"},unused:function(h,i,g){var b=x(g)?"container":"key";return a(h)+b+" "+i+" did not get coerced"},dynamic:function(h,i,g,b){return[a(h)+"key",i,"(set to '"+g+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(h,i){return(i?a(h)+"item "+i:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,i,g){return[a(h)+"key "+i,"is set to an invalid value ("+g+")"].join(" ")}};function a(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function u(h,i,g,b,A){g=g||"";var R,m;v(i)?(R=i[0],m=i[1]):(R=i,m=null);var L=T(g),M=o[h](i,L,b,A);return d.log(M),{code:h,container:R,trace:m,path:g,astr:L,msg:M}}function f(h,i){var g=c(i),b=g.keyMinusId,A=g.id;return b in h&&h[b]._isSubplotObj&&A?!0:i in h}function l(h,i){if(i in h)return h[i];var g=c(i);return h[g.keyMinusId]}var y=d.counterRegex("([a-z]+)");function c(h){var i=h.match(y);return{keyMinusId:i&&i[1],id:i&&i[2]}}function T(h){if(!v(h))return String(h);for(var i="",g=0;g<h.length;g++){var b=h[g];typeof b=="number"?i=i.substr(0,i.length-1)+"["+b+"]":i+=b,g<h.length-1&&(i+=".")}return i}},85656:function(U){U.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(U,N,e){var d=e(3400),P=e(31780);U.exports=function(C,x,v){var p=v.name,r=v.inclusionAttr||"visible",t=x[p],o=d.isArrayOrTypedArray(C[p])?C[p]:[],a=x[p]=[],u=P.arrayTemplater(x,p,r),f,l;for(f=0;f<o.length;f++){var y=o[f];d.isPlainObject(y)?l=u.newItem(y):(l=u.newItem({}),l[r]=!1),l._index=f,l[r]!==!1&&v.handleItemDefaults(y,l,x,v),a.push(l)}var c=u.defaultItems();for(f=0;f<c.length;f++)l=c[f],l._index=a.length,v.handleItemDefaults({},l,x,v,{}),a.push(l);if(d.isArrayOrTypedArray(t)){var T=Math.min(t.length,a.length);for(f=0;f<T;f++)d.relinkPrivateKeys(a[f],t[f])}return a}},45464:function(U,N,e){var d=e(25376),P=e(55756);U.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:d({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(U,N,e){var d=e(38248),P=e(3400),n=P.dateTime2ms,C=P.incrementMonth,x=e(39032),v=x.ONEAVGMONTH;U.exports=function(r,t,o,a){if(t.type!=="date")return{vals:a};var u=r[o+"periodalignment"];if(!u)return{vals:a};var f=r[o+"period"],l;if(d(f)){if(f=+f,f<=0)return{vals:a}}else if(typeof f=="string"&&f.charAt(0)==="M"){var y=+f.substring(1);if(y>0&&Math.round(y)===y)l=y;else return{vals:a}}for(var c=t.calendar,T=u==="start",h=u==="end",i=r[o+"period0"],g=n(i,c)||0,b=[],A=[],R=[],m=a.length,L=0;L<m;L++){var M=a[L],s,S,w;if(l){for(s=Math.round((M-g)/(l*v)),w=C(g,l*s,c);w>M;)w=C(w,-l,c);for(;w<=M;)w=C(w,l,c);S=C(w,-l,c)}else{for(s=Math.round((M-g)/f),w=g+s*f;w>M;)w-=f;for(;w<=M;)w+=f;S=w-f}b[L]=T?S:h?w:(S+w)/2,A[L]=S,R[L]=w}return{vals:b,starts:A,ends:R}}},26720:function(U){U.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(U,N,e){var d=e(33428),P=e(38248),n=e(3400),C=e(39032).FP_SAFE,x=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;U.exports={applyAutorangeOptions:s,getAutoRange:o,makePadFn:u,doAutoRange:c,findExtremes:T,concatExtremes:y};function o(S,w){var _,I,H=[],O=S._fullLayout,V=u(O,w,0),B=u(O,w,1),F=y(S,w),G=F.min,Y=F.max;if(G.length===0||Y.length===0)return n.simpleMap(w.range,w.r2l);var Q=G[0].val,te=Y[0].val;for(_=1;_<G.length&&Q===te;_++)Q=Math.min(Q,G[_].val);for(_=1;_<Y.length&&Q===te;_++)te=Math.max(te,Y[_].val);var ae=w.autorange,fe=ae==="reversed"||ae==="min reversed"||ae==="max reversed";if(!fe&&w.range){var oe=n.simpleMap(w.range,w.r2l);fe=oe[1]<oe[0]}w.autorange==="reversed"&&(w.autorange=!0);var J=w.rangemode,ee=J==="tozero",X=J==="nonnegative",q=w._length,le=q/10,$=0,j,se,ne,he,me,we;for(_=0;_<G.length;_++)for(j=G[_],I=0;I<Y.length;I++)se=Y[I],we=se.val-j.val-a(w,j.val,se.val),we>0&&(me=q-V(j)-B(se),me>le?we/me>$&&(ne=j,he=se,$=we/me):we/q>$&&(ne={val:j.val,nopad:1},he={val:se.val,nopad:1},$=we/q));function Te(_e,Ce){return Math.max(_e,B(Ce))}if(Q===te){var Le=Q-1,Ie=Q+1;if(ee)if(Q===0)H=[0,1];else{var ze=(Q>0?Y:G).reduce(Te,0),Me=Q/(1-Math.min(.5,ze/q));H=Q>0?[0,Me]:[Me,0]}else X?H=[Math.max(0,Le),Math.max(1,Ie)]:H=[Le,Ie]}else ee?(ne.val>=0&&(ne={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):X&&(ne.val-$*V(ne)<0&&(ne={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),$=(he.val-ne.val-a(w,j.val,se.val))/(q-V(ne)-B(he)),H=[ne.val-$*V(ne),he.val+$*B(he)];return H=s(H,w),w.limitRange&&w.limitRange(),fe&&H.reverse(),n.simpleMap(H,w.l2r||Number)}function a(S,w,_){var I=0;if(S.rangebreaks)for(var H=S.locateBreaks(w,_),O=0;O<H.length;O++){var V=H[O];I+=V.max-V.min}return I}function u(S,w,_){var I=.05*w._length,H=w._anchorAxis||{};if((w.ticklabelposition||"").indexOf("inside")!==-1||(H.ticklabelposition||"").indexOf("inside")!==-1){var O=w.isReversed();if(!O){var V=n.simpleMap(w.range,w.r2l);O=V[1]<V[0]}O&&(_=!_)}var B=0;return t(S,w._id)||(B=l(S,w,_)),I=Math.max(B,I),w.constrain==="domain"&&w._inputDomain&&(I*=(w._inputDomain[1]-w._inputDomain[0])/(w.domain[1]-w.domain[0])),function(G){return G.nopad?0:G.pad+(G.extrapad?I:B)}}var f=3;function l(S,w,_){var I=0,H=w._id.charAt(0)==="x";for(var O in S._plots){var V=S._plots[O];if(!(w._id!==V.xaxis._id&&w._id!==V.yaxis._id)){var B=(H?V.yaxis:V.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!_&&(B.side==="left"||B.side==="bottom")||_&&(B.side==="top"||B.side==="right"))){if(B._vals){var F=n.deg2rad(B._tickAngles[B._id+"tick"]||0),G=Math.abs(Math.cos(F)),Y=Math.abs(Math.sin(F));if(!B._vals[0].bb){var Q=B._id+"tick",te=B._selections[Q];te.each(function(X){var q=d.select(this),le=q.select(".text-math-group");le.empty()&&(X.bb=v.bBox(q.node()))})}for(var ae=0;ae<B._vals.length;ae++){var fe=B._vals[ae],oe=fe.bb;if(oe){var J=2*f+oe.width,ee=2*f+oe.height;I=Math.max(I,H?Math.max(J*G,ee*Y):Math.max(ee*G,J*Y))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(I+=B.ticklen||0)}}}return I}function y(S,w,_){var I=w._id,H=S._fullData,O=S._fullLayout,V=[],B=[],F,G,Y;function Q(J,ee){for(F=0;F<ee.length;F++){var X=J[ee[F]],q=(X._extremes||{})[I];if(X.visible===!0&&q){for(G=0;G<q.min.length;G++)Y=q.min[G],h(V,Y.val,Y.pad,{extrapad:Y.extrapad});for(G=0;G<q.max.length;G++)Y=q.max[G],i(B,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if(Q(H,w._traceIndices),Q(O.annotations||[],w._annIndices||[]),Q(O.shapes||[],w._shapeIndices||[]),w._matchGroup&&!_){for(var te in w._matchGroup)if(te!==w._id){var ae=r(S,te),fe=y(S,ae,!0),oe=w._length/ae._length;for(G=0;G<fe.min.length;G++)Y=fe.min[G],h(V,Y.val,Y.pad*oe,{extrapad:Y.extrapad});for(G=0;G<fe.max.length;G++)Y=fe.max[G],i(B,Y.val,Y.pad*oe,{extrapad:Y.extrapad})}}return{min:V,max:B}}function c(S,w,_){if(w.setScale(),w.autorange){w.range=_?_.slice():o(S,w),w._r=w.range.slice(),w._rl=n.simpleMap(w._r,w.r2l);var I=w._input,H={};H[w._attr+".range"]=w.range,H[w._attr+".autorange"]=w.autorange,x.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,H),I.range=w.range.slice(),I.autorange=w.autorange}var O=w._anchorAxis;if(O&&O.rangeslider){var V=O.rangeslider[w._name];V&&V.rangemode==="auto"&&(V.range=o(S,w)),O._input.rangeslider[w._name]=n.extendFlat({},V)}}function T(S,w,_){_||(_={}),S._m||S.setScale();var I=[],H=[],O=w.length,V=_.padded||!1,B=_.tozero&&(S.type==="linear"||S.type==="-"),F=S.type==="log",G=!1,Y=_.vpadLinearized||!1,Q,te,ae,fe,oe,J,ee,X,q;function le(Te){if(Array.isArray(Te))return G=!0,function(Ie){return Math.max(Number(Te[Ie]||0),0)};var Le=Math.max(Number(Te||0),0);return function(){return Le}}var $=le((S._m>0?_.ppadplus:_.ppadminus)||_.ppad||0),j=le((S._m>0?_.ppadminus:_.ppadplus)||_.ppad||0),se=le(_.vpadplus||_.vpad),ne=le(_.vpadminus||_.vpad);if(!G){if(X=1/0,q=-1/0,F)for(Q=0;Q<O;Q++)te=w[Q],te<X&&te>0&&(X=te),te>q&&te<C&&(q=te);else for(Q=0;Q<O;Q++)te=w[Q],te<X&&te>-C&&(X=te),te>q&&te<C&&(q=te);w=[X,q],O=2}var he={tozero:B,extrapad:V};function me(Te){ae=w[Te],P(ae)&&(J=$(Te),ee=j(Te),Y?(fe=S.c2l(ae)-ne(Te),oe=S.c2l(ae)+se(Te)):(X=ae-ne(Te),q=ae+se(Te),F&&X<q/10&&(X=q/10),fe=S.c2l(X),oe=S.c2l(q)),B&&(fe=Math.min(0,fe),oe=Math.max(0,oe)),b(fe)&&h(I,fe,ee,he),b(oe)&&i(H,oe,J,he))}var we=Math.min(6,O);for(Q=0;Q<we;Q++)me(Q);for(Q=O-1;Q>=we;Q--)me(Q);return{min:I,max:H,opts:_}}function h(S,w,_,I){g(S,w,_,I,A)}function i(S,w,_,I){g(S,w,_,I,R)}function g(S,w,_,I,H){for(var O=I.tozero,V=I.extrapad,B=!0,F=0;F<S.length&&B;F++){var G=S[F];if(H(G.val,w)&&G.pad>=_&&(G.extrapad||!V)){B=!1;break}else H(w,G.val)&&G.pad<=_&&(V||!G.extrapad)&&(S.splice(F,1),F--)}if(B){var Y=O&&w===0;S.push({val:w,pad:Y?0:_,extrapad:Y?!1:V})}}function b(S){return P(S)&&Math.abs(S)<C}function A(S,w){return S<=w}function R(S,w){return S>=w}function m(S,w){var _=w.autorangeoptions;return _&&_.minallowed!==void 0&&M(w,_.minallowed,_.maxallowed)?_.minallowed:_&&_.clipmin!==void 0&&M(w,_.clipmin,_.clipmax)?Math.max(S,w.d2l(_.clipmin)):S}function L(S,w){var _=w.autorangeoptions;return _&&_.maxallowed!==void 0&&M(w,_.minallowed,_.maxallowed)?_.maxallowed:_&&_.clipmax!==void 0&&M(w,_.clipmin,_.clipmax)?Math.min(S,w.d2l(_.clipmax)):S}function M(S,w,_){return w!==void 0&&_!==void 0?(w=S.d2l(w),_=S.d2l(_),w<_):!0}function s(S,w){if(!w||!w.autorangeoptions)return S;var _=S[0],I=S[1],H=w.autorangeoptions.include;if(H!==void 0){var O=w.d2l(_),V=w.d2l(I);n.isArrayOrTypedArray(H)||(H=[H]);for(var B=0;B<H.length;B++){var F=w.d2l(H[B]);O>=F&&(O=F,_=F),V<=F&&(V=F,I=F)}}return _=m(_,w),I=L(I,w),[_,I]}},76808:function(U){U.exports=function(e,d,P){var n,C;if(P){var x=d==="reversed"||d==="min reversed"||d==="max reversed";n=P[x?1:0],C=P[x?0:1]}var v=e("autorangeoptions.minallowed",C===null?n:void 0),p=e("autorangeoptions.maxallowed",n===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(U,N,e){var d=e(33428),P=e(38248),n=e(7316),C=e(24040),x=e(3400),v=x.strTranslate,p=e(72736),r=e(81668),t=e(76308),o=e(43616),a=e(94724),u=e(98728),f=e(39032),l=f.ONEMAXYEAR,y=f.ONEAVGYEAR,c=f.ONEMINYEAR,T=f.ONEMAXQUARTER,h=f.ONEAVGQUARTER,i=f.ONEMINQUARTER,g=f.ONEMAXMONTH,b=f.ONEAVGMONTH,A=f.ONEMINMONTH,R=f.ONEWEEK,m=f.ONEDAY,L=m/2,M=f.ONEHOUR,s=f.ONEMIN,S=f.ONESEC,w=f.ONEMILLI,_=f.ONEMICROSEC,I=f.MINUS_SIGN,H=f.BADNUM,O={K:"zeroline"},V={K:"gridline",L:"path"},B={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},G={K:"tick",L:"text"},Y={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Q=e(84284),te=Q.MID_SHIFT,ae=Q.CAP_SHIFT,fe=Q.LINE_SPACING,oe=Q.OPPOSITE_SIDE,J=3,ee=U.exports={};ee.setConvert=e(78344);var X=e(52976),q=e(79811),le=q.idSort,$=q.isLinked;ee.id2name=q.id2name,ee.name2id=q.name2id,ee.cleanId=q.cleanId,ee.list=q.list,ee.listIds=q.listIds,ee.getFromId=q.getFromId,ee.getFromTrace=q.getFromTrace;var j=e(19280);ee.getAutoRange=j.getAutoRange,ee.findExtremes=j.findExtremes;var se=1e-4;function ne(Qe){var rt=(Qe[1]-Qe[0])*se;return[Qe[0]-rt,Qe[1]+rt]}ee.coerceRef=function(Qe,rt,er,tr,jt,Pt){var Zt=tr.charAt(tr.length-1),nr=er._fullLayout._subplots[Zt+"axis"],Qt=tr+"ref",Wt={};return jt||(jt=nr[0]||(typeof Pt=="string"?Pt:Pt[0])),Pt||(Pt=jt),nr=nr.concat(nr.map(function(yr){return yr+" domain"})),Wt[Qt]={valType:"enumerated",values:nr.concat(Pt?typeof Pt=="string"?[Pt]:Pt:[]),dflt:jt},x.coerce(Qe,rt,Wt,Qt)},ee.getRefType=function(Qe){return Qe===void 0?Qe:Qe==="paper"?"paper":Qe==="pixel"?"pixel":/( domain)$/.test(Qe)?"domain":"range"},ee.coercePosition=function(Qe,rt,er,tr,jt,Pt){var Zt,nr,Qt=ee.getRefType(tr);if(Qt!=="range")Zt=x.ensureNumber,nr=er(jt,Pt);else{var Wt=ee.getFromId(rt,tr);Pt=Wt.fraction2r(Pt),nr=er(jt,Pt),Zt=Wt.cleanPos}Qe[jt]=Zt(nr)},ee.cleanPosition=function(Qe,rt,er){var tr=er==="paper"||er==="pixel"?x.ensureNumber:ee.getFromId(rt,er).cleanPos;return tr(Qe)},ee.redrawComponents=function(Qe,rt){rt=rt||ee.listIds(Qe);var er=Qe._fullLayout;function tr(jt,Pt,Zt,nr){for(var Qt=C.getComponentMethod(jt,Pt),Wt={},yr=0;yr<rt.length;yr++)for(var Dr=er[ee.id2name(rt[yr])],Tr=Dr[Zt],dn=0;dn<Tr.length;dn++){var Nr=Tr[dn];if(!Wt[Nr]&&(Qt(Qe,Nr),Wt[Nr]=1,nr))return}}tr("annotations","drawOne","_annIndices"),tr("shapes","drawOne","_shapeIndices"),tr("images","draw","_imgIndices",!0),tr("selections","drawOne","_selectionIndices")};var he=ee.getDataConversions=function(Qe,rt,er,tr){var jt,Pt=er==="x"||er==="y"||er==="z"?er:tr;if(x.isArrayOrTypedArray(Pt)){if(jt={type:X(tr,void 0,{autotypenumbers:Qe._fullLayout.autotypenumbers}),_categories:[]},ee.setConvert(jt),jt.type==="category")for(var Zt=0;Zt<tr.length;Zt++)jt.d2c(tr[Zt])}else jt=ee.getFromTrace(Qe,rt,Pt);return jt?{d2c:jt.d2c,c2d:jt.c2d}:Pt==="ids"?{d2c:we,c2d:we}:{d2c:me,c2d:me}};function me(Qe){return+Qe}function we(Qe){return String(Qe)}ee.getDataToCoordFunc=function(Qe,rt,er,tr){return he(Qe,rt,er,tr).d2c},ee.counterLetter=function(Qe){var rt=Qe.charAt(0);if(rt==="x")return"y";if(rt==="y")return"x"},ee.minDtick=function(Qe,rt,er,tr){["log","category","multicategory"].indexOf(Qe.type)!==-1||!tr?Qe._minDtick=0:Qe._minDtick===void 0?(Qe._minDtick=rt,Qe._forceTick0=er):Qe._minDtick&&((Qe._minDtick/rt+1e-6)%1<2e-6&&((er-Qe._forceTick0)/rt%1+1.000001)%1<2e-6?(Qe._minDtick=rt,Qe._forceTick0=er):((rt/Qe._minDtick+1e-6)%1>2e-6||((er-Qe._forceTick0)/Qe._minDtick%1+1.000001)%1>2e-6)&&(Qe._minDtick=0))},ee.saveRangeInitial=function(Qe,rt){for(var er=ee.list(Qe,"",!0),tr=!1,jt=0;jt<er.length;jt++){var Pt=er[jt],Zt=Pt._rangeInitial0===void 0&&Pt._rangeInitial1===void 0,nr=Zt||Pt.range[0]!==Pt._rangeInitial0||Pt.range[1]!==Pt._rangeInitial1,Qt=Pt.autorange;(Zt&&Qt!==!0||rt&&nr)&&(Pt._rangeInitial0=Qt==="min"||Qt==="max reversed"?void 0:Pt.range[0],Pt._rangeInitial1=Qt==="max"||Qt==="min reversed"?void 0:Pt.range[1],Pt._autorangeInitial=Qt,tr=!0)}return tr},ee.saveShowSpikeInitial=function(Qe,rt){for(var er=ee.list(Qe,"",!0),tr=!1,jt="on",Pt=0;Pt<er.length;Pt++){var Zt=er[Pt],nr=Zt._showSpikeInitial===void 0,Qt=nr||Zt.showspikes!==Zt._showspikes;(nr||rt&&Qt)&&(Zt._showSpikeInitial=Zt.showspikes,tr=!0),jt==="on"&&!Zt.showspikes&&(jt="off")}return Qe._fullLayout._cartesianSpikesEnabled=jt,tr},ee.autoBin=function(Qe,rt,er,tr,jt,Pt){var Zt=x.aggNums(Math.min,null,Qe),nr=x.aggNums(Math.max,null,Qe);if(rt.type==="category"||rt.type==="multicategory")return{start:Zt-.5,end:nr+.5,size:Math.max(1,Math.round(Pt)||1),_dataSpan:nr-Zt};jt||(jt=rt.calendar);var Qt;if(rt.type==="log"?Qt={type:"linear",range:[Zt,nr]}:Qt={type:rt.type,range:x.simpleMap([Zt,nr],rt.c2r,0,jt),calendar:jt},ee.setConvert(Qt),Pt=Pt&&u.dtick(Pt,Qt.type),Pt)Qt.dtick=Pt,Qt.tick0=u.tick0(void 0,Qt.type,jt);else{var Wt;if(er)Wt=(nr-Zt)/er;else{var yr=x.distinctVals(Qe),Dr=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),Tr=Dr*x.roundUp(yr.minDiff/Dr,[.9,1.9,4.9,9.9],!0);Wt=Math.max(Tr,2*x.stdev(Qe)/Math.pow(Qe.length,tr?.25:.4)),P(Wt)||(Wt=1)}ee.autoTicks(Qt,Wt)}var dn=Qt.dtick,Nr=ee.tickIncrement(ee.tickFirst(Qt),dn,"reverse",jt),Cn,an;if(typeof dn=="number")Nr=Te(Nr,Qe,Qt,Zt,nr),an=1+Math.floor((nr-Nr)/dn),Cn=Nr+an*dn;else for(Qt.dtick.charAt(0)==="M"&&(Nr=Le(Nr,Qe,dn,Zt,jt)),Cn=Nr,an=0;Cn<=nr;)Cn=ee.tickIncrement(Cn,dn,!1,jt),an++;return{start:rt.c2r(Nr,0,jt),end:rt.c2r(Cn,0,jt),size:dn,_dataSpan:nr-Zt}};function Te(Qe,rt,er,tr,jt){var Pt=0,Zt=0,nr=0,Qt=0;function Wt(dn){return(1+(dn-Qe)*100/er.dtick)%100<2}for(var yr=0;yr<rt.length;yr++)rt[yr]%1===0?nr++:P(rt[yr])||Qt++,Wt(rt[yr])&&Pt++,Wt(rt[yr]+er.dtick/2)&&Zt++;var Dr=rt.length-Qt;if(nr===Dr&&er.type!=="date")er.dtick<1?Qe=tr-.5*er.dtick:(Qe-=.5,Qe+er.dtick<tr&&(Qe+=er.dtick));else if(Zt<Dr*.1&&(Pt>Dr*.3||Wt(tr)||Wt(jt))){var Tr=er.dtick/2;Qe+=Qe+Tr<tr?Tr:-Tr}return Qe}function Le(Qe,rt,er,tr,jt){var Pt=x.findExactDates(rt,jt),Zt=.8;if(Pt.exactDays>Zt){var nr=Number(er.substr(1));Pt.exactYears>Zt&&nr%12===0?Qe=ee.tickIncrement(Qe,"M6","reverse")+m*1.5:Pt.exactMonths>Zt?Qe=ee.tickIncrement(Qe,"M1","reverse")+m*15.5:Qe-=L;var Qt=ee.tickIncrement(Qe,er);if(Qt<=tr)return Qt}return Qe}ee.prepMinorTicks=function(Qe,rt,er){if(!rt.minor.dtick){delete Qe.dtick;var tr=rt.dtick&&P(rt._tmin),jt;if(tr){var Pt=ee.tickIncrement(rt._tmin,rt.dtick,!0);jt=[rt._tmin,Pt*.99+rt._tmin*.01]}else{var Zt=x.simpleMap(rt.range,rt.r2l);jt=[Zt[0],.8*Zt[0]+.2*Zt[1]]}if(Qe.range=x.simpleMap(jt,rt.l2r),Qe._isMinor=!0,ee.prepTicks(Qe,er),tr){var nr=P(rt.dtick),Qt=P(Qe.dtick),Wt=nr?rt.dtick:+rt.dtick.substring(1),yr=Qt?Qe.dtick:+Qe.dtick.substring(1);nr&&Qt?Ie(Wt,yr)?Wt===2*R&&yr===2*m&&(Qe.dtick=R):Wt===2*R&&yr===3*m?Qe.dtick=R:Wt===R&&!(rt._input.minor||{}).nticks?Qe.dtick=m:ze(Wt/yr,2.5)?Qe.dtick=Wt/2:Qe.dtick=Wt:String(rt.dtick).charAt(0)==="M"?Qt?Qe.dtick="M1":Ie(Wt,yr)?Wt>=12&&yr===2&&(Qe.dtick="M3"):Qe.dtick=rt.dtick:String(Qe.dtick).charAt(0)==="L"?String(rt.dtick).charAt(0)==="L"?Ie(Wt,yr)||(Qe.dtick=ze(Wt/yr,2.5)?rt.dtick/2:rt.dtick):Qe.dtick="D1":Qe.dtick==="D2"&&+rt.dtick>1&&(Qe.dtick=1)}Qe.range=rt.range}rt.minor._tick0Init===void 0&&(Qe.tick0=rt.tick0)};function Ie(Qe,rt){return Math.abs((Qe/rt+.5)%1-.5)<.001}function ze(Qe,rt){return Math.abs(Qe/rt-1)<.001}ee.prepTicks=function(Qe,rt){var er=x.simpleMap(Qe.range,Qe.r2l,void 0,void 0,rt);if(Qe.tickmode==="auto"||!Qe.dtick){var tr=Qe.nticks,jt;tr||(Qe.type==="category"||Qe.type==="multicategory"?(jt=Qe.tickfont?x.bigFont(Qe.tickfont.size||12):15,tr=Qe._length/jt):(jt=Qe._id.charAt(0)==="y"?40:80,tr=x.constrain(Qe._length/jt,4,9)+1),Qe._name==="radialaxis"&&(tr*=2)),Qe.minor&&Qe.minor.tickmode!=="array"||Qe.tickmode==="array"&&(tr*=100),Qe._roughDTick=Math.abs(er[1]-er[0])/tr,ee.autoTicks(Qe,Qe._roughDTick),Qe._minDtick>0&&Qe.dtick<Qe._minDtick*2&&(Qe.dtick=Qe._minDtick,Qe.tick0=Qe.l2r(Qe._forceTick0))}Qe.ticklabelmode==="period"&&_e(Qe),Qe.tick0||(Qe.tick0=Qe.type==="date"?"2000-01-01":0),Qe.type==="date"&&Qe.dtick<.1&&(Qe.dtick=.1),Mt(Qe)};function Me(Qe){return+Qe.substring(1)}function _e(Qe){var rt;function er(){return!(P(Qe.dtick)||Qe.dtick.charAt(0)!=="M")}var tr=er(),jt=ee.getTickFormat(Qe);if(jt){var Pt=Qe._dtickInit!==Qe.dtick;/%[fLQsSMX]/.test(jt)||(/%[HI]/.test(jt)?(rt=M,Pt&&!tr&&Qe.dtick<M&&(Qe.dtick=M)):/%p/.test(jt)?(rt=L,Pt&&!tr&&Qe.dtick<L&&(Qe.dtick=L)):/%[Aadejuwx]/.test(jt)?(rt=m,Pt&&!tr&&Qe.dtick<m&&(Qe.dtick=m)):/%[UVW]/.test(jt)?(rt=R,Pt&&!tr&&Qe.dtick<R&&(Qe.dtick=R)):/%[Bbm]/.test(jt)?(rt=b,Pt&&(tr?Me(Qe.dtick)<1:Qe.dtick<A)&&(Qe.dtick="M1")):/%[q]/.test(jt)?(rt=h,Pt&&(tr?Me(Qe.dtick)<3:Qe.dtick<i)&&(Qe.dtick="M3")):/%[Yy]/.test(jt)&&(rt=y,Pt&&(tr?Me(Qe.dtick)<12:Qe.dtick<c)&&(Qe.dtick="M12")))}tr=er(),tr&&Qe.tick0===Qe._dowTick0&&(Qe.tick0=Qe._rawTick0),Qe._definedDelta=rt}function Ce(Qe,rt,er){for(var tr=0;tr<Qe.length;tr++){var jt=Qe[tr].value,Pt=tr,Zt=tr+1;tr<Qe.length-1?(Pt=tr,Zt=tr+1):tr>0?(Pt=tr-1,Zt=tr):(Pt=tr,Zt=tr);var nr=Qe[Pt].value,Qt=Qe[Zt].value,Wt=Math.abs(Qt-nr),yr=er||Wt,Dr=0;yr>=c?Wt>=c&&Wt<=l?Dr=Wt:Dr=y:er===h&&yr>=i?Wt>=i&&Wt<=T?Dr=Wt:Dr=h:yr>=A?Wt>=A&&Wt<=g?Dr=Wt:Dr=b:er===R&&yr>=R?Dr=R:yr>=m?Dr=m:er===L&&yr>=L?Dr=L:er===M&&yr>=M&&(Dr=M);var Tr;Dr>=Wt&&(Dr=Wt,Tr=!0);var dn=jt+Dr;if(rt.rangebreaks&&Dr>0){for(var Nr=84,Cn=0,an=0;an<Nr;an++){var gr=(an+.5)/Nr;rt.maskBreaks(jt*(1-gr)+gr*dn)!==H&&Cn++}Dr*=Cn/Nr,Dr||(Qe[tr].drop=!0),Tr&&Wt>R&&(Dr=Wt)}(Dr>0||tr===0)&&(Qe[tr].periodX=jt+Dr/2)}}ee.calcTicks=function(rt,er){for(var tr=rt.type,jt=rt.calendar,Pt=rt.ticklabelstep,Zt=rt.ticklabelmode==="period",nr=rt.range[0]>rt.range[1],Qt=!rt.ticklabelindex||x.isArrayOrTypedArray(rt.ticklabelindex)?rt.ticklabelindex:[rt.ticklabelindex],Wt=x.simpleMap(rt.range,rt.r2l,void 0,void 0,er),yr=Wt[1]<Wt[0],Dr=Math.min(Wt[0],Wt[1]),Tr=Math.max(Wt[0],Wt[1]),dn=Math.max(1e3,rt._length||0),Nr=[],Cn=[],an=[],gr=[],Pr=[],Xr=rt.minor&&(rt.minor.ticks||rt.minor.showgrid),_r=1;_r>=(Xr?0:1);_r--){var gn=!_r;_r?(rt._dtickInit=rt.dtick,rt._tick0Init=rt.tick0):(rt.minor._dtickInit=rt.minor.dtick,rt.minor._tick0Init=rt.minor.tick0);var rn=_r?rt:x.extendFlat({},rt,rt.minor);if(gn?ee.prepMinorTicks(rn,rt,er):ee.prepTicks(rn,er),rn.tickmode==="array"){_r?(an=[],Nr=Ge(rt,!gn)):(gr=[],Cn=Ge(rt,!gn));continue}if(rn.tickmode==="sync"){an=[],Nr=Pe(rt);continue}var An=ne(Wt),Pn=An[0],Wn=An[1],ya=P(rn.dtick),Ta=tr==="log"&&!(ya||rn.dtick.charAt(0)==="L"),sa=ee.tickFirst(rn,er);if(_r){if(rt._tmin=sa,sa<Pn!==yr)break;(tr==="category"||tr==="multicategory")&&(Wn=yr?Math.max(-.5,Wn):Math.min(rt._categories.length-.5,Wn))}var aa=null,kn=sa,Cr;if(_r){var on;ya?on=rt.dtick:tr==="date"?typeof rt.dtick=="string"&&rt.dtick.charAt(0)==="M"&&(on=b*rt.dtick.substring(1)):on=rt._roughDTick,Cr=Math.round((rt.r2l(kn)-rt.r2l(rt.tick0))/on)-1}var sn=rn.dtick;for(rn.rangebreaks&&rn._tick0Init!==rn.tick0&&(kn=hr(kn,rt),yr||(kn=ee.tickIncrement(kn,sn,!yr,jt))),_r&&Zt&&(kn=ee.tickIncrement(kn,sn,!yr,jt),Cr--);yr?kn>=Wn:kn<=Wn;kn=ee.tickIncrement(kn,sn,yr,jt)){if(_r&&Cr++,rn.rangebreaks&&!yr){if(kn<Pn)continue;if(rn.maskBreaks(kn)===H&&hr(kn,rn)>=Tr)break}if(an.length>dn||kn===aa)break;aa=kn;var un={value:kn};_r?(Ta&&kn!==(kn|0)&&(un.simpleLabel=!0),Pt>1&&Cr%Pt&&(un.skipLabel=!0),an.push(un)):(un.minor=!0,gr.push(un))}}if(!gr||gr.length<2)Qt=!1;else{var Bn=(gr[1].value-gr[0].value)*(nr?-1:1);xr(Bn,rt.tickformat)||(Qt=!1)}if(!Qt)Pr=an;else{var yn=an.concat(gr);Zt&&an.length&&(yn=yn.slice(1)),yn=yn.sort(function(Hn,zn){return Hn.value-zn.value}).filter(function(Hn,zn,Yn){return zn===0||Hn.value!==Yn[zn-1].value});var Ln=yn.map(function(Hn,zn){return Hn.minor===void 0&&!Hn.skipLabel?zn:null}).filter(function(Hn){return Hn!==null});Ln.forEach(function(Hn){Qt.map(function(zn){var Yn=Hn+zn;Yn>=0&&Yn<yn.length&&x.pushUnique(Pr,yn[Yn])})})}if(Xr){var Un=rt.minor.ticks==="inside"&&rt.ticks==="outside"||rt.minor.ticks==="outside"&&rt.ticks==="inside";if(!Un){for(var qn=an.map(function(Hn){return Hn.value}),da=[],Ia=0;Ia<gr.length;Ia++){var Ar=gr[Ia],Br=Ar.value;if(qn.indexOf(Br)===-1){for(var Sr=!1,Ur=0;!Sr&&Ur<an.length;Ur++)1e7+an[Ur].value===1e7+Br&&(Sr=!0);Sr||da.push(Ar)}}gr=da}}Zt&&Ce(Pr,rt,rt._definedDelta);var fn;if(rt.rangebreaks){var Dn=rt._id.charAt(0)==="y",xn=1;rt.tickmode==="auto"&&(xn=rt.tickfont?rt.tickfont.size:12);var hn=NaN;for(fn=an.length-1;fn>-1;fn--){if(an[fn].drop){an.splice(fn,1);continue}an[fn].value=hr(an[fn].value,rt);var Er=rt.c2p(an[fn].value);(Dn?hn>Er-xn:hn<Er+xn)?an.splice(yr?fn+1:fn,1):hn=Er}}Jt(rt)&&Math.abs(Wt[1]-Wt[0])===360&&an.pop(),rt._tmax=(an[an.length-1]||{}).value,rt._prevDateHead="",rt._inCalcTicks=!0;var Yr,Wr=function(Hn){Hn.text="",rt._prevDateHead=Yr};an=an.concat(gr);function qr(Hn,zn){var Yn=ee.tickText(Hn,zn.value,!1,zn.simpleLabel),Kn=zn.periodX;return Kn!==void 0&&(Yn.periodX=Kn,(Kn>Tr||Kn<Dr)&&(Kn>Tr&&(Yn.periodX=Tr),Kn<Dr&&(Yn.periodX=Dr),Wr(Yn))),Yn}var Tn;for(fn=0;fn<an.length;fn++){var Sn=an[fn].minor,Nn=an[fn].value;Sn?(Qt&&Pr.indexOf(an[fn])!==-1?Tn=qr(rt,an[fn]):Tn={x:Nn},Tn.minor=!0,Cn.push(Tn)):(Yr=rt._prevDateHead,Tn=qr(rt,an[fn]),(an[fn].skipLabel||Qt&&Pr.indexOf(an[fn])===-1)&&Wr(Tn),Nr.push(Tn))}return Nr=Nr.concat(Cn),rt._inCalcTicks=!1,Zt&&Nr.length&&(Nr[0].noTick=!0),Nr};function Oe(Qe,rt){return Qe.rangebreaks&&(rt=rt.filter(function(er){return Qe.maskBreaks(er.x)!==H})),rt}function Pe(Qe){var rt=Qe._mainAxis,er=[];if(rt._vals){for(var tr=0;tr<rt._vals.length;tr++)if(!rt._vals[tr].noTick){var jt=rt.l2p(rt._vals[tr].x),Pt=Qe.p2l(jt),Zt=ee.tickText(Qe,Pt);rt._vals[tr].minor&&(Zt.minor=!0,Zt.text=""),er.push(Zt)}}return er=Oe(Qe,er),er}function Ge(Qe,rt){var er=x.simpleMap(Qe.range,Qe.r2l),tr=ne(er),jt=Math.min(tr[0],tr[1]),Pt=Math.max(tr[0],tr[1]),Zt=Qe.type==="category"?Qe.d2l_noadd:Qe.d2l;Qe.type==="log"&&String(Qe.dtick).charAt(0)!=="L"&&(Qe.dtick="L"+Math.pow(10,Math.floor(Math.min(Qe.range[0],Qe.range[1]))-1));for(var nr=[],Qt=0;Qt<=1;Qt++)if(!(rt!==void 0&&(rt&&Qt||rt===!1&&!Qt))&&!(Qt&&!Qe.minor)){var Wt=Qt?Qe.minor.tickvals:Qe.tickvals,yr=Qt?[]:Qe.ticktext;if(Wt){x.isArrayOrTypedArray(yr)||(yr=[]);for(var Dr=0;Dr<Wt.length;Dr++){var Tr=Zt(Wt[Dr]);if(Tr>jt&&Tr<Pt){var dn=ee.tickText(Qe,Tr,!1,String(yr[Dr]));Qt&&(dn.minor=!0,dn.text=""),nr.push(dn)}}}}return nr=Oe(Qe,nr),nr}var Ze=[2,5,10],it=[1,2,3,6,12],Je=[1,2,5,10,15,30],et=[1,2,3,7,14],ft=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],vt=[-.301,0,.301,.699,1],dt=[15,30,45,90,180];function xt(Qe,rt,er){return rt*x.roundUp(Qe/rt,er)}ee.autoTicks=function(Qe,rt,er){var tr;function jt(Dr){return Math.pow(Dr,Math.floor(Math.log(rt)/Math.LN10))}if(Qe.type==="date"){Qe.tick0=x.dateTick0(Qe.calendar,0);var Pt=2*rt;if(Pt>y)rt/=y,tr=jt(10),Qe.dtick="M"+12*xt(rt,tr,Ze);else if(Pt>b)rt/=b,Qe.dtick="M"+xt(rt,1,it);else if(Pt>m){if(Qe.dtick=xt(rt,m,Qe._hasDayOfWeekBreaks?[1,2,7,14]:et),!er){var Zt=ee.getTickFormat(Qe),nr=Qe.ticklabelmode==="period";nr&&(Qe._rawTick0=Qe.tick0),/%[uVW]/.test(Zt)?Qe.tick0=x.dateTick0(Qe.calendar,2):Qe.tick0=x.dateTick0(Qe.calendar,1),nr&&(Qe._dowTick0=Qe.tick0)}}else Pt>M?Qe.dtick=xt(rt,M,it):Pt>s?Qe.dtick=xt(rt,s,Je):Pt>S?Qe.dtick=xt(rt,S,Je):(tr=jt(10),Qe.dtick=xt(rt,tr,Ze))}else if(Qe.type==="log"){Qe.tick0=0;var Qt=x.simpleMap(Qe.range,Qe.r2l);if(Qe._isMinor&&(rt*=1.5),rt>.7)Qe.dtick=Math.ceil(rt);else if(Math.abs(Qt[1]-Qt[0])<1){var Wt=1.5*Math.abs((Qt[1]-Qt[0])/rt);rt=Math.abs(Math.pow(10,Qt[1])-Math.pow(10,Qt[0]))/Wt,tr=jt(10),Qe.dtick="L"+xt(rt,tr,Ze)}else Qe.dtick=rt>.3?"D2":"D1"}else Qe.type==="category"||Qe.type==="multicategory"?(Qe.tick0=0,Qe.dtick=Math.ceil(Math.max(rt,1))):Jt(Qe)?(Qe.tick0=0,tr=1,Qe.dtick=xt(rt,tr,dt)):(Qe.tick0=0,tr=jt(10),Qe.dtick=xt(rt,tr,Ze));if(Qe.dtick===0&&(Qe.dtick=1),!P(Qe.dtick)&&typeof Qe.dtick!="string"){var yr=Qe.dtick;throw Qe.dtick=1,"ax.dtick error: "+String(yr)}};function Mt(Qe){var rt=Qe.dtick;if(Qe._tickexponent=0,!P(rt)&&typeof rt!="string"&&(rt=1),(Qe.type==="category"||Qe.type==="multicategory")&&(Qe._tickround=null),Qe.type==="date"){var er=Qe.r2l(Qe.tick0),tr=Qe.l2r(er).replace(/(^-|i)/g,""),jt=tr.length;if(String(rt).charAt(0)==="M")jt>10||tr.substr(5)!=="01-01"?Qe._tickround="d":Qe._tickround=+rt.substr(1)%12===0?"y":"m";else if(rt>=m&&jt<=10||rt>=m*15)Qe._tickround="d";else if(rt>=s&&jt<=16||rt>=M)Qe._tickround="M";else if(rt>=S&&jt<=19||rt>=s)Qe._tickround="S";else{var Pt=Qe.l2r(er+rt).replace(/^-/,"").length;Qe._tickround=Math.max(jt,Pt)-20,Qe._tickround<0&&(Qe._tickround=4)}}else if(P(rt)||rt.charAt(0)==="L"){var Zt=Qe.range.map(Qe.r2d||Number);P(rt)||(rt=Number(rt.substr(1))),Qe._tickround=2-Math.floor(Math.log(rt)/Math.LN10+.01);var nr=Math.max(Math.abs(Zt[0]),Math.abs(Zt[1])),Qt=Math.floor(Math.log(nr)/Math.LN10+.01),Wt=Qe.minexponent===void 0?3:Qe.minexponent;Math.abs(Qt)>Wt&&(de(Qe.exponentformat)&&!be(Qt)?Qe._tickexponent=3*Math.round((Qt-1)/3):Qe._tickexponent=Qt)}else Qe._tickround=null}ee.tickIncrement=function(Qe,rt,er,tr){var jt=er?-1:1;if(P(rt))return x.increment(Qe,jt*rt);var Pt=rt.charAt(0),Zt=jt*Number(rt.substr(1));if(Pt==="M")return x.incrementMonth(Qe,Zt,tr);if(Pt==="L")return Math.log(Math.pow(10,Qe)+Zt)/Math.LN10;if(Pt==="D"){var nr=rt==="D2"?vt:ft,Qt=Qe+jt*.01,Wt=x.roundUp(x.mod(Qt,1),nr,er);return Math.floor(Qt)+Math.log(d.round(Math.pow(10,Wt),1))/Math.LN10}throw"unrecognized dtick "+String(rt)},ee.tickFirst=function(Qe,rt){var er=Qe.r2l||Number,tr=x.simpleMap(Qe.range,er,void 0,void 0,rt),jt=tr[1]<tr[0],Pt=jt?Math.floor:Math.ceil,Zt=ne(tr)[0],nr=Qe.dtick,Qt=er(Qe.tick0);if(P(nr)){var Wt=Pt((Zt-Qt)/nr)*nr+Qt;return(Qe.type==="category"||Qe.type==="multicategory")&&(Wt=x.constrain(Wt,0,Qe._categories.length-1)),Wt}var yr=nr.charAt(0),Dr=Number(nr.substr(1));if(yr==="M"){for(var Tr=0,dn=Qt,Nr,Cn,an;Tr<10;){if(Nr=ee.tickIncrement(dn,nr,jt,Qe.calendar),(Nr-Zt)*(dn-Zt)<=0)return jt?Math.min(dn,Nr):Math.max(dn,Nr);Cn=(Zt-(dn+Nr)/2)/(Nr-dn),an=yr+(Math.abs(Math.round(Cn))||1)*Dr,dn=ee.tickIncrement(dn,an,Cn<0?!jt:jt,Qe.calendar),Tr++}return x.error("tickFirst did not converge",Qe),dn}else{if(yr==="L")return Math.log(Pt((Math.pow(10,Zt)-Qt)/Dr)*Dr+Qt)/Math.LN10;if(yr==="D"){var gr=nr==="D2"?vt:ft,Pr=x.roundUp(x.mod(Zt,1),gr,jt);return Math.floor(Zt)+Math.log(d.round(Math.pow(10,Pr),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},ee.tickText=function(Qe,rt,er,tr){var jt=nt(Qe,rt),Pt=Qe.tickmode==="array",Zt=er||Pt,nr=Qe.type,Qt=nr==="category"?Qe.d2l_noadd:Qe.d2l,Wt,yr=function(an){var gr=Qe.l2p(an);return gr>=0&&gr<=Qe._length?an:null};if(Pt&&x.isArrayOrTypedArray(Qe.ticktext)){var Dr=x.simpleMap(Qe.range,Qe.r2l),Tr=(Math.abs(Dr[1]-Dr[0])-(Qe._lBreaks||0))/1e4;for(Wt=0;Wt<Qe.ticktext.length&&!(Math.abs(rt-Qt(Qe.tickvals[Wt]))<Tr);Wt++);if(Wt<Qe.ticktext.length)return jt.text=String(Qe.ticktext[Wt]),jt.xbnd=[yr(jt.x-.5),yr(jt.x+Qe.dtick-.5)],jt}function dn(an){if(an===void 0)return!0;if(er)return an==="none";var gr={first:Qe._tmin,last:Qe._tmax}[an];return an!=="all"&&rt!==gr}var Nr=er?"never":Qe.exponentformat!=="none"&&dn(Qe.showexponent)?"hide":"";if(nr==="date"?Fe(Qe,jt,er,Zt):nr==="log"?We(Qe,jt,er,Zt,Nr):nr==="category"?je(Qe,jt):nr==="multicategory"?Ke(Qe,jt,er):Jt(Qe)?Ue(Qe,jt,er,Zt,Nr):ke(Qe,jt,er,Zt,Nr),tr||(Qe.tickprefix&&!dn(Qe.showtickprefix)&&(jt.text=Qe.tickprefix+jt.text),Qe.ticksuffix&&!dn(Qe.showticksuffix)&&(jt.text+=Qe.ticksuffix)),Qe.labelalias&&Qe.labelalias.hasOwnProperty(jt.text)){var Cn=Qe.labelalias[jt.text];typeof Cn=="string"&&(jt.text=Cn)}return(Qe.tickson==="boundaries"||Qe.showdividers)&&(jt.xbnd=[yr(jt.x-.5),yr(jt.x+Qe.dtick-.5)]),jt},ee.hoverLabelText=function(Qe,rt,er){er&&(Qe=x.extendFlat({},Qe,{hoverformat:er}));var tr=x.isArrayOrTypedArray(rt)?rt[0]:rt,jt=x.isArrayOrTypedArray(rt)?rt[1]:void 0;if(jt!==void 0&&jt!==tr)return ee.hoverLabelText(Qe,tr,er)+" - "+ee.hoverLabelText(Qe,jt,er);var Pt=Qe.type==="log"&&tr<=0,Zt=ee.tickText(Qe,Qe.c2l(Pt?-tr:tr),"hover").text;return Pt?tr===0?"0":I+Zt:Zt};function nt(Qe,rt,er){var tr=Qe.tickfont||{};return{x:rt,dx:0,dy:0,text:er||"",fontSize:tr.size,font:tr.family,fontWeight:tr.weight,fontStyle:tr.style,fontVariant:tr.variant,fontTextcase:tr.textcase,fontLineposition:tr.lineposition,fontShadow:tr.shadow,fontColor:tr.color}}function Fe(Qe,rt,er,tr){var jt=Qe._tickround,Pt=er&&Qe.hoverformat||ee.getTickFormat(Qe);tr=!Pt&&tr,tr&&(P(jt)?jt=4:jt={y:"m",m:"d",d:"M",M:"S",S:4}[jt]);var Zt=x.formatDate(rt.x,Pt,jt,Qe._dateFormat,Qe.calendar,Qe._extraFormat),nr,Qt=Zt.indexOf(`
`);if(Qt!==-1&&(nr=Zt.substr(Qt+1),Zt=Zt.substr(0,Qt)),tr&&(nr!==void 0&&(Zt==="00:00:00"||Zt==="00:00")?(Zt=nr,nr=""):Zt.length===8&&(Zt=Zt.replace(/:00$/,""))),nr)if(er)jt==="d"?Zt+=", "+nr:Zt=nr+(Zt?", "+Zt:"");else if(!Qe._inCalcTicks||Qe._prevDateHead!==nr)Qe._prevDateHead=nr,Zt+="<br>"+nr;else{var Wt=cr(Qe),yr=Qe._trueSide||Qe.side;(!Wt&&yr==="top"||Wt&&yr==="bottom")&&(Zt+="<br> ")}rt.text=Zt}function We(Qe,rt,er,tr,jt){var Pt=Qe.dtick,Zt=rt.x,nr=Qe.tickformat,Qt=typeof Pt=="string"&&Pt.charAt(0);if(jt==="never"&&(jt=""),tr&&Qt!=="L"&&(Pt="L3",Qt="L"),nr||Qt==="L")rt.text=Ne(Math.pow(10,Zt),Qe,jt,tr);else if(P(Pt)||Qt==="D"&&x.mod(Zt+.01,1)<.1){var Wt=Math.round(Zt),yr=Math.abs(Wt),Dr=Qe.exponentformat;Dr==="power"||de(Dr)&&be(Wt)?(Wt===0?rt.text=1:Wt===1?rt.text="10":rt.text="10<sup>"+(Wt>1?"":I)+yr+"</sup>",rt.fontSize*=1.25):(Dr==="e"||Dr==="E")&&yr>2?rt.text="1"+Dr+(Wt>0?"+":I)+yr:(rt.text=Ne(Math.pow(10,Zt),Qe,"","fakehover"),Pt==="D1"&&Qe._id.charAt(0)==="y"&&(rt.dy-=rt.fontSize/6))}else if(Qt==="D")rt.text=String(Math.round(Math.pow(10,x.mod(Zt,1)))),rt.fontSize*=.75;else throw"unrecognized dtick "+String(Pt);if(Qe.dtick==="D1"){var Tr=String(rt.text).charAt(0);(Tr==="0"||Tr==="1")&&(Qe._id.charAt(0)==="y"?rt.dx-=rt.fontSize/4:(rt.dy+=rt.fontSize/2,rt.dx+=(Qe.range[1]>Qe.range[0]?1:-1)*rt.fontSize*(Zt<0?.5:.25)))}}function je(Qe,rt){var er=Qe._categories[Math.round(rt.x)];er===void 0&&(er=""),rt.text=String(er)}function Ke(Qe,rt,er){var tr=Math.round(rt.x),jt=Qe._categories[tr]||[],Pt=jt[1]===void 0?"":String(jt[1]),Zt=jt[0]===void 0?"":String(jt[0]);er?rt.text=Zt+" - "+Pt:(rt.text=Pt,rt.text2=Zt)}function ke(Qe,rt,er,tr,jt){jt==="never"?jt="":Qe.showexponent==="all"&&Math.abs(rt.x/Qe.dtick)<1e-6&&(jt="hide"),rt.text=Ne(rt.x,Qe,jt,tr)}function Ue(Qe,rt,er,tr,jt){if(Qe.thetaunit==="radians"&&!er){var Pt=rt.x/180;if(Pt===0)rt.text="0";else{var Zt=Ve(Pt);if(Zt[1]>=100)rt.text=Ne(x.deg2rad(rt.x),Qe,jt,tr);else{var nr=rt.x<0;Zt[1]===1?Zt[0]===1?rt.text="π":rt.text=Zt[0]+"π":rt.text=["<sup>",Zt[0],"</sup>","⁄","<sub>",Zt[1],"</sub>","π"].join(""),nr&&(rt.text=I+rt.text)}}}else rt.text=Ne(rt.x,Qe,jt,tr)}function Ve(Qe){function rt(nr,Qt){return Math.abs(nr-Qt)<=1e-6}function er(nr,Qt){return rt(Qt,0)?nr:er(Qt,nr%Qt)}function tr(nr){for(var Qt=1;!rt(Math.round(nr*Qt)/Qt,nr);)Qt*=10;return Qt}var jt=tr(Qe),Pt=Qe*jt,Zt=Math.abs(er(Pt,jt));return[Math.round(Pt/Zt),Math.round(jt/Zt)]}var Re=["f","p","n","μ","m","","k","M","G","T"];function de(Qe){return Qe==="SI"||Qe==="B"}function be(Qe){return Qe>14||Qe<-15}function Ne(Qe,rt,er,tr){var jt=Qe<0,Pt=rt._tickround,Zt=er||rt.exponentformat||"B",nr=rt._tickexponent,Qt=ee.getTickFormat(rt),Wt=rt.separatethousands;if(tr){var yr={exponentformat:Zt,minexponent:rt.minexponent,dtick:rt.showexponent==="none"?rt.dtick:P(Qe)&&Math.abs(Qe)||1,range:rt.showexponent==="none"?rt.range.map(rt.r2d):[0,Qe||1]};Mt(yr),Pt=(Number(yr._tickround)||0)+4,nr=yr._tickexponent,rt.hoverformat&&(Qt=rt.hoverformat)}if(Qt)return rt._numFormat(Qt)(Qe).replace(/-/g,I);var Dr=Math.pow(10,-Pt)/2;if(Zt==="none"&&(nr=0),Qe=Math.abs(Qe),Qe<Dr)Qe="0",jt=!1;else{if(Qe+=Dr,nr&&(Qe*=Math.pow(10,-nr),Pt+=nr),Pt===0)Qe=String(Math.floor(Qe));else if(Pt<0){Qe=String(Math.round(Qe)),Qe=Qe.substr(0,Qe.length+Pt);for(var Tr=Pt;Tr<0;Tr++)Qe+="0"}else{Qe=String(Qe);var dn=Qe.indexOf(".")+1;dn&&(Qe=Qe.substr(0,dn+Pt).replace(/\.?0+$/,""))}Qe=x.numSeparate(Qe,rt._separators,Wt)}if(nr&&Zt!=="hide"){de(Zt)&&be(nr)&&(Zt="power");var Nr;nr<0?Nr=I+-nr:Zt!=="power"?Nr="+"+nr:Nr=String(nr),Zt==="e"||Zt==="E"?Qe+=Zt+Nr:Zt==="power"?Qe+="×10<sup>"+Nr+"</sup>":Zt==="B"&&nr===9?Qe+="B":de(Zt)&&(Qe+=Re[nr/3+5])}return jt?I+Qe:Qe}ee.getTickFormat=function(Qe){var rt;function er(Qt){return typeof Qt!="string"?Qt:Number(Qt.replace("M",""))*b}function tr(Qt,Wt){var yr=["L","D"];if(typeof Qt==typeof Wt){if(typeof Qt=="number")return Qt-Wt;var Dr=yr.indexOf(Qt.charAt(0)),Tr=yr.indexOf(Wt.charAt(0));return Dr===Tr?Number(Qt.replace(/(L|D)/g,""))-Number(Wt.replace(/(L|D)/g,"")):Dr-Tr}else return typeof Qt=="number"?1:-1}function jt(Qt,Wt,yr){var Dr=yr||function(Nr){return Nr},Tr=Wt[0],dn=Wt[1];return(!Tr&&typeof Tr!="number"||Dr(Tr)<=Dr(Qt))&&(!dn&&typeof dn!="number"||Dr(dn)>=Dr(Qt))}function Pt(Qt,Wt){var yr=Wt[0]===null,Dr=Wt[1]===null,Tr=tr(Qt,Wt[0])>=0,dn=tr(Qt,Wt[1])<=0;return(yr||Tr)&&(Dr||dn)}var Zt,nr;if(Qe.tickformatstops&&Qe.tickformatstops.length>0)switch(Qe.type){case"date":case"linear":{for(rt=0;rt<Qe.tickformatstops.length;rt++)if(nr=Qe.tickformatstops[rt],nr.enabled&&jt(Qe.dtick,nr.dtickrange,er)){Zt=nr;break}break}case"log":{for(rt=0;rt<Qe.tickformatstops.length;rt++)if(nr=Qe.tickformatstops[rt],nr.enabled&&Pt(Qe.dtick,nr.dtickrange)){Zt=nr;break}break}}return Zt?Zt.value:Qe.tickformat},ee.getSubplots=function(Qe,rt){var er=Qe._fullLayout._subplots,tr=er.cartesian.concat(er.gl2d||[]),jt=rt?ee.findSubplotsWithAxis(tr,rt):tr;return jt.sort(function(Pt,Zt){var nr=Pt.substr(1).split("y"),Qt=Zt.substr(1).split("y");return nr[0]===Qt[0]?+nr[1]-+Qt[1]:+nr[0]-+Qt[0]}),jt},ee.findSubplotsWithAxis=function(Qe,rt){for(var er=new RegExp(rt._id.charAt(0)==="x"?"^"+rt._id+"y":rt._id+"$"),tr=[],jt=0;jt<Qe.length;jt++){var Pt=Qe[jt];er.test(Pt)&&tr.push(Pt)}return tr},ee.makeClipPaths=function(Qe){var rt=Qe._fullLayout;if(!rt._hasOnlyLargeSploms){var er={_offset:0,_length:rt.width,_id:""},tr={_offset:0,_length:rt.height,_id:""},jt=ee.list(Qe,"x",!0),Pt=ee.list(Qe,"y",!0),Zt=[],nr,Qt;for(nr=0;nr<jt.length;nr++)for(Zt.push({x:jt[nr],y:tr}),Qt=0;Qt<Pt.length;Qt++)nr===0&&Zt.push({x:er,y:Pt[Qt]}),Zt.push({x:jt[nr],y:Pt[Qt]});var Wt=rt._clips.selectAll(".axesclip").data(Zt,function(yr){return yr.x._id+yr.y._id});Wt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+rt._uid+yr.x._id+yr.y._id}).append("rect"),Wt.exit().remove(),Wt.each(function(yr){d.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},ee.draw=function(Qe,rt,er){var tr=Qe._fullLayout;rt==="redraw"&&tr._paper.selectAll("g.subplot").each(function(Qt){var Wt=Qt[0],yr=tr._plots[Wt];if(yr){var Dr=yr.xaxis,Tr=yr.yaxis;yr.xaxislayer.selectAll("."+Dr._id+"tick").remove(),yr.yaxislayer.selectAll("."+Tr._id+"tick").remove(),yr.xaxislayer.selectAll("."+Dr._id+"tick2").remove(),yr.yaxislayer.selectAll("."+Tr._id+"tick2").remove(),yr.xaxislayer.selectAll("."+Dr._id+"divider").remove(),yr.yaxislayer.selectAll("."+Tr._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),tr._infolayer.select(".g-"+Dr._id+"title").remove(),tr._infolayer.select(".g-"+Tr._id+"title").remove()}});var jt=!rt||rt==="redraw"?ee.listIds(Qe):rt,Pt=ee.list(Qe),Zt=Pt.filter(function(Qt){return Qt.autoshift}).map(function(Qt){return Qt.overlaying});jt.map(function(Qt){var Wt=ee.getFromId(Qe,Qt);if(Wt.tickmode==="sync"&&Wt.overlaying){var yr=jt.findIndex(function(Dr){return Dr===Wt.overlaying});yr>=0&&jt.unshift(jt.splice(yr,1).shift())}});var nr={false:{left:0,right:0}};return x.syncOrAsync(jt.map(function(Qt){return function(){if(Qt){var Wt=ee.getFromId(Qe,Qt);er||(er={}),er.axShifts=nr,er.overlayingShiftedAx=Zt;var yr=ee.drawOne(Qe,Wt,er);return Wt._shiftPusher&&fr(Wt,Wt._fullDepth||0,nr,!0),Wt._r=Wt.range.slice(),Wt._rl=x.simpleMap(Wt._r,Wt.r2l),yr}}}))},ee.drawOne=function(Qe,rt,er){er=er||{};var tr=er.axShifts||{},jt=er.overlayingShiftedAx||[],Pt,Zt,nr;rt.setScale();var Qt=Qe._fullLayout,Wt=rt._id,yr=Wt.charAt(0),Dr=ee.counterLetter(Wt),Tr=Qt._plots[rt._mainSubplot];if(!Tr)return;if(rt._shiftPusher=rt.autoshift||jt.indexOf(rt._id)!==-1||jt.indexOf(rt.overlaying)!==-1,rt._shiftPusher&rt.anchor==="free"){var dn=rt.linewidth/2||0;rt.ticks==="inside"&&(dn+=rt.ticklen),fr(rt,dn,tr,!0),fr(rt,rt.shift||0,tr,!1)}(er.skipTitle!==!0||rt._shift===void 0)&&(rt._shift=Lr(rt,tr));var Nr=Tr[yr+"axislayer"],Cn=rt._mainLinePosition,an=Cn+=rt._shift,gr=rt._mainMirrorPosition,Pr=rt._vals=ee.calcTicks(rt),Xr=[rt.mirror,an,gr].join("_");for(Pt=0;Pt<Pr.length;Pt++)Pr[Pt].axInfo=Xr;rt._selections={},rt._tickAngles&&(rt._prevTickAngles=rt._tickAngles),rt._tickAngles={},rt._depth=null;var _r={};function gn(Sn){var Nn=Wt+(Sn||"tick");return _r[Nn]||(_r[Nn]=Yt(rt,Nn,an)),_r[Nn]}if(rt.visible){var rn=ee.makeTransTickFn(rt),An=ee.makeTransTickLabelFn(rt),Pn,Wn,ya=rt.ticks==="inside",Ta=rt.ticks==="outside";if(rt.tickson==="boundaries"){var sa=at(rt,Pr);Wn=ee.clipEnds(rt,sa),Pn=ya?Wn:sa}else Wn=ee.clipEnds(rt,Pr),Pn=ya&&rt.ticklabelmode!=="period"?Wn:Pr;var aa=rt._gridVals=Wn,kn=Ht(rt,Pr);if(!Qt._hasOnlyLargeSploms){var Cr=rt._subplotsWith,on={};for(Pt=0;Pt<Cr.length;Pt++){Zt=Cr[Pt],nr=Qt._plots[Zt];var sn=nr[Dr+"axis"],un=sn._mainAxis._id;if(!on[un]){on[un]=1;var Bn=yr==="x"?"M0,"+sn._offset+"v"+sn._length:"M"+sn._offset+",0h"+sn._length;ee.drawGrid(Qe,rt,{vals:aa,counterAxis:sn,layer:nr.gridlayer.select("."+Wt),minorLayer:nr.minorGridlayer.select("."+Wt),path:Bn,transFn:rn}),ee.drawZeroLine(Qe,rt,{counterAxis:sn,layer:nr.zerolinelayer,path:Bn,transFn:rn})}}}var yn,Ln=ee.getTickSigns(rt),Un=ee.getTickSigns(rt,"minor");if(rt.ticks||rt.minor&&rt.minor.ticks){var qn=ee.makeTickPath(rt,an,Ln[2]),da=ee.makeTickPath(rt,an,Un[2],{minor:!0}),Ia,Ar,Br,Sr;if(rt._anchorAxis&&rt.mirror&&rt.mirror!==!0?(Ia=ee.makeTickPath(rt,gr,Ln[3]),Ar=ee.makeTickPath(rt,gr,Un[3],{minor:!0}),Br=qn+Ia,Sr=da+Ar):(Ia="",Ar="",Br=qn,Sr=da),rt.showdividers&&Ta&&rt.tickson==="boundaries"){var Ur={};for(Pt=0;Pt<kn.length;Pt++)Ur[kn[Pt].x]=1;yn=function(Sn){return Ur[Sn.x]?Ia:Br}}else yn=function(Sn){return Sn.minor?Sr:Br}}if(ee.drawTicks(Qe,rt,{vals:Pn,layer:Nr,path:yn,transFn:rn}),rt.mirror==="allticks"){var fn=Object.keys(rt._linepositions||{});for(Pt=0;Pt<fn.length;Pt++){Zt=fn[Pt],nr=Qt._plots[Zt];var Dn=rt._linepositions[Zt]||[],xn=Dn[0],hn=Dn[1],Er=Dn[2],Yr=ee.makeTickPath(rt,xn,Er?Ln[0]:Un[0],{minor:Er})+ee.makeTickPath(rt,hn,Er?Ln[1]:Un[1],{minor:Er});ee.drawTicks(Qe,rt,{vals:Pn,layer:nr[yr+"axislayer"],path:Yr,transFn:rn})}}var Wr=[];if(Wr.push(function(){return ee.drawLabels(Qe,rt,{vals:Pr,layer:Nr,plotinfo:nr,transFn:An,labelFns:ee.makeLabelFns(rt,an)})}),rt.type==="multicategory"){var qr={x:2,y:10}[yr];Wr.push(function(){var Sn={x:"height",y:"width"}[yr],Nn=gn()[Sn]+qr+(rt._tickAngles[Wt+"tick"]?rt.tickfont.size*fe:0);return ee.drawLabels(Qe,rt,{vals:lt(rt,Pr),layer:Nr,cls:Wt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:rn,labelFns:ee.makeLabelFns(rt,an+Nn*Ln[4])})}),Wr.push(function(){return rt._depth=Ln[4]*(gn("tick2")[rt.side]-an),vr(Qe,rt,{vals:kn,layer:Nr,path:ee.makeTickPath(rt,an,Ln[4],{len:rt._depth}),transFn:rn})})}else rt.title.hasOwnProperty("standoff")&&Wr.push(function(){rt._depth=Ln[4]*(gn()[rt.side]-an)});var Tn=C.getComponentMethod("rangeslider","isVisible")(rt);return!er.skipTitle&&!(Tn&&rt.side==="bottom")&&Wr.push(function(){return Xt(Qe,rt)}),Wr.push(function(){var Sn=rt.side.charAt(0),Nn=oe[rt.side].charAt(0),Hn=ee.getPxPosition(Qe,rt),zn=Ta?rt.ticklen:0,Yn,Kn,la,Ra;(rt.automargin||Tn||rt._shiftPusher)&&(rt.type==="multicategory"?Yn=gn("tick2"):(Yn=gn(),yr==="x"&&Sn==="b"&&(rt._depth=Math.max(Yn.width>0?Yn.bottom-Hn:0,zn))));var wi=0,ii=0;if(rt._shiftPusher&&(wi=Math.max(zn,Yn.height>0?Sn==="l"?Hn-Yn.left:Yn.right-Hn:0),rt.title.text!==Qt._dfltTitle[yr]&&(ii=(rt._titleStandoff||0)+(rt._titleScoot||0),Sn==="l"&&(ii+=gt(rt))),rt._fullDepth=Math.max(wi,ii)),rt.automargin){Kn={x:0,y:0,r:0,l:0,t:0,b:0};var Lo=[0,1],Wo=typeof rt._shift=="number"?rt._shift:0;if(yr==="x"){if(Sn==="b"?Kn[Sn]=rt._depth:(Kn[Sn]=rt._depth=Math.max(Yn.width>0?Hn-Yn.top:0,zn),Lo.reverse()),Yn.width>0){var po=Yn.right-(rt._offset+rt._length);po>0&&(Kn.xr=1,Kn.r=po);var Vs=rt._offset-Yn.left;Vs>0&&(Kn.xl=0,Kn.l=Vs)}}else if(Sn==="l"?(rt._depth=Math.max(Yn.height>0?Hn-Yn.left:0,zn),Kn[Sn]=rt._depth-Wo):(rt._depth=Math.max(Yn.height>0?Yn.right-Hn:0,zn),Kn[Sn]=rt._depth+Wo,Lo.reverse()),Yn.height>0){var Yl=Yn.bottom-(rt._offset+rt._length);Yl>0&&(Kn.yb=0,Kn.b=Yl);var Eu=rt._offset-Yn.top;Eu>0&&(Kn.yt=1,Kn.t=Eu)}Kn[Dr]=rt.anchor==="free"?rt.position:rt._anchorAxis.domain[Lo[0]],rt.title.text!==Qt._dfltTitle[yr]&&(Kn[Sn]+=gt(rt)+(rt.title.standoff||0)),rt.mirror&&rt.anchor!=="free"&&(la={x:0,y:0,r:0,l:0,t:0,b:0},la[Nn]=rt.linewidth,rt.mirror&&rt.mirror!==!0&&(la[Nn]+=zn),rt.mirror===!0||rt.mirror==="ticks"?la[Dr]=rt._anchorAxis.domain[Lo[1]]:(rt.mirror==="all"||rt.mirror==="allticks")&&(la[Dr]=[rt._counterDomainMin,rt._counterDomainMax][Lo[1]]))}Tn&&(Ra=C.getComponentMethod("rangeslider","autoMarginOpts")(Qe,rt)),typeof rt.automargin=="string"&&(Ye(Kn,rt.automargin),Ye(la,rt.automargin)),n.autoMargin(Qe,ut(rt),Kn),n.autoMargin(Qe,bt(rt),la),n.autoMargin(Qe,Et(rt),Ra)}),x.syncOrAsync(Wr)}};function Ye(Qe,rt){if(Qe){var er=Object.keys(Y).reduce(function(tr,jt){return rt.indexOf(jt)!==-1&&Y[jt].forEach(function(Pt){tr[Pt]=1}),tr},{});Object.keys(Qe).forEach(function(tr){er[tr]||(tr.length===1?Qe[tr]=0:delete Qe[tr])})}}function at(Qe,rt){var er=[],tr,jt=function(Pt,Zt){var nr=Pt.xbnd[Zt];nr!==null&&er.push(x.extendFlat({},Pt,{x:nr}))};if(rt.length){for(tr=0;tr<rt.length;tr++)jt(rt[tr],0);jt(rt[tr-1],1)}return er}function lt(Qe,rt){for(var er=[],tr={},jt=0;jt<rt.length;jt++){var Pt=rt[jt];tr[Pt.text2]?tr[Pt.text2].push(Pt.x):tr[Pt.text2]=[Pt.x]}for(var Zt in tr)er.push(nt(Qe,x.interp(tr[Zt],.5),Zt));return er}function Ht(Qe,rt){var er=[],tr,jt,Pt=rt.length&&rt[rt.length-1].x<rt[0].x,Zt=function(Qt,Wt){var yr=Qt.xbnd[Wt];yr!==null&&er.push(x.extendFlat({},Qt,{x:yr}))};if(Qe.showdividers&&rt.length){for(tr=0;tr<rt.length;tr++){var nr=rt[tr];nr.text2!==jt&&Zt(nr,Pt?1:0),jt=nr.text2}Zt(rt[tr-1],Pt?0:1)}return er}function Yt(Qe,rt,er){var tr,jt,Pt,Zt;if(Qe._selections[rt].size())tr=1/0,jt=-1/0,Pt=1/0,Zt=-1/0,Qe._selections[rt].each(function(){var Qt=yt(this),Wt=o.bBox(Qt.node().parentNode);tr=Math.min(tr,Wt.top),jt=Math.max(jt,Wt.bottom),Pt=Math.min(Pt,Wt.left),Zt=Math.max(Zt,Wt.right)});else{var nr=ee.makeLabelFns(Qe,er);tr=jt=nr.yFn({dx:0,dy:0,fontSize:0}),Pt=Zt=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:tr,bottom:jt,left:Pt,right:Zt,height:jt-tr,width:Zt-Pt}}ee.getTickSigns=function(Qe,rt){var er=Qe._id.charAt(0),tr={x:"top",y:"right"}[er],jt=Qe.side===tr?1:-1,Pt=[-1,1,jt,-jt],Zt=rt?(Qe.minor||{}).ticks:Qe.ticks;return Zt!=="inside"==(er==="x")&&(Pt=Pt.map(function(nr){return-nr})),Qe.side&&Pt.push({l:-1,t:-1,r:1,b:1}[Qe.side.charAt(0)]),Pt},ee.makeTransTickFn=function(Qe){return Qe._id.charAt(0)==="x"?function(rt){return v(Qe._offset+Qe.l2p(rt.x),0)}:function(rt){return v(0,Qe._offset+Qe.l2p(rt.x))}},ee.makeTransTickLabelFn=function(Qe){var rt=Lt(Qe),er=Qe.ticklabelshift||0,tr=Qe.ticklabelstandoff||0,jt=rt[0],Pt=rt[1],Zt=Qe.range[0]>Qe.range[1],nr=Qe.ticklabelposition&&Qe.ticklabelposition.indexOf("inside")!==-1,Qt=!nr;if(er){var Wt=Zt?-1:1;er=er*Wt}if(tr){var yr=Qe.side,Dr=nr&&(yr==="top"||yr==="left")||Qt&&(yr==="bottom"||yr==="right")?1:-1;tr=tr*Dr}return Qe._id.charAt(0)==="x"?function(Tr){return v(jt+Qe._offset+Qe.l2p(Tt(Tr))+er,Pt+tr)}:function(Tr){return v(Pt+tr,jt+Qe._offset+Qe.l2p(Tt(Tr))+er)}};function Tt(Qe){return Qe.periodX!==void 0?Qe.periodX:Qe.x}function Lt(Qe){var rt=Qe.ticklabelposition||"",er=function(dn){return rt.indexOf(dn)!==-1},tr=er("top"),jt=er("left"),Pt=er("right"),Zt=er("bottom"),nr=er("inside"),Qt=Zt||jt||tr||Pt;if(!Qt&&!nr)return[0,0];var Wt=Qe.side,yr=Qt?(Qe.tickwidth||0)/2:0,Dr=J,Tr=Qe.tickfont?Qe.tickfont.size:12;return(Zt||tr)&&(yr+=Tr*ae,Dr+=(Qe.linewidth||0)/2),(jt||Pt)&&(yr+=(Qe.linewidth||0)/2,Dr+=J),nr&&Wt==="top"&&(Dr-=Tr*(1-ae)),(jt||tr)&&(yr=-yr),(Wt==="bottom"||Wt==="right")&&(Dr=-Dr),[Qt?yr:0,nr?Dr:0]}ee.makeTickPath=function(Qe,rt,er,tr){tr||(tr={});var jt=tr.minor;if(jt&&!Qe.minor)return"";var Pt=tr.len!==void 0?tr.len:jt?Qe.minor.ticklen:Qe.ticklen,Zt=Qe._id.charAt(0),nr=(Qe.linewidth||1)/2;return Zt==="x"?"M0,"+(rt+nr*er)+"v"+Pt*er:"M"+(rt+nr*er)+",0h"+Pt*er},ee.makeLabelFns=function(Qe,rt,er){var tr=Qe.ticklabelposition||"",jt=function(sa){return tr.indexOf(sa)!==-1},Pt=jt("top"),Zt=jt("left"),nr=jt("right"),Qt=jt("bottom"),Wt=Qt||Zt||Pt||nr,yr=jt("inside"),Dr=tr==="inside"&&Qe.ticks==="inside"||!yr&&Qe.ticks==="outside"&&Qe.tickson!=="boundaries",Tr=0,dn=0,Nr=Dr?Qe.ticklen:0;if(yr?Nr*=-1:Wt&&(Nr=0),Dr&&(Tr+=Nr,er)){var Cn=x.deg2rad(er);Tr=Nr*Math.cos(Cn)+1,dn=Nr*Math.sin(Cn)}Qe.showticklabels&&(Dr||Qe.showline)&&(Tr+=.2*Qe.tickfont.size),Tr+=(Qe.linewidth||1)/2*(yr?-1:1);var an={labelStandoff:Tr,labelShift:dn},gr,Pr,Xr,_r,gn=0,rn=Qe.side,An=Qe._id.charAt(0),Pn=Qe.tickangle,Wn;if(An==="x")Wn=!yr&&rn==="bottom"||yr&&rn==="top",_r=Wn?1:-1,yr&&(_r*=-1),gr=dn*_r,Pr=rt+Tr*_r,Xr=Wn?1:-.2,Math.abs(Pn)===90&&(yr?Xr+=te:Pn===-90&&rn==="bottom"?Xr=ae:Pn===90&&rn==="top"?Xr=te:Xr=.5,gn=te/2*(Pn/90)),an.xFn=function(sa){return sa.dx+gr+gn*sa.fontSize},an.yFn=function(sa){return sa.dy+Pr+sa.fontSize*Xr},an.anchorFn=function(sa,aa){if(Wt){if(Zt)return"end";if(nr)return"start"}return!P(aa)||aa===0||aa===180?"middle":aa*_r<0!==yr?"end":"start"},an.heightFn=function(sa,aa,kn){return aa<-60||aa>60?-.5*kn:Qe.side==="top"!==yr?-kn:0};else if(An==="y"){if(Wn=!yr&&rn==="left"||yr&&rn==="right",_r=Wn?1:-1,yr&&(_r*=-1),gr=Tr,Pr=dn*_r,Xr=0,!yr&&Math.abs(Pn)===90&&(Pn===-90&&rn==="left"||Pn===90&&rn==="right"?Xr=ae:Xr=.5),yr){var ya=P(Pn)?+Pn:0;if(ya!==0){var Ta=x.deg2rad(ya);gn=Math.abs(Math.sin(Ta))*ae*_r,Xr=0}}an.xFn=function(sa){return sa.dx+rt-(gr+sa.fontSize*Xr)*_r+gn*sa.fontSize},an.yFn=function(sa){return sa.dy+Pr+sa.fontSize*te},an.anchorFn=function(sa,aa){return P(aa)&&Math.abs(aa)===90?"middle":Wn?"end":"start"},an.heightFn=function(sa,aa,kn){return Qe.side==="right"&&(aa*=-1),aa<-30?-kn:aa<30?-.5*kn:0}}return an};function Kt(Qe){return[Qe.text,Qe.x,Qe.axInfo,Qe.font,Qe.fontSize,Qe.fontColor].join("_")}ee.drawTicks=function(Qe,rt,er){er=er||{};var tr=rt._id+"tick",jt=[].concat(rt.minor&&rt.minor.ticks?er.vals.filter(function(Zt){return Zt.minor&&!Zt.noTick}):[]).concat(rt.ticks?er.vals.filter(function(Zt){return!Zt.minor&&!Zt.noTick}):[]),Pt=er.layer.selectAll("path."+tr).data(jt,Kt);Pt.exit().remove(),Pt.enter().append("path").classed(tr,1).classed("ticks",1).classed("crisp",er.crisp!==!1).each(function(Zt){return t.stroke(d.select(this),Zt.minor?rt.minor.tickcolor:rt.tickcolor)}).style("stroke-width",function(Zt){return o.crispRound(Qe,Zt.minor?rt.minor.tickwidth:rt.tickwidth,1)+"px"}).attr("d",er.path).style("display",null),dr(rt,[F]),Pt.attr("transform",er.transFn)},ee.drawGrid=function(Qe,rt,er){if(er=er||{},rt.tickmode!=="sync"){var tr=rt._id+"grid",jt=rt.minor&&rt.minor.showgrid,Pt=jt?er.vals.filter(function(gr){return gr.minor}):[],Zt=rt.showgrid?er.vals.filter(function(gr){return!gr.minor}):[],nr=er.counterAxis;if(nr&&ee.shouldShowZeroLine(Qe,rt,nr))for(var Qt=rt.tickmode==="array",Wt=0;Wt<Zt.length;Wt++){var yr=Zt[Wt].x;if(Qt?!yr:Math.abs(yr)<rt.dtick/100)if(Zt=Zt.slice(0,Wt).concat(Zt.slice(Wt+1)),Qt)Wt--;else break}rt._gw=o.crispRound(Qe,rt.gridwidth,1);for(var Dr=jt?o.crispRound(Qe,rt.minor.gridwidth,1):0,Tr=er.layer,dn=er.minorLayer,Nr=1;Nr>=0;Nr--){var Cn=Nr?Tr:dn;if(Cn){var an=Cn.selectAll("path."+tr).data(Nr?Zt:Pt,Kt);an.exit().remove(),an.enter().append("path").classed(tr,1).classed("crisp",er.crisp!==!1),an.attr("transform",er.transFn).attr("d",er.path).each(function(gr){return t.stroke(d.select(this),gr.minor?rt.minor.gridcolor:rt.gridcolor||"#ddd")}).style("stroke-dasharray",function(gr){return o.dashStyle(gr.minor?rt.minor.griddash:rt.griddash,gr.minor?rt.minor.gridwidth:rt.gridwidth)}).style("stroke-width",function(gr){return(gr.minor?Dr:rt._gw)+"px"}).style("display",null),typeof er.path=="function"&&an.attr("d",er.path)}}dr(rt,[V,B])}},ee.drawZeroLine=function(Qe,rt,er){er=er||er;var tr=rt._id+"zl",jt=ee.shouldShowZeroLine(Qe,rt,er.counterAxis),Pt=er.layer.selectAll("path."+tr).data(jt?[{x:0,id:rt._id}]:[]);Pt.exit().remove(),Pt.enter().append("path").classed(tr,1).classed("zl",1).classed("crisp",er.crisp!==!1).each(function(){er.layer.selectAll("path").sort(function(Zt,nr){return le(Zt.id,nr.id)})}),Pt.attr("transform",er.transFn).attr("d",er.path).call(t.stroke,rt.zerolinecolor||t.defaultLine).style("stroke-width",o.crispRound(Qe,rt.zerolinewidth,rt._gw||1)+"px").style("display",null),dr(rt,[O])},ee.drawLabels=function(Qe,rt,er){er=er||{};var tr=Qe._fullLayout,jt=rt._id,Pt=er.cls||jt+"tick",Zt=er.vals.filter(function(un){return un.text}),nr=er.labelFns,Qt=er.secondary?0:rt.tickangle,Wt=(rt._prevTickAngles||{})[Pt],yr=er.layer.selectAll("g."+Pt).data(rt.showticklabels?Zt:[],Kt),Dr=[];yr.enter().append("g").classed(Pt,1).append("text").attr("text-anchor","middle").each(function(un){var Bn=d.select(this),yn=Qe._promises.length;Bn.call(p.positionText,nr.xFn(un),nr.yFn(un)).call(o.font,{family:un.font,size:un.fontSize,color:un.fontColor,weight:un.fontWeight,style:un.fontStyle,variant:un.fontVariant,textcase:un.fontTextcase,lineposition:un.fontLineposition,shadow:un.fontShadow}).text(un.text).call(p.convertToTspans,Qe),Qe._promises[yn]?Dr.push(Qe._promises.pop().then(function(){Tr(Bn,Qt)})):Tr(Bn,Qt)}),dr(rt,[G]),yr.exit().remove(),er.repositionOnUpdate&&yr.each(function(un){d.select(this).select("text").call(p.positionText,nr.xFn(un),nr.yFn(un))});function Tr(un,Bn){un.each(function(yn){var Ln=d.select(this),Un=Ln.select(".text-math-group"),qn=nr.anchorFn(yn,Bn),da=er.transFn.call(Ln.node(),yn)+(P(Bn)&&+Bn!=0?" rotate("+Bn+","+nr.xFn(yn)+","+(nr.yFn(yn)-yn.fontSize/2)+")":""),Ia=p.lineCount(Ln),Ar=fe*yn.fontSize,Br=nr.heightFn(yn,P(Bn)?+Bn:0,(Ia-1)*Ar);if(Br&&(da+=v(0,Br)),Un.empty()){var Sr=Ln.select("text");Sr.attr({transform:da,"text-anchor":qn}),Sr.style("opacity",1),rt._adjustTickLabelsOverflow&&rt._adjustTickLabelsOverflow()}else{var Ur=o.bBox(Un.node()).width,fn=Ur*{end:-.5,start:.5}[qn];Un.attr("transform",da+v(fn,0))}})}rt._adjustTickLabelsOverflow=function(){var un=rt.ticklabeloverflow;if(!(!un||un==="allow")){var Bn=un.indexOf("hide")!==-1,yn=rt._id.charAt(0)==="x",Ln=0,Un=yn?Qe._fullLayout.width:Qe._fullLayout.height;if(un.indexOf("domain")!==-1){var qn=x.simpleMap(rt.range,rt.r2l);Ln=rt.l2p(qn[0])+rt._offset,Un=rt.l2p(qn[1])+rt._offset}var da=Math.min(Ln,Un),Ia=Math.max(Ln,Un),Ar=rt.side,Br=1/0,Sr=-1/0;yr.each(function(xn){var hn=d.select(this),Er=hn.select(".text-math-group");if(Er.empty()){var Yr=o.bBox(hn.node()),Wr=0;yn?(Yr.right>Ia||Yr.left<da)&&(Wr=1):(Yr.bottom>Ia||Yr.top+(rt.tickangle?0:xn.fontSize/4)<da)&&(Wr=1);var qr=hn.select("text");Wr?Bn&&qr.style("opacity",0):(qr.style("opacity",1),Ar==="bottom"||Ar==="right"?Br=Math.min(Br,yn?Yr.top:Yr.left):Br=-1/0,Ar==="top"||Ar==="left"?Sr=Math.max(Sr,yn?Yr.bottom:Yr.right):Sr=1/0)}});for(var Ur in tr._plots){var fn=tr._plots[Ur];if(!(rt._id!==fn.xaxis._id&&rt._id!==fn.yaxis._id)){var Dn=yn?fn.yaxis:fn.xaxis;Dn&&(Dn["_visibleLabelMin_"+rt._id]=Br,Dn["_visibleLabelMax_"+rt._id]=Sr)}}}},rt._hideCounterAxisInsideTickLabels=function(un){var Bn=rt._id.charAt(0)==="x",yn=[];for(var Ln in tr._plots){var Un=tr._plots[Ln];rt._id!==Un.xaxis._id&&rt._id!==Un.yaxis._id||yn.push(Bn?Un.yaxis:Un.xaxis)}yn.forEach(function(qn,da){qn&&cr(qn)&&(un||[O,B,V,F,G]).forEach(function(Ia){var Ar=Ia.K==="tick"&&Ia.L==="text"&&rt.ticklabelmode==="period",Br=tr._plots[rt._mainSubplot],Sr;Ia.K===O.K?Sr=Br.zerolinelayer.selectAll("."+rt._id+"zl"):Ia.K===B.K?Sr=Br.minorGridlayer.selectAll("."+rt._id):Ia.K===V.K?Sr=Br.gridlayer.selectAll("."+rt._id):Sr=Br[rt._id.charAt(0)+"axislayer"],Sr.each(function(){var Ur=d.select(this);Ia.L&&(Ur=Ur.selectAll(Ia.L)),Ur.each(function(fn){var Dn=rt.l2p(Ar?Tt(fn):fn.x)+rt._offset,xn=d.select(this);Dn<rt["_visibleLabelMax_"+qn._id]&&Dn>rt["_visibleLabelMin_"+qn._id]?xn.style("display","none"):Ia.K==="tick"&&!da&&xn.style("display",null)})})})})},Tr(yr,Wt+1?Wt:Qt);function dn(){return Dr.length&&Promise.all(Dr)}var Nr=null;function Cn(){if(Tr(yr,Qt),Zt.length&&rt.autotickangles&&(rt.type!=="log"||String(rt.dtick).charAt(0)!=="D")){Nr=rt.autotickangles[0];var un=0,Bn=[],yn,Ln=1;yr.each(function(Yn){un=Math.max(un,Yn.fontSize);var Kn=rt.l2p(Yn.x),la=yt(this),Ra=o.bBox(la.node());Ln=Math.max(Ln,p.lineCount(la)),Bn.push({top:0,bottom:10,height:10,left:Kn-Ra.width/2,right:Kn+Ra.width/2+2,width:Ra.width+2})});var Un=(rt.tickson==="boundaries"||rt.showdividers)&&!er.secondary,qn=Zt.length,da=Math.abs((Zt[qn-1].x-Zt[0].x)*rt._m)/(qn-1),Ia=Un?da/2:da,Ar=Un?rt.ticklen:un*1.25*Ln,Br=Math.sqrt(Math.pow(Ia,2)+Math.pow(Ar,2)),Sr=Ia/Br,Ur=rt.autotickangles.map(function(Yn){return Yn*Math.PI/180}),fn=Ur.find(function(Yn){return Math.abs(Math.cos(Yn))<=Sr});fn===void 0&&(fn=Ur.reduce(function(Yn,Kn){return Math.abs(Math.cos(Yn))<Math.abs(Math.cos(Kn))?Yn:Kn},Ur[0]));var Dn=fn*(180/Math.PI);if(Un){var xn=2;for(rt.ticks&&(xn+=rt.tickwidth/2),yn=0;yn<Bn.length;yn++){var hn=Zt[yn].xbnd,Er=Bn[yn];if(hn[0]!==null&&Er.left-rt.l2p(hn[0])<xn||hn[1]!==null&&rt.l2p(hn[1])-Er.right<xn){Nr=Dn;break}}}else{var Yr=rt.ticklabelposition||"",Wr=function(Yn){return Yr.indexOf(Yn)!==-1},qr=Wr("top"),Tn=Wr("left"),Sn=Wr("right"),Nn=Wr("bottom"),Hn=Nn||Tn||qr||Sn,zn=Hn?(rt.tickwidth||0)+2*J:0;for(yn=0;yn<Bn.length-1;yn++)if(x.bBoxIntersect(Bn[yn],Bn[yn+1],zn)){Nr=Dn;break}}Nr&&Tr(yr,Nr)}}rt._selections&&(rt._selections[Pt]=yr);var an=[dn];rt.automargin&&tr._redrawFromAutoMarginCount&&Wt===90?(Nr=Wt,an.push(function(){Tr(yr,Wt)})):an.push(Cn),rt._tickAngles&&an.push(function(){rt._tickAngles[Pt]=Nr===null?P(Qt)?Qt:0:Nr});var gr=function(){var un=0,Bn=0;return yr.each(function(yn,Ln){var Un=yt(this),qn=Un.select(".text-math-group");if(qn.empty()){var da;rt._vals[Ln]&&(da=rt._vals[Ln].bb||o.bBox(Un.node()),rt._vals[Ln].bb=da),un=Math.max(un,da.width),Bn=Math.max(Bn,da.height)}}),{labelsMaxW:un,labelsMaxH:Bn}},Pr=rt._anchorAxis;if(Pr&&(Pr.autorange||Pr.insiderange)&&cr(rt)&&!$(tr,rt._id)&&(tr._insideTickLabelsUpdaterange||(tr._insideTickLabelsUpdaterange={}),Pr.autorange&&(tr._insideTickLabelsUpdaterange[Pr._name+".autorange"]=Pr.autorange,an.push(gr)),Pr.insiderange)){var Xr=gr(),_r=rt._id.charAt(0)==="y"?Xr.labelsMaxW:Xr.labelsMaxH;_r+=2*J,rt.ticklabelposition==="inside"&&(_r+=rt.ticklen||0);var gn=rt.side==="right"||rt.side==="top"?1:-1,rn=gn===1?1:0,An=gn===1?0:1,Pn=[];Pn[An]=Pr.range[An];var Wn=Pr.range,ya=Pr.r2p(Wn[rn]),Ta=Pr.r2p(Wn[An]),sa=tr._insideTickLabelsUpdaterange[Pr._name+".range"];if(sa){var aa=Pr.r2p(sa[rn]),kn=Pr.r2p(sa[An]),Cr=gn*(rt._id.charAt(0)==="y"?1:-1);Cr*ya<Cr*aa&&(ya=aa,Pn[rn]=Wn[rn]=sa[rn]),Cr*Ta>Cr*kn&&(Ta=kn,Pn[An]=Wn[An]=sa[An])}var on=Math.abs(Ta-ya);on-_r>0?(on-=_r,_r*=1+_r/on):_r=0,rt._id.charAt(0)!=="y"&&(_r=-_r),Pn[rn]=Pr.p2r(Pr.r2p(Wn[rn])+gn*_r),Pr.autorange==="min"||Pr.autorange==="max reversed"?(Pn[0]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0):(Pr.autorange==="max"||Pr.autorange==="min reversed")&&(Pn[1]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0),tr._insideTickLabelsUpdaterange[Pr._name+".range"]=Pn}var sn=x.syncOrAsync(an);return sn&&sn.then&&Qe._promises.push(sn),sn};function vr(Qe,rt,er){var tr=rt._id+"divider",jt=er.vals,Pt=er.layer.selectAll("path."+tr).data(jt,Kt);Pt.exit().remove(),Pt.enter().insert("path",":first-child").classed(tr,1).classed("crisp",1).call(t.stroke,rt.dividercolor).style("stroke-width",o.crispRound(Qe,rt.dividerwidth,1)+"px"),Pt.attr("transform",er.transFn).attr("d",er.path)}ee.getPxPosition=function(Qe,rt){var er=Qe._fullLayout._size,tr=rt._id.charAt(0),jt=rt.side,Pt;if(rt.anchor!=="free"?Pt=rt._anchorAxis:tr==="x"?Pt={_offset:er.t+(1-(rt.position||0))*er.h,_length:0}:tr==="y"&&(Pt={_offset:er.l+(rt.position||0)*er.w+rt._shift,_length:0}),jt==="top"||jt==="left")return Pt._offset;if(jt==="bottom"||jt==="right")return Pt._offset+Pt._length};function gt(Qe){var rt=Qe.title.font.size,er=(Qe.title.text.match(p.BR_TAG_ALL)||[]).length;return Qe.title.hasOwnProperty("standoff")?rt*(ae+er*fe):er?rt*(er+1)*fe:rt}function Xt(Qe,rt){var er=Qe._fullLayout,tr=rt._id,jt=tr.charAt(0),Pt=rt.title.font.size,Zt,nr=(rt.title.text.match(p.BR_TAG_ALL)||[]).length;if(rt.title.hasOwnProperty("standoff"))rt.side==="bottom"||rt.side==="right"?Zt=rt._depth+rt.title.standoff+Pt*ae:(rt.side==="top"||rt.side==="left")&&(Zt=rt._depth+rt.title.standoff+Pt*(te+nr*fe));else{var Qt=cr(rt);if(rt.type==="multicategory")Zt=rt._depth;else{var Wt=1.5*Pt;Qt&&(Wt=.5*Pt,rt.ticks==="outside"&&(Wt+=rt.ticklen)),Zt=10+Wt+(rt.linewidth?rt.linewidth-1:0)}Qt||(jt==="x"?Zt+=rt.side==="top"?Pt*(rt.showticklabels?1:0):Pt*(rt.showticklabels?1.5:.5):Zt+=rt.side==="right"?Pt*(rt.showticklabels?1:.5):Pt*(rt.showticklabels?.5:0))}var yr=ee.getPxPosition(Qe,rt),Dr,Tr,dn;jt==="x"?(Tr=rt._offset+rt._length/2,dn=rt.side==="top"?yr-Zt:yr+Zt):(dn=rt._offset+rt._length/2,Tr=rt.side==="right"?yr+Zt:yr-Zt,Dr={rotate:"-90",offset:0});var Nr;if(rt.type!=="multicategory"){var Cn=rt._selections[rt._id+"tick"];if(Nr={selection:Cn,side:rt.side},Cn&&Cn.node()&&Cn.node().parentNode){var an=o.getTranslate(Cn.node().parentNode);Nr.offsetLeft=an.x,Nr.offsetTop=an.y}rt.title.hasOwnProperty("standoff")&&(Nr.pad=0)}return rt._titleStandoff=Zt,r.draw(Qe,tr+"title",{propContainer:rt,propName:rt._name+".title.text",placeholder:er._dfltTitle[jt],avoid:Nr,transform:Dr,attributes:{x:Tr,y:dn,"text-anchor":"middle"}})}ee.shouldShowZeroLine=function(Qe,rt,er){var tr=x.simpleMap(rt.range,rt.r2l);return tr[0]*tr[1]<=0&&rt.zeroline&&(rt.type==="linear"||rt.type==="-")&&!(rt.rangebreaks&&rt.maskBreaks(0)===H)&&($t(rt,0)||!mr(Qe,rt,er,tr)||or(Qe,rt))},ee.clipEnds=function(Qe,rt){return rt.filter(function(er){return $t(Qe,er.x)})};function $t(Qe,rt){var er=Qe.l2p(rt);return er>1&&er<Qe._length-1}function mr(Qe,rt,er,tr){var jt=er._mainAxis;if(!jt)return;var Pt=Qe._fullLayout,Zt=rt._id.charAt(0),nr=ee.counterLetter(rt._id),Qt=rt._offset+(Math.abs(tr[0])<Math.abs(tr[1])==(Zt==="x")?0:rt._length);function Wt(Nr){if(!Nr.showline||!Nr.linewidth)return!1;var Cn=Math.max((Nr.linewidth+rt.zerolinewidth)/2,1);function an(Xr){return typeof Xr=="number"&&Math.abs(Xr-Qt)<Cn}if(an(Nr._mainLinePosition)||an(Nr._mainMirrorPosition))return!0;var gr=Nr._linepositions||{};for(var Pr in gr)if(an(gr[Pr][0])||an(gr[Pr][1]))return!0}var yr=Pt._plots[er._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return Wt(er);for(var Dr=ee.list(Qe,nr),Tr=0;Tr<Dr.length;Tr++){var dn=Dr[Tr];if(dn._mainAxis===jt&&Wt(dn))return!0}}function or(Qe,rt){for(var er=Qe._fullData,tr=rt._mainSubplot,jt=rt._id.charAt(0),Pt=0;Pt<er.length;Pt++){var Zt=er[Pt];if(Zt.visible===!0&&Zt.xaxis+Zt.yaxis===tr&&(C.traceIs(Zt,"bar-like")&&Zt.orientation==={x:"h",y:"v"}[jt]||Zt.fill&&Zt.fill.charAt(Zt.fill.length-1)===jt))return!0}return!1}function yt(Qe){var rt=d.select(Qe),er=rt.select(".text-math-group");return er.empty()?rt.select("text"):er}ee.allowAutoMargin=function(Qe){for(var rt=ee.list(Qe,"",!0),er=0;er<rt.length;er++){var tr=rt[er];tr.automargin&&(n.allowAutoMargin(Qe,ut(tr)),tr.mirror&&n.allowAutoMargin(Qe,bt(tr))),C.getComponentMethod("rangeslider","isVisible")(tr)&&n.allowAutoMargin(Qe,Et(tr))}};function ut(Qe){return Qe._id+".automargin"}function bt(Qe){return ut(Qe)+".mirror"}function Et(Qe){return Qe._id+".rangeslider"}ee.swap=function(Qe,rt){for(var er=It(Qe,rt),tr=0;tr<er.length;tr++)Ot(Qe,er[tr].x,er[tr].y)};function It(Qe,rt){var er=[],tr,jt;for(tr=0;tr<rt.length;tr++){var Pt=[],Zt=Qe._fullData[rt[tr]].xaxis,nr=Qe._fullData[rt[tr]].yaxis;if(!(!Zt||!nr)){for(jt=0;jt<er.length;jt++)(er[jt].x.indexOf(Zt)!==-1||er[jt].y.indexOf(nr)!==-1)&&Pt.push(jt);if(!Pt.length){er.push({x:[Zt],y:[nr]});continue}var Qt=er[Pt[0]],Wt;if(Pt.length>1)for(jt=1;jt<Pt.length;jt++)Wt=er[Pt[jt]],Ft(Qt.x,Wt.x),Ft(Qt.y,Wt.y);Ft(Qt.x,[Zt]),Ft(Qt.y,[nr])}}return er}function Ft(Qe,rt){for(var er=0;er<rt.length;er++)Qe.indexOf(rt[er])===-1&&Qe.push(rt[er])}function Ot(Qe,rt,er){var tr=[],jt=[],Pt=Qe.layout,Zt,nr;for(Zt=0;Zt<rt.length;Zt++)tr.push(ee.getFromId(Qe,rt[Zt]));for(Zt=0;Zt<er.length;Zt++)jt.push(ee.getFromId(Qe,er[Zt]));var Qt=Object.keys(a),Wt=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(Zt=0;Zt<Qt.length;Zt++){var Dr=Qt[Zt],Tr=tr[0][Dr],dn=jt[0][Dr],Nr=!0,Cn=!1,an=!1;if(!(Dr.charAt(0)==="_"||typeof Tr=="function"||Wt.indexOf(Dr)!==-1)){for(nr=1;nr<tr.length&&Nr;nr++){var gr=tr[nr][Dr];Dr==="type"&&yr.indexOf(Tr)!==-1&&yr.indexOf(gr)!==-1&&Tr!==gr?Cn=!0:gr!==Tr&&(Nr=!1)}for(nr=1;nr<jt.length&&Nr;nr++){var Pr=jt[nr][Dr];Dr==="type"&&yr.indexOf(dn)!==-1&&yr.indexOf(Pr)!==-1&&dn!==Pr?an=!0:jt[nr][Dr]!==dn&&(Nr=!1)}Nr&&(Cn&&(Pt[tr[0]._name].type="linear"),an&&(Pt[jt[0]._name].type="linear"),Nt(Pt,Dr,tr,jt,Qe._fullLayout._dfltTitle))}}for(Zt=0;Zt<Qe._fullLayout.annotations.length;Zt++){var Xr=Qe._fullLayout.annotations[Zt];rt.indexOf(Xr.xref)!==-1&&er.indexOf(Xr.yref)!==-1&&x.swapAttrs(Pt.annotations[Zt],["?"])}}function Nt(Qe,rt,er,tr,jt){var Pt=x.nestedProperty,Zt=Pt(Qe[er[0]._name],rt).get(),nr=Pt(Qe[tr[0]._name],rt).get(),Qt;for(rt==="title"&&(Zt&&Zt.text===jt.x&&(Zt.text=jt.y),nr&&nr.text===jt.y&&(nr.text=jt.x)),Qt=0;Qt<er.length;Qt++)Pt(Qe,er[Qt]._name+"."+rt).set(nr);for(Qt=0;Qt<tr.length;Qt++)Pt(Qe,tr[Qt]._name+"."+rt).set(Zt)}function Jt(Qe){return Qe._id==="angularaxis"}function hr(Qe,rt){for(var er=rt._rangebreaks.length,tr=0;tr<er;tr++){var jt=rt._rangebreaks[tr];if(Qe>=jt.min&&Qe<jt.max)return jt.max}return Qe}function cr(Qe){return(Qe.ticklabelposition||"").indexOf("inside")!==-1}function dr(Qe,rt){cr(Qe._anchorAxis||{})&&Qe._hideCounterAxisInsideTickLabels&&Qe._hideCounterAxisInsideTickLabels(rt)}function fr(Qe,rt,er,tr){var jt=Qe.anchor!=="free"&&(Qe.overlaying===void 0||Qe.overlaying===!1)?Qe._id:Qe.overlaying,Pt;tr?Pt=Qe.side==="right"?rt:-rt:Pt=rt,jt in er||(er[jt]={}),Qe.side in er[jt]||(er[jt][Qe.side]=0),er[jt][Qe.side]+=Pt}function Lr(Qe,rt){return Qe.autoshift?rt[Qe.overlaying][Qe.side]:Qe.shift||0}function xr(Qe,rt){return/%f/.test(rt)?Qe>=_:/%L/.test(rt)?Qe>=w:/%[SX]/.test(rt)?Qe>=S:/%M/.test(rt)?Qe>=s:/%[HI]/.test(rt)?Qe>=M:/%p/.test(rt)?Qe>=L:/%[Aadejuwx]/.test(rt)?Qe>=m:/%[UVW]/.test(rt)?Qe>=R:/%[Bbm]/.test(rt)?Qe>=A:/%[q]/.test(rt)?Qe>=i:/%[Yy]/.test(rt)?Qe>=c:!0}},52976:function(U,N,e){var d=e(38248),P=e(3400),n=e(39032).BADNUM,C=P.isArrayOrTypedArray,x=P.isDateTime,v=P.cleanNumber,p=Math.round;U.exports=function(y,c,T){var h=y,i=T.noMultiCategory;if(C(h)&&!h.length)return"-";if(!i&&f(h))return"multicategory";if(i&&Array.isArray(h[0])){for(var g=[],b=0;b<h.length;b++)if(C(h[b]))for(var A=0;A<h[b].length;A++)g.push(h[b][A]);h=g}if(o(h,c))return"date";var R=T.autotypenumbers!=="strict";return u(h,R)?"category":t(h,R)?"linear":"-"};function r(l,y){return y?d(l):typeof l=="number"}function t(l,y){for(var c=l.length,T=0;T<c;T++)if(r(l[T],y))return!0;return!1}function o(l,y){for(var c=l.length,T=a(c),h=0,i=0,g={},b=0;b<c;b+=T){var A=p(b),R=l[A],m=String(R);g[m]||(g[m]=1,x(R,y)&&h++,d(R)&&i++)}return h>i*2}function a(l){return Math.max(1,(l-1)/1e3)}function u(l,y){for(var c=l.length,T=a(c),h=0,i=0,g={},b=0;b<c;b+=T){var A=p(b),R=l[A],m=String(R);if(!g[m]){g[m]=1;var L=typeof R;L==="boolean"?i++:(y?v(R)!==n:L==="number")?h++:L==="string"&&i++}}return i>h*2}function f(l){return C(l[0])&&C(l[1])}},28336:function(U,N,e){var d=e(38248),P=e(24040),n=e(3400),C=e(31780),x=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),o=e(42568),a=e(22416),u=e(42136),f=e(96312),l=e(78344),y=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;U.exports=function(b,A,R,m,L){var M=m.letter,s=m.font||{},S=m.splomStash||{},w=R("visible",!m.visibleDflt),_=A._template||{},I=A.type||_.type||"-",H;if(I==="date"){var O=P.getComponentMethod("calendars","handleDefaults");O(b,A,"calendar",m.calendar),m.noTicklabelmode||(H=R("ticklabelmode"))}!m.noTicklabelindex&&(I==="date"||I==="linear")&&R("ticklabelindex");var V="";(!m.noTicklabelposition||I==="multicategory")&&(V=n.coerce(b,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:H==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||R("ticklabeloverflow",V.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),l(A,L),f(b,A,R,m),a(b,A,R,m),I!=="category"&&!m.noHover&&R("hoverformat");var B=R("color"),F=B!==v.color.dflt?B:s.color,G=S.label||L._dfltTitle[M];if(o(b,A,R,I,m),!w)return A;R("title.text",G),n.coerceFont(R,"title.font",s,{overrideDflt:{size:n.bigFont(s.size),color:F}}),p(b,A,R,I);var Y=m.hasMinor;if(Y&&(C.newContainer(A,"minor"),p(b,A,R,I,{isMinor:!0})),t(b,A,R,I,m),r(b,A,R,m),Y){var Q=m.isMinor;m.isMinor=!0,r(b,A,R,m),m.isMinor=Q}u(b,A,R,{dfltColor:B,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:Y,attributes:v}),Y&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&R("mirror");var te=I==="multicategory";if(!m.noTickson&&(I==="category"||te)&&(A.ticks||A.showgrid)){var ae;te&&(ae="boundaries");var fe=R("tickson",ae);fe==="boundaries"&&delete A.ticklabelposition}if(te){var oe=R("showdividers");oe&&(R("dividercolor"),R("dividerwidth"))}if(I==="date")if(x(b,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var J=0;J<A.rangebreaks.length;J++)if(A.rangebreaks[J].pattern===y){A._hasDayOfWeekBreaks=!0;break}if(l(A,L),L._has("scattergl")||L._has("splom"))for(var ee=0;ee<m.data.length;ee++){var X=m.data[ee];(X.type==="scattergl"||X.type==="splom")&&(X.visible=!1,n.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}return A};function T(g,b,A){function R(H,O){return n.coerce(g,b,v.rangebreaks,H,O)}var m=R("enabled");if(m){var L=R("bounds");if(L&&L.length>=2){var M="",s,S;if(L.length===2){for(s=0;s<2;s++)if(S=i(L[s]),S){M=y;break}}var w=R("pattern",M);if(w===y)for(s=0;s<2;s++)S=i(L[s]),S&&(b.bounds[s]=L[s]=S-1);if(w)for(s=0;s<2;s++)switch(S=L[s],w){case y:if(!d(S)){b.enabled=!1;return}if(S=+S,S!==Math.floor(S)||S<0||S>=7){b.enabled=!1;return}b.bounds[s]=L[s]=S;break;case c:if(!d(S)){b.enabled=!1;return}if(S=+S,S<0||S>24){b.enabled=!1;return}b.bounds[s]=L[s]=S;break}if(A.autorange===!1){var _=A.range;if(_[0]<_[1]){if(L[0]<_[0]&&L[1]>_[1]){b.enabled=!1;return}}else if(L[0]>_[0]&&L[1]<_[1]){b.enabled=!1;return}}}else{var I=R("values");if(I&&I.length)R("dvalue");else{b.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(g){if(typeof g=="string")return h[g.substr(0,3).toLowerCase()]}},29736:function(U,N,e){var d=e(26880),P=d.FORMAT_LINK,n=d.DATE_FORMAT_LINK;function C(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?x:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function x(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return x(p,r)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}U.exports={axisHoverFormat:C,descriptionOnlyNumbers:x,descriptionWithDates:v}},79811:function(U,N,e){var d=e(24040),P=e(33816);N.id2name=function(x){if(!(typeof x!="string"||!x.match(P.AX_ID_PATTERN))){var v=x.split(" ")[0].substr(1);return v==="1"&&(v=""),x.charAt(0)+"axis"+v}},N.name2id=function(x){if(x.match(P.AX_NAME_PATTERN)){var v=x.substr(5);return v==="1"&&(v=""),x.charAt(0)+v}},N.cleanId=function(x,v,p){var r=/( domain)$/.test(x);if(!(typeof x!="string"||!x.match(P.AX_ID_PATTERN))&&!(v&&x.charAt(0)!==v)&&!(r&&!p)){var t=x.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),x.charAt(0)+t+(r&&p?" domain":"")}},N.list=function(C,x,v){var p=C._fullLayout;if(!p)return[];var r=N.listIds(C,x),t=new Array(r.length),o;for(o=0;o<r.length;o++){var a=r[o];t[o]=p[a.charAt(0)+"axis"+a.substr(1)]}if(!v){var u=p._subplots.gl3d||[];for(o=0;o<u.length;o++){var f=p[u[o]];x?t.push(f[x+"axis"]):t.push(f.xaxis,f.yaxis,f.zaxis)}}return t},N.listIds=function(C,x){var v=C._fullLayout;if(!v)return[];var p=v._subplots;return x?p[x+"axis"]:p.xaxis.concat(p.yaxis)},N.getFromId=function(C,x,v){var p=C._fullLayout;return x=x===void 0||typeof x!="string"?x:x.replace(" domain",""),v==="x"?x=x.replace(/y[0-9]*/,""):v==="y"&&(x=x.replace(/x[0-9]*/,"")),p[N.id2name(x)]},N.getFromTrace=function(C,x,v){var p=C._fullLayout,r=null;if(d.traceIs(x,"gl3d")){var t=x.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=N.getFromId(C,x[v+"axis"]||v);return r},N.idSort=function(C,x){var v=C.charAt(0),p=x.charAt(0);return v!==p?v>p?1:-1:+(C.substr(1)||1)-+(x.substr(1)||1)},N.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function n(C,x){if(x&&x.length){for(var v=0;v<x.length;v++)if(x[v][C])return!0}return!1}N.isLinked=function(C,x){return n(x,C._axisMatchGroups)||n(x,C._axisConstraintGroups)}},22416:function(U,N,e){var d=e(38116).isTypedArraySpec;function P(n,C){var x=C.dataAttr||n._id.charAt(0),v={},p,r,t;if(C.axData)p=C.axData;else for(p=[],r=0;r<C.data.length;r++){var o=C.data[r];o[x+"axis"]===n._id&&p.push(o)}for(r=0;r<p.length;r++){var a=p[r][x];for(t=0;t<a.length;t++){var u=a[t];u!=null&&(v[u]=1)}}return Object.keys(v)}U.exports=function(C,x,v,p){if(x.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||d(r),o;t&&(o="array");var a=v("categoryorder",o),u;a==="array"&&(u=v("categoryarray")),!t&&a==="array"&&(a=x.categoryorder="trace"),a==="trace"?x._initialCategories=[]:a==="array"?x._initialCategories=u.slice():(u=P(x,p).sort(),a==="category ascending"?x._initialCategories=u:a==="category descending"&&(x._initialCategories=u.reverse()))}}},98728:function(U,N,e){var d=e(38248),P=e(3400),n=e(39032),C=n.ONEDAY,x=n.ONEWEEK;N.dtick=function(v,p){var r=p==="log",t=p==="date",o=p==="category",a=t?C:1;if(!v)return a;if(d(v))return v=Number(v),v<=0?a:o?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return a;var u=v.charAt(0),f=v.substr(1);return f=d(f)?Number(f):0,f<=0||!(t&&u==="M"&&f===Math.round(f)||r&&u==="L"||r&&u==="D"&&(f===1||f===2))?a:v},N.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%x===0?1:0));if(!(t==="D1"||t==="D2"))return d(v)?Number(v):0}},33816:function(U,N,e){var d=e(53756).counter;U.exports={idRegex:{x:d("x","( domain)?"),y:d("y","( domain)?")},attrRegex:d("[xy]axis"),xAxisMatch:d("xaxis"),yAxisMatch:d("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},71888:function(U,N,e){var d=e(3400),P=e(19280),n=e(79811).id2name,C=e(94724),x=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;N.handleDefaults=function(c,T,h){var i=h.axIds,g=h.axHasImage,b=T._axisConstraintGroups=[],A=T._axisMatchGroups=[],R,m,L,M,s,S,w,_;for(R=0;R<i.length;R++)M=n(i[R]),s=c[M],S=T[M],t(s,S,{axIds:i,layoutOut:T,hasImage:g[M]});function I(te,ae){for(R=0;R<te.length;R++){m=te[R];for(L in m)T[n(L)][ae]=m}}for(I(A,"_matchGroup"),R=0;R<b.length;R++){m=b[R];for(L in m)if(S=T[n(L)],S.fixedrange){for(var H in m){var O=n(H);(c[O]||{}).fixedrange===!1&&d.warn("fixedrange was specified as false for axis "+O+" but was overridden because another axis in its constraint group has fixedrange true"),T[O].fixedrange=!0}break}}for(R=0;R<b.length;){m=b[R];for(L in m){S=T[n(L)],S._matchGroup&&Object.keys(S._matchGroup).length===Object.keys(m).length&&(b.splice(R,1),R--);break}R++}I(b,"_constraintGroup");var V=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,F=!1;function G(){_=S[w],w==="rangebreaks"&&(F=S._hasDayOfWeekBreaks)}for(R=0;R<A.length;R++){m=A[R];for(var Y=0;Y<V.length;Y++){w=V[Y],_=null;var Q;for(L in m)if(M=n(L),s=c[M],S=T[M],w in S){if(!S.matches&&(Q=S,w in s)){G();break}_===null&&w in s&&G()}if(w==="range"&&_&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(B=!0),w==="autorange"&&_===null&&B&&(_=!1),_===null&&w in Q&&(_=Q[w]),_!==null)for(L in m)S=T[n(L)],S[w]=w==="range"?_.slice():_,w==="rangebreaks"&&(S._hasDayOfWeekBreaks=F,v(S,T))}}};function t(c,T,h){var i=h.axIds,g=h.layoutOut,b=h.hasImage,A=g._axisConstraintGroups,R=g._axisMatchGroups,m=T._id,L=m.charAt(0),M=((g._splomAxes||{})[L]||{})[m]||{},s=T._id,S=s.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function w(J,ee){return d.coerce(c,T,C,J,ee)}w("constrain",b?"domain":"range"),d.coerce(c,T,{constraintoward:{valType:"enumerated",values:S?["left","center","right"]:["bottom","middle","top"],dflt:S?"center":"middle"}},"constraintoward");var _=T.type,I,H,O=[];for(I=0;I<i.length;I++)if(H=i[I],H!==s){var V=g[n(H)];V.type===_&&O.push(H)}var B=a(A,s);if(B){var F=[];for(I=0;I<O.length;I++)H=O[I],B[H]||F.push(H);O=F}var G=O.length,Y,Q;G&&(c.matches||M.matches)&&(Y=d.coerce(c,T,{matches:{valType:"enumerated",values:O,dflt:O.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var te=b&&!S?T.anchor:void 0;if(G&&!Y&&(c.scaleanchor||te)&&(Q=d.coerce(c,T,{scaleanchor:{valType:"enumerated",values:O.concat([!1])}},"scaleanchor",te)),Y){T._matchGroup=u(R,s,Y,1);var ae=g[n(Y)],fe=o(g,T)/o(g,ae);S!==(Y.charAt(0)==="x")&&(fe=(S?"x":"y")+fe),u(A,s,Y,fe)}else c.matches&&i.indexOf(c.matches)!==-1&&d.warn("ignored "+T._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(Q){var oe=w("scaleratio");oe||(oe=T.scaleratio=1),u(A,s,Q,oe)}else c.scaleanchor&&i.indexOf(c.scaleanchor)!==-1&&d.warn("ignored "+T._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function o(c,T){var h=T.domain;return h||(h=c[n(T.overlaying)].domain),h[1]-h[0]}function a(c,T){for(var h=0;h<c.length;h++)if(c[h][T])return c[h];return null}function u(c,T,h,i){var g,b,A,R,m,L=a(c,T);L===null?(L={},L[T]=1,m=c.length,c.push(L)):m=c.indexOf(L);var M=Object.keys(L);for(g=0;g<c.length;g++)if(A=c[g],g!==m&&A[h]){var s=A[h];for(b=0;b<M.length;b++)R=M[b],A[R]=f(s,f(i,L[R]));c.splice(m,1);return}if(i!==1)for(b=0;b<M.length;b++){var S=M[b];L[S]=f(i,L[S])}L[h]=1}function f(c,T){var h="",i="",g,b;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],g=h.length,c=+c.substr(g)),typeof T=="string"&&(i=T.match(/^[xy]*/)[0],b=i.length,T=+T.substr(b));var A=c*T;return!g&&!b?A:!g||!b||h.charAt(0)===i.charAt(0)?h+i+c*T:g===b?A:(g>b?h.substr(b):i.substr(g))+A}function l(c,T){for(var h=T._size,i=h.h/h.w,g={},b=Object.keys(c),A=0;A<b.length;A++){var R=b[A],m=c[R];if(typeof m=="string"){var L=m.match(/^[xy]*/)[0],M=L.length;m=+m.substr(M);for(var s=L.charAt(0)==="y"?i:1/i,S=0;S<M;S++)m*=s}g[R]=m}return g}N.enforce=function(T){var h=T._fullLayout,i=h._axisConstraintGroups||[],g,b,A,R,m,L,M,s;for(g=0;g<i.length;g++){A=l(i[g],h);var S=Object.keys(A),w=1/0,_=0,I=1/0,H={},O={},V=!1;for(b=0;b<S.length;b++)R=S[b],O[R]=m=h[n(R)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),H[R]=L=Math.abs(m._m)/A[R],w=Math.min(w,L),(m.constrain==="domain"||!m._constraintShrinkable)&&(I=Math.min(I,L)),delete m._constraintShrinkable,_=Math.max(_,L),m.constrain==="domain"&&(V=!0);if(!(w>p*_&&!V)){for(b=0;b<S.length;b++)if(R=S[b],L=H[R],m=O[R],M=m.constrain,L!==I||M==="domain")if(s=L/I,M==="range")x(m,s);else{var B=m._inputDomain,F=(m.domain[1]-m.domain[0])/(B[1]-B[0]),G=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(s/=F,s*G<1){m.domain=m._input.domain=B.slice(),x(m,s);continue}if(G<1&&(m.range=m._input.range=m._inputRange.slice(),s*=G),m.autorange){var Y=m.r2l(m.range[0]),Q=m.r2l(m.range[1]),te=(Y+Q)/2,ae=te,fe=te,oe=Math.abs(Q-te),J=te-oe*s*1.0001,ee=te+oe*s*1.0001,X=P.makePadFn(h,m,0),q=P.makePadFn(h,m,1);y(m,s);var le=Math.abs(m._m),$=P.concatExtremes(T,m),j=$.min,se=$.max,ne,he;for(he=0;he<j.length;he++)ne=j[he].val-X(j[he])/le,ne>J&&ne<ae&&(ae=ne);for(he=0;he<se.length;he++)ne=se[he].val+q(se[he])/le,ne<ee&&ne>fe&&(fe=ne);var me=(fe-ae)/(2*oe);s/=me,ae=m.l2r(ae),fe=m.l2r(fe),m.range=m._input.range=Y<Q?[ae,fe]:[fe,ae]}y(m,s)}}}},N.getAxisGroup=function(T,h){for(var i=T._axisMatchGroups,g=0;g<i.length;g++){var b=i[g];if(b[h])return"g"+g}return h},N.clean=function(T,h){if(h._inputDomain){for(var i=!1,g=h._id,b=T._fullLayout._axisConstraintGroups,A=0;A<b.length;A++)if(b[A][g]){i=!0;break}(!i||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function y(c,T){var h=c._inputDomain,i=r[c.constraintoward],g=h[0]+(h[1]-h[0])*i;c.domain=c._input.domain=[g+(h[0]-g)/T,g+(h[1]-g)/T],c.setScale()}},51184:function(U,N,e){var d=e(33428),P=e(3400),n=P.numberFormat,C=e(49760),x=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),o=e(43616),a=e(93024),u=e(54460),f=e(93972),l=e(86476),y=e(72760),c=y.selectingOrDrawing,T=y.freeMode,h=e(84284).FROM_TL,i=e(73696),g=e(39172).redrawReglTraces,b=e(7316),A=e(79811).getFromId,R=e(22676).prepSelect,m=e(22676).clearOutline,L=e(22676).selectOnClick,M=e(21160),s=e(33816),S=s.MINDRAG,w=s.MINZOOM,_=!0;function I(ne,he,me,we,Te,Le,Ie,ze){var Me=ne._fullLayout._zoomlayer,_e=Ie+ze==="nsew",Ce=(Ie+ze).length===1,Oe,Pe,Ge,Ze,it,Je,et,ft,vt,dt,xt,Mt,nt,Fe,We,je,Ke,ke,Ue,Ve,Re,de,be;me+=he.yaxis._shift;function Ne(){if(Oe=he.xaxis,Pe=he.yaxis,vt=Oe._length,dt=Pe._length,et=Oe._offset,ft=Pe._offset,Ge={},Ge[Oe._id]=Oe,Ze={},Ze[Pe._id]=Pe,Ie&&ze)for(var jt=he.overlays,Pt=0;Pt<jt.length;Pt++){var Zt=jt[Pt].xaxis;Ge[Zt._id]=Zt;var nr=jt[Pt].yaxis;Ze[nr._id]=nr}it=se(Ge),Je=se(Ze),nt=V(it,ze),Fe=V(Je,Ie),We=!Fe&&!nt,Mt=$(ne,ne._fullLayout._axisMatchGroups,Ge,Ze),xt=$(ne,ne._fullLayout._axisConstraintGroups,Ge,Ze,Mt);var Qt=xt.isSubplotConstrained||Mt.isSubplotConstrained;je=ze||Qt,Ke=Ie||Qt;var Wt=ne._fullLayout;ke=Wt._has("scattergl"),Ue=Wt._has("splom"),Ve=Wt._has("svg")}Ne();var Ye=Q(Fe+nt,ne._fullLayout.dragmode,_e),at=O(he,Ie+ze+"drag",Ye,me,we,Te,Le);if(We&&!_e)return at.onmousedown=null,at.style.pointerEvents="none",at;var lt={element:at,gd:ne,plotinfo:he};lt.prepFn=function(jt,Pt,Zt){var nr=lt.dragmode,Qt=ne._fullLayout.dragmode;Qt!==nr&&(lt.dragmode=Qt),Ne(),de=ne._fullLayout._invScaleX,be=ne._fullLayout._invScaleY,We||(_e?jt.shiftKey?Qt==="pan"?Qt="zoom":c(Qt)||(Qt="pan"):jt.ctrlKey&&(Qt="pan"):Qt="pan"),T(Qt)?lt.minDrag=1:lt.minDrag=void 0,c(Qt)?(lt.xaxes=it,lt.yaxes=Je,R(jt,Pt,Zt,lt,Qt)):(lt.clickFn=Yt,c(nr)&&Ht(),We||(Qt==="zoom"?(lt.moveFn=bt,lt.doneFn=It,lt.minDrag=1,ut(jt,Pt,Zt)):Qt==="pan"&&(lt.moveFn=cr,lt.doneFn=xr))),ne._fullLayout._redrag=function(){var Wt=ne._dragdata;if(Wt&&Wt.element===at){var yr=ne._fullLayout.dragmode;c(yr)||(Ne(),Qe([0,0,vt,dt]),lt.moveFn(Wt.dx,Wt.dy))}}};function Ht(){lt.plotinfo.selection=!1,m(ne)}function Yt(jt,Pt){var Zt=lt.gd;if(Zt._fullLayout._activeShapeIndex>=0){Zt._fullLayout._deactivateShape(Zt);return}var nr=Zt._fullLayout.clickmode;if(J(Zt),jt===2&&!Ce&&Lr(),_e)nr.indexOf("select")>-1&&L(Pt,Zt,it,Je,he.id,lt),nr.indexOf("event")>-1&&a.click(Zt,Pt,he.id);else if(jt===1&&Ce){var Qt=Ie?Pe:Oe,Wt=Ie==="s"||ze==="w"?0:1,yr=Qt._name+".range["+Wt+"]",Dr=B(Qt,Wt),Tr="left",dn="middle";if(Qt.fixedrange)return;Ie?(dn=Ie==="n"?"top":"bottom",Qt.side==="right"&&(Tr="right")):ze==="e"&&(Tr="right"),Zt._context.showAxisRangeEntryBoxes&&d.select(at).call(r.makeEditable,{gd:Zt,immediate:!0,background:Zt._fullLayout.paper_bgcolor,text:String(Dr),fill:Qt.tickfont?Qt.tickfont.color:"#444",horizontalAlign:Tr,verticalAlign:dn}).on("edit",function(Nr){var Cn=Qt.d2r(Nr);Cn!==void 0&&v.call("_guiRelayout",Zt,yr,Cn)})}}l.init(lt);var Tt,Lt,Kt,vr,gt,Xt,$t,mr,or,yt;function ut(jt,Pt,Zt){var nr=at.getBoundingClientRect();Tt=Pt-nr.left,Lt=Zt-nr.top,ne._fullLayout._calcInverseTransform(ne);var Qt=P.apply3DTransform(ne._fullLayout._invTransform)(Tt,Lt);Tt=Qt[0],Lt=Qt[1],Kt={l:Tt,r:Tt,w:0,t:Lt,b:Lt,h:0},vr=ne._hmpixcount?ne._hmlumcount/ne._hmpixcount:C(ne._fullLayout.plot_bgcolor).getLuminance(),gt="M0,0H"+vt+"V"+dt+"H0V0",Xt=!1,$t="xy",yt=!1,mr=te(Me,vr,et,ft,gt),or=ae(Me,et,ft)}function bt(jt,Pt){if(ne._transitioningWithDuration)return!1;var Zt=Math.max(0,Math.min(vt,de*jt+Tt)),nr=Math.max(0,Math.min(dt,be*Pt+Lt)),Qt=Math.abs(Zt-Tt),Wt=Math.abs(nr-Lt);Kt.l=Math.min(Tt,Zt),Kt.r=Math.max(Tt,Zt),Kt.t=Math.min(Lt,nr),Kt.b=Math.max(Lt,nr);function yr(){$t="",Kt.r=Kt.l,Kt.t=Kt.b,or.attr("d","M0,0Z")}if(xt.isSubplotConstrained)Qt>w||Wt>w?($t="xy",Qt/vt>Wt/dt?(Wt=Qt*dt/vt,Lt>nr?Kt.t=Lt-Wt:Kt.b=Lt+Wt):(Qt=Wt*vt/dt,Tt>Zt?Kt.l=Tt-Qt:Kt.r=Tt+Qt),or.attr("d",le(Kt))):yr();else if(Mt.isSubplotConstrained)if(Qt>w||Wt>w){$t="xy";var Dr=Math.min(Kt.l/vt,(dt-Kt.b)/dt),Tr=Math.max(Kt.r/vt,(dt-Kt.t)/dt);Kt.l=Dr*vt,Kt.r=Tr*vt,Kt.b=(1-Dr)*dt,Kt.t=(1-Tr)*dt,or.attr("d",le(Kt))}else yr();else!Fe||Wt<Math.min(Math.max(Qt*.6,S),w)?Qt<S||!nt?yr():(Kt.t=0,Kt.b=dt,$t="x",or.attr("d",X(Kt,Lt))):!nt||Qt<Math.min(Wt*.6,w)?(Kt.l=0,Kt.r=vt,$t="y",or.attr("d",q(Kt,Tt))):($t="xy",or.attr("d",le(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,$t&&(yt=!0),ne._dragged=yt,fe(mr,or,Kt,gt,Xt,vr),Et(),ne.emit("plotly_relayouting",Re),Xt=!0}function Et(){Re={},($t==="xy"||$t==="x")&&(F(it,Kt.l/vt,Kt.r/vt,Re,xt.xaxes),dr("x",Re)),($t==="xy"||$t==="y")&&(F(Je,(dt-Kt.b)/dt,(dt-Kt.t)/dt,Re,xt.yaxes),dr("y",Re))}function It(){Et(),J(ne),xr(),ee(ne)}var Ft=[0,0,vt,dt],Ot=null,Nt=s.REDRAWDELAY,Jt=he.mainplot?ne._fullLayout._plots[he.mainplot]:he;function hr(jt){if(!ne._context._scrollZoom.cartesian&&!ne._fullLayout._enablescrollzoom)return;if(Ht(),ne._transitioningWithDuration){jt.preventDefault(),jt.stopPropagation();return}Ne(),clearTimeout(Ot);var Pt=-jt.deltaY;if(isFinite(Pt)||(Pt=jt.wheelDelta/10),!isFinite(Pt)){P.log("Did not find wheel motion attributes: ",jt);return}var Zt=Math.exp(-Math.min(Math.max(Pt,-20),20)/200),nr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Qt=(jt.clientX-nr.left)/nr.width,Wt=(nr.bottom-jt.clientY)/nr.height,yr;function Dr(Tr,dn,Nr){if(Tr.fixedrange)return;var Cn=P.simpleMap(Tr.range,Tr.r2l),an=Cn[0]+(Cn[1]-Cn[0])*dn;function gr(Pr){return Tr.l2r(an+(Pr-an)*Nr)}Tr.range=Cn.map(gr)}if(je){for(ze||(Qt=.5),yr=0;yr<it.length;yr++)Dr(it[yr],Qt,Zt);dr("x"),Ft[2]*=Zt,Ft[0]+=Ft[2]*Qt*(1/Zt-1)}if(Ke){for(Ie||(Wt=.5),yr=0;yr<Je.length;yr++)Dr(Je[yr],Wt,Zt);dr("y"),Ft[3]*=Zt,Ft[1]+=Ft[3]*(1-Wt)*(1/Zt-1)}Qe(Ft),fr(),ne.emit("plotly_relayouting",Re),Ot=setTimeout(function(){ne._fullLayout&&(Ft=[0,0,vt,dt],xr())},Nt),jt.preventDefault()}Ie.length*ze.length!==1&&j(at,hr);function cr(jt,Pt){if(jt=jt*de,Pt=Pt*be,ne._transitioningWithDuration)return;if(ne._fullLayout._replotting=!0,nt==="ew"||Fe==="ns"){var Zt=nt?-jt:0,nr=Fe?-Pt:0;if(Mt.isSubplotConstrained){if(nt&&Fe){var Qt=(jt/vt-Pt/dt)/2;jt=Qt*vt,Pt=-Qt*dt,Zt=-jt,nr=-Pt}Fe?Zt=-nr*vt/dt:nr=-Zt*dt/vt}nt&&(G(it,jt),dr("x")),Fe&&(G(Je,Pt),dr("y")),Qe([Zt,nr,vt,dt]),fr(),ne.emit("plotly_relayouting",Re);return}function Wt(gr,Pr,Xr){for(var _r=1-Pr,gn,rn,An=0;An<gr.length;An++){var Pn=gr[An];if(!Pn.fixedrange){gn=Pn,rn=Pn._rl[_r]+(Pn._rl[Pr]-Pn._rl[_r])/Y(Xr/Pn._length);var Wn=Pn.l2r(rn);Wn!==!1&&Wn!==void 0&&(Pn.range[Pr]=Wn)}}return gn._length*(gn._rl[Pr]-rn)/(gn._rl[Pr]-gn._rl[_r])}var yr=nt==="w"==(Fe==="n")?1:-1;if(nt&&Fe&&(xt.isSubplotConstrained||Mt.isSubplotConstrained)){var Dr=(jt/vt+yr*Pt/dt)/2;jt=Dr*vt,Pt=yr*Dr*dt}var Tr,dn;if(nt==="w"?jt=Wt(it,0,jt):nt==="e"?jt=Wt(it,1,-jt):nt||(jt=0),Fe==="n"?Pt=Wt(Je,1,Pt):Fe==="s"?Pt=Wt(Je,0,-Pt):Fe||(Pt=0),Tr=nt==="w"?jt:0,dn=Fe==="n"?Pt:0,xt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&nt&&Fe&&yr>0){var Nr;if(Mt.isSubplotConstrained||!nt&&Fe.length===1){for(Nr=0;Nr<it.length;Nr++)it[Nr].range=it[Nr]._r.slice(),M(it[Nr],1-Pt/dt);jt=Pt*vt/dt,Tr=jt/2}if(Mt.isSubplotConstrained||!Fe&&nt.length===1){for(Nr=0;Nr<Je.length;Nr++)Je[Nr].range=Je[Nr]._r.slice(),M(Je[Nr],1-jt/vt);Pt=jt*dt/vt,dn=Pt/2}}(!Mt.isSubplotConstrained||!Fe)&&dr("x"),(!Mt.isSubplotConstrained||!nt)&&dr("y");var Cn=vt-jt,an=dt-Pt;Mt.isSubplotConstrained&&!(nt&&Fe)&&(nt?(dn=Tr?0:jt*dt/vt,an=Cn*dt/vt):(Tr=dn?0:Pt*vt/dt,Cn=an*vt/dt)),Qe([Tr,dn,Cn,an]),fr(),ne.emit("plotly_relayouting",Re)}function dr(jt,Pt){for(var Zt=Mt.isSubplotConstrained?{x:Je,y:it}[jt]:Mt[jt+"axes"],nr=Mt.isSubplotConstrained?{x:it,y:Je}[jt]:[],Qt=0;Qt<Zt.length;Qt++){var Wt=Zt[Qt],yr=Wt._id,Dr=Mt.xLinks[yr]||Mt.yLinks[yr],Tr=nr[0]||Ge[Dr]||Ze[Dr];Tr&&(Pt?(Pt[Wt._name+".range[0]"]=Pt[Tr._name+".range[0]"],Pt[Wt._name+".range[1]"]=Pt[Tr._name+".range[1]"]):Wt.range=Tr.range.slice())}}function fr(){var jt=[],Pt;function Zt(yr){for(Pt=0;Pt<yr.length;Pt++)yr[Pt].fixedrange||jt.push(yr[Pt]._id)}function nr(yr,Dr){for(Pt=0;Pt<yr.length;Pt++){var Tr=yr[Pt],dn=Tr[Dr];!Tr.fixedrange&&dn.tickmode==="sync"&&jt.push(dn._id)}}for(je&&(Zt(it),Zt(xt.xaxes),Zt(Mt.xaxes),nr(he.overlays,"xaxis")),Ke&&(Zt(Je),Zt(xt.yaxes),Zt(Mt.yaxes),nr(he.overlays,"yaxis")),Re={},Pt=0;Pt<jt.length;Pt++){var Qt=jt[Pt],Wt=A(ne,Qt);u.drawOne(ne,Wt,{skipTitle:!0}),Re[Wt._name+".range[0]"]=Wt.range[0],Re[Wt._name+".range[1]"]=Wt.range[1]}u.redrawComponents(ne,jt)}function Lr(){if(!ne._transitioningWithDuration){var jt=ne._context.doubleClick,Pt=[];nt&&(Pt=Pt.concat(it)),Fe&&(Pt=Pt.concat(Je)),Mt.xaxes&&(Pt=Pt.concat(Mt.xaxes)),Mt.yaxes&&(Pt=Pt.concat(Mt.yaxes));var Zt={},nr,Qt;if(jt==="reset+autosize")for(jt="autosize",Qt=0;Qt<Pt.length;Qt++){nr=Pt[Qt];var Wt=nr._rangeInitial0,yr=nr._rangeInitial1,Dr=Wt!==void 0||yr!==void 0;if(Dr&&(Wt!==void 0&&Wt!==nr.range[0]||yr!==void 0&&yr!==nr.range[1])||!Dr&&nr.autorange!==!0){jt="reset";break}}if(jt==="autosize")for(Qt=0;Qt<Pt.length;Qt++)nr=Pt[Qt],nr.fixedrange||(Zt[nr._name+".autorange"]=!0);else if(jt==="reset"){for((nt||xt.isSubplotConstrained)&&(Pt=Pt.concat(xt.xaxes)),Fe&&!xt.isSubplotConstrained&&(Pt=Pt.concat(xt.yaxes)),xt.isSubplotConstrained&&(nt?Fe||(Pt=Pt.concat(Je)):Pt=Pt.concat(it)),Qt=0;Qt<Pt.length;Qt++)if(nr=Pt[Qt],!nr.fixedrange){var Tr=nr._name,dn=nr._autorangeInitial;nr._rangeInitial0===void 0&&nr._rangeInitial1===void 0?Zt[Tr+".autorange"]=!0:nr._rangeInitial0===void 0?(Zt[Tr+".autorange"]=dn,Zt[Tr+".range"]=[null,nr._rangeInitial1]):nr._rangeInitial1===void 0?(Zt[Tr+".range"]=[nr._rangeInitial0,null],Zt[Tr+".autorange"]=dn):Zt[Tr+".range"]=[nr._rangeInitial0,nr._rangeInitial1]}}ne.emit("plotly_doubleclick",null),v.call("_guiRelayout",ne,Zt)}}function xr(){Qe([0,0,vt,dt]),P.syncOrAsync([b.previousPromises,function(){ne._fullLayout._replotting=!1,v.call("_guiRelayout",ne,Re)}],ne)}function Qe(jt){var Pt=ne._fullLayout,Zt=Pt._plots,nr=Pt._subplots.cartesian,Qt,Wt,yr,Dr;if(Ue&&v.subplotsRegistry.splom.drag(ne),ke){for(Qt=0;Qt<nr.length;Qt++)if(Wt=Zt[nr[Qt]],yr=Wt.xaxis,Dr=Wt.yaxis,Wt._scene){yr.limitRange&&yr.limitRange(),Dr.limitRange&&Dr.limitRange();var Tr=P.simpleMap(yr.range,yr.r2l),dn=P.simpleMap(Dr.range,Dr.r2l);Wt._scene.update({range:[Tr[0],dn[0],Tr[1],dn[1]]})}}if((Ue||ke)&&(i(ne),g(ne)),Ve){var Nr=jt[2]/Oe._length,Cn=jt[3]/Pe._length;for(Qt=0;Qt<nr.length;Qt++){Wt=Zt[nr[Qt]],yr=Wt.xaxis,Dr=Wt.yaxis;var an=(je||Mt.isSubplotConstrained)&&!yr.fixedrange&&Ge[yr._id],gr=(Ke||Mt.isSubplotConstrained)&&!Dr.fixedrange&&Ze[Dr._id],Pr,Xr,_r,gn;if(an?(Pr=Nr,_r=ze||Mt.isSubplotConstrained?jt[0]:tr(yr,Pr)):Mt.xaHash[yr._id]?(Pr=Nr,_r=jt[0]*yr._length/Oe._length):Mt.yaHash[yr._id]?(Pr=Cn,_r=Fe==="ns"?-jt[1]*yr._length/Pe._length:tr(yr,Pr,{n:"top",s:"bottom"}[Fe])):(Pr=rt(yr,Nr,Cn),_r=er(yr,Pr)),Pr>1&&(yr.maxallowed!==void 0&&je===(yr.range[0]<yr.range[1]?"e":"w")||yr.minallowed!==void 0&&je===(yr.range[0]<yr.range[1]?"w":"e"))&&(Pr=1,_r=0),gr?(Xr=Cn,gn=Ie||Mt.isSubplotConstrained?jt[1]:tr(Dr,Xr)):Mt.yaHash[Dr._id]?(Xr=Cn,gn=jt[1]*Dr._length/Pe._length):Mt.xaHash[Dr._id]?(Xr=Nr,gn=nt==="ew"?-jt[0]*Dr._length/Oe._length:tr(Dr,Xr,{e:"right",w:"left"}[nt])):(Xr=rt(Dr,Nr,Cn),gn=er(Dr,Xr)),Xr>1&&(Dr.maxallowed!==void 0&&Ke===(Dr.range[0]<Dr.range[1]?"n":"s")||Dr.minallowed!==void 0&&Ke===(Dr.range[0]<Dr.range[1]?"s":"n"))&&(Xr=1,gn=0),!(!Pr&&!Xr)){Pr||(Pr=1),Xr||(Xr=1);var rn=yr._offset-_r/Pr,An=Dr._offset-gn/Xr;Wt.clipRect.call(o.setTranslate,_r,gn).call(o.setScale,Pr,Xr),Wt.plot.call(o.setTranslate,rn,An).call(o.setScale,1/Pr,1/Xr),(Pr!==Wt.xScaleFactor||Xr!==Wt.yScaleFactor)&&(o.setPointGroupScale(Wt.zoomScalePts,Pr,Xr),o.setTextPointsScale(Wt.zoomScaleTxt,Pr,Xr)),o.hideOutsideRangePoints(Wt.clipOnAxisFalseTraces,Wt),Wt.xScaleFactor=Pr,Wt.yScaleFactor=Xr}}}}function rt(jt,Pt,Zt){return jt.fixedrange?0:je&&xt.xaHash[jt._id]?Pt:Ke&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[jt._id]?Zt:0}function er(jt,Pt){return Pt?(jt.range=jt._r.slice(),M(jt,Pt),tr(jt,Pt)):0}function tr(jt,Pt,Zt){return jt._length*(1-Pt)*h[Zt||jt.constraintoward||"middle"]}return at}function H(ne,he,me,we){var Te=P.ensureSingle(ne.draglayer,he,me,function(Le){Le.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ne.id)});return Te.call(f,we),Te.node()}function O(ne,he,me,we,Te,Le,Ie){var ze=H(ne,"rect",he,me);return d.select(ze).call(o.setRect,we,Te,Le,Ie),ze}function V(ne,he){for(var me=0;me<ne.length;me++)if(!ne[me].fixedrange)return he;return""}function B(ne,he){var me=ne.range[he],we=Math.abs(me-ne.range[1-he]),Te;return ne.type==="date"?me:ne.type==="log"?(Te=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,n("."+Te+"g")(Math.pow(10,me))):(Te=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,n("."+String(Te)+"g")(me))}function F(ne,he,me,we,Te){for(var Le=0;Le<ne.length;Le++){var Ie=ne[Le];if(!Ie.fixedrange)if(Ie.rangebreaks){var ze=Ie._id.charAt(0)==="y",Me=ze?1-he:he,_e=ze?1-me:me;we[Ie._name+".range[0]"]=Ie.l2r(Ie.p2l(Me*Ie._length)),we[Ie._name+".range[1]"]=Ie.l2r(Ie.p2l(_e*Ie._length))}else{var Ce=Ie._rl[0],Oe=Ie._rl[1]-Ce;we[Ie._name+".range[0]"]=Ie.l2r(Ce+Oe*he),we[Ie._name+".range[1]"]=Ie.l2r(Ce+Oe*me)}}if(Te&&Te.length){var Pe=(he+(1-me))/2;F(Te,Pe,1-Pe,we,[])}}function G(ne,he){for(var me=0;me<ne.length;me++){var we=ne[me];if(!we.fixedrange){if(we.rangebreaks){var Te=0,Le=we._length,Ie=we.p2l(Te+he)-we.p2l(Te),ze=we.p2l(Le+he)-we.p2l(Le),Me=(Ie+ze)/2;we.range=[we.l2r(we._rl[0]-Me),we.l2r(we._rl[1]-Me)]}else we.range=[we.l2r(we._rl[0]-he/we._m),we.l2r(we._rl[1]-he/we._m)];we.limitRange&&we.limitRange()}}}function Y(ne){return 1-(ne>=0?Math.min(ne,.9):1/(1/Math.max(ne,-.3)+3.222))}function Q(ne,he,me){return ne?ne==="nsew"?me?"":he==="pan"?"move":"crosshair":ne.toLowerCase()+"-resize":"pointer"}function te(ne,he,me,we,Te){return ne.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(me,we)).attr("d",Te+"Z")}function ae(ne,he,me){return ne.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(he,me)).attr("d","M0,0Z")}function fe(ne,he,me,we,Te,Le){ne.attr("d",we+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),oe(ne,he,Te,Le)}function oe(ne,he,me,we){me||(ne.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function J(ne){d.select(ne).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ee(ne){_&&ne.data&&ne._context.showTips&&(P.notifier(P._(ne,"Double-click to zoom back out"),"long"),_=!1)}function X(ne,he){return"M"+(ne.l-.5)+","+(he-w-.5)+"h-3v"+(2*w+1)+"h3ZM"+(ne.r+.5)+","+(he-w-.5)+"h3v"+(2*w+1)+"h-3Z"}function q(ne,he){return"M"+(he-w-.5)+","+(ne.t-.5)+"v-3h"+(2*w+1)+"v3ZM"+(he-w-.5)+","+(ne.b+.5)+"v3h"+(2*w+1)+"v-3Z"}function le(ne){var he=Math.floor(Math.min(ne.b-ne.t,ne.r-ne.l,w)/2);return"M"+(ne.l-3.5)+","+(ne.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ne.r+3.5)+","+(ne.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ne.r+3.5)+","+(ne.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ne.l-3.5)+","+(ne.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function $(ne,he,me,we,Te){for(var Le=!1,Ie={},ze={},Me,_e,Ce,Oe,Pe=(Te||{}).xaHash,Ge=(Te||{}).yaHash,Ze=0;Ze<he.length;Ze++){var it=he[Ze];for(Me in me)if(it[Me]){for(Ce in it)!(Te&&(Pe[Ce]||Ge[Ce]))&&!(Ce.charAt(0)==="x"?me:we)[Ce]&&(Ie[Ce]=Me);for(_e in we)!(Te&&(Pe[_e]||Ge[_e]))&&it[_e]&&(Le=!0)}for(_e in we)if(it[_e])for(Oe in it)!(Te&&(Pe[Oe]||Ge[Oe]))&&!(Oe.charAt(0)==="x"?me:we)[Oe]&&(ze[Oe]=_e)}Le&&(P.extendFlat(Ie,ze),ze={});var Je={},et=[];for(Ce in Ie){var ft=A(ne,Ce);et.push(ft),Je[ft._id]=ft}var vt={},dt=[];for(Oe in ze){var xt=A(ne,Oe);dt.push(xt),vt[xt._id]=xt}return{xaHash:Je,yaHash:vt,xaxes:et,yaxes:dt,xLinks:Ie,yLinks:ze,isSubplotConstrained:Le}}function j(ne,he){if(!x)ne.onwheel!==void 0?ne.onwheel=he:ne.onmousewheel!==void 0?ne.onmousewheel=he:ne.isAddedWheelEvent||(ne.isAddedWheelEvent=!0,ne.addEventListener("wheel",he,{passive:!1}));else{var me=ne.onwheel!==void 0?"wheel":"mousewheel";ne._onwheel&&ne.removeEventListener(me,ne._onwheel),ne._onwheel=he,ne.addEventListener(me,he,{passive:!1})}}function se(ne){var he=[];for(var me in ne)he.push(ne[me]);return he}U.exports={makeDragBox:I,makeDragger:H,makeRectDragger:O,makeZoombox:te,makeCorners:ae,updateZoombox:fe,xyCorners:le,transitionZoombox:oe,removeZoombox:J,showDoubleClickNotifier:ee,attachWheelEventHandler:j}},42464:function(U,N,e){var d=e(33428),P=e(93024),n=e(86476),C=e(93972),x=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;N.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){d.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var o=Object.keys(t._plots||{}).sort(function(u,f){if((t._plots[u].mainplot&&!0)===(t._plots[f].mainplot&&!0)){var l=u.split("y"),y=f.split("y");return l[0]===y[0]?Number(l[1]||1)-Number(y[1]||1):Number(l[0]||1)-Number(y[0]||1)}return t._plots[u].mainplot?1:-1});o.forEach(function(u){var f=t._plots[u],l=f.xaxis,y=f.yaxis;if(!f.mainplot){var c=x(r,f,l._offset,y._offset,l._length,y._length,"ns","ew");c.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&P.hover(r,i,u)},P.hover(r,i,u),r._fullLayout._lasthover=c,r._fullLayout._hoversubplot=u},c.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,n.unhover(r,i))},r._context.showAxisDragHandles&&(x(r,f,l._offset-v,y._offset-v,v,v,"n","w"),x(r,f,l._offset+l._length,y._offset-v,v,v,"n","e"),x(r,f,l._offset-v,y._offset+y._length,v,v,"s","w"),x(r,f,l._offset+l._length,y._offset+y._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(u===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),x(r,f,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),x(r,f,l._offset,T,l._length*.1,v,"","w"),x(r,f,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(u===y._mainSubplot){var h=y._mainLinePosition;y.side!=="right"&&(h-=v),x(r,f,h,y._offset+y._length*.1,v,y._length*.8,"ns",""),x(r,f,h,y._offset+y._length*.9,v,y._length*.1,"s",""),x(r,f,h,y._offset,v,y._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(u){u.target=r._fullLayout._lasthover,P.hover(r,u,t._hoversubplot)},a.onclick=function(u){u.target=r._fullLayout._lasthover,P.click(r,u)},a.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},N.updateFx(r)}},N.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},36632:function(U,N,e){var d=e(24040),P=e(3400),n=e(79811);U.exports=function(x){return function(p,r){var t=p[x];if(Array.isArray(t))for(var o=d.subplotsRegistry.cartesian,a=o.idRegex,u=r._subplots,f=u.xaxis,l=u.yaxis,y=u.cartesian,c=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var h=t[T];if(P.isPlainObject(h)){var i=n.cleanId(h.xref,"x",!1),g=n.cleanId(h.yref,"y",!1),b=a.x.test(i),A=a.y.test(g);if(b||A){c||P.pushUnique(r._basePlotModules,o);var R=!1;b&&f.indexOf(i)===-1&&(f.push(i),R=!0),A&&l.indexOf(g)===-1&&(l.push(g),R=!0),R&&b&&A&&y.push(i+g)}}}}}},57952:function(U,N,e){var d=e(33428),P=e(24040),n=e(3400),C=e(7316),x=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),o=n.ensureSingle;function a(h,i,g){return n.ensureSingle(h,i,g,function(b){b.datum(g)})}var u=r.zindexSeparator;N.name="cartesian",N.attr=["xaxis","yaxis"],N.idRoot=["x","y"],N.idRegex=r.idRegex,N.attrRegex=r.attrRegex,N.attributes=e(26720),N.layoutAttributes=e(94724),N.supplyLayoutDefaults=e(67352),N.transitionAxes=e(73736),N.finalizeSubplots=function(h,i){var g=i._subplots,b=g.xaxis,A=g.yaxis,R=g.cartesian,m=R.concat(g.gl2d||[]),L={},M={},s,S,w;for(s=0;s<m.length;s++){var _=m[s].split("y");L[_[0]]=1,M["y"+_[1]]=1}for(s=0;s<b.length;s++)S=b[s],L[S]||(w=(h[p.id2name(S)]||{}).anchor,r.idRegex.y.test(w)||(w="y"),R.push(S+w),m.push(S+w),M[w]||(M[w]=1,n.pushUnique(A,w)));for(s=0;s<A.length;s++)w=A[s],M[w]||(S=(h[p.id2name(w)]||{}).anchor,r.idRegex.x.test(S)||(S="x"),R.push(S+w),m.push(S+w),L[S]||(L[S]=1,n.pushUnique(b,S)));if(!m.length){S="",w="";for(var I in h)if(r.attrRegex.test(I)){var H=I.charAt(0);H==="x"?(!S||+I.substr(5)<+S.substr(5))&&(S=I):(!w||+I.substr(5)<+w.substr(5))&&(w=I)}S=S?p.name2id(S):"x",w=w?p.name2id(w):"y",b.push(S),A.push(w),R.push(S+w)}},N.plot=function(h,i,g,b){var A=h._fullLayout,R=A._subplots.cartesian,m=h.calcdata,L;if(!Array.isArray(i))for(i=[],L=0;L<m.length;L++)i.push(L);for(var M=A._zindices,s=0;s<M.length;s++){var S=M[s];for(L=0;L<R.length;L++){var w=R[L],_=A._plots[w];if(s>0){var I=_.id;if(I.indexOf(u)!==-1)continue;I+=u+(s+1),_=n.extendFlat({},_,{id:I,plot:A._cartesianlayer.selectAll(".subplot").select("."+I)})}for(var H=[],O,V=0;V<m.length;V++){var B=m[V],F=B[0].trace;S===(F.zorder||0)&&F.xaxis+F.yaxis===w&&((i.indexOf(F.index)!==-1||F.carpet)&&(O&&O[0].trace.xaxis+O[0].trace.yaxis===w&&["tonextx","tonexty","tonext"].indexOf(F.fill)!==-1&&H.indexOf(O)===-1&&H.push(O),H.push(B)),O=B)}f(h,_,H,g,b)}}};function f(h,i,g,b,A){for(var R=r.traceLayerClasses,m=h._fullLayout,L=m._zindices,M=m._modules,s,S,w,_=[],I=[],H=0;H<L.length;H++)for(var O=L[H],V=0;V<M.length;V++){s=M[V];var B=s.name,F=P.modules[B].categories;if(F.svg){var G=s.layerName||B+"layer",Y=G+(H?Number(H)+1:""),Q=s.plot;S=v(g,Q,O),w=S[0],g=S[1],w.length&&_.push({i:R.indexOf(G),zorder:H,className:Y,plotMethod:Q,cdModule:w}),F.zoomScale&&I.push("."+Y)}}_.sort(function(fe,oe){return(fe.zorder||0)-(oe.zorder||0)||fe.i-oe.i});var te=i.plot.selectAll("g.mlayer").data(_,function(fe){return fe.className});if(te.enter().append("g").attr("class",function(fe){return fe.className}).classed("mlayer",!0).classed("rangeplot",i.isRangePlot),te.exit().remove(),te.order(),te.each(function(fe){var oe=d.select(this),J=fe.className;fe.plotMethod(h,i,fe.cdModule,oe,b,A),r.clipOnAxisFalseQuery.indexOf("."+J)===-1&&x.setClipUrl(oe,i.layerClipId,h)}),m._has("scattergl")&&(s=P.getModule("scattergl"),w=v(g,s)[0],s.plot(h,i,w)),!h._context.staticPlot&&(i._hasClipOnAxisFalse&&(i.clipOnAxisFalseTraces=i.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),I.length)){var ae=i.plot.selectAll(I.join(",")).selectAll(".trace");i.zoomScalePts=ae.selectAll("path.point"),i.zoomScaleTxt=ae.selectAll(".textpoint")}}N.clean=function(h,i,g,b){var A=b._plots||{},R=i._plots||{},m=b._subplots||{},L,M,s;if(b._hasOnlyLargeSploms&&!i._hasOnlyLargeSploms)for(s in A)L=A[s],L.plotgroup&&L.plotgroup.remove();var S=b._has&&b._has("gl"),w=i._has&&i._has("gl");if(S&&!w)for(s in A)L=A[s],L._scene&&L._scene.destroy();if(m.xaxis&&m.yaxis){var _=p.listIds({_fullLayout:b});for(M=0;M<_.length;M++){var I=_[M];i[p.id2name(I)]||b._infolayer.selectAll(".g-"+I+"title").remove()}}var H=b._has&&b._has("cartesian"),O=i._has&&i._has("cartesian");if(H&&!O)c(b._cartesianlayer.selectAll(".subplot"),b),b._defs.selectAll(".axesclip").remove(),delete b._axisConstraintGroups,delete b._axisMatchGroups;else if(m.cartesian)for(M=0;M<m.cartesian.length;M++){var V=m.cartesian[M];if(V.indexOf(u)===-1&&!R[V]){var B="."+V+",."+V+"-x,."+V+"-y";b._cartesianlayer.selectAll(B).remove(),T(V,b)}}},N.drawFramework=function(h){var i=h._fullLayout,g=h.calcdata,b,A={};for(b=0;b<g.length;b++){var R=g[b][0],m=R.trace,L=m.zorder||0;A[L]||(A[L]=[]),A[L].push(R)}var M=Object.keys(A).map(Number).sort(n.sorterAsc);M.length||(M=[0]),i._zindices=M;var s=l(h),S=s.length,w=[];for(b=0;b<S;b++)w[b]=s[b].slice();for(var _=1;_<M.length;_++){var I=[];for(b=0;b<S;b++)I[b]=s[b].slice(),I[b][0]+=u+(_+1);w=w.concat(I)}var H=i._cartesianlayer.selectAll(".subplot").data(w,String);H.enter().append("g").attr("class",function(O){return"subplot "+O[0]}),H.order(),H.exit().call(c,i),H.each(function(O){var V=O[0],B=V.indexOf(u),F=B!==-1,G=F?V.slice(0,B):V,Y=i._plots[V];Y||(Y=n.extendFlat({},i._plots[G]),Y&&(Y.id=V,i._plots[V]=Y,i._subplots.cartesian.push(V))),Y&&(Y.plotgroup=d.select(this),y(h,Y),F||(Y.draglayer=o(i._draggers,"g",V)))})},N.rangePlot=function(h,i,g){y(h,i),f(h,i,g),C.style(h)};function l(h){var i=h._fullLayout,g=i._zindices.length,b=i._subplots.cartesian,A=b.length,R,m,L,M,s,S,w=[],_=[];for(R=0;R<A;R++){L=b[R],M=i._plots[L],s=M.xaxis,S=M.yaxis;var I=s._mainAxis,H=S._mainAxis,O=I._id+H._id,V=i._plots[O];M.overlays=[],O!==L&&V?(M.mainplot=O,M.mainplotinfo=V,_.push(L)):(M.mainplot=void 0,M.mainplotinfo=void 0,w.push(L))}for(R=0;R<_.length;R++)L=_[R],M=i._plots[L],M.mainplotinfo.overlays.push(M);var B=w.concat(_),F=[];for(R=0;R<A;R++){L=B[R],M=i._plots[L],s=M.xaxis,S=M.yaxis;for(var G=[],Y=1;Y<=g;Y++){var Q="";for(Y>1&&(Q+=u+Y),G.push(L+Q),m=0;m<M.overlays.length;m++)G.push(M.overlays[m].id+Q)}G=G.concat([s.layer,S.layer,s.overlaying||"",S.overlaying||""]),F.push(G)}return F}function y(h,i){var g=i.plotgroup,b=i.id,A=b.indexOf(u),R=A!==-1,m=r.layerValue2layerClass[i.xaxis.layer],L=r.layerValue2layerClass[i.yaxis.layer],M=h._fullLayout._hasOnlyLargeSploms;if(i.mainplot){var w=i.mainplotinfo,_=w.plotgroup,I=b+"-x",H=b+"-y";i.minorGridlayer=w.minorGridlayer,i.gridlayer=w.gridlayer,i.zerolinelayer=w.zerolinelayer,o(w.overlinesBelow,"path",I),o(w.overlinesBelow,"path",H),o(w.overaxesBelow,"g",I),o(w.overaxesBelow,"g",H),i.plot=o(w.overplot,"g",b),o(w.overlinesAbove,"path",I),o(w.overlinesAbove,"path",H),o(w.overaxesAbove,"g",I),o(w.overaxesAbove,"g",H),i.xlines=_.select(".overlines-"+m).select("."+I),i.ylines=_.select(".overlines-"+L).select("."+H),i.xaxislayer=_.select(".overaxes-"+m).select("."+I),i.yaxislayer=_.select(".overaxes-"+L).select("."+H)}else if(M)i.xlines=o(g,"path","xlines-above"),i.ylines=o(g,"path","ylines-above"),i.xaxislayer=o(g,"g","xaxislayer-above"),i.yaxislayer=o(g,"g","yaxislayer-above");else{if(!R){var s=o(g,"g","layer-subplot");i.shapelayer=o(s,"g","shapelayer"),i.imagelayer=o(s,"g","imagelayer"),i.minorGridlayer=o(g,"g","minor-gridlayer"),i.gridlayer=o(g,"g","gridlayer"),i.zerolinelayer=o(g,"g","zerolinelayer");var S=o(g,"g","layer-between");i.shapelayerBetween=o(S,"g","shapelayer"),i.imagelayerBetween=o(S,"g","imagelayer"),o(g,"path","xlines-below"),o(g,"path","ylines-below"),i.overlinesBelow=o(g,"g","overlines-below"),o(g,"g","xaxislayer-below"),o(g,"g","yaxislayer-below"),i.overaxesBelow=o(g,"g","overaxes-below")}i.overplot=o(g,"g","overplot"),i.plot=o(i.overplot,"g",b),R||(i.xlines=o(g,"path","xlines-above"),i.ylines=o(g,"path","ylines-above"),i.overlinesAbove=o(g,"g","overlines-above"),o(g,"g","xaxislayer-above"),o(g,"g","yaxislayer-above"),i.overaxesAbove=o(g,"g","overaxes-above"),i.xlines=g.select(".xlines-"+m),i.ylines=g.select(".ylines-"+L),i.xaxislayer=g.select(".xaxislayer-"+m),i.yaxislayer=g.select(".yaxislayer-"+L))}R||(M||(a(i.minorGridlayer,"g",i.xaxis._id),a(i.minorGridlayer,"g",i.yaxis._id),i.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(p.idSort),a(i.gridlayer,"g",i.xaxis._id),a(i.gridlayer,"g",i.yaxis._id),i.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(p.idSort)),i.xlines.style("fill","none").classed("crisp",!0),i.ylines.style("fill","none").classed("crisp",!0))}function c(h,i){if(h){var g={};h.each(function(M){var s=M[0],S=d.select(this);S.remove(),T(s,i),g[s]=!0});for(var b in i._plots)for(var A=i._plots[b],R=A.overlays||[],m=0;m<R.length;m++){var L=R[m];g[L.id]&&L.plot.selectAll(".trace").remove()}}}function T(h,i){i._draggers.selectAll("g."+h).remove(),i._defs.select("#clip"+i._uid+h+"plot").remove()}N.toSVG=function(h){var i=h._fullLayout._glimages,g=d.select(h).selectAll(".svg-container"),b=g.filter(function(R,m){return m===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var R=this,m=R.toDataURL("image/png"),L=i.append("svg:image");L.attr({xmlns:t.svg,"xlink:href":m,preserveAspectRatio:"none",x:0,y:0,width:R.style.width,height:R.style.height})}b.each(A)},N.updateFx=e(42464).updateFx},94724:function(U,N,e){var d=e(25376),P=e(22548),n=e(98192).u,C=e(92880).extendFlat,x=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,o=r.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=C({},a,{values:a.values.slice().concat(["sync"])});function f(L){return{valType:"integer",min:0,dflt:L?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=5),M}function i(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var g={valType:"color",dflt:P.defaultLine,editType:"ticks"},b={valType:"color",dflt:P.lightLine,editType:"ticks"};function A(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var R=C({},n,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};U.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:d({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:x("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[o,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:u,nticks:f(),tick0:l,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:i(),tickcolor:g,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:d({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:x("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:b,gridwidth:A(),griddash:R,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:f("minor"),tick0:l,dtick:y,tickvals:c,ticks:T,ticklen:h("minor"),tickwidth:i("minor"),tickcolor:g,gridcolor:b,gridwidth:A("minor"),griddash:R,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:d({editType:"ticks"})}}},67352:function(U,N,e){var d=e(3400),P=e(76308),n=e(10624).isUnifiedHover,C=e(41008),x=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),o=e(71888),a=e(37668),u=e(79811),f=u.id2name,l=u.name2id,y=e(33816).AX_ID_PATTERN,c=e(24040),T=c.traceIs,h=c.getComponentMethod;function i(g,b,A){Array.isArray(g[b])?g[b].push(A):g[b]=[A]}U.exports=function(b,A,R){var m=A.autotypenumbers,L={},M={},s={},S={},w={},_={},I={},H={},O={},V={},B,F;for(B=0;B<R.length;B++){var G=R[B];if(!(!T(G,"cartesian")&&!T(G,"gl2d"))){var Y;if(G.xaxis)Y=f(G.xaxis),i(L,Y,G);else if(G.xaxes)for(F=0;F<G.xaxes.length;F++)i(L,f(G.xaxes[F]),G);var Q;if(G.yaxis)Q=f(G.yaxis),i(L,Q,G);else if(G.yaxes)for(F=0;F<G.yaxes.length;F++)i(L,f(G.yaxes[F]),G);if(G.type==="funnel"?G.orientation==="h"?(Y&&(M[Y]=!0),Q&&(I[Q]=!0)):Q&&(s[Q]=!0):G.type==="image"?(Q&&(H[Q]=!0),Y&&(H[Y]=!0)):(Q&&(w[Q]=!0,_[Q]=!0),(!T(G,"carpet")||G.type==="carpet"&&!G._cheater)&&Y&&(S[Y]=!0)),G.type==="carpet"&&G._cheater&&Y&&(M[Y]=!0),T(G,"2dMap")&&(O[Y]=!0,O[Q]=!0),T(G,"oriented")){var te=G.orientation==="h"?Q:Y;V[te]=!0}}}var ae=A._subplots,fe=ae.xaxis,oe=ae.yaxis,J=d.simpleMap(fe,f),ee=d.simpleMap(oe,f),X=J.concat(ee),q=P.background;fe.length&&oe.length&&(q=d.coerce(b,A,v,"plot_bgcolor"));var le=P.combine(q,A.paper_bgcolor),$,j,se,ne,he;function me(){var de=L[$]||[];he._traceIndices=de.map(function(be){return be._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=$,he._id=j}function we(de,be){return d.coerce(ne,he,p,de,be)}function Te(de,be){return d.coerce2(ne,he,p,de,be)}function Le(de){return de==="x"?oe:fe}function Ie(de,be){for(var Ne=de==="x"?J:ee,Ye=[],at=0;at<Ne.length;at++){var lt=Ne[at];lt!==be&&!(b[lt]||{}).overlaying&&Ye.push(l(lt))}return Ye}var ze={x:Le("x"),y:Le("y")},Me=ze.x.concat(ze.y),_e={},Ce=[];function Oe(){var de=ne.matches;y.test(de)&&Me.indexOf(de)===-1&&(_e[de]=ne.type,Ce=Object.keys(_e))}var Pe=C(b,A),Ge=n(Pe);for(B=0;B<X.length;B++){$=X[B],j=l($),se=$.charAt(0),d.isPlainObject(b[$])||(b[$]={}),ne=b[$],he=x.newContainer(A,$,se+"axis"),me();var Ze=se==="x"&&!S[$]&&M[$]||se==="y"&&!w[$]&&s[$],it=se==="y"&&(!_[$]&&I[$]||H[$]),Je={hasMinor:!0,letter:se,font:A.font,outerTicks:O[$],showGrid:!V[$],data:L[$]||[],bgColor:le,calendar:A.calendar,automargin:!0,visibleDflt:Ze,reverseDflt:it,autotypenumbersDflt:m,splomStash:((A._splomAxes||{})[se]||{})[j],noAutotickangles:se==="y"};we("uirevision",A.uirevision),r(ne,he,we,Je),t(ne,he,we,Je,A);var et=Ge&&se===Pe.charAt(0),ft=Te("spikecolor",Ge?he.color:void 0),vt=Te("spikethickness",Ge?1.5:void 0),dt=Te("spikedash",Ge?"dot":void 0),xt=Te("spikemode",Ge?"across":void 0),Mt=Te("spikesnap"),nt=we("showspikes",!!et||!!ft||!!vt||!!dt||!!xt||!!Mt);nt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Fe=f(ne.overlaying),We=[0,1];if(A[Fe]!==void 0){var je=f(A[Fe].anchor);A[je]!==void 0&&(We=A[je].domain)}a(ne,he,we,{letter:se,counterAxes:ze[se],overlayableAxes:Ie(se,$),grid:A.grid,overlayingDomain:We}),we("title.standoff"),Oe(),he._input=ne}for(B=0;B<Ce.length;){j=Ce[B++],$=f(j),se=$.charAt(0),d.isPlainObject(b[$])||(b[$]={}),ne=b[$],he=x.newContainer(A,$,se+"axis"),me();var Ke={letter:se,font:A.font,outerTicks:O[$],showGrid:!V[$],data:[],bgColor:le,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((A._splomAxes||{})[se]||{})[j]};we("uirevision",A.uirevision),he.type=_e[j]||"linear",t(ne,he,we,Ke,A),a(ne,he,we,{letter:se,counterAxes:ze[se],overlayableAxes:Ie(se,$),grid:A.grid}),we("fixedrange"),Oe(),he._input=ne}var ke=h("rangeslider","handleDefaults"),Ue=h("rangeselector","handleDefaults");for(B=0;B<J.length;B++)$=J[B],ne=b[$],he=A[$],ke(b,A,$),he.type==="date"&&Ue(ne,he,A,ee,he.calendar),we("fixedrange");for(B=0;B<ee.length;B++){$=ee[B],ne=b[$],he=A[$];var Ve=A[f(he.anchor)],Re=h("rangeslider","isVisible")(Ve);we("fixedrange",Re)}o.handleDefaults(b,A,{axIds:Me.concat(Ce).sort(u.idSort),axHasImage:H})}},42136:function(U,N,e){var d=e(49760).mix,P=e(22548),n=e(3400);U.exports=function(x,v,p,r){r=r||{};var t=r.dfltColor;function o(s,S){return n.coerce2(x,v,r.attributes,s,S)}var a=o("linecolor",t),u=o("linewidth"),f=p("showline",r.showLine||!!a||!!u);f||(delete v.linecolor,delete v.linewidth);var l=d(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),y=o("gridcolor",l),c=o("gridwidth"),T=o("griddash"),h=p("showgrid",r.showGrid||!!y||!!c||!!T);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var i=d(v.gridcolor,r.bgColor,67).toRgbString(),g=o("minor.gridcolor",i),b=o("minor.gridwidth",v.gridwidth||1),A=o("minor.griddash",v.griddash||"solid"),R=p("minor.showgrid",!!g||!!b||!!A);R||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var m=o("zerolinecolor",t),L=o("zerolinewidth"),M=p("zeroline",r.showGrid||!!m||!!L);M||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(U,N,e){var d=e(38248),P=e(3400);U.exports=function(C,x,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],o=p.letter,a=p.grid,u=p.overlayingDomain,f,l,y,c,T,h;a&&(l=a._domains[o][a._axisMap[x._id]],f=a._anchors[x._id],l&&(y=a[o+"side"].split(" ")[0],c=a.domain[o][y==="right"||y==="top"?1:0])),l=l||[0,1],f=f||(d(C.position)?"free":r[0]||"free"),y=y||(o==="x"?"bottom":"left"),c=c||0,T=0,h=!1;var i=P.coerce(C,x,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:f}},"anchor"),g=P.coerce(C,x,{side:{valType:"enumerated",values:o==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(i==="free"){if(o==="y"){var b=v("autoshift");b&&(c=g==="left"?u[0]:u[1],h=x.automargin?x.automargin:!0,T=g==="left"?-3:3),v("shift",T)}v("position",c)}v("automargin",h);var A=!1;if(t.length&&(A=P.coerce(C,x,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!A){var R=v("domain",l);R[0]>R[1]-.000244140625&&(x.domain=l),P.noneOrAll(C.domain,x.domain,l),x.tickmode==="sync"&&(x.tickmode="auto")}return v("layer"),x}},42568:function(U,N,e){var d=e(85024);U.exports=function(n,C,x,v,p){p||(p={});var r=p.tickSuffixDflt,t=d(n),o=x("tickprefix");o&&x("showtickprefix",t);var a=x("ticksuffix",r);a&&x("showticksuffix",t)}},96312:function(U,N,e){var d=e(76808);U.exports=function(n,C,x,v){var p=C._template||{},r=C.type||p.type||"-";x("minallowed"),x("maxallowed");var t=x("range");if(!t){var o;!v.noInsiderange&&r!=="log"&&(o=x("insiderange"),o&&(o[0]===null||o[1]===null)&&(C.insiderange=!1,o=void 0),o&&(t=x("range",o)))}var a=C.getAutorangeDflt(t,v),u=x("autorange",a),f;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(u==="reversed"||u===!0)||t[0]!==null&&(u==="min"||u==="max reversed")||t[1]!==null&&(u==="max"||u==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,f=!0),f||(a=C.getAutorangeDflt(t,v),u=x("autorange",a)),u&&(d(x,u,t),(r==="linear"||r==="-")&&x("rangemode")),C.cleanRange()}},21160:function(U,N,e){var d=e(84284).FROM_BL;U.exports=function(n,C,x){x===void 0&&(x=d[n.constraintoward||"center"]);var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],p=v[0]+(v[1]-v[0])*x;n.range=n._input.range=[n.l2r(p+(v[0]-p)*C),n.l2r(p+(v[1]-p)*C)],n.setScale()}},78344:function(U,N,e){var d=e(33428),P=e(94336).E9,n=e(3400),C=n.numberFormat,x=e(38248),v=n.cleanNumber,p=n.ms2DateTime,r=n.dateTime2ms,t=n.ensureNumber,o=n.isArrayOrTypedArray,a=e(39032),u=a.FP_SAFE,f=a.BADNUM,l=a.LOG_CLIP,y=a.ONEWEEK,c=a.ONEDAY,T=a.ONEHOUR,h=a.ONEMIN,i=a.ONESEC,g=e(79811),b=e(33816),A=b.HOUR_PATTERN,R=b.WEEKDAY_PATTERN;function m(M){return Math.pow(10,M)}function L(M){return M!=null}U.exports=function(s,S){S=S||{};var w=s._id||"x",_=w.charAt(0);function I(X,q){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&q&&s.range&&s.range.length===2){var le=s.range[0],$=s.range[1];return .5*(le+$-2*l*Math.abs(le-$))}else return f}function H(X,q,le,$){if(($||{}).msUTC&&x(X))return+X;var j=r(X,le||s.calendar);if(j===f)if(x(X)){X=+X;var se=Math.floor(n.mod(X+.05,1)*10),ne=Math.round(X-se/10);j=r(new Date(ne))+se/10}else return f;return j}function O(X,q,le){return p(X,q,le||s.calendar)}function V(X){return s._categories[Math.round(X)]}function B(X){if(L(X)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[X]!==void 0)return s._categoriesMap[X];s._categories.push(typeof X=="number"?String(X):X);var q=s._categories.length-1;return s._categoriesMap[X]=q,q}return f}function F(X,q){for(var le=new Array(q),$=0;$<q;$++){var j=(X[0]||[])[$],se=(X[1]||[])[$];le[$]=G([j,se])}return le}function G(X){if(s._categoriesMap)return s._categoriesMap[X]}function Y(X){var q=G(X);if(q!==void 0)return q;if(x(X))return+X}function Q(X){return x(X)?+X:G(X)}function te(X,q,le){return d.round(le+q*X,2)}function ae(X,q,le){return(X-le)/q}var fe=function(q){return x(q)?te(q,s._m,s._b):f},oe=function(X){return ae(X,s._m,s._b)};if(s.rangebreaks){var J=_==="y";fe=function(X){if(!x(X))return f;var q=s._rangebreaks.length;if(!q)return te(X,s._m,s._b);var le=J;s.range[0]>s.range[1]&&(le=!le);for(var $=le?-1:1,j=$*X,se=0,ne=0;ne<q;ne++){var he=$*s._rangebreaks[ne].min,me=$*s._rangebreaks[ne].max;if(j<he)break;if(j>me)se=ne+1;else{se=j<(he+me)/2?ne:ne+1;break}}var we=s._B[se]||0;return isFinite(we)?te(X,s._m2,we):0},oe=function(X){var q=s._rangebreaks.length;if(!q)return ae(X,s._m,s._b);for(var le=0,$=0;$<q&&!(X<s._rangebreaks[$].pmin);$++)X>s._rangebreaks[$].pmax&&(le=$+1);return ae(X,s._m2,s._B[le])}}s.c2l=s.type==="log"?I:t,s.l2c=s.type==="log"?m:t,s.l2p=fe,s.p2l=oe,s.c2p=s.type==="log"?function(X,q){return fe(I(X,q))}:fe,s.p2c=s.type==="log"?function(X){return m(oe(X))}:oe,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(X){return s.l2p(v(X))},s.p2d=s.p2r=oe,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(X,q){return I(v(X),q)},s.r2d=s.r2c=function(X){return m(v(X))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=I,s.l2d=m,s.d2p=function(X,q){return s.l2p(s.d2r(X,q))},s.p2d=function(X){return m(oe(X))},s.r2p=function(X){return s.l2p(v(X))},s.p2r=oe,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=n.identity,s.d2c=s.r2c=s.d2l=s.r2l=H,s.c2d=s.c2r=s.l2d=s.l2r=O,s.d2p=s.r2p=function(X,q,le){return s.l2p(H(X,0,le))},s.p2d=s.p2r=function(X,q,le){return O(oe(X),q,le)},s.cleanPos=function(X){return n.cleanDate(X,f,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=B,s.r2d=s.c2d=s.l2d=V,s.d2r=s.d2l_noadd=Y,s.r2c=function(X){var q=Q(X);return q!==void 0?q:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=Q,s.d2p=function(X){return s.l2p(s.r2c(X))},s.p2d=function(X){return V(oe(X))},s.r2p=s.d2p,s.p2r=oe,s.cleanPos=function(X){return typeof X=="string"&&X!==""?X:t(X)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=V,s.d2r=s.d2l_noadd=Y,s.r2c=function(X){var q=Y(X);return q!==void 0?q:s.fraction2r(.5)},s.r2c_just_indices=G,s.l2r=s.c2r=t,s.r2l=Y,s.d2p=function(X){return s.l2p(s.r2c(X))},s.p2d=function(X){return V(oe(X))},s.r2p=s.d2p,s.p2r=oe,s.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:t(X)},s.setupMultiCategory=function(X){var q=s._traceIndices,le,$,j=s._matchGroup;if(j&&s._categories.length===0){for(var se in j)if(se!==w){var ne=S[g.id2name(se)];q=q.concat(ne._traceIndices)}}var he=[[0,{}],[0,{}]],me=[];for(le=0;le<q.length;le++){var we=X[q[le]];if(_ in we){var Te=we[_],Le=we._length||n.minRowLength(Te);if(o(Te[0])&&o(Te[1]))for($=0;$<Le;$++){var Ie=Te[0][$],ze=Te[1][$];L(Ie)&&L(ze)&&(me.push([Ie,ze]),Ie in he[0][1]||(he[0][1][Ie]=he[0][0]++),ze in he[1][1]||(he[1][1][ze]=he[1][0]++))}}}for(me.sort(function(Me,_e){var Ce=he[0][1],Oe=Ce[Me[0]]-Ce[_e[0]];if(Oe)return Oe;var Pe=he[1][1];return Pe[Me[1]]-Pe[_e[1]]}),le=0;le<me.length;le++)B(me[le])}),s.fraction2r=function(X){var q=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return s.l2r(q+X*(le-q))},s.r2fraction=function(X){var q=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return(s.r2l(X)-q)/(le-q)},s.limitRange=function(X){var q=s.minallowed,le=s.maxallowed;if(!(q===void 0&&le===void 0)){X||(X="range");var $=n.nestedProperty(s,X).get(),j=n.simpleMap($,s.r2l),se=j[1]<j[0];se&&j.reverse();var ne=n.simpleMap([q,le],s.r2l);if(q!==void 0&&j[0]<ne[0]&&($[se?1:0]=q),le!==void 0&&j[1]>ne[1]&&($[se?0:1]=le),$[0]===$[1]){var he=s.l2r(q),me=s.l2r(le);if(q!==void 0){var we=he+1;le!==void 0&&(we=Math.min(we,me)),$[se?1:0]=we}if(le!==void 0){var Te=me+1;q!==void 0&&(Te=Math.max(Te,he)),$[se?0:1]=Te}}}},s.cleanRange=function(X,q){s._cleanRange(X,q),s.limitRange(X)},s._cleanRange=function(X,q){q||(q={}),X||(X="range");var le=n.nestedProperty(s,X).get(),$,j;if(s.type==="date"?j=n.dfltRange(s.calendar):_==="y"?j=b.DFLTRANGEY:s._name==="realaxis"?j=[0,1]:j=q.dfltRange||b.DFLTRANGEX,j=j.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(j[0]=0),!le||le.length!==2){n.nestedProperty(s,X).set(j);return}var se=le[0]===null,ne=le[1]===null;for(s.type==="date"&&!s.autorange&&(le[0]=n.cleanDate(le[0],f,s.calendar),le[1]=n.cleanDate(le[1],f,s.calendar)),$=0;$<2;$++)if(s.type==="date"){if(!n.isDateTime(le[$],s.calendar)){s[X]=j;break}if(s.r2l(le[0])===s.r2l(le[1])){var he=n.constrain(s.r2l(le[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);le[0]=s.l2r(he-1e3),le[1]=s.l2r(he+1e3);break}}else{if(!x(le[$]))if(!(se||ne)&&x(le[1-$]))le[$]=le[1-$]*($?10:.1);else{s[X]=j;break}if(le[$]<-u?le[$]=-u:le[$]>u&&(le[$]=u),le[0]===le[1]){var me=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=me,le[1]+=me}}},s.setScale=function(X){var q=S._size;if(s.overlaying){var le=g.getFromId({_fullLayout:S},s.overlaying);s.domain=le.domain}var $=X&&s._r?"_r":"range",j=s.calendar;s.cleanRange($);var se=s.r2l(s[$][0],j),ne=s.r2l(s[$][1],j),he=_==="y";if(he?(s._offset=q.t+(1-s.domain[1])*q.h,s._length=q.h*(s.domain[1]-s.domain[0]),s._m=s._length/(se-ne),s._b=-s._m*ne):(s._offset=q.l+s.domain[0]*q.w,s._length=q.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ne-se),s._b=-s._m*se),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var me,we;if(s._rangebreaks=s.locateBreaks(Math.min(se,ne),Math.max(se,ne)),s._rangebreaks.length){for(me=0;me<s._rangebreaks.length;me++)we=s._rangebreaks[me],s._lBreaks+=Math.abs(we.max-we.min);var Te=he;se>ne&&(Te=!Te),Te&&s._rangebreaks.reverse();var Le=Te?-1:1;for(s._m2=Le*s._length/(Math.abs(ne-se)-s._lBreaks),s._B.push(-s._m2*(he?ne:se)),me=0;me<s._rangebreaks.length;me++)we=s._rangebreaks[me],s._B.push(s._B[s._B.length-1]-Le*s._m2*(we.max-we.min));for(me=0;me<s._rangebreaks.length;me++)we=s._rangebreaks[me],we.pmin=fe(we.min),we.pmax=fe(we.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw S._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(X){var q=s.rangebreaks||[],le,$,j,se,ne;q._cachedPatterns||(q._cachedPatterns=q.map(function(Ce){return Ce.enabled&&Ce.bounds?n.simpleMap(Ce.bounds,Ce.pattern?v:s.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Ce){return Ce.enabled&&Ce.values?n.simpleMap(Ce.values,s.d2c).sort(n.sorterAsc):null}));for(var he=0;he<q.length;he++){var me=q[he];if(me.enabled){if(me.bounds){var we=me.pattern;switch(le=q._cachedPatterns[he],$=le[0],j=le[1],we){case R:ne=new Date(X),se=ne.getUTCDay(),$>j&&(j+=7,se<$&&(se+=7));break;case A:ne=new Date(X);var Te=ne.getUTCHours(),Le=ne.getUTCMinutes(),Ie=ne.getUTCSeconds(),ze=ne.getUTCMilliseconds();se=Te+(Le/60+Ie/3600+ze/36e5),$>j&&(j+=24,se<$&&(se+=24));break;case"":se=X;break}if(se>=$&&se<j)return f}else for(var Me=q._cachedValues[he],_e=0;_e<Me.length;_e++)if($=Me[_e],j=$+me.dvalue,X>=$&&X<j)return f}}return X},s.locateBreaks=function(X,q){var le,$,j,se,ne=[];if(!s.rangebreaks)return ne;var he=s.rangebreaks.slice().sort(function(Pe,Ge){return Pe.pattern===R&&Ge.pattern===A?-1:Ge.pattern===R&&Pe.pattern===A?1:0}),me=function(Pe,Ge){if(Pe=n.constrain(Pe,X,q),Ge=n.constrain(Ge,X,q),Pe!==Ge){for(var Ze=!0,it=0;it<ne.length;it++){var Je=ne[it];Pe<Je.max&&Ge>=Je.min&&(Pe<Je.min&&(Je.min=Pe),Ge>Je.max&&(Je.max=Ge),Ze=!1)}Ze&&ne.push({min:Pe,max:Ge})}};for(le=0;le<he.length;le++){var we=he[le];if(we.enabled)if(we.bounds){var Te=X,Le=q;we.pattern&&(Te=Math.floor(Te)),$=n.simpleMap(we.bounds,we.pattern?v:s.r2l),j=$[0],se=$[1];var Ie=new Date(Te),ze,Me;switch(we.pattern){case R:Me=y,ze=((se<j?7:0)+(se-j))*c,Te+=j*c-(Ie.getUTCDay()*c+Ie.getUTCHours()*T+Ie.getUTCMinutes()*h+Ie.getUTCSeconds()*i+Ie.getUTCMilliseconds());break;case A:Me=c,ze=((se<j?24:0)+(se-j))*T,Te+=j*T-(Ie.getUTCHours()*T+Ie.getUTCMinutes()*h+Ie.getUTCSeconds()*i+Ie.getUTCMilliseconds());break;default:Te=Math.min($[0],$[1]),Le=Math.max($[0],$[1]),Me=Le-Te,ze=Me}for(var _e=Te;_e<Le;_e+=Me)me(_e,_e+ze)}else for(var Ce=n.simpleMap(we.values,s.d2c),Oe=0;Oe<Ce.length;Oe++)j=Ce[Oe],se=j+we.dvalue,me(j,se)}return ne.sort(function(Pe,Ge){return Pe.min-Ge.min}),ne},s.makeCalcdata=function(X,q,le){var $,j,se,ne,he=s.type,me=he==="date"&&X[q+"calendar"];if(q in X){if($=X[q],ne=X._length||n.minRowLength($),n.isTypedArray($)&&(he==="linear"||he==="log")){if(ne===$.length)return $;if($.subarray)return $.subarray(0,ne)}if(he==="multicategory")return F($,ne);for(j=new Array(ne),se=0;se<ne;se++)j[se]=s.d2c($[se],0,me,le)}else{var we=q+"0"in X?s.d2c(X[q+"0"],0,me):0,Te=X["d"+q]?Number(X["d"+q]):1;for($=X[{x:"y",y:"x"}[q]],ne=X._length||$.length,j=new Array(ne),se=0;se<ne;se++)j[se]=we+se*Te}if(s.rangebreaks)for(se=0;se<ne;se++)j[se]=s.maskBreaks(j[se]);return j},s.isValidRange=function(X,q){return Array.isArray(X)&&X.length===2&&(q&&X[0]===null||x(s.r2l(X[0])))&&(q&&X[1]===null||x(s.r2l(X[1])))},s.getAutorangeDflt=function(X,q){var le=!s.isValidRange(X,"nullOk");return le&&q&&q.reverseDflt?le="reversed":X&&(X[0]===null&&X[1]===null?le=!0:X[0]===null&&X[1]!==null?le="min":X[0]!==null&&X[1]===null&&(le="max")),le},s.isReversed=function(){var X=s.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},s.isPtWithinRange=function(X,q){var le=s.c2l(X[_],null,q),$=s.r2l(s.range[0]),j=s.r2l(s.range[1]);return $<j?$<=le&&le<=j:j<=le&&le<=$},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var X=s._matchGroup;if(X){var q=null,le=null;for(var $ in X){var j=S[g.id2name($)];if(j._categories){q=j._categories,le=j._categoriesMap;break}}q&&le?(s._categories=q,s._categoriesMap=le):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var se=0;se<s._initialCategories.length;se++)B(s._initialCategories[se])},s.sortByInitialCategories=function(){var X=[];if(s._emptyCategories(),s._initialCategories)for(var q=0;q<s._initialCategories.length;q++)B(s._initialCategories[q]);X=X.concat(s._traceIndices);var le=s._matchGroup;for(var $ in le)if(w!==$){var j=S[g.id2name($)];j._categories=s._categories,j._categoriesMap=s._categoriesMap,X=X.concat(j._traceIndices)}return X};var ee=S._d3locale;s.type==="date"&&(s._dateFormat=ee?ee.timeFormat:P,s._extraFormat=S._extraFormat),s._separators=S.separators,s._numFormat=ee?ee.numberFormat:C,delete s._minDtick,delete s._forceTick0}},85024:function(U){U.exports=function(e){var d=["showexponent","showtickprefix","showticksuffix"],P=d.filter(function(C){return e[C]!==void 0}),n=function(C){return e[C]===e[P[0]]};if(P.every(n)||P.length===1)return e[P[0]]}},95936:function(U,N,e){var d=e(3400),P=e(76308).contrast,n=e(94724),C=e(85024),x=e(51272);U.exports=function(r,t,o,a,u){u||(u={});var f=o("labelalias");d.isPlainObject(f)||delete t.labelalias;var l=C(r),y=o("showticklabels");if(y){u.noTicklabelshift||o("ticklabelshift"),u.noTicklabelstandoff||o("ticklabelstandoff");var c=u.font||{},T=t.color,h=t.ticklabelposition||"",i=h.indexOf("inside")!==-1?P(u.bgColor):T&&T!==n.color.dflt?T:c.color;if(d.coerceFont(o,"tickfont",c,{overrideDflt:{color:i}}),!u.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&o("ticklabelstep"),!u.noAng){var g=o("tickangle");!u.noAutotickangles&&g==="auto"&&o("autotickangles")}if(a!=="category"){var b=o("tickformat");x(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!b&&a!=="date"&&(o("showexponent",l),o("exponentformat"),o("minexponent"),o("separatethousands"))}}};function v(p,r){function t(a,u){return d.coerce(p,r,n.tickformatstops,a,u)}var o=t("enabled");o&&(t("dtickrange"),t("value"))}},25404:function(U,N,e){var d=e(3400),P=e(94724);U.exports=function(C,x,v,p){var r=p.isMinor,t=r?C.minor||{}:C,o=r?x.minor:x,a=r?P.minor:P,u=r?"minor.":"",f=d.coerce2(t,o,a,"ticklen",r?(x.ticklen||5)*.6:void 0),l=d.coerce2(t,o,a,"tickwidth",r?x.tickwidth||1:void 0),y=d.coerce2(t,o,a,"tickcolor",(r?x.tickcolor:void 0)||o.color),c=v(u+"ticks",!r&&p.outerTicks||f||l||y?"outside":"");c||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26332:function(U,N,e){var d=e(98728),P=e(3400).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,C=e(38116).decodeTypedArraySpec;U.exports=function(v,p,r,t,o){o||(o={});var a=o.isMinor,u=a?v.minor||{}:v,f=a?p.minor:p,l=a?"minor.":"";function y(R){var m=u[R];return n(m)&&(m=C(m)),m!==void 0?m:(f._template||{})[R]}var c=y("tick0"),T=y("dtick"),h=y("tickvals"),i=P(h)?"array":T?"linear":"auto",g=r(l+"tickmode",i);if(g==="auto"||g==="sync")r(l+"nticks");else if(g==="linear"){var b=f.dtick=d.dtick(T,t);f.tick0=d.tick0(c,t,p.calendar,b)}else if(t!=="multicategory"){var A=r(l+"tickvals");A===void 0?f.tickmode="auto":a||r("ticktext")}}},73736:function(U,N,e){var d=e(33428),P=e(24040),n=e(3400),C=e(43616),x=e(54460);U.exports=function(p,r,t,o){var a=p._fullLayout;if(r.length===0){x.redrawComponents(p);return}function u(A){var R=A.xaxis,m=A.yaxis;a._defs.select("#"+A.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),A.plot.call(C.setTranslate,R._offset,m._offset).call(C.setScale,1,1);var L=A.plot.selectAll(".scatterlayer .trace");L.selectAll(".point").call(C.setPointGroupScale,1,1),L.selectAll(".textpoint").call(C.setTextPointsScale,1,1),L.call(C.hideOutsideRangePoints,A)}function f(A,R){var m=A.plotinfo,L=m.xaxis,M=m.yaxis,s=L._length,S=M._length,w=!!A.xr1,_=!!A.yr1,I=[];if(w){var H=n.simpleMap(A.xr0,L.r2l),O=n.simpleMap(A.xr1,L.r2l),V=H[1]-H[0],B=O[1]-O[0];I[0]=(H[0]*(1-R)+R*O[0]-H[0])/(H[1]-H[0])*s,I[2]=s*(1-R+R*B/V),L.range[0]=L.l2r(H[0]*(1-R)+R*O[0]),L.range[1]=L.l2r(H[1]*(1-R)+R*O[1])}else I[0]=0,I[2]=s;if(_){var F=n.simpleMap(A.yr0,M.r2l),G=n.simpleMap(A.yr1,M.r2l),Y=F[1]-F[0],Q=G[1]-G[0];I[1]=(F[1]*(1-R)+R*G[1]-F[1])/(F[0]-F[1])*S,I[3]=S*(1-R+R*Q/Y),M.range[0]=L.l2r(F[0]*(1-R)+R*G[0]),M.range[1]=M.l2r(F[1]*(1-R)+R*G[1])}else I[1]=0,I[3]=S;x.drawOne(p,L,{skipTitle:!0}),x.drawOne(p,M,{skipTitle:!0}),x.redrawComponents(p,[L._id,M._id]);var te=w?s/I[2]:1,ae=_?S/I[3]:1,fe=w?I[0]:0,oe=_?I[1]:0,J=w?I[0]/I[2]*s:0,ee=_?I[1]/I[3]*S:0,X=L._offset-J,q=M._offset-ee;m.clipRect.call(C.setTranslate,fe,oe).call(C.setScale,1/te,1/ae),m.plot.call(C.setTranslate,X,q).call(C.setScale,te,ae),C.setPointGroupScale(m.zoomScalePts,1/te,1/ae),C.setTextPointsScale(m.zoomScaleTxt,1/te,1/ae)}var l;o&&(l=o());function y(){for(var A={},R=0;R<r.length;R++){var m=r[R],L=m.plotinfo.xaxis,M=m.plotinfo.yaxis;m.xr1&&(A[L._name+".range"]=m.xr1.slice()),m.yr1&&(A[M._name+".range"]=m.yr1.slice())}return l&&l(),P.call("relayout",p,A).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}function c(){for(var A={},R=0;R<r.length;R++){var m=r[R],L=m.plotinfo.xaxis,M=m.plotinfo.yaxis;m.xr0&&(A[L._name+".range"]=m.xr0.slice()),m.yr0&&(A[M._name+".range"]=m.yr0.slice())}return P.call("relayout",p,A).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}var T,h,i,g=d.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,c()});function b(){h=Date.now();for(var A=Math.min(1,(h-T)/t.duration),R=g(A),m=0;m<r.length;m++)f(r[m],R);h-T>t.duration?(y(),i=window.cancelAnimationFrame(b)):i=window.requestAnimationFrame(b)}return T=Date.now(),i=window.requestAnimationFrame(b),Promise.resolve()}},14944:function(U,N,e){var d=e(24040).traceIs,P=e(52976);U.exports=function(r,t,o,a){o("autotypenumbers",a.autotypenumbersDflt);var u=o("type",(a.splomStash||{}).type);u==="-"&&(n(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function n(p,r){if(p.type==="-"){var t=p._id,o=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=o);var u=C(r,t,o);if(u){if(u.type==="histogram"&&o==={v:"y",h:"x"}[u.orientation||"v"]){p.type="linear";return}var f=o+"calendar",l=u[f],y={noMultiCategory:!d(u,"cartesian")||d(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&o==={h:"x",v:"y"}[u.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=p.autotypenumbers,v(u,o)){var c=x(u),T=[];for(a=0;a<r.length;a++){var h=r[a];!d(h,"box-violin")||(h[o+"axis"]||o)!==t||(h[c]!==void 0?T.push(h[c][0]):h.name!==void 0?T.push(h.name):T.push("text"),h[f]!==l&&(l=void 0))}p.type=P(T,l,y)}else if(u.type==="splom"){var i=u.dimensions,g=i[u._axesDim[t]];g.visible&&(p.type=P(g.values,l,y))}else p.type=P(u[o]||[u[o+"0"]],l,y)}}}function C(p,r,t){for(var o=0;o<p.length;o++){var a=p[o];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(v(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function x(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=x(p),o=d(p,"box-violin"),a=d(p._fullInput||{},"candlestick");return o&&!a&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(U,N,e){var d=e(24040),P=e(3400);N.manageCommandObserver=function(r,t,o,a){var u={},f=!0;t&&t._commandObserver&&(u=t._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var l=N.hasSimpleAPICommandBindings(r,o,u.lookupTable);if(t&&t._commandObserver){if(l)return u;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,u}if(l){n(r,l,u.cache),u.check=function(){if(f){var h=n(r,l,u.cache);return h.changed&&a&&u.lookupTable[h.value]!==void 0&&(u.disable(),Promise.resolve(a({value:h.value,type:l.type,prop:l.prop,traces:l.traces,index:u.lookupTable[h.value]})).then(u.enable,u.enable)),h.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<y.length;c++)r._internalOn(y[c],u.check);u.remove=function(){for(var T=0;T<y.length;T++)r._removeInternalListener(y[T],u.check)}}else P.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){f=!1},u.enable=function(){f=!0},t&&(t._commandObserver=u),u},N.hasSimpleAPICommandBindings=function(r,t,o){var a,u=t.length,f;for(a=0;a<u;a++){var l,y=t[a],c=y.method,T=y.args;if(Array.isArray(T)||(T=[]),!c)return!1;var h=N.computeAPICommandBindings(r,c,T);if(h.length!==1)return!1;if(!f)f=h[0],Array.isArray(f.traces)&&f.traces.sort();else{if(l=h[0],l.type!==f.type||l.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var i=0;i<f.traces.length;i++)if(f.traces[i]!==l.traces[i])return!1}else return!1;else if(l.prop!==f.prop)return!1}l=h[0];var g=l.value;if(Array.isArray(g))if(g.length===1)g=g[0];else return!1;o&&(o[g]=a)}return f};function n(r,t,o){var a,u,f,l=!1;if(t.type==="data")a=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")a=r._fullLayout;else return!1;return u=P.nestedProperty(a,t.prop).get(),f=o[t.type]=o[t.type]||{},f.hasOwnProperty(t.prop)&&f[t.prop]!==u&&(l=!0),f[t.prop]=u,{changed:l,value:u}}N.executeAPICommand=function(r,t,o){if(t==="skip")return Promise.resolve();var a=d.apiMethodRegistry[t],u=[r];Array.isArray(o)||(o=[]);for(var f=0;f<o.length;f++)u.push(o[f]);return a.apply(null,u).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},N.computeAPICommandBindings=function(r,t,o){var a;switch(Array.isArray(o)||(o=[]),t){case"restyle":a=v(r,o);break;case"relayout":a=x(r,o);break;case"update":a=v(r,[o[0],o[2]]).concat(x(r,[o[1]]));break;case"animate":a=C(r,o);break;default:a=[]}return a};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function x(r,t){var o=[],a=t[0],u={};if(typeof a=="string")u[a]=t[1];else if(P.isPlainObject(a))u=a;else return o;return p(u,function(f,l,y){o.push({type:"layout",prop:f,value:y})},"",0),o}function v(r,t){var o,a,u,f,l=[];if(a=t[0],u=t[1],o=t[2],f={},typeof a=="string")f[a]=u;else if(P.isPlainObject(a))f=a,o===void 0&&(o=u);else return l;return o===void 0&&(o=null),p(f,function(y,c,T){var h,i;if(Array.isArray(T)){i=T.slice();var g=Math.min(i.length,r.data.length);o&&(g=Math.min(g,o.length)),h=[];for(var b=0;b<g;b++)h[b]=o?o[b]:b}else i=T,h=o?o.slice():null;if(h===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(h)){if(!Array.isArray(i)){var A=i;i=[];for(var R=0;R<h.length;R++)i[R]=A}i.length=Math.min(h.length,i.length)}l.push({type:"data",prop:y,traces:h,value:i})},"",0),l}function p(r,t,o,a){Object.keys(r).forEach(function(u){var f=r[u];if(u[0]!=="_"){var l=o+(a>0?".":"")+u;P.isPlainObject(f)?p(f,t,l,a+1):t(l,u,f)}})}},86968:function(U,N,e){var d=e(92880).extendFlat;N.u=function(P,n){P=P||{},n=n||{};var C={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,n.description&&""+n.description;var x={x:d({},C,{}),y:d({},C,{}),editType:P.editType};return P.noGridCell||(x.row={valType:"integer",min:0,dflt:0,editType:P.editType},x.column={valType:"integer",min:0,dflt:0,editType:P.editType}),x},N.Q=function(P,n,C,x){var v=x&&x.x||[0,1],p=x&&x.y||[0,1],r=n.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var o=C("domain.row");o!==void 0&&(o<r.rows?p=r._domains.y[o]:delete P.domain.row)}var a=C("domain.x",v),u=C("domain.y",p);a[0]<a[1]||(P.domain.x=v.slice()),u[0]<u[1]||(P.domain.y=p.slice())}},25376:function(U){U.exports=function(N){var e=N.variantValues,d=N.editType,P=N.colorEditType;P===void 0&&(P=d);var n={editType:d,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};N.noNumericWeightValues&&(n.valType="enumerated",n.values=n.extras,n.extras=void 0,n.min=void 0,n.max=void 0);var C={family:{valType:"string",noBlank:!0,strict:!0,editType:d},size:{valType:"number",min:1,editType:d},color:{valType:"color",editType:P},weight:n,style:{editType:d,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:N.noFontVariant?void 0:{editType:d,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:N.noFontTextcase?void 0:{editType:d,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:N.noFontLineposition?void 0:{editType:d,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:N.noFontShadow?void 0:{editType:d,valType:"string",dflt:N.autoShadowDflt?"auto":"none"},editType:d};return N.autoSize&&(C.size.dflt="auto"),N.autoColor&&(C.color.dflt="auto"),N.arrayOk&&(C.family.arrayOk=!0,C.weight.arrayOk=!0,C.style.arrayOk=!0,N.noFontVariant||(C.variant.arrayOk=!0),N.noFontTextcase||(C.textcase.arrayOk=!0),N.noFontLineposition||(C.lineposition.arrayOk=!0),N.noFontShadow||(C.shadow.arrayOk=!0),C.size.arrayOk=!0,C.color.arrayOk=!0),C}},16672:function(U){U.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(U,N){N.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},N.axesNames=["lonaxis","lataxis"],N.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},N.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},N.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},N.clipPad=.001,N.precision=.1,N.landColor="#F0DC82",N.waterColor="#3399FF",N.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},N.sphereSVG={type:"Sphere"},N.fillLayers={ocean:1,land:1,lakes:1},N.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},N.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],N.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],N.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(U,N,e){var d=e(33428),P=e(83356),n=P.geoPath,C=P.geoDistance,x=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),o=e(43616),a=e(93024),u=e(7316),f=e(54460),l=e(19280).getAutoRange,y=e(86476),c=e(22676).prepSelect,T=e(22676).clearOutline,h=e(22676).selectOnClick,i=e(79248),g=e(79552),b=e(27144),A=e(59972),R=e(55712).NO;function m(w){this.id=w.id,this.graphDiv=w.graphDiv,this.container=w.container,this.topojsonURL=w.topojsonURL,this.isStatic=w.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var L=m.prototype;U.exports=function(_){return new m(_)},L.plot=function(w,_,I,H){var O=this;if(H)return O.update(w,_,!0);O._geoCalcData=w,O._fullLayout=_;var V=_[this.id],B=[],F=!1;for(var G in g.layerNameToAdjective)if(G!=="frame"&&V["show"+G]){F=!0;break}for(var Y=!1,Q=0;Q<w.length;Q++){var te=w[0][0].trace;te._geo=O,te.locationmode&&(F=!0);var ae=te.marker;if(ae){var fe=ae.angle,oe=ae.angleref;(fe||oe==="north"||oe==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,F){var J=A.getTopojsonName(V);(O.topojson===null||J!==O.topojsonName)&&(O.topojsonName=J,PlotlyGeoAssets.topojson[O.topojsonName]===void 0&&B.push(O.fetchTopojson()))}B=B.concat(b.fetchTraceGeoData(w)),I.push(new Promise(function(ee,X){Promise.all(B).then(function(){O.topojson=PlotlyGeoAssets.topojson[O.topojsonName],O.update(w,_),ee()}).catch(X)}))},L.fetchTopojson=function(){var w=this,_=A.getTopojsonPath(w.topojsonURL,w.topojsonName);return new Promise(function(I,H){d.json(_,function(O,V){if(O)return O.status===404?H(new Error(["plotly.js could not find topojson file at",_+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):H(new Error(["unexpected error while fetching topojson file at",_].join(" ")));PlotlyGeoAssets.topojson[w.topojsonName]=V,I()})})},L.update=function(w,_,I){var H=_[this.id];this.hasChoropleth=!1;for(var O=0;O<w.length;O++){var V=w[O],B=V[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(V,_)}if(!I){var F=this.updateProjection(w,_);if(F)return;(!this.viewInitial||this.scope!==H.scope)&&this.saveViewInitial(H)}this.scope=H.scope,this.updateBaseLayers(_,H),this.updateDims(_,H),this.updateFx(_,H),u.generalUpdatePerTraceModule(this.graphDiv,this,w,H);var G=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=G.selectAll(".point"),this.dataPoints.text=G.selectAll("text"),this.dataPaths.line=G.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},L.updateProjection=function(w,_){var I=this.graphDiv,H=_[this.id],O=_._size,V=H.domain,B=H.projection,F=H.lonaxis,G=H.lataxis,Y=F._ax,Q=G._ax,te=this.projection=M(H),ae=[[O.l+O.w*V.x[0],O.t+O.h*(1-V.y[1])],[O.l+O.w*V.x[1],O.t+O.h*(1-V.y[0])]],fe=H.center||{},oe=B.rotation||{},J=F.range||[],ee=G.range||[];if(H.fitbounds){Y._length=ae[1][0]-ae[0][0],Q._length=ae[1][1]-ae[0][1],Y.range=l(I,Y),Q.range=l(I,Q);var X=(Y.range[0]+Y.range[1])/2,q=(Q.range[0]+Q.range[1])/2;if(H._isScoped)fe={lon:X,lat:q};else if(H._isClipped){fe={lon:X,lat:q},oe={lon:X,lat:q,roll:oe.roll};var le=B.type,$=g.lonaxisSpan[le]/2||180,j=g.lataxisSpan[le]/2||90;J=[X-$,X+$],ee=[q-j,q+j]}else fe={lon:X,lat:q},oe={lon:X,lat:oe.lat,roll:oe.roll}}te.center([fe.lon-oe.lon,fe.lat-oe.lat]).rotate([-oe.lon,-oe.lat,oe.roll]).parallels(B.parallels);var se=S(J,ee);te.fitExtent(ae,se);var ne=this.bounds=te.getBounds(se),he=this.fitScale=te.scale(),me=te.translate();if(H.fitbounds){var we=te.getBounds(S(Y.range,Q.range)),Te=Math.min((ne[1][0]-ne[0][0])/(we[1][0]-we[0][0]),(ne[1][1]-ne[0][1])/(we[1][1]-we[0][1]));isFinite(Te)?te.scale(Te*he):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else te.scale(B.scale*he);var Le=this.midPt=[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2];if(te.translate([me[0]+(Le[0]-me[0]),me[1]+(Le[1]-me[1])]).clipExtent(ne),H._isAlbersUsa){var Ie=te([fe.lon,fe.lat]),ze=te.translate();te.translate([ze[0]-(Ie[0]-ze[0]),ze[1]-(Ie[1]-ze[1])])}},L.updateBaseLayers=function(w,_){var I=this,H=I.topojson,O=I.layers,V=I.basePaths;function B(ae){return ae==="lonaxis"||ae==="lataxis"}function F(ae){return!!g.lineLayers[ae]}function G(ae){return!!g.fillLayers[ae]}var Y=this.hasChoropleth?g.layersForChoropleth:g.layers,Q=Y.filter(function(ae){return F(ae)||G(ae)?_["show"+ae]:B(ae)?_[ae].showgrid:!0}),te=I.framework.selectAll(".layer").data(Q,String);te.exit().each(function(ae){delete O[ae],delete V[ae],d.select(this).remove()}),te.enter().append("g").attr("class",function(ae){return"layer "+ae}).each(function(ae){var fe=O[ae]=d.select(this);ae==="bg"?I.bgRect=fe.append("rect").style("pointer-events","all"):B(ae)?V[ae]=fe.append("path").style("fill","none"):ae==="backplot"?fe.append("g").classed("choroplethlayer",!0):ae==="frontplot"?fe.append("g").classed("scatterlayer",!0):F(ae)?V[ae]=fe.append("path").style("fill","none").style("stroke-miterlimit",2):G(ae)&&(V[ae]=fe.append("path").style("stroke","none"))}),te.order(),te.each(function(ae){var fe=V[ae],oe=g.layerNameToAdjective[ae];ae==="frame"?fe.datum(g.sphereSVG):F(ae)||G(ae)?fe.datum(R(H,H.objects[ae])):B(ae)&&fe.datum(s(ae,_,w)).call(t.stroke,_[ae].gridcolor).call(o.dashLine,_[ae].griddash,_[ae].gridwidth),F(ae)?fe.call(t.stroke,_[oe+"color"]).call(o.dashLine,"",_[oe+"width"]):G(ae)&&fe.call(t.fill,_[oe+"color"])})},L.updateDims=function(w,_){var I=this.bounds,H=(_.framewidth||0)/2,O=I[0][0]-H,V=I[0][1]-H,B=I[1][0]-O+H,F=I[1][1]-V+H;o.setRect(this.clipRect,O,V,B,F),this.bgRect.call(o.setRect,O,V,B,F).call(t.fill,_.bgcolor),this.xaxis._offset=O,this.xaxis._length=B,this.yaxis._offset=V,this.yaxis._length=F},L.updateFx=function(w,_){var I=this,H=I.graphDiv,O=I.bgRect,V=w.dragmode,B=w.clickmode;if(I.isStatic)return;function F(){var te=I.viewInitial,ae={};for(var fe in te)ae[I.id+"."+fe]=te[fe];v.call("_guiRelayout",H,ae),H.emit("plotly_doubleclick",null)}function G(te){return I.projection.invert([te[0]+I.xaxis._offset,te[1]+I.yaxis._offset])}var Y=function(te,ae){if(ae.isRect){var fe=te.range={};fe[I.id]=[G([ae.xmin,ae.ymin]),G([ae.xmax,ae.ymax])]}else{var oe=te.lassoPoints={};oe[I.id]=ae.map(G)}},Q={element:I.bgRect.node(),gd:H,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:Y},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(te){te===2&&T(H)}};V==="pan"?(O.node().onmousedown=null,O.call(i(I,_)),O.on("dblclick.zoom",F),H._context._scrollZoom.geo||O.on("wheel.zoom",null)):(V==="select"||V==="lasso")&&(O.on(".zoom",null),Q.prepFn=function(te,ae,fe){c(te,ae,fe,Q,V)},y.init(Q)),O.on("mousemove",function(){var te=I.projection.invert(p.getPositionFromD3Event());if(!te)return y.unhover(H,d.event);I.xaxis.p2c=function(){return te[0]},I.yaxis.p2c=function(){return te[1]},a.hover(H,d.event,I.id)}),O.on("mouseout",function(){H._dragging||y.unhover(H,d.event)}),O.on("click",function(){V!=="select"&&V!=="lasso"&&(B.indexOf("select")>-1&&h(d.event,H,[I.xaxis],[I.yaxis],I.id,Q),B.indexOf("event")>-1&&a.click(H,d.event))})},L.makeFramework=function(){var w=this,_=w.graphDiv,I=_._fullLayout,H="clip"+I._uid+w.id;w.clipDef=I._clips.append("clipPath").attr("id",H),w.clipRect=w.clipDef.append("rect"),w.framework=d.select(w.container).append("g").attr("class","geo "+w.id).call(o.setClipUrl,H,_),w.project=function(O){var V=w.projection(O);return V?[V[0]-w.xaxis._offset,V[1]-w.yaxis._offset]:[null,null]},w.xaxis={_id:"x",c2p:function(O){return w.project(O)[0]}},w.yaxis={_id:"y",c2p:function(O){return w.project(O)[1]}},w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(w.mockAxis,I)},L.saveViewInitial=function(w){var _=w.center||{},I=w.projection,H=I.rotation||{};this.viewInitial={fitbounds:w.fitbounds,"projection.scale":I.scale};var O;w._isScoped?O={"center.lon":_.lon,"center.lat":_.lat}:w._isClipped?O={"projection.rotation.lon":H.lon,"projection.rotation.lat":H.lat}:O={"center.lon":_.lon,"center.lat":_.lat,"projection.rotation.lon":H.lon},p.extendFlat(this.viewInitial,O)},L.render=function(w){this._hasMarkerAngles&&w?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},L._render=function(){var w=this.projection,_=w.getPath(),I;function H(V){var B=w(V.lonlat);return B?r(B[0],B[1]):null}function O(V){return w.isLonLatOverEdges(V.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",_);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(V){return _(V.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",O).attr("transform",H)};function M(w){var _=w.projection,I=_.type,H=g.projNames[I];H="geo"+p.titleCase(H);for(var O=P[H]||x[H],V=O(),B=w._isSatellite?Math.acos(1/_.distance)*180/Math.PI:w._isClipped?g.lonaxisSpan[I]/2:null,F=["center","rotate","parallels","clipExtent"],G=function(te){return te?V:[]},Y=0;Y<F.length;Y++){var Q=F[Y];typeof V[Q]!="function"&&(V[Q]=G)}return V.isLonLatOverEdges=function(te){if(V(te)===null)return!0;if(B){var ae=V.rotate(),fe=C(te,[-ae[0],-ae[1]]),oe=B*Math.PI/180;return fe>oe}else return!1},V.getPath=function(){return n().projection(V)},V.getBounds=function(te){return V.getPath().bounds(te)},V.precision(g.precision),w._isSatellite&&V.tilt(_.tilt).distance(_.distance),B&&V.clipAngle(B-g.clipPad),V}function s(w,_,I){var H=1e-6,O=2.5,V=_[w],B=g.scopeDefaults[_.scope],F,G,Y;w==="lonaxis"?(F=B.lonaxisRange,G=B.lataxisRange,Y=function(q,le){return[q,le]}):w==="lataxis"&&(F=B.lataxisRange,G=B.lonaxisRange,Y=function(q,le){return[le,q]});var Q={type:"linear",range:[F[0],F[1]-H],tick0:V.tick0,dtick:V.dtick};f.setConvert(Q,I);var te=f.calcTicks(Q);!_.isScoped&&w==="lonaxis"&&te.pop();for(var ae=te.length,fe=new Array(ae),oe=0;oe<ae;oe++)for(var J=te[oe].x,ee=fe[oe]=[],X=G[0];X<G[1]+O;X+=O)ee.push(Y(J,X));return{type:"MultiLineString",coordinates:fe}}function S(w,_){var I=g.clipPad,H=w[0]+I,O=w[1]-I,V=_[0]+I,B=_[1]-I;H>0&&O<0&&(O+=360);var F=(O-H)/4;return{type:"Polygon",coordinates:[[[H,V],[H,B],[H+F,B],[H+2*F,B],[H+3*F,B],[O,B],[O,V],[O-F,V],[O-2*F,V],[O-3*F,V],[H,V]]]}}},10816:function(U,N,e){var d=e(84888).KY,P=e(3400).counterRegex,n=e(43520),C="geo",x=P(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function p(o){for(var a=o._fullLayout,u=o.calcdata,f=a._subplots[C],l=0;l<f.length;l++){var y=f[l],c=d(u,C,y),T=a[y],h=T._subplot;h||(h=n({id:y,graphDiv:o,container:a._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),a[y]._subplot=h),h.plot(c,a,o._promises)}}function r(o,a,u,f){for(var l=f._subplots[C]||[],y=0;y<l.length;y++){var c=l[y],T=f[c]._subplot;!a[c]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(o){for(var a=o._fullLayout,u=a._subplots[C],f=0;f<u.length;f++){var l=a[u[f]],y=l._subplot;y.updateFx(a,l)}}U.exports={attr:C,name:C,idRoot:C,idRegex:x,attrRegex:x,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(U,N,e){var d=e(22548),P=e(86968).u,n=e(98192).u,C=e(79552),x=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:d.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},r=U.exports=x({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:d.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:d.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:d.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:d.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:d.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(U,N,e){var d=e(3400),P=e(168),n=e(84888).op,C=e(79552),x=e(40384),v=C.axesNames;U.exports=function(t,o,a){P(t,o,a,{type:"geo",attributes:x,handleDefaults:p,fullData:a,partition:"y"})};function p(r,t,o,a){var u=n(a.fullData,"geo",a.id),f=u.map(function(ee){return ee._expandedIndex}),l=o("resolution"),y=o("scope"),c=C.scopeDefaults[y],T=o("projection.type",c.projType),h=t._isAlbersUsa=T==="albers usa";h&&(y=t.scope="usa");var i=t._isScoped=y!=="world",g=t._isSatellite=T==="satellite",b=t._isConic=T.indexOf("conic")!==-1||T==="albers",A=t._isClipped=!!C.lonaxisSpan[T];if(r.visible===!1){var R=d.extendDeep({},t._template);R.showcoastlines=!1,R.showcountries=!1,R.showframe=!1,R.showlakes=!1,R.showland=!1,R.showocean=!1,R.showrivers=!1,R.showsubunits=!1,R.lonaxis&&(R.lonaxis.showgrid=!1),R.lataxis&&(R.lataxis.showgrid=!1),t._template=R}for(var m=o("visible"),L,M=0;M<v.length;M++){var s=v[M],S=[30,10][M],w;if(i)w=c[s+"Range"];else{var _=C[s+"Span"],I=(_[T]||_["*"])/2,H=o("projection.rotation."+s.substr(0,3),c.projRotate[M]);w=[H-I,H+I]}var O=o(s+".range",w);o(s+".tick0"),o(s+".dtick",S),L=o(s+".showgrid",m?void 0:!1),L&&(o(s+".gridcolor"),o(s+".gridwidth"),o(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:f,setScale:d.identity,c2l:d.identity,r2l:d.identity,autorange:!0,range:O.slice(),_m:1,_input:{}}}var V=t.lonaxis.range,B=t.lataxis.range,F=V[0],G=V[1];F>0&&G<0&&(G+=360);var Y=(F+G)/2,Q;if(!h){var te=i?c.projRotate:[Y,0,0];Q=o("projection.rotation.lon",te[0]),o("projection.rotation.lat",te[1]),o("projection.rotation.roll",te[2]),L=o("showcoastlines",!i&&m),L&&(o("coastlinecolor"),o("coastlinewidth")),L=o("showocean",m?void 0:!1),L&&o("oceancolor")}var ae,fe;if(h?(ae=-96.6,fe=38.7):(ae=i?Y:Q,fe=(B[0]+B[1])/2),o("center.lon",ae),o("center.lat",fe),g&&(o("projection.tilt"),o("projection.distance")),b){var oe=c.projParallels||[0,60];o("projection.parallels",oe)}o("projection.scale"),L=o("showland",m?void 0:!1),L&&o("landcolor"),L=o("showlakes",m?void 0:!1),L&&o("lakecolor"),L=o("showrivers",m?void 0:!1),L&&(o("rivercolor"),o("riverwidth")),L=o("showcountries",i&&y!=="usa"&&m),L&&(o("countrycolor"),o("countrywidth")),(y==="usa"||y==="north america"&&l===50)&&(o("showsubunits",m),o("subunitcolor"),o("subunitwidth")),i||(L=o("showframe",m),L&&(o("framecolor"),o("framewidth"))),o("bgcolor");var J=o("fitbounds");J&&(delete t.projection.scale,i?(delete t.center.lon,delete t.center.lat):A?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(U,N,e){var d=e(33428),P=e(3400),n=e(24040),C=Math.PI/180,x=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(s,S){var w=s.projection,_;return S._isScoped?_=a:S._isClipped?_=f:_=u,_(s,w)}U.exports=r;function t(s,S){return d.behavior.zoom().translate(S.translate()).scale(S.scale())}function o(s,S,w){var _=s.id,I=s.graphDiv,H=I.layout,O=H[_],V=I._fullLayout,B=V[_],F={},G={};function Y(Q,te){F[_+"."+Q]=P.nestedProperty(O,Q).get(),n.call("_storeDirectGUIEdit",H,V._preGUI,F);var ae=P.nestedProperty(B,Q);ae.get()!==te&&(ae.set(te),P.nestedProperty(O,Q).set(te),G[_+"."+Q]=te)}w(Y),Y("projection.scale",S.scale()/s.fitScale),Y("fitbounds",!1),I.emit("plotly_relayout",G)}function a(s,S){var w=t(s,S);function _(){d.select(this).style(v)}function I(){S.scale(d.event.scale).translate(d.event.translate),s.render(!0);var V=S.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/s.fitScale,"geo.center.lon":V[0],"geo.center.lat":V[1]})}function H(V){var B=S.invert(s.midPt);V("center.lon",B[0]),V("center.lat",B[1])}function O(){d.select(this).style(p),o(s,S,H)}return w.on("zoomstart",_).on("zoom",I).on("zoomend",O),w}function u(s,S){var w=t(s,S),_=2,I,H,O,V,B,F,G,Y,Q;function te(X){return S.invert(X)}function ae(X){var q=te(X);if(!q)return!0;var le=S(q);return Math.abs(le[0]-X[0])>_||Math.abs(le[1]-X[1])>_}function fe(){d.select(this).style(v),I=d.mouse(this),H=S.rotate(),O=S.translate(),V=H,B=te(I)}function oe(){if(F=d.mouse(this),ae(I)){w.scale(S.scale()),w.translate(S.translate());return}S.scale(d.event.scale),S.translate([O[0],d.event.translate[1]]),B?te(F)&&(Y=te(F),G=[V[0]+(Y[0]-B[0]),H[1],H[2]],S.rotate(G),V=G):(I=F,B=te(I)),Q=!0,s.render(!0);var X=S.rotate(),q=S.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/s.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-X[0]})}function J(){d.select(this).style(p),Q&&o(s,S,ee)}function ee(X){var q=S.rotate(),le=S.invert(s.midPt);X("projection.rotation.lon",-q[0]),X("center.lon",le[0]),X("center.lat",le[1])}return w.on("zoomstart",fe).on("zoom",oe).on("zoomend",J),w}function f(s,S){S.rotate(),S.scale();var w=t(s,S),_=M(w,"zoomstart","zoom","zoomend"),I=0,H=w.on,O;w.on("zoomstart",function(){d.select(this).style(v);var Y=d.mouse(this),Q=S.rotate(),te=Q,ae=S.translate(),fe=y(Q);O=l(S,Y),H.call(w,"zoom",function(){var oe=d.mouse(this);if(S.scale(d.event.scale),!O)Y=oe,O=l(S,Y);else if(l(S,oe)){S.rotate(Q).translate(ae);var J=l(S,oe),ee=T(O,J),X=A(c(fe,ee)),q=h(X,O,te);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=te),S.rotate(q),te=q}B(_.of(this,arguments))}),V(_.of(this,arguments))}).on("zoomend",function(){d.select(this).style(p),H.call(w,"zoom",null),F(_.of(this,arguments)),o(s,S,G)}).on("zoom.redraw",function(){s.render(!0);var Y=S.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/s.fitScale,"geo.projection.rotation.lon":-Y[0],"geo.projection.rotation.lat":-Y[1]})});function V(Y){I++||Y({type:"zoomstart"})}function B(Y){Y({type:"zoom"})}function F(Y){--I||Y({type:"zoomend"})}function G(Y){var Q=S.rotate();Y("projection.rotation.lon",-Q[0]),Y("projection.rotation.lat",-Q[1])}return d.rebind(w,_,"on")}function l(s,S){var w=s.invert(S);return w&&isFinite(w[0])&&isFinite(w[1])&&R(w)}function y(s){var S=.5*s[0]*C,w=.5*s[1]*C,_=.5*s[2]*C,I=Math.sin(S),H=Math.cos(S),O=Math.sin(w),V=Math.cos(w),B=Math.sin(_),F=Math.cos(_);return[H*V*F+I*O*B,I*V*F-H*O*B,H*O*F+I*V*B,H*V*B-I*O*F]}function c(s,S){var w=s[0],_=s[1],I=s[2],H=s[3],O=S[0],V=S[1],B=S[2],F=S[3];return[w*O-_*V-I*B-H*F,w*V+_*O+I*F-H*B,w*B-_*F+I*O+H*V,w*F+_*B-I*V+H*O]}function T(s,S){if(!(!s||!S)){var w=L(s,S),_=Math.sqrt(m(w,w)),I=.5*Math.acos(Math.max(-1,Math.min(1,m(s,S)))),H=Math.sin(I)/_;return _&&[Math.cos(I),w[2]*H,-w[1]*H,w[0]*H]}}function h(s,S,w){var _=b(S,2,s[0]);_=b(_,1,s[1]),_=b(_,0,s[2]-w[2]);var I=S[0],H=S[1],O=S[2],V=_[0],B=_[1],F=_[2],G=Math.atan2(H,I)*x,Y=Math.sqrt(I*I+H*H),Q,te;Math.abs(B)>Y?(te=(B>0?90:-90)-G,Q=0):(te=Math.asin(B/Y)*x-G,Q=Math.sqrt(Y*Y-B*B));var ae=180-te-2*G,fe=(Math.atan2(F,V)-Math.atan2(O,Q))*x,oe=(Math.atan2(F,V)-Math.atan2(O,-Q))*x,J=i(w[0],w[1],te,fe),ee=i(w[0],w[1],ae,oe);return J<=ee?[te,fe,w[2]]:[ae,oe,w[2]]}function i(s,S,w,_){var I=g(w-s),H=g(_-S);return Math.sqrt(I*I+H*H)}function g(s){return(s%360+540)%360-180}function b(s,S,w){var _=w*C,I=s.slice(),H=S===0?1:0,O=S===2?1:2,V=Math.cos(_),B=Math.sin(_);return I[H]=s[H]*V-s[O]*B,I[O]=s[O]*V+s[H]*B,I}function A(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*x,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*x,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*x]}function R(s){var S=s[0]*C,w=s[1]*C,_=Math.cos(w);return[_*Math.cos(S),_*Math.sin(S),Math.sin(w)]}function m(s,S){for(var w=0,_=0,I=s.length;_<I;++_)w+=s[_]*S[_];return w}function L(s,S){return[s[1]*S[2]-s[2]*S[1],s[2]*S[0]-s[0]*S[2],s[0]*S[1]-s[1]*S[0]]}function M(s){for(var S=0,w=arguments.length,_=[];++S<w;)_.push(arguments[S]);var I=d.dispatch.apply(null,_);return I.of=function(H,O){return function(V){var B;try{B=V.sourceEvent=d.event,V.target=s,d.event=V,I[V.type].apply(H,O)}finally{d.event=B}}},I}},84888:function(U,N,e){var d=e(24040),P=e(33816).SUBPLOT_PATTERN;N.KY=function(n,C,x){var v=d.subplotsRegistry[C];if(!v)return[];for(var p=v.attr,r=[],t=0;t<n.length;t++){var o=n[t],a=o[0].trace;a[p]===x&&r.push(o)}return r},N._M=function(n,C,x){var v=[],p=[],r;if(typeof C=="string"?r=d.getModule(C).plot:typeof C=="function"?r=C:r=C.plot,!r)return[v,n];for(var t=x,o=0;o<n.length;o++){var a=n[o],u=a[0].trace,f=u.zorder!==void 0;u.visible!==!0||u._length===0||(u._module&&u._module.plot===r&&(!f||u.zorder===t)?v.push(a):p.push(a))}return[v,p]},N.op=function(C,x,v){if(!d.subplotsRegistry[x])return[];var p=d.subplotsRegistry[x].attr,r=[],t,o,a;if(x==="gl2d"){var u=v.match(P);o="x"+u[1],a="y"+u[2]}for(var f=0;f<C.length;f++)t=C[f],x==="gl2d"&&d.traceIs(t,"gl2d")?t[p[0]]===o&&t[p[1]]===a&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(U,N,e){var d=e(62644),P=e(97264),n=e(29128),C=e(33816),x=e(89184);U.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,o=r.glplot,a=new v(t,o);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function f(){for(var y=r.graphDiv._fullLayout._axisConstraintGroups,c=r.xaxis._id,T=r.yaxis._id,h=0;h<y.length;h++)if(y[h][c]!==-1){if(y[h][T]!==-1)return!0;break}return!1}a.mouseListener=d(t,l),t.addEventListener("touchstart",function(y){var c=n(y.changedTouches[0],t);l(0,c[0],c[1]),l(1,c[0],c[1]),y.preventDefault()},x?{passive:!1}:!1),t.addEventListener("touchmove",function(y){y.preventDefault();var c=n(y.changedTouches[0],t);l(1,c[0],c[1]),y.preventDefault()},x?{passive:!1}:!1),t.addEventListener("touchend",function(y){l(0,a.lastPos[0],a.lastPos[1]),y.preventDefault()},x?{passive:!1}:!1);function l(y,c,T){var h=r.calcDataBox(),i=o.viewBox,g=a.lastPos[0],b=a.lastPos[1],A=C.MINDRAG*o.pixelRatio,R=C.MINZOOM*o.pixelRatio,m,L;c*=o.pixelRatio,T*=o.pixelRatio,T=i[3]-i[1]-T;function M(H,O,V){var B=Math.min(O,V),F=Math.max(O,V);B!==F?(h[H]=B,h[H+2]=F,a.dataBox=h,r.setRanges(h)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(y){var s=c/(i[2]-i[0])*(h[2]-h[0])+h[0],S=T/(i[3]-i[1])*(h[3]-h[1])+h[1];a.boxInited||(a.boxStart[0]=s,a.boxStart[1]=S,a.dragStart[0]=c,a.dragStart[1]=T),a.boxEnd[0]=s,a.boxEnd[1]=S,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var w=Math.abs(a.dragStart[0]-c)<R,_=Math.abs(a.dragStart[1]-T)<R;if(f()&&!(w&&_)){m=a.boxEnd[0]-a.boxStart[0],L=a.boxEnd[1]-a.boxStart[1];var I=(h[3]-h[1])/(h[2]-h[0]);Math.abs(m*I)>Math.abs(L)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(m)*I*(L>=0?1:-1),a.boxEnd[1]<h[1]?(a.boxEnd[1]=h[1],a.boxEnd[0]=a.boxStart[0]+(h[1]-a.boxStart[1])/Math.abs(I)):a.boxEnd[1]>h[3]&&(a.boxEnd[1]=h[3],a.boxEnd[0]=a.boxStart[0]+(h[3]-a.boxStart[1])/Math.abs(I))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(L)/I*(m>=0?1:-1),a.boxEnd[0]<h[0]?(a.boxEnd[0]=h[0],a.boxEnd[1]=a.boxStart[1]+(h[0]-a.boxStart[0])*Math.abs(I)):a.boxEnd[0]>h[2]&&(a.boxEnd[0]=h[2],a.boxEnd[1]=a.boxStart[1]+(h[2]-a.boxStart[0])*Math.abs(I)))}else w&&(a.boxEnd[0]=a.boxStart[0]),_&&(a.boxEnd[1]=a.boxStart[1])}else a.boxEnabled?(m=a.boxStart[0]!==a.boxEnd[0],L=a.boxStart[1]!==a.boxEnd[1],m||L?(m&&(M(0,a.boxStart[0],a.boxEnd[0]),r.xaxis.autorange=!1),L&&(M(1,a.boxStart[1],a.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,y?(a.panning||(a.dragStart[0]=c,a.dragStart[1]=T),Math.abs(a.dragStart[0]-c)<A&&(c=a.dragStart[0]),Math.abs(a.dragStart[1]-T)<A&&(T=a.dragStart[1]),m=(g-c)*(h[2]-h[0])/(o.viewBox[2]-o.viewBox[0]),L=(b-T)*(h[3]-h[1])/(o.viewBox[3]-o.viewBox[1]),h[0]+=m,h[2]+=m,h[1]+=L,h[3]+=L,r.setRanges(h),a.panning=!0,a.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):a.panning&&(a.panning=!1,r.relayoutCallback());break}a.lastPos[0]=c,a.lastPos[1]=T}return a.wheelListener=P(t,function(y,c){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),h=o.viewBox,i=a.lastPos[0],g=a.lastPos[1],b=Math.exp(5*c/(h[3]-h[1])),A=i/(h[2]-h[0])*(T[2]-T[0])+T[0],R=g/(h[3]-h[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-A)*b+A,T[2]=(T[2]-A)*b+A,T[1]=(T[1]-R)*b+R,T[3]=(T[3]-R)*b+R,r.setRanges(T),a.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),a}},92568:function(U,N,e){var d=e(54460),P=e(43080);function n(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=n.prototype,x=["xaxis","yaxis"];C.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,o,a,u,f,l,y,c,T,h;for(T=0;T<2;++T){r=x[T];var i=r.charAt(0);for(t=p[this.scene[r]._name],o=t.title.text===this.scene.fullLayout._dfltTitle[i]?"":t.title.text,h=0;h<=2;h+=2)this.labelEnable[T+h]=!1,this.labels[T+h]=o,this.labelColor[T+h]=P(t.title.font.color),this.labelFont[T+h]=t.title.font.family,this.labelSize[T+h]=t.title.font.size,this.labelPad[T+h]=this.getLabelPad(r,t),this.tickEnable[T+h]=!1,this.tickColor[T+h]=P((t.tickfont||{}).color),this.tickAngle[T+h]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+h]=this.getTickPad(t),this.tickMarkLength[T+h]=0,this.tickMarkWidth[T+h]=t.tickwidth||0,this.tickMarkColor[T+h]=P(t.tickcolor),this.borderLineEnable[T+h]=!1,this.borderLineColor[T+h]=P(t.linecolor),this.borderLineWidth[T+h]=t.linewidth||0;l=this.hasSharedAxis(t),u=this.hasAxisInDfltPos(r,t)&&!l,f=this.hasAxisInAltrPos(r,t)&&!l,a=t.mirror||!1,y=l?String(a).indexOf("all")!==-1:!!a,c=l?a==="allticks":String(a).indexOf("ticks")!==-1,u?this.labelEnable[T]=!0:f&&(this.labelEnable[T+2]=!0),u?this.tickEnable[T]=t.showticklabels:f&&(this.tickEnable[T+2]=t.showticklabels),(u||y)&&(this.borderLineEnable[T]=t.showline),(f||y)&&(this.borderLineEnable[T+2]=t.showline),(u||c)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(f||c)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},C.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,o=d.findSubplotsWithAxis(t,p);return o.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},C.getLabelPad=function(p,r){var t=1.5,o=r.title.font.size,a=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+o*(t+(a?1:0)):-10+o*(t+(a?.5:0));if(p==="yaxis")return r.side==="right"?10+o*(t+(a?1:.5)):10+o*(t+(a?.5:0))},C.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},C.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new n(p)}U.exports=v},39952:function(U,N,e){var d=e(67824).overrideAll,P=e(17188),n=e(64859),C=e(9616),x=e(33816),v=e(57952),p=e(65460),r=e(84888).op;N.name="gl2d",N.attr=["xaxis","yaxis"],N.idRoot=["x","y"],N.idRegex=x.idRegex,N.attrRegex=x.attrRegex,N.attributes=e(26720),N.supplyLayoutDefaults=function(t,o,a){o._has("cartesian")||v.supplyLayoutDefaults(t,o,a)},N.layoutAttrOverrides=d(v.layoutAttributes,"plot","from-root"),N.baseLayoutAttrOverrides=d({plot_bgcolor:n.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),N.plot=function(o){for(var a=o._fullLayout,u=o._fullData,f=a._subplots.gl2d,l=0;l<f.length;l++){var y=f[l],c=a._plots[y],T=r(u,"gl2d",y),h=c._scene2d;h===void 0&&(h=new P({id:y,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},a),c._scene2d=h),h.plot(T,o.calcdata,a,o.layout)}},N.clean=function(t,o,a,u){for(var f=u._subplots.gl2d||[],l=0;l<f.length;l++){var y=f[l],c=u._plots[y];if(c._scene2d){var T=r(t,"gl2d",y);T.length===0&&(c._scene2d.destroy(),delete u._plots[y])}}v.clean.apply(this,arguments)},N.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},N.toSVG=function(t){for(var o=t._fullLayout,a=o._subplots.gl2d,u=0;u<a.length;u++){var f=o._plots[a[u]],l=f._scene2d,y=l.toImage("png"),c=o._glimages.append("svg:image");c.attr({xmlns:C.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},N.updateFx=function(t){for(var o=t._fullLayout,a=o._subplots.gl2d,u=0;u<a.length;u++){var f=o._plots[a[u]]._scene2d;f.updateFx(o.dragmode)}}},17188:function(U,N,e){var d=e(24040),P=e(54460),n=e(93024),C=e(67792).gl_plot2d,x=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),o=e(16576),a=e(71888),u=a.enforce,f=a.clean,l=e(19280).doAutoRange,y=e(72760),c=y.drawMode,T=y.selectMode,h=["xaxis","yaxis"],i,g,b=e(33816).SUBPLOT_PATTERN;function A(L,M){this.container=L.container,this.graphDiv=L.graphDiv,this.pixelRatio=L.plotGlPixelRatio||window.devicePixelRatio,this.id=L.id,this.staticPlot=!!L.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(M),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(M),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=x(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}U.exports=A;var R=A.prototype;R.makeFramework=function(){if(this.staticPlot){if(!g&&(i=document.createElement("canvas"),g=p({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!g))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=g}else{var L=this.container.querySelector(".gl-canvas-focus"),M=p({canvas:L,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!M){o(this),this.stopped=!0;return}this.canvas=L,this.gl=M}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var S=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");S.style.position="absolute",S.style.top=S.style.left="0px",S.style.width=S.style.height="100%",S.style["z-index"]=20,S.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var _=this.container;_.appendChild(S),_.appendChild(w);var I=this;w.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),w.addEventListener("mouseover",function(){I.isMouseOver=!0})},R.toImage=function(L){L||(L="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var M=this.glplot.gl,s=M.drawingBufferWidth,S=M.drawingBufferHeight;M.clearColor(1,1,1,0),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),M.bindFramebuffer(M.FRAMEBUFFER,null);var w=new Uint8Array(s*S*4);M.readPixels(0,0,s,S,M.RGBA,M.UNSIGNED_BYTE,w);for(var _=0,I=S-1;_<I;++_,--I)for(var H=0;H<s;++H)for(var O=0;O<4;++O){var V=w[4*(s*_+H)+O];w[4*(s*_+H)+O]=w[4*(s*I+H)+O],w[4*(s*I+H)+O]=V}var B=document.createElement("canvas");B.width=s,B.height=S;var F=B.getContext("2d",{willReadFrequently:!0}),G=F.createImageData(s,S);G.data.set(w),F.putImageData(G,0,0);var Y;switch(L){case"jpeg":Y=B.toDataURL("image/jpeg");break;case"webp":Y=B.toDataURL("image/webp");break;default:Y=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),Y},R.updateSize=function(L){L||(L=this.canvas);var M=this.pixelRatio,s=this.fullLayout,S=s.width,w=s.height,_=Math.ceil(M*S)|0,I=Math.ceil(M*w)|0;return(L.width!==_||L.height!==I)&&(L.width=_,L.height=I),L},R.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var L=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],M=0;M<2;++M)for(var s=0;s<L[M].length;++s)L[M][s].text=L[M][s].text+"";return L};function m(L,M){for(var s=0;s<2;++s){var S=L[s],w=M[s];if(S.length!==w.length)return!0;for(var _=0;_<S.length;++_)if(S[_].x!==w[_].x)return!0}return!1}R.updateRefs=function(L){this.fullLayout=L;var M=this.id.match(b),s="xaxis"+M[1],S="yaxis"+M[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[S]},R.relayoutCallback=function(){var L=this.graphDiv,M=this.xaxis,s=this.yaxis,S=L.layout,w={},_=w[M._name+".range"]=M.range.slice(),I=w[s._name+".range"]=s.range.slice();w[M._name+".autorange"]=M.autorange,w[s._name+".autorange"]=s.autorange,d.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,w);var H=S[M._name];H.range=_,H.autorange=M.autorange;var O=S[s._name];O.range=I,O.autorange=s.autorange,w.lastInputTime=this.camera.lastInputTime,L.emit("plotly_relayout",w)},R.cameraChanged=function(){var L=this.camera;this.glplot.setDataBox(this.calcDataBox());var M=this.computeTickMarks(),s=this.glplotOptions.ticks;m(M,s)&&(this.glplotOptions.ticks=M,this.glplotOptions.dataBox=L.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},R.handleAnnotations=function(){for(var L=this.graphDiv,M=this.fullLayout.annotations,s=0;s<M.length;s++){var S=M[s];S.xref===this.xaxis._id&&S.yref===this.yaxis._id&&d.getComponentMethod("annotations","drawOne")(L,s)}},R.destroy=function(){if(this.glplot){var L=this.traces;L&&Object.keys(L).map(function(M){L[M].dispose(),delete L[M]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},R.plot=function(L,M,s){var S=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(L,M),this.updateFx(s.dragmode);var w=s.width,_=s.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(s),I.screenBox=[0,0,w,_];var H={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};f(H,this.xaxis),f(H,this.yaxis);var O=s._size,V=this.xaxis.domain,B=this.yaxis.domain;I.viewBox=[O.l+V[0]*O.w,O.b+B[0]*O.h,w-O.r-(1-V[1])*O.w,_-O.t-(1-B[1])*O.h],this.mouseContainer.style.width=O.w*(V[1]-V[0])+"px",this.mouseContainer.style.height=O.h*(B[1]-B[0])+"px",this.mouseContainer.height=O.h*(B[1]-B[0]),this.mouseContainer.style.left=O.l+V[0]*O.w+"px",this.mouseContainer.style.top=O.t+(1-B[1])*O.h+"px";var F,G;for(G=0;G<2;++G)F=this[h[G]],F._length=I.viewBox[G+2]-I.viewBox[G],l(this.graphDiv,F),F.setScale();u(H),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(s),S.update(I),this.glplot.draw()},R.calcDataBox=function(){var L=this.xaxis,M=this.yaxis,s=L.range,S=M.range,w=L.r2l,_=M.r2l;return[w(s[0]),_(S[0]),w(s[1]),_(S[1])]},R.setRanges=function(L){var M=this.xaxis,s=this.yaxis,S=M.l2r,w=s.l2r;M.range=[S(L[0]),S(L[2])],s.range=[w(L[1]),w(L[3])]},R.updateTraces=function(L,M){var s=Object.keys(this.traces),S,w,_;this.fullData=L;e:for(S=0;S<s.length;S++){var I=s[S],H=this.traces[I];for(w=0;w<L.length;w++)if(_=L[w],_.uid===I&&_.type===H.type)continue e;H.dispose(),delete this.traces[I]}for(S=0;S<L.length;S++){_=L[S];var O=M[S],V=this.traces[_.uid];V?V.update(_,O):(V=_._module.plot(this,_,O),this.traces[_.uid]=V)}this.glplot.objects.sort(function(B,F){return B._trace.index-F._trace.index})},R.updateFx=function(L){T(L)||c(L)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),L==="pan"?this.mouseContainer.style.cursor="move":L==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},R.emitPointAction=function(L,M){for(var s=L.trace.uid,S=L.pointIndex,w,_=0;_<this.fullData.length;_++)this.fullData[_].uid===s&&(w=this.fullData[_]);var I={x:L.traceCoord[0],y:L.traceCoord[1],curveNumber:w.index,pointNumber:S,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(I,w,S),this.graphDiv.emit(M,{points:[I]})},R.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var L=this.glplot,M=this.camera,s=M.mouseListener,S=this.lastButtonState===1&&s.buttons===0,w=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var _=s.x*L.pixelRatio,I=this.canvas.height-L.pixelRatio*s.y,H;if(M.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var O=this.selectBox.selectBox=[Math.min(M.boxStart[0],M.boxEnd[0]),Math.min(M.boxStart[1],M.boxEnd[1]),Math.max(M.boxStart[0],M.boxEnd[0]),Math.max(M.boxStart[1],M.boxEnd[1])],V=0;V<2;V++)M.boxStart[V]===M.boxEnd[V]&&(O[V]=L.dataBox[V],O[V+2]=L.dataBox[V+2]);L.setDirty()}else if(!M.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=w._size,F=this.xaxis.domain,G=this.yaxis.domain;H=L.pick(_/L.pixelRatio+B.l+F[0]*B.w,I/L.pixelRatio-(B.t+(1-G[1])*B.h));var Y=H&&H.object._trace.handlePick(H);if(Y&&S&&this.emitPointAction(Y,"plotly_click"),H&&H.object._trace.hoverinfo!=="skip"&&w.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var Q=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:H.dataCoord}),Q.screenCoord=[((L.viewBox[2]-L.viewBox[0])*(H.dataCoord[0]-L.dataBox[0])/(L.dataBox[2]-L.dataBox[0])+L.viewBox[0])/L.pixelRatio,(this.canvas.height-(L.viewBox[3]-L.viewBox[1])*(H.dataCoord[1]-L.dataBox[1])/(L.dataBox[3]-L.dataBox[1])-L.viewBox[1])/L.pixelRatio],this.emitPointAction(Y,"plotly_hover");var te=this.fullData[Q.trace.index]||{},ae=Q.pointIndex,fe=n.castHoverinfo(te,w,ae);if(fe&&fe!=="all"){var oe=fe.split("+");oe.indexOf("x")===-1&&(Q.traceCoord[0]=void 0),oe.indexOf("y")===-1&&(Q.traceCoord[1]=void 0),oe.indexOf("z")===-1&&(Q.traceCoord[2]=void 0),oe.indexOf("text")===-1&&(Q.textLabel=void 0),oe.indexOf("name")===-1&&(Q.name=void 0)}n.loneHover({x:Q.screenCoord[0],y:Q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Q.traceCoord[1]),zLabel:Q.traceCoord[2],text:Q.textLabel,name:Q.name,color:n.castHoverOption(te,ae,"bgcolor")||Q.color,borderColor:n.castHoverOption(te,ae,"bordercolor"),fontFamily:n.castHoverOption(te,ae,"font.family"),fontSize:n.castHoverOption(te,ae,"font.size"),fontColor:n.castHoverOption(te,ae,"font.color"),nameLength:n.castHoverOption(te,ae,"namelength"),textAlign:n.castHoverOption(te,ae,"align")},{container:this.svgContainer,gd:this.graphDiv})}}H||this.unhover(),L.draw()}},R.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},R.hoverFormatter=function(L,M){if(M!==void 0){var s=this[L];return P.tickText(s,s.c2l(M),"hover").text}}},12536:function(U,N,e){var d=e(67824).overrideAll,P=e(65460),n=e(98432),C=e(84888).op,x=e(3400),v=e(9616),p="gl3d",r="scene";N.name=p,N.attr=r,N.idRoot=r,N.idRegex=N.attrRegex=x.counterRegex("scene"),N.attributes=e(6636),N.layoutAttributes=e(346),N.baseLayoutAttrOverrides=d({hoverlabel:P.hoverlabel},"plot","nested"),N.supplyLayoutDefaults=e(5208),N.plot=function(o){for(var a=o._fullLayout,u=o._fullData,f=a._subplots[p],l=0;l<f.length;l++){var y=f[l],c=C(u,p,y),T=a[y],h=T.camera,i=T._scene;i||(i=new n({id:y,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:h},a),T._scene=i),i.viewInitial||(i.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),i.plot(c,a,o.layout)}},N.clean=function(t,o,a,u){for(var f=u._subplots[p]||[],l=0;l<f.length;l++){var y=f[l];!o[y]&&u[y]._scene&&(u[y]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+y).remove())}},N.toSVG=function(t){for(var o=t._fullLayout,a=o._subplots[p],u=o._size,f=0;f<a.length;f++){var l=o[a[f]],y=l.domain,c=l._scene,T=c.toImage("png"),h=o._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":T,x:u.l+u.w*y.x[0],y:u.t+u.h*(1-y.y[1]),width:u.w*(y.x[1]-y.x[0]),height:u.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),c.destroy()}},N.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var a=o.substr(5);return a==="1"&&(a=""),r+a}},N.updateFx=function(t){for(var o=t._fullLayout,a=o._subplots[p],u=0;u<a.length;u++){var f=o[a[u]]._scene;f.updateFx(o.dragmode,o.hovermode)}}},6636:function(U){U.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(U,N,e){var d=e(76308),P=e(94724),n=e(92880).extendFlat,C=e(67824).overrideAll;U.exports=C({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:d.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:n({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:n({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:n({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(U,N,e){var d=e(49760).mix,P=e(3400),n=e(31780),C=e(86140),x=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*136/187;U.exports=function(o,a,u){var f,l;function y(h,i){return P.coerce(f,l,C,h,i)}for(var c=0;c<p.length;c++){var T=p[c];f=o[T]||{},l=n.newContainer(a,T),l._id=T[0]+u.scene,l._name=T,x(f,l,y,u),v(f,l,y,{font:u.font,letter:T[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),y("gridcolor",d(l.color,u.bgColor,r).toRgbString()),y("title.text",T[0]),l.setScale=P.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",l.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},44728:function(U,N,e){var d=e(43080),P=e(3400),n=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var x=C.prototype;x.merge=function(p,r){for(var t=this,o=0;o<3;++o){var a=r[n[o]];if(!a.visible){t.tickEnable[o]=!1,t.labelEnable[o]=!1,t.lineEnable[o]=!1,t.lineTickEnable[o]=!1,t.gridEnable[o]=!1,t.zeroEnable[o]=!1,t.backgroundEnable[o]=!1;continue}t.labels[o]=p._meta?P.templateString(a.title.text,p._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[o]=d(a.title.font.color)),a.title.font.family&&(t.labelFont[o]=a.title.font.family),a.title.font.size&&(t.labelSize[o]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[o]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[o]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[o]=a.title.font.variant)),"showline"in a&&(t.lineEnable[o]=a.showline),"linecolor"in a&&(t.lineColor[o]=d(a.linecolor)),"linewidth"in a&&(t.lineWidth[o]=a.linewidth),"showgrid"in a&&(t.gridEnable[o]=a.showgrid),"gridcolor"in a&&(t.gridColor[o]=d(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[o]=a.gridwidth),a.type==="log"?t.zeroEnable[o]=!1:"zeroline"in a&&(t.zeroEnable[o]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[o]=d(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[o]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[o]=!0:t.lineTickEnable[o]=!1,"ticklen"in a&&(t.lineTickLength[o]=t._defaultLineTickLength[o]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[o]=d(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[o]=a.tickwidth),"tickangle"in a&&(t.tickAngle[o]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[o]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[o]=d(a.tickfont.color)),a.tickfont.family&&(t.tickFont[o]=a.tickfont.family),a.tickfont.size&&(t.tickSize[o]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[o]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[o]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[o]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[o]=!0,t.lineMirror[o]=!0):a.mirror===!0?(t.lineTickMirror[o]=!1,t.lineMirror[o]=!0):(t.lineTickMirror[o]=!1,t.lineMirror[o]=!1):t.lineMirror[o]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[o]=!0,t.backgroundColor[o]=d(a.backgroundcolor)):t.backgroundEnable[o]=!1}};function v(p,r){var t=new C;return t.merge(p,r),t}U.exports=v},5208:function(U,N,e){var d=e(3400),P=e(76308),n=e(24040),C=e(168),x=e(64380),v=e(346),p=e(84888).op,r="gl3d";U.exports=function(a,u,f){var l=u._basePlotModules.length>1;function y(c){if(!l){var T=d.validate(a[c],v[c]);if(T)return a[c]}}C(a,u,f,{type:r,attributes:v,handleDefaults:t,fullLayout:u,font:u.font,fullData:f,getDfltFromLayout:y,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function t(o,a,u,f){for(var l=u("bgcolor"),y=P.combine(l,f.paper_bgcolor),c=["up","center","eye"],T=0;T<c.length;T++)u("camera."+c[T]+".x"),u("camera."+c[T]+".y"),u("camera."+c[T]+".z");u("camera.projection.type");var h=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),i=h?"manual":"auto",g=u("aspectmode",i);h||(o.aspectratio=a.aspectratio={x:1,y:1,z:1},g==="manual"&&(a.aspectmode="auto"),o.aspectmode=a.aspectmode);var b=p(f.fullData,r,f.id);x(o,a,{font:f.font,scene:f.id,data:b,bgColor:y,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(o,a,f);var A=f.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",o.camera&&o.camera.up){var R=o.camera.up.x,m=o.camera.up.y,L=o.camera.up.z;L!==0&&(!R||!m||!L||L/Math.sqrt(R*R+m*m+L*L)>.999)&&(A="turntable")}else A="turntable";u("dragmode",A),u("hovermode",f.getDfltFromLayout("hovermode"))}},346:function(U,N,e){var d=e(86140),P=e(86968).u,n=e(92880).extendFlat,C=e(3400).counterRegex;function x(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}U.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(x(0,0,1),{}),center:n(x(0,0,0),{}),eye:n(x(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:d,yaxis:d,zaxis:d,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(U,N,e){var d=e(43080),P=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=n.prototype;C.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=d(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function x(v){var p=new n;return p.merge(v),p}U.exports=x},87152:function(U,N,e){U.exports=x;var d=e(54460),P=e(3400),n=["xaxis","yaxis","zaxis"];function C(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],o=new Array(t.length),a=0;a<t.length;++a)o[a]=t[a].x;p[r]=o}return p}function x(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,o=[[],[],[]],a=0;a<3;++a){var u=t[n[a]];if(u._length=(r[a].hi-r[a].lo)*r[a].pixelsPerDataUnit/v.dataScale[a],Math.abs(u._length)===1/0||isNaN(u._length))o[a]=[];else{u._input_range=u.range.slice(),u.range[0]=r[a].lo/v.dataScale[a],u.range[1]=r[a].hi/v.dataScale[a],u._m=1/(v.dataScale[a]*r[a].pixelsPerDataUnit),u.range[0]===u.range[1]&&(u.range[0]-=1,u.range[1]+=1);var f=u.tickmode;if(u.tickmode==="auto"){u.tickmode="linear";var l=u.nticks||P.constrain(u._length/40,4,9);d.autoTicks(u,Math.abs(u.range[1]-u.range[0])/l)}for(var y=d.calcTicks(u,{msUTC:!0}),c=0;c<y.length;++c)y[c].x=y[c].x*v.dataScale[a],u.type==="date"&&(y[c].text=y[c].text.replace(/\<br\>/g," "));o[a]=y,u.tickmode=f}}p.ticks=o;for(var a=0;a<3;++a){.5*(v.glplot.bounds[0][a]+v.glplot.bounds[1][a]);for(var c=0;c<2;++c)p.bounds[c][a]=v.glplot.bounds[c][a]}v.contourLevels=C(o)}},94424:function(U){function N(d,P){var n=[0,0,0,0],C,x;for(C=0;C<4;++C)for(x=0;x<4;++x)n[x]+=d[4*C+x]*P[C];return n}function e(d,P){var n=N(d.projection,N(d.view,N(d.model,[P[0],P[1],P[2],1])));return n}U.exports=e},98432:function(U,N,e){var d=e(67792).gl_plot3d,P=d.createCamera,n=d.createScene,C=e(5408),x=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),o=e(93024),a=e(43080),u=e(16576),f=e(94424),l=e(44728),y=e(9020),c=e(87152),T=e(19280).applyAutorangeOptions,h,i,g=!1;function b(I,H){var O=document.createElement("div"),V=I.container;this.graphDiv=I.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",O.appendChild(B),this.svgContainer=B,O.id=I.id,O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",V.appendChild(O),this.fullLayout=H,this.id=I.id||"scene",this.fullSceneLayout=H[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(H,H[this.id]),this.spikeOptions=y(H[this.id]),this.container=O,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=b.prototype;A.prepareOptions=function(){var I=this,H={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!i&&(h=document.createElement("canvas"),i=C({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");H.gl=i,H.canvas=h}return H};var R=!0;A.tryCreatePlot=function(){var I=this,H=I.prepareOptions(),O=!0;try{I.glplot=n(H)}catch{if(I.staticMode||!R||r)O=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=H.glOptions.preserveDrawingBuffer=!0,I.glplot=n(H)}catch{r=H.glOptions.preserveDrawingBuffer=!1,O=!1}}}return R=!1,O},A.initializeGLCamera=function(){var I=this,H=I.fullSceneLayout.camera,O=H.projection.type==="orthographic";I.camera=P(I.container,{center:[H.center.x,H.center.y,H.center.z],eye:[H.eye.x,H.eye.y,H.eye.z],up:[H.up.x,H.up.y,H.up.z],_ortho:O,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var H=I.tryCreatePlot();if(!H)return u(I);I.traces={},I.make4thDimension();var O=I.graphDiv,V=O.layout,B=function(){var G={};return I.isCameraChanged(V)&&(G[I.id+".camera"]=I.getCamera()),I.isAspectChanged(V)&&(G[I.id+".aspectratio"]=I.glplot.getAspectratio(),V[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=V[I.id].aspectmode=G[I.id+".aspectmode"]="manual")),G},F=function(G){if(G.fullSceneLayout.dragmode!==!1){var Y=B();G.saveLayout(V),G.graphDiv.emit("plotly_relayout",Y)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){F(I)}),I.glplot.canvas.addEventListener("touchstart",function(){g=!0}),I.glplot.canvas.addEventListener("wheel",function(G){if(O._context._scrollZoom.gl3d){if(I.camera._ortho){var Y=G.deltaX>G.deltaY?1.1:.9090909090909091,Q=I.glplot.getAspectratio();I.glplot.setAspectratio({x:Y*Q.x,y:Y*Q.y,z:Y*Q.z})}F(I)}},x?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var G=B();I.graphDiv.emit("plotly_relayouting",G)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(G){O&&O.emit&&O.emit("plotly_webglcontextlost",{event:G,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},A.render=function(){var I=this,H=I.graphDiv,O,V=I.svgContainer,B=I.container.getBoundingClientRect();H._fullLayout._calcInverseTransform(H);var F=H._fullLayout._invScaleX,G=H._fullLayout._invScaleY,Y=B.width*F,Q=B.height*G;V.setAttributeNS(null,"viewBox","0 0 "+Y+" "+Q),V.setAttributeNS(null,"width",Y),V.setAttributeNS(null,"height",Q),c(I),I.glplot.axes.update(I.axesOptions);for(var te=Object.keys(I.traces),ae=null,fe=I.glplot.selection,oe=0;oe<te.length;++oe)O=I.traces[te[oe]],O.data.hoverinfo!=="skip"&&O.handlePick(fe)&&(ae=O),O.setContourLevels&&O.setContourLevels();function J(Le,Ie,ze){var Me=I.fullSceneLayout[Le+"axis"];return Me.type!=="log"&&(Ie=Me.d2l(Ie)),t.hoverLabelText(Me,Ie,ze)}if(ae!==null){var ee=f(I.glplot.cameraParams,fe.dataCoordinate);O=ae.data;var X=H._fullData[O.index],q=fe.index,le={xLabel:J("x",fe.traceCoordinate[0],O.xhoverformat),yLabel:J("y",fe.traceCoordinate[1],O.yhoverformat),zLabel:J("z",fe.traceCoordinate[2],O.zhoverformat)},$=o.castHoverinfo(X,I.fullLayout,q),j=($||"").split("+"),se=$&&$==="all";!X.hovertemplate&&!se&&(j.indexOf("x")===-1&&(le.xLabel=void 0),j.indexOf("y")===-1&&(le.yLabel=void 0),j.indexOf("z")===-1&&(le.zLabel=void 0),j.indexOf("text")===-1&&(fe.textLabel=void 0),j.indexOf("name")===-1&&(ae.name=void 0));var ne,he=[];O.type==="cone"||O.type==="streamtube"?(le.uLabel=J("x",fe.traceCoordinate[3],O.uhoverformat),(se||j.indexOf("u")!==-1)&&he.push("u: "+le.uLabel),le.vLabel=J("y",fe.traceCoordinate[4],O.vhoverformat),(se||j.indexOf("v")!==-1)&&he.push("v: "+le.vLabel),le.wLabel=J("z",fe.traceCoordinate[5],O.whoverformat),(se||j.indexOf("w")!==-1)&&he.push("w: "+le.wLabel),le.normLabel=fe.traceCoordinate[6].toPrecision(3),(se||j.indexOf("norm")!==-1)&&he.push("norm: "+le.normLabel),O.type==="streamtube"&&(le.divergenceLabel=fe.traceCoordinate[7].toPrecision(3),(se||j.indexOf("divergence")!==-1)&&he.push("divergence: "+le.divergenceLabel)),fe.textLabel&&he.push(fe.textLabel),ne=he.join("<br>")):O.type==="isosurface"||O.type==="volume"?(le.valueLabel=t.hoverLabelText(I._mockAxis,I._mockAxis.d2l(fe.traceCoordinate[3]),O.valuehoverformat),he.push("value: "+le.valueLabel),fe.textLabel&&he.push(fe.textLabel),ne=he.join("<br>")):ne=fe.textLabel;var me={x:fe.traceCoordinate[0],y:fe.traceCoordinate[1],z:fe.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:q};o.appendArrayPointValue(me,X,q),O._module.eventData&&(me=X._module.eventData(me,fe,X,{},q));var we={points:[me]};if(I.fullSceneLayout.hovermode){var Te=[];o.loneHover({trace:X,x:(.5+.5*ee[0]/ee[3])*Y,y:(.5-.5*ee[1]/ee[3])*Q,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:ne,name:ae.name,color:o.castHoverOption(X,q,"bgcolor")||ae.color,borderColor:o.castHoverOption(X,q,"bordercolor"),fontFamily:o.castHoverOption(X,q,"font.family"),fontSize:o.castHoverOption(X,q,"font.size"),fontColor:o.castHoverOption(X,q,"font.color"),nameLength:o.castHoverOption(X,q,"namelength"),textAlign:o.castHoverOption(X,q,"align"),hovertemplate:p.castOption(X,q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},me,le),eventData:[me]},{container:V,gd:H,inOut_bbox:Te}),me.bbox=Te[0]}fe.distance<5&&(fe.buttons||g)?H.emit("plotly_click",we):H.emit("plotly_hover",we),this.oldEventData=we}else o.loneUnhover(V),this.oldEventData&&H.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},A.recoverContext=function(){var I=this;I.glplot.dispose();var H=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(H);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(H)};var m=["xaxis","yaxis","zaxis"];function L(I,H,O){for(var V=I.fullSceneLayout,B=0;B<3;B++){var F=m[B],G=F.charAt(0),Y=V[F],Q=H[G],te=H[G+"calendar"],ae=H["_"+G+"length"];if(!p.isArrayOrTypedArray(Q))O[0][B]=Math.min(O[0][B],0),O[1][B]=Math.max(O[1][B],ae-1);else for(var fe,oe=0;oe<(ae||Q.length);oe++)if(p.isArrayOrTypedArray(Q[oe]))for(var J=0;J<Q[oe].length;++J)fe=Y.d2l(Q[oe][J],0,te),!isNaN(fe)&&isFinite(fe)&&(O[0][B]=Math.min(O[0][B],fe),O[1][B]=Math.max(O[1][B],fe));else fe=Y.d2l(Q[oe],0,te),!isNaN(fe)&&isFinite(fe)&&(O[0][B]=Math.min(O[0][B],fe),O[1][B]=Math.max(O[1][B],fe))}}function M(I,H){for(var O=I.fullSceneLayout,V=O.annotations||[],B=0;B<3;B++)for(var F=m[B],G=F.charAt(0),Y=O[F],Q=0;Q<V.length;Q++){var te=V[Q];if(te.visible){var ae=Y.r2l(te[G]);!isNaN(ae)&&isFinite(ae)&&(H[0][B]=Math.min(H[0][B],ae),H[1][B]=Math.max(H[1][B],ae))}}}A.plot=function(I,H,O){var V=this;if(V.plotArgs=[I,H,O],!V.glplot.contextLost){var B,F,G,Y,Q,te,ae=H[V.id],fe=O[V.id];V.fullLayout=H,V.fullSceneLayout=ae,V.axesOptions.merge(H,ae),V.spikeOptions.merge(ae),V.setViewport(ae),V.updateFx(ae.dragmode,ae.hovermode),V.camera.enableWheel=V.graphDiv._context._scrollZoom.gl3d,V.glplot.setClearColor(a(ae.bgcolor)),V.setConvert(Q),I?Array.isArray(I)||(I=[I]):I=[];var oe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(G=0;G<I.length;++G)B=I[G],!(B.visible!==!0||B._length===0)&&L(this,B,oe);M(this,oe);var J=[1,1,1];for(Y=0;Y<3;++Y)oe[1][Y]===oe[0][Y]?J[Y]=1:J[Y]=1/(oe[1][Y]-oe[0][Y]);for(V.dataScale=J,V.convertAnnotations(this),G=0;G<I.length;++G)B=I[G],!(B.visible!==!0||B._length===0)&&(F=V.traces[B.uid],F?F.data.type===B.type?F.update(B):(F.dispose(),F=B._module.plot(this,B),V.traces[B.uid]=F):(F=B._module.plot(this,B),V.traces[B.uid]=F),F.name=B.name);var ee=Object.keys(V.traces);e:for(G=0;G<ee.length;++G){for(Y=0;Y<I.length;++Y)if(I[Y].uid===ee[G]&&I[Y].visible===!0&&I[Y]._length!==0)continue e;F=V.traces[ee[G]],F.dispose(),delete V.traces[ee[G]]}V.glplot.objects.sort(function(it,Je){return it._trace.data.index-Je._trace.data.index});var X=[[0,0,0],[0,0,0]],q={};for(G=0;G<3;++G){Q=ae[m[G]],te=Q.type,te in q?(q[te].acc*=J[G],q[te].count+=1):q[te]={acc:J[G],count:1};var le;if(Q.autorange){X[0][G]=1/0,X[1][G]=-1/0;var $=V.glplot.objects,j=V.fullSceneLayout.annotations||[],se=Q._name.charAt(0);for(Y=0;Y<$.length;Y++){var ne=$[Y],he=ne.bounds,me=ne._trace.data._pad||0;ne.constructor.name==="ErrorBars"&&Q._lowerLogErrorBound?X[0][G]=Math.min(X[0][G],Q._lowerLogErrorBound):X[0][G]=Math.min(X[0][G],he[0][G]/J[G]-me),X[1][G]=Math.max(X[1][G],he[1][G]/J[G]+me)}for(Y=0;Y<j.length;Y++){var we=j[Y];if(we.visible){var Te=Q.r2l(we[se]);X[0][G]=Math.min(X[0][G],Te),X[1][G]=Math.max(X[1][G],Te)}}if("rangemode"in Q&&Q.rangemode==="tozero"&&(X[0][G]=Math.min(X[0][G],0),X[1][G]=Math.max(X[1][G],0)),X[0][G]>X[1][G])X[0][G]=-1,X[1][G]=1;else{var Le=X[1][G]-X[0][G];X[0][G]-=Le/32,X[1][G]+=Le/32}if(le=[X[0][G],X[1][G]],le=T(le,Q),X[0][G]=le[0],X[1][G]=le[1],Q.isReversed()){var Ie=X[0][G];X[0][G]=X[1][G],X[1][G]=Ie}}else le=Q.range,X[0][G]=Q.r2l(le[0]),X[1][G]=Q.r2l(le[1]);X[0][G]===X[1][G]&&(X[0][G]-=1,X[1][G]+=1),Q.range=[X[0][G],X[1][G]],Q.limitRange(),V.glplot.setBounds(G,{min:Q.range[0]*J[G],max:Q.range[1]*J[G]})}var ze,Me=ae.aspectmode;if(Me==="cube")ze=[1,1,1];else if(Me==="manual"){var _e=ae.aspectratio;ze=[_e.x,_e.y,_e.z]}else if(Me==="auto"||Me==="data"){var Ce=[1,1,1];for(G=0;G<3;++G){Q=ae[m[G]],te=Q.type;var Oe=q[te];Ce[G]=Math.pow(Oe.acc,1/Oe.count)/J[G]}Me==="data"||Math.max.apply(null,Ce)/Math.min.apply(null,Ce)<=4?ze=Ce:ze=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ae.aspectratio.x=fe.aspectratio.x=ze[0],ae.aspectratio.y=fe.aspectratio.y=ze[1],ae.aspectratio.z=fe.aspectratio.z=ze[2],V.glplot.setAspectratio(ae.aspectratio),V.viewInitial.aspectratio||(V.viewInitial.aspectratio={x:ae.aspectratio.x,y:ae.aspectratio.y,z:ae.aspectratio.z}),V.viewInitial.aspectmode||(V.viewInitial.aspectmode=ae.aspectmode);var Pe=ae.domain||null,Ge=H._size||null;if(Pe&&Ge){var Ze=V.container.style;Ze.position="absolute",Ze.left=Ge.l+Pe.x[0]*Ge.w+"px",Ze.top=Ge.t+(1-Pe.y[1])*Ge.h+"px",Ze.width=Ge.w*(Pe.x[1]-Pe.x[0])+"px",Ze.height=Ge.h*(Pe.y[1]-Pe.y[0])+"px"}V.glplot.redraw()}},A.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function s(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function S(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),S(I.camera)},A.setViewport=function(I){var H=this,O=I.camera;H.camera.lookAt.apply(this,s(O)),H.glplot.setAspectratio(I.aspectratio);var V=O.projection.type==="orthographic",B=H.camera._ortho;V!==B&&(H.glplot.redraw(),H.glplot.clearRGBA(),H.glplot.dispose(),H.initializeGLPlot())},A.isCameraChanged=function(I){var H=this,O=H.getCamera(),V=p.nestedProperty(I,H.id+".camera"),B=V.get();function F(te,ae,fe,oe){var J=["up","center","eye"],ee=["x","y","z"];return ae[J[fe]]&&te[J[fe]][ee[oe]]===ae[J[fe]][ee[oe]]}var G=!1;if(B===void 0)G=!0;else{for(var Y=0;Y<3;Y++)for(var Q=0;Q<3;Q++)if(!F(O,B,Y,Q)){G=!0;break}(!B.projection||O.projection&&O.projection.type!==B.projection.type)&&(G=!0)}return G},A.isAspectChanged=function(I){var H=this,O=H.glplot.getAspectratio(),V=p.nestedProperty(I,H.id+".aspectratio"),B=V.get();return B===void 0||B.x!==O.x||B.y!==O.y||B.z!==O.z},A.saveLayout=function(I){var H=this,O=H.fullLayout,V,B,F,G,Y,Q,te=H.isCameraChanged(I),ae=H.isAspectChanged(I),fe=te||ae;if(fe){var oe={};if(te&&(V=H.getCamera(),B=p.nestedProperty(I,H.id+".camera"),F=B.get(),oe[H.id+".camera"]=F),ae&&(G=H.glplot.getAspectratio(),Y=p.nestedProperty(I,H.id+".aspectratio"),Q=Y.get(),oe[H.id+".aspectratio"]=Q),v.call("_storeDirectGUIEdit",I,O._preGUI,oe),te){B.set(V);var J=p.nestedProperty(O,H.id+".camera");J.set(V)}if(ae){Y.set(G);var ee=p.nestedProperty(O,H.id+".aspectratio");ee.set(G),H.glplot.redraw()}}return fe},A.updateFx=function(I,H){var O=this,V=O.camera;if(V)if(I==="orbit")V.mode="orbit",V.keyBindingMode="rotate";else if(I==="turntable"){V.up=[0,0,1],V.mode="turntable",V.keyBindingMode="rotate";var B=O.graphDiv,F=B._fullLayout,G=O.fullSceneLayout.camera,Y=G.up.x,Q=G.up.y,te=G.up.z;if(te/Math.sqrt(Y*Y+Q*Q+te*te)<.999){var ae=O.id+".camera.up",fe={x:0,y:0,z:1},oe={};oe[ae]=fe;var J=B.layout;v.call("_storeDirectGUIEdit",J,F._preGUI,oe),G.up=fe,p.nestedProperty(J,ae).set(fe)}}else V.keyBindingMode=I;O.fullSceneLayout.hovermode=H};function w(I,H,O){for(var V=0,B=O-1;V<B;++V,--B)for(var F=0;F<H;++F)for(var G=0;G<4;++G){var Y=4*(H*V+F)+G,Q=4*(H*B+F)+G,te=I[Y];I[Y]=I[Q],I[Q]=te}}function _(I,H,O){for(var V=0;V<O;++V)for(var B=0;B<H;++B){var F=4*(H*V+B),G=I[F+3];if(G>0)for(var Y=255/G,Q=0;Q<3;++Q)I[F+Q]=Math.min(Y*I[F+Q],255)}}A.toImage=function(I){var H=this;I||(I="png"),H.staticMode&&H.container.appendChild(h),H.glplot.redraw();var O=H.glplot.gl,V=O.drawingBufferWidth,B=O.drawingBufferHeight;O.bindFramebuffer(O.FRAMEBUFFER,null);var F=new Uint8Array(V*B*4);O.readPixels(0,0,V,B,O.RGBA,O.UNSIGNED_BYTE,F),w(F,V,B),_(F,V,B);var G=document.createElement("canvas");G.width=V,G.height=B;var Y=G.getContext("2d",{willReadFrequently:!0}),Q=Y.createImageData(V,B);Q.data.set(F),Y.putImageData(Q,0,0);var te;switch(I){case"jpeg":te=G.toDataURL("image/jpeg");break;case"webp":te=G.toDataURL("image/webp");break;default:te=G.toDataURL("image/png")}return H.staticMode&&H.container.removeChild(h),te},A.setConvert=function(){for(var I=this,H=0;H<3;H++){var O=I.fullSceneLayout[m[H]];t.setConvert(O,I.fullLayout),O.setScale=p.noop}},A.make4thDimension=function(){var I=this,H=I.graphDiv,O=H._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(I._mockAxis,O)},U.exports=b},52094:function(U){U.exports=function(e,d,P,n){n=n||e.length;for(var C=new Array(n),x=0;x<n;x++)C[x]=[e[x],d[x],P[x]];return C}},64859:function(U,N,e){var d=e(25376),P=e(85656),n=e(22548),C=e(92872),x=e(34200),v=e(66741),p=e(92880).extendFlat,r=d({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=n.defaultLine,U.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:d({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:d({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:x.newselection,activeselection:x.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:d({editType:"layoutstyle"})}}},47552:function(U,N,e){var d=e(95376),P="1.13.4",n='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=['© <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),x=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:x,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:x,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=d(p);U.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(U,N,e){var d=e(3400);U.exports=function(n,C){var x=n.split(" "),v=x[0],p=x[1],r=d.isArrayOrTypedArray(C)?d.mean(C):C,t=.5+r/100,o=1.5+r/100,a=["",""],u=[0,0];switch(v){case"top":a[0]="top",u[1]=-o;break;case"bottom":a[0]="bottom",u[1]=o;break}switch(p){case"left":a[1]="right",u[0]=-t;break;case"right":a[1]="left",u[0]=t;break}var f;return a[0]&&a[1]?f=a.join("-"):a[0]?f=a[0]:a[1]?f=a[1]:f="center",{anchor:f,offset:u}}},33688:function(U,N,e){var d=e(3480),P=e(3400),n=P.strTranslate,C=P.strScale,x=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),o=e(14440),a="mapbox",u=N.constants=e(47552);N.name=a,N.attr="subplot",N.idRoot=a,N.idRegex=N.attrRegex=P.counterRegex(a),N.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},N.layoutAttributes=e(5232),N.supplyLayoutDefaults=e(5976),N.plot=function(c){var T=c._fullLayout,h=c.calcdata,i=T._subplots[a];if(d.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var g=f(c,i);d.accessToken=g;for(var b=0;b<i.length;b++){var A=i[b],R=x(h,a,A),m=T[A],L=m._subplot;L||(L=new o(c,A),T[A]._subplot=L),L.viewInitial||(L.viewInitial={center:P.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),L.plot(R,T,c._promises)}},N.clean=function(y,c,T,h){for(var i=h._subplots[a]||[],g=0;g<i.length;g++){var b=i[g];!c[b]&&h[b]._subplot&&h[b]._subplot.destroy()}},N.toSVG=function(y){for(var c=y._fullLayout,T=c._subplots[a],h=c._size,i=0;i<T.length;i++){var g=c[T[i]],b=g.domain,A=g._subplot,R=A.toImage("png"),m=c._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":R,x:h.l+h.w*b.x[0],y:h.t+h.h*(1-b.y[1]),width:h.w*(b.x[1]-b.x[0]),height:h.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"});var L=p.select(g._subplot.div),M=L.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!M){var s=c._glimages.append("g");s.attr("transform",n(h.l+h.w*b.x[0]+10,h.t+h.h*(1-b.y[0])-31)),s.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var S=L.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),w=c._glimages.append("g"),_=w.append("text");_.text(S).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":S});var I=r.bBox(_.node()),H=h.w*(b.x[1]-b.x[0]);if(I.width>H/2){var O=S.split("|").join("<br>");_.text(O).attr("data-unformatted",O).call(t.convertToTspans,y),I=r.bBox(_.node())}_.attr("transform",n(-3,-I.height+8)),w.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var V=1;I.width+6>H&&(V=H/(I.width+6));var B=[h.l+h.w*b.x[1],h.t+h.h*(1-b.y[0])];w.attr("transform",n(B[0],B[1])+C(V))}};function f(y,c){var T=y._fullLayout,h=y._context;if(h.mapboxAccessToken==="")return"";for(var i=[],g=[],b=!1,A=!1,R=0;R<c.length;R++){var m=T[c[R]],L=m.accesstoken;l(m.style)&&(L?P.pushUnique(i,L):(l(m._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),b=!0),A=!0)),L&&P.pushUnique(g,L)}if(A){var M=b?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw P.error(M),new Error(M)}return i.length?(i.length>1&&P.warn(u.multipleTokensErrorMsg),i[0]):(g.length&&P.log(["Listed mapbox access token(s)",g.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(y){return typeof y=="string"&&(u.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}N.updateFx=function(y){for(var c=y._fullLayout,T=c._subplots[a],h=0;h<T.length;h++){var i=c[T[h]]._subplot;i.updateFx(c)}}},22360:function(U,N,e){var d=e(3400),P=e(72736).sanitizeHTML,n=e(89032),C=e(47552);function x(o,a){this.subplot=o,this.uid=o.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=x.prototype;v.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=p(a)},v.needsNewImage=function(o){var a=this.subplot.map;return a.getSource(this.idSource)&&this.sourceType==="image"&&o.sourcetype==="image"&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},v.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},v.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(o){var a=this.subplot.map;a.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},v.updateSource=function(o){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,!!p(o)){var u=t(o);a.addSource(this.idSource,u)}},v.findFollowingMapboxLayerId=function(o){if(o==="traces")for(var a=this.subplot.getMapLayers(),u=0;u<a.length;u++){var f=a[u].id;if(typeof f=="string"&&f.indexOf(C.traceLayerPrefix)===0){o=f;break}}return o},v.updateLayer=function(o){var a=this.subplot,u=r(o),f=this.lookupBelow(),l=this.findFollowingMapboxLayerId(f);this.removeLayer(),p(o)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:u.layout,paint:u.paint},l),this.layerType=o.type,this.below=f},v.updateStyle=function(o){if(p(o)){var a=r(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},v.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)};function p(o){if(!o.visible)return!1;var a=o.source;if(Array.isArray(a)&&a.length>0){for(var u=0;u<a.length;u++)if(typeof a[u]!="string"||a[u].length===0)return!1;return!0}return d.isPlainObject(a)||typeof a=="string"&&a.length>0}function r(o){var a={},u={};switch(o.type){case"circle":d.extendFlat(u,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":d.extendFlat(u,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":d.extendFlat(u,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var f=o.symbol,l=n(f.textposition,f.iconsize);d.extendFlat(a,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":f.placement}),d.extendFlat(u,{"icon-color":o.color,"text-color":f.textfont.color,"text-opacity":o.opacity});break;case"raster":d.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":o.opacity});break}return{layout:a,paint:u}}function t(o){var a=o.sourcetype,u=o.source,f={type:a},l;return a==="geojson"?l="data":a==="vector"?l=typeof u=="string"?"url":"tiles":a==="raster"?(l="tiles",f.tileSize=256):a==="image"&&(l="url",f.coordinates=o.coordinates),f[l]=u,o.sourceattribution&&(f.attribution=P(o.sourceattribution)),f}U.exports=function(a,u,f){var l=new x(a,u);return l.update(f),l}},5232:function(U,N,e){var d=e(3400),P=e(76308).defaultLine,n=e(86968).u,C=e(25376),x=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=C({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var o=U.exports=v({_arrayAttrRegexps:[d.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:d.extendFlat({},x,{arrayOk:!1})}})},"plot","from-root");o.uirevision={valType:"any",editType:"none"}},5976:function(U,N,e){var d=e(3400),P=e(168),n=e(51272),C=e(5232);U.exports=function(r,t,o){P(r,t,o,{type:"mapbox",attributes:C,handleDefaults:x,partition:"y",accessToken:t._mapboxAccessToken})};function x(p,r,t,o){t("accesstoken",o.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var a=t("bounds.west"),u=t("bounds.east"),f=t("bounds.south"),l=t("bounds.north");(a===void 0||u===void 0||f===void 0||l===void 0)&&delete r.bounds,n(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(y,c){return d.coerce(p,r,C.layers,y,c)}var o=t("visible");if(o){var a=t("sourcetype"),u=a==="raster"||a==="image";t("source"),t("sourceattribution"),a==="vector"&&t("sourcelayer"),a==="image"&&t("coordinates");var f;u&&(f="raster");var l=t("type",f);u&&l!=="raster"&&(l=r.type="raster",d.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),d.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(U,N,e){var d=e(3480),P=e(3400),n=e(27144),C=e(24040),x=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,o=r.selectMode,a=e(22676).prepSelect,u=e(22676).clearOutline,f=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,y=e(47552),c=e(22360);function T(R,m){this.id=m,this.gd=R;var L=R._fullLayout,M=R._context;this.container=L._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=L._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(L),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=T.prototype;h.plot=function(R,m,L){var M=this,s=m[M.id];M.map&&s.accesstoken!==M.accessToken&&(M.map.remove(),M.map=null,M.styleObj=null,M.traceHash={},M.layerList=[]);var S;M.map?S=new Promise(function(w,_){M.updateMap(R,m,w,_)}):S=new Promise(function(w,_){M.createMap(R,m,w,_)}),L.push(S)},h.createMap=function(R,m,L,M){var s=this,S=m[s.id],w=s.styleObj=g(S.style,m);s.accessToken=S.accesstoken;var _=S.bounds,I=_?[[_.west,_.south],[_.east,_.north]]:null,H=s.map=new d.Map({container:s.div,style:w.style,center:A(S.center),zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,maxBounds:I,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new d.AttributionControl({compact:!0}));H._canvas.style.left="0px",H._canvas.style.top="0px",s.rejectOnError(M),s.isStatic||s.initFx(R,m);var O=[];O.push(new Promise(function(V){H.once("load",V)})),O=O.concat(n.fetchTraceGeoData(R)),Promise.all(O).then(function(){s.fillBelowLookup(R,m),s.updateData(R),s.updateLayout(m),s.resolveOnRender(L)}).catch(M)},h.updateMap=function(R,m,L,M){var s=this,S=s.map,w=m[this.id];s.rejectOnError(M);var _=[],I=g(w.style,m);JSON.stringify(s.styleObj)!==JSON.stringify(I)&&(s.styleObj=I,S.setStyle(I.style),s.traceHash={},_.push(new Promise(function(H){S.once("styledata",H)}))),_=_.concat(n.fetchTraceGeoData(R)),Promise.all(_).then(function(){s.fillBelowLookup(R,m),s.updateData(R),s.updateLayout(m),s.resolveOnRender(L)}).catch(M)},h.fillBelowLookup=function(R,m){var L=m[this.id],M=L.layers,s,S,w=this.belowLookup={},_=!1;for(s=0;s<R.length;s++){var I=R[s][0].trace,H=I._module;typeof I.below=="string"?S=I.below:H.getBelow&&(S=H.getBelow(I,this)),S===""&&(_=!0),w["trace-"+I.uid]=S||""}for(s=0;s<M.length;s++){var O=M[s];typeof O.below=="string"?S=O.below:_?S="traces":S="",w["layout-"+s]=S}var V={},B,F;for(B in w)S=w[B],V[S]?V[S].push(B):V[S]=[B];for(S in V){var G=V[S];if(G.length>1)for(s=0;s<G.length;s++)B=G[s],B.indexOf("trace-")===0?(F=B.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):B.indexOf("layout-")===0&&(F=B.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(R){var m=this.traceHash,L,M,s,S,w=R.slice().sort(function(V,B){return i[V[0].trace.type]-i[B[0].trace.type]});for(s=0;s<w.length;s++){var _=w[s];M=_[0].trace,L=m[M.uid];var I=!1;L&&(L.type===M.type?(L.update(_),I=!0):L.dispose()),!I&&M._module&&(m[M.uid]=M._module.plot(this,_))}var H=Object.keys(m);e:for(s=0;s<H.length;s++){var O=H[s];for(S=0;S<R.length;S++)if(M=R[S][0].trace,O===M.uid)continue e;L=m[O],L.dispose(),delete m[O]}},h.updateLayout=function(R){var m=this.map,L=R[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(A(L.center)),m.setZoom(L.zoom),m.setBearing(L.bearing),m.setPitch(L.pitch)),this.updateLayers(R),this.updateFramework(R),this.updateFx(R),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},h.resolveOnRender=function(R){var m=this.map;m.on("render",function L(){m.loaded()&&(m.off("render",L),setTimeout(R,10))})},h.rejectOnError=function(R){var m=this.map;function L(){R(new Error(y.mapOnErrorMsg))}m.once("error",L),m.once("style.error",L),m.once("source.error",L),m.once("tile.error",L),m.once("layer.error",L)},h.createFramework=function(R){var m=this,L=m.div=document.createElement("div");L.id=m.uid,L.style.position="absolute",m.container.appendChild(L),m.xaxis={_id:"x",c2p:function(M){return m.project(M).x}},m.yaxis={_id:"y",c2p:function(M){return m.project(M).y}},m.updateFramework(R),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},x.setConvert(m.mockAxis,R)},h.initFx=function(R,m){var L=this,M=L.gd,s=L.map;s.on("moveend",function(_){if(L.map){var I=M._fullLayout;if(_.originalEvent||L.wheeling){var H=I[L.id];C.call("_storeDirectGUIEdit",M.layout,I._preGUI,L.getViewEdits(H));var O=L.getView();H._input.center=H.center=O.center,H._input.zoom=H.zoom=O.zoom,H._input.bearing=H.bearing=O.bearing,H._input.pitch=H.pitch=O.pitch,M.emit("plotly_relayout",L.getViewEditsWithDerived(O))}_.originalEvent&&_.originalEvent.type==="mouseup"?L.dragging=!1:L.wheeling&&(L.wheeling=!1),I._rehover&&I._rehover()}}),s.on("wheel",function(){L.wheeling=!0}),s.on("mousemove",function(_){var I=L.div.getBoundingClientRect(),H=[_.originalEvent.offsetX,_.originalEvent.offsetY];_.target.getBoundingClientRect=function(){return I},L.xaxis.p2c=function(){return s.unproject(H).lng},L.yaxis.p2c=function(){return s.unproject(H).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===L.id&&M._fullLayout[L.id]&&p.hover(M,_,L.id)},p.hover(M,_,L.id),M._fullLayout._hoversubplot=L.id});function S(){p.loneUnhover(m._hoverlayer)}s.on("dragstart",function(){L.dragging=!0,S()}),s.on("zoomstart",S),s.on("mouseout",function(){M._fullLayout._hoversubplot=null});function w(){var _=L.getView();M.emit("plotly_relayouting",L.getViewEditsWithDerived(_))}s.on("drag",w),s.on("zoom",w),s.on("dblclick",function(){var _=M._fullLayout[L.id];C.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,L.getViewEdits(_));var I=L.viewInitial;s.setCenter(A(I.center)),s.setZoom(I.zoom),s.setBearing(I.bearing),s.setPitch(I.pitch);var H=L.getView();_._input.center=_.center=H.center,_._input.zoom=_.zoom=H.zoom,_._input.bearing=_.bearing=H.bearing,_._input.pitch=_.pitch=H.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",L.getViewEditsWithDerived(H))}),L.clearOutline=function(){f(L.dragOptions),u(L.dragOptions.gd)},L.onClickInPanFn=function(_){return function(I){var H=M._fullLayout.clickmode;H.indexOf("select")>-1&&l(I.originalEvent,M,[L.xaxis],[L.yaxis],L.id,_),H.indexOf("event")>-1&&p.click(M,I.originalEvent)}}},h.updateFx=function(R){var m=this,L=m.map,M=m.gd;if(m.isStatic)return;function s(I){var H=m.map.unproject(I);return[H.lng,H.lat]}var S=R.dragmode,w;w=function(I,H){if(H.isRect){var O=I.range={};O[m.id]=[s([H.xmin,H.ymin]),s([H.xmax,H.ymax])]}else{var V=I.lassoPoints={};V[m.id]=H.map(s)}};var _=m.dragOptions;m.dragOptions=P.extendDeep(_||{},{dragmode:R.dragmode,element:m.div,gd:M,plotinfo:{id:m.id,domain:R[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:w},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),L.off("click",m.onClickInPanHandler),o(S)||t(S)?(L.dragPan.disable(),L.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(I,H,O){a(I,H,O,m.dragOptions,S)},v.init(m.dragOptions)):(L.dragPan.enable(),L.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),L.on("click",m.onClickInPanHandler))},h.updateFramework=function(R){var m=R[this.id].domain,L=R._size,M=this.div.style;M.width=L.w*(m.x[1]-m.x[0])+"px",M.height=L.h*(m.y[1]-m.y[0])+"px",M.left=L.l+m.x[0]*L.w+"px",M.top=L.t+(1-m.y[1])*L.h+"px",this.xaxis._offset=L.l+m.x[0]*L.w,this.xaxis._length=L.w*(m.x[1]-m.x[0]),this.yaxis._offset=L.t+(1-m.y[1])*L.h,this.yaxis._length=L.h*(m.y[1]-m.y[0])},h.updateLayers=function(R){var m=R[this.id],L=m.layers,M=this.layerList,s;if(L.length!==M.length){for(s=0;s<M.length;s++)M[s].dispose();for(M=this.layerList=[],s=0;s<L.length;s++)M.push(c(this,s,L[s]))}else for(s=0;s<L.length;s++)M[s].update(L[s])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(R,m,L){for(var M in L)this.map[m](R,M,L[M])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(R,m){var L=this.map;if(typeof m=="string"){if(m===""){L.addLayer(R,m);return}for(var M=this.getMapLayers(),s=0;s<M.length;s++)if(m===M[s].id){L.addLayer(R,m);return}P.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}L.addLayer(R)},h.project=function(R){return this.map.project(new d.LngLat(R[0],R[1]))},h.getView=function(){var R=this.map,m=R.getCenter(),L=m.lng,M=m.lat,s={lon:L,lat:M},S=R.getCanvas(),w=parseInt(S.style.width),_=parseInt(S.style.height);return{center:s,zoom:R.getZoom(),bearing:R.getBearing(),pitch:R.getPitch(),_derived:{coordinates:[R.unproject([0,0]).toArray(),R.unproject([w,0]).toArray(),R.unproject([w,_]).toArray(),R.unproject([0,_]).toArray()]}}},h.getViewEdits=function(R){for(var m=this.id,L=["center","zoom","bearing","pitch"],M={},s=0;s<L.length;s++){var S=L[s];M[m+"."+S]=R[S]}return M},h.getViewEditsWithDerived=function(R){var m=this.id,L=this.getViewEdits(R);return L[m+"._derived"]=R._derived,L};function g(R,m){var L={};if(P.isPlainObject(R))L.id=R.id,L.style=R;else if(typeof R=="string")if(L.id=R,y.styleValuesMapbox.indexOf(R)!==-1)L.style=b(R);else if(y.stylesNonMapbox[R]){L.style=y.stylesNonMapbox[R];var M=L.style.sources["plotly-"+R],s=M?M.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=m._mapboxAccessToken)}else L.style=R;else L.id=y.styleValueDflt,L.style=b(y.styleValueDflt);return L.transition={duration:0,delay:0},L}function b(R){return y.styleUrlPrefix+R+"-"+y.styleUrlSuffix}function A(R){return[R.lon,R.lat]}U.exports=T},66741:function(U){U.exports=function(N){var e=N.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(U,N,e){var d=e(33428),P=e(94336).m_,n=e(57624).SO,C=e(38248),x=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),o=e(76308),a=e(39032).BADNUM,u=e(79811),f=e(1936).clearOutline,l=e(55308),y=e(85656),c=e(16672),T=e(84888)._M,h=t.relinkPrivateKeys,i=t._,g=U.exports={};t.extendFlat(g,v),g.attributes=e(45464),g.attributes.type.values=g.allTypes,g.fontAttrs=e(25376),g.layoutAttributes=e(64859);var b=g.transformsRegistry,A=e(62460);g.executeAPICommand=A.executeAPICommand,g.computeAPICommandBindings=A.computeAPICommandBindings,g.manageCommandObserver=A.manageCommandObserver,g.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,g.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function(q){setTimeout(function(){X._fullLayout&&(v.getComponentMethod("annotations","draw")(X),v.getComponentMethod("legend","draw")(X),v.getComponentMethod("colorbar","draw")(X),q(g.previousPromises(X)))},300)})},g.resize=function(X){X=t.getGraphDiv(X);var q,le=new Promise(function($,j){(!X||t.isHidden(X))&&j(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&(q=X._resolveResize),X._resolveResize=$,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){$(X);return}delete X.layout.width,delete X.layout.height;var se=X.changed;X.autoplay=!0,v.call("relayout",X,{autosize:!0}).then(function(){X.changed=se,X._resolveResize===$&&(delete X._resolveResize,$(X))})},100)});return q&&q(le),le},g.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},g.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var q=X._fullLayout,le=t.ensureSingle(q._paper,"text","js-plot-link-container",function(me){me.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var we=d.select(this);we.append("tspan").classed("js-link-to-tool",!0),we.append("tspan").classed("js-link-spacer",!0),we.append("tspan").classed("js-sourcelinks",!0)})}),$=le.node(),j={y:q._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=q.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=q._paper.attr("width")-7),le.attr(j);var se=le.select(".js-link-to-tool"),ne=le.select(".js-link-spacer"),he=le.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&R(X,se),ne.text(se.text()&&he.text()?" - ":"")}};function R(X,q){q.text("");var le=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" »");if(X._context.sendData)le.on("click",function(){g.sendDataToCloud(X)});else{var $=window.location.pathname.split("/"),j=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+$[2].split(".")[0]+"/"+$[1]+j})}}g.sendDataToCloud=function(X){var q=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(q){X.emit("plotly_beforeexport");var le=d.select(X).append("div").attr("id","hiddenform").style("display","none"),$=le.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),j=$.append("input").attr({type:"text",name:"data"});return j.node().value=g.graphJson(X,!1,"keepdata"),$.node().submit(),le.remove(),X.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];g.supplyDefaults=function(X,q){var le=q&&q.skipUpdateCalc,$=X._fullLayout||{};if($._skipDefaults){delete $._skipDefaults;return}var j=X._fullLayout={},se=X.layout||{},ne=X._fullData||[],he=X._fullData=[],me=X.data||[],we=X.calcdata||[],Te=X._context||{},Le;X._transitionData||g.createTransitionData(X),j._dfltTitle={plot:i(X,"Click to enter Plot title"),subtitle:i(X,"Click to enter Plot subtitle"),x:i(X,"Click to enter X axis title"),y:i(X,"Click to enter Y axis title"),colorbar:i(X,"Click to enter Colorscale title"),annotation:i(X,"new text")},j._traceWord=i(X,"trace");var Ie=S(X,m);if(j._mapboxAccessToken=Te.mapboxAccessToken,$._initialAutoSizeIsDone){var ze=$.width,Me=$.height;g.supplyLayoutGlobalDefaults(se,j,Ie),se.width||(j.width=ze),se.height||(j.height=Me),g.sanitizeMargins(j)}else{g.supplyLayoutGlobalDefaults(se,j,Ie);var _e=!se.width||!se.height,Ce=j.autosize,Oe=Te.autosizable,Pe=_e&&(Ce||Oe);Pe?g.plotAutoSize(X,se,j):_e&&g.sanitizeMargins(j),!Ce&&_e&&(se.width=j.width,se.height=j.height)}j._d3locale=w(Ie,j.separators),j._extraFormat=S(X,L),j._initialAutoSizeIsDone=!0,j._dataLength=me.length,j._modules=[],j._visibleModules=[],j._basePlotModules=[];var Ge=j._subplots=s(),Ze=j._splomAxes={x:{},y:{}},it=j._splomSubplots={};j._splomGridDflt={},j._scatterStackOpts={},j._firstScatter={},j._alignmentOpts={},j._colorAxes={},j._requestRangeslider={},j._traceUids=M(ne,me),j._globalTransforms=(X._context||{}).globalTransforms,g.supplyDataDefaults(me,he,se,j);var Je=Object.keys(Ze.x),et=Object.keys(Ze.y);if(Je.length>1&&et.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,j),Le=0;Le<Je.length;Le++)t.pushUnique(Ge.xaxis,Je[Le]);for(Le=0;Le<et.length;Le++)t.pushUnique(Ge.yaxis,et[Le]);for(var ft in it)t.pushUnique(Ge.cartesian,ft)}if(j._has=g._hasPlotType.bind(j),ne.length===he.length)for(Le=0;Le<he.length;Le++)h(he[Le],ne[Le]);g.supplyLayoutModuleDefaults(se,j,he,X._transitionData);var vt=j._visibleModules,dt=[];for(Le=0;Le<vt.length;Le++){var xt=vt[Le].crossTraceDefaults;xt&&t.pushUnique(dt,xt)}for(Le=0;Le<dt.length;Le++)dt[Le](he,j);j._hasOnlyLargeSploms=j._basePlotModules.length===1&&j._basePlotModules[0].name==="splom"&&Je.length>15&&et.length>15&&j.shapes.length===0&&j.images.length===0,g.linkSubplots(he,j,ne,$),g.cleanPlot(he,j,ne,$);var Mt=!!($._has&&$._has("gl2d")),nt=!!(j._has&&j._has("gl2d")),Fe=!!($._has&&$._has("cartesian")),We=!!(j._has&&j._has("cartesian")),je=Fe||Mt,Ke=We||nt;je&&!Ke?$._bgLayer.remove():Ke&&!je&&(j._shouldCreateBgLayer=!0),$._zoomlayer&&!X._dragging&&f({_fullLayout:$}),_(he,j),h(j,$),v.getComponentMethod("colorscale","crossTraceDefaults")(he,j),j._preGUI||(j._preGUI={}),j._tracePreGUI||(j._tracePreGUI={});var ke=j._tracePreGUI,Ue={},Ve;for(Ve in ke)Ue[Ve]="old";for(Le=0;Le<he.length;Le++)Ve=he[Le]._fullInput.uid,Ue[Ve]||(ke[Ve]={}),Ue[Ve]="new";for(Ve in Ue)Ue[Ve]==="old"&&delete ke[Ve];B(j),v.getComponentMethod("rangeslider","makeData")(j),!le&&we.length===he.length&&g.supplyDefaultsUpdateCalc(we,he)},g.supplyDefaultsUpdateCalc=function(X,q){for(var le=0;le<q.length;le++){var $=q[le],j=(X[le]||[])[0];if(j&&j.trace){var se=j.trace;if(se._hasCalcTransform){var ne=se._arrayAttrs,he,me,we;for(he=0;he<ne.length;he++)me=ne[he],we=t.nestedProperty(se,me).get().slice(),t.nestedProperty($,me).set(we)}j.trace=$}}};function M(X,q){var le=q.length,$=[],j,se;for(j=0;j<X.length;j++){var ne=X[j]._fullInput;ne!==se&&$.push(ne),se=ne}var he=$.length,me=new Array(le),we={};function Te(ze,Me){me[Me]=ze,we[ze]=1}function Le(ze,Me){if(ze&&typeof ze=="string"&&!we[ze])return Te(ze,Me),!0}for(j=0;j<le;j++){var Ie=q[j].uid;typeof Ie=="number"&&(Ie=String(Ie)),!Le(Ie,j)&&(j<he&&Le($[j].uid,j)||Te(t.randstr(we),j))}return me}function s(){var X=v.collectableSubplotTypes,q={},le,$;if(!X){X=[];var j=v.subplotsRegistry;for(var se in j){var ne=j[se],he=ne.attr;if(he&&(X.push(se),Array.isArray(he)))for($=0;$<he.length;$++)t.pushUnique(X,he[$])}}for(le=0;le<X.length;le++)q[X[le]]=[];return q}function S(X,q){var le=X._context.locale;le||(le="en-US");var $=!1,j={};function se(Le){for(var Ie=!0,ze=0;ze<q.length;ze++){var Me=q[ze];j[Me]||(Le[Me]?j[Me]=Le[Me]:Ie=!1)}Ie&&($=!0)}for(var ne=0;ne<2;ne++){for(var he=X._context.locales,me=0;me<2;me++){var we=(he[le]||{}).format;if(we&&(se(we),$))break;he=v.localeRegistry}var Te=le.split("-")[0];if($||Te===le)break;le=Te}return $||se(v.localeRegistry.en.format),j}function w(X,q){return X.decimal=q.charAt(0),X.thousands=q.charAt(1),{numberFormat:function(le){try{le=n(X).format(t.adjustFormat(le))}catch{return t.warnBadFormat(le),t.noFormat}return le},timeFormat:P(X).utcFormat}}function _(X,q){var le,$=[];q.meta&&(le=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var j=0;j<X.length;j++){var se=X[j];se.meta?$[se.index]=se._meta={meta:se.meta}:q.meta&&(se._meta={meta:q.meta}),q.meta&&(se._meta.layout={meta:q.meta})}$.length&&(le||(le=q._meta={}),le.data=$)}g.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},g._hasPlotType=function(X){var q,le=this._basePlotModules||[];for(q=0;q<le.length;q++)if(le[q].name===X)return!0;var $=this._modules||[];for(q=0;q<$.length;q++){var j=$[q].name;if(j===X)return!0;var se=v.modules[j];if(se&&se.categories[X])return!0}return!1},g.cleanPlot=function(X,q,le,$){var j,se,ne=$._basePlotModules||[];for(j=0;j<ne.length;j++){var he=ne[j];he.clean&&he.clean(X,q,le,$)}var me=$._has&&$._has("gl"),we=q._has&&q._has("gl");me&&!we&&$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var Te=!!$._infolayer;e:for(j=0;j<le.length;j++){var Le=le[j],Ie=Le.uid;for(se=0;se<X.length;se++){var ze=X[se];if(Ie===ze.uid)continue e}Te&&$._infolayer.select(".cb"+Ie).remove()}},g.linkSubplots=function(X,q,le,$){var j,se,ne=$._plots||{},he=q._plots={},me=q._subplots,we={_fullData:X,_fullLayout:q},Te=me.cartesian.concat(me.gl2d||[]);for(j=0;j<Te.length;j++){var Le=Te[j],Ie=ne[Le],ze=u.getFromId(we,Le,"x"),Me=u.getFromId(we,Le,"y"),_e;for(Ie?_e=he[Le]=Ie:(_e=he[Le]={},_e.id=Le),ze._counterAxes.push(Me._id),Me._counterAxes.push(ze._id),ze._subplotsWith.push(Le),Me._subplotsWith.push(Le),_e.xaxis=ze,_e.yaxis=Me,_e._hasClipOnAxisFalse=!1,se=0;se<X.length;se++){var Ce=X[se];if(Ce.xaxis===_e.xaxis._id&&Ce.yaxis===_e.yaxis._id&&Ce.cliponaxis===!1){_e._hasClipOnAxisFalse=!0;break}}}var Oe=u.list(we,null,!0),Pe;for(j=0;j<Oe.length;j++){Pe=Oe[j];var Ge=null;Pe.overlaying&&(Ge=u.getFromId(we,Pe.overlaying),Ge&&Ge.overlaying&&(Pe.overlaying=!1,Ge=null)),Pe._mainAxis=Ge||Pe,Ge&&(Pe.domain=Ge.domain.slice()),Pe._anchorAxis=Pe.anchor==="free"?null:u.getFromId(we,Pe.anchor)}for(j=0;j<Oe.length;j++)if(Pe=Oe[j],Pe._counterAxes.sort(u.idSort),Pe._subplotsWith.sort(t.subplotSort),Pe._mainSubplot=I(Pe,q),Pe._counterAxes.length&&(Pe.spikemode&&Pe.spikemode.indexOf("across")!==-1||Pe.automargin&&Pe.mirror&&Pe.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Pe))){var Ze=1,it=0;for(se=0;se<Pe._counterAxes.length;se++){var Je=u.getFromId(we,Pe._counterAxes[se]);Ze=Math.min(Ze,Je.domain[0]),it=Math.max(it,Je.domain[1])}Ze<it&&(Pe._counterDomainMin=Ze,Pe._counterDomainMax=it)}};function I(X,q){var le={_fullLayout:q},$=X._id.charAt(0)==="x",j=X._mainAxis._anchorAxis,se="",ne="",he="";if(j&&(he=j._mainAxis._id,se=$?X._id+he:he+X._id),!se||!q._plots[se]){se="";for(var me=X._counterAxes,we=0;we<me.length;we++){var Te=me[we],Le=$?X._id+Te:Te+X._id;ne||(ne=Le);var Ie=u.getFromId(le,Te);if(he&&Ie.overlaying===he){se=Le;break}}}return se||ne}g.clearExpandedTraceDefaultColors=function(X){var q,le,$;function j(ne,he,me,we){le[we]=he,le.length=we+1,ne.valType==="color"&&ne.dflt===void 0&&q.push(le.join("."))}for(le=[],q=X._module._colorAttrs,q||(X._module._colorAttrs=q=[],p.crawl(X._module.attributes,j)),$=0;$<q.length;$++){var se=t.nestedProperty(X,"_input."+q[$]);se.get()||t.nestedProperty(X,q[$]).set(null)}},g.supplyDataDefaults=function(X,q,le,$){var j=$._modules,se=$._visibleModules,ne=$._basePlotModules,he=0,me=0,we,Te,Le;$._transformModules=[];function Ie(et){q.push(et);var ft=et._module;ft&&(t.pushUnique(j,ft),et.visible===!0&&t.pushUnique(se,ft),t.pushUnique(ne,et._module.basePlotModule),he++,et._input.visible!==!1&&me++)}var ze={},Me=[],_e=(le.template||{}).data||{},Ce=r.traceTemplater(_e);for(we=0;we<X.length;we++){if(Le=X[we],Te=Ce.newTrace(Le),Te.uid=$._traceUids[we],g.supplyTraceDefaults(Le,Te,me,$,we),Te.index=we,Te._input=Le,Te._expandedIndex=he,Te.transforms&&Te.transforms.length)for(var Oe=Le.visible!==!1&&Te.visible===!1,Pe=O(Te,q,le,$),Ge=0;Ge<Pe.length;Ge++){var Ze=Pe[Ge],it={_template:Te._template,type:Te.type,uid:Te.uid+Ge};Oe&&Ze.visible===!1&&delete Ze.visible,g.supplyTraceDefaults(Ze,it,he,$,we),h(it,Ze),it.index=we,it._input=Le,it._fullInput=Te,it._expandedIndex=he,it._expandedInput=Ze,Ie(it)}else Te._fullInput=Te,Te._expandedInput=Te,Ie(Te);v.traceIs(Te,"carpetAxis")&&(ze[Te.carpet]=Te),v.traceIs(Te,"carpetDependent")&&Me.push(we)}for(we=0;we<Me.length;we++)if(Te=q[Me[we]],!!Te.visible){var Je=ze[Te.carpet];if(Te._carpet=Je,!Je||!Je.visible){Te.visible=!1;continue}Te.xaxis=Je.xaxis,Te.yaxis=Je.yaxis}},g.supplyAnimationDefaults=function(X){X=X||{};var q,le={};function $(j,se){return t.coerce(X||{},le,y,j,se)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(X.frame))for(le.frame=[],q=0;q<X.frame.length;q++)le.frame[q]=g.supplyAnimationFrameDefaults(X.frame[q]||{});else le.frame=g.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(le.transition=[],q=0;q<X.transition.length;q++)le.transition[q]=g.supplyAnimationTransitionDefaults(X.transition[q]||{});else le.transition=g.supplyAnimationTransitionDefaults(X.transition||{});return le},g.supplyAnimationFrameDefaults=function(X){var q={};function le($,j){return t.coerce(X||{},q,y.frame,$,j)}return le("duration"),le("redraw"),q},g.supplyAnimationTransitionDefaults=function(X){var q={};function le($,j){return t.coerce(X||{},q,y.transition,$,j)}return le("duration"),le("easing"),q},g.supplyFrameDefaults=function(X){var q={};function le($,j){return t.coerce(X,q,c,$,j)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),q},g.supplyTraceDefaults=function(X,q,le,$,j){var se=$.colorway||o.defaults,ne=se[le%se.length],he;function me(Ge,Ze){return t.coerce(X,q,g.attributes,Ge,Ze)}var we=me("visible");me("type"),me("name",$._traceWord+" "+j),me("uirevision",$.uirevision);var Te=g.getModule(q);if(q._module=Te,Te){var Le=Te.basePlotModule,Ie=Le.attr,ze=Le.attributes;if(Ie&&ze){var Me=$._subplots,_e="";if(we||Le.name!=="gl2d"){if(Array.isArray(Ie))for(he=0;he<Ie.length;he++){var Ce=Ie[he],Oe=t.coerce(X,q,ze,Ce);Me[Ce]&&t.pushUnique(Me[Ce],Oe),_e+=Oe}else _e=t.coerce(X,q,ze,Ie);Me[Le.name]&&t.pushUnique(Me[Le.name],_e)}}}if(we){if(me("customdata"),me("ids"),me("meta"),v.traceIs(q,"showLegend")?(t.coerce(X,q,Te.attributes.showlegend?Te.attributes:g.attributes,"showlegend"),me("legend"),me("legendwidth"),me("legendgroup"),me("legendgrouptitle.text"),me("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,Te&&Te.supplyDefaults(X,q,ne,$),v.traceIs(q,"noOpacity")||me("opacity"),v.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),v.traceIs(q,"noHover")||(q.hovertemplate||t.coerceHoverinfo(X,q,$),q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(X,q,ne,$)),Te&&Te.selectPoints){var Pe=me("selectedpoints");t.isTypedArray(Pe)&&(q.selectedpoints=Array.from(Pe))}g.supplyTransformDefaults(X,q,$)}return q};function H(X){var q=X.transforms;if(Array.isArray(q)&&q.length)for(var le=0;le<q.length;le++){var $=q[le],j=$._module||b[$.type];if(j&&j.makesData)return!0}return!1}g.hasMakesDataTransform=H,g.supplyTransformDefaults=function(X,q,le){if(q._length||H(X)){var $=le._globalTransforms||[],j=le._transformModules||[];if(!(!Array.isArray(X.transforms)&&$.length===0))for(var se=X.transforms||[],ne=$.concat(se),he=q.transforms=[],me=0;me<ne.length;me++){var we=ne[me],Te=we.type,Le=b[Te],Ie,ze=!(we._module&&we._module===Le),Me=Le&&typeof Le.transform=="function";Le||t.warn("Unrecognized transform type "+Te+"."),Le&&Le.supplyDefaults&&(ze||Me)?(Ie=Le.supplyDefaults(we,q,le,X),Ie.type=Te,Ie._module=Le,t.pushUnique(j,Le)):Ie=t.extendFlat({},we),he.push(Ie)}}};function O(X,q,le,$){for(var j=X.transforms,se=[X],ne=0;ne<j.length;ne++){var he=j[ne],me=b[he.type];me&&me.transform&&(se=me.transform(se,{transform:he,fullTrace:X,fullData:q,layout:le,fullLayout:$,transformIndex:ne}))}return se}g.supplyLayoutGlobalDefaults=function(X,q,le){function $(Le,Ie){return t.coerce(X,q,g.layoutAttributes,Le,Ie)}var j=X.template;t.isPlainObject(j)&&(q.template=j,q._template=j.layout,q._dataTemplate=j.data),$("autotypenumbers");var se=t.coerceFont($,"font"),ne=se.size;t.coerceFont($,"title.font",se,{overrideDflt:{size:Math.round(ne*1.4)}}),$("title.text",q._dfltTitle.plot),$("title.xref");var he=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var me=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),$("title.subtitle.text",q._dfltTitle.subtitle),t.coerceFont($,"title.subtitle.font",se,{overrideDflt:{size:Math.round(q.title.font.size*.7)}}),me&&(he==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),he==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var we=$("uniformtext.mode");we&&$("uniformtext.minsize"),$("autosize",!(X.width&&X.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),X.width&&X.height&&g.sanitizeMargins(q),v.getComponentMethod("grid","sizeDefaults")(X,q),$("paper_bgcolor"),$("separators",le.decimal+le.thousands),$("hidesources"),$("colorway"),$("datarevision");var Te=$("uirevision");$("editrevision",Te),$("selectionrevision",Te),v.getComponentMethod("modebar","supplyLayoutDefaults")(X,q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,q,$),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,q,$),$("meta"),t.isPlainObject(X.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(X,q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,q,$),t.coerce(X,q,l,"scattermode")};function V(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}g.plotAutoSize=function(q,le,$){var j=q._context||{},se=j.frameMargins,ne,he,me=t.isPlotDiv(q);if(me&&q.emit("plotly_autosize"),j.fillFrame)ne=window.innerWidth,he=window.innerHeight,document.body.style.overflow="hidden";else{var we=me?window.getComputedStyle(q):{};if(ne=V(we.width)||V(we.maxWidth)||$.width,he=V(we.height)||V(we.maxHeight)||$.height,C(se)&&se>0){var Te=1-2*se;ne=Math.round(Te*ne),he=Math.round(Te*he)}}var Le=g.layoutAttributes.width.min,Ie=g.layoutAttributes.height.min;ne<Le&&(ne=Le),he<Ie&&(he=Ie);var ze=!le.width&&Math.abs($.width-ne)>1,Me=!le.height&&Math.abs($.height-he)>1;(Me||ze)&&(ze&&($.width=ne),Me&&($.height=he)),q._initialAutoSize||(q._initialAutoSize={width:ne,height:he}),g.sanitizeMargins($)},g.supplyLayoutModuleDefaults=function(X,q,le,$){var j=v.componentsRegistry,se=q._basePlotModules,ne,he,me,we=v.subplotsRegistry.cartesian;for(ne in j)me=j[ne],me.includeBasePlot&&me.includeBasePlot(X,q);se.length||se.push(we),q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(X,q),we.finalizeSubplots(X,q));for(var Te in q._subplots)q._subplots[Te].sort(t.subplotSort);for(he=0;he<se.length;he++)me=se[he],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,q,le);var Le=q._modules;for(he=0;he<Le.length;he++)me=Le[he],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,q,le);var Ie=q._transformModules;for(he=0;he<Ie.length;he++)me=Ie[he],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,q,le,$);for(ne in j)me=j[ne],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,q,le)},g.purge=function(X){var q=X._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},g.style=function(X){var q=X._fullLayout._visibleModules,le=[],$;for($=0;$<q.length;$++){var j=q[$];j.style&&t.pushUnique(le,j.style)}for($=0;$<le.length;$++)le[$](X)},g.sanitizeMargins=function(X){if(!(!X||!X.margin)){var q=X.width,le=X.height,$=X.margin,j=q-($.l+$.r),se=le-($.t+$.b),ne;j<0&&(ne=(q-1)/($.l+$.r),$.l=Math.floor(ne*$.l),$.r=Math.floor(ne*$.r)),se<0&&(ne=(le-1)/($.t+$.b),$.t=Math.floor(ne*$.t),$.b=Math.floor(ne*$.b))}},g.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(X,q){X._fullLayout._pushmarginIds[q]=1};function B(X){var q=X.margin;if(!X._size){var le=X._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};le.w=Math.round(X.width)-le.l-le.r,le.h=Math.round(X.height)-le.t-le.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var F=2,G=2;g.autoMargin=function(X,q,le){var $=X._fullLayout,j=$.width,se=$.height,ne=$.margin,he=$.minreducedwidth,me=$.minreducedheight,we=t.constrain(j-ne.l-ne.r,F,he),Te=t.constrain(se-ne.t-ne.b,G,me),Le=Math.max(0,j-we),Ie=Math.max(0,se-Te),ze=$._pushmargin,Me=$._pushmarginIds;if(ne.autoexpand!==!1){if(!le)delete ze[q],delete Me[q];else{var _e=le.pad;if(_e===void 0&&(_e=Math.min(12,ne.l,ne.r,ne.t,ne.b)),Le){var Ce=(le.l+le.r)/Le;Ce>1&&(le.l/=Ce,le.r/=Ce)}if(Ie){var Oe=(le.t+le.b)/Ie;Oe>1&&(le.t/=Oe,le.b/=Oe)}var Pe=le.xl!==void 0?le.xl:le.x,Ge=le.xr!==void 0?le.xr:le.x,Ze=le.yt!==void 0?le.yt:le.y,it=le.yb!==void 0?le.yb:le.y;ze[q]={l:{val:Pe,size:le.l+_e},r:{val:Ge,size:le.r+_e},b:{val:it,size:le.b+_e},t:{val:Ze,size:le.t+_e}},Me[q]=1}if(!$._replotting)return g.doAutoMargin(X)}};function Y(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var q=u.list(X,"",!0);for(var le in q)if(q[le].autoshift||q[le].shift)return!0;return!1}g.doAutoMargin=function(X){var q=X._fullLayout,le=q.width,$=q.height;q._size||(q._size={}),B(q);var j=q._size,se=q.margin,ne={t:0,b:0,l:0,r:0},he=t.extendFlat({},j),me=se.l,we=se.r,Te=se.t,Le=se.b,Ie=q._pushmargin,ze=q._pushmarginIds,Me=q.minreducedwidth,_e=q.minreducedheight;if(se.autoexpand!==!1){for(var Ce in Ie)ze[Ce]||delete Ie[Ce];var Oe=X._fullLayout._reservedMargin;for(var Pe in Oe)for(var Ge in Oe[Pe]){var Ze=Oe[Pe][Ge];ne[Ge]=Math.max(ne[Ge],Ze)}Ie.base={l:{val:0,size:me},r:{val:1,size:we},t:{val:1,size:Te},b:{val:0,size:Le}};for(var it in ne){var Je=0;for(var et in Ie)et!=="base"&&C(Ie[et][it].size)&&(Je=Ie[et][it].size>Je?Ie[et][it].size:Je);var ft=Math.max(0,se[it]-Je);ne[it]=Math.max(0,ne[it]-ft)}for(var vt in Ie){var dt=Ie[vt].l||{},xt=Ie[vt].b||{},Mt=dt.val,nt=dt.size,Fe=xt.val,We=xt.size,je=le-ne.r-ne.l,Ke=$-ne.t-ne.b;for(var ke in Ie){if(C(nt)&&Ie[ke].r){var Ue=Ie[ke].r.val,Ve=Ie[ke].r.size;if(Ue>Mt){var Re=(nt*Ue+(Ve-je)*Mt)/(Ue-Mt),de=(Ve*(1-Mt)+(nt-je)*(1-Ue))/(Ue-Mt);Re+de>me+we&&(me=Re,we=de)}}if(C(We)&&Ie[ke].t){var be=Ie[ke].t.val,Ne=Ie[ke].t.size;if(be>Fe){var Ye=(We*be+(Ne-Ke)*Fe)/(be-Fe),at=(Ne*(1-Fe)+(We-Ke)*(1-be))/(be-Fe);Ye+at>Le+Te&&(Le=Ye,Te=at)}}}}}var lt=t.constrain(le-se.l-se.r,F,Me),Ht=t.constrain($-se.t-se.b,G,_e),Yt=Math.max(0,le-lt),Tt=Math.max(0,$-Ht);if(Yt){var Lt=(me+we)/Yt;Lt>1&&(me/=Lt,we/=Lt)}if(Tt){var Kt=(Le+Te)/Tt;Kt>1&&(Le/=Kt,Te/=Kt)}if(j.l=Math.round(me)+ne.l,j.r=Math.round(we)+ne.r,j.t=Math.round(Te)+ne.t,j.b=Math.round(Le)+ne.b,j.p=Math.round(se.pad),j.w=Math.round(le)-j.l-j.r,j.h=Math.round($)-j.t-j.b,!q._replotting&&(g.didMarginChange(he,j)||Y(X))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var vr=3*(1+Object.keys(ze).length);if(q._redrawFromAutoMarginCount<vr)return v.call("_doPlot",X);q._size=he,t.warn("Too many auto-margin redraws.")}Q(X)};function Q(X){var q=u.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(le){for(var $=0;$<q.length;$++){var j=q[$][le];j&&j()}})}var te=["l","r","t","b","p","w","h"];g.didMarginChange=function(X,q){for(var le=0;le<te.length;le++){var $=te[le],j=X[$],se=q[$];if(!C(j)||Math.abs(se-j)>1)return!0}return!1},g.graphJson=function(X,q,le,$,j,se){(j&&q&&!X._fullData||j&&!q&&!X._fullLayout)&&g.supplyDefaults(X);var ne=j?X._fullData:X.data,he=j?X._fullLayout:X.layout,me=(X._transitionData||{})._frames;function we(Ie,ze){if(typeof Ie=="function")return ze?"_function_":null;if(t.isPlainObject(Ie)){var Me={},_e;return Object.keys(Ie).sort().forEach(function(Ge){if(["_","["].indexOf(Ge.charAt(0))===-1){if(typeof Ie[Ge]=="function"){ze&&(Me[Ge]="_function");return}if(le==="keepdata"){if(Ge.substr(Ge.length-3)==="src")return}else if(le==="keepstream"){if(_e=Ie[Ge+"src"],typeof _e=="string"&&_e.indexOf(":")>0&&!t.isPlainObject(Ie.stream))return}else if(le!=="keepall"&&(_e=Ie[Ge+"src"],typeof _e=="string"&&_e.indexOf(":")>0))return;Me[Ge]=we(Ie[Ge],ze)}}),Me}var Ce=Array.isArray(Ie),Oe=t.isTypedArray(Ie);if((Ce||Oe)&&Ie.dtype&&Ie.shape){var Pe=Ie.bdata;return we({dtype:Ie.dtype,shape:Ie.shape,bdata:t.isArrayBuffer(Pe)?x.encode(Pe):Pe},ze)}return Ce?Ie.map(function(Ge){return we(Ge,ze)}):Oe?t.simpleMap(Ie,t.identity):t.isJSDate(Ie)?t.ms2DateTimeLocal(+Ie):Ie}var Te={data:(ne||[]).map(function(Ie){var ze=we(Ie);return q&&delete ze.fit,ze})};if(!q&&(Te.layout=we(he),j)){var Le=he._size;Te.layout.computed={margin:{b:Le.b,l:Le.l,r:Le.r,t:Le.t}}}return me&&(Te.frames=we(me)),se&&(Te.config=we(X._context,!0)),$==="object"?Te:JSON.stringify(Te)},g.modifyFrames=function(X,q){var le,$,j,se=X._transitionData._frames,ne=X._transitionData._frameHash;for(le=0;le<q.length;le++)switch($=q[le],$.type){case"replace":j=$.value;var he=(se[$.index]||{}).name,me=j.name;se[$.index]=ne[me]=j,me!==he&&(delete ne[he],ne[me]=j);break;case"insert":j=$.value,ne[j.name]=j,se.splice($.index,0,j);break;case"delete":j=se[$.index],delete ne[j.name],se.splice($.index,1);break}return Promise.resolve()},g.computeFrame=function(X,q){var le=X._transitionData._frameHash,$,j,se,ne;if(!q)throw new Error("computeFrame must be given a string frame name");var he=le[q.toString()];if(!he)return!1;for(var me=[he],we=[he.name];he.baseframe&&(he=le[he.baseframe.toString()])&&we.indexOf(he.name)===-1;)me.push(he),we.push(he.name);for(var Te={};he=me.pop();)if(he.layout&&(Te.layout=g.extendLayout(Te.layout,he.layout)),he.data){if(Te.data||(Te.data=[]),j=he.traces,!j)for(j=[],$=0;$<he.data.length;$++)j[$]=$;for(Te.traces||(Te.traces=[]),$=0;$<he.data.length;$++)se=j[$],se!=null&&(ne=Te.traces.indexOf(se),ne===-1&&(ne=Te.data.length,Te.traces[ne]=se),Te.data[ne]=g.extendTrace(Te.data[ne],he.data[$]))}return Te},g.recomputeFrameHash=function(X){for(var q=X._transitionData._frameHash={},le=X._transitionData._frames,$=0;$<le.length;$++){var j=le[$];j&&j.name&&(q[j.name]=j)}},g.extendObjectWithContainers=function(X,q,le){var $,j,se,ne,he,me,we,Te,Le=t.extendDeepNoArrays({},q||{}),Ie=t.expandObjectPaths(Le),ze={};if(le&&le.length)for(se=0;se<le.length;se++)$=t.nestedProperty(Ie,le[se]),j=$.get(),j===void 0?t.nestedProperty(ze,le[se]).set(null):($.set(null),t.nestedProperty(ze,le[se]).set(j));if(X=t.extendDeepNoArrays(X||{},Ie),le&&le.length){for(se=0;se<le.length;se++)if(he=t.nestedProperty(ze,le[se]),we=he.get(),!!we){for(me=t.nestedProperty(X,le[se]),Te=me.get(),Array.isArray(Te)||(Te=[],me.set(Te)),ne=0;ne<we.length;ne++){var Me=we[ne];Me===null?Te[ne]=null:Te[ne]=g.extendObjectWithContainers(Te[ne],Me)}me.set(Te)}}return X},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=v.layoutArrayContainers,g.extendTrace=function(X,q){return g.extendObjectWithContainers(X,q,g.dataArrayContainers)},g.extendLayout=function(X,q){return g.extendObjectWithContainers(X,q,g.layoutArrayContainers)},g.transition=function(X,q,le,$,j,se){var ne={redraw:j.redraw},he={},me=[];return ne.prepareFn=function(){for(var we=Array.isArray(q)?q.length:0,Te=$.slice(0,we),Le=0;Le<Te.length;Le++){var Ie=Te[Le],ze=X._fullData[Ie],Me=ze._module;if(Me){if(Me.animatable){var _e=Me.basePlotModule.name;he[_e]||(he[_e]=[]),he[_e].push(Ie)}X.data[Te[Le]]=g.extendTrace(X.data[Te[Le]],q[Le])}}var Ce=t.expandObjectPaths(t.extendDeepNoArrays({},le)),Oe=/^[xy]axis[0-9]*$/;for(var Pe in Ce)Oe.test(Pe)&&delete Ce[Pe].range;g.extendLayout(X.layout,Ce),delete X.calcdata,g.supplyDefaults(X),g.doCalcdata(X);var Ge=t.expandObjectPaths(le);if(Ge){var Ze=X._fullLayout._plots;for(var it in Ze){var Je=Ze[it],et=Je.xaxis,ft=Je.yaxis,vt=et.range.slice(),dt=ft.range.slice(),xt=null,Mt=null,nt=null,Fe=null;Array.isArray(Ge[et._name+".range"])?xt=Ge[et._name+".range"].slice():Array.isArray((Ge[et._name]||{}).range)&&(xt=Ge[et._name].range.slice()),Array.isArray(Ge[ft._name+".range"])?Mt=Ge[ft._name+".range"].slice():Array.isArray((Ge[ft._name]||{}).range)&&(Mt=Ge[ft._name].range.slice()),vt&&xt&&(et.r2l(vt[0])!==et.r2l(xt[0])||et.r2l(vt[1])!==et.r2l(xt[1]))&&(nt={xr0:vt,xr1:xt}),dt&&Mt&&(ft.r2l(dt[0])!==ft.r2l(Mt[0])||ft.r2l(dt[1])!==ft.r2l(Mt[1]))&&(Fe={yr0:dt,yr1:Mt}),(nt||Fe)&&me.push(t.extendFlat({plotinfo:Je},nt,Fe))}}return Promise.resolve()},ne.runFn=function(we){var Te,Le=X._fullLayout._basePlotModules,Ie=me.length,ze;if(le)for(ze=0;ze<Le.length;ze++)Le[ze].transitionAxes&&Le[ze].transitionAxes(X,me,se,we);Ie?(Te=t.extendFlat({},se),Te.duration=0,delete he.cartesian):Te=se;for(var Me in he){var _e=he[Me],Ce=X._fullData[_e[0]]._module;Ce.basePlotModule.plot(X,_e,Te,we)}},ae(X,se,ne)},g.transitionFromReact=function(X,q,le,$){var j=X._fullLayout,se=j.transition,ne={},he=[];return ne.prepareFn=function(){var me=j._plots;ne.redraw=!1,q.anim==="some"&&(ne.redraw=!0),le.anim==="some"&&(ne.redraw=!0);for(var we in me){var Te=me[we],Le=Te.xaxis,Ie=Te.yaxis,ze=$[Le._name].range.slice(),Me=$[Ie._name].range.slice(),_e=Le.range.slice(),Ce=Ie.range.slice();Le.setScale(),Ie.setScale();var Oe=null,Pe=null;(Le.r2l(ze[0])!==Le.r2l(_e[0])||Le.r2l(ze[1])!==Le.r2l(_e[1]))&&(Oe={xr0:ze,xr1:_e}),(Ie.r2l(Me[0])!==Ie.r2l(Ce[0])||Ie.r2l(Me[1])!==Ie.r2l(Ce[1]))&&(Pe={yr0:Me,yr1:Ce}),(Oe||Pe)&&he.push(t.extendFlat({plotinfo:Te},Oe,Pe))}return Promise.resolve()},ne.runFn=function(me){for(var we=X._fullData,Te=X._fullLayout,Le=Te._basePlotModules,Ie,ze,Me,_e=[],Ce=0;Ce<we.length;Ce++)_e.push(Ce);function Oe(){if(X._fullLayout)for(var Ge=0;Ge<Le.length;Ge++)Le[Ge].transitionAxes&&Le[Ge].transitionAxes(X,he,Ie,me)}function Pe(){if(X._fullLayout)for(var Ge=0;Ge<Le.length;Ge++)Le[Ge].plot(X,Me,ze,me)}he.length&&q.anim?se.ordering==="traces first"?(Ie=t.extendFlat({},se,{duration:0}),Me=_e,ze=se,setTimeout(Oe,se.duration),Pe()):(Ie=se,Me=null,ze=t.extendFlat({},se,{duration:0}),setTimeout(Pe,Ie.duration),Oe()):he.length?(Ie=se,Oe()):q.anim&&(Me=_e,ze=se,Pe())},ae(X,se,ne)};function ae(X,q,le){var $=!1;function j(Le){var Ie=Promise.resolve();if(!Le)return Ie;for(;Le.length;)Ie=Ie.then(Le.shift());return Ie}function se(Le){if(Le)for(;Le.length;)Le.shift()}function ne(){return X.emit("plotly_transitioning",[]),new Promise(function(Le){X._transitioning=!0,q.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){$=!0}),le.redraw&&X._transitionData._interruptCallbacks.push(function(){return v.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var Ie=0,ze=0;function Me(){return Ie++,function(){ze++,!$&&ze===Ie&&he(Le)}}le.runFn(Me),setTimeout(Me())})}function he(Le){if(X._transitionData)return se(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return v.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(Le)}function me(){if(X._transitionData)return X._transitioning=!1,j(X._transitionData._interruptCallbacks)}var we=[g.previousPromises,me,le.prepareFn,g.rehover,g.reselect,ne],Te=t.syncOrAsync(we,X);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return X})}g.doCalcdata=function(X,q){var le=u.list(X),$=X._fullData,j=X._fullLayout,se,ne,he,me,we=new Array($.length),Te=(X.calcdata||[]).slice();for(X.calcdata=we,j._numBoxes=0,j._numViolins=0,j._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,j._piecolormap={},j._sunburstcolormap={},j._treemapcolormap={},j._iciclecolormap={},j._funnelareacolormap={},he=0;he<$.length;he++)if(Array.isArray(q)&&q.indexOf(he)===-1){we[he]=Te[he];continue}for(he=0;he<$.length;he++)se=$[he],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var Le=j._subplots.polar||[];for(he=0;he<Le.length;he++)le.push(j[Le[he]].radialaxis,j[Le[he]].angularaxis);for(var Ie in j._colorAxes){var ze=j[Ie];ze.cauto!==!1&&(delete ze.cmin,delete ze.cmax)}var Me=!1;function _e(Pe){if(se=$[Pe],ne=se._module,se.visible===!0&&se.transforms){if(ne&&ne.calc){var Ge=ne.calc(X,se);Ge[0]&&Ge[0].t&&Ge[0].t._scene&&delete Ge[0].t._scene.dirty}for(me=0;me<se.transforms.length;me++){var Ze=se.transforms[me];ne=b[Ze.type],ne&&ne.calcTransform&&(se._hasCalcTransform=!0,Me=!0,ne.calcTransform(X,se,Ze))}}}function Ce(Pe,Ge){if(se=$[Pe],ne=se._module,!!ne.isContainer===Ge){var Ze=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var it=se.transforms||[];for(me=it.length-1;me>=0;me--)if(it[me].enabled){se._indexToPoints=it[me]._indexToPoints;break}ne&&ne.calc&&(Ze=ne.calc(X,se))}(!Array.isArray(Ze)||!Ze[0])&&(Ze=[{x:a,y:a}]),Ze[0].t||(Ze[0].t={}),Ze[0].trace=se,we[Pe]=Ze}}for(J(le,$,j),he=0;he<$.length;he++)Ce(he,!0);for(he=0;he<$.length;he++)_e(he);for(Me&&J(le,$,j),he=0;he<$.length;he++)Ce(he,!0);for(he=0;he<$.length;he++)Ce(he,!1);ee(X);var Oe=oe(le,X);if(Oe.length){for(j._numBoxes=0,j._numViolins=0,he=0;he<Oe.length;he++)Ce(Oe[he],!0);for(he=0;he<Oe.length;he++)Ce(Oe[he],!1);ee(X)}v.getComponentMethod("fx","calc")(X),v.getComponentMethod("errorbars","calc")(X)};var fe=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function oe(X,q){var le=[],$,j,se,ne,he;function me(ke,Ue,Ve){var Re=Ue._id.charAt(0);if(ke==="histogram2dcontour"){var de=Ue._counterAxes[0],be=u.getFromId(q,de),Ne=Re==="x"||de==="x"&&be.type==="category",Ye=Re==="y"||de==="y"&&be.type==="category";return function(at,lt){return at===0||lt===0||Ne&&at===Ve[lt].length-1||Ye&&lt===Ve.length-1?-1:(Re==="y"?lt:at)-1}}else return function(at,lt){return Re==="y"?lt:at}}var we={min:function(ke){return t.aggNums(Math.min,null,ke)},max:function(ke){return t.aggNums(Math.max,null,ke)},sum:function(ke){return t.aggNums(function(Ue,Ve){return Ue+Ve},null,ke)},total:function(ke){return t.aggNums(function(Ue,Ve){return Ue+Ve},null,ke)},mean:function(ke){return t.mean(ke)},"geometric mean":function(ke){return t.geometricMean(ke)},median:function(ke){return t.median(ke)}};function Te(ke,Ue){return ke[1]-Ue[1]}function Le(ke,Ue){return Ue[1]-ke[1]}for($=0;$<X.length;$++){var Ie=X[$];if(Ie.type==="category"){var ze=Ie.categoryorder.match(fe);if(ze){var Me=ze[1],_e=ze[2],Ce=Ie._id.charAt(0),Oe=Ce==="x",Pe=[];for(j=0;j<Ie._categories.length;j++)Pe.push([Ie._categories[j],[]]);for(j=0;j<Ie._traceIndices.length;j++){var Ge=Ie._traceIndices[j],Ze=q._fullData[Ge];if(Ze.visible===!0){var it=Ze.type;v.traceIs(Ze,"histogram")&&(delete Ze._xautoBinFinished,delete Ze._yautoBinFinished);var Je=it==="splom",et=it==="scattergl",ft=q.calcdata[Ge];for(se=0;se<ft.length;se++){var vt=ft[se],dt,xt;if(Je){var Mt=Ze._axesDim[Ie._id];if(!Oe){var nt=Ze._diag[Mt][0];nt&&(Ie=q._fullLayout[u.id2name(nt)])}var Fe=vt.trace.dimensions[Mt].values;for(ne=0;ne<Fe.length;ne++)for(dt=Ie._categoriesMap[Fe[ne]],he=0;he<vt.trace.dimensions.length;he++)if(he!==Mt){var We=vt.trace.dimensions[he];Pe[dt][1].push(We.values[ne])}}else if(et){for(ne=0;ne<vt.t.x.length;ne++)Oe?(dt=vt.t.x[ne],xt=vt.t.y[ne]):(dt=vt.t.y[ne],xt=vt.t.x[ne]),Pe[dt][1].push(xt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){xt=vt.z;var je=me(Ze.type,Ie,xt);for(ne=0;ne<xt.length;ne++)for(he=0;he<xt[ne].length;he++)dt=je(he,ne),dt+1&&Pe[dt][1].push(xt[ne][he])}else for(dt=vt.p,dt===void 0&&(dt=vt[Ce]),xt=vt.s,xt===void 0&&(xt=vt.v),xt===void 0&&(xt=Oe?vt.y:vt.x),Array.isArray(xt)||(xt===void 0?xt=[]:xt=[xt]),ne=0;ne<xt.length;ne++)Pe[dt][1].push(xt[ne])}}}Ie._categoriesValue=Pe;var Ke=[];for(j=0;j<Pe.length;j++)Ke.push([Pe[j][0],we[Me](Pe[j][1])]);Ke.sort(_e==="descending"?Le:Te),Ie._categoriesAggregatedValue=Ke,Ie._initialCategories=Ke.map(function(ke){return ke[0]}),le=le.concat(Ie.sortByInitialCategories())}}}return le}function J(X,q,le){var $={};function j(me){me.clearCalc(),me.type==="multicategory"&&me.setupMultiCategory(q),$[me._id]=1}t.simpleMap(X,j);for(var se=le._axisMatchGroups||[],ne=0;ne<se.length;ne++)for(var he in se[ne])$[he]||j(le[u.id2name(he)])}function ee(X){var q=X._fullLayout,le=q._visibleModules,$={},j,se,ne;for(se=0;se<le.length;se++){var he=le[se],me=he.crossTraceCalc;if(me){var we=he.basePlotModule.name;$[we]?t.pushUnique($[we],me):$[we]=[me]}}for(ne in $){var Te=$[ne],Le=q._subplots[ne];if(Array.isArray(Le))for(j=0;j<Le.length;j++){var Ie=Le[j],ze=ne==="cartesian"?q._plots[Ie]:q[Ie];for(se=0;se<Te.length;se++)Te[se](X,ze,Ie)}else for(se=0;se<Te.length;se++)Te[se](X)}}g.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},g.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},g.reselect=function(X){var q=X._fullLayout,le=(X.layout||{}).selections,$=q._previousSelections;q._previousSelections=le;var j=q._reselect||JSON.stringify(le)!==JSON.stringify($);v.getComponentMethod("selections","reselect")(X,j)},g.generalUpdatePerTraceModule=function(X,q,le,$){var j=q.traceHash,se={},ne;for(ne=0;ne<le.length;ne++){var he=le[ne],me=he[0].trace;me.visible&&(se[me.type]=se[me.type]||[],se[me.type].push(he))}for(var we in j)if(!se[we]){var Te=j[we][0],Le=Te[0].trace;Le.visible=!1,se[we]=[Te]}for(var Ie in se){var ze=se[Ie],Me=ze[0][0].trace._module;Me.plot(X,q,t.filterVisible(ze),$)}q.traceHash=se},g.plotBasePlot=function(X,q,le,$,j){var se=v.getModule(X),ne=T(q.calcdata,se)[0];se.plot(q,ne,$,j)},g.cleanBasePlot=function(X,q,le,$,j){var se=j._has&&j._has(X),ne=le._has&&le._has(X);se&&!ne&&j["_"+X+"layer"].selectAll("g.trace").remove()}},39360:function(U){U.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(U,N,e){var d=e(3400),P=e(92065).tester,n=d.findIndexOfMin,C=d.isAngleInsideSector,x=d.angleDelta,v=d.angleDist;function p(i,g,b,A,R){if(!C(g,A))return!1;var m,L;b[0]<b[1]?(m=b[0],L=b[1]):(m=b[1],L=b[0]);var M=P(u(m,A[0],A[1],R)),s=P(u(L,A[0],A[1],R)),S=[i*Math.cos(g),i*Math.sin(g)];return s.contains(S)&&!M.contains(S)}function r(i,g,b,A){var R,m,L=A[0],M=A[1],s=y(Math.sin(g)-Math.sin(i)),S=y(Math.cos(g)-Math.cos(i)),w=Math.tan(b),_=y(1/w),I=s/S,H=M-I*L;return _?s&&S?(R=H/(w-I),m=w*R):S?(R=M*_,m=M):(R=L,m=L*w):s&&S?(R=0,m=H):S?(R=0,m=M):R=m=NaN,[R,m]}function t(i,g,b,A){var R=-g*b,m=g*g+1,L=2*(g*R-b),M=R*R+b*b-i*i,s=Math.sqrt(L*L-4*m*M),S=(-L+s)/(2*m),w=(-L-s)/(2*m);return[[S,g*S+R+A],[w,g*w+R+A]]}function o(i,g){var b=g.length,A=new Array(b+1),R;for(R=0;R<b;R++){var m=g[R];A[R]=[i*Math.cos(m),i*Math.sin(m)]}return A[R]=A[0].slice(),A}function a(i,g,b,A){var R=A.length,m=[],L,M;function s(F){return[i*Math.cos(F),i*Math.sin(F)]}function S(F,G,Y){return r(F,G,Y,s(F))}function w(F){return d.mod(F,R)}function _(F){return C(F,[g,b])}var I=n(A,function(F){return _(F)?v(F,g):1/0}),H=S(A[I],A[w(I-1)],g);for(m.push(H),L=I,M=0;M<R;L++,M++){var O=A[w(L)];if(!_(O))break;m.push(s(O))}var V=n(A,function(F){return _(F)?v(F,b):1/0}),B=S(A[V],A[w(V+1)],b);return m.push(B),m.push([0,0]),m.push(m[0].slice()),m}function u(i,g,b,A){return d.isFullCircle([g,b])?o(i,A):a(i,g,b,A)}function f(i,g,b,A){for(var R=1/0,m=1/0,L=u(i,g,b,A),M=0;M<L.length;M++){var s=L[M];R=Math.min(R,s[0]),m=Math.min(m,-s[1])}return[R,m]}function l(i,g){var b=function(m){var L=x(m,i);return L>0?L:1/0},A=n(g,b),R=d.mod(A+1,g.length);return[g[A],g[R]]}function y(i){return Math.abs(i)>1e-10?i:0}function c(i,g,b){g=g||0,b=b||0;for(var A=i.length,R=new Array(A),m=0;m<A;m++){var L=i[m];R[m]=[g+L[0],b-L[1]]}return R}function T(i,g,b,A,R,m){var L=u(i,g,b,A);return"M"+c(L,R,m).join("L")}function h(i,g,b,A,R,m,L){var M,s;i<g?(M=i,s=g):(M=g,s=i);var S=c(u(M,b,A,R),m,L),w=c(u(s,b,A,R),m,L);return"M"+w.reverse().join("L")+"M"+S.join("L")}U.exports={isPtInsidePolygon:p,findPolygonOffset:f,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:y,pathPolygon:T,pathPolygonAnnulus:h}},40872:function(U,N,e){var d=e(84888).KY,P=e(3400).counterRegex,n=e(62400),C=e(39360),x=C.attr,v=C.name,p=P(v),r={};r[x]={valType:"subplotid",dflt:v,editType:"calc"};function t(a){for(var u=a._fullLayout,f=a.calcdata,l=u._subplots[v],y=0;y<l.length;y++){var c=l[y],T=d(f,v,c),h=u[c]._subplot;h||(h=n(a,c),u[c]._subplot=h),h.plot(T,u,a._promises)}}function o(a,u,f,l){for(var y=l._subplots[v]||[],c=l._has&&l._has("gl"),T=u._has&&u._has("gl"),h=c&&!T,i=0;i<y.length;i++){var g=y[i],b=l[g]._subplot;if(!u[g]&&b){b.framework.remove(),b.layers["radial-axis-title"].remove();for(var A in b.clipPaths)b.clipPaths[A].remove()}h&&b._scene&&(b._scene.destroy(),b._scene=null)}}U.exports={attr:x,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:o,toSVG:e(57952).toSVG}},95300:function(U,N,e){var d=e(22548),P=e(94724),n=e(86968).u,C=e(3400).extendFlat,x=e(67824).overrideAll,v=x({color:P.color,showline:C({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:C({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=x({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:C({},P.visible,{dflt:!0}),type:C({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:C({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},P.minallowed,{editType:"plot"}),maxallowed:C({},P.maxallowed,{editType:"plot"}),range:C({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},P.title.text,{editType:"plot",dflt:""}),font:C({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};C(r,v,p);var t={visible:C({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,v,p),U.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:d.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(U,N,e){var d=e(3400),P=e(76308),n=e(31780),C=e(168),x=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),o=e(22416),a=e(42136),u=e(76808),f=e(52976),l=e(95300),y=e(57696),c=e(39360),T=c.axisNames;function h(g,b,A,R){var m=A("bgcolor");R.bgColor=P.combine(m,R.paper_bgcolor);var L=A("sector");A("hole");var M=x(R.fullData,c.name,R.id),s=R.layoutOut,S;function w(he,me){return A(S+"."+he,me)}for(var _=0;_<T.length;_++){S=T[_],d.isPlainObject(g[S])||(g[S]={});var I=g[S],H=n.newContainer(b,S);H._id=H._name=S,H._attr=R.id+"."+S,H._traceIndices=M.map(function(he){return he._expandedIndex});var O=c.axisName2dataArray[S],V=i(I,H,w,M,O,R);o(I,H,w,{axData:M,dataAttr:O});var B=w("visible");switch(y(H,b,s),w("uirevision",b.uirevision),H._m=1,S){case"radialaxis":w("minallowed"),w("maxallowed");var F=w("range"),G=H.getAutorangeDflt(F),Y=w("autorange",G),Q;F&&(F[0]===null&&F[1]===null||(F[0]===null||F[1]===null)&&(Y==="reversed"||Y===!0)||F[0]!==null&&(Y==="min"||Y==="max reversed")||F[1]!==null&&(Y==="max"||Y==="min reversed"))&&(F=void 0,delete H.range,H.autorange=!0,Q=!0),Q||(G=H.getAutorangeDflt(F),Y=w("autorange",G)),I.autorange=Y,Y&&(u(w,Y,F),(V==="linear"||V==="-")&&w("rangemode"),H.isReversed()&&(H._m=-1)),H.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(V==="date"){d.log("Polar plots do not support date angular axes yet.");for(var te=0;te<M.length;te++)M[te].visible=!1;V=I.type=H.type="linear"}w(V==="linear"?"thetaunit":"period");var ae=w("direction");w("rotation",{counterclockwise:0,clockwise:90}[ae]);break}if(t(I,H,w,H.type,{tickSuffixDflt:H.thetaunit==="degrees"?"°":void 0}),B){var fe,oe,J,ee,X,q,le,$,j,se,ne=R.font||{};fe=w("color"),oe=fe===I.color?fe:ne.color,J=ne.size,ee=ne.family,X=ne.weight,q=ne.style,le=ne.variant,$=ne.textcase,j=ne.lineposition,se=ne.shadow,v(I,H,w,H.type),r(I,H,w,H.type,{font:{weight:X,style:q,variant:le,textcase:$,lineposition:j,shadow:se,color:oe,size:J,family:ee},noAutotickangles:S==="angularaxis",noTicklabelshift:!0,noTicklabelstandoff:!0}),p(I,H,w,{outerTicks:!0}),a(I,H,w,{dfltColor:fe,bgColor:R.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[S]}),w("layer"),S==="radialaxis"&&(w("side"),w("angle",L[0]),w("title.text"),d.coerceFont(w,"title.font",{weight:X,style:q,variant:le,textcase:$,lineposition:j,shadow:se,color:oe,size:d.bigFont(J),family:ee}))}V!=="category"&&w("hoverformat"),H._input=I}b.angularaxis.type==="category"&&A("gridshape")}function i(g,b,A,R,m,L){var M=A("autotypenumbers",L.autotypenumbersDflt),s=A("type");if(s==="-"){for(var S,w=0;w<R.length;w++)if(R[w].visible){S=R[w];break}S&&S[m]&&(b.type=f(S[m],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),b.type==="-"?b.type="linear":g.type=b.type}return b.type}U.exports=function(b,A,R){C(b,A,R,{type:c.name,attributes:l,handleDefaults:h,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:R,layoutOut:A})}},62400:function(U,N,e){var d=e(33428),P=e(49760),n=e(24040),C=e(3400),x=C.strRotate,v=C.strTranslate,p=e(76308),r=e(43616),t=e(7316),o=e(54460),a=e(78344),u=e(57696),f=e(19280).doAutoRange,l=e(51184),y=e(86476),c=e(93024),T=e(81668),h=e(22676).prepSelect,i=e(22676).selectOnClick,g=e(22676).clearOutline,b=e(93972),A=e(73696),R=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,L=e(39360),M=e(57384),s=e(36416),S=s.smith,w=s.reactanceArc,_=s.resistanceArc,I=s.smithTransform,H=C._,O=C.mod,V=C.deg2rad,B=C.rad2deg;function F(fe,oe,J){this.isSmith=J||!1,this.id=oe,this.gd=fe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ee=fe._fullLayout,X="clip"+ee._uid+oe;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=ee._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ee["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",oe),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var G=F.prototype;U.exports=function(oe,J,ee){return new F(oe,J,ee)},G.plot=function(fe,oe){for(var J=this,ee=oe[J.id],X=!1,q=0;q<fe.length;q++){var le=fe[q][0].trace;if(le.cliponaxis===!1){X=!0;break}}J._hasClipOnAxisFalse=X,J.updateLayers(oe,ee),J.updateLayout(oe,ee),t.generalUpdatePerTraceModule(J.gd,J,fe,ee),J.updateFx(oe,ee),J.isSmith&&(delete ee.realaxis.range,delete ee.imaginaryaxis.range)},G.updateLayers=function(fe,oe){var J=this,ee=J.isSmith,X=J.layers,q=J.getRadial(oe),le=J.getAngular(oe),$=L.layerNames,j=$.indexOf("frontplot"),se=$.slice(0,j),ne=le.layer==="below traces",he=q.layer==="below traces";ne&&se.push("angular-line"),he&&se.push("radial-line"),ne&&se.push("angular-axis"),he&&se.push("radial-axis"),se.push("frontplot"),ne||se.push("angular-line"),he||se.push("radial-line"),ne||se.push("angular-axis"),he||se.push("radial-axis");var me=(ee?"smith":"polar")+"sublayer",we=J.framework.selectAll("."+me).data(se,String);we.enter().append("g").attr("class",function(Te){return me+" "+Te}).each(function(Te){var Le=X[Te]=d.select(this);switch(Te){case"frontplot":ee||Le.append("g").classed("barlayer",!0),Le.append("g").classed("scatterlayer",!0);break;case"backplot":Le.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Le.append("path");break;case"radial-grid":Le.style("fill","none");break;case"angular-grid":Le.style("fill","none");break;case"radial-line":Le.append("line").style("fill","none");break;case"angular-line":Le.append("path").style("fill","none");break}}),we.order()},G.updateLayout=function(fe,oe){var J=this,ee=J.layers,X=fe._size,q=J.getRadial(oe),le=J.getAngular(oe),$=oe.domain.x,j=oe.domain.y;J.xOffset=X.l+X.w*$[0],J.yOffset=X.t+X.h*(1-j[1]);var se=J.xLength=X.w*($[1]-$[0]),ne=J.yLength=X.h*(j[1]-j[0]),he=J.getSector(oe);J.sectorInRad=he.map(V);var me=J.sectorBBox=Q(he),we=me[2]-me[0],Te=me[3]-me[1],Le=ne/se,Ie=Math.abs(Te/we),ze,Me,_e,Ce,Oe;Le>Ie?(ze=se,Me=se*Ie,Oe=(ne-Me)/X.h/2,_e=[$[0],$[1]],Ce=[j[0]+Oe,j[1]-Oe]):(ze=ne/Ie,Me=ne,Oe=(se-ze)/X.w/2,_e=[$[0]+Oe,$[1]-Oe],Ce=[j[0],j[1]]),J.xLength2=ze,J.yLength2=Me,J.xDomain2=_e,J.yDomain2=Ce;var Pe=J.xOffset2=X.l+X.w*_e[0],Ge=J.yOffset2=X.t+X.h*(1-Ce[1]),Ze=J.radius=ze/we,it=J.innerRadius=J.getHole(oe)*Ze,Je=J.cx=Pe-Ze*me[0],et=J.cy=Ge+Ze*me[3],ft=J.cxx=Je-Pe,vt=J.cyy=et-Ge,dt=q.side,xt;dt==="counterclockwise"?(xt=dt,dt="top"):dt==="clockwise"&&(xt=dt,dt="bottom"),J.radialAxis=J.mockAxis(fe,oe,q,{_id:"x",side:dt,_trueSide:xt,domain:[it/X.w,Ze/X.w]}),J.angularAxis=J.mockAxis(fe,oe,le,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(fe,oe),J.updateAngularAxis(fe,oe),J.updateRadialAxis(fe,oe),J.updateRadialAxisTitle(fe,oe),J.xaxis=J.mockCartesianAxis(fe,oe,{_id:"x",domain:_e}),J.yaxis=J.mockCartesianAxis(fe,oe,{_id:"y",domain:Ce});var Mt=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(ft,vt)),ee.frontplot.attr("transform",v(Pe,Ge)).call(r.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),ee.bg.attr("d",Mt).attr("transform",v(Je,et)).call(p.fill,oe.bgcolor)},G.mockAxis=function(fe,oe,J,ee){var X=C.extendFlat({},J,ee);return u(X,oe,fe),X},G.mockCartesianAxis=function(fe,oe,J){var ee=this,X=ee.isSmith,q=J._id,le=C.extendFlat({type:"linear"},J);a(le,fe);var $={x:[0,2],y:[1,3]};return le.setRange=function(){var j=ee.sectorBBox,se=$[q],ne=ee.radialAxis._rl,he=(ne[1]-ne[0])/(1-ee.getHole(oe));le.range=[j[se[0]]*he,j[se[1]]*he]},le.isPtWithinRange=q==="x"&&!X?function(j){return ee.isPtInside(j)}:function(){return!0},le.setRange(),le.setScale(),le},G.doAutoRange=function(fe,oe){var J=this,ee=J.gd,X=J.radialAxis,q=J.getRadial(oe);f(ee,X);var le=X.range;if(q.range=le.slice(),q._input.range=le.slice(),X._rl=[X.r2l(le[0],null,"gregorian"),X.r2l(le[1],null,"gregorian")],X.minallowed!==void 0){var $=X.r2l(X.minallowed);X._rl[0]>X._rl[1]?X._rl[1]=Math.max(X._rl[1],$):X._rl[0]=Math.max(X._rl[0],$)}if(X.maxallowed!==void 0){var j=X.r2l(X.maxallowed);X._rl[0]<X._rl[1]?X._rl[1]=Math.min(X._rl[1],j):X._rl[0]=Math.min(X._rl[0],j)}},G.updateRadialAxis=function(fe,oe){var J=this,ee=J.gd,X=J.layers,q=J.radius,le=J.innerRadius,$=J.cx,j=J.cy,se=J.getRadial(oe),ne=O(J.getSector(oe)[0],360),he=J.radialAxis,me=le<q,we=J.isSmith;we||(J.fillViewInitialKey("radialaxis.angle",se.angle),J.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ne>90&&ne<=270&&(he.tickangle=180);var Te=we?function(Ze){var it=I(J,S([Ze.x,0]));return v(it[0]-$,it[1]-j)}:function(Ze){return v(he.l2p(Ze.x)+le,0)},Le=we?function(Ze){return _(J,Ze.x,-1/0,1/0)}:function(Ze){return J.pathArc(he.r2p(Ze.x)+le)},Ie=Y(se);if(J.radialTickLayout!==Ie&&(X["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=Ie),me){he.setScale();var ze=0,Me=we?(he.tickvals||[]).filter(function(Ze){return Ze>=0}).map(function(Ze){return o.tickText(he,Ze,!0,!1)}):o.calcTicks(he),_e=we?Me:o.clipEnds(he,Me),Ce=o.getTickSigns(he)[2];we&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Ce=-Ce),he.ticks==="top"&&he.side==="top"&&(ze=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(ze=he.ticklen)),o.drawTicks(ee,he,{vals:Me,layer:X["radial-axis"],path:o.makeTickPath(he,0,Ce),transFn:Te,crisp:!1}),o.drawGrid(ee,he,{vals:_e,layer:X["radial-grid"],path:Le,transFn:C.noop,crisp:!1}),o.drawLabels(ee,he,{vals:Me,layer:X["radial-axis"],transFn:Te,labelFns:o.makeLabelFns(he,ze)})}var Oe=J.radialAxisAngle=J.vangles?B(te(V(se.angle),J.vangles)):se.angle,Pe=v($,j),Ge=Pe+x(-Oe);ae(X["radial-axis"],me&&(se.showticklabels||se.ticks),{transform:Ge}),ae(X["radial-grid"],me&&se.showgrid,{transform:we?"":Pe}),ae(X["radial-line"].select("line"),me&&se.showline,{x1:we?-q:le,y1:0,x2:q,y2:0,transform:Ge}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},G.updateRadialAxisTitle=function(fe,oe,J){if(!this.isSmith){var ee=this,X=ee.gd,q=ee.radius,le=ee.cx,$=ee.cy,j=ee.getRadial(oe),se=ee.id+"title",ne=0;if(j.title){var he=r.bBox(ee.layers["radial-axis"].node()).height,me=j.title.font.size,we=j.side;ne=we==="top"?me:we==="counterclockwise"?-(he+me*.4):he+me*.8}var Te=J!==void 0?J:ee.radialAxisAngle,Le=V(Te),Ie=Math.cos(Le),ze=Math.sin(Le),Me=le+q/2*Ie+ne*ze,_e=$-q/2*ze+ne*Ie;ee.layers["radial-axis-title"]=T.draw(X,se,{propContainer:j,propName:ee.id+".radialaxis.title",placeholder:H(X,"Click to enter radial axis title"),attributes:{x:Me,y:_e,"text-anchor":"middle"},transform:{rotate:-Te}})}},G.updateAngularAxis=function(fe,oe){var J=this,ee=J.gd,X=J.layers,q=J.radius,le=J.innerRadius,$=J.cx,j=J.cy,se=J.getAngular(oe),ne=J.angularAxis,he=J.isSmith;he||(J.fillViewInitialKey("angularaxis.rotation",se.rotation),ne.setGeometry(),ne.setScale());var me=he?function(it){var Je=I(J,S([0,it.x]));return Math.atan2(Je[0]-$,Je[1]-j)-Math.PI/2}:function(it){return ne.t2g(it.x)};ne.type==="linear"&&ne.thetaunit==="radians"&&(ne.tick0=B(ne.tick0),ne.dtick=B(ne.dtick));var we=function(it){return v($+q*Math.cos(it),j-q*Math.sin(it))},Te=he?function(it){var Je=I(J,S([0,it.x]));return v(Je[0],Je[1])}:function(it){return we(me(it))},Le=he?function(it){var Je=I(J,S([0,it.x])),et=Math.atan2(Je[0]-$,Je[1]-j)-Math.PI/2;return v(Je[0],Je[1])+x(-B(et))}:function(it){var Je=me(it);return we(Je)+x(-B(Je))},Ie=he?function(it){return w(J,it.x,0,1/0)}:function(it){var Je=me(it),et=Math.cos(Je),ft=Math.sin(Je);return"M"+[$+le*et,j-le*ft]+"L"+[$+q*et,j-q*ft]},ze=o.makeLabelFns(ne,0),Me=ze.labelStandoff,_e={};_e.xFn=function(it){var Je=me(it);return Math.cos(Je)*Me},_e.yFn=function(it){var Je=me(it),et=Math.sin(Je)>0?.2:1;return-Math.sin(Je)*(Me+it.fontSize*et)+Math.abs(Math.cos(Je))*(it.fontSize*m)},_e.anchorFn=function(it){var Je=me(it),et=Math.cos(Je);return Math.abs(et)<.1?"middle":et>0?"start":"end"},_e.heightFn=function(it,Je,et){var ft=me(it);return-.5*(1+Math.sin(ft))*et};var Ce=Y(se);J.angularTickLayout!==Ce&&(X["angular-axis"].selectAll("."+ne._id+"tick").remove(),J.angularTickLayout=Ce);var Oe=he?[1/0].concat(ne.tickvals||[]).map(function(it){return o.tickText(ne,it,!0,!1)}):o.calcTicks(ne);he&&(Oe[0].text="∞",Oe[0].fontSize*=1.75);var Pe;if(oe.gridshape==="linear"?(Pe=Oe.map(me),C.angleDelta(Pe[0],Pe[1])<0&&(Pe=Pe.slice().reverse())):Pe=null,J.vangles=Pe,ne.type==="category"&&(Oe=Oe.filter(function(it){return C.isAngleInsideSector(me(it),J.sectorInRad)})),ne.visible){var Ge=ne.ticks==="inside"?-1:1,Ze=(ne.linewidth||1)/2;o.drawTicks(ee,ne,{vals:Oe,layer:X["angular-axis"],path:"M"+Ge*Ze+",0h"+Ge*ne.ticklen,transFn:Le,crisp:!1}),o.drawGrid(ee,ne,{vals:Oe,layer:X["angular-grid"],path:Ie,transFn:C.noop,crisp:!1}),o.drawLabels(ee,ne,{vals:Oe,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:_e})}ae(X["angular-line"].select("path"),se.showline,{d:J.pathSubplot(),transform:v($,j)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},G.updateFx=function(fe,oe){if(!this.gd._context.staticPlot){var J=!this.isSmith;J&&(this.updateAngularDrag(fe),this.updateRadialDrag(fe,oe,0),this.updateRadialDrag(fe,oe,1)),this.updateHoverAndMainDrag(fe)}},G.updateHoverAndMainDrag=function(fe){var oe=this,J=oe.isSmith,ee=oe.gd,X=oe.layers,q=fe._zoomlayer,le=L.MINZOOM,$=L.OFFEDGE,j=oe.radius,se=oe.innerRadius,ne=oe.cx,he=oe.cy,me=oe.cxx,we=oe.cyy,Te=oe.sectorInRad,Le=oe.vangles,Ie=oe.radialAxis,ze=M.clampTiny,Me=M.findXYatLength,_e=M.findEnclosingVertexAngles,Ce=L.cornerHalfWidth,Oe=L.cornerLen/2,Pe,Ge,Ze=l.makeDragger(X,"path","maindrag",fe.dragmode===!1?"none":"crosshair");d.select(Ze).attr("d",oe.pathSubplot()).attr("transform",v(ne,he)),Ze.onmousemove=function(Tt){c.hover(ee,Tt,oe.id),ee._fullLayout._lasthover=Ze,ee._fullLayout._hoversubplot=oe.id},Ze.onmouseout=function(Tt){ee._dragging||y.unhover(ee,Tt)};var it={element:Ze,gd:ee,subplot:oe.id,plotinfo:{id:oe.id,xaxis:oe.xaxis,yaxis:oe.yaxis},xaxes:[oe.xaxis],yaxes:[oe.yaxis]},Je,et,ft,vt,dt,xt,Mt,nt,Fe;function We(Tt,Lt){return Math.sqrt(Tt*Tt+Lt*Lt)}function je(Tt,Lt){return We(Tt-me,Lt-we)}function Ke(Tt,Lt){return Math.atan2(we-Lt,Tt-me)}function ke(Tt,Lt){return[Tt*Math.cos(Lt),Tt*Math.sin(-Lt)]}function Ue(Tt,Lt){if(Tt===0)return oe.pathSector(2*Ce);var Kt=Oe/Tt,vr=Lt-Kt,gt=Lt+Kt,Xt=Math.max(0,Math.min(Tt,j)),$t=Xt-Ce,mr=Xt+Ce;return"M"+ke($t,vr)+"A"+[$t,$t]+" 0,0,0 "+ke($t,gt)+"L"+ke(mr,gt)+"A"+[mr,mr]+" 0,0,1 "+ke(mr,vr)+"Z"}function Ve(Tt,Lt,Kt){if(Tt===0)return oe.pathSector(2*Ce);var vr=ke(Tt,Lt),gt=ke(Tt,Kt),Xt=ze((vr[0]+gt[0])/2),$t=ze((vr[1]+gt[1])/2),mr,or;if(Xt&&$t){var yt=$t/Xt,ut=-1/yt,bt=Me(Ce,yt,Xt,$t);mr=Me(Oe,ut,bt[0][0],bt[0][1]),or=Me(Oe,ut,bt[1][0],bt[1][1])}else{var Et,It;$t?(Et=Oe,It=Ce):(Et=Ce,It=Oe),mr=[[Xt-Et,$t-It],[Xt+Et,$t-It]],or=[[Xt-Et,$t+It],[Xt+Et,$t+It]]}return"M"+mr.join("L")+"L"+or.reverse().join("L")+"Z"}function Re(){ft=null,vt=null,dt=oe.pathSubplot(),xt=!1;var Tt=ee._fullLayout[oe.id];Mt=P(Tt.bgcolor).getLuminance(),nt=l.makeZoombox(q,Mt,ne,he,dt),nt.attr("fill-rule","evenodd"),Fe=l.makeCorners(q,ne,he),g(ee)}function de(Tt,Lt){return Lt=Math.max(Math.min(Lt,j),se),Tt<$?Tt=0:j-Tt<$?Tt=j:Lt<$?Lt=0:j-Lt<$&&(Lt=j),Math.abs(Lt-Tt)>le?(Tt<Lt?(ft=Tt,vt=Lt):(ft=Lt,vt=Tt),!0):(ft=null,vt=null,!1)}function be(Tt,Lt){Tt=Tt||dt,Lt=Lt||"M0,0Z",nt.attr("d",Tt),Fe.attr("d",Lt),l.transitionZoombox(nt,Fe,xt,Mt),xt=!0;var Kt={};Ht(Kt),ee.emit("plotly_relayouting",Kt)}function Ne(Tt,Lt){Tt=Tt*Pe,Lt=Lt*Ge;var Kt=Je+Tt,vr=et+Lt,gt=je(Je,et),Xt=Math.min(je(Kt,vr),j),$t=Ke(Je,et),mr,or;de(gt,Xt)&&(mr=dt+oe.pathSector(vt),ft&&(mr+=oe.pathSector(ft)),or=Ue(ft,$t)+Ue(vt,$t)),be(mr,or)}function Ye(Tt,Lt,Kt,vr){var gt=M.findIntersectionXY(Kt,vr,Kt,[Tt-me,we-Lt]);return We(gt[0],gt[1])}function at(Tt,Lt){var Kt=Je+Tt,vr=et+Lt,gt=Ke(Je,et),Xt=Ke(Kt,vr),$t=_e(gt,Le),mr=_e(Xt,Le),or=Ye(Je,et,$t[0],$t[1]),yt=Math.min(Ye(Kt,vr,mr[0],mr[1]),j),ut,bt;de(or,yt)&&(ut=dt+oe.pathSector(vt),ft&&(ut+=oe.pathSector(ft)),bt=[Ve(ft,$t[0],$t[1]),Ve(vt,$t[0],$t[1])].join(" ")),be(ut,bt)}function lt(){if(l.removeZoombox(ee),!(ft===null||vt===null)){var Tt={};Ht(Tt),l.showDoubleClickNotifier(ee),n.call("_guiRelayout",ee,Tt)}}function Ht(Tt){var Lt=Ie._rl,Kt=(Lt[1]-Lt[0])/(1-se/j)/j,vr=[Lt[0]+(ft-se)*Kt,Lt[0]+(vt-se)*Kt];Tt[oe.id+".radialaxis.range"]=vr}function Yt(Tt,Lt){var Kt=ee._fullLayout.clickmode;if(l.removeZoombox(ee),Tt===2){var vr={};for(var gt in oe.viewInitial)vr[oe.id+"."+gt]=oe.viewInitial[gt];ee.emit("plotly_doubleclick",null),n.call("_guiRelayout",ee,vr)}Kt.indexOf("select")>-1&&Tt===1&&i(Lt,ee,[oe.xaxis],[oe.yaxis],oe.id,it),Kt.indexOf("event")>-1&&c.click(ee,Lt,oe.id)}it.prepFn=function(Tt,Lt,Kt){var vr=ee._fullLayout.dragmode,gt=Ze.getBoundingClientRect();ee._fullLayout._calcInverseTransform(ee);var Xt=ee._fullLayout._invTransform;Pe=ee._fullLayout._invScaleX,Ge=ee._fullLayout._invScaleY;var $t=C.apply3DTransform(Xt)(Lt-gt.left,Kt-gt.top);if(Je=$t[0],et=$t[1],Le){var mr=M.findPolygonOffset(j,Te[0],Te[1],Le);Je+=me+mr[0],et+=we+mr[1]}switch(vr){case"zoom":it.clickFn=Yt,J||(Le?it.moveFn=at:it.moveFn=Ne,it.doneFn=lt,Re());break;case"select":case"lasso":h(Tt,Lt,Kt,it,vr);break}},y.init(it)},G.updateRadialDrag=function(fe,oe,J){var ee=this,X=ee.gd,q=ee.layers,le=ee.radius,$=ee.innerRadius,j=ee.cx,se=ee.cy,ne=ee.radialAxis,he=L.radialDragBoxSize,me=he/2;if(!ne.visible)return;var we=V(ee.radialAxisAngle),Te=ne._rl,Le=Te[0],Ie=Te[1],ze=Te[J],Me=.75*(Te[1]-Te[0])/(1-ee.getHole(oe))/le,_e,Ce,Oe;J?(_e=j+(le+me)*Math.cos(we),Ce=se-(le+me)*Math.sin(we),Oe="radialdrag"):(_e=j+($-me)*Math.cos(we),Ce=se-($-me)*Math.sin(we),Oe="radialdrag-inner");var Pe=l.makeRectDragger(q,Oe,"crosshair",-me,-me,he,he),Ge={element:Pe,gd:X};fe.dragmode===!1&&(Ge.dragmode=!1),ae(d.select(Pe),ne.visible&&$<le,{transform:v(_e,Ce)});var Ze,it,Je;function et(Mt,nt){if(Ze)Ze(Mt,nt);else{var Fe=[Mt,-nt],We=[Math.cos(we),Math.sin(we)],je=Math.abs(C.dot(Fe,We)/Math.sqrt(C.dot(Fe,Fe)));isNaN(je)||(Ze=je<.5?dt:xt)}var Ke={};ft(Ke),X.emit("plotly_relayouting",Ke)}function ft(Mt){it!==null?Mt[ee.id+".radialaxis.angle"]=it:Je!==null&&(Mt[ee.id+".radialaxis.range["+J+"]"]=Je)}function vt(){it!==null?n.call("_guiRelayout",X,ee.id+".radialaxis.angle",it):Je!==null&&n.call("_guiRelayout",X,ee.id+".radialaxis.range["+J+"]",Je)}function dt(Mt,nt){if(J!==0){var Fe=_e+Mt,We=Ce+nt;it=Math.atan2(se-We,Fe-j),ee.vangles&&(it=te(it,ee.vangles)),it=B(it);var je=v(j,se)+x(-it);q["radial-axis"].attr("transform",je),q["radial-line"].select("line").attr("transform",je);var Ke=ee.gd._fullLayout,ke=Ke[ee.id];ee.updateRadialAxisTitle(Ke,ke,it)}}function xt(Mt,nt){var Fe=C.dot([Mt,-nt],[Math.cos(we),Math.sin(we)]);if(Je=ze-Me*Fe,Me>0!=(J?Je>Le:Je<Ie)){Je=null;return}var We=X._fullLayout,je=We[ee.id];ne.range[J]=Je,ne._rl[J]=Je,ee.updateRadialAxis(We,je),ee.xaxis.setRange(),ee.xaxis.setScale(),ee.yaxis.setRange(),ee.yaxis.setScale();var Ke=!1;for(var ke in ee.traceHash){var Ue=ee.traceHash[ke],Ve=C.filterVisible(Ue),Re=Ue[0][0].trace._module;Re.plot(X,ee,Ve,je),n.traceIs(ke,"gl")&&Ve.length&&(Ke=!0)}Ke&&(A(X),R(X))}Ge.prepFn=function(){Ze=null,it=null,Je=null,Ge.moveFn=et,Ge.doneFn=vt,g(X)},Ge.clampFn=function(Mt,nt){return Math.sqrt(Mt*Mt+nt*nt)<L.MINDRAG&&(Mt=0,nt=0),[Mt,nt]},y.init(Ge)},G.updateAngularDrag=function(fe){var oe=this,J=oe.gd,ee=oe.layers,X=oe.radius,q=oe.angularAxis,le=oe.cx,$=oe.cy,j=oe.cxx,se=oe.cyy,ne=L.angularDragBoxSize,he=l.makeDragger(ee,"path","angulardrag",fe.dragmode===!1?"none":"move"),me={element:he,gd:J};fe.dragmode===!1?me.dragmode=!1:d.select(he).attr("d",oe.pathAnnulus(X,X+ne)).attr("transform",v(le,$)).call(b,"move");function we(Je,et){return Math.atan2(se+ne-et,Je-j-ne)}var Te=ee.frontplot.select(".scatterlayer").selectAll(".trace"),Le=Te.selectAll(".point"),Ie=Te.selectAll(".textpoint"),ze,Me,_e,Ce,Oe,Pe;function Ge(Je,et){var ft=oe.gd._fullLayout,vt=ft[oe.id],dt=ze+Je*fe._invScaleX,xt=Me+et*fe._invScaleY,Mt=we(dt,xt),nt=B(Mt-Pe);if(Ce=_e+nt,ee.frontplot.attr("transform",v(oe.xOffset2,oe.yOffset2)+x([-nt,j,se])),oe.vangles){Oe=oe.radialAxisAngle+nt;var Fe=v(le,$)+x(-nt),We=v(le,$)+x(-Oe);ee.bg.attr("transform",Fe),ee["radial-grid"].attr("transform",Fe),ee["radial-axis"].attr("transform",We),ee["radial-line"].select("line").attr("transform",We),oe.updateRadialAxisTitle(ft,vt,Oe)}else oe.clipPaths.forTraces.select("path").attr("transform",v(j,se)+x(nt));Le.each(function(){var de=d.select(this),be=r.getTranslate(de);de.attr("transform",v(be.x,be.y)+x([nt]))}),Ie.each(function(){var de=d.select(this),be=de.select("text"),Ne=r.getTranslate(de);de.attr("transform",x([nt,be.attr("x"),be.attr("y")])+v(Ne.x,Ne.y))}),q.rotation=C.modHalf(Ce,360),oe.updateAngularAxis(ft,vt),oe._hasClipOnAxisFalse&&!C.isFullCircle(oe.sectorInRad)&&Te.call(r.hideOutsideRangePoints,oe);var je=!1;for(var Ke in oe.traceHash)if(n.traceIs(Ke,"gl")){var ke=oe.traceHash[Ke],Ue=C.filterVisible(ke),Ve=ke[0][0].trace._module;Ve.plot(J,oe,Ue,vt),Ue.length&&(je=!0)}je&&(A(J),R(J));var Re={};Ze(Re),J.emit("plotly_relayouting",Re)}function Ze(Je){Je[oe.id+".angularaxis.rotation"]=Ce,oe.vangles&&(Je[oe.id+".radialaxis.angle"]=Oe)}function it(){Ie.select("text").attr("transform",null);var Je={};Ze(Je),n.call("_guiRelayout",J,Je)}me.prepFn=function(Je,et,ft){var vt=fe[oe.id];_e=vt.angularaxis.rotation;var dt=he.getBoundingClientRect();ze=et-dt.left,Me=ft-dt.top,J._fullLayout._calcInverseTransform(J);var xt=C.apply3DTransform(fe._invTransform)(ze,Me);ze=xt[0],Me=xt[1],Pe=we(ze,Me),me.moveFn=Ge,me.doneFn=it,g(J)},oe.vangles&&!C.isFullCircle(oe.sectorInRad)&&(me.prepFn=C.noop,b(d.select(he),null)),y.init(me)},G.isPtInside=function(fe){if(this.isSmith)return!0;var oe=this.sectorInRad,J=this.vangles,ee=this.angularAxis.c2g(fe.theta),X=this.radialAxis,q=X.c2l(fe.r),le=X._rl,$=J?M.isPtInsidePolygon:C.isPtInsideSector;return $(q,ee,le,oe,J)},G.pathArc=function(fe){var oe=this.sectorInRad,J=this.vangles,ee=J?M.pathPolygon:C.pathArc;return ee(fe,oe[0],oe[1],J)},G.pathSector=function(fe){var oe=this.sectorInRad,J=this.vangles,ee=J?M.pathPolygon:C.pathSector;return ee(fe,oe[0],oe[1],J)},G.pathAnnulus=function(fe,oe){var J=this.sectorInRad,ee=this.vangles,X=ee?M.pathPolygonAnnulus:C.pathAnnulus;return X(fe,oe,J[0],J[1],ee)},G.pathSubplot=function(){var fe=this.innerRadius,oe=this.radius;return fe?this.pathAnnulus(fe,oe):this.pathSector(oe)},G.fillViewInitialKey=function(fe,oe){fe in this.viewInitial||(this.viewInitial[fe]=oe)};function Y(fe){var oe=fe.ticks+String(fe.ticklen)+String(fe.showticklabels);return"side"in fe&&(oe+=fe.side),oe}function Q(fe){var oe=fe[0],J=fe[1],ee=J-oe,X=O(oe,360),q=X+ee,le=Math.cos(V(X)),$=Math.sin(V(X)),j=Math.cos(V(q)),se=Math.sin(V(q)),ne,he,me,we;return X<=90&&q>=90||X>90&&q>=450?we=1:$<=0&&se<=0?we=0:we=Math.max($,se),X<=180&&q>=180||X>180&&q>=540?ne=-1:le>=0&&j>=0?ne=0:ne=Math.min(le,j),X<=270&&q>=270||X>270&&q>=630?he=-1:$>=0&&se>=0?he=0:he=Math.min($,se),q>=360?me=1:le<=0&&j<=0?me=0:me=Math.max(le,j),[ne,he,me,we]}function te(fe,oe){var J=function(X){return C.angleDist(fe,X)},ee=C.findIndexOfMin(oe,J);return oe[ee]}function ae(fe,oe,J){return oe?(fe.attr("display",null),fe.attr(J)):fe&&fe.attr("display","none"),fe}},57696:function(U,N,e){var d=e(3400),P=e(78344),n=d.deg2rad,C=d.rad2deg;U.exports=function(o,a,u){switch(P(o,u),o._id){case"x":case"radialaxis":x(o,a);break;case"angularaxis":r(o,a);break}};function x(t,o){var a=o._subplot;t.setGeometry=function(){var u=t._rl[0],f=t._rl[1],l=a.innerRadius,y=(a.radius-l)/(f-u),c=l/y,T=u>f?function(h){return h<=0}:function(h){return h>=0};t.c2g=function(h){var i=t.c2l(h)-u;return(T(i)?i:0)+c},t.g2c=function(h){return t.l2c(h+u-c)},t.g2p=function(h){return h*y},t.c2p=function(h){return t.g2p(t.c2g(h))}}}function v(t,o){return o==="degrees"?n(t):t}function p(t,o){return o==="degrees"?C(t):t}function r(t,o){var a=t.type;if(a==="linear"){var u=t.d2c,f=t.c2d;t.d2c=function(l,y){return v(u(l),y)},t.c2d=function(l,y){return f(p(l,y))}}t.makeCalcdata=function(l,y){var c=l[y],T=l._length,h,i,g=function(L){return t.d2c(L,l.thetaunit)};if(c)for(h=new Array(T),i=0;i<T;i++)h[i]=g(c[i]);else{var b=y+"0",A="d"+y,R=b in l?g(l[b]):0,m=l[A]?g(l[A]):(t.period||2*Math.PI)/T;for(h=new Array(T),i=0;i<T;i++)h[i]=R+i*m}return h},t.setGeometry=function(){var l=o.sector,y=l.map(n),c={clockwise:-1,counterclockwise:1}[t.direction],T=n(t.rotation),h=function(M){return c*M+T},i=function(M){return(M-T)/c},g,b,A,R;switch(a){case"linear":b=g=d.identity,R=n,A=C,t.range=d.isFullCircle(y)?[l[0],l[0]+360]:y.map(i).map(C);break;case"category":var m=t._categories.length,L=t.period?Math.max(t.period,m):m;L===0&&(L=1),b=R=function(M){return M*2*Math.PI/L},g=A=function(M){return M*L/Math.PI/2},t.range=[0,L];break}t.c2g=function(M){return h(b(M))},t.g2c=function(M){return g(i(M))},t.t2g=function(M){return h(R(M))},t.g2t=function(M){return A(i(M))}}}},55012:function(U){U.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(U){function N(x){return x<0?-1:x>0?1:0}function e(x){var v=x[0],p=x[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function d(x,v){var p=v[0],r=v[1];return[p*x.radius+x.cx,-r*x.radius+x.cy]}function P(x,v){return v*x.radius}function n(x,v,p,r){var t=d(x,e([p,v])),o=t[0],a=t[1],u=d(x,e([r,v])),f=u[0],l=u[1];if(v===0)return["M"+o+","+a,"L"+f+","+l].join(" ");var y=P(x,1/Math.abs(v));return["M"+o+","+a,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+f+","+l].join(" ")}function C(x,v,p,r){var t=P(x,1/(v+1)),o=d(x,e([v,p])),a=o[0],u=o[1],f=d(x,e([v,r])),l=f[0],y=f[1];if(N(p)!==N(r)){var c=d(x,e([v,0])),T=c[0],h=c[1];return["M"+a+","+u,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+h,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+y].join(" ")}return["M"+a+","+u,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+y].join(" ")}U.exports={smith:e,reactanceArc:n,resistanceArc:C,smithTransform:d}},47788:function(U,N,e){var d=e(84888).KY,P=e(3400).counterRegex,n=e(62400),C=e(55012),x=C.attr,v=C.name,p=P(v),r={};r[x]={valType:"subplotid",dflt:v,editType:"calc"};function t(a){for(var u=a._fullLayout,f=a.calcdata,l=u._subplots[v],y=0;y<l.length;y++){var c=l[y],T=d(f,v,c),h=u[c]._subplot;h||(h=n(a,c,!0),u[c]._subplot=h),h.plot(T,u,a._promises)}}function o(a,u,f,l){for(var y=l._subplots[v]||[],c=0;c<y.length;c++){var T=y[c],h=l[T]._subplot;if(!u[T]&&h){h.framework.remove();for(var i in h.clipPaths)h.clipPaths[i].remove()}}}U.exports={attr:x,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:o,toSVG:e(57952).toSVG}},6183:function(U,N,e){var d=e(22548),P=e(94724),n=e(86968).u,C=e(3400).extendFlat,x=e(67824).overrideAll,v=x({color:P.color,showline:C({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:C({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=x({ticklen:P.ticklen,tickwidth:C({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=C({visible:C({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=C({visible:C({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);U.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:d.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(U,N,e){var d=e(3400),P=e(76308),n=e(31780),C=e(168),x=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),o=e(6183),a=e(55012),u=a.axisNames,f=y(function(c){return d.isTypedArray(c)&&(c=Array.from(c)),c.slice().reverse().map(function(T){return-T}).concat([0]).concat(c)},String);function l(c,T,h,i){var g=h("bgcolor");i.bgColor=P.combine(g,i.paper_bgcolor);var b=x(i.fullData,a.name,i.id),A=i.layoutOut,R;function m(G,Y){return h(R+"."+G,Y)}for(var L=0;L<u.length;L++){R=u[L],d.isPlainObject(c[R])||(c[R]={});var M=c[R],s=n.newContainer(T,R);s._id=s._name=R,s._attr=i.id+"."+R,s._traceIndices=b.map(function(G){return G._expandedIndex});var S=m("visible");if(s.type="linear",t(s,A),v(M,s,m,s.type),S){var w=R==="realaxis";if(w&&m("side"),w)m("tickvals");else{var _=f(T.realaxis.tickvals||o.realaxis.tickvals.dflt);m("tickvals",_)}d.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var I,H,O,V,B=i.font||{};S&&(I=m("color"),H=I===M.color?I:B.color,O=B.size,V=B.family),p(M,s,m,s.type,{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noAng:!w,noExp:!0,font:{color:H,size:O,family:V}}),d.coerce2(c,T,o,R+".ticklen"),d.coerce2(c,T,o,R+".tickwidth"),d.coerce2(c,T,o,R+".tickcolor",T.color);var F=m("ticks");F||(delete T[R].ticklen,delete T[R].tickwidth,delete T[R].tickcolor),r(M,s,m,{dfltColor:I,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[R]}),m("layer")}m("hoverformat"),delete s.type,s._input=M}}U.exports=function(T,h,i){C(T,h,i,{noUirevision:!0,type:a.name,attributes:o,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:i,layoutOut:h})};function y(c,T){var h={};return function(i){var g=T?T(i):i;if(g in h)return h[g];var b=c(i);return h[g]=b,b}}},168:function(U,N,e){var d=e(3400),P=e(31780),n=e(86968).Q;U.exports=function(x,v,p,r){var t=r.type,o=r.attributes,a=r.handleDefaults,u=r.partition||"x",f=v._subplots[t],l=f.length,y=l&&f[0].replace(/\d+$/,""),c,T;function h(A,R){return d.coerce(c,T,o,A,R)}for(var i=0;i<l;i++){var g=f[i];x[g]?c=x[g]:c=x[g]={},T=P.newContainer(v,g,y),r.noUirevision||h("uirevision",v.uirevision);var b={};b[u]=[i/l,(i+1)/l],n(T,v,h,b),r.id=g,a(c,T,h,r)}}},21776:function(U,N,e){var d=e(26880);d.FORMAT_LINK,d.DATE_FORMAT_LINK;function P(n){var C=n.description?" "+n.description:"",x=n.keys||[];if(x.length>0){for(var v=[],p=0;p<x.length;p++)v[p]="`"+x[p]+"`";C=C+"Finally, the template string has access to ",x.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}N.Ks=function(n,C){n=n||{},C=C||{},P(C);var x={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(x.arrayOk=!0),x},N.Gw=function(n,C){n=n||{},C=C||{},P(C);var x={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(x.arrayOk=!0),x},N.ye=function(n,C){n=n||{},C=C||{},n.newshape,P(C);var x={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return x}},19352:function(U,N,e){var d=e(24696),P=e(84888).KY,n=e(3400).counterRegex,C="ternary";N.name=C;var x=N.attr="subplot";N.idRoot=C,N.idRegex=N.attrRegex=n(C);var v=N.attributes={};v[x]={valType:"subplotid",dflt:"ternary",editType:"calc"},N.layoutAttributes=e(86379),N.supplyLayoutDefaults=e(38536),N.plot=function(r){for(var t=r._fullLayout,o=r.calcdata,a=t._subplots[C],u=0;u<a.length;u++){var f=a[u],l=P(o,C,f),y=t[f]._subplot;y||(y=new d({id:f,graphDiv:r,container:t._ternarylayer.node()},t),t[f]._subplot=y),y.plot(l,t,r._promises)}},N.clean=function(p,r,t,o){for(var a=o._subplots[C]||[],u=0;u<a.length;u++){var f=a[u],l=o[f]._subplot;!r[f]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(U,N,e){var d=e(22548),P=e(86968).u,n=e(94724),C=e(67824).overrideAll,x=e(92880).extendFlat,v={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:x({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:x({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:x({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},p=U.exports=C({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:d.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(U,N,e){var d=e(76308),P=e(31780),n=e(3400),C=e(168),x=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),o=e(86379),a=["aaxis","baxis","caxis"];U.exports=function(y,c,T){C(y,c,T,{type:"ternary",attributes:o,handleDefaults:u,font:c.font,paper_bgcolor:c.paper_bgcolor})};function u(l,y,c,T){var h=c("bgcolor"),i=c("sum");T.bgColor=d.combine(h,T.paper_bgcolor);for(var g,b,A,R=0;R<a.length;R++)g=a[R],b=l[g]||{},A=P.newContainer(y,g),A._name=g,f(b,A,T,y);var m=y.aaxis,L=y.baxis,M=y.caxis;m.min+L.min+M.min>=i&&(m.min=0,L.min=0,M.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function f(l,y,c,T){var h=o[y._name];function i(s,S){return n.coerce(l,y,h,s,S)}i("uirevision",T.uirevision),y.type="linear";var g=i("color"),b=g!==h.color.dflt?g:c.font.color,A=y._name,R=A.charAt(0).toUpperCase(),m="Component "+R,L=i("title.text",m);y._hovertitle=L===m?L:R,n.coerceFont(i,"title.font",c.font,{overrideDflt:{size:n.bigFont(c.font.size),color:b}}),i("min"),r(l,y,i,"linear"),v(l,y,i,"linear"),x(l,y,i,"linear",{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0}),p(l,y,i,{outerTicks:!0});var M=i("showticklabels");M&&(n.coerceFont(i,"tickfont",c.font,{overrideDflt:{color:b}}),i("tickangle"),i("tickformat")),t(l,y,i,{dfltColor:g,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),i("hoverformat"),i("layer")}},24696:function(U,N,e){var d=e(33428),P=e(49760),n=e(24040),C=e(3400),x=C.strTranslate,v=C._,p=e(76308),r=e(43616),t=e(78344),o=e(92880).extendFlat,a=e(7316),u=e(54460),f=e(86476),l=e(93024),y=e(72760),c=y.freeMode,T=y.rectMode,h=e(81668),i=e(22676).prepSelect,g=e(22676).selectOnClick,b=e(22676).clearOutline,A=e(22676).clearSelectionsCache,R=e(33816);function m(B,F){this.id=B.id,this.graphDiv=B.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}U.exports=m;var L=m.prototype;L.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},L.plot=function(B,F){var G=this,Y=F[G.id],Q=F._size;G._hasClipOnAxisFalse=!1;for(var te=0;te<B.length;te++){var ae=B[te][0].trace;if(ae.cliponaxis===!1){G._hasClipOnAxisFalse=!0;break}}G.updateLayers(Y),G.adjustLayout(Y,Q),a.generalUpdatePerTraceModule(G.graphDiv,G,B,Y),G.layers.plotbg.select("path").call(p.fill,Y.bgcolor)},L.makeFramework=function(B){var F=this,G=F.graphDiv,Y=B[F.id],Q=F.clipId="clip"+F.layoutId+F.id,te=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=C.ensureSingleById(B._clips,"clipPath",Q,function(ae){ae.append("path").attr("d","M0,0Z")}),F.clipDefRelative=C.ensureSingleById(B._clips,"clipPath",te,function(ae){ae.append("path").attr("d","M0,0Z")}),F.plotContainer=C.ensureSingle(F.container,"g",F.id),F.updateLayers(Y),r.setClipUrl(F.layers.backplot,Q,G),r.setClipUrl(F.layers.grids,Q,G)},L.updateLayers=function(B){var F=this,G=F.layers,Y=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),B.baxis.layer==="below traces"&&Y.push("baxis","bline"),B.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),B.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),B.baxis.layer==="above traces"&&Y.push("baxis","bline"),B.caxis.layer==="above traces"&&Y.push("caxis","cline");var Q=F.plotContainer.selectAll("g.toplevel").data(Y,String),te=["agrid","bgrid","cgrid"];Q.enter().append("g").attr("class",function(ae){return"toplevel "+ae}).each(function(ae){var fe=d.select(this);G[ae]=fe,ae==="frontplot"?fe.append("g").classed("scatterlayer",!0):ae==="backplot"?fe.append("g").classed("maplayer",!0):ae==="plotbg"?fe.append("path").attr("d","M0,0Z"):ae==="aline"||ae==="bline"||ae==="cline"?fe.append("path"):ae==="grids"&&te.forEach(function(oe){G[oe]=fe.append("g").classed("grid "+oe,!0)})}),Q.order()};var M=Math.sqrt(4/3);L.adjustLayout=function(B,F){var G=this,Y=B.domain,Q=(Y.x[0]+Y.x[1])/2,te=(Y.y[0]+Y.y[1])/2,ae=Y.x[1]-Y.x[0],fe=Y.y[1]-Y.y[0],oe=ae*F.w,J=fe*F.h,ee=B.sum,X=B.aaxis.min,q=B.baxis.min,le=B.caxis.min,$,j,se,ne,he,me;oe>M*J?(ne=J,se=ne*M):(se=oe,ne=se/M),he=ae*se/oe,me=fe*ne/J,$=F.l+F.w*Q-se/2,j=F.t+F.h*(1-te)-ne/2,G.x0=$,G.y0=j,G.w=se,G.h=ne,G.sum=ee,G.xaxis={type:"linear",range:[X+2*le-ee,ee-X-2*q],domain:[Q-he/2,Q+he/2],_id:"x"},t(G.xaxis,G.graphDiv._fullLayout),G.xaxis.setScale(),G.xaxis.isPtWithinRange=function(Ge){return Ge.a>=G.aaxis.range[0]&&Ge.a<=G.aaxis.range[1]&&Ge.b>=G.baxis.range[1]&&Ge.b<=G.baxis.range[0]&&Ge.c>=G.caxis.range[1]&&Ge.c<=G.caxis.range[0]},G.yaxis={type:"linear",range:[X,ee-q-le],domain:[te-me/2,te+me/2],_id:"y"},t(G.yaxis,G.graphDiv._fullLayout),G.yaxis.setScale(),G.yaxis.isPtWithinRange=function(){return!0};var we=G.yaxis.domain[0],Te=G.aaxis=o({},B.aaxis,{range:[X,ee-q-le],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[we,we+me*M],anchor:"free",position:0,_id:"y",_length:se});t(Te,G.graphDiv._fullLayout),Te.setScale();var Le=G.baxis=o({},B.baxis,{range:[ee-X-le,q],side:"bottom",domain:G.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(Le,G.graphDiv._fullLayout),Le.setScale();var Ie=G.caxis=o({},B.caxis,{range:[ee-X-q,le],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[we,we+me*M],anchor:"free",position:0,_id:"y",_length:se});t(Ie,G.graphDiv._fullLayout),Ie.setScale();var ze="M"+$+","+(j+ne)+"h"+se+"l-"+se/2+",-"+ne+"Z";G.clipDef.select("path").attr("d",ze),G.layers.plotbg.select("path").attr("d",ze);var Me="M0,"+ne+"h"+se+"l-"+se/2+",-"+ne+"Z";G.clipDefRelative.select("path").attr("d",Me);var _e=x($,j);G.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",_e),G.clipDefRelative.select("path").attr("transform",null);var Ce=x($-Le._offset,j+ne);G.layers.baxis.attr("transform",Ce),G.layers.bgrid.attr("transform",Ce);var Oe=x($+se/2,j)+"rotate(30)"+x(0,-Te._offset);G.layers.aaxis.attr("transform",Oe),G.layers.agrid.attr("transform",Oe);var Pe=x($+se/2,j)+"rotate(-30)"+x(0,-Ie._offset);G.layers.caxis.attr("transform",Pe),G.layers.cgrid.attr("transform",Pe),G.drawAxes(!0),G.layers.aline.select("path").attr("d",Te.showline?"M"+$+","+(j+ne)+"l"+se/2+",-"+ne:"M0,0").call(p.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),G.layers.bline.select("path").attr("d",Le.showline?"M"+$+","+(j+ne)+"h"+se:"M0,0").call(p.stroke,Le.linecolor||"#000").style("stroke-width",(Le.linewidth||0)+"px"),G.layers.cline.select("path").attr("d",Ie.showline?"M"+($+se/2)+","+j+"l"+se/2+","+ne:"M0,0").call(p.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),G.graphDiv._context.staticPlot||G.initInteractions(),r.setClipUrl(G.layers.frontplot,G._hasClipOnAxisFalse?null:G.clipId,G.graphDiv)},L.drawAxes=function(B){var F=this,G=F.graphDiv,Y=F.id.substr(7)+"title",Q=F.layers,te=F.aaxis,ae=F.baxis,fe=F.caxis;if(F.drawAx(te),F.drawAx(ae),F.drawAx(fe),B){var oe=Math.max(te.showticklabels?te.tickfont.size/2:0,(fe.showticklabels?fe.tickfont.size*.75:0)+(fe.ticks==="outside"?fe.ticklen*.87:0)),J=(ae.showticklabels?ae.tickfont.size:0)+(ae.ticks==="outside"?ae.ticklen:0)+3;Q["a-title"]=h.draw(G,"a"+Y,{propContainer:te,propName:F.id+".aaxis.title",placeholder:v(G,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-te.title.font.size/3-oe,"text-anchor":"middle"}}),Q["b-title"]=h.draw(G,"b"+Y,{propContainer:ae,propName:F.id+".baxis.title",placeholder:v(G,"Click to enter Component B title"),attributes:{x:F.x0-J,y:F.y0+F.h+ae.title.font.size*.83+J,"text-anchor":"middle"}}),Q["c-title"]=h.draw(G,"c"+Y,{propContainer:fe,propName:F.id+".caxis.title",placeholder:v(G,"Click to enter Component C title"),attributes:{x:F.x0+F.w+J,y:F.y0+F.h+fe.title.font.size*.83+J,"text-anchor":"middle"}})}},L.drawAx=function(B){var F=this,G=F.graphDiv,Y=B._name,Q=Y.charAt(0),te=B._id,ae=F.layers[Y],fe=30,oe=Q+"tickLayout",J=s(B);F[oe]!==J&&(ae.selectAll("."+te+"tick").remove(),F[oe]=J),B.setScale();var ee=u.calcTicks(B),X=u.clipEnds(B,ee),q=u.makeTransTickFn(B),le=u.getTickSigns(B)[2],$=C.deg2rad(fe),j=le*(B.linewidth||1)/2,se=le*B.ticklen,ne=F.w,he=F.h,me=Q==="b"?"M0,"+j+"l"+Math.sin($)*se+","+Math.cos($)*se:"M"+j+",0l"+Math.cos($)*se+","+-Math.sin($)*se,we={a:"M0,0l"+he+",-"+ne/2,b:"M0,0l-"+ne/2+",-"+he,c:"M0,0l-"+he+","+ne/2}[Q];u.drawTicks(G,B,{vals:B.ticks==="inside"?X:ee,layer:ae,path:me,transFn:q,crisp:!1}),u.drawGrid(G,B,{vals:X,layer:F.layers[Q+"grid"],path:we,transFn:q,crisp:!1}),u.drawLabels(G,B,{vals:ee,layer:ae,transFn:q,labelFns:u.makeLabelFns(B,0,fe)})};function s(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var S=R.MINZOOM/2+.87,w="m-0.87,.5h"+S+"v3h-"+(S+5.2)+"l"+(S/2+2.6)+",-"+(S*.87+4.5)+"l2.6,1.5l-"+S/2+","+S*.87+"Z",_="m0.87,.5h-"+S+"v3h"+(S+5.2)+"l-"+(S/2+2.6)+",-"+(S*.87+4.5)+"l-2.6,1.5l"+S/2+","+S*.87+"Z",I="m0,1l"+S/2+","+S*.87+"l2.6,-1.5l-"+(S/2+2.6)+",-"+(S*.87+4.5)+"l-"+(S/2+2.6)+","+(S*.87+4.5)+"l2.6,1.5l"+S/2+",-"+S*.87+"Z",H="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",O=!0;L.clearOutline=function(){A(this.dragOptions),b(this.dragOptions.gd)},L.initInteractions=function(){var B=this,F=B.layers.plotbg.select("path").node(),G=B.graphDiv,Y=G._fullLayout._zoomlayer,Q,te;this.dragOptions={element:F,gd:G,plotinfo:{id:B.id,domain:G._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Ce,Oe,Pe){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],Q=G._fullLayout._invScaleX,te=G._fullLayout._invScaleY;var Ge=B.dragOptions.dragmode=G._fullLayout.dragmode;c(Ge)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,Ge==="zoom"?(B.dragOptions.moveFn=Le,B.dragOptions.clickFn=ne,B.dragOptions.doneFn=Ie,he(Ce,Oe,Pe)):Ge==="pan"?(B.dragOptions.moveFn=Me,B.dragOptions.clickFn=ne,B.dragOptions.doneFn=_e,ze(),B.clearOutline(G)):(T(Ge)||c(Ge))&&i(Ce,Oe,Pe,B.dragOptions,Ge)}};var ae,fe,oe,J,ee,X,q,le,$,j;function se(Ce){var Oe={};return Oe[B.id+".aaxis.min"]=Ce.a,Oe[B.id+".baxis.min"]=Ce.b,Oe[B.id+".caxis.min"]=Ce.c,Oe}function ne(Ce,Oe){var Pe=G._fullLayout.clickmode;V(G),Ce===2&&(G.emit("plotly_doubleclick",null),n.call("_guiRelayout",G,se({a:0,b:0,c:0}))),Pe.indexOf("select")>-1&&Ce===1&&g(Oe,G,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Pe.indexOf("event")>-1&&l.click(G,Oe,B.id)}function he(Ce,Oe,Pe){var Ge=F.getBoundingClientRect();ae=Oe-Ge.left,fe=Pe-Ge.top,G._fullLayout._calcInverseTransform(G);var Ze=G._fullLayout._invTransform,it=C.apply3DTransform(Ze)(ae,fe);ae=it[0],fe=it[1],oe={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},ee=oe,J=B.aaxis.range[1]-oe.a,X=P(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),q="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",le=!1,$=Y.append("path").attr("class","zoombox").attr("transform",x(B.x0,B.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),j=Y.append("path").attr("class","zoombox-corners").attr("transform",x(B.x0,B.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(G)}function me(Ce,Oe){return 1-Oe/B.h}function we(Ce,Oe){return 1-(Ce+(B.h-Oe)/Math.sqrt(3))/B.w}function Te(Ce,Oe){return(Ce-(B.h-Oe)/Math.sqrt(3))/B.w}function Le(Ce,Oe){var Pe=ae+Ce*Q,Ge=fe+Oe*te,Ze=Math.max(0,Math.min(1,me(ae,fe),me(Pe,Ge))),it=Math.max(0,Math.min(1,we(ae,fe),we(Pe,Ge))),Je=Math.max(0,Math.min(1,Te(ae,fe),Te(Pe,Ge))),et=(Ze/2+Je)*B.w,ft=(1-Ze/2-it)*B.w,vt=(et+ft)/2,dt=ft-et,xt=(1-Ze)*B.h,Mt=xt-dt/M;dt<R.MINZOOM?(ee=oe,$.attr("d",q),j.attr("d","M0,0Z")):(ee={a:oe.a+Ze*J,b:oe.b+it*J,c:oe.c+Je*J},$.attr("d",q+"M"+et+","+xt+"H"+ft+"L"+vt+","+Mt+"L"+et+","+xt+"Z"),j.attr("d","M"+ae+","+fe+H+"M"+et+","+xt+w+"M"+ft+","+xt+_+"M"+vt+","+Mt+I)),le||($.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),le=!0),G.emit("plotly_relayouting",se(ee))}function Ie(){V(G),ee!==oe&&(n.call("_guiRelayout",G,se(ee)),O&&G.data&&G._context.showTips&&(C.notifier(v(G,"Double-click to zoom back out"),"long"),O=!1))}function ze(){oe={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},ee=oe}function Me(Ce,Oe){var Pe=Ce/B.xaxis._m,Ge=Oe/B.yaxis._m;ee={a:oe.a-Ge,b:oe.b+(Pe+Ge)/2,c:oe.c-(Pe-Ge)/2};var Ze=[ee.a,ee.b,ee.c].sort(C.sorterAsc),it={a:Ze.indexOf(ee.a),b:Ze.indexOf(ee.b),c:Ze.indexOf(ee.c)};Ze[0]<0&&(Ze[1]+Ze[0]/2<0?(Ze[2]+=Ze[0]+Ze[1],Ze[0]=Ze[1]=0):(Ze[2]+=Ze[0]/2,Ze[1]+=Ze[0]/2,Ze[0]=0),ee={a:Ze[it.a],b:Ze[it.b],c:Ze[it.c]},Oe=(oe.a-ee.a)*B.yaxis._m,Ce=(oe.c-ee.c-oe.b+ee.b)*B.xaxis._m);var Je=x(B.x0+Ce,B.y0+Oe);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Je);var et=x(-Ce,-Oe);B.clipDefRelative.select("path").attr("transform",et),B.aaxis.range=[ee.a,B.sum-ee.b-ee.c],B.baxis.range=[B.sum-ee.a-ee.c,ee.b],B.caxis.range=[B.sum-ee.a-ee.b,ee.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,B),G.emit("plotly_relayouting",se(ee))}function _e(){n.call("_guiRelayout",G,se(ee))}F.onmousemove=function(Ce){l.hover(G,Ce,B.id),G._fullLayout._lasthover=F,G._fullLayout._hoversubplot=B.id},F.onmouseout=function(Ce){G._dragging||f.unhover(G,Ce)},f.init(this.dragOptions)};function V(B){d.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(U,N,e){var d=e(24248),P=e(16628),n=e(52416),C=e(63620),x=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,o=v.extendDeepAll;N.modules={},N.allCategories={},N.allTypes=[],N.subplotsRegistry={},N.transformsRegistry={},N.componentsRegistry={},N.layoutArrayContainers=[],N.layoutArrayRegexes=[],N.traceLayoutAttributes={},N.localeRegistry={},N.apiMethodRegistry={},N.collectableSubplotTypes=null,N.register=function(A){if(N.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var R=0;R<A.length;R++){var m=A[R];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":a(m);break;case"transform":l(m);break;case"component":f(m);break;case"locale":y(m);break;case"apiMethod":var L=m.name;N.apiMethodRegistry[L]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},N.getModule=function(b){var A=N.modules[g(b)];return A?A._module:!1},N.traceIs=function(b,A){if(b=g(b),b==="various")return!1;var R=N.modules[b];return R||(b&&d.log("Unrecognized trace type "+b+"."),R=N.modules[p.type.dflt]),!!R.categories[A]},N.getTransformIndices=function(b,A){for(var R=[],m=b.transforms||[],L=0;L<m.length;L++)m[L].type===A&&R.push(L);return R},N.hasTransform=function(b,A){for(var R=b.transforms||[],m=0;m<R.length;m++)if(R[m].type===A)return!0;return!1},N.getComponentMethod=function(b,A){var R=N.componentsRegistry[b];return R&&R[A]||P},N.call=function(){var b=arguments[0],A=[].slice.call(arguments,1);return N.apiMethodRegistry[b].apply(null,A)};function a(b){var A=b.name,R=b.categories,m=b.meta;if(N.modules[A]){d.log("Type "+A+" already registered");return}N.subplotsRegistry[b.basePlotModule.name]||u(b.basePlotModule);for(var L={},M=0;M<R.length;M++)L[R[M]]=!0,N.allCategories[R[M]]=!0;N.modules[A]={_module:b,categories:L},m&&Object.keys(m).length&&(N.modules[A].meta=m),N.allTypes.push(A);for(var s in N.componentsRegistry)T(s,A);b.layoutAttributes&&t(N.traceLayoutAttributes,b.layoutAttributes);var S=b.basePlotModule,w=S.name;if(w==="mapbox"){var _=S.constants.styleRules;for(var I in _)x(".js-plotly-plot .plotly .mapboxgl-"+I,_[I])}(w==="geo"||w==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(b){var A=b.name;if(N.subplotsRegistry[A]){d.log("Plot type "+A+" already registered.");return}c(b),N.subplotsRegistry[A]=b;for(var R in N.componentsRegistry)i(R,b.name)}function f(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var A=b.name;N.componentsRegistry[A]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&n(N.layoutArrayContainers,A),c(b));for(var R in N.modules)T(A,R);for(var m in N.subplotsRegistry)i(A,m);for(var L in N.transformsRegistry)h(A,L);b.schema&&b.schema.layout&&o(r,b.schema.layout)}function l(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+b.name,R=typeof b.transform=="function",m=typeof b.calcTransform=="function";if(!R&&!m)throw new Error(A+" is missing a *transform* or *calcTransform* method.");R&&m&&d.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(b.attributes)||d.log(A+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&d.log(A+" registered without a *supplyDefaults* method."),N.transformsRegistry[b.name]=b;for(var L in N.componentsRegistry)h(L,b.name)}function y(b){var A=b.name,R=A.split("-")[0],m=b.dictionary,L=b.format,M=m&&Object.keys(m).length,s=L&&Object.keys(L).length,S=N.localeRegistry,w=S[A];if(w||(S[A]=w={}),R!==A){var _=S[R];_||(S[R]=_={}),M&&_.dictionary===w.dictionary&&(_.dictionary=m),s&&_.format===w.format&&(_.format=L)}M&&(w.dictionary=m),s&&(w.format=L)}function c(b){if(b.layoutAttributes){var A=b.layoutAttributes._arrayAttrRegexps;if(A)for(var R=0;R<A.length;R++)n(N.layoutArrayRegexes,A[R])}}function T(b,A){var R=N.componentsRegistry[b].schema;if(!(!R||!R.traces)){var m=R.traces[A];m&&o(N.modules[A]._module.attributes,m)}}function h(b,A){var R=N.componentsRegistry[b].schema;if(!(!R||!R.transforms)){var m=R.transforms[A];m&&o(N.transformsRegistry[A].attributes,m)}}function i(b,A){var R=N.componentsRegistry[b].schema;if(!(!R||!R.subplots)){var m=N.subplotsRegistry[A],L=m.layoutAttributes,M=m.attr==="subplot"?m.name:m.attr;Array.isArray(M)&&(M=M[0]);var s=R.subplots[M];L&&s&&o(L,s)}}function g(b){return typeof b=="object"&&(b=b.type),b}},91536:function(U,N,e){var d=e(24040),P=e(3400),n=P.extendFlat,C=P.extendDeep;function x(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}U.exports=function(r,t){var o,a=r.data,u=r.layout,f=C([],a),l=C({},u,x(t.tileClass)),y=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var c=Object.keys(l);for(o=0;o<c.length;o++)v(c[o])&&(l[c[o]].title={text:""});for(o=0;o<f.length;o++){var T=f[o];T.showscale=!1,T.marker&&(T.marker.showscale=!1),d.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(o=0;o<t.annotations.length;o++)l.annotations.push(t.annotations[o]);var h=Object.keys(l).filter(function(R){return R.match(/^scene\d*$/)});if(h.length){var i={};for(t.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),o=0;o<h.length;o++){var g=l[h[o]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),n(g.xaxis,i),n(g.yaxis,i),n(g.zaxis,i),g._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var A={gd:b,td:b,layout:l,data:f,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=x(t.tileClass),A}},39792:function(U,N,e){var d=e(3400),P=e(67024),n=e(48616),C=e(81792);function x(v,p){var r;return d.isPlainObject(v)||(r=d.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,o){r&&r._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),d.isIE()&&p.format!=="svg"&&o(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var a=P(v,p),u=p.filename||v.fn||"newplot";u+="."+p.format.replace("-","."),a.then(function(f){return r&&(r._snapshotInProgress=!1),n(f,u,p.format)}).then(function(f){t(f)}).catch(function(f){r&&(r._snapshotInProgress=!1),o(f)})})}U.exports=x},48616:function(U,N,e){var d=e(3400),P=e(81792);function n(C,x,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(o,a){var u,f;if(d.isIE())return u=P.createBlob(C,"svg"),window.navigator.msSaveBlob(u,x),u=null,o(x);if(r)return u=P.createBlob(C,v),f=P.createObjectURL(u),p.href=f,p.download=x,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(f),u=null,o(x);if(d.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(C)),o(x)}a(new Error("download error"))});return t}U.exports=n},81792:function(U,N,e){var d=e(24040);N.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},N.getRedrawFunc=function(C){return function(){d.getComponentMethod("colorbar","draw")(C)}},N.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},N.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var P=window.URL||window.webkitURL;N.createObjectURL=function(C){return P.createObjectURL(C)},N.revokeObjectURL=function(C){return P.revokeObjectURL(C)},N.createBlob=function(C,x){if(x==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(x==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=n(window.atob(C));return new window.Blob([v],{type:"image/"+x})},N.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function n(C){for(var x=C.length,v=new ArrayBuffer(x),p=new Uint8Array(v),r=0;r<x;r++)p[r]=C.charCodeAt(r);return v}N.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,N.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(U,N,e){var d=e(81792),P={getDelay:d.getDelay,getRedrawFunc:d.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};U.exports=P},63268:function(U,N,e){var d=e(3400),P=e(61252).EventEmitter,n=e(81792);function C(x){var v=x.emitter||new P,p=new Promise(function(r,t){var o=window.Image,a=x.svg,u=x.format||"png";if(d.isIE()&&u!=="svg"){var f=new Error(n.MSG_IE_BAD_FORMAT);return t(f),x.promise?p:v.emit("error",f)}var l=x.canvas,y=x.scale||1,c=x.width||300,T=x.height||150,h=y*c,i=y*T,g=l.getContext("2d",{willReadFrequently:!0}),b=new o,A,R;u==="svg"||d.isSafari()?R=n.encodeSVG(a):(A=n.createBlob(a,"svg"),R=n.createObjectURL(A)),l.width=h,l.height=i,b.onload=function(){var m;switch(A=null,n.revokeObjectURL(R),u!=="svg"&&g.drawImage(b,0,0,h,i),u){case"jpeg":m=l.toDataURL("image/jpeg");break;case"png":m=l.toDataURL("image/png");break;case"webp":m=l.toDataURL("image/webp");break;case"svg":m=R;break;default:var L="Image format is not jpeg, png, svg or webp.";if(t(new Error(L)),!x.promise)return v.emit("error",L)}r(m),x.promise||v.emit("success",m)},b.onerror=function(m){if(A=null,n.revokeObjectURL(R),t(m),!x.promise)return v.emit("error",m)},b.src=R});return x.promise?p:v}U.exports=C},61808:function(U,N,e){var d=e(61252).EventEmitter,P=e(24040),n=e(3400),C=e(81792),x=e(91536),v=e(37164),p=e(63268);function r(t,o){var a=new d,u=x(t,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function l(){var c=C.getDelay(f._fullLayout);setTimeout(function(){var T=v(f),h=document.createElement("canvas");h.id=n.randstr(),a=p({format:o.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:h,emitter:a,svg:T}),a.clean=function(){f&&document.body.removeChild(f)}},c)}var y=C.getRedrawFunc(f);return P.call("_doPlot",f,u.data,u.layout,u.config).then(y).then(l).catch(function(c){a.emit("error",c)}),a}U.exports=r},37164:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(76308),x=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(a){var u=d.select("body").append("div").style({display:"none"}).html(""),f=a.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":u.html(l).text()});return u.remove(),f}function o(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}U.exports=function(u,f,l){var y=u._fullLayout,c=y._paper,T=y._toppaper,h=y.width,i=y.height,g;c.insert("rect",":first-child").call(n.setRect,0,0,h,i).call(C.fill,y.paper_bgcolor);var b=y._basePlotModules||[];for(g=0;g<b.length;g++){var A=b[g];A.toSVG&&A.toSVG(u)}if(T){var R=T.node().childNodes,m=Array.prototype.slice.call(R);for(g=0;g<m.length;g++){var L=m[g];L.childNodes.length&&c.node().appendChild(L)}}y._draggers&&y._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=d.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&s.style("font-family",S.replace(v,p));var w=this.style.fontWeight;w&&(w==="normal"||w==="400")&&s.style("font-weight",void 0);var _=this.style.fontStyle;_&&_==="normal"&&s.style("font-style",void 0);var I=this.style.fontVariant;I&&I==="normal"&&s.style("font-variant",void 0)}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=d.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&s.style("fill",S.replace(v,p));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&s.style("stroke",w.replace(v,p))}),(f==="pdf"||f==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(x.xmlns,"xmlns",x.svg),c.node().setAttributeNS(x.xmlns,"xmlns:xlink",x.xlink),f==="svg"&&l&&(c.attr("width",l*h),c.attr("height",l*i),c.attr("viewBox","0 0 "+h+" "+i));var M=new window.XMLSerializer().serializeToString(c.node());return M=t(M),M=o(M),M=M.replace(r,"'"),P.isIE()&&(M=M.replace(/"/gi,"'"),M=M.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),M=M.replace(/(\\')/gi,'"')),M}},84664:function(U,N,e){var d=e(3400);U.exports=function(n,C){for(var x=0;x<n.length;x++)n[x].i=x;d.mergeArray(C.text,n,"tx"),d.mergeArray(C.hovertext,n,"htx");var v=C.marker;if(v){d.mergeArray(v.opacity,n,"mo",!0),d.mergeArray(v.color,n,"mc");var p=v.line;p&&(d.mergeArray(p.color,n,"mlc"),d.mergeArrayCastPositive(p.width,n,"mlw"))}}},20832:function(U,N,e){var d=e(52904),P=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(21776).Gw,x=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,o=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),a=d.marker,u=a.line,f=t({},u.width,{dflt:0}),l=t({width:f,editType:"calc"},x("marker.line")),y=t({line:l,editType:"calc"},x("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});U.exports={x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:d.xperiod0,yperiod0:d.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:d.text,texttemplate:C({editType:"plot"},{keys:p.eventDataKeys}),hovertext:d.hovertext,hovertemplate:n({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},o,{}),insidetextfont:t({},o,{}),outsidetextfont:t({},o,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},d.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,selected:{marker:{opacity:d.selected.marker.opacity,color:d.selected.marker.color,editType:"style"},textfont:d.selected.textfont,editType:"style"},unselected:{marker:{opacity:d.unselected.marker.opacity,color:d.unselected.marker.color,editType:"style"},textfont:d.unselected.textfont,editType:"style"},zorder:d.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(U,N,e){var d=e(54460),P=e(1220),n=e(94288).hasColorscale,C=e(47128),x=e(84664),v=e(4500);U.exports=function(r,t){var o=d.getFromId(r,t.xaxis||"x"),a=d.getFromId(r,t.yaxis||"y"),u,f,l,y,c,T,h={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(u=o.makeCalcdata(t,"x",h),l=a.makeCalcdata(t,"y"),y=P(t,a,"y",l),c=!!t.yperiodalignment,T="y"):(u=a.makeCalcdata(t,"y",h),l=o.makeCalcdata(t,"x"),y=P(t,o,"x",l),c=!!t.xperiodalignment,T="x"),f=y.vals;for(var i=Math.min(f.length,u.length),g=new Array(i),b=0;b<i;b++)g[b]={p:f[b],s:u[b]},c&&(g[b].orig_p=l[b],g[b][T+"End"]=y.ends[b],g[b][T+"Start"]=y.starts[b]),t.ids&&(g[b].id=String(t.ids[b]));return n(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),x(g,t),v(g,t),g}},78048:function(U){U.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(U,N,e){var d=e(38248),P=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,C=e(24040),x=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(w,_){for(var I=_.xaxis,H=_.yaxis,O=w._fullLayout,V=w._fullData,B=w.calcdata,F=[],G=[],Y=0;Y<V.length;Y++){var Q=V[Y];if(Q.visible===!0&&C.traceIs(Q,"bar")&&Q.xaxis===I._id&&Q.yaxis===H._id&&(Q.orientation==="h"?F.push(B[Y]):G.push(B[Y]),Q._computePh))for(var te=w.calcdata[Y],ae=0;ae<te.length;ae++)typeof te[ae].ph0=="function"&&(te[ae].ph0=te[ae].ph0()),typeof te[ae].ph1=="function"&&(te[ae].ph1=te[ae].ph1())}var fe={xCat:I.type==="category"||I.type==="multicategory",yCat:H.type==="category"||H.type==="multicategory",mode:O.barmode,norm:O.barnorm,gap:O.bargap,groupgap:O.bargroupgap};t(w,I,H,G,fe),t(w,H,I,F,fe)}function t(w,_,I,H,O){if(H.length){var V,B,F,G,Y;switch(u(I,H),O.mode){case"overlay":f(_,I,H,O);break;case"group":for(V=[],B=[],F=0;F<H.length;F++)G=H[F],Y=G[0].trace,Y.offset===void 0?B.push(G):V.push(G);B.length&&l(w,_,I,B,O),V.length&&f(_,I,V,O);break;case"stack":case"relative":for(V=[],B=[],F=0;F<H.length;F++)G=H[F],Y=G[0].trace,Y.base===void 0?B.push(G):V.push(G);a(B),B.length&&y(w,_,I,B,O),V.length&&f(_,I,V,O);break}o(H),s(H,_)}}function o(w){var _,I,H,O,V,B,F;for(_=0;_<w.length;_++)I=w[_],H=I[0].trace,O=I[0].t,O.cornerradiusvalue===void 0&&(V=H.marker?H.marker.cornerradius:void 0,V!==void 0&&(B=d(V)?+V:+V.slice(0,-1),F=d(V)?"px":"%",O.cornerradiusvalue=B,O.cornerradiusform=F))}function a(w){if(!(w.length<2)){var _,I,H,O,V,B,F;for(_=0;_<w.length&&(I=w[_],H=I[0].trace,V=H.marker?H.marker.cornerradius:void 0,V===void 0);_++);if(V!==void 0)for(B=d(V)?+V:+V.slice(0,-1),F=d(V)?"px":"%",_=0;_<w.length;_++)I=w[_],O=I[0].t,O.cornerradiusvalue=B,O.cornerradiusform=F}}function u(w,_){var I,H;for(I=0;I<_.length;I++){var O=_[I],V=O[0].trace,B=V.type==="funnel"?V._base:V.base,F,G=V.orientation==="h"?V.xcalendar:V.ycalendar,Y=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(P(B)){for(H=0;H<Math.min(B.length,O.length);H++)F=Y(B[H],0,G),d(F)?(O[H].b=+F,O[H].hasB=1):O[H].b=0;for(;H<O.length;H++)O[H].b=0}else{F=Y(B,0,G);var Q=d(F);for(F=Q?F:0,H=0;H<O.length;H++)O[H].b=F,Q&&(O[H].hasB=1)}}}function f(w,_,I,H){for(var O=0;O<I.length;O++){var V=I[O],B=new p([V],{posAxis:w,sepNegVal:!1,overlapNoMerge:!H.norm});c(w,B,H),H.norm?(R(B),L(_,B,H)):b(_,B)}}function l(w,_,I,H,O){var V=new p(H,{posAxis:_,sepNegVal:!1,overlapNoMerge:!O.norm});T(w,_,V,O),m(V,_),O.norm?(R(V),L(I,V,O)):b(I,V)}function y(w,_,I,H,O){var V=new p(H,{posAxis:_,sepNegVal:O.mode==="relative",overlapNoMerge:!(O.norm||O.mode==="stack"||O.mode==="relative")});c(_,V,O),A(I,V,O);for(var B=0;B<H.length;B++)for(var F=H[B],G=0;G<F.length;G++){var Y=F[G];if(Y.s!==n){var Q=Y.b+Y.s===V.get(Y.p,Y.s);Q&&(Y._outmost=!0)}}O.norm&&L(I,V,O)}function c(w,_,I){for(var H=_.minDiff,O=_.traces,V=H*(1-I.gap),B=V,F=B*(1-(I.groupgap||0)),G=-F/2,Y=0;Y<O.length;Y++){var Q=O[Y],te=Q[0].t;te.barwidth=F,te.poffset=G,te.bargroupwidth=V,te.bardelta=H}_.binWidth=O[0][0].t.barwidth/100,h(_),i(w,_),g(w,_)}function T(w,_,I,H){for(var O=w._fullLayout,V=I.positions,B=I.distinctPositions,F=I.minDiff,G=I.traces,Y=G.length,Q=V.length!==B.length,te=F*(1-H.gap),ae=v(O,_._id)+G[0][0].trace.orientation,fe=O._alignmentOpts[ae]||{},oe=0;oe<Y;oe++){var J=G[oe],ee=J[0].trace,X=fe[ee.alignmentgroup]||{},q=Object.keys(X.offsetGroups||{}).length,le;q?le=te/q:le=Q?te/Y:te;var $=le*(1-(H.groupgap||0)),j;q?j=((2*ee._offsetIndex+1-q)*le-$)/2:j=Q?((2*oe+1-Y)*le-$)/2:-$/2;var se=J[0].t;se.barwidth=$,se.poffset=j,se.bargroupwidth=te,se.bardelta=F}I.binWidth=G[0][0].t.barwidth/100,h(I),i(_,I),g(_,I,Q)}function h(w){var _=w.traces,I,H;for(I=0;I<_.length;I++){var O=_[I],V=O[0],B=V.trace,F=V.t,G=B._offset||B.offset,Y=F.poffset,Q;if(P(G)){for(Q=Array.prototype.slice.call(G,0,O.length),H=0;H<Q.length;H++)d(Q[H])||(Q[H]=Y);for(H=Q.length;H<O.length;H++)Q.push(Y);F.poffset=Q}else G!==void 0&&(F.poffset=G);var te=B._width||B.width,ae=F.barwidth;if(P(te)){var fe=Array.prototype.slice.call(te,0,O.length);for(H=0;H<fe.length;H++)d(fe[H])||(fe[H]=ae);for(H=fe.length;H<O.length;H++)fe.push(ae);if(F.barwidth=fe,G===void 0){for(Q=[],H=0;H<O.length;H++)Q.push(Y+(ae-fe[H])/2);F.poffset=Q}}else te!==void 0&&(F.barwidth=te,G===void 0&&(F.poffset=Y+(ae-te)/2))}}function i(w,_){for(var I=_.traces,H=S(w),O=0;O<I.length;O++)for(var V=I[O],B=V[0].t,F=B.poffset,G=P(F),Y=B.barwidth,Q=P(Y),te=0;te<V.length;te++){var ae=V[te],fe=ae.w=Q?Y[te]:Y;ae.p===void 0&&(ae.p=ae[H],ae["orig_"+H]=ae[H]);var oe=(G?F[te]:F)+fe/2;ae[H]=ae.p+oe}}function g(w,_,I){var H=_.traces,O=_.minDiff,V=O/2;x.minDtick(w,_.minDiff,_.distinctPositions[0],I);for(var B=0;B<H.length;B++){var F=H[B],G=F[0],Y=G.trace,Q=[],te,ae,fe,oe;for(oe=0;oe<F.length;oe++)te=F[oe],ae=te.p-V,fe=te.p+V,Q.push(ae,fe);if(Y.width||Y.offset){var J=G.t,ee=J.poffset,X=J.barwidth,q=P(ee),le=P(X);for(oe=0;oe<F.length;oe++){te=F[oe];var $=q?ee[oe]:ee,j=le?X[oe]:X;ae=te.p+$,fe=ae+j,Q.push(ae,fe)}}Y._extremes[w._id]=x.findExtremes(w,Q,{padded:!1})}}function b(w,_){for(var I=_.traces,H=S(w),O=0;O<I.length;O++){for(var V=I[O],B=V[0].trace,F=B.type==="scatter",G=B.orientation==="v",Y=[],Q=!1,te=0;te<V.length;te++){var ae=V[te],fe=F?0:ae.b,oe=F?G?ae.y:ae.x:fe+ae.s;ae[H]=oe,Y.push(oe),ae.hasB&&Y.push(fe),(!ae.hasB||!ae.b)&&(Q=!0)}B._extremes[w._id]=x.findExtremes(w,Y,{tozero:Q,padded:!0})}}function A(w,_,I){var H=S(w),O=_.traces,V,B,F,G,Y,Q;for(G=0;G<O.length;G++)if(V=O[G],B=V[0].trace,B.type==="funnel")for(Y=0;Y<V.length;Y++)Q=V[Y],Q.s!==n&&_.put(Q.p,-.5*Q.s);for(G=0;G<O.length;G++){V=O[G],B=V[0].trace,F=B.type==="funnel";var te=[];for(Y=0;Y<V.length;Y++)if(Q=V[Y],Q.s!==n){var ae;F?ae=Q.s:ae=Q.s+Q.b;var fe=_.put(Q.p,ae),oe=fe+ae;Q.b=fe,Q[H]=oe,I.norm||(te.push(oe),Q.hasB&&te.push(fe))}I.norm||(B._extremes[w._id]=x.findExtremes(w,te,{tozero:!0,padded:!0}))}}function R(w){for(var _=w.traces,I=0;I<_.length;I++)for(var H=_[I],O=0;O<H.length;O++){var V=H[O];V.s!==n&&w.put(V.p,V.b+V.s)}}function m(w,_){for(var I=w.traces,H=0;H<I.length;H++){var O=I[H],V=O[0].trace;if(V.base===void 0)for(var B=new p([O],{posAxis:_,sepNegVal:!0,overlapNoMerge:!0}),F=0;F<O.length;F++){var G=O[F];if(G.p!==n){var Y=B.put(G.p,G.b+G.s);Y&&(G.b=Y)}}}}function L(w,_,I){var H=_.traces,O=S(w),V=I.norm==="fraction"?1:100,B=V/1e9,F=w.l2c(w.c2l(0)),G=I.mode==="stack"?V:F;function Y(j){return d(w.c2l(j))&&(j<F-B||j>G+B||!d(F))}for(var Q=0;Q<H.length;Q++){for(var te=H[Q],ae=te[0].trace,fe=[],oe=!1,J=!1,ee=0;ee<te.length;ee++){var X=te[ee];if(X.s!==n){var q=Math.abs(V/_.get(X.p,X.s));X.b*=q,X.s*=q;var le=X.b,$=le+X.s;X[O]=$,fe.push($),J=J||Y($),X.hasB&&(fe.push(le),J=J||Y(le)),(!X.hasB||!X.b)&&(oe=!0)}}ae._extremes[w._id]=x.findExtremes(w,fe,{tozero:oe,padded:J})}}function M(w,_,I,H){for(var O=S(H),V=0;V<w.length;V++)for(var B=w[V],F=0;F<B.length;F++){var G=B[F],Y=G[O];G._sMin=_[Y],G._sMax=I[Y]}}function s(w,_){var I=S(_),H={},O,V,B,F=1/0,G=-1/0;for(O=0;O<w.length;O++)for(B=w[O],V=0;V<B.length;V++){var Y=B[V].p;d(Y)&&(F=Math.min(F,Y),G=Math.max(G,Y))}var Q=1e4/(G-F),te=H.round=function(he){return String(Math.round(Q*(he-F)))},ae={},fe={},oe=w.some(function(he){var me=he[0].trace;return"marker"in me&&me.marker.cornerradius});for(O=0;O<w.length;O++){B=w[O],B[0].t.extents=H;var J=B[0].t.poffset,ee=P(J);for(V=0;V<B.length;V++){var X=B[V],q=X[I]-X.w/2;if(d(q)){var le=X[I]+X.w/2,$=te(X.p);H[$]?H[$]=[Math.min(q,H[$][0]),Math.max(le,H[$][1])]:H[$]=[q,le]}if(X.p0=X.p+(ee?J[V]:J),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,oe){var j=Math.min(X.s0,X.s1)||0,se=Math.max(X.s0,X.s1)||0,ne=X[I];ae[ne]=ne in ae?Math.min(ae[ne],j):j,fe[ne]=ne in fe?Math.max(fe[ne],se):se}}}oe&&M(w,ae,fe,_)}function S(w){return w._id.charAt(0)}U.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(U,N,e){var d=e(38248),P=e(3400),n=e(76308),C=e(24040),x=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),o=P.coerceFont;function a(y,c,T,h){function i(m,L){return P.coerce(y,c,t,m,L)}var g=x(y,c,h,i);if(!g){c.visible=!1;return}v(y,c,h,i),i("xhoverformat"),i("yhoverformat"),i("zorder"),i("orientation",c.x&&!c.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var b=i("textposition");l(y,c,h,i,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(y,c,i,T,h);var A=(c.marker.line||{}).color,R=C.getComponentMethod("errorbars","supplyDefaults");R(y,c,A||n.defaultLine,{axis:"y"}),R(y,c,A||n.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(c,i)}function u(y,c){var T,h;function i(A,R){return P.coerce(h._input,h,t,A,R)}for(var g=0;g<y.length;g++)if(h=y[g],h.type==="bar"){T=h._input;var b=i("marker.cornerradius",c.barcornerradius);h.marker&&(h.marker.cornerradius=f(b)),c.barmode==="group"&&r(T,h,c,i)}}function f(y){if(d(y)){if(y=+y,y>=0)return y}else if(typeof y=="string"&&(y=y.trim(),y.slice(-1)==="%"&&d(y.slice(0,-1))&&(y=+y.slice(0,-1),y>=0)))return y+"%"}function l(y,c,T,h,i,g){g=g||{};var b=g.moduleHasSelected!==!1,A=g.moduleHasUnselected!==!1,R=g.moduleHasConstrain!==!1,m=g.moduleHasCliponaxis!==!1,L=g.moduleHasTextangle!==!1,M=g.moduleHasInsideanchor!==!1,s=!!g.hasPathbar,S=Array.isArray(i)||i==="auto",w=S||i==="inside",_=S||i==="outside";if(w||_){var I=o(h,"textfont",T.font),H=P.extendFlat({},I),O=y.textfont&&y.textfont.color,V=!O;if(V&&delete H.color,o(h,"insidetextfont",H),s){var B=P.extendFlat({},I);V&&delete B.color,o(h,"pathbar.textfont",B)}_&&o(h,"outsidetextfont",I),b&&h("selected.textfont.color"),A&&h("unselected.textfont.color"),R&&h("constraintext"),m&&h("cliponaxis"),L&&h("textangle"),h("texttemplate")}w&&M&&h("insidetextanchor")}U.exports={supplyDefaults:a,crossTraceDefaults:u,handleText:l,validateCornerradius:f}},52160:function(U){U.exports=function(e,d,P){return e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(U,N,e){var d=e(38248),P=e(49760),n=e(3400).isArrayOrTypedArray;N.coerceString=function(C,x,v){if(typeof x=="string"){if(x||!C.noBlank)return x}else if((typeof x=="number"||x===!0)&&!C.strict)return String(x);return v!==void 0?v:C.dflt},N.coerceNumber=function(C,x,v){if(d(x)){x=+x;var p=C.min,r=C.max,t=p!==void 0&&x<p||r!==void 0&&x>r;if(!t)return x}return v!==void 0?v:C.dflt},N.coerceColor=function(C,x,v){return P(x).isValid()?x:v!==void 0?v:C.dflt},N.coerceEnumerated=function(C,x,v){return C.coerceNumber&&(x=+x),C.values.indexOf(x)!==-1?x:v!==void 0?v:C.dflt},N.getValue=function(C,x){var v;return n(C)?x<C.length&&(v=C[x]):v=C,v},N.getLineWidth=function(C,x){var v=0<x.mlw?x.mlw:n(C.marker.line.width)?0:C.marker.line.width;return v}},63400:function(U,N,e){var d=e(93024),P=e(24040),n=e(76308),C=e(3400).fillText,x=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(a,u,f,l,y){var c=t(a,u,f,l,y);if(c){var T=c.cd,h=T[0].trace,i=T[c.index];return c.color=o(h,i),P.getComponentMethod("errorbars","hoverInfo")(i,h,c),[c]}}function t(a,u,f,l,y){var c=a.cd,T=c[0].trace,h=c[0].t,i=l==="closest",g=T.type==="waterfall",b=a.maxHoverDistance,A=a.maxSpikeDistance,R,m,L,M,s,S,w;T.orientation==="h"?(R=f,m=u,L="y",M="x",s=fe,S=Q):(R=u,m=f,L="x",M="y",S=fe,s=Q);var _=T[L+"period"],I=i||_;function H(he){return V(he,-1)}function O(he){return V(he,1)}function V(he,me){var we=he.w;return he[L]+me*we/2}function B(he){return he[L+"End"]-he[L+"Start"]}var F=i?H:_?function(he){return he.p-B(he)/2}:function(he){return Math.min(H(he),he.p-h.bardelta/2)},G=i?O:_?function(he){return he.p+B(he)/2}:function(he){return Math.max(O(he),he.p+h.bardelta/2)};function Y(he,me,we){return y.finiteRange&&(we=0),d.inbox(he-R,me-R,we+Math.min(1,Math.abs(me-he)/w)-1)}function Q(he){return Y(F(he),G(he),b)}function te(he){return Y(H(he),O(he),A)}function ae(he){var me=he[M];if(g){var we=Math.abs(he.rawS)||0;m>0?me+=we:m<0&&(me-=we)}return me}function fe(he){var me=m,we=he.b,Te=ae(he);return d.inbox(we-me,Te-me,b+(Te-me)/(Te-we)-1)}function oe(he){var me=m,we=he.b,Te=ae(he);return d.inbox(we-me,Te-me,A+(Te-me)/(Te-we)-1)}var J=a[L+"a"],ee=a[M+"a"];w=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));function X(he){return(s(he)+S(he))/2}var q=d.getDistanceFunction(l,s,S,X);if(d.getClosest(c,q,a),a.index!==!1&&c[a.index].p!==p){I||(F=function(he){return Math.min(H(he),he.p-h.bargroupwidth/2)},G=function(he){return Math.max(O(he),he.p+h.bargroupwidth/2)});var le=a.index,$=c[le],j=T.base?$.b+$.s:$.s;a[M+"0"]=a[M+"1"]=ee.c2p($[M],!0),a[M+"LabelVal"]=j;var se=h.extents[h.extents.round($.p)];a[L+"0"]=J.c2p(i?F($):se[0],!0),a[L+"1"]=J.c2p(i?G($):se[1],!0);var ne=$.orig_p!==void 0;return a[L+"LabelVal"]=ne?$.orig_p:$.p,a.labelLabel=v(J,a[L+"LabelVal"],T[L+"hoverformat"]),a.valueLabel=v(ee,a[M+"LabelVal"],T[M+"hoverformat"]),a.baseLabel=v(ee,$.b,T[M+"hoverformat"]),a.spikeDistance=(oe($)+te($))/2,a[L+"Spike"]=J.c2p($.p,!0),C($,T,a),a.hovertemplate=T.hovertemplate,a}}function o(a,u){var f=u.mcc||a.marker.color,l=u.mlcc||a.marker.line.color,y=x(a,u);if(n.opacity(f))return f;if(n.opacity(l)&&y)return l}U.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:o}},51132:function(U,N,e){U.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(U,N,e){var d=e(24040),P=e(54460),n=e(3400),C=e(39324),x=e(31508).validateCornerradius;U.exports=function(v,p,r){function t(g,b){return n.coerce(v,p,C,g,b)}for(var o=!1,a=!1,u=!1,f={},l=t("barmode"),y=0;y<r.length;y++){var c=r[y];if(d.traceIs(c,"bar")&&c.visible)o=!0;else continue;if(l==="group"){var T=c.xaxis+c.yaxis;f[T]&&(u=!0),f[T]=!0}if(c.visible&&c.type==="histogram"){var h=P.getFromId({_fullLayout:p},c[c.orientation==="v"?"xaxis":"yaxis"]);h.type!=="category"&&(a=!0)}}if(!o){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",a&&!u?0:.2),t("bargroupgap");var i=t("barcornerradius");p.barcornerradius=x(i)}},98184:function(U,N,e){var d=e(33428),P=e(38248),n=e(3400),C=e(72736),x=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),o=t.recordMinTextSize,a=t.clearMinTextSize,u=e(60100),f=e(60444),l=e(78048),y=e(20832),c=y.text,T=y.textposition,h=e(10624).appendArrayPointValue,i=l.TEXTPAD;function g(Q){return Q.id}function b(Q){if(Q.ids)return g}function A(Q){return(Q>0)-(Q<0)}function R(Q,te){return Q<te?1:-1}function m(Q,te,ae,fe){var oe=[],J=[],ee=fe?te:ae,X=fe?ae:te;return oe[0]=ee.c2p(Q.s0,!0),J[0]=X.c2p(Q.p0,!0),oe[1]=ee.c2p(Q.s1,!0),J[1]=X.c2p(Q.p1,!0),fe?[oe,J]:[J,oe]}function L(Q,te,ae,fe){if(!te.uniformtext.mode&&M(ae)){var oe;return fe&&(oe=fe()),Q.transition().duration(ae.duration).ease(ae.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()})}else return Q}function M(Q){return Q&&Q.duration>0}function s(Q,te,ae,fe,oe,J){var ee=te.xaxis,X=te.yaxis,q=Q._fullLayout,le=Q._context.staticPlot;oe||(oe={mode:q.barmode,norm:q.barmode,gap:q.bargap,groupgap:q.bargroupgap},a("bar",q));var $=n.makeTraceGroups(fe,ae,"trace bars").each(function(j){var se=d.select(this),ne=j[0].trace,he=j[0].t,me=ne.type==="waterfall",we=ne.type==="funnel",Te=ne.type==="histogram",Le=ne.type==="bar",Ie=Le||we,ze=0;me&&ne.connector.visible&&ne.connector.mode==="between"&&(ze=ne.connector.line.width/2);var Me=ne.orientation==="h",_e=M(oe),Ce=n.ensureSingle(se,"g","points"),Oe=b(ne),Pe=Ce.selectAll("g.point").data(n.identity,Oe);Pe.enter().append("g").classed("point",!0),Pe.exit().remove(),Pe.each(function(Ze,it){var Je=d.select(this),et=m(Ze,ee,X,Me),ft=et[0][0],vt=et[0][1],dt=et[1][0],xt=et[1][1],Mt=(Me?vt-ft:xt-dt)===0;Mt&&Ie&&f.getLineWidth(ne,Ze)&&(Mt=!1),Mt||(Mt=!P(ft)||!P(vt)||!P(dt)||!P(xt)),Ze.isBlank=Mt,Mt&&(Me?vt=ft:xt=dt),ze&&!Mt&&(Me?(ft-=R(ft,vt)*ze,vt+=R(ft,vt)*ze):(dt-=R(dt,xt)*ze,xt+=R(dt,xt)*ze));var nt,Fe;if(ne.type==="waterfall"){if(!Mt){var We=ne[Ze.dir].marker;nt=We.line.width,Fe=We.color}}else nt=f.getLineWidth(ne,Ze),Fe=Ze.mc||ne.marker.color;function je(ut){var bt=d.round(nt/2%1,2);return oe.gap===0&&oe.groupgap===0?d.round(Math.round(ut)-bt,2):ut}function Ke(ut,bt,Et){return Et&&ut===bt?ut:Math.abs(ut-bt)>=2?je(ut):ut>bt?Math.ceil(ut):Math.floor(ut)}var ke=x.opacity(Fe),Ue=ke<1||nt>.01?je:Ke;Q._context.staticPlot||(ft=Ue(ft,vt,Me),vt=Ue(vt,ft,Me),dt=Ue(dt,xt,!Me),xt=Ue(xt,dt,!Me));var Ve=Me?ee.c2p:X.c2p,Re;Ze.s0>0?Re=Ze._sMax:Ze.s0<0?Re=Ze._sMin:Re=Ze.s1>0?Ze._sMax:Ze._sMin;function de(ut,bt){if(!ut)return 0;var Et=Math.abs(Me?xt-dt:vt-ft),It=Math.abs(Me?vt-ft:xt-dt),Ft=Ue(Math.abs(Ve(Re,!0)-Ve(0,!0))),Ot=Ze.hasB?Math.min(Et/2,It/2):Math.min(Et/2,Ft),Nt;if(bt==="%"){var Jt=Math.min(50,ut);Nt=Et*(Jt/100)}else Nt=ut;return Ue(Math.max(Math.min(Nt,Ot),0))}var be=Le||Te?de(he.cornerradiusvalue,he.cornerradiusform):0,Ne,Ye,at="M"+ft+","+dt+"V"+xt+"H"+vt+"V"+dt+"Z",lt=0;if(be&&Ze.s){var Ht=A(Ze.s0)===0||A(Ze.s)===A(Ze.s0)?Ze.s1:Ze.s0;if(lt=Ue(Ze.hasB?0:Math.abs(Ve(Re,!0)-Ve(Ht,!0))),lt<be){var Yt=R(ft,vt),Tt=R(dt,xt),Lt=Yt===-Tt?1:0;if(Me)if(Ze.hasB)Ne="M"+(ft+be*Yt)+","+dt+"A "+be+","+be+" 0 0 "+Lt+" "+ft+","+(dt+be*Tt)+"V"+(xt-be*Tt)+"A "+be+","+be+" 0 0 "+Lt+" "+(ft+be*Yt)+","+xt+"H"+(vt-be*Yt)+"A "+be+","+be+" 0 0 "+Lt+" "+vt+","+(xt-be*Tt)+"V"+(dt+be*Tt)+"A "+be+","+be+" 0 0 "+Lt+" "+(vt-be*Yt)+","+dt+"Z";else{Ye=Math.abs(vt-ft)+lt;var Kt=Ye<be?be-Math.sqrt(Ye*(2*be-Ye)):0,vr=lt>0?Math.sqrt(lt*(2*be-lt)):0,gt=Yt>0?Math.max:Math.min;Ne="M"+ft+","+dt+"V"+(xt-Kt*Tt)+"H"+gt(vt-(be-lt)*Yt,ft)+"A "+be+","+be+" 0 0 "+Lt+" "+vt+","+(xt-be*Tt-vr)+"V"+(dt+be*Tt+vr)+"A "+be+","+be+" 0 0 "+Lt+" "+gt(vt-(be-lt)*Yt,ft)+","+(dt+Kt*Tt)+"Z"}else if(Ze.hasB)Ne="M"+(ft+be*Yt)+","+dt+"A "+be+","+be+" 0 0 "+Lt+" "+ft+","+(dt+be*Tt)+"V"+(xt-be*Tt)+"A "+be+","+be+" 0 0 "+Lt+" "+(ft+be*Yt)+","+xt+"H"+(vt-be*Yt)+"A "+be+","+be+" 0 0 "+Lt+" "+vt+","+(xt-be*Tt)+"V"+(dt+be*Tt)+"A "+be+","+be+" 0 0 "+Lt+" "+(vt-be*Yt)+","+dt+"Z";else{Ye=Math.abs(xt-dt)+lt;var Xt=Ye<be?be-Math.sqrt(Ye*(2*be-Ye)):0,$t=lt>0?Math.sqrt(lt*(2*be-lt)):0,mr=Tt>0?Math.max:Math.min;Ne="M"+(ft+Xt*Yt)+","+dt+"V"+mr(xt-(be-lt)*Tt,dt)+"A "+be+","+be+" 0 0 "+Lt+" "+(ft+be*Yt-$t)+","+xt+"H"+(vt-be*Yt+$t)+"A "+be+","+be+" 0 0 "+Lt+" "+(vt-Xt*Yt)+","+mr(xt-(be-lt)*Tt,dt)+"V"+dt+"Z"}}else Ne=at}else Ne=at;var or=L(n.ensureSingle(Je,"path"),q,oe,J);if(or.style("vector-effect",le?"none":"non-scaling-stroke").attr("d",isNaN((vt-ft)*(xt-dt))||Mt&&Q._context.staticPlot?"M0,0Z":Ne).call(v.setClipUrl,te.layerClipId,Q),!q.uniformtext.mode&&_e){var yt=v.makePointStyleFns(ne);v.singlePointStyle(Ze,or,ne,yt,Q)}S(Q,te,Je,j,it,ft,vt,dt,xt,be,lt,oe,J),te.layerClipId&&v.hideOutsideRangePoint(Ze,Je.select("text"),ee,X,ne.xcalendar,ne.ycalendar)});var Ge=ne.cliponaxis===!1;v.setClipUrl(se,Ge?null:te.layerClipId,Q)});p.getComponentMethod("errorbars","plot")(Q,$,te,oe)}function S(Q,te,ae,fe,oe,J,ee,X,q,le,$,j,se){var ne=te.xaxis,he=te.yaxis,me=Q._fullLayout,we;function Te(Ye,at,lt){var Ht=n.ensureSingle(Ye,"text").text(at).attr({class:"bartext bartext-"+we,"text-anchor":"middle","data-notex":1}).call(v.font,lt).call(C.convertToTspans,Q);return Ht}var Le=fe[0].trace,Ie=Le.orientation==="h",ze=B(me,fe,oe,ne,he);we=F(Le,oe);var Me=j.mode==="stack"||j.mode==="relative",_e=fe[oe],Ce=!Me||_e._outmost,Oe=_e.hasB,Pe=le&&le-$>i;if(!ze||we==="none"||(_e.isBlank||J===ee||X===q)&&(we==="auto"||we==="inside")){ae.select("text").remove();return}var Ge=me.font,Ze=u.getBarColor(fe[oe],Le),it=u.getInsideTextFont(Le,oe,Ge,Ze),Je=u.getOutsideTextFont(Le,oe,Ge),et=Le.insidetextanchor||"end",ft=ae.datum();Ie?ne.type==="log"&&ft.s0<=0&&(ne.range[0]<ne.range[1]?J=0:J=ne._length):he.type==="log"&&ft.s0<=0&&(he.range[0]<he.range[1]?X=he._length:X=0);var vt=Math.abs(ee-J),dt=Math.abs(q-X),xt=vt-2*i,Mt=dt-2*i,nt,Fe,We,je,Ke;if(we==="outside"&&!Ce&&!_e.hasB&&(we="inside"),we==="auto")if(Ce){we="inside",Ke=n.ensureUniformFontSize(Q,it),nt=Te(ae,ze,Ke),Fe=v.bBox(nt.node()),We=Fe.width,je=Fe.height;var ke=We>0&&je>0,Ue;Pe?Oe?Ue=w(xt-2*le,Mt,We,je,Ie)||w(xt,Mt-2*le,We,je,Ie):Ie?Ue=w(xt-(le-$),Mt,We,je,Ie)||w(xt,Mt-2*(le-$),We,je,Ie):Ue=w(xt,Mt-(le-$),We,je,Ie)||w(xt-2*(le-$),Mt,We,je,Ie):Ue=w(xt,Mt,We,je,Ie),ke&&Ue?we="inside":(we="outside",nt.remove(),nt=null)}else we="inside";if(!nt){Ke=n.ensureUniformFontSize(Q,we==="outside"?Je:it),nt=Te(ae,ze,Ke);var Ve=nt.attr("transform");if(nt.attr("transform",""),Fe=v.bBox(nt.node()),We=Fe.width,je=Fe.height,nt.attr("transform",Ve),We<=0||je<=0){nt.remove();return}}var Re=Le.textangle,de,be;we==="outside"?(be=Le.constraintext==="both"||Le.constraintext==="outside",de=V(J,ee,X,q,Fe,{isHorizontal:Ie,constrained:be,angle:Re})):(be=Le.constraintext==="both"||Le.constraintext==="inside",de=H(J,ee,X,q,Fe,{isHorizontal:Ie,constrained:be,angle:Re,anchor:et,hasB:Oe,r:le,overhead:$})),de.fontSize=Ke.size,o(Le.type==="histogram"?"bar":Le.type,de,me),_e.transform=de;var Ne=L(nt,me,j,se);n.setTransormAndDisplay(Ne,de)}function w(Q,te,ae,fe,oe){if(Q<0||te<0)return!1;var J=ae<=Q&&fe<=te,ee=ae<=te&&fe<=Q,X=oe?Q>=ae*(te/fe):te>=fe*(Q/ae);return J||ee||X}function _(Q){return Q==="auto"?0:Q}function I(Q,te){var ae=Math.PI/180*te,fe=Math.abs(Math.sin(ae)),oe=Math.abs(Math.cos(ae));return{x:Q.width*oe+Q.height*fe,y:Q.width*fe+Q.height*oe}}function H(Q,te,ae,fe,oe,J){var ee=!!J.isHorizontal,X=!!J.constrained,q=J.angle||0,le=J.anchor,$=le==="end",j=le==="start",se=J.leftToRight||0,ne=(se+1)/2,he=1-ne,me=J.hasB,we=J.r,Te=J.overhead,Le=oe.width,Ie=oe.height,ze=Math.abs(te-Q),Me=Math.abs(fe-ae),_e=ze>2*i&&Me>2*i?i:0;ze-=2*_e,Me-=2*_e;var Ce=_(q);q==="auto"&&!(Le<=ze&&Ie<=Me)&&(Le>ze||Ie>Me)&&(!(Le>Me||Ie>ze)||Le<Ie!=ze<Me)&&(Ce+=90);var Oe=I(oe,Ce),Pe,Ge;if(we&&we-Te>i){var Ze=O(Q,te,ae,fe,Oe,we,Te,ee,me);Pe=Ze.scale,Ge=Ze.pad}else Pe=1,X&&(Pe=Math.min(1,ze/Oe.x,Me/Oe.y)),Ge=0;var it=oe.left*he+oe.right*ne,Je=(oe.top+oe.bottom)/2,et=(Q+i)*he+(te-i)*ne,ft=(ae+fe)/2,vt=0,dt=0;if(j||$){var xt=(ee?Oe.x:Oe.y)/2;we&&($||me)&&(_e+=Ge);var Mt=ee?R(Q,te):R(ae,fe);ee?j?(et=Q+Mt*_e,vt=-Mt*xt):(et=te-Mt*_e,vt=Mt*xt):j?(ft=ae+Mt*_e,dt=-Mt*xt):(ft=fe-Mt*_e,dt=Mt*xt)}return{textX:it,textY:Je,targetX:et,targetY:ft,anchorX:vt,anchorY:dt,scale:Pe,rotate:Ce}}function O(Q,te,ae,fe,oe,J,ee,X,q){var le=Math.max(0,Math.abs(te-Q)-2*i),$=Math.max(0,Math.abs(fe-ae)-2*i),j=J-i,se=ee?j-Math.sqrt(j*j-(j-ee)*(j-ee)):j,ne=q?j*2:X?j-ee:2*se,he=q?j*2:X?2*se:j-ee,me,we,Te,Le,Ie;return oe.y/oe.x>=$/(le-ne)?Le=$/oe.y:oe.y/oe.x<=($-he)/le?Le=le/oe.x:!q&&X?(me=oe.x*oe.x+oe.y*oe.y/4,we=-2*oe.x*(le-j)-oe.y*($/2-j),Te=(le-j)*(le-j)+($/2-j)*($/2-j)-j*j,Le=(-we+Math.sqrt(we*we-4*me*Te))/(2*me)):q?(me=(oe.x*oe.x+oe.y*oe.y)/4,we=-oe.x*(le/2-j)-oe.y*($/2-j),Te=(le/2-j)*(le/2-j)+($/2-j)*($/2-j)-j*j,Le=(-we+Math.sqrt(we*we-4*me*Te))/(2*me)):(me=oe.x*oe.x/4+oe.y*oe.y,we=-oe.x*(le/2-j)-2*oe.y*($-j),Te=(le/2-j)*(le/2-j)+($-j)*($-j)-j*j,Le=(-we+Math.sqrt(we*we-4*me*Te))/(2*me)),Le=Math.min(1,Le),X?Ie=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-($-oe.y*Le)/2)*(j-($-oe.y*Le)/2)))-ee):Ie=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(le-oe.x*Le)/2)*(j-(le-oe.x*Le)/2)))-ee),{scale:Le,pad:Ie}}function V(Q,te,ae,fe,oe,J){var ee=!!J.isHorizontal,X=!!J.constrained,q=J.angle||0,le=oe.width,$=oe.height,j=Math.abs(te-Q),se=Math.abs(fe-ae),ne;ee?ne=se>2*i?i:0:ne=j>2*i?i:0;var he=1;X&&(he=ee?Math.min(1,se/$):Math.min(1,j/le));var me=_(q),we=I(oe,me),Te=(ee?we.x:we.y)/2,Le=(oe.left+oe.right)/2,Ie=(oe.top+oe.bottom)/2,ze=(Q+te)/2,Me=(ae+fe)/2,_e=0,Ce=0,Oe=ee?R(te,Q):R(ae,fe);return ee?(ze=te-Oe*ne,_e=Oe*Te):(Me=fe+Oe*ne,Ce=-Oe*Te),{textX:Le,textY:Ie,targetX:ze,targetY:Me,anchorX:_e,anchorY:Ce,scale:he,rotate:me}}function B(Q,te,ae,fe,oe){var J=te[0].trace,ee=J.texttemplate,X;return ee?X=G(Q,te,ae,fe,oe):J.textinfo?X=Y(te,ae,fe,oe):X=f.getValue(J.text,ae),f.coerceString(c,X)}function F(Q,te){var ae=f.getValue(Q.textposition,te);return f.coerceEnumerated(T,ae)}function G(Q,te,ae,fe,oe){var J=te[0].trace,ee=n.castOption(J,ae,"texttemplate");if(!ee)return"";var X=J.type==="histogram",q=J.type==="waterfall",le=J.type==="funnel",$=J.orientation==="h",j,se,ne,he;$?(j="y",se=oe,ne="x",he=fe):(j="x",se=fe,ne="y",he=oe);function me(_e){return r(se,se.c2l(_e),!0).text}function we(_e){return r(he,he.c2l(_e),!0).text}var Te=te[ae],Le={};Le.label=Te.p,Le.labelLabel=Le[j+"Label"]=me(Te.p);var Ie=n.castOption(J,Te.i,"text");(Ie===0||Ie)&&(Le.text=Ie),Le.value=Te.s,Le.valueLabel=Le[ne+"Label"]=we(Te.s);var ze={};h(ze,J,Te.i),(X||ze.x===void 0)&&(ze.x=$?Le.value:Le.label),(X||ze.y===void 0)&&(ze.y=$?Le.label:Le.value),(X||ze.xLabel===void 0)&&(ze.xLabel=$?Le.valueLabel:Le.labelLabel),(X||ze.yLabel===void 0)&&(ze.yLabel=$?Le.labelLabel:Le.valueLabel),q&&(Le.delta=+Te.rawS||Te.s,Le.deltaLabel=we(Le.delta),Le.final=Te.v,Le.finalLabel=we(Le.final),Le.initial=Le.final-Le.delta,Le.initialLabel=we(Le.initial)),le&&(Le.value=Te.s,Le.valueLabel=we(Le.value),Le.percentInitial=Te.begR,Le.percentInitialLabel=n.formatPercent(Te.begR),Le.percentPrevious=Te.difR,Le.percentPreviousLabel=n.formatPercent(Te.difR),Le.percentTotal=Te.sumR,Le.percenTotalLabel=n.formatPercent(Te.sumR));var Me=n.castOption(J,Te.i,"customdata");return Me&&(Le.customdata=Me),n.texttemplateString(ee,Le,Q._d3locale,ze,Le,J._meta||{})}function Y(Q,te,ae,fe){var oe=Q[0].trace,J=oe.orientation==="h",ee=oe.type==="waterfall",X=oe.type==="funnel";function q(Me){var _e=J?fe:ae;return r(_e,Me,!0).text}function le(Me){var _e=J?ae:fe;return r(_e,+Me,!0).text}var $=oe.textinfo,j=Q[te],se=$.split("+"),ne=[],he,me=function(Me){return se.indexOf(Me)!==-1};if(me("label")&&ne.push(q(Q[te].p)),me("text")&&(he=n.castOption(oe,j.i,"text"),(he===0||he)&&ne.push(he)),ee){var we=+j.rawS||j.s,Te=j.v,Le=Te-we;me("initial")&&ne.push(le(Le)),me("delta")&&ne.push(le(we)),me("final")&&ne.push(le(Te))}if(X){me("value")&&ne.push(le(j.s));var Ie=0;me("percent initial")&&Ie++,me("percent previous")&&Ie++,me("percent total")&&Ie++;var ze=Ie>1;me("percent initial")&&(he=n.formatPercent(j.begR),ze&&(he+=" of initial"),ne.push(he)),me("percent previous")&&(he=n.formatPercent(j.difR),ze&&(he+=" of previous"),ne.push(he)),me("percent total")&&(he=n.formatPercent(j.sumR),ze&&(he+=" of total"),ne.push(he))}return ne.join("<br>")}U.exports={plot:s,toMoveInsideBar:H}},45784:function(U){U.exports=function(d,P){var n=d.cd,C=d.xaxis,x=d.yaxis,v=n[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],o;if(P===!1)for(o=0;o<n.length;o++)n[o].selected=0;else for(o=0;o<n.length;o++){var a=n[o],u="ct"in a?a.ct:N(a,C,x,r,p);P.contains(u,!1,o,d)?(t.push({pointNumber:o,x:C.c2d(a.x),y:x.c2d(a.y)}),a.selected=1):a.selected=0}return t};function N(e,d,P,n,C){var x=d.c2p(n?e.s0:e.p0,!0),v=d.c2p(n?e.s1:e.p1,!0),p=P.c2p(n?e.p0:e.s0,!0),r=P.c2p(n?e.p1:e.s1,!0);return C?[(x+v)/2,(p+r)/2]:n?[v,(p+r)/2]:[(x+v)/2,r]}},72592:function(U,N,e){U.exports=P;var d=e(3400).distinctVals;function P(n,C){this.traces=n,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var x=1/0,v=C.posAxis._id.charAt(0),p=[],r=0;r<n.length;r++){for(var t=n[r],o=0;o<t.length;o++){var a=t[o],u=a.p;u===void 0&&(u=a[v]),u!==void 0&&p.push(u)}t[0]&&t[0].width1&&(x=Math.min(t[0].width1,x))}this.positions=p;var f=d(p);this.distinctPositions=f.vals,f.vals.length===1&&x!==1/0?this.minDiff=x:this.minDiff=Math.min(f.minDiff,x);var l=(C.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(C,x){var v=this.getLabel(C,x),p=this.bins[v]||0;return this.bins[v]=p+x,p},P.prototype.get=function(C,x){var v=this.getLabel(C,x);return this.bins[v]||0},P.prototype.getLabel=function(C,x){var v=x<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+p}},60100:function(U,N,e){var d=e(33428),P=e(76308),n=e(43616),C=e(3400),x=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,o=p.outsidetextfont,a=e(60444);function u(m){var L=d.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(m,L,"bar");var M=L.size(),s=m._fullLayout;L.style("opacity",function(S){return S[0].trace.opacity}).each(function(S){(s.barmode==="stack"&&M>1||s.bargap===0&&s.bargroupgap===0&&!S[0].trace.marker.line.width)&&d.select(this).attr("shape-rendering","crispEdges")}),L.selectAll("g.points").each(function(S){var w=d.select(this),_=S[0].trace;f(w,_,m)}),x.getComponentMethod("errorbars","style")(L)}function f(m,L,M){n.pointStyle(m.selectAll("path"),L,M),l(m,L,M)}function l(m,L,M){m.selectAll("text").each(function(s){var S=d.select(this),w=C.ensureUniformFontSize(M,h(S,s,L,M));n.font(S,w)})}function y(m,L,M){var s=L[0].trace;s.selectedpoints?c(M,s,m):(f(M,s,m),x.getComponentMethod("errorbars","style")(M))}function c(m,L,M){n.selectedPointStyle(m.selectAll("path"),L),T(m.selectAll("text"),L,M)}function T(m,L,M){m.each(function(s){var S=d.select(this),w;if(s.selected){w=C.ensureUniformFontSize(M,h(S,s,L,M));var _=L.selected.textfont&&L.selected.textfont.color;_&&(w.color=_),n.font(S,w)}else n.selectedTextStyle(S,L)})}function h(m,L,M,s){var S=s._fullLayout.font,w=M.textfont;if(m.classed("bartext-inside")){var _=R(L,M);w=g(M,L.i,S,_)}else m.classed("bartext-outside")&&(w=b(M,L.i,S));return w}function i(m,L,M){return A(r,m.textfont,L,M)}function g(m,L,M,s){var S=i(m,L,M),w=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[L]===void 0;return w&&(S={color:P.contrast(s),family:S.family,size:S.size,weight:S.weight,style:S.style,variant:S.variant,textcase:S.textcase,lineposition:S.lineposition,shadow:S.shadow}),A(t,m.insidetextfont,L,S)}function b(m,L,M){var s=i(m,L,M);return A(o,m.outsidetextfont,L,s)}function A(m,L,M,s){L=L||{};var S=a.getValue(L.family,M),w=a.getValue(L.size,M),_=a.getValue(L.color,M),I=a.getValue(L.weight,M),H=a.getValue(L.style,M),O=a.getValue(L.variant,M),V=a.getValue(L.textcase,M),B=a.getValue(L.lineposition,M),F=a.getValue(L.shadow,M);return{family:a.coerceString(m.family,S,s.family),size:a.coerceNumber(m.size,w,s.size),color:a.coerceColor(m.color,_,s.color),weight:a.coerceString(m.weight,I,s.weight),style:a.coerceString(m.style,H,s.style),variant:a.coerceString(m.variant,O,s.variant),textcase:a.coerceString(m.variant,V,s.textcase),lineposition:a.coerceString(m.variant,B,s.lineposition),shadow:a.coerceString(m.variant,F,s.shadow)}}function R(m,L){return L.type==="waterfall"?L[m.dir].marker.color:m.mcc||m.mc||L.marker.color}U.exports={style:u,styleTextPoints:l,styleOnSelect:y,getInsideTextFont:g,getOutsideTextFont:b,getBarColor:R,resizeText:v}},55592:function(U,N,e){var d=e(76308),P=e(94288).hasColorscale,n=e(27260),C=e(3400).coercePattern;U.exports=function(v,p,r,t,o){var a=r("marker.color",t),u=P(v,"marker");u&&n(v,p,o,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",d.defaultLine),P(v,"marker.line")&&n(v,p,o,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",a,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(U,N,e){var d=e(33428),P=e(3400);function n(p,r,t){var o=p._fullLayout,a=o["_"+t+"Text_minsize"];if(a){var u=o.uniformtext.mode==="hide",f;switch(t){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}r.selectAll(f).each(function(l){var y=l.transform;if(y){y.scale=u&&y.hide?0:a/y.fontSize;var c=d.select(this).select("text");P.setTransormAndDisplay(c,y)}})}}function C(p,r,t){if(t.uniformtext.mode){var o=v(p),a=t.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<a,t[o]=t[o]||1/0,r.hide||(t[o]=Math.min(t[o],Math.max(u,a)))}}function x(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}U.exports={recordMinTextSize:C,clearMinTextSize:x,resizeText:n}},78100:function(U,N,e){var d=e(21776).Ks,P=e(92880).extendFlat,n=e(8319),C=e(20832);U.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:P({},C.base,{}),offset:P({},C.offset,{}),width:P({},C.width,{}),text:P({},C.text,{}),hovertext:P({},C.hovertext,{}),marker:x(),hoverinfo:n.hoverinfo,hovertemplate:d(),selected:C.selected,unselected:C.unselected};function x(){var v=P({},C.marker);return delete v.cornerradius,v}},47056:function(U,N,e){var d=e(94288).hasColorscale,P=e(47128),n=e(3400).isArrayOrTypedArray,C=e(84664),x=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(a,u){for(var f=a._fullLayout,l=u.subplot,y=f[l].radialaxis,c=f[l].angularaxis,T=y.makeCalcdata(u,"r"),h=c.makeCalcdata(u,"theta"),i=u._length,g=new Array(i),b=T,A=h,R=0;R<i;R++)g[R]={p:A[R],s:b[R]};function m(L){var M=u[L];M!==void 0&&(u["_"+L]=n(M)?c.makeCalcdata(u,L):c.d2c(M,u.thetaunit))}return c.type==="linear"&&(m("width"),m("offset")),d(u,"marker")&&P(a,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),d(u,"marker.line")&&P(a,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(g,u),v(g,u),g}function o(a,u,f){for(var l=a.calcdata,y=[],c=0;c<l.length;c++){var T=l[c],h=T[0].trace;h.visible===!0&&p(h,"bar")&&h.subplot===f&&y.push(T)}var i=r({},u.radialaxis,{_id:"x"}),g=u.angularaxis;x(a,g,i,y,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}U.exports={calc:t,crossTraceCalc:o}},70384:function(U,N,e){var d=e(3400),P=e(85968).handleRThetaDefaults,n=e(55592),C=e(78100);U.exports=function(v,p,r,t){function o(u,f){return d.coerce(v,p,C,u,f)}var a=P(v,p,t,o);if(!a){p.visible=!1;return}o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),n(v,p,o,r,t),d.coerceSelectionMarkerOpacity(p,o)}},68896:function(U,N,e){var d=e(93024),P=e(3400),n=e(63400).getTraceColor,C=P.fillText,x=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;U.exports=function(r,t,o){var a=r.cd,u=a[0].trace,f=r.subplot,l=f.radialAxis,y=f.angularAxis,c=f.vangles,T=c?v:P.isPtInsideSector,h=r.maxHoverDistance,i=y._period||2*Math.PI,g=Math.abs(l.g2p(Math.sqrt(t*t+o*o))),b=Math.atan2(o,t);l.range[0]>l.range[1]&&(b+=Math.PI);var A=function(M){return T(g,b,[M.rp0,M.rp1],[M.thetag0,M.thetag1],c)?h+Math.min(1,Math.abs(M.thetag1-M.thetag0)/i)-1+(M.rp1-g)/(M.rp1-M.rp0)-1:1/0};if(d.getClosest(a,A,r),r.index!==!1){var R=r.index,m=a[R];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var L=P.extendFlat({},m,{r:m.s,theta:m.p});return C(m,u,r),x(L,u,f,r),r.hovertemplate=u.hovertemplate,r.color=n(u,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(U,N,e){U.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(U,N,e){var d=e(3400),P=e(9320);U.exports=function(n,C,x){var v={},p;function r(a,u){return d.coerce(n[p]||{},C[p],P,a,u)}for(var t=0;t<x.length;t++){var o=x[t];o.type==="barpolar"&&o.visible===!0&&(p=o.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(U,N,e){var d=e(33428),P=e(38248),n=e(3400),C=e(43616),x=e(57384);U.exports=function(r,t,o){var a=r._context.staticPlot,u=t.xaxis,f=t.yaxis,l=t.radialAxis,y=t.angularAxis,c=v(t),T=t.layers.frontplot.select("g.barlayer");n.makeTraceGroups(T,o,"trace bars").each(function(){var h=d.select(this),i=n.ensureSingle(h,"g","points"),g=i.selectAll("g.point").data(n.identity);g.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),g.exit().remove(),g.each(function(b){var A=d.select(this),R=b.rp0=l.c2p(b.s0),m=b.rp1=l.c2p(b.s1),L=b.thetag0=y.c2g(b.p0),M=b.thetag1=y.c2g(b.p1),s;if(!P(R)||!P(m)||!P(L)||!P(M)||R===m||L===M)s="M0,0Z";else{var S=l.c2g(b.s1),w=(L+M)/2;b.ct=[u.c2p(S*Math.cos(w)),f.c2p(S*Math.sin(w))],s=c(R,m,L,M)}n.ensureSingle(A,"path").attr("d",s)}),C.setClipUrl(h,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(o,a,u,f){var l,y;n.angleDelta(u,f)>0?(l=u,y=f):(l=f,y=u);var c=x.findEnclosingVertexAngles(l,p.vangles)[0],T=x.findEnclosingVertexAngles(y,p.vangles)[1],h=[c,(l+y)/2,T];return x.pathPolygonAnnulus(o,a,l,y,h,r,t)}:function(o,a,u,f){return n.pathAnnulus(o,a,u,f,r,t)}}},63188:function(U,N,e){var d=e(98304),P=e(52904),n=e(20832),C=e(22548),x=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;U.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:C.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:d(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(U,N,e){var d=e(38248),P=e(54460),n=e(1220),C=e(3400),x=e(39032).BADNUM,v=C._;U.exports=function(b,A){var R=b._fullLayout,m=P.getFromId(b,A.xaxis||"x"),L=P.getFromId(b,A.yaxis||"y"),M=[],s=A.type==="violin"?"_numViolins":"_numBoxes",S,w,_,I,H,O,V;A.orientation==="h"?(_=m,I="x",H=L,O="y",V=!!A.yperiodalignment):(_=L,I="y",H=m,O="x",V=!!A.xperiodalignment);var B=p(A,O,H,R[s]),F=B[0],G=B[1],Y=C.distinctVals(F,H),Q=Y.vals,te=Y.minDiff/2,ae,fe,oe,J,ee,X,q=(A.boxpoints||A.points)==="all"?C.identity:function(Mt){return Mt.v<ae.lf||Mt.v>ae.uf};if(A._hasPreCompStats){var le=A[I],$=function(Mt){return _.d2c((A[Mt]||[])[S])},j=1/0,se=-1/0;for(S=0;S<A._length;S++){var ne=F[S];if(d(ne)){if(ae={},ae.pos=ae[O]=ne,V&&G&&(ae.orig_p=G[S]),ae.q1=$("q1"),ae.med=$("median"),ae.q3=$("q3"),fe=[],le&&C.isArrayOrTypedArray(le[S]))for(w=0;w<le[S].length;w++)X=_.d2c(le[S][w]),X!==x&&(ee={v:X,i:[S,w]},a(ee,A,[S,w]),fe.push(ee));if(ae.pts=fe.sort(f),oe=ae[I]=fe.map(l),J=oe.length,ae.med!==x&&ae.q1!==x&&ae.q3!==x&&ae.med>=ae.q1&&ae.q3>=ae.med){var he=$("lowerfence");ae.lf=he!==x&&he<=ae.q1?he:y(ae,oe,J);var me=$("upperfence");ae.uf=me!==x&&me>=ae.q3?me:c(ae,oe,J);var we=$("mean");ae.mean=we!==x?we:J?C.mean(oe,J):(ae.q1+ae.q3)/2;var Te=$("sd");ae.sd=we!==x&&Te>=0?Te:J?C.stdev(oe,J,ae.mean):ae.q3-ae.q1,ae.lo=T(ae),ae.uo=h(ae);var Le=$("notchspan");Le=Le!==x&&Le>0?Le:i(ae,J),ae.ln=ae.med-Le,ae.un=ae.med+Le;var Ie=ae.lf,ze=ae.uf;A.boxpoints&&oe.length&&(Ie=Math.min(Ie,oe[0]),ze=Math.max(ze,oe[J-1])),A.notched&&(Ie=Math.min(Ie,ae.ln),ze=Math.max(ze,ae.un)),ae.min=Ie,ae.max=ze}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ae.q1,"median = "+ae.med,"q3 = "+ae.q3].join(`
`));var Me;ae.med!==x?Me=ae.med:ae.q1!==x?ae.q3!==x?Me=(ae.q1+ae.q3)/2:Me=ae.q1:ae.q3!==x?Me=ae.q3:Me=0,ae.med=Me,ae.q1=ae.q3=Me,ae.lf=ae.uf=Me,ae.mean=ae.sd=Me,ae.ln=ae.un=Me,ae.min=ae.max=Me}j=Math.min(j,ae.min),se=Math.max(se,ae.max),ae.pts2=fe.filter(q),M.push(ae)}}A._extremes[_._id]=P.findExtremes(_,[j,se],{padded:!0})}else{var _e=_.makeCalcdata(A,I),Ce=r(Q,te),Oe=Q.length,Pe=t(Oe);for(S=0;S<A._length;S++)if(X=_e[S],!!d(X)){var Ge=C.findBin(F[S],Ce);Ge>=0&&Ge<Oe&&(ee={v:X,i:S},a(ee,A,S),Pe[Ge].push(ee))}var Ze=1/0,it=-1/0,Je=A.quartilemethod,et=Je==="exclusive",ft=Je==="inclusive";for(S=0;S<Oe;S++)if(Pe[S].length>0){if(ae={},ae.pos=ae[O]=Q[S],fe=ae.pts=Pe[S].sort(f),oe=ae[I]=fe.map(l),J=oe.length,ae.min=oe[0],ae.max=oe[J-1],ae.mean=C.mean(oe,J),ae.sd=C.stdev(oe,J,ae.mean)*A.sdmultiple,ae.med=C.interp(oe,.5),J%2&&(et||ft)){var vt,dt;et?(vt=oe.slice(0,J/2),dt=oe.slice(J/2+1)):ft&&(vt=oe.slice(0,J/2+1),dt=oe.slice(J/2)),ae.q1=C.interp(vt,.5),ae.q3=C.interp(dt,.5)}else ae.q1=C.interp(oe,.25),ae.q3=C.interp(oe,.75);ae.lf=y(ae,oe,J),ae.uf=c(ae,oe,J),ae.lo=T(ae),ae.uo=h(ae);var xt=i(ae,J);ae.ln=ae.med-xt,ae.un=ae.med+xt,Ze=Math.min(Ze,ae.ln),it=Math.max(it,ae.un),ae.pts2=fe.filter(q),M.push(ae)}A.notched&&C.isTypedArray(_e)&&(_e=Array.from(_e)),A._extremes[_._id]=P.findExtremes(_,A.notched?_e.concat([Ze,it]):_e,{padded:!0})}return u(M,A),M.length>0?(M[0].t={num:R[s],dPos:te,posLetter:O,valLetter:I,labels:{med:v(b,"median:"),min:v(b,"min:"),q1:v(b,"q1:"),q3:v(b,"q3:"),max:v(b,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?v(b,"mean ± σ:").replace("σ",A.sdmultiple===1?"σ":A.sdmultiple+"σ"):v(b,"mean:"),lf:v(b,"lower fence:"),uf:v(b,"upper fence:")}},R[s]++,M):[{t:{empty:!0}}]};function p(g,b,A,R){var m=b in g,L=b+"0"in g,M="d"+b in g;if(m||L&&M){var s=A.makeCalcdata(g,b),S=n(g,A,b,s).vals;return[S,s]}var w;L?w=g[b+"0"]:"name"in g&&(A.type==="category"||d(g.name)&&["linear","log"].indexOf(A.type)!==-1||C.isDateTime(g.name)&&A.type==="date")?w=g.name:w=R;for(var _=A.type==="multicategory"?A.r2c_just_indices(w):A.d2c(w,0,g[b+"calendar"]),I=g._length,H=new Array(I),O=0;O<I;O++)H[O]=_;return[H]}function r(g,b){for(var A=g.length,R=new Array(A+1),m=0;m<A;m++)R[m]=g[m]-b;return R[A]=g[A-1]+b,R}function t(g){for(var b=new Array(g),A=0;A<g;A++)b[A]=[];return b}var o={text:"tx",hovertext:"htx"};function a(g,b,A){for(var R in o)C.isArrayOrTypedArray(b[R])&&(Array.isArray(A)?C.isArrayOrTypedArray(b[R][A[0]])&&(g[o[R]]=b[R][A[0]][A[1]]):g[o[R]]=b[R][A])}function u(g,b){if(C.isArrayOrTypedArray(b.selectedpoints))for(var A=0;A<g.length;A++){for(var R=g[A].pts||[],m={},L=0;L<R.length;L++)m[R[L].i]=L;C.tagSelected(R,b,m)}}function f(g,b){return g.v-b.v}function l(g){return g.v}function y(g,b,A){return A===0?g.q1:Math.min(g.q1,b[Math.min(C.findBin(2.5*g.q1-1.5*g.q3,b,!0)+1,A-1)])}function c(g,b,A){return A===0?g.q3:Math.max(g.q3,b[Math.max(C.findBin(2.5*g.q3-1.5*g.q1,b),0)])}function T(g){return 4*g.q1-3*g.q3}function h(g){return 4*g.q3-3*g.q1}function i(g,b){return b===0?0:1.57*(g.q3-g.q1)/Math.sqrt(b)}},96404:function(U,N,e){var d=e(54460),P=e(3400),n=e(71888).getAxisGroup,C=["v","h"];function x(p,r){for(var t=p.calcdata,o=r.xaxis,a=r.yaxis,u=0;u<C.length;u++){for(var f=C[u],l=f==="h"?a:o,y=[],c=0;c<t.length;c++){var T=t[c],h=T[0].t,i=T[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!h.empty&&(i.orientation||"v")===f&&i.xaxis===o._id&&i.yaxis===a._id&&y.push(c)}v("box",p,y,l)}}function v(p,r,t,o){var a=r.calcdata,u=r._fullLayout,f=o._id,l=f.charAt(0),y,c,T,h=[],i=0;for(y=0;y<t.length;y++)for(T=a[t[y]],c=0;c<T.length;c++)h.push(o.c2l(T[c].pos,!0)),i+=(T[c].pts2||[]).length;if(h.length){var g=P.distinctVals(h);(o.type==="category"||o.type==="multicategory")&&(g.minDiff=1);var b=g.minDiff/2;d.minDtick(o,g.minDiff,g.vals[0],!0);var A=p==="violin"?"_numViolins":"_numBoxes",R=u[A],m=u[p+"mode"]==="group"&&R>1,L=1-u[p+"gap"],M=1-u[p+"groupgap"];for(y=0;y<t.length;y++){T=a[t[y]];var s=T[0].trace,S=T[0].t,w=s.width,_=s.side,I,H,O,V;if(w)I=H=V=w/2,O=0;else if(I=b,m){var B=n(u,o._id)+s.orientation,F=u._alignmentOpts[B]||{},G=F[s.alignmentgroup]||{},Y=Object.keys(G.offsetGroups||{}).length,Q=Y||R,te=Y?s._offsetIndex:S.num;H=I*L*M/Q,O=2*I*(-.5+(te+.5)/Q)*L,V=I*L/Q}else H=I*L*M,O=0,V=I;S.dPos=I,S.bPos=O,S.bdPos=H,S.wHover=V;var ae,fe,oe=O+H,J,ee,X,q,le,$,j=!!w,se=(s.boxpoints||s.points)&&i>0;if(_==="positive"?(ae=I*(w?1:.5),J=oe,fe=J=O):_==="negative"?(ae=J=O,fe=I*(w?1:.5),ee=oe):(ae=fe=I,J=ee=oe),se){var ne=s.pointpos,he=s.jitter,me=s.marker.size/2,we=0;ne+he>=0&&(we=oe*(ne+he),we>ae?(j=!0,le=me,X=we):we>J&&(le=me,X=ae)),we<=ae&&(X=ae);var Te=0;ne-he<=0&&(Te=-oe*(ne-he),Te>fe?(j=!0,$=me,q=Te):Te>ee&&($=me,q=fe)),Te<=fe&&(q=fe)}else X=ae,q=fe;var Le=new Array(T.length);for(c=0;c<T.length;c++)Le[c]=T[c].pos;s._extremes[f]=d.findExtremes(o,Le,{padded:j,vpadminus:q,vpadplus:X,vpadLinearized:!0,ppadminus:{x:$,y:le}[l],ppadplus:{x:le,y:$}[l]})}}}U.exports={crossTraceCalc:x,setPositionOffset:v}},90624:function(U,N,e){var d=e(3400),P=e(24040),n=e(76308),C=e(31147),x=e(20011),v=e(52976),p=e(63188);function r(u,f,l,y){function c(M,s){return d.coerce(u,f,p,M,s)}if(t(u,f,c,y),f.visible!==!1){C(u,f,y,c),c("xhoverformat"),c("yhoverformat");var T=f._hasPreCompStats;T&&(c("lowerfence"),c("upperfence")),c("line.color",(u.marker||{}).color||l),c("line.width"),c("fillcolor",n.addOpacity(f.line.color,.5));var h=!1;if(T){var i=c("mean"),g=c("sd");i&&i.length&&(h=!0,g&&g.length&&(h="sd"))}c("whiskerwidth");var b=c("sizemode"),A;b==="quartiles"&&(A=c("boxmean",h)),c("showwhiskers",b==="quartiles"),(b==="sd"||A==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var R=!1;if(T){var m=c("notchspan");m&&m.length&&(R=!0)}else d.validate(u.notchwidth,p.notchwidth)&&(R=!0);var L=c("notched",R);L&&c("notchwidth"),o(u,f,c,{prefix:"box"}),c("zorder")}}function t(u,f,l,y){function c(Y){var Q=0;return Y&&Y.length&&(Q+=1,d.isArrayOrTypedArray(Y[0])&&Y[0].length&&(Q+=1)),Q}function T(Y){return d.validate(u[Y],p[Y])}var h=l("y"),i=l("x"),g;if(f.type==="box"){var b=l("q1"),A=l("median"),R=l("q3");f._hasPreCompStats=b&&b.length&&A&&A.length&&R&&R.length,g=Math.min(d.minRowLength(b),d.minRowLength(A),d.minRowLength(R))}var m=c(h),L=c(i),M=m&&d.minRowLength(h),s=L&&d.minRowLength(i),S=y.calendar,w={autotypenumbers:y.autotypenumbers},_,I;if(f._hasPreCompStats)switch(String(L)+String(m)){case"00":var H=T("x0")||T("dx"),O=T("y0")||T("dy");O&&!H?_="h":_="v",I=g;break;case"10":_="v",I=Math.min(g,s);break;case"20":_="h",I=Math.min(g,i.length);break;case"01":_="h",I=Math.min(g,M);break;case"02":_="v",I=Math.min(g,h.length);break;case"12":_="v",I=Math.min(g,s,h.length);break;case"21":_="h",I=Math.min(g,i.length,M);break;case"11":I=0;break;case"22":var V=!1,B;for(B=0;B<i.length;B++)if(v(i[B],S,w)==="category"){V=!0;break}if(V)_="v",I=Math.min(g,s,h.length);else{for(B=0;B<h.length;B++)if(v(h[B],S,w)==="category"){V=!0;break}V?(_="h",I=Math.min(g,i.length,M)):(_="v",I=Math.min(g,s,h.length))}break}else m>0?(_="v",L>0?I=Math.min(s,M):I=Math.min(M)):L>0?(_="h",I=Math.min(s)):I=0;if(!I){f.visible=!1;return}f._length=I;var F=l("orientation",_);f._hasPreCompStats?F==="v"&&L===0?(l("x0",0),l("dx",1)):F==="h"&&m===0&&(l("y0",0),l("dy",1)):F==="v"&&L===0?l("x0"):F==="h"&&m===0&&l("y0");var G=P.getComponentMethod("calendars","handleTraceDefaults");G(u,f,["x","y"],y)}function o(u,f,l,y){var c=y.prefix,T=d.coerce2(u,f,p,"marker.outliercolor"),h=l("marker.line.outliercolor"),i="outliers";f._hasPreCompStats?i="all":(T||h)&&(i="suspectedoutliers");var g=l(c+"points",i);g?(l("jitter",g==="all"?.3:0),l("pointpos",g==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",f.line.color),l("marker.line.color"),l("marker.line.width"),g==="suspectedoutliers"&&(l("marker.line.outliercolor",f.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete f.marker;var b=l("hoveron");(b==="all"||b.indexOf("points")!==-1)&&l("hovertemplate"),d.coerceSelectionMarkerOpacity(f,l)}function a(u,f){var l,y;function c(i){return d.coerce(y._input,y,p,i)}for(var T=0;T<u.length;T++){y=u[T];var h=y.type;(h==="box"||h==="violin")&&(l=y._input,f[h+"mode"]==="group"&&x(l,y,f,c))}}U.exports={supplyDefaults:r,crossTraceDefaults:a,handleSampleDefaults:t,handlePointsDefaults:o}},10392:function(U){U.exports=function(e,d){return d.hoverOnBox&&(e.hoverOnBox=d.hoverOnBox),"xVal"in d&&(e.x=d.xVal),"yVal"in d&&(e.y=d.yVal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e}},27576:function(U,N,e){var d=e(54460),P=e(3400),n=e(93024),C=e(76308),x=P.fillText;function v(t,o,a,u){var f=t.cd,l=f[0].trace,y=l.hoveron,c=[],T;return y.indexOf("boxes")!==-1&&(c=c.concat(p(t,o,a,u))),y.indexOf("points")!==-1&&(T=r(t,o,a)),u==="closest"?T?[T]:c:(T&&c.push(T),c)}function p(t,o,a,u){var f=t.cd,l=t.xa,y=t.ya,c=f[0].trace,T=f[0].t,h=c.type==="violin",i,g,b,A,R,m,L,M,s,S,w,_=T.bdPos,I,H,O=T.wHover,V=function(Te){return b.c2l(Te.pos)+T.bPos-b.c2l(m)};h&&c.side!=="both"?(c.side==="positive"&&(s=function(Te){var Le=V(Te);return n.inbox(Le,Le+O,S)},I=_,H=0),c.side==="negative"&&(s=function(Te){var Le=V(Te);return n.inbox(Le-O,Le,S)},I=0,H=_)):(s=function(Te){var Le=V(Te);return n.inbox(Le-O,Le+O,S)},I=H=_);var B;h?B=function(Te){return n.inbox(Te.span[0]-R,Te.span[1]-R,S)}:B=function(Te){return n.inbox(Te.min-R,Te.max-R,S)},c.orientation==="h"?(R=o,m=a,L=B,M=s,i="y",b=y,g="x",A=l):(R=a,m=o,L=s,M=B,i="x",b=l,g="y",A=y);var F=Math.min(1,_/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));S=t.maxHoverDistance-F,w=t.maxSpikeDistance-F;function G(Te){return(L(Te)+M(Te))/2}var Y=n.getDistanceFunction(u,L,M,G);if(n.getClosest(f,Y,t),t.index===!1)return[];var Q=f[t.index],te=c.line.color,ae=(c.marker||{}).color;C.opacity(te)&&c.line.width?t.color=te:C.opacity(ae)&&c.boxpoints?t.color=ae:t.color=c.fillcolor,t[i+"0"]=b.c2p(Q.pos+T.bPos-H,!0),t[i+"1"]=b.c2p(Q.pos+T.bPos+I,!0),t[i+"LabelVal"]=Q.orig_p!==void 0?Q.orig_p:Q.pos;var fe=i+"Spike";t.spikeDistance=G(Q)*w/S,t[fe]=b.c2p(Q.pos,!0);var oe=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,J=c.boxpoints||c.points,ee=J&&oe?["max","uf","q3","med","mean","q1","lf","min"]:J&&!oe?["max","uf","q3","med","q1","lf","min"]:!J&&oe?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=A.range[1]<A.range[0];c.orientation===(X?"v":"h")&&ee.reverse();for(var q=t.spikeDistance,le=t[fe],$=[],j=0;j<ee.length;j++){var se=ee[j];if(se in Q){var ne=Q[se],he=A.c2p(ne,!0),me=P.extendFlat({},t);me.attr=se,me[g+"0"]=me[g+"1"]=he,me[g+"LabelVal"]=ne,me[g+"Label"]=(T.labels?T.labels[se]+" ":"")+d.hoverLabelText(A,ne,c[g+"hoverformat"]),me.hoverOnBox=!0,se==="mean"&&"sd"in Q&&(c.boxmean==="sd"||c.sizemode==="sd")&&(me[g+"err"]=Q.sd),me.hovertemplate=!1,$.push(me)}}t.name="",t.spikeDistance=void 0,t[fe]=void 0;for(var we=0;we<$.length;we++)$[we].attr!=="med"?($[we].name="",$[we].spikeDistance=void 0,$[we][fe]=void 0):($[we].spikeDistance=q,$[we][fe]=le);return $}function r(t,o,a){for(var u=t.cd,f=t.xa,l=t.ya,y=u[0].trace,c=f.c2p(o),T=l.c2p(a),h,i=function(B){var F=Math.max(3,B.mrc||0);return Math.max(Math.abs(f.c2p(B.x)-c)-F,1-3/F)},g=function(B){var F=Math.max(3,B.mrc||0);return Math.max(Math.abs(l.c2p(B.y)-T)-F,1-3/F)},b=n.quadrature(i,g),A=!1,R,m,L=0;L<u.length;L++){R=u[L];for(var M=0;M<(R.pts||[]).length;M++){m=R.pts[M];var s=b(m);s<=t.distance&&(t.distance=s,A=[L,M])}}if(!A)return!1;R=u[A[0]],m=R.pts[A[1]];var S=f.c2p(m.x,!0),w=l.c2p(m.y,!0),_=m.mrc||1;h=P.extendFlat({},t,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:S-_,x1:S+_,y0:w-_,y1:w+_,spikeDistance:t.distance,hovertemplate:y.hovertemplate});var I=R.orig_p,H=I!==void 0?I:R.pos,O;y.orientation==="h"?(O=l,h.xLabelVal=m.x,h.yLabelVal=H):(O=f,h.xLabelVal=H,h.yLabelVal=m.y);var V=O._id.charAt(0);return h[V+"Spike"]=O.c2p(R.pos,!0),x(m,y,h),h}U.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(U,N,e){U.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(U){U.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(U,N,e){var d=e(24040),P=e(3400),n=e(16560);function C(v,p,r,t,o){for(var a=o+"Layout",u=!1,f=0;f<r.length;f++){var l=r[f];if(d.traceIs(l,a)){u=!0;break}}u&&(t(o+"mode"),t(o+"gap"),t(o+"groupgap"))}function x(v,p,r){function t(o,a){return P.coerce(v,p,n,o,a)}C(v,p,r,t,"box")}U.exports={supplyLayoutDefaults:x,_supply:C}},18728:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=5,x=.01;function v(o,a,u,f){var l=o._context.staticPlot,y=a.xaxis,c=a.yaxis;P.makeTraceGroups(f,u,"trace boxes").each(function(T){var h=d.select(this),i=T[0],g=i.t,b=i.trace;if(g.wdPos=g.bdPos*b.whiskerwidth,b.visible!==!0||g.empty){h.remove();return}var A,R;b.orientation==="h"?(A=c,R=y):(A=y,R=c),p(h,{pos:A,val:R},b,g,l),r(h,{x:y,y:c},b,g),t(h,{pos:A,val:R},b,g)})}function p(o,a,u,f,l){var y=u.orientation==="h",c=a.val,T=a.pos,h=!!T.rangebreaks,i=f.bPos,g=f.wdPos||0,b=f.bPosPxOffset||0,A=u.whiskerwidth||0,R=u.showwhiskers!==!1,m=u.notched||!1,L=m?1-2*u.notchwidth:1,M,s;Array.isArray(f.bdPos)?(M=f.bdPos[0],s=f.bdPos[1]):(M=f.bdPos,s=f.bdPos);var S=o.selectAll("path.box").data(u.type!=="violin"||u.box.visible?P.identity:[]);S.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(w){if(w.empty)return d.select(this).attr("d","M0,0Z");var _=T.c2l(w.pos+i,!0),I=T.l2p(_-M)+b,H=T.l2p(_+s)+b,O=h?(I+H)/2:T.l2p(_)+b,V=u.whiskerwidth,B=h?I*V+(1-V)*O:T.l2p(_-g)+b,F=h?H*V+(1-V)*O:T.l2p(_+g)+b,G=T.l2p(_-M*L)+b,Y=T.l2p(_+s*L)+b,Q=u.sizemode==="sd",te=c.c2p(Q?w.mean-w.sd:w.q1,!0),ae=Q?c.c2p(w.mean+w.sd,!0):c.c2p(w.q3,!0),fe=P.constrain(Q?c.c2p(w.mean,!0):c.c2p(w.med,!0),Math.min(te,ae)+1,Math.max(te,ae)-1),oe=w.lf===void 0||u.boxpoints===!1||Q,J=c.c2p(oe?w.min:w.lf,!0),ee=c.c2p(oe?w.max:w.uf,!0),X=c.c2p(w.ln,!0),q=c.c2p(w.un,!0);y?d.select(this).attr("d","M"+fe+","+G+"V"+Y+"M"+te+","+I+"V"+H+(m?"H"+X+"L"+fe+","+Y+"L"+q+","+H:"")+"H"+ae+"V"+I+(m?"H"+q+"L"+fe+","+G+"L"+X+","+I:"")+"Z"+(R?"M"+te+","+O+"H"+J+"M"+ae+","+O+"H"+ee+(A===0?"":"M"+J+","+B+"V"+F+"M"+ee+","+B+"V"+F):"")):d.select(this).attr("d","M"+G+","+fe+"H"+Y+"M"+I+","+te+"H"+H+(m?"V"+X+"L"+Y+","+fe+"L"+H+","+q:"")+"V"+ae+"H"+I+(m?"V"+q+"L"+G+","+fe+"L"+I+","+X:"")+"Z"+(R?"M"+O+","+te+"V"+J+"M"+O+","+ae+"V"+ee+(A===0?"":"M"+B+","+J+"H"+F+"M"+B+","+ee+"H"+F):""))})}function r(o,a,u,f){var l=a.x,y=a.y,c=f.bdPos,T=f.bPos,h=u.boxpoints||u.points;P.seedPseudoRandom();var i=function(A){return A.forEach(function(R){R.t=f,R.trace=u}),A},g=o.selectAll("g.points").data(h?i:[]);g.enter().append("g").attr("class","points"),g.exit().remove();var b=g.selectAll("path").data(function(A){var R,m=A.pts2,L=Math.max((A.max-A.min)/10,A.q3-A.q1),M=L*1e-9,s=L*x,S=[],w=0,_;if(u.jitter){if(L===0)for(w=1,S=new Array(m.length),R=0;R<m.length;R++)S[R]=1;else for(R=0;R<m.length;R++){var I=Math.max(0,R-C),H=m[I].v,O=Math.min(m.length-1,R+C),V=m[O].v;h!=="all"&&(m[R].v<A.lf?V=Math.min(V,A.lf):H=Math.max(H,A.uf));var B=Math.sqrt(s*(O-I)/(V-H+M))||0;B=P.constrain(Math.abs(B),0,1),S.push(B),w=Math.max(B,w)}_=u.jitter*2/(w||1)}for(R=0;R<m.length;R++){var F=m[R],G=F.v,Y=u.jitter?_*S[R]*(P.pseudoRandom()-.5):0,Q=A.pos+T+c*(u.pointpos+Y);u.orientation==="h"?(F.y=Q,F.x=G):(F.x=Q,F.y=G),h==="suspectedoutliers"&&G<A.uo&&G>A.lo&&(F.so=!0)}return m});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(n.translatePoints,l,y)}function t(o,a,u,f){var l=a.val,y=a.pos,c=!!y.rangebreaks,T=f.bPos,h=f.bPosPxOffset||0,i=u.boxmean||(u.meanline||{}).visible,g,b;Array.isArray(f.bdPos)?(g=f.bdPos[0],b=f.bdPos[1]):(g=f.bdPos,b=f.bdPos);var A=o.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?P.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(R){var m=y.c2l(R.pos+T,!0),L=y.l2p(m-g)+h,M=y.l2p(m+b)+h,s=c?(L+M)/2:y.l2p(m)+h,S=l.c2p(R.mean,!0),w=l.c2p(R.mean-R.sd,!0),_=l.c2p(R.mean+R.sd,!0);u.orientation==="h"?d.select(this).attr("d","M"+S+","+L+"V"+M+(i==="sd"?"m0,0L"+w+","+s+"L"+S+","+L+"L"+_+","+s+"Z":"")):d.select(this).attr("d","M"+L+","+S+"H"+M+(i==="sd"?"m0,0L"+s+","+w+"L"+L+","+S+"L"+s+","+_+"Z":""))})}U.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(U){U.exports=function(e,d){var P=e.cd,n=e.xaxis,C=e.yaxis,x=[],v,p;if(d===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=n.c2p(r.x),o=C.c2p(r.y);d.contains([t,o],null,r.i,e)?(x.push({pointNumber:r.i,x:n.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return x}},25776:function(U,N,e){var d=e(33428),P=e(76308),n=e(43616);function C(v,p,r){var t=r||d.select(v).selectAll("g.trace.boxes");t.style("opacity",function(o){return o[0].trace.opacity}),t.each(function(o){var a=d.select(this),u=o[0].trace,f=u.line.width;function l(T,h,i,g){T.style("stroke-width",h+"px").call(P.stroke,i).call(P.fill,g)}var y=a.selectAll("path.box");if(u.type==="candlestick")y.each(function(T){if(!T.empty){var h=d.select(this),i=u[T.dir];l(h,i.line.width,i.line.color,i.fillcolor),h.style("opacity",u.selectedpoints&&!T.selected?.3:1)}});else{l(y,f,u.line.color,u.fillcolor),a.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(P.stroke,u.line.color);var c=a.selectAll("path.point");n.pointStyle(c,u,v)}})}function x(v,p,r){var t=p[0].trace,o=r.selectAll("path.point");t.selectedpoints?n.selectedPointStyle(o,t):n.pointStyle(o,t,v)}U.exports={style:C,styleOnSelect:x}},64216:function(U,N,e){var d=e(3400).extendFlat,P=e(29736).axisHoverFormat,n=e(20279),C=e(63188);function x(v){return{line:{color:d({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}U.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:d({},C.line.width,{}),editType:"style"},increasing:x(n.increasing.line.color.dflt),decreasing:x(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:d({},C.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel,zorder:C.zorder}},46283:function(U,N,e){var d=e(3400),P=e(54460),n=e(1220),C=e(42812).calcCommon;U.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),o=P.getFromId(v,p.yaxis),a=t.makeCalcdata(p,"x"),u=n(p,t,"x",a).vals,f=C(v,p,a,u,o,x);return f.length?(d.extendFlat(f[0].t,{num:r._numBoxes,dPos:d.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,f):[{t:{empty:!0}}]};function x(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(U,N,e){var d=e(3400),P=e(76308),n=e(52744),C=e(31147),x=e(64216);U.exports=function(r,t,o,a){function u(l,y){return d.coerce(r,t,x,l,y)}var f=n(r,t,u,a);if(!f){t.visible=!1;return}C(r,t,a,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),v(r,t,u,"increasing"),v(r,t,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),a._requestRangeslider[t.xaxis]=!0,u("zorder")};function v(p,r,t,o){var a=t(o+".line.color");t(o+".line.width",r.line.width),t(o+".fillcolor",P.addOpacity(a,.5))}},61712:function(U,N,e){U.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(U,N,e){var d=e(63856),P=e(31780);U.exports=function(x,v,p,r,t){var o=r("a");o||(r("da"),r("a0"));var a=r("b");a||(r("db"),r("b0")),n(x,v,p,t)};function n(C,x,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var o=t.charAt(0),a=C[t]||{},u=P.newContainer(x,t),f={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:x.font,name:t,data:C[o],calendar:x.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};d(a,u,f),u._categories=u._categories||[],!C[t]&&a.type!=="-"&&(C[t]={type:a.type})})}},51676:function(U,N,e){var d=e(3400).isArrayOrTypedArray;U.exports=function(n){return P(n,0)};function P(n,C){if(!d(n)||C>=10)return null;for(var x=1/0,v=-1/0,p=n.length,r=0;r<p;r++){var t=n[r];if(d(t)){var o=P(t,C+1);o&&(x=Math.min(o[0],x),v=Math.max(o[1],v))}else x=Math.min(t,x),v=Math.max(t,v)}return[x,v]}},85720:function(U,N,e){var d=e(25376),P=e(98692),n=e(22548),C=d({editType:"calc"}),x=e(52904).zorder;C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=n.defaultLine,U.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:C,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0,zorder:x}},77712:function(U,N,e){var d=e(3400).isArrayOrTypedArray;U.exports=function(P,n,C,x){var v,p,r,t,o,a,u,f,l,y,c,T,h,i=d(C)?"a":"b",g=i==="a"?P.aaxis:P.baxis,b=g.smoothing,A=i==="a"?P.a2i:P.b2j,R=i==="a"?C:x,m=i==="a"?x:C,L=i==="a"?n.a.length:n.b.length,M=i==="a"?n.b.length:n.a.length,s=Math.floor(i==="a"?P.b2j(m):P.a2i(m)),S=i==="a"?function(te){return P.evalxy([],te,s)}:function(te){return P.evalxy([],s,te)};b&&(r=Math.max(0,Math.min(M-2,s)),t=s-r,p=i==="a"?function(te,ae){return P.dxydi([],te,r,ae,t)}:function(te,ae){return P.dxydj([],r,te,t,ae)});var w=A(R[0]),_=A(R[1]),I=w<_?1:-1,H=(_-w)*1e-8,O=I>0?Math.floor:Math.ceil,V=I>0?Math.ceil:Math.floor,B=I>0?Math.min:Math.max,F=I>0?Math.max:Math.min,G=O(w+H),Y=V(_-H);u=S(w);var Q=[[u]];for(v=G;v*I<Y*I;v+=I)o=[],c=F(w,v),T=B(_,v+I),h=T-c,a=Math.max(0,Math.min(L-2,Math.floor(.5*(c+T)))),f=S(T),b&&(l=p(a,c-a),y=p(a,T-a),o.push([u[0]+l[0]/3*h,u[1]+l[1]/3*h]),o.push([f[0]-y[0]/3*h,f[1]-y[1]/3*h])),o.push(f),Q.push(o),u=f;return Q}},98692:function(U,N,e){var d=e(25376),P=e(22548),n=e(94724),C=e(29736).descriptionWithDates,x=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;U.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:d({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},n.labelalias,{editType:"calc"}),tickfont:d({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:x(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:d({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(U,N,e){var d=e(85720),P=e(76308).addOpacity,n=e(24040),C=e(3400),x=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),o=e(52976);U.exports=function(f,l,y){var c=y.letter,T=y.font||{},h=d[c+"axis"];function i(G,Y){return C.coerce(f,l,h,G,Y)}function g(G,Y){return C.coerce2(f,l,h,G,Y)}y.name&&(l._name=y.name,l._id=y.name),i("autotypenumbers",y.autotypenumbersDflt);var b=i("type");if(b==="-"&&(y.data&&a(l,y.data),l.type==="-"?l.type="linear":b=f.type=l.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",c+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),l.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),l._hovertitle=c,b==="date"){var A=n.getComponentMethod("calendars","handleDefaults");A(f,l,"calendar",y.calendar)}t(l,y.fullLayout),l.c2p=C.identity;var R=i("color",y.dfltColor),m=R===f.color?R:T.color,L=i("title.text");L&&(C.coerceFont(i,"title.font",T,{overrideDflt:{size:C.bigFont(T.size),color:m}}),i("title.offset")),i("tickangle");var M=i("autorange",!l.isValidRange(f.range));M&&i("rangemode"),i("range"),l.cleanRange(),i("fixedrange"),x(f,l,i,b),p(f,l,i,b,y),v(f,l,i,b,y),r(f,l,i,{data:y.data,dataAttr:c});var s=g("gridcolor",P(R,.3)),S=g("gridwidth"),w=g("griddash"),_=i("showgrid");_||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var I=g("startlinecolor",R),H=g("startlinewidth",S),O=i("startline",l.showgrid||!!I||!!H);O||(delete l.startlinecolor,delete l.startlinewidth);var V=g("endlinecolor",R),B=g("endlinewidth",S),F=i("endline",l.showgrid||!!V||!!B);return F||(delete l.endlinecolor,delete l.endlinewidth),_?(i("minorgridcount"),i("minorgridwidth",S),i("minorgriddash",w),i("minorgridcolor",P(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,i("tickmode"),l};function a(u,f){if(u.type==="-"){var l=u._id,y=l.charAt(0),c=y+"calendar",T=u[c];u.type=o(f,T,{autotypenumbers:u.autotypenumbers})}}},58744:function(U,N,e){var d=e(54460),P=e(3400).isArray1D,n=e(60776),C=e(51676),x=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),o=e(2872),a=e(81e3);U.exports=function(f,l){var y=d.getFromId(f,l.xaxis),c=d.getFromId(f,l.yaxis),T=l.aaxis,h=l.baxis,i=l.x,g=l.y,b=[];i&&P(i)&&b.push("x"),g&&P(g)&&b.push("y"),b.length&&o(l,T,h,"a","b",b);var A=l._a=l._a||l.a,R=l._b=l._b||l.b;i=l._x||l.x,g=l._y||l.y;var m={};if(l._cheater){var L=T.cheatertype==="index"?A.length:A,M=h.cheatertype==="index"?R.length:R;i=n(L,M,l.cheaterslope)}l._x=i=r(i),l._y=g=r(g),t(i,A,R),t(g,A,R),a(l),l.setScale();var s=C(i),S=C(g),w=.5*(s[1]-s[0]),_=.5*(s[1]+s[0]),I=.5*(S[1]-S[0]),H=.5*(S[1]+S[0]),O=1.3;return s=[_-w*O,_+w*O],S=[H-I*O,H+I*O],l._extremes[y._id]=d.findExtremes(y,s,{padded:!0}),l._extremes[c._id]=d.findExtremes(c,S,{padded:!0}),x(l,"a","b"),x(l,"b","a"),v(l,T),v(l,h),m.clipsegments=p(l._xctrl,l._yctrl,T,h),m.x=i,m.y=g,m.a=A,m.b=R,[m]}},24944:function(U){U.exports=function(e,d,P,n){var C,x,v,p=[],r=!!P.smoothing,t=!!n.smoothing,o=e[0].length-1,a=e.length-1;for(C=0,x=[],v=[];C<=o;C++)x[C]=e[0][C],v[C]=d[0][C];for(p.push({x,y:v,bicubic:r}),C=0,x=[],v=[];C<=a;C++)x[C]=e[C][o],v[C]=d[C][o];for(p.push({x,y:v,bicubic:t}),C=o,x=[],v=[];C>=0;C--)x[o-C]=e[a][C],v[o-C]=d[a][C];for(p.push({x,y:v,bicubic:r}),C=a,x=[],v=[];C>=0;C--)x[a-C]=e[C][0],v[a-C]=d[C][0];return p.push({x,y:v,bicubic:t}),p}},19216:function(U,N,e){var d=e(54460),P=e(92880).extendFlat;U.exports=function(C,x,v){var p,r,t,o,a,u,f,l,y,c,T,h,i,g,b=C["_"+x],A=C[x+"axis"],R=A._gridlines=[],m=A._minorgridlines=[],L=A._boundarylines=[],M=C["_"+v],s=C[v+"axis"];A.tickmode==="array"&&(A.tickvals=b.slice());var S=C._xctrl,w=C._yctrl,_=S[0].length,I=S.length,H=C._a.length,O=C._b.length;d.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var V=A.smoothing?3:1;function B(G){var Y,Q,te,ae,fe,oe,J,ee,X,q,le,$,j=[],se=[],ne={};if(x==="b")for(Q=C.b2j(G),te=Math.floor(Math.max(0,Math.min(O-2,Q))),ae=Q-te,ne.length=O,ne.crossLength=H,ne.xy=function(he){return C.evalxy([],he,Q)},ne.dxy=function(he,me){return C.dxydi([],he,te,me,ae)},Y=0;Y<H;Y++)oe=Math.min(H-2,Y),J=Y-oe,ee=C.evalxy([],Y,Q),s.smoothing&&Y>0&&(X=C.dxydi([],Y-1,te,0,ae),j.push(fe[0]+X[0]/3),se.push(fe[1]+X[1]/3),q=C.dxydi([],Y-1,te,1,ae),j.push(ee[0]-q[0]/3),se.push(ee[1]-q[1]/3)),j.push(ee[0]),se.push(ee[1]),fe=ee;else for(Y=C.a2i(G),oe=Math.floor(Math.max(0,Math.min(H-2,Y))),J=Y-oe,ne.length=H,ne.crossLength=O,ne.xy=function(he){return C.evalxy([],Y,he)},ne.dxy=function(he,me){return C.dxydj([],oe,he,J,me)},Q=0;Q<O;Q++)te=Math.min(O-2,Q),ae=Q-te,ee=C.evalxy([],Y,Q),s.smoothing&&Q>0&&(le=C.dxydj([],oe,Q-1,J,0),j.push(fe[0]+le[0]/3),se.push(fe[1]+le[1]/3),$=C.dxydj([],oe,Q-1,J,1),j.push(ee[0]-$[0]/3),se.push(ee[1]-$[1]/3)),j.push(ee[0]),se.push(ee[1]),fe=ee;return ne.axisLetter=x,ne.axis=A,ne.crossAxis=s,ne.value=G,ne.constvar=v,ne.index=l,ne.x=j,ne.y=se,ne.smoothing=s.smoothing,ne}function F(G){var Y,Q,te,ae,fe,oe=[],J=[],ee={};if(ee.length=b.length,ee.crossLength=M.length,x==="b")for(te=Math.max(0,Math.min(O-2,G)),fe=Math.min(1,Math.max(0,G-te)),ee.xy=function(X){return C.evalxy([],X,G)},ee.dxy=function(X,q){return C.dxydi([],X,te,q,fe)},Y=0;Y<_;Y++)oe[Y]=S[G*V][Y],J[Y]=w[G*V][Y];else for(Q=Math.max(0,Math.min(H-2,G)),ae=Math.min(1,Math.max(0,G-Q)),ee.xy=function(X){return C.evalxy([],G,X)},ee.dxy=function(X,q){return C.dxydj([],Q,X,ae,q)},Y=0;Y<I;Y++)oe[Y]=S[Y][G*V],J[Y]=w[Y][G*V];return ee.axisLetter=x,ee.axis=A,ee.crossAxis=s,ee.value=b[G],ee.constvar=v,ee.index=G,ee.x=oe,ee.y=J,ee.smoothing=s.smoothing,ee}if(A.tickmode==="array"){for(o=5e-15,a=[Math.floor((b.length-1-A.arraytick0)/A.arraydtick*(1+o)),Math.ceil(-A.arraytick0/A.arraydtick/(1+o))].sort(function(G,Y){return G-Y}),u=a[0]-1,f=a[1]+1,l=u;l<f;l++)r=A.arraytick0+A.arraydtick*l,!(r<0||r>b.length-1)&&R.push(P(F(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u;l<f;l++)if(t=A.arraytick0+A.arraydtick*l,T=Math.min(t+A.arraydtick,b.length-1),!(t<0||t>b.length-1)&&!(T<0||T>b.length-1))for(h=b[t],i=b[T],p=0;p<A.minorgridcount;p++)g=T-t,!(g<=0)&&(c=h+(i-h)*(p+1)/(A.minorgridcount+1)*(A.arraydtick/g),!(c<b[0]||c>b[b.length-1])&&m.push(P(B(c),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&L.push(P(F(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&L.push(P(F(b.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(o=5e-15,a=[Math.floor((b[b.length-1]-A.tick0)/A.dtick*(1+o)),Math.ceil((b[0]-A.tick0)/A.dtick/(1+o))].sort(function(G,Y){return G-Y}),u=a[0],f=a[1],l=u;l<=f;l++)y=A.tick0+A.dtick*l,R.push(P(B(y),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u-1;l<f+1;l++)for(y=A.tick0+A.dtick*l,p=0;p<A.minorgridcount;p++)c=y+A.dtick*(p+1)/(A.minorgridcount+1),!(c<b[0]||c>b[b.length-1])&&m.push(P(B(c),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&L.push(P(B(b[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&L.push(P(B(b[b.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},14724:function(U,N,e){var d=e(54460),P=e(92880).extendFlat;U.exports=function(C,x){var v,p,r,t,o,a=x._labels=[],u=x._gridlines;for(v=0;v<u.length;v++)o=u[v],["start","both"].indexOf(x.showticklabels)!==-1&&(p=d.tickText(x,o.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),a.push(p)),["end","both"].indexOf(x.showticklabels)!==-1&&(p=d.tickText(x,o.value),P(p,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),a.push(p))}},62284:function(U){var N=.5;U.exports=function(d,P,n,C){var x=d[0]-P[0],v=d[1]-P[1],p=n[0]-P[0],r=n[1]-P[1],t=Math.pow(x*x+v*v,N/2),o=Math.pow(p*p+r*r,N/2),a=(o*o*x-t*t*p)*C,u=(o*o*v-t*t*r)*C,f=o*(t+o)*3,l=t*(t+o)*3;return[[P[0]+(f&&a/f),P[1]+(f&&u/f)],[P[0]-(l&&a/l),P[1]-(l&&u/l)]]}},60776:function(U,N,e){var d=e(3400).isArrayOrTypedArray;U.exports=function(P,n,C){var x,v,p,r,t,o,a=[],u=d(P)?P.length:P,f=d(n)?n.length:n,l=d(P)?P:null,y=d(n)?n:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(u-1)),y&&(r=(y.length-1)/(y[y.length-1]-y[0])/(f-1));var c,T=1/0,h=-1/0;for(v=0;v<f;v++)for(a[v]=[],o=y?(y[v]-y[0])*r:v/(f-1),x=0;x<u;x++)t=l?(l[x]-l[0])*p:x/(u-1),c=t-o*C,T=Math.min(c,T),h=Math.max(c,h),a[v][x]=c;var i=1/(h-T),g=-T*i;for(v=0;v<f;v++)for(x=0;x<u;x++)a[v][x]=i*a[v][x]+g;return a}},30180:function(U,N,e){var d=e(62284),P=e(3400).ensureArray;function n(C,x,v){var p=-.5*v[0]+1.5*x[0],r=-.5*v[1]+1.5*x[1];return[(2*p+C[0])/3,(2*r+C[1])/3]}U.exports=function(x,v,p,r,t,o){var a,u,f,l,y,c,T,h,i,g,b=p[0].length,A=p.length,R=t?3*b-2:b,m=o?3*A-2:A;for(x=P(x,m),v=P(v,m),f=0;f<m;f++)x[f]=P(x[f],R),v[f]=P(v[f],R);for(u=0,l=0;u<A;u++,l+=o?3:1)for(y=x[l],c=v[l],T=p[u],h=r[u],a=0,f=0;a<b;a++,f+=t?3:1)y[f]=T[a],c[f]=h[a];if(t)for(u=0,l=0;u<A;u++,l+=o?3:1){for(a=1,f=3;a<b-1;a++,f+=3)i=d([p[u][a-1],r[u][a-1]],[p[u][a],r[u][a]],[p[u][a+1],r[u][a+1]],t),x[l][f-1]=i[0][0],v[l][f-1]=i[0][1],x[l][f+1]=i[1][0],v[l][f+1]=i[1][1];g=n([x[l][0],v[l][0]],[x[l][2],v[l][2]],[x[l][3],v[l][3]]),x[l][1]=g[0],v[l][1]=g[1],g=n([x[l][R-1],v[l][R-1]],[x[l][R-3],v[l][R-3]],[x[l][R-4],v[l][R-4]]),x[l][R-2]=g[0],v[l][R-2]=g[1]}if(o)for(f=0;f<R;f++){for(l=3;l<m-3;l+=3)i=d([x[l-3][f],v[l-3][f]],[x[l][f],v[l][f]],[x[l+3][f],v[l+3][f]],o),x[l-1][f]=i[0][0],v[l-1][f]=i[0][1],x[l+1][f]=i[1][0],v[l+1][f]=i[1][1];g=n([x[0][f],v[0][f]],[x[2][f],v[2][f]],[x[3][f],v[3][f]]),x[1][f]=g[0],v[1][f]=g[1],g=n([x[m-1][f],v[m-1][f]],[x[m-3][f],v[m-3][f]],[x[m-4][f],v[m-4][f]]),x[m-2][f]=g[0],v[m-2][f]=g[1]}if(t&&o)for(l=1;l<m;l+=(l+1)%3===0?2:1){for(f=3;f<R-3;f+=3)i=d([x[l][f-3],v[l][f-3]],[x[l][f],v[l][f]],[x[l][f+3],v[l][f+3]],t),x[l][f-1]=.5*(x[l][f-1]+i[0][0]),v[l][f-1]=.5*(v[l][f-1]+i[0][1]),x[l][f+1]=.5*(x[l][f+1]+i[1][0]),v[l][f+1]=.5*(v[l][f+1]+i[1][1]);g=n([x[l][0],v[l][0]],[x[l][2],v[l][2]],[x[l][3],v[l][3]]),x[l][1]=.5*(x[l][1]+g[0]),v[l][1]=.5*(v[l][1]+g[1]),g=n([x[l][R-1],v[l][R-1]],[x[l][R-3],v[l][R-3]],[x[l][R-4],v[l][R-4]]),x[l][R-2]=.5*(x[l][R-2]+g[0]),v[l][R-2]=.5*(v[l][R-2]+g[1])}return[x,v]}},24588:function(U){U.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(U){U.exports=function(N,e,d){return e&&d?function(P,n,C,x,v){P||(P=[]);var p,r,t,o,a,u;n*=3,C*=3;var f=x*x,l=1-x,y=l*l,c=l*x*2,T=-3*y,h=3*(y-c),i=3*(c-f),g=3*f,b=v*v,A=b*v,R=1-v,m=R*R,L=m*R;for(u=0;u<N.length;u++)a=N[u],p=T*a[C][n]+h*a[C][n+1]+i*a[C][n+2]+g*a[C][n+3],r=T*a[C+1][n]+h*a[C+1][n+1]+i*a[C+1][n+2]+g*a[C+1][n+3],t=T*a[C+2][n]+h*a[C+2][n+1]+i*a[C+2][n+2]+g*a[C+2][n+3],o=T*a[C+3][n]+h*a[C+3][n+1]+i*a[C+3][n+2]+g*a[C+3][n+3],P[u]=L*p+3*(m*v*r+R*b*t)+A*o;return P}:e?function(P,n,C,x,v){P||(P=[]);var p,r,t,o;n*=3;var a=x*x,u=1-x,f=u*u,l=u*x*2,y=-3*f,c=3*(f-l),T=3*(l-a),h=3*a,i=1-v;for(t=0;t<N.length;t++)o=N[t],p=y*o[C][n]+c*o[C][n+1]+T*o[C][n+2]+h*o[C][n+3],r=y*o[C+1][n]+c*o[C+1][n+1]+T*o[C+1][n+2]+h*o[C+1][n+3],P[t]=i*p+v*r;return P}:d?function(P,n,C,x,v){P||(P=[]);var p,r,t,o,a,u;C*=3;var f=v*v,l=f*v,y=1-v,c=y*y,T=c*y;for(a=0;a<N.length;a++)u=N[a],p=u[C][n+1]-u[C][n],r=u[C+1][n+1]-u[C+1][n],t=u[C+2][n+1]-u[C+2][n],o=u[C+3][n+1]-u[C+3][n],P[a]=T*p+3*(c*v*r+y*f*t)+l*o;return P}:function(P,n,C,x,v){P||(P=[]);var p,r,t,o,a=1-v;for(t=0;t<N.length;t++)o=N[t],p=o[C][n+1]-o[C][n],r=o[C+1][n+1]-o[C+1][n],P[t]=a*p+v*r;return P}}},24464:function(U){U.exports=function(N,e,d){return e&&d?function(P,n,C,x,v){P||(P=[]);var p,r,t,o,a,u;n*=3,C*=3;var f=x*x,l=f*x,y=1-x,c=y*y,T=c*y,h=v*v,i=1-v,g=i*i,b=i*v*2,A=-3*g,R=3*(g-b),m=3*(b-h),L=3*h;for(u=0;u<N.length;u++)a=N[u],p=A*a[C][n]+R*a[C+1][n]+m*a[C+2][n]+L*a[C+3][n],r=A*a[C][n+1]+R*a[C+1][n+1]+m*a[C+2][n+1]+L*a[C+3][n+1],t=A*a[C][n+2]+R*a[C+1][n+2]+m*a[C+2][n+2]+L*a[C+3][n+2],o=A*a[C][n+3]+R*a[C+1][n+3]+m*a[C+2][n+3]+L*a[C+3][n+3],P[u]=T*p+3*(c*x*r+y*f*t)+l*o;return P}:e?function(P,n,C,x,v){P||(P=[]);var p,r,t,o,a,u;n*=3;var f=v*v,l=f*v,y=1-v,c=y*y,T=c*y;for(a=0;a<N.length;a++)u=N[a],p=u[C+1][n]-u[C][n],r=u[C+1][n+1]-u[C][n+1],t=u[C+1][n+2]-u[C][n+2],o=u[C+1][n+3]-u[C][n+3],P[a]=T*p+3*(c*v*r+y*f*t)+l*o;return P}:d?function(P,n,C,x,v){P||(P=[]);var p,r,t,o;C*=3;var a=1-x,u=v*v,f=1-v,l=f*f,y=f*v*2,c=-3*l,T=3*(l-y),h=3*(y-u),i=3*u;for(t=0;t<N.length;t++)o=N[t],p=c*o[C][n]+T*o[C+1][n]+h*o[C+2][n]+i*o[C+3][n],r=c*o[C][n+1]+T*o[C+1][n+1]+h*o[C+2][n+1]+i*o[C+3][n+1],P[t]=a*p+x*r;return P}:function(P,n,C,x,v){P||(P=[]);var p,r,t,o,a=1-x;for(t=0;t<N.length;t++)o=N[t],p=o[C+1][n]-o[C][n],r=o[C+1][n+1]-o[C][n+1],P[t]=a*p+x*r;return P}}},29056:function(U){U.exports=function(N,e,d,P,n){var C=e-2,x=d-2;return P&&n?function(v,p,r){v||(v=[]);var t,o,a,u,f,l,y=Math.max(0,Math.min(Math.floor(p),C)),c=Math.max(0,Math.min(Math.floor(r),x)),T=Math.max(0,Math.min(1,p-y)),h=Math.max(0,Math.min(1,r-c));y*=3,c*=3;var i=T*T,g=i*T,b=1-T,A=b*b,R=A*b,m=h*h,L=m*h,M=1-h,s=M*M,S=s*M;for(l=0;l<N.length;l++)f=N[l],t=R*f[c][y]+3*(A*T*f[c][y+1]+b*i*f[c][y+2])+g*f[c][y+3],o=R*f[c+1][y]+3*(A*T*f[c+1][y+1]+b*i*f[c+1][y+2])+g*f[c+1][y+3],a=R*f[c+2][y]+3*(A*T*f[c+2][y+1]+b*i*f[c+2][y+2])+g*f[c+2][y+3],u=R*f[c+3][y]+3*(A*T*f[c+3][y+1]+b*i*f[c+3][y+2])+g*f[c+3][y+3],v[l]=S*t+3*(s*h*o+M*m*a)+L*u;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),C)),o=Math.max(0,Math.min(Math.floor(r),x)),a=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-o)),f,l,y,c,T,h;t*=3;var i=a*a,g=i*a,b=1-a,A=b*b,R=A*b,m=1-u;for(T=0;T<N.length;T++)h=N[T],f=m*h[o][t]+u*h[o+1][t],l=m*h[o][t+1]+u*h[o+1][t+1],y=m*h[o][t+2]+u*h[o+1][t+1],c=m*h[o][t+3]+u*h[o+1][t+1],v[T]=R*f+3*(A*a*l+b*i*y)+g*c;return v}:n?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),C)),o=Math.max(0,Math.min(Math.floor(r),x)),a=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-o)),f,l,y,c,T,h;o*=3;var i=u*u,g=i*u,b=1-u,A=b*b,R=A*b,m=1-a;for(T=0;T<N.length;T++)h=N[T],f=m*h[o][t]+a*h[o][t+1],l=m*h[o+1][t]+a*h[o+1][t+1],y=m*h[o+2][t]+a*h[o+2][t+1],c=m*h[o+3][t]+a*h[o+3][t+1],v[T]=R*f+3*(A*u*l+b*i*y)+g*c;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),C)),o=Math.max(0,Math.min(Math.floor(r),x)),a=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-o)),f,l,y,c,T=1-u,h=1-a;for(y=0;y<N.length;y++)c=N[y],f=h*c[o][t]+a*c[o][t+1],l=h*c[o+1][t]+a*c[o+1][t+1],v[y]=T*f+u*l;return v}}},38356:function(U,N,e){var d=e(3400),P=e(86411),n=e(93504),C=e(85720),x=e(22548);U.exports=function(p,r,t,o){function a(l,y){return d.coerce(p,r,C,l,y)}r._clipPathId="clip"+r.uid+"carpet";var u=a("color",x.defaultLine);if(d.coerceFont(a,"font",o.font),a("carpet"),n(p,r,o,a,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var f=P(p,r,a);f||(r.visible=!1),r._cheater&&a("cheaterslope"),a("zorder")}},95856:function(U,N,e){U.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(U){U.exports=function(N,e){for(var d=N._fullData.length,P,n=0;n<d;n++){var C=N._fullData[n];if(C.index!==e.index&&C.type==="carpet"&&(P||(P=C),C.carpet===e.carpet))return C}return P}},53416:function(U){U.exports=function(e,d,P){if(e.length===0)return"";var n,C=[],x=P?3:1;for(n=0;n<e.length;n+=x)C.push(e[n]+","+d[n]),P&&n<e.length-x&&(C.push("C"),C.push([e[n+1]+","+d[n+1],e[n+2]+","+d[n+2]+" "].join(" ")));return C.join(P?"":"L")}},87072:function(U,N,e){var d=e(3400).isArrayOrTypedArray;U.exports=function(n,C,x){var v;for(d(n)?n.length>C.length&&(n=n.slice(0,C.length)):n=[],v=0;v<C.length;v++)n[v]=x(C[v]);return n}},15584:function(U){U.exports=function(e,d,P,n,C,x){var v=C[0]*e.dpdx(d),p=C[1]*e.dpdy(P),r=1,t=1;if(x){var o=Math.sqrt(C[0]*C[0]+C[1]*C[1]),a=Math.sqrt(x[0]*x[0]+x[1]*x[1]),u=(C[0]*x[0]+C[1]*x[1])/o/a;t=Math.max(0,u)}var f=Math.atan2(p,v)*180/Math.PI;return f<-90?(f+=180,r=-r):f>90&&(f-=180,r=-r),{angle:f,flip:r,p:e.c2p(n,d,P),offsetMultplier:t}}},164:function(U,N,e){var d=e(33428),P=e(43616),n=e(87072),C=e(53416),x=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,o=e(84284);U.exports=function(i,g,b,A){var R=i._context.staticPlot,m=g.xaxis,L=g.yaxis,M=i._fullLayout,s=M._clips;p.makeTraceGroups(A,b,"trace").each(function(S){var w=d.select(this),_=S[0],I=_.trace,H=I.aaxis,O=I.baxis,V=p.ensureSingle(w,"g","minorlayer"),B=p.ensureSingle(w,"g","majorlayer"),F=p.ensureSingle(w,"g","boundarylayer"),G=p.ensureSingle(w,"g","labellayer");w.style("opacity",I.opacity),u(m,L,B,H,"a",H._gridlines,!0),u(m,L,B,O,"b",O._gridlines,!0),u(m,L,V,H,"a",H._minorgridlines,!0),u(m,L,V,O,"b",O._minorgridlines,!0),u(m,L,F,H,"a-boundary",H._boundarylines,R),u(m,L,F,O,"b-boundary",O._boundarylines,R);var Y=f(i,m,L,I,_,G,H._labels,"a-label"),Q=f(i,m,L,I,_,G,O._labels,"b-label");l(i,G,I,_,m,L,Y,Q),a(I,_,s,m,L)})};function a(h,i,g,b,A){var R,m,L,M,s=g.select("#"+h._clipPathId);s.size()||(s=g.append("clipPath").classed("carpetclip",!0));var S=p.ensureSingle(s,"path","carpetboundary"),w=i.clipsegments,_=[];for(M=0;M<w.length;M++)R=w[M],m=n([],R.x,b.c2p),L=n([],R.y,A.c2p),_.push(C(m,L,R.bicubic));var I="M"+_.join("L")+"Z";s.attr("id",h._clipPathId),S.attr("d",I)}function u(h,i,g,b,A,R,m){var L="const-"+A+"-lines",M=g.selectAll("."+L).data(R);M.enter().append("path").classed(L,!0).style("vector-effect",m?"none":"non-scaling-stroke"),M.each(function(s){var S=s,w=S.x,_=S.y,I=n([],w,h.c2p),H=n([],_,i.c2p),O="M"+C(I,H,S.smoothing),V=d.select(this);V.attr("d",O).style("stroke-width",S.width).style("stroke",S.color).style("stroke-dasharray",P.dashStyle(S.dash,S.width)).style("fill","none")}),M.exit().remove()}function f(h,i,g,b,A,R,m,L){var M=R.selectAll("text."+L).data(m);M.enter().append("text").classed(L,!0);var s=0,S={};return M.each(function(w,_){var I;if(w.axis.tickangle==="auto")I=x(b,i,g,w.xy,w.dxy);else{var H=(w.axis.tickangle+180)*Math.PI/180;I=x(b,i,g,w.xy,[Math.cos(H),Math.sin(H)])}_||(S={angle:I.angle,flip:I.flip});var O=(w.endAnchor?-1:1)*I.flip,V=d.select(this).attr({"text-anchor":O>0?"start":"end","data-notex":1}).call(P.font,w.font).text(w.text).call(v.convertToTspans,h),B=P.bBox(this);V.attr("transform",t(I.p[0],I.p[1])+r(I.angle)+t(w.axis.labelpadding*O,B.height*.3)),s=Math.max(s,B.width+w.axis.labelpadding)}),M.exit().remove(),S.maxExtent=s,S}function l(h,i,g,b,A,R,m,L){var M,s,S,w,_=p.aggNums(Math.min,null,g.a),I=p.aggNums(Math.max,null,g.a),H=p.aggNums(Math.min,null,g.b),O=p.aggNums(Math.max,null,g.b);M=.5*(_+I),s=H,S=g.ab2xy(M,s,!0),w=g.dxyda_rough(M,s),m.angle===void 0&&p.extendFlat(m,x(g,A,R,S,g.dxydb_rough(M,s))),T(h,i,g,b,S,w,g.aaxis,A,R,m,"a-title"),M=_,s=.5*(H+O),S=g.ab2xy(M,s,!0),w=g.dxydb_rough(M,s),L.angle===void 0&&p.extendFlat(L,x(g,A,R,S,g.dxyda_rough(M,s))),T(h,i,g,b,S,w,g.baxis,A,R,L,"b-title")}var y=o.LINE_SPACING,c=(1-o.MID_SHIFT)/y+1;function T(h,i,g,b,A,R,m,L,M,s,S){var w=[];m.title.text&&w.push(m.title.text);var _=i.selectAll("text."+S).data(w),I=s.maxExtent;_.enter().append("text").classed(S,!0),_.each(function(){var H=x(g,L,M,A,R);["start","both"].indexOf(m.showticklabels)===-1&&(I=0);var O=m.title.font.size;I+=O+m.title.offset;var V=s.angle+(s.flip<0?180:0),B=(V-H.angle+450)%360,F=B>90&&B<270,G=d.select(this);G.text(m.title.text).call(v.convertToTspans,h),F&&(I=(-v.lineCount(G)+c)*y*O-I),G.attr("transform",t(H.p[0],H.p[1])+r(H.angle)+t(0,I)).attr("text-anchor","middle").call(P.font,m.title.font)}),_.exit().remove()}},81e3:function(U,N,e){var d=e(24588),P=e(14952).findBin,n=e(30180),C=e(29056),x=e(26435),v=e(24464);U.exports=function(r){var t=r._a,o=r._b,a=t.length,u=o.length,f=r.aaxis,l=r.baxis,y=t[0],c=t[a-1],T=o[0],h=o[u-1],i=t[t.length-1]-t[0],g=o[o.length-1]-o[0],b=i*d.RELATIVE_CULL_TOLERANCE,A=g*d.RELATIVE_CULL_TOLERANCE;y-=b,c+=b,T-=A,h+=A,r.isVisible=function(R,m){return R>y&&R<c&&m>T&&m<h},r.isOccluded=function(R,m){return R<y||R>c||m<T||m>h},r.setScale=function(){var R=r._x,m=r._y,L=n(r._xctrl,r._yctrl,R,m,f.smoothing,l.smoothing);r._xctrl=L[0],r._yctrl=L[1],r.evalxy=C([r._xctrl,r._yctrl],a,u,f.smoothing,l.smoothing),r.dxydi=x([r._xctrl,r._yctrl],f.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],f.smoothing,l.smoothing)},r.i2a=function(R){var m=Math.max(0,Math.floor(R[0]),a-2),L=R[0]-m;return(1-L)*t[m]+L*t[m+1]},r.j2b=function(R){var m=Math.max(0,Math.floor(R[1]),a-2),L=R[1]-m;return(1-L)*o[m]+L*o[m+1]},r.ij2ab=function(R){return[r.i2a(R[0]),r.j2b(R[1])]},r.a2i=function(R){var m=Math.max(0,Math.min(P(R,t),a-2)),L=t[m],M=t[m+1];return Math.max(0,Math.min(a-1,m+(R-L)/(M-L)))},r.b2j=function(R){var m=Math.max(0,Math.min(P(R,o),u-2)),L=o[m],M=o[m+1];return Math.max(0,Math.min(u-1,m+(R-L)/(M-L)))},r.ab2ij=function(R){return[r.a2i(R[0]),r.b2j(R[1])]},r.i2c=function(R,m){return r.evalxy([],R,m)},r.ab2xy=function(R,m,L){if(!L&&(R<t[0]||R>t[a-1]|m<o[0]||m>o[u-1]))return[!1,!1];var M=r.a2i(R),s=r.b2j(m),S=r.evalxy([],M,s);if(L){var w=0,_=0,I=[],H,O,V,B;R<t[0]?(H=0,O=0,w=(R-t[0])/(t[1]-t[0])):R>t[a-1]?(H=a-2,O=1,w=(R-t[a-1])/(t[a-1]-t[a-2])):(H=Math.max(0,Math.min(a-2,Math.floor(M))),O=M-H),m<o[0]?(V=0,B=0,_=(m-o[0])/(o[1]-o[0])):m>o[u-1]?(V=u-2,B=1,_=(m-o[u-1])/(o[u-1]-o[u-2])):(V=Math.max(0,Math.min(u-2,Math.floor(s))),B=s-V),w&&(r.dxydi(I,H,V,O,B),S[0]+=I[0]*w,S[1]+=I[1]*w),_&&(r.dxydj(I,H,V,O,B),S[0]+=I[0]*_,S[1]+=I[1]*_)}return S},r.c2p=function(R,m,L){return[m.c2p(R[0]),L.c2p(R[1])]},r.p2x=function(R,m,L){return[m.p2c(R[0]),L.p2c(R[1])]},r.dadi=function(R){var m=Math.max(0,Math.min(t.length-2,R));return t[m+1]-t[m]},r.dbdj=function(R){var m=Math.max(0,Math.min(o.length-2,R));return o[m+1]-o[m]},r.dxyda=function(R,m,L,M){var s=r.dxydi(null,R,m,L,M),S=r.dadi(R,L);return[s[0]/S,s[1]/S]},r.dxydb=function(R,m,L,M){var s=r.dxydj(null,R,m,L,M),S=r.dbdj(m,M);return[s[0]/S,s[1]/S]},r.dxyda_rough=function(R,m,L){var M=i*(L||.1),s=r.ab2xy(R+M,m,!0),S=r.ab2xy(R-M,m,!0);return[(s[0]-S[0])*.5/M,(s[1]-S[1])*.5/M]},r.dxydb_rough=function(R,m,L){var M=g*(L||.1),s=r.ab2xy(R,m+M,!0),S=r.ab2xy(R,m-M,!0);return[(s[0]-S[0])*.5/M,(s[1]-S[1])*.5/M]},r.dpdx=function(R){return R._m},r.dpdy=function(R){return R._m}}},51512:function(U,N,e){var d=e(3400);U.exports=function(n,C,x){var v,p,r,t=[],o=[],a=n[0].length,u=n.length;function f(Q,te){var ae=0,fe,oe=0;return Q>0&&(fe=n[te][Q-1])!==void 0&&(oe++,ae+=fe),Q<a-1&&(fe=n[te][Q+1])!==void 0&&(oe++,ae+=fe),te>0&&(fe=n[te-1][Q])!==void 0&&(oe++,ae+=fe),te<u-1&&(fe=n[te+1][Q])!==void 0&&(oe++,ae+=fe),ae/Math.max(1,oe)}var l=0;for(v=0;v<a;v++)for(p=0;p<u;p++)n[p][v]===void 0&&(t.push(v),o.push(p),n[p][v]=f(v,p)),l=Math.max(l,Math.abs(n[p][v]));if(!t.length)return n;var y,c,T,h,i,g,b,A,R,m,L,M=1e-5,s=0,S=100,w=0,_=t.length;do{for(s=0,r=0;r<_;r++){v=t[r],p=o[r];var I=0,H=0,O,V,B,F,G,Y;v===0?(G=Math.min(a-1,2),B=C[G],F=C[1],O=n[p][G],V=n[p][1],H+=V+(V-O)*(C[0]-F)/(F-B),I++):v===a-1&&(G=Math.max(0,a-3),B=C[G],F=C[a-2],O=n[p][G],V=n[p][a-2],H+=V+(V-O)*(C[a-1]-F)/(F-B),I++),(v===0||v===a-1)&&p>0&&p<u-1&&(y=x[p+1]-x[p],c=x[p]-x[p-1],H+=(c*n[p+1][v]+y*n[p-1][v])/(c+y),I++),p===0?(Y=Math.min(u-1,2),B=x[Y],F=x[1],O=n[Y][v],V=n[1][v],H+=V+(V-O)*(x[0]-F)/(F-B),I++):p===u-1&&(Y=Math.max(0,u-3),B=x[Y],F=x[u-2],O=n[Y][v],V=n[u-2][v],H+=V+(V-O)*(x[u-1]-F)/(F-B),I++),(p===0||p===u-1)&&v>0&&v<a-1&&(y=C[v+1]-C[v],c=C[v]-C[v-1],H+=(c*n[p][v+1]+y*n[p][v-1])/(c+y),I++),I?H/=I:(T=C[v+1]-C[v],h=C[v]-C[v-1],i=x[p+1]-x[p],g=x[p]-x[p-1],b=T*h*(T+h),A=i*g*(i+g),H=(b*(g*n[p+1][v]+i*n[p-1][v])+A*(h*n[p][v+1]+T*n[p][v-1]))/(A*(h+T)+b*(g+i))),R=H-n[p][v],m=R/l,s+=m*m,L=I?0:.85,n[p][v]+=R*(1+L)}s=Math.sqrt(s)}while(w++<S&&s>M);return d.log("Smoother converged to",s,"after",w,"iterations"),n}},86411:function(U,N,e){var d=e(3400).isArray1D;U.exports=function(n,C,x){var v=x("x"),p=v&&v.length,r=x("y"),t=r&&r.length;if(!p&&!t)return!1;if(C._cheater=!v,(!p||d(v))&&(!t||d(r))){var o=p?v.length:1/0;t&&(o=Math.min(o,r.length)),C.a&&C.a.length&&(o=Math.min(o,C.a.length)),C.b&&C.b.length&&(o=Math.min(o,C.b.length)),C._length=o}else C._length=null;return!0}},83372:function(U,N,e){var d=e(21776).Ks,P=e(6096),n=e(49084),C=e(45464),x=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;U.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:x}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:d(),showlegend:v({},C.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(U,N,e){var d=e(38248),P=e(39032).BADNUM,n=e(47128),C=e(20148),x=e(4500);function v(p){return p&&typeof p=="string"}U.exports=function(r,t){var o=t._length,a=new Array(o),u;t.geojson?u=function(T){return v(T)||d(T)}:u=v;for(var f=0;f<o;f++){var l=a[f]={},y=t.locations[f],c=t.z[f];u(y)&&d(c)?(l.loc=y,l.z=c):(l.loc=null,l.z=P),l.index=f}return C(a,t),n(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),x(a,t),a}},30972:function(U,N,e){var d=e(3400),P=e(27260),n=e(83372);U.exports=function(x,v,p,r){function t(c,T){return d.coerce(x,v,n,c,T)}var o=t("locations"),a=t("z");if(!(o&&o.length&&d.isArrayOrTypedArray(a)&&a.length)){v.visible=!1;return}v._length=Math.min(o.length,a.length);var u=t("geojson"),f;(typeof u=="string"&&u!==""||d.isPlainObject(u))&&(f="geojson-id");var l=t("locationmode",f);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var y=t("marker.line.width");y&&t("marker.line.color"),t("marker.opacity"),P(x,v,r,t,{prefix:"",cLetter:"z"}),d.coerceSelectionMarkerOpacity(v,t)}},52428:function(U){U.exports=function(e,d,P,n,C){e.location=d.location,e.z=d.z;var x=n[C];return x.fIn&&x.fIn.properties&&(e.properties=x.fIn.properties),e.ct=x.ct,e}},69224:function(U,N,e){var d=e(54460),P=e(83372),n=e(3400).fillText;U.exports=function(v,p,r){var t=v.cd,o=t[0].trace,a=v.subplot,u,f,l,y,c=[p,r],T=[p+360,r];for(f=0;f<t.length;f++)if(u=t[f],y=!1,u._polygons){for(l=0;l<u._polygons.length;l++)u._polygons[l].contains(c)&&(y=!y),u._polygons[l].contains(T)&&(y=!y);if(y)break}if(!(!y||!u))return v.x0=v.x1=v.xa.c2p(u.ct),v.y0=v.y1=v.ya.c2p(u.ct),v.index=u.index,v.location=u.loc,v.z=u.z,v.zLabel=d.tickText(a.mockAxis,a.mockAxis.c2l(u.z),"hover").text,v.hovertemplate=u.hovertemplate,C(v,o,u),[v]};function C(x,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),o=r==="all"?P.hoverinfo.flags:r.split("+"),a=o.indexOf("name")!==-1,u=o.indexOf("location")!==-1,f=o.indexOf("z")!==-1,l=o.indexOf("text")!==-1,y=!a&&u,c=[];y?x.nameOverride=t:(a&&(x.nameOverride=v.name),u&&c.push(t)),f&&c.push(x.zLabel),l&&n(p,v,c),x.extraText=c.join("<br>")}}},54272:function(U,N,e){U.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(U,N,e){var d=e(33428),P=e(3400),n=e(27144),C=e(59972).getTopojsonFeatures,x=e(19280).findExtremes,v=e(7947).style;function p(t,o,a){var u=o.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(u,a,"trace choropleth").each(function(f){var l=d.select(this),y=l.selectAll("path.choroplethlocation").data(P.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(t,f)})}function r(t,o){for(var a=t[0].trace,u=o[a.geo],f=u._subplot,l=a.locationmode,y=a._length,c=l==="geojson-id"?n.extractTraceFeature(t):C(a,f.topojson),T=[],h=[],i=0;i<y;i++){var g=t[i],b=l==="geojson-id"?g.fOut:n.locationToFeature(l,g.loc,c);if(b){g.geojson=b,g.ct=b.properties.ct,g._polygons=n.feature2polygons(b);var A=n.computeBbox(b);T.push(A[0],A[2]),h.push(A[1],A[3])}else g.geojson=null}if(u.fitbounds==="geojson"&&l==="geojson-id"){var R=n.computeBbox(n.getTraceGeojson(a));T=[R[0],R[2]],h=[R[1],R[3]]}var m={padded:!0};a._extremes.lon=x(u.lonaxis._ax,T,m),a._extremes.lat=x(u.lataxis._ax,h,m)}U.exports={calcGeoJSON:r,plot:p}},17328:function(U){U.exports=function(e,d){var P=e.cd,n=e.xaxis,C=e.yaxis,x=[],v,p,r,t,o;if(d===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=n.c2p(r),o=C.c2p(r),d.contains([t,o],null,v,e)?(x.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return x}},7947:function(U,N,e){var d=e(33428),P=e(76308),n=e(43616),C=e(8932);function x(r,t){t&&v(r,t)}function v(r,t){var o=t[0].trace,a=t[0].node3,u=a.selectAll(".choroplethlocation"),f=o.marker||{},l=f.line||{},y=C.makeColorScaleFuncFromTrace(o);u.each(function(c){d.select(this).attr("fill",y(c.z)).call(P.stroke,c.mlc||l.color).call(n.dashLine,"",c.mlw||l.width||0).style("opacity",f.opacity)}),n.selectedPointStyle(u,o)}function p(r,t){var o=t[0].node3,a=t[0].trace;a.selectedpoints?n.selectedPointStyle(o.selectAll(".choroplethlocation"),a):v(r,t)}U.exports={style:x,styleOnSelect:p}},45608:function(U,N,e){var d=e(83372),P=e(49084),n=e(21776).Ks,C=e(45464),x=e(92880).extendFlat;U.exports=x({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:x({},d.featureidkey,{}),below:{valType:"string",editType:"plot"},text:d.text,hovertext:d.hovertext,marker:{line:{color:x({},d.marker.line.color,{editType:"plot"}),width:x({},d.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:x({},d.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:x({},d.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:x({},d.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:d.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:x({},C.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(U,N,e){var d=e(38248),P=e(3400),n=e(8932),C=e(43616),x=e(44808).makeBlank,v=e(27144);function p(t){var o=t[0].trace,a=o.visible===!0&&o._length!==0,u={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},l=o._opts={fill:u,line:f,geojson:x()};if(!a)return l;var y=v.extractTraceFeature(t);if(!y)return l;var c=n.makeColorScaleFuncFromTrace(o),T=o.marker,h=T.line||{},i;P.isArrayOrTypedArray(T.opacity)&&(i=function(s){var S=s.mo;return d(S)?+P.constrain(S,0,1):0});var g;P.isArrayOrTypedArray(h.color)&&(g=function(s){return s.mlc});var b;P.isArrayOrTypedArray(h.width)&&(b=function(s){return s.mlw});for(var A=0;A<t.length;A++){var R=t[A],m=R.fOut;if(m){var L=m.properties;L.fc=c(R.z),i&&(L.mo=i(R)),g&&(L.mlc=g(R)),b&&(L.mlw=b(R)),R.ct=L.ct,R._polygons=v.feature2polygons(m)}}var M=i?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":M}),P.extendFlat(f.paint,{"line-color":g?{type:"identity",property:"mlc"}:h.color,"line-width":b?{type:"identity",property:"mlw"}:h.width,"line-opacity":M}),u.layout.visibility="visible",f.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:y},r(t),l}function r(t){var o=t[0].trace,a=o._opts,u;if(o.selectedpoints){for(var f=C.makeSelectedPointStyleFns(o),l=0;l<t.length;l++){var y=t[l];y.fOut&&(y.fOut.properties.mo2=f.selectedOpacityFn(y))}u={type:"identity",property:"mo2"}}else u=P.isArrayOrTypedArray(o.marker.opacity)?{type:"identity",property:"mo"}:o.marker.opacity;return P.extendFlat(a.fill.paint,{"fill-opacity":u}),P.extendFlat(a.line.paint,{"line-opacity":u}),a}U.exports={convert:p,convertOnSelect:r}},9352:function(U,N,e){var d=e(3400),P=e(27260),n=e(45608);U.exports=function(x,v,p,r){function t(l,y){return d.coerce(x,v,n,l,y)}var o=t("locations"),a=t("z"),u=t("geojson");if(!d.isArrayOrTypedArray(o)||!o.length||!d.isArrayOrTypedArray(a)||!a.length||!(typeof u=="string"&&u!==""||d.isPlainObject(u))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(o.length,a.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var f=t("marker.line.width");f&&t("marker.line.color"),t("marker.opacity"),P(x,v,r,t,{prefix:"",cLetter:"z"}),d.coerceSelectionMarkerOpacity(v,t)}},85404:function(U,N,e){U.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(d,P){if(P){var n=P[0].trace;n._glTrace.updateOnSelect(P)}},getBelow:function(d,P){for(var n=P.getMapLayers(),C=n.length-2;C>=0;C--){var x=n[C].id;if(typeof x=="string"&&x.indexOf("water")===0){for(var v=C+1;v<n.length;v++)if(x=n[v].id,typeof x=="string"&&x.indexOf("plotly-")===-1)return x}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(U,N,e){var d=e(13504).convert,P=e(13504).convertOnSelect,n=e(47552).traceLayerPrefix;function C(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",n+p+"-fill"],["line",n+p+"-line"]],this.below=null}var x=C.prototype;x.update=function(v){this._update(d(v)),v[0].trace._glTrace=this},x.updateOnSelect=function(v){this._update(P(v))},x._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var o=0;o<r.length;o++){var a=r[o],u=a[0],f=a[1],l=v[u];p.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(f,"setPaintProperty",l.paint)}},x._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,o=this.sourceId,a=0;a<t.length;a++){var u=t[a],f=u[0],l=v[f];r.addLayer({type:f,id:u[1],source:o,layout:l.layout,paint:l.paint},p)}},x._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},x.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},U.exports=function(p,r){var t=r[0].trace,o=new C(p,t.uid),a=o.sourceId,u=d(r),f=o.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(a,{type:"geojson",data:u.geojson}),o._addLayers(u,f),r[0].trace._glTrace=o,o}},86040:function(U,N,e){var d=e(49084),P=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(52948),x=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},x.showlegend,{dflt:!1})};v(p,d("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=C[t]}),p.hoverinfo=v({},x.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,U.exports=p},83344:function(U,N,e){var d=e(47128);U.exports=function(n,C){for(var x=C.u,v=C.v,p=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,x.length,v.length,p.length),t=-1/0,o=1/0,a=0;a<r;a++){var u=x[a],f=v[a],l=p[a],y=Math.sqrt(u*u+f*f+l*l);t=Math.max(t,y),o=Math.min(o,y)}C._len=r,C._normMax=t,d(n,C,{vals:[o,t],containerStr:"",cLetter:"c"})}},6648:function(U,N,e){var d=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,n=e(3400).simpleMap,C=e(33040).parseColorScale,x=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(y,c){this.scene=y,this.uid=c,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(y){if(y.object===this.mesh){var c=y.index=y.data.index,T=this.data.x[c],h=this.data.y[c],i=this.data.z[c],g=this.data.u[c],b=this.data.v[c],A=this.data.w[c];y.traceCoordinate=[T,h,i,g,b,A,Math.sqrt(g*g+b*b+A*A)];var R=this.data.hovertext||this.data.text;return v(R)&&R[c]!==void 0?y.textLabel=R[c]:R&&(y.textLabel=R),!0}};var o={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function f(y,c){var T=y.fullSceneLayout,h=y.dataScale,i={};function g(L,M){var s=T[M],S=h[o[M]];return n(L,function(w){return s.d2l(w)*S})}i.vectors=p(g(c.u,"xaxis"),g(c.v,"yaxis"),g(c.w,"zaxis"),c._len),i.positions=p(g(c.x,"xaxis"),g(c.y,"yaxis"),g(c.z,"zaxis"),c._len);var b=x(c);i.colormap=C(c),i.vertexIntensityBounds=[b.min/c._normMax,b.max/c._normMax],i.coneOffset=a[c.anchor];var A=c.sizemode;A==="scaled"?i.coneSize=c.sizeref||.5:A==="absolute"?i.coneSize=c.sizeref&&c._normMax?c.sizeref/c._normMax:.5:A==="raw"&&(i.coneSize=c.sizeref),i.coneSizemode=A;var R=d(i),m=c.lightposition;return R.lightPosition=[m.x,m.y,m.z],R.ambient=c.lighting.ambient,R.diffuse=c.lighting.diffuse,R.specular=c.lighting.specular,R.roughness=c.lighting.roughness,R.fresnel=c.lighting.fresnel,R.opacity=c.opacity,c._pad=u[c.anchor]*R.vectorScale*R.coneScale*c._normMax,R}t.update=function(y){this.data=y;var c=f(this.scene,y);this.mesh.update(c)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(y,c){var T=y.glplot.gl,h=f(y,c),i=P(T,h),g=new r(y,c.uid);return g.mesh=i,g.data=c,i._trace=g,y.glplot.add(i),g}U.exports=l},86096:function(U,N,e){var d=e(3400),P=e(27260),n=e(86040);U.exports=function(x,v,p,r){function t(T,h){return d.coerce(x,v,n,T,h)}var o=t("u"),a=t("v"),u=t("w"),f=t("x"),l=t("y"),y=t("z");if(!o||!o.length||!a||!a.length||!u||!u.length||!f||!f.length||!l||!l.length||!y||!y.length){v.visible=!1;return}var c=t("sizemode");t("sizeref",c==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(x,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(U,N,e){U.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(d,P){return d.norm=P.traceCoordinate[6],d},meta:{}}},67104:function(U,N,e){var d=e(83328),P=e(52904),n=e(29736),C=n.axisHoverFormat,x=n.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,o=e(69104),a=o.COMPARISON_OPS2,u=o.INTERVAL_OPS,f=P.line;U.exports=t({z:d.z,x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,text:d.text,hovertext:d.hovertext,transpose:d.transpose,xtype:d.xtype,ytype:d.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:d.hovertemplate,texttemplate:t({},d.texttemplate,{}),textfont:t({},d.textfont,{}),hoverongaps:d.hoverongaps,connectgaps:t({},d.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:x("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},f.smoothing,{}),editType:"plot"},zorder:P.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(U,N,e){var d=e(8932),P=e(19512),n=e(54444),C=e(46960);U.exports=function(v,p){var r=P(v,p),t=r[0].z;n(p,t);var o=p.contours,a=d.extractOpts(p),u;if(o.coloring==="heatmap"&&a.auto&&p.autocontour===!1){var f=o.start,l=C(o),y=o.size||1,c=Math.floor((l-f)/y)+1;isFinite(y)||(y=1,c=1);var T=f-y/2,h=T+c*y;u=[T,h]}else u=t;return d.calc(v,p,{vals:u,cLetter:"z"}),r}},56008:function(U){U.exports=function(N,e){var d=N[0],P=d.z,n;switch(e.type){case"levels":var C=Math.min(P[0][0],P[0][1]);for(n=0;n<N.length;n++){var x=N[n];x.prefixBoundary=!x.edgepaths.length&&(C>x.level||x.starts.length&&C===x.level)}break;case"constraint":if(d.prefixBoundary=!1,d.edgepaths.length)return;var v=d.x.length,p=d.y.length,r=-1/0,t=1/0;for(n=0;n<p;n++)t=Math.min(t,P[n][0]),t=Math.min(t,P[n][v-1]),r=Math.max(r,P[n][0]),r=Math.max(r,P[n][v-1]);for(n=1;n<v-1;n++)t=Math.min(t,P[0][n]),t=Math.min(t,P[p-1][n]),r=Math.max(r,P[0][n]),r=Math.max(r,P[p-1][n]);var o=e.value,a,u;switch(e._operation){case">":o>r&&(d.prefixBoundary=!0);break;case"<":(o<t||d.starts.length&&o===t)&&(d.prefixBoundary=!0);break;case"[]":a=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]),(u<t||a>r||d.starts.length&&u===t)&&(d.prefixBoundary=!0);break;case"][":a=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]),a<t&&u>r&&(d.prefixBoundary=!0);break}break}}},55296:function(U,N,e){var d=e(8932),P=e(41076),n=e(46960);function C(x,v,p){var r=v.contours,t=v.line,o=r.size||1,a=r.coloring,u=P(v,{isColorbar:!0});if(a==="heatmap"){var f=d.extractOpts(v);p._fillgradient=f.reversescale?d.flipScale(f.colorscale):f.colorscale,p._zrange=[f.min,f.max]}else a==="fill"&&(p._fillcolor=u);p._line={color:a==="lines"?u:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:n(r),size:o}}U.exports={min:"zmin",max:"zmax",calc:C}},93252:function(U){U.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(U,N,e){var d=e(38248),P=e(17428),n=e(76308),C=n.addOpacity,x=n.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;U.exports=function(u,f,l,y,c,T){var h=f.contours,i,g,b,A=l("contours.operation");if(h._operation=r[A],o(l,h),A==="="?i=h.showlines=!0:(i=l("contours.showlines"),b=l("fillcolor",C((u.line||{}).color||c,.5))),i){var R=b&&x(b)?C(f.fillcolor,1):c;g=l("line.color",R),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,y,g,T)};function o(a,u){var f;t.indexOf(u.operation)===-1?(a("contours.value",[0,1]),p(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(f=parseFloat(u.value[0]),u.value=[f,f+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:d(u.value)&&(f=parseFloat(u.value),u.value=[f,f+1])):(a("contours.value",0),d(u.value)||(p(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(U,N,e){var d=e(69104),P=e(38248);U.exports={"[]":C("[]"),"][":C("]["),">":x(">"),"<":x("<"),"=":x("=")};function n(v,p){var r=Array.isArray(p),t;function o(a){return P(a)?+a:null}return d.COMPARISON_OPS2.indexOf(v)!==-1?t=o(r?p[0]:p):d.INTERVAL_OPS.indexOf(v)!==-1?t=r?[o(p[0]),o(p[1])]:[o(p),o(p)]:d.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(o):[o(p)]),t}function C(v){return function(p){p=n(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function x(v){return function(p){return p=n(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(U){U.exports=function(e,d,P,n){var C=n("contours.start"),x=n("contours.end"),v=C===!1||x===!1,p=P("contours.size"),r;v?r=d.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(U,N,e){var d=e(3400);U.exports=function(n,C){var x,v,p,r=function(a){return a.reverse()},t=function(a){return a};switch(C){case"=":case"<":return n;case">":for(n.length!==1&&d.warn("Contour data invalid for the specified inequality operation."),v=n[0],x=0;x<v.edgepaths.length;x++)v.edgepaths[x]=r(v.edgepaths[x]);for(x=0;x<v.paths.length;x++)v.paths[x]=r(v.paths[x]);for(x=0;x<v.starts.length;x++)v.starts[x]=r(v.starts[x]);return n;case"][":var o=r;r=t,t=o;case"[]":for(n.length!==2&&d.warn("Contour data invalid for the specified inequality range operation."),v=P(n[0]),p=P(n[1]),x=0;x<v.edgepaths.length;x++)v.edgepaths[x]=r(v.edgepaths[x]);for(x=0;x<v.paths.length;x++)v.paths[x]=r(v.paths[x]);for(x=0;x<v.starts.length;x++)v.starts[x]=r(v.starts[x]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(n){return d.extendFlat({},n,{edgepaths:d.extendDeep([],n.edgepaths),paths:d.extendDeep([],n.paths),starts:d.extendDeep([],n.starts)})}},57004:function(U,N,e){var d=e(3400),P=e(51264),n=e(31147),C=e(95536),x=e(84952),v=e(97680),p=e(39096),r=e(67104);U.exports=function(o,a,u,f){function l(h,i){return d.coerce(o,a,r,h,i)}function y(h){return d.coerce2(o,a,r,h)}var c=P(o,a,l,f);if(!c){a.visible=!1;return}n(o,a,f,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",d.isArray1D(a.z)),T?C(o,a,l,f,u):(x(o,a,l,y),v(o,a,l,f)),a.contours&&a.contours.coloring==="heatmap"&&p(l,f),l("zorder")}},61512:function(U,N,e){var d=e(3400),P=e(3212),n=e(46960);U.exports=function(x,v,p){for(var r=x.type==="constraint"?P[x._operation](x.value):x,t=r.size,o=[],a=n(r),u=p.trace._carpetTrace,f=u?{xaxis:u.aaxis,yaxis:u.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<a;l+=t)if(o.push(d.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},f)),o.length>1e3){d.warn("Too many contours, clipping at 1000",x);break}return o}},46960:function(U){U.exports=function(e){return e.end+e.size/1e6}},88748:function(U,N,e){var d=e(3400),P=e(93252);U.exports=function(t,o,a){var u,f,l,y,c;for(o=o||.01,a=a||.01,l=0;l<t.length;l++){for(y=t[l],c=0;c<y.starts.length;c++)f=y.starts[c],x(y,f,"edge",o,a);for(u=0;Object.keys(y.crossings).length&&u<1e4;)u++,f=Object.keys(y.crossings)[0].split(",").map(Number),x(y,f,void 0,o,a);u===1e4&&d.log("Infinite loop in contour?")}};function n(r,t,o,a){return Math.abs(r[0]-t[0])<o&&Math.abs(r[1]-t[1])<a}function C(r,t){var o=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(o*o+a*a)}function x(r,t,o,a,u){var f=t.join(","),l=r.crossings[f],y=v(l,o,t),c=[p(r,t,[-y[0],-y[1]])],T=r.z.length,h=r.z[0].length,i=t.slice(),g=y.slice(),b;for(b=0;b<1e4;b++){if(l>20?(l=P.CHOOSESADDLE[l][(y[0]||y[1])<0?0:1],r.crossings[f]=P.SADDLEREMAINDER[l]):delete r.crossings[f],y=P.NEWDELTA[l],!y){d.log("Found bad marching index:",l,t,r.level);break}c.push(p(r,t,y)),t[0]+=y[0],t[1]+=y[1],f=t.join(","),n(c[c.length-1],c[c.length-2],a,u)&&c.pop();var A=y[0]&&(t[0]<0||t[0]>h-2)||y[1]&&(t[1]<0||t[1]>T-2),R=t[0]===i[0]&&t[1]===i[1]&&y[0]===g[0]&&y[1]===g[1];if(R||o&&A)break;l=r.crossings[f]}b===1e4&&d.log("Infinite loop in contour?");var m=n(c[0],c[c.length-1],a,u),L=0,M=.2*r.smoothing,s=[],S=0,w,_,I,H,O,V,B,F,G,Y,Q;for(b=1;b<c.length;b++)B=C(c[b],c[b-1]),L+=B,s.push(B);var te=L/s.length*M;function ae(J){return c[J%c.length]}for(b=c.length-2;b>=S;b--)if(w=s[b],w<te){for(I=0,_=b-1;_>=S&&w+s[_]<te;_--)w+=s[_];if(m&&b===c.length-2)for(I=0;I<_&&w+s[I]<te;I++)w+=s[I];O=b-_+I+1,V=Math.floor((b+_+I+2)/2),!m&&b===c.length-2?H=c[c.length-1]:!m&&_===-1?H=c[0]:O%2?H=ae(V):H=[(ae(V)[0]+ae(V+1)[0])/2,(ae(V)[1]+ae(V+1)[1])/2],c.splice(_+1,b-_+1,H),b=_+1,I&&(S=I),m&&(b===c.length-2?c[I]=c[c.length-1]:b===0&&(c[c.length-1]=c[0]))}for(c.splice(0,S),b=0;b<c.length;b++)c[b].length=2;if(!(c.length<2))if(m)c.pop(),r.paths.push(c);else{o||d.log("Unclosed interior contour?",r.level,i.join(","),c.join("L"));var fe=!1;for(F=0;F<r.edgepaths.length;F++)if(Y=r.edgepaths[F],!fe&&n(Y[0],c[c.length-1],a,u)){c.pop(),fe=!0;var oe=!1;for(G=0;G<r.edgepaths.length;G++)if(Q=r.edgepaths[G],n(Q[Q.length-1],c[0],a,u)){oe=!0,c.shift(),r.edgepaths.splice(F,1),G===F?r.paths.push(c.concat(Q)):(G>F&&G--,r.edgepaths[G]=Q.concat(c,Y));break}oe||(r.edgepaths[F]=c.concat(Y))}for(F=0;F<r.edgepaths.length&&!fe;F++)Y=r.edgepaths[F],n(Y[Y.length-1],c[0],a,u)&&(c.shift(),r.edgepaths[F]=Y.concat(c),fe=!0);fe||r.edgepaths.push(c)}}function v(r,t,o){var a=0,u=0;return r>20&&t?r===208||r===1114?a=o[0]===0?1:-1:u=o[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?u=1:P.LEFTSTART.indexOf(r)!==-1?a=1:P.TOPSTART.indexOf(r)!==-1?u=-1:a=-1,[a,u]}function p(r,t,o){var a=t[0]+Math.max(o[0],0),u=t[1]+Math.max(o[1],0),f=r.z[u][a],l=r.xaxis,y=r.yaxis;if(o[1]){var c=(r.level-f)/(r.z[u][a+1]-f),T=(c!==1?(1-c)*l.c2l(r.x[a]):0)+(c!==0?c*l.c2l(r.x[a+1]):0);return[l.c2p(l.l2c(T),!0),y.c2p(r.y[u],!0),a+c,u]}else{var h=(r.level-f)/(r.z[u+1][a]-f),i=(h!==1?(1-h)*y.c2l(r.y[u]):0)+(h!==0?h*y.c2l(r.y[u+1]):0);return[l.c2p(r.x[a],!0),y.c2p(y.l2c(i),!0),a,u+h]}}},38200:function(U,N,e){var d=e(76308),P=e(55512);U.exports=function(C,x,v,p,r){r||(r={}),r.isContour=!0;var t=P(C,x,v,p,r);return t&&t.forEach(function(o){var a=o.trace;a.contours.type==="constraint"&&(a.fillcolor&&d.opacity(a.fillcolor)?o.color=d.addOpacity(a.fillcolor,1):a.contours.showlines&&d.opacity(a.line.color)&&(o.color=d.addOpacity(a.line.color,1)))}),t}},66240:function(U,N,e){U.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(U,N,e){var d=e(3400);U.exports=function(n,C,x,v){v||(v={});var p=n("contours.showlabels");if(p){var r=C.font;d.coerceFont(n,"contours.labelfont",r,{overrideDflt:{color:x}}),n("contours.labelformat")}v.hasHover!==!1&&n("zhoverformat")}},41076:function(U,N,e){var d=e(33428),P=e(8932),n=e(46960);U.exports=function(x){var v=x.contours,p=v.start,r=n(v),t=v.size||1,o=Math.floor((r-p)/t)+1,a=v.coloring==="lines"?0:1,u=P.extractOpts(x);isFinite(t)||(t=1,o=1);var f=u.reversescale?P.flipScale(u.colorscale):u.colorscale,l=f.length,y=new Array(l),c=new Array(l),T,h,i=u.min,g=u.max;if(v.coloring==="heatmap"){for(h=0;h<l;h++)T=f[h],y[h]=T[0]*(g-i)+i,c[h]=T[1];var b=d.extent([i,g,v.start,v.start+t*(o-1)]),A=b[i<g?0:1],R=b[i<g?1:0];A!==i&&(y.splice(0,0,A),c.splice(0,0,c[0])),R!==g&&(y.push(R),c.push(c[c.length-1]))}else{var m=x._input&&typeof x._input.zmin=="number"&&typeof x._input.zmax=="number";for(m&&(p<=i||r>=g)&&(p<=i&&(p=i),r>=g&&(r=g),o=Math.floor((r-p)/t)+1,a=0),h=0;h<l;h++)T=f[h],y[h]=(T[0]*(o+a-1)-a/2)*t+p,c[h]=T[1];(m||x.autocontour)&&(y[0]>i&&(y.unshift(i),c.unshift(c[0])),y[y.length-1]<g&&(y.push(g),c.push(c[c.length-1])))}return P.makeColorScaleFunc({domain:y,range:c},{noNumericCheck:!0})}},72424:function(U,N,e){var d=e(93252);U.exports=function(C){var x=C[0].z,v=x.length,p=x[0].length,r=v===2||p===2,t,o,a,u,f,l,y,c,T;for(o=0;o<v-1;o++)for(u=[],o===0&&(u=u.concat(d.BOTTOMSTART)),o===v-2&&(u=u.concat(d.TOPSTART)),t=0;t<p-1;t++)for(a=u.slice(),t===0&&(a=a.concat(d.LEFTSTART)),t===p-2&&(a=a.concat(d.RIGHTSTART)),f=t+","+o,l=[[x[o][t],x[o][t+1]],[x[o+1][t],x[o+1][t+1]]],T=0;T<C.length;T++)c=C[T],y=P(c.level,l),y&&(c.crossings[f]=y,a.indexOf(y)!==-1&&(c.starts.push([t,o]),r&&a.indexOf(y,a.indexOf(y)+1)!==-1&&c.starts.push([t,o])))};function P(n,C){var x=(C[0][0]>n?0:1)+(C[0][1]>n?0:2)+(C[1][1]>n?0:4)+(C[1][0]>n?0:8);if(x===5||x===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return n>v?x===5?713:1114:x===5?104:208}return x===15?0:x}},23676:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(8932),x=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),o=e(88748),a=e(61512),u=e(82172),f=e(56008),l=e(93252),y=l.LABELOPTIMIZER;N.plot=function(m,L,M,s){var S=L.xaxis,w=L.yaxis;P.makeTraceGroups(s,M,"contour").each(function(_){var I=d.select(this),H=_[0],O=H.trace,V=H.x,B=H.y,F=O.contours,G=a(F,L,H),Y=P.ensureSingle(I,"g","heatmapcoloring"),Q=[];F.coloring==="heatmap"&&(Q=[_]),r(m,L,Q,Y),t(G),o(G);var te=S.c2p(V[0],!0),ae=S.c2p(V[V.length-1],!0),fe=w.c2p(B[0],!0),oe=w.c2p(B[B.length-1],!0),J=[[te,oe],[ae,oe],[ae,fe],[te,fe]],ee=G;F.type==="constraint"&&(ee=u(G,F._operation)),c(I,J,F),T(I,ee,J,F),i(I,G,m,H,F),b(I,L,m,H,J)})};function c(R,m,L){var M=P.ensureSingle(R,"g","contourbg"),s=M.selectAll("path").data(L.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function T(R,m,L,M){var s=M.coloring==="fill"||M.type==="constraint"&&M._operation!=="=",S="M"+L.join("L")+"Z";s&&f(m,M);var w=P.ensureSingle(R,"g","contourfill"),_=w.selectAll("path").data(s?m:[]);_.enter().append("path"),_.exit().remove(),_.each(function(I){var H=(I.prefixBoundary?S:"")+h(I,L);H?d.select(this).attr("d",H).style("stroke","none"):d.select(this).remove()})}function h(R,m){var L="",M=0,s=R.edgepaths.map(function(te,ae){return ae}),S=!0,w,_,I,H,O,V;function B(te){return Math.abs(te[1]-m[0][1])<.01}function F(te){return Math.abs(te[1]-m[2][1])<.01}function G(te){return Math.abs(te[0]-m[0][0])<.01}function Y(te){return Math.abs(te[0]-m[2][0])<.01}for(;s.length;){for(V=n.smoothopen(R.edgepaths[M],R.smoothing),L+=S?V:V.replace(/^M/,"L"),s.splice(s.indexOf(M),1),w=R.edgepaths[M][R.edgepaths[M].length-1],H=-1,I=0;I<4;I++){if(!w){P.log("Missing end?",M,R);break}for(B(w)&&!Y(w)?_=m[1]:G(w)?_=m[0]:F(w)?_=m[3]:Y(w)&&(_=m[2]),O=0;O<R.edgepaths.length;O++){var Q=R.edgepaths[O][0];Math.abs(w[0]-_[0])<.01?Math.abs(w[0]-Q[0])<.01&&(Q[1]-w[1])*(_[1]-Q[1])>=0&&(_=Q,H=O):Math.abs(w[1]-_[1])<.01?Math.abs(w[1]-Q[1])<.01&&(Q[0]-w[0])*(_[0]-Q[0])>=0&&(_=Q,H=O):P.log("endpt to newendpt is not vert. or horz.",w,_,Q)}if(w=_,H>=0)break;L+="L"+_}if(H===R.edgepaths.length){P.log("unclosed perimeter path");break}M=H,S=s.indexOf(M)===-1,S&&(M=s[0],L+="Z")}for(M=0;M<R.paths.length;M++)L+=n.smoothclosed(R.paths[M],R.smoothing);return L}function i(R,m,L,M,s){var S=L._context.staticPlot,w=P.ensureSingle(R,"g","contourlines"),_=s.showlines!==!1,I=s.showlabels,H=_&&I,O=N.createLines(w,_||I,m,S),V=N.createLineClip(w,H,L,M.trace.uid),B=R.selectAll("g.contourlabels").data(I?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),I){var F=[],G=[];P.clearLocationCache();var Y=N.labelFormatter(L,M),Q=n.tester.append("text").attr("data-notex",1).call(n.font,s.labelfont),te=m[0].xaxis,ae=m[0].yaxis,fe=te._length,oe=ae._length,J=te.range,ee=ae.range,X=P.aggNums(Math.min,null,M.x),q=P.aggNums(Math.max,null,M.x),le=P.aggNums(Math.min,null,M.y),$=P.aggNums(Math.max,null,M.y),j=Math.max(te.c2p(X,!0),0),se=Math.min(te.c2p(q,!0),fe),ne=Math.max(ae.c2p($,!0),0),he=Math.min(ae.c2p(le,!0),oe),me={};J[0]<J[1]?(me.left=j,me.right=se):(me.left=se,me.right=j),ee[0]<ee[1]?(me.top=ne,me.bottom=he):(me.top=he,me.bottom=ne),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,F.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var we=Math.sqrt(fe*fe+oe*oe),Te=l.LABELDISTANCE*we/Math.max(1,m.length/l.LABELINCREASE);O.each(function(Le){var Ie=N.calcTextOpts(Le.level,Y,Q,L);d.select(this).selectAll("path").each(function(){var ze=this,Me=P.getVisibleSegment(ze,me,Ie.height/2);if(Me&&!(Me.len<(Ie.width+Ie.height)*l.LABELMIN))for(var _e=Math.min(Math.ceil(Me.len/Te),l.LABELMAX),Ce=0;Ce<_e;Ce++){var Oe=N.findBestTextLocation(ze,Me,Ie,G,me);if(!Oe)break;N.addLabelData(Oe,Ie,G,F)}})}),Q.remove(),N.drawLabels(B,G,L,V,H?F:null)}I&&!_&&O.remove()}N.createLines=function(R,m,L,M){var s=L[0].smoothing,S=R.selectAll("g.contourlevel").data(m?L:[]);if(S.exit().remove(),S.enter().append("g").classed("contourlevel",!0),m){var w=S.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});w.exit().remove(),w.enter().append("path").classed("openline",!0),w.attr("d",function(I){return n.smoothopen(I,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke");var _=S.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});_.exit().remove(),_.enter().append("path").classed("closedline",!0),_.attr("d",function(I){return n.smoothclosed(I,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke")}return S},N.createLineClip=function(R,m,L,M){var s=L._fullLayout._clips,S=m?"clipline"+M:null,w=s.selectAll("#"+S).data(m?[0]:[]);return w.exit().remove(),w.enter().append("clipPath").classed("contourlineclip",!0).attr("id",S),n.setClipUrl(R,S,L),w},N.labelFormatter=function(R,m){var L=R._fullLayout,M=m.trace,s=M.contours,S={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)S.tickformat=s.labelformat,p(S,L);else{var w=C.extractOpts(M);if(w&&w.colorbar&&w.colorbar._axis)S=w.colorbar._axis;else{if(s.type==="constraint"){var _=s.value;P.isArrayOrTypedArray(_)?S.range=[_[0],_[_.length-1]]:S.range=[_,_]}else S.range=[s.start,s.end],S.nticks=(s.end-s.start)/s.size;S.range[0]===S.range[1]&&(S.range[1]+=S.range[0]||1),S.nticks||(S.nticks=1e3),p(S,L),v.prepTicks(S),S._tmin=null,S._tmax=null}}return function(I){return v.tickText(S,I).text}},N.calcTextOpts=function(R,m,L,M){var s=m(R);L.text(s).call(x.convertToTspans,M);var S=L.node(),w=n.bBox(S,!0);return{text:s,width:w.width,height:w.height,fontSize:+S.style["font-size"].replace("px",""),level:R,dy:(w.top+w.bottom)/2}},N.findBestTextLocation=function(R,m,L,M,s){var S=L.width,w,_,I,H,O;m.isClosed?(_=m.len/y.INITIALSEARCHPOINTS,w=m.min+_/2,I=m.max):(_=(m.len-S)/(y.INITIALSEARCHPOINTS+1),w=m.min+_+S/2,I=m.max-(_+S)/2);for(var V=1/0,B=0;B<y.ITERATIONS;B++){for(var F=w;F<I;F+=_){var G=P.getTextLocation(R,m.total,F,S),Y=g(G,L,M,s);Y<V&&(V=Y,O=G,H=F)}if(V>y.MAXCOST*2)break;B&&(_/=2),w=H-_/2,I=w+_*1.5}if(V<=y.MAXCOST)return O};function g(R,m,L,M){var s=m.width/2,S=m.height/2,w=R.x,_=R.y,I=R.theta,H=Math.cos(I)*s,O=Math.sin(I)*s,V=(w>M.center?M.right-w:w-M.left)/(H+Math.abs(Math.sin(I)*S)),B=(_>M.middle?M.bottom-_:_-M.top)/(Math.abs(O)+Math.cos(I)*S);if(V<1||B<1)return 1/0;var F=y.EDGECOST*(1/(V-1)+1/(B-1));F+=y.ANGLECOST*I*I;for(var G=w-H,Y=_-O,Q=w+H,te=_+O,ae=0;ae<L.length;ae++){var fe=L[ae],oe=Math.cos(fe.theta)*fe.width/2,J=Math.sin(fe.theta)*fe.width/2,ee=P.segmentDistance(G,Y,Q,te,fe.x-oe,fe.y-J,fe.x+oe,fe.y+J)*2/(m.height+fe.height),X=fe.level===m.level,q=X?y.SAMELEVELDISTANCE:1;if(ee<=q)return 1/0;var le=y.NEIGHBORCOST*(X?y.SAMELEVELFACTOR:1);F+=le/(ee-q)}return F}N.addLabelData=function(R,m,L,M){var s=m.fontSize,S=m.width+s/3,w=Math.max(0,m.height-s/3),_=R.x,I=R.y,H=R.theta,O=Math.sin(H),V=Math.cos(H),B=function(G,Y){return[_+G*V-Y*O,I+G*O+Y*V]},F=[B(-S/2,-w/2),B(-S/2,w/2),B(S/2,w/2),B(S/2,-w/2)];L.push({text:m.text,x:_,y:I,dy:m.dy,theta:H,level:m.level,width:S,height:w}),M.push(F)},N.drawLabels=function(R,m,L,M,s){var S=R.selectAll("text").data(m,function(H){return H.text+","+H.x+","+H.y+","+H.theta});if(S.exit().remove(),S.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(H){var O=H.x+Math.sin(H.theta)*H.dy,V=H.y-Math.cos(H.theta)*H.dy;d.select(this).text(H.text).attr({x:O,y:V,transform:"rotate("+180*H.theta/Math.PI+" "+O+" "+V+")"}).call(x.convertToTspans,L)}),s){for(var w="",_=0;_<s.length;_++)w+="M"+s[_].join("L")+"Z";var I=P.ensureSingle(M,"path","");I.attr("d",w)}};function b(R,m,L,M,s){var S=M.trace,w=L._fullLayout._clips,_="clip"+S.uid,I=w.selectAll("#"+_).data(S.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",_),I.exit().remove(),S.connectgaps===!1){var H={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:M.x,y:M.y,z:A(M),smoothing:0};t([H]),o([H]),f([H],{type:"levels"});var O=P.ensureSingle(I,"path","");O.attr("d",(H.prefixBoundary?"M"+s.join("L")+"Z":"")+h(H,s))}else _=null;n.setClipUrl(R,_,L)}function A(R){var m=R.trace._emptypoints,L=[],M=R.z.length,s=R.z[0].length,S,w=[],_;for(S=0;S<s;S++)w.push(1);for(S=0;S<M;S++)L.push(w.slice());for(S=0;S<m.length;S++)_=m[S],L[_[0]][_[1]]=0;return R.zmask=L,L}},54444:function(U,N,e){var d=e(54460),P=e(3400);U.exports=function(x,v){var p=x.contours;if(x.autocontour){var r=x.zmin,t=x.zmax;(x.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(x.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var o=n(r,t,x.ncontours);p.size=o.dtick,p.start=d.tickFirst(o),o.range.reverse(),p.end=d.tickFirst(o),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),x._input.contours||(x._input.contours={}),P.extendFlat(x._input.contours,{start:p.start,end:p.end,size:p.size}),x._input.autocontour=!0}else if(p.type!=="constraint"){var a=p.start,u=p.end,f=x._input.contours;if(a>u&&(p.start=f.start=u,u=p.end=f.end=a,a=p.start),!(p.size>0)){var l;a===u?l=1:l=n(a,u,x.ncontours).dtick,f.size=p.size=l}}};function n(C,x,v){var p={type:"linear",range:[C,x]};return d.autoTicks(p,(x-C)/(v||15)),p}},52440:function(U,N,e){var d=e(33428),P=e(43616),n=e(41648),C=e(41076);U.exports=function(v){var p=d.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=d.select(this),o=r[0].trace,a=o.contours,u=o.line,f=a.size||1,l=a.start,y=a.type==="constraint",c=!y&&a.coloring==="lines",T=!y&&a.coloring==="fill",h=c||T?C(o):null;t.selectAll("g.contourlevel").each(function(b){d.select(this).selectAll("path").call(P.lineGroupStyle,u.width,c?h(b.level):u.color,u.dash)});var i=a.labelfont;if(t.selectAll("g.contourlabels text").each(function(b){P.font(d.select(this),{weight:i.weight,style:i.style,variant:i.variant,textcase:i.textcase,lineposition:i.lineposition,shadow:i.shadow,family:i.family,size:i.size,color:i.color||(c?h(b.level):u.color)})}),y)t.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(T){var g;t.selectAll("g.contourfill path").style("fill",function(b){return g===void 0&&(g=b.level),h(b.level+.5*f)}),g===void 0&&(g=l),t.selectAll("g.contourbg path").style("fill",h(g-.5*f))}}),n(v)}},97680:function(U,N,e){var d=e(27260),P=e(17428);U.exports=function(C,x,v,p,r){var t=v("contours.coloring"),o,a="";t==="fill"&&(o=v("contours.showlines")),o!==!1&&(t!=="lines"&&(a=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(C.showlegend!==!0&&(x.showlegend=!1),x._dfltShowLegend=!1,d(C,x,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,a,r)}},37960:function(U,N,e){var d=e(83328),P=e(67104),n=e(49084),C=e(92880).extendFlat,x=P.contours;U.exports=C({carpet:{valType:"string",editType:"calc"},z:d.z,a:d.x,a0:d.x0,da:d.dx,b:d.y,b0:d.y0,db:d.dy,text:d.text,hovertext:d.hovertext,transpose:d.transpose,atype:d.xtype,btype:d.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:x.type,start:x.start,end:x.end,size:x.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:x.showlines,showlabels:x.showlabels,labelfont:x.labelfont,labelformat:x.labelformat,operation:x.operation,value:x.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},30572:function(U,N,e){var d=e(47128),P=e(3400),n=e(2872),C=e(26136),x=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),o=e(54444);U.exports=function(f,l){var y=l._carpetTrace=t(f,l);if(!(!y||!y.visible||y.visible==="legendonly")){if(!l.a||!l.b){var c=f.data[y.index],T=f.data[l.index];T.a||(T.a=c.a),T.b||(T.b=c.b),r(T,l,l._defaultColor,f._fullLayout)}var h=a(f,l);return o(l,l._z),h}};function a(u,f){var l=f._carpetTrace,y=l.aaxis,c=l.baxis,T,h,i,g,b,A,R;y._minDtick=0,c._minDtick=0,P.isArray1D(f.z)&&n(f,y,c,"a","b",["z"]),T=f._a=f._a||f.a,g=f._b=f._b||f.b,T=T?y.makeCalcdata(f,"_a"):[],g=g?c.makeCalcdata(f,"_b"):[],h=f.a0||0,i=f.da||1,b=f.b0||0,A=f.db||1,R=f._z=C(f._z||f.z,f.transpose),f._emptypoints=v(R),x(R,f._emptypoints);var m=P.maxRowLength(R),L=f.xtype==="scaled"?"":T,M=p(f,L,h,i,m,y),s=f.ytype==="scaled"?"":g,S=p(f,s,b,A,R.length,c),w={a:M,b:S,z:R};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&d(u,f,{vals:R,containerStr:"",cLetter:"z"}),[w]}},3252:function(U,N,e){var d=e(3400),P=e(51264),n=e(37960),C=e(95536),x=e(84952),v=e(97680);U.exports=function(r,t,o,a){function u(c,T){return d.coerce(r,t,n,c,T)}function f(c){return d.coerce2(r,t,n,c)}if(u("carpet"),r.a&&r.b){var l=P(r,t,u,a,"a","b");if(!l){t.visible=!1;return}u("text");var y=u("contours.type")==="constraint";y?C(r,t,u,a,o,{hasHover:!1}):(x(r,t,u,f),v(r,t,u,a,{hasHover:!1}))}else t._defaultColor=o,t._length=null;u("zorder")}},40448:function(U,N,e){U.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(U,N,e){var d=e(33428),P=e(87072),n=e(53416),C=e(43616),x=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),o=e(82172),a=e(61512),u=e(56008),f=e(50948),l=e(77712);U.exports=function(L,M,s,S){var w=M.xaxis,_=M.yaxis;x.makeTraceGroups(S,s,"contour").each(function(I){var H=d.select(this),O=I[0],V=O.trace,B=V._carpetTrace=f(L,V),F=L.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var G=O.a,Y=O.b,Q=V.contours,te=a(Q,M,O),ae=Q.type==="constraint",fe=Q._operation,oe=ae?fe==="="?"lines":"fill":Q.coloring;function J(we){var Te=B.ab2xy(we[0],we[1],!0);return[w.c2p(Te[0]),_.c2p(Te[1])]}var ee=[[G[0],Y[Y.length-1]],[G[G.length-1],Y[Y.length-1]],[G[G.length-1],Y[0]],[G[0],Y[0]]];v(te);var X=(G[G.length-1]-G[0])*1e-8,q=(Y[Y.length-1]-Y[0])*1e-8;p(te,X,q);var le=te;Q.type==="constraint"&&(le=o(te,fe)),y(te,J);var $,j,se,ne,he=[];for(ne=F.clipsegments.length-1;ne>=0;ne--)$=F.clipsegments[ne],j=P([],$.x,w.c2p),se=P([],$.y,_.c2p),j.reverse(),se.reverse(),he.push(n(j,se,$.bicubic));var me="M"+he.join("L")+"Z";b(H,F.clipsegments,w,_,ae,oe),A(V,H,w,_,le,ee,J,B,F,oe,me),c(H,te,L,O,Q,M,B),C.setClipUrl(H,B._clipPathId,L)})};function y(m,L){var M,s,S,w,_,I,H,O,V;for(M=0;M<m.length;M++){for(w=m[M],_=w.pedgepaths=[],I=w.ppaths=[],s=0;s<w.edgepaths.length;s++){for(V=w.edgepaths[s],H=[],S=0;S<V.length;S++)H[S]=L(V[S]);_.push(H)}for(s=0;s<w.paths.length;s++){for(V=w.paths[s],O=[],S=0;S<V.length;S++)O[S]=L(V[S]);I.push(O)}}}function c(m,L,M,s,S,w,_){var I=M._context.staticPlot,H=x.ensureSingle(m,"g","contourlines"),O=S.showlines!==!1,V=S.showlabels,B=O&&V,F=r.createLines(H,O||V,L,I),G=r.createLineClip(H,B,M,s.trace.uid),Y=m.selectAll("g.contourlabels").data(V?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),V){var Q=w.xaxis,te=w.yaxis,ae=Q._length,fe=te._length,oe=[[[0,0],[ae,0],[ae,fe],[0,fe]]],J=[];x.clearLocationCache();var ee=r.labelFormatter(M,s),X=C.tester.append("text").attr("data-notex",1).call(C.font,S.labelfont),q={left:0,right:ae,center:ae/2,top:0,bottom:fe,middle:fe/2},le=Math.sqrt(ae*ae+fe*fe),$=t.LABELDISTANCE*le/Math.max(1,L.length/t.LABELINCREASE);F.each(function(j){var se=r.calcTextOpts(j.level,ee,X,M);d.select(this).selectAll("path").each(function(ne){var he=this,me=x.getVisibleSegment(he,q,se.height/2);if(me&&(T(he,ne,j,me,_,se.height),!(me.len<(se.width+se.height)*t.LABELMIN)))for(var we=Math.min(Math.ceil(me.len/$),t.LABELMAX),Te=0;Te<we;Te++){var Le=r.findBestTextLocation(he,me,se,J,q);if(!Le)break;r.addLabelData(Le,se,J,oe)}})}),X.remove(),r.drawLabels(Y,J,M,G,B?oe:null)}V&&!O&&F.remove()}function T(m,L,M,s,S,w){for(var _,I=0;I<M.pedgepaths.length;I++)L===M.pedgepaths[I]&&(_=M.edgepaths[I]);if(!_)return;var H=S.a[0],O=S.a[S.a.length-1],V=S.b[0],B=S.b[S.b.length-1];function F(ae,fe){var oe=0,J,ee=.1;return(Math.abs(ae[0]-H)<ee||Math.abs(ae[0]-O)<ee)&&(J=i(S.dxydb_rough(ae[0],ae[1],ee)),oe=Math.max(oe,w*g(fe,J)/2)),(Math.abs(ae[1]-V)<ee||Math.abs(ae[1]-B)<ee)&&(J=i(S.dxyda_rough(ae[0],ae[1],ee)),oe=Math.max(oe,w*g(fe,J)/2)),oe}var G=h(m,0,1),Y=h(m,s.total,s.total-1),Q=F(_[0],G),te=s.total-F(_[_.length-1],Y);s.min<Q&&(s.min=Q),s.max>te&&(s.max=te),s.len=s.max-s.min}function h(m,L,M){var s=m.getPointAtLength(L),S=m.getPointAtLength(M),w=S.x-s.x,_=S.y-s.y,I=Math.sqrt(w*w+_*_);return[w/I,_/I]}function i(m){var L=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/L,m[1]/L]}function g(m,L){var M=Math.abs(m[0]*L[0]+m[1]*L[1]),s=Math.sqrt(1-M*M);return s/M}function b(m,L,M,s,S,w){var _,I,H,O,V=x.ensureSingle(m,"g","contourbg"),B=V.selectAll("path").data(w==="fill"&&!S?[0]:[]);B.enter().append("path"),B.exit().remove();var F=[];for(O=0;O<L.length;O++)_=L[O],I=P([],_.x,M.c2p),H=P([],_.y,s.c2p),F.push(n(I,H,_.bicubic));B.attr("d","M"+F.join("L")+"Z").style("stroke","none")}function A(m,L,M,s,S,w,_,I,H,O,V){var B=O==="fill";B&&u(S,m.contours);var F=x.ensureSingle(L,"g","contourfill"),G=F.selectAll("path").data(B?S:[]);G.enter().append("path"),G.exit().remove(),G.each(function(Y){var Q=(Y.prefixBoundary?V:"")+R(m,Y,w,_,I,H,M,s);Q?d.select(this).attr("d",Q).style("stroke","none"):d.select(this).remove()})}function R(m,L,M,s,S,w,_,I){var H,O="",V=L.edgepaths.map(function(se,ne){return ne}),B=!0,F,G,Y,Q,te,ae,fe=Math.abs(M[0][0]-M[2][0])*1e-4,oe=Math.abs(M[0][1]-M[2][1])*1e-4;function J(se){return Math.abs(se[1]-M[0][1])<oe}function ee(se){return Math.abs(se[1]-M[2][1])<oe}function X(se){return Math.abs(se[0]-M[0][0])<fe}function q(se){return Math.abs(se[0]-M[2][0])<fe}function le(se,ne){var he,me,we,Te,Le="";for(J(se)&&!q(se)||ee(se)&&!X(se)?(Te=S.aaxis,we=l(S,w,[se[0],ne[0]],.5*(se[1]+ne[1]))):(Te=S.baxis,we=l(S,w,.5*(se[0]+ne[0]),[se[1],ne[1]])),he=1;he<we.length;he++)for(Le+=Te.smoothing?"C":"L",me=0;me<we[he].length;me++){var Ie=we[he][me];Le+=[_.c2p(Ie[0]),I.c2p(Ie[1])]+" "}return Le}for(H=0,F=null;V.length;){var $=L.edgepaths[H][0];for(F&&(O+=le(F,$)),ae=C.smoothopen(L.edgepaths[H].map(s),L.smoothing),O+=B?ae:ae.replace(/^M/,"L"),V.splice(V.indexOf(H),1),F=L.edgepaths[H][L.edgepaths[H].length-1],Q=-1,Y=0;Y<4;Y++){if(!F){x.log("Missing end?",H,L);break}for(J(F)&&!q(F)?G=M[1]:X(F)?G=M[0]:ee(F)?G=M[3]:q(F)&&(G=M[2]),te=0;te<L.edgepaths.length;te++){var j=L.edgepaths[te][0];Math.abs(F[0]-G[0])<fe?Math.abs(F[0]-j[0])<fe&&(j[1]-F[1])*(G[1]-j[1])>=0&&(G=j,Q=te):Math.abs(F[1]-G[1])<oe?Math.abs(F[1]-j[1])<oe&&(j[0]-F[0])*(G[0]-j[0])>=0&&(G=j,Q=te):x.log("endpt to newendpt is not vert. or horz.",F,G,j)}if(Q>=0)break;O+=le(F,G),F=G}if(Q===L.edgepaths.length){x.log("unclosed perimeter path");break}H=Q,B=V.indexOf(H)===-1,B&&(H=V[0],O+=le(F,G)+"Z",F=null)}for(H=0;H<L.paths.length;H++)O+=C.smoothclosed(L.paths[H].map(s),L.smoothing);return O}},33928:function(U,N,e){var d=e(49084),P=e(21776).Ks,n=e(45464),C=e(31512),x=e(92880).extendFlat;U.exports=x({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:x({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:x({},n.showlegend,{dflt:!1})},d("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(U,N,e){var d=e(38248),P=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,C=e(47128),x=e(3400)._;U.exports=function(p,r){for(var t=r._length,o=new Array(t),a=r.z,u=P(a)&&a.length,f=0;f<t;f++){var l=o[f]={},y=r.lon[f],c=r.lat[f];if(l.lonlat=d(y)&&d(c)?[+y,+c]:[n,n],u){var T=a[f];l.z=d(T)?T:n}}return C(p,r,{vals:u?a:[0,1],containerStr:"",cLetter:"z"}),t&&(o[0].t={labels:{lat:x(p,"lat:")+" ",lon:x(p,"lon:")+" "}}),o}},4629:function(U,N,e){var d=e(38248),P=e(3400),n=e(76308),C=e(8932),x=e(39032).BADNUM,v=e(44808).makeBlank;U.exports=function(r){var t=r[0].trace,o=t.visible===!0&&t._length!==0,a={layout:{visibility:"none"},paint:{}},u=t._opts={heatmap:a,geojson:v()};if(!o)return u;var f=[],l,y=t.z,c=t.radius,T=P.isArrayOrTypedArray(y)&&y.length,h=P.isArrayOrTypedArray(c);for(l=0;l<r.length;l++){var i=r[l],g=i.lonlat;if(g[0]!==x){var b={};if(T){var A=i.z;b.z=A!==x?A:0}h&&(b.r=d(c[l])&&c[l]>0?+c[l]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:b})}}var R=C.extractOpts(t),m=R.reversescale?C.flipScale(R.colorscale):R.colorscale,L=m[0][1],M=n.opacity(L)<1?L:n.addOpacity(L,0),s=["interpolate",["linear"],["heatmap-density"],0,M];for(l=1;l<m.length;l++)s.push(m[l][0],m[l][1]);var S=["interpolate",["linear"],["get","z"],R.min,0,R.max,1];return P.extendFlat(u.heatmap.paint,{"heatmap-weight":T?S:1/(R.max-R.min),"heatmap-color":s,"heatmap-radius":h?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),u.geojson={type:"FeatureCollection",features:f},u.heatmap.layout.visibility="visible",u}},97664:function(U,N,e){var d=e(3400),P=e(27260),n=e(33928);U.exports=function(x,v,p,r){function t(f,l){return d.coerce(x,v,n,f,l)}var o=t("lon")||[],a=t("lat")||[],u=Math.min(o.length,a.length);if(!u){v.visible=!1;return}v._length=u,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(x,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(U){U.exports=function(e,d){return e.lon=d.lon,e.lat=d.lat,e.z=d.z,e}},25336:function(U,N,e){var d=e(54460),P=e(63312).hoverPoints,n=e(63312).getExtraText;U.exports=function(x,v,p){var r=P(x,v,p);if(r){var t=r[0],o=t.cd,a=o[0].trace,u=o[t.index];if(delete t.color,"z"in u){var f=t.subplot.mockAxis;t.z=u.z,t.zLabel=d.tickText(f,f.c2l(u.z),"hover").text}return t.extraText=n(a,u,o[0].t.labels),[t]}}},15088:function(U,N,e){U.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(d,P){for(var n=P.getMapLayers(),C=0;C<n.length;C++){var x=n[C],v=x.id;if(x.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(U,N,e){var d=e(4629),P=e(47552).traceLayerPrefix;function n(x,v){this.type="densitymapbox",this.subplot=x,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var C=n.prototype;C.update=function(x){var v=this.subplot,p=this.layerList,r=d(x),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var o=0;o<p.length;o++){var a=p[o],u=a[0],f=a[1],l=r[u];v.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",l.paint)}},C._addLayers=function(x,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,o=0;o<r.length;o++){var a=r[o],u=a[0],f=x[u];p.addLayer({type:u,id:a[1],source:t,layout:f.layout,paint:f.paint},v)}},C._removeLayers=function(){for(var x=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)x.removeLayer(v[p][1])},C.dispose=function(){var x=this.subplot.map;this._removeLayers(),x.removeSource(this.sourceId)},U.exports=function(v,p){var r=p[0].trace,t=new n(v,r.uid),o=t.sourceId,a=d(p),u=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(o,{type:"geojson",data:a.geojson}),t._addLayers(a,u),t}},74248:function(U,N,e){var d=e(3400);U.exports=function(n,C){for(var x=0;x<n.length;x++)n[x].i=x;d.mergeArray(C.text,n,"tx"),d.mergeArray(C.hovertext,n,"htx");var v=C.marker;if(v){d.mergeArray(v.opacity,n,"mo"),d.mergeArray(v.color,n,"mc");var p=v.line;p&&(d.mergeArray(p.color,n,"mlc"),d.mergeArrayCastPositive(p.width,n,"mlw"))}}},20088:function(U,N,e){var d=e(20832),P=e(52904).line,n=e(45464),C=e(29736).axisHoverFormat,x=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);U.exports={x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:d.xperiod0,yperiod0:d.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:d.hovertext,hovertemplate:x({},{keys:p.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:d.text,textposition:d.textposition,insidetextanchor:r({},d.insidetextanchor,{dflt:"middle"}),textangle:r({},d.textangle,{dflt:0}),textfont:d.textfont,insidetextfont:d.insidetextfont,outsidetextfont:d.outsidetextfont,constraintext:d.constraintext,cliponaxis:d.cliponaxis,orientation:r({},d.orientation,{}),offset:r({},d.offset,{arrayOk:!1}),width:r({},d.width,{arrayOk:!1}),marker:o(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,zorder:d.zorder};function o(){var a=r({},d.marker);return delete a.pattern,delete a.cornerradius,a}},23096:function(U,N,e){var d=e(54460),P=e(1220),n=e(74248),C=e(4500),x=e(39032).BADNUM;U.exports=function(r,t){var o=d.getFromId(r,t.xaxis||"x"),a=d.getFromId(r,t.yaxis||"y"),u,f,l,y,c,T,h,i;t.orientation==="h"?(u=o.makeCalcdata(t,"x"),l=a.makeCalcdata(t,"y"),y=P(t,a,"y",l),c=!!t.yperiodalignment,T="y"):(u=a.makeCalcdata(t,"y"),l=o.makeCalcdata(t,"x"),y=P(t,o,"x",l),c=!!t.xperiodalignment,T="x"),f=y.vals;var g=Math.min(f.length,u.length),b=new Array(g);for(t._base=[],h=0;h<g;h++){u[h]<0&&(u[h]=x);var A=!1;u[h]!==x&&h+1<g&&u[h+1]!==x&&(A=!0),i=b[h]={p:f[h],s:u[h],cNext:A},t._base[h]=-.5*i.s,c&&(b[h].orig_p=l[h],b[h][T+"End"]=y.ends[h],b[h][T+"Start"]=y.starts[h]),t.ids&&(i.id=String(t.ids[h])),h===0&&(b[0].vTotal=0),b[0].vTotal+=v(i.s),i.begR=v(i.s)/v(b[0].s)}var R;for(h=0;h<g;h++)i=b[h],i.s!==x&&(i.sumR=i.s/b[0].vTotal,i.difR=R!==void 0?i.s/R:1,R=i.s);return n(b,t),C(b,t),b};function v(p){return p===x?0:p}},74732:function(U){U.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(U,N,e){var d=e(96376).setGroupPositions;U.exports=function(n,C){var x=n._fullLayout,v=n._fullData,p=n.calcdata,r=C.xaxis,t=C.yaxis,o=[],a=[],u=[],f,l;for(l=0;l<v.length;l++){var y=v[l],c=y.orientation==="h";y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="funnel"&&(f=p[l],c?u.push(f):a.push(f),o.push(f))}var T={mode:x.funnelmode,norm:x.funnelnorm,gap:x.funnelgap,groupgap:x.funnelgroupgap};for(d(n,r,t,a,T),d(n,t,r,u,T),l=0;l<o.length;l++){f=o[l];for(var h=0;h<f.length;h++)h+1<f.length&&(f[h].nextP0=f[h+1].p0,f[h].nextS0=f[h+1].s0,f[h].nextP1=f[h+1].p1,f[h].nextS1=f[h+1].s1)}}},45432:function(U,N,e){var d=e(3400),P=e(20011),n=e(31508).handleText,C=e(43980),x=e(31147),v=e(20088),p=e(76308);function r(a,u,f,l){function y(A,R){return d.coerce(a,u,v,A,R)}var c=C(a,u,l,y);if(!c){u.visible=!1;return}x(a,u,l,y),y("xhoverformat"),y("yhoverformat"),y("orientation",u.y&&!u.x?"v":"h"),y("offset"),y("width");var T=y("text");y("hovertext"),y("hovertemplate");var h=y("textposition");n(a,u,l,y,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&y("textinfo",d.isArrayOrTypedArray(T)?"text+value":"value");var i=y("marker.color",f);y("marker.line.color",p.defaultLine),y("marker.line.width");var g=y("connector.visible");if(g){y("connector.fillcolor",t(i));var b=y("connector.line.width");b&&(y("connector.line.color"),y("connector.line.dash"))}y("zorder")}function t(a){var u=d.isArrayOrTypedArray(a)?"#000":a;return p.addOpacity(u,.5*p.opacity(u))}function o(a,u){var f,l;function y(T){return d.coerce(l._input,l,v,T)}if(u.funnelmode==="group")for(var c=0;c<a.length;c++)l=a[c],f=l._input,P(f,l,u,y)}U.exports={supplyDefaults:r,crossTraceDefaults:o}},34580:function(U){U.exports=function(e,d){return e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,"percentInitial"in d&&(e.percentInitial=d.percentInitial),"percentPrevious"in d&&(e.percentPrevious=d.percentPrevious),"percentTotal"in d&&(e.percentTotal=d.percentTotal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e}},31488:function(U,N,e){var d=e(76308).opacity,P=e(63400).hoverOnBars,n=e(3400).formatPercent;U.exports=function(v,p,r,t,o){var a=P(v,p,r,t,o);if(a){var u=a.cd,f=u[0].trace,l=f.orientation==="h",y=a.index,c=u[y],T=l?"x":"y";a[T+"LabelVal"]=c.s,a.percentInitial=c.begR,a.percentInitialLabel=n(c.begR,1),a.percentPrevious=c.difR,a.percentPreviousLabel=n(c.difR,1),a.percentTotal=c.sumR,a.percentTotalLabel=n(c.sumR,1);var h=c.hi||f.hoverinfo,i=[];if(h&&h!=="none"&&h!=="skip"){var g=h==="all",b=h.split("+"),A=function(R){return g||b.indexOf(R)!==-1};A("percent initial")&&i.push(a.percentInitialLabel+" of initial"),A("percent previous")&&i.push(a.percentPreviousLabel+" of previous"),A("percent total")&&i.push(a.percentTotalLabel+" of total")}return a.extraText=i.join("<br>"),a.color=C(f,c),[a]}};function C(x,v){var p=x.marker,r=v.mc||p.color,t=v.mlc||p.line.color,o=v.mlw||p.line.width;if(d(r))return r;if(d(t)&&o)return t}},94704:function(U,N,e){U.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(U){U.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(U,N,e){var d=e(3400),P=e(7076);U.exports=function(n,C,x){var v=!1;function p(o,a){return d.coerce(n,C,P,o,a)}for(var r=0;r<x.length;r++){var t=x[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(39032).BADNUM,x=e(98184),v=e(82744).clearMinTextSize;U.exports=function(a,u,f,l){var y=a._fullLayout;v("funnel",y),p(a,u,f,l),r(a,u,f,l),x.plot(a,u,f,l,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function p(o,a,u,f){var l=a.xaxis,y=a.yaxis;P.makeTraceGroups(f,u,"trace bars").each(function(c){var T=d.select(this),h=c[0].trace,i=P.ensureSingle(T,"g","regions");if(!h.connector||!h.connector.visible){i.remove();return}var g=h.orientation==="h",b=i.selectAll("g.region").data(P.identity);b.enter().append("g").classed("region",!0),b.exit().remove();var A=b.size();b.each(function(R,m){if(!(m!==A-1&&!R.cNext)){var L=t(R,l,y,g),M=L[0],s=L[1],S="";M[0]!==C&&s[0]!==C&&M[1]!==C&&s[1]!==C&&M[2]!==C&&s[2]!==C&&M[3]!==C&&s[3]!==C&&(g?S+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2]+"H"+M[3]+"L"+M[1]+","+s[1]+"Z":S+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3]+"V"+s[2]+"L"+M[1]+","+s[0]+"Z"),S===""&&(S="M0,0Z"),P.ensureSingle(d.select(this),"path").attr("d",S).call(n.setClipUrl,a.layerClipId,o)}})})}function r(o,a,u,f){var l=a.xaxis,y=a.yaxis;P.makeTraceGroups(f,u,"trace bars").each(function(c){var T=d.select(this),h=c[0].trace,i=P.ensureSingle(T,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){i.remove();return}var g=h.orientation==="h",b=i.selectAll("g.line").data(P.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var A=b.size();b.each(function(R,m){if(!(m!==A-1&&!R.cNext)){var L=t(R,l,y,g),M=L[0],s=L[1],S="";M[3]!==void 0&&s[3]!==void 0&&(g?(S+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2],S+="M"+M[1]+","+s[1]+"L"+M[3]+","+s[2]):(S+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3],S+="M"+M[1]+","+s[0]+"L"+M[2]+","+s[2])),S===""&&(S="M0,0Z"),P.ensureSingle(d.select(this),"path").attr("d",S).call(n.setClipUrl,a.layerClipId,o)}})})}function t(o,a,u,f){var l=[],y=[],c=f?a:u,T=f?u:a;return l[0]=c.c2p(o.s0,!0),y[0]=T.c2p(o.p0,!0),l[1]=c.c2p(o.s1,!0),y[1]=T.c2p(o.p1,!0),l[2]=c.c2p(o.nextS0,!0),y[2]=T.c2p(o.nextP0,!0),l[3]=c.c2p(o.nextS1,!0),y[3]=T.c2p(o.nextP1,!0),f?[l,y]:[y,l]}},44544:function(U,N,e){var d=e(33428),P=e(43616),n=e(76308),C=e(13448).DESELECTDIM,x=e(60100),v=e(82744).resizeText,p=x.styleTextPoints;function r(t,o,a){var u=a||d.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,u,"funnel"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=d.select(this),y=f[0].trace;l.selectAll(".point > path").each(function(c){if(!c.isBlank){var T=y.marker;d.select(this).call(n.fill,c.mc||T.color).call(n.stroke,c.mlc||T.line.color).call(P.dashLine,T.line.dash,c.mlw||T.line.width).style("opacity",y.selectedpoints&&!c.selected?C:1)}}),p(l,y,t),l.selectAll(".regions").each(function(){d.select(this).selectAll("path").style("stroke-width",0).call(n.fill,y.connector.fillcolor)}),l.selectAll(".lines").each(function(){var c=y.connector.line;P.lineGroupStyle(d.select(this).selectAll("path"),c.width,c.color,c.dash)})})}U.exports={style:r}},22332:function(U,N,e){var d=e(74996),P=e(45464),n=e(86968).u,C=e(21776).Ks,x=e(21776).Gw,v=e(92880).extendFlat;U.exports={labels:d.labels,label0:d.label0,dlabel:d.dlabel,values:d.values,marker:{colors:d.marker.colors,line:{color:v({},d.marker.line.color,{dflt:null}),width:v({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:d.marker.pattern,editType:"calc"},text:d.text,hovertext:d.hovertext,scalegroup:v({},d.scalegroup,{}),textinfo:v({},d.textinfo,{flags:["label","text","value","percent"]}),texttemplate:x({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},d.textposition,{values:["inside","none"],dflt:"inside"}),textfont:d.textfont,insidetextfont:d.insidetextfont,title:{text:d.title.text,font:d.title.font,position:v({},d.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(U,N,e){var d=e(7316);N.name="funnelarea",N.plot=function(P,n,C,x){d.plotBasePlot(N.name,P,n,C,x)},N.clean=function(P,n,C,x){d.cleanBasePlot(N.name,P,n,C,x)}},54e3:function(U,N,e){var d=e(45768);function P(C,x){return d.calc(C,x)}function n(C){d.crossTraceCalc(C,{type:"funnelarea"})}U.exports={calc:P,crossTraceCalc:n}},92688:function(U,N,e){var d=e(3400),P=e(22332),n=e(86968).Q,C=e(31508).handleText,x=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;U.exports=function(r,t,o,a){function u(A,R){return d.coerce(r,t,P,A,R)}var f=u("labels"),l=u("values"),y=x(f,l),c=y.len;if(t._hasLabels=y.hasLabels,t._hasValues=y.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),!c){t.visible=!1;return}t._length=c,v(r,t,a,u),u("scalegroup");var T=u("text"),h=u("texttemplate"),i;if(h||(i=u("textinfo",Array.isArray(T)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),h||i&&i!=="none"){var g=u("textposition");C(r,t,a,u,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&u("textposition","none");n(t,a,u);var b=u("title.text");b&&(u("title.position"),d.coerceFont(u,"title.font",a.font)),u("aspectratio"),u("baseratio")}},62396:function(U,N,e){U.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(U,N,e){var d=e(85204).hiddenlabels;U.exports={hiddenlabels:d,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(U,N,e){var d=e(3400),P=e(61280);U.exports=function(C,x){function v(p,r){return d.coerce(C,x,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",x.colorway),v("extendfunnelareacolors")}},39472:function(U,N,e){var d=e(33428),P=e(43616),n=e(3400),C=n.strScale,x=n.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),o=t.recordMinTextSize,a=t.clearMinTextSize,u=e(69656),f=e(37820),l=f.attachFxHandlers,y=f.determineInsideTextFont,c=f.layoutAreas,T=f.prerenderTitles,h=f.positionTitleOutside,i=f.formatSliceLabel;U.exports=function(m,L){var M=m._context.staticPlot,s=m._fullLayout;a("funnelarea",s),T(L,m),c(L,s._size),n.makeTraceGroups(s._funnelarealayer,L,"trace").each(function(S){var w=d.select(this),_=S[0],I=_.trace;A(S),w.each(function(){var H=d.select(this).selectAll("g.slice").data(S);H.enter().append("g").classed("slice",!0),H.exit().remove(),H.each(function(V,B){if(V.hidden){d.select(this).selectAll("path,g").remove();return}V.pointNumber=V.i,V.curveNumber=I.index;var F=_.cx,G=_.cy,Y=d.select(this),Q=Y.selectAll("path.surface").data([V]);Q.enter().append("path").classed("surface",!0).style({"pointer-events":M?"none":"all"}),Y.call(l,m,S);var te="M"+(F+V.TR[0])+","+(G+V.TR[1])+g(V.TR,V.BR)+g(V.BR,V.BL)+g(V.BL,V.TL)+"Z";Q.attr("d",te),i(m,V,_);var ae=u.castOption(I.textposition,V.pts),fe=Y.selectAll("g.slicetext").data(V.text&&ae!=="none"?[0]:[]);fe.enter().append("g").classed("slicetext",!0),fe.exit().remove(),fe.each(function(){var oe=n.ensureSingle(d.select(this),"text","",function(se){se.attr("data-notex",1)}),J=n.ensureUniformFontSize(m,y(I,V,s.font));oe.text(V.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,J).call(v.convertToTspans,m);var ee=P.bBox(oe.node()),X,q,le,$=Math.min(V.BL[1],V.BR[1])+G,j=Math.max(V.TL[1],V.TR[1])+G;q=Math.max(V.TL[0],V.BL[0])+F,le=Math.min(V.TR[0],V.BR[0])+F,X=r(q,le,$,j,ee,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=J.size,o(I.type,X,s),S[B].transform=X,n.setTransormAndDisplay(oe,X)})});var O=d.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);O.enter().append("g").classed("titletext",!0),O.exit().remove(),O.each(function(){var V=n.ensureSingle(d.select(this),"text","",function(G){G.attr("data-notex",1)}),B=I.title.text;I._meta&&(B=n.templateString(B,I._meta)),V.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,m);var F=h(_,s._size);V.attr("transform",x(F.x,F.y)+C(Math.min(1,F.scale))+x(F.tx,F.ty))})})})};function g(R,m){var L=m[0]-R[0],M=m[1]-R[1];return"l"+L+","+M}function b(R,m){return[.5*(R[0]+m[0]),.5*(R[1]+m[1])]}function A(R){if(!R.length)return;var m=R[0],L=m.trace,M=L.aspectratio,s=L.baseratio;s>.999&&(s=.999);var S=Math.pow(s,2),w=m.vTotal,_=w*S/(1-S),I=w,H=_/w;function O(){var ne=Math.sqrt(H);return{x:ne,y:-ne}}function V(){var ne=O();return[ne.x,ne.y]}var B,F=[];F.push(V());var G,Y;for(G=R.length-1;G>-1;G--)if(Y=R[G],!Y.hidden){var Q=Y.v/I;H+=Q,F.push(V())}var te=1/0,ae=-1/0;for(G=0;G<F.length;G++)B=F[G],te=Math.min(te,B[1]),ae=Math.max(ae,B[1]);for(G=0;G<F.length;G++)F[G][1]-=(ae+te)/2;var fe=F[F.length-1][0],oe=m.r,J=(ae-te)/2,ee=oe/fe,X=oe/J*M;for(m.r=X*J,G=0;G<F.length;G++)F[G][0]*=ee,F[G][1]*=X;B=F[0];var q=[-B[0],B[1]],le=[B[0],B[1]],$=0;for(G=R.length-1;G>-1;G--)if(Y=R[G],!Y.hidden){$+=1;var j=F[$][0],se=F[$][1];Y.TL=[-j,se],Y.TR=[j,se],Y.BL=q,Y.BR=le,Y.pxmid=b(Y.TR,Y.BR),q=Y.TL,le=Y.TR}}},62096:function(U,N,e){var d=e(33428),P=e(10528),n=e(82744).resizeText;U.exports=function(x){var v=x._fullLayout._funnelarealayer.selectAll(".trace");n(x,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,o=d.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(a){d.select(this).call(P,a,t,x)})})}},83328:function(U,N,e){var d=e(52904),P=e(45464),n=e(25376),C=e(29736).axisHoverFormat,x=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;U.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},d.x,{impliedEdits:{xtype:"array"}}),x0:r({},d.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},d.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},d.y,{impliedEdits:{ytype:"array"}}),y0:r({},d.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},d.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},d.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},d.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},d.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},d.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},d.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},d.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:x(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:d.zorder},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(U,N,e){var d=e(24040),P=e(3400),n=e(54460),C=e(1220),x=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),o=e(11240),a=e(35744),u=e(39032).BADNUM;U.exports=function(c,T){var h=n.getFromId(c,T.xaxis||"x"),i=n.getFromId(c,T.yaxis||"y"),g=d.traceIs(T,"contour"),b=d.traceIs(T,"histogram"),A=d.traceIs(T,"gl2d"),R=g?"best":T.zsmooth,m,L,M,s,S,w,_,I,H,O,V;if(h._minDtick=0,i._minDtick=0,b)V=x(c,T),s=V.orig_x,m=V.x,L=V.x0,M=V.dx,I=V.orig_y,S=V.y,w=V.y0,_=V.dy,H=V.z;else{var B=T.z;P.isArray1D(B)?(p(T,h,i,"x","y",["z"]),m=T._x,S=T._y,B=T._z):(s=T.x?h.makeCalcdata(T,"x"):[],I=T.y?i.makeCalcdata(T,"y"):[],m=C(T,h,"x",s).vals,S=C(T,i,"y",I).vals,T._x=m,T._y=S),L=T.x0,M=T.dx,w=T.y0,_=T.dy,H=r(B,T,h,i)}(h.rangebreaks||i.rangebreaks)&&(H=l(m,S,H),b||(m=f(m),S=f(S),T._x=m,T._y=S)),!b&&(g||T.connectgaps)&&(T._emptypoints=o(H),t(H,T._emptypoints));function F(ee){R=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ee)}function G(ee){if(ee.length>1){var X=(ee[ee.length-1]-ee[0])/(ee.length-1),q=Math.abs(X/100);for(O=0;O<ee.length-1;O++)if(Math.abs(ee[O+1]-ee[O]-X)>q)return!1}return!0}T._islinear=!1,h.type==="log"||i.type==="log"?R==="fast"&&F("log axis found"):G(m)?G(S)?T._islinear=!0:R==="fast"&&F("y scale is not linear"):R==="fast"&&F("x scale is not linear");var Y=P.maxRowLength(H),Q=T.xtype==="scaled"?"":m,te=a(T,Q,L,M,Y,h),ae=T.ytype==="scaled"?"":S,fe=a(T,ae,w,_,H.length,i);A||(T._extremes[h._id]=n.findExtremes(h,te),T._extremes[i._id]=n.findExtremes(i,fe));var oe={x:te,y:fe,z:H,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&s&&(oe.orig_x=s),T.yperiodalignment&&I&&(oe.orig_y=I),Q&&Q.length===te.length-1&&(oe.xCenter=Q),ae&&ae.length===fe.length-1&&(oe.yCenter=ae),b&&(oe.xRanges=V.xRanges,oe.yRanges=V.yRanges,oe.pts=V.pts),g||v(c,T,{vals:H,cLetter:"z"}),g&&T.contours&&T.contours.coloring==="heatmap"){var J={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};oe.xfill=a(J,Q,L,M,Y,h),oe.yfill=a(J,ae,w,_,H.length,i)}return[oe]};function f(y){for(var c=[],T=y.length,h=0;h<T;h++){var i=y[h];i!==u&&c.push(i)}return c}function l(y,c,T){for(var h=[],i=-1,g=0;g<T.length;g++)if(c[g]!==u){i++,h[i]=[];for(var b=0;b<T[g].length;b++)y[b]!==u&&h[i].push(T[g][b])}return h}},26136:function(U,N,e){var d=e(38248),P=e(3400),n=e(39032).BADNUM;U.exports=function(x,v,p,r){var t,o,a,u,f,l;function y(b){if(d(b))return+b}if(v&&v.transpose){for(t=0,f=0;f<x.length;f++)t=Math.max(t,x[f].length);if(t===0)return!1;a=function(b){return b.length},u=function(b,A,R){return(b[R]||[])[A]}}else t=x.length,a=function(b,A){return b[A].length},u=function(b,A,R){return(b[A]||[])[R]};var c=function(b,A,R){return A===n||R===n?n:u(b,A,R)};function T(b){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&b&&b.type==="category"&&v["_"+b._id.charAt(0)].length){var A=b._id.charAt(0),R={},m=v["_"+A+"CategoryMap"]||v[A];for(f=0;f<m.length;f++)R[m[f]]=f;return function(L){var M=R[b._categories[L]];return M+1?M:n}}else return P.identity}var h=T(p),i=T(r);r&&r.type==="category"&&(t=r._categories.length);var g=new Array(t);for(f=0;f<t;f++)for(p&&p.type==="category"?o=p._categories.length:o=a(x,f),g[f]=new Array(o),l=0;l<o;l++)g[f][l]=y(c(x,i(f),h(l)));return g}},96288:function(U){U.exports={min:"zmin",max:"zmax"}},2872:function(U,N,e){var d=e(3400),P=e(39032).BADNUM,n=e(1220);U.exports=function(x,v,p,r,t,o){var a=x._length,u=v.makeCalcdata(x,r),f=p.makeCalcdata(x,t);u=n(x,v,r,u).vals,f=n(x,p,t,f).vals;var l=x.text,y=l!==void 0&&d.isArray1D(l),c=x.hovertext,T=c!==void 0&&d.isArray1D(c),h,i,g=d.distinctVals(u),b=g.vals,A=d.distinctVals(f),R=A.vals,m=[],L,M,s=R.length,S=b.length;for(h=0;h<o.length;h++)m[h]=d.init2dArray(s,S);y&&(L=d.init2dArray(s,S)),T&&(M=d.init2dArray(s,S));var w=d.init2dArray(s,S);for(h=0;h<a;h++)if(u[h]!==P&&f[h]!==P){var _=d.findBin(u[h]+g.minDiff/2,b),I=d.findBin(f[h]+A.minDiff/2,R);for(i=0;i<o.length;i++){var H=o[i],O=x[H],V=m[i];V[I][_]=O[h],w[I][_]=h}y&&(L[I][_]=l[h]),T&&(M[I][_]=c[h])}for(x["_"+r]=b,x["_"+t]=R,i=0;i<o.length;i++)x["_"+o[i]]=m[i];y&&(x._text=L),T&&(x._hovertext=M),v&&v.type==="category"&&(x["_"+r+"CategoryMap"]=b.map(function(B){return v._categories[B]})),p&&p.type==="category"&&(x["_"+t+"CategoryMap"]=R.map(function(B){return p._categories[B]})),x._after2before=w}},24480:function(U,N,e){var d=e(3400),P=e(51264),n=e(39096),C=e(31147),x=e(82748),v=e(27260),p=e(83328);U.exports=function(t,o,a,u){function f(y,c){return d.coerce(t,o,p,y,c)}var l=P(t,o,f,u);if(!l){o.visible=!1;return}C(t,o,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),n(f,u),x(t,o,f,u),f("hoverongaps"),f("connectgaps",d.isArray1D(o.z)&&o.zsmooth!==!1),v(t,o,u,f,{prefix:"",cLetter:"z"}),f("zorder")}},11240:function(U,N,e){var d=e(3400).maxRowLength;U.exports=function(n){var C=[],x={},v=[],p=n[0],r=[],t=[0,0,0],o=d(n),a,u,f,l,y,c,T,h;for(u=0;u<n.length;u++)for(a=r,r=p,p=n[u+1]||[],f=0;f<o;f++)r[f]===void 0&&(c=(r[f-1]!==void 0?1:0)+(r[f+1]!==void 0?1:0)+(a[f]!==void 0?1:0)+(p[f]!==void 0?1:0),c?(u===0&&c++,f===0&&c++,u===n.length-1&&c++,f===r.length-1&&c++,c<4&&(x[[u,f]]=[u,f,c]),C.push([u,f,c])):v.push([u,f]));for(;v.length;){for(T={},h=!1,y=v.length-1;y>=0;y--)l=v[y],u=l[0],f=l[1],c=((x[[u-1,f]]||t)[2]+(x[[u+1,f]]||t)[2]+(x[[u,f-1]]||t)[2]+(x[[u,f+1]]||t)[2])/20,c&&(T[l]=[u,f,c],v.splice(y,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(l in T)x[l]=T[l],C.push(T[l])}return C.sort(function(i,g){return g[2]-i[2]})}},55512:function(U,N,e){var d=e(93024),P=e(3400),n=P.isArrayOrTypedArray,C=e(54460),x=e(8932).extractOpts;U.exports=function(p,r,t,o,a){a||(a={});var u=a.isContour,f=p.cd[0],l=f.trace,y=p.xa,c=p.ya,T=f.x,h=f.y,i=f.z,g=f.xCenter,b=f.yCenter,A=f.zmask,R=l.zhoverformat,m=T,L=h,M,s,S,w;if(p.index!==!1){try{S=Math.round(p.index[1]),w=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(S<0||S>=i[0].length||w<0||w>i.length)return}else{if(d.inbox(r-T[0],r-T[T.length-1],0)>0||d.inbox(t-h[0],t-h[h.length-1],0)>0)return;if(u){var _;for(m=[2*T[0]-T[1]],_=1;_<T.length;_++)m.push((T[_]+T[_-1])/2);for(m.push([2*T[T.length-1]-T[T.length-2]]),L=[2*h[0]-h[1]],_=1;_<h.length;_++)L.push((h[_]+h[_-1])/2);L.push([2*h[h.length-1]-h[h.length-2]])}S=Math.max(0,Math.min(m.length-2,P.findBin(r,m))),w=Math.max(0,Math.min(L.length-2,P.findBin(t,L)))}var I=y.c2p(T[S]),H=y.c2p(T[S+1]),O=c.c2p(h[w]),V=c.c2p(h[w+1]),B,F;u?(B=f.orig_x||T,F=f.orig_y||h,H=I,M=B[S],V=O,s=F[w]):(B=f.orig_x||g||T,F=f.orig_y||b||h,M=g?B[S]:(B[S]+B[S+1])/2,s=b?F[w]:(F[w]+F[w+1])/2,y&&y.type==="category"&&(M=T[S]),c&&c.type==="category"&&(s=h[w]),l.zsmooth&&(I=H=y.c2p(M),O=V=c.c2p(s)));var G=i[w][S];if(A&&!A[w][S]&&(G=void 0),!(G===void 0&&!l.hoverongaps)){var Y;n(f.hovertext)&&n(f.hovertext[w])?Y=f.hovertext[w][S]:n(f.text)&&n(f.text[w])&&(Y=f.text[w][S]);var Q=x(l),te={type:"linear",range:[Q.min,Q.max],hoverformat:R,_separators:y._separators,_numFormat:y._numFormat},ae=C.tickText(te,G,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[w][S]:[w,S],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:I,x1:H,y0:O,y1:V,xLabelVal:M,yLabelVal:s,zLabelVal:G,zLabel:ae,text:Y})]}}},81932:function(U,N,e){U.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(U,N,e){var d=e(3400),P=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}U.exports=function(p,r){var t=1,o;for(x(p,r),o=0;o<r.length&&!(r[o][2]<4);o++);for(r=r.slice(o),o=0;o<100&&t>P;o++)t=x(p,r,C(t));return t>P&&d.log("interp2d didn't converge quickly",t),p};function x(v,p,r){var t=0,o,a,u,f,l,y,c,T,h,i,g,b,A;for(f=0;f<p.length;f++){for(o=p[f],a=o[0],u=o[1],g=v[a][u],i=0,h=0,l=0;l<4;l++)y=n[l],c=v[a+y[0]],c&&(T=c[u+y[1]],T!==void 0&&(i===0?b=A=T:(b=Math.min(b,T),A=Math.max(A,T)),h++,i+=T));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[a][u]=i/h,g===void 0?h<4&&(t=1):(v[a][u]=(1+r)*v[a][u]-r*g,A>b&&(t=Math.max(t,Math.abs(v[a][u]-g)/(A-b))))}return t}},39096:function(U,N,e){var d=e(3400);U.exports=function(n,C){n("texttemplate");var x=d.extendFlat({},C.font,{color:"auto",size:"auto"});d.coerceFont(n,"textfont",x)}},35744:function(U,N,e){var d=e(24040),P=e(3400).isArrayOrTypedArray;U.exports=function(C,x,v,p,r,t){var o=[],a=d.traceIs(C,"contour"),u=d.traceIs(C,"histogram"),f=d.traceIs(C,"gl2d"),l,y,c,T=P(x)&&x.length>1;if(T&&!u&&t.type!=="category"){var h=x.length;if(h<=r){if(a||f)o=Array.from(x).slice(0,r);else if(r===1)t.type==="log"?o=[.5*x[0],2*x[0]]:o=[x[0]-.5,x[0]+.5];else if(t.type==="log"){for(o=[Math.pow(x[0],1.5)/Math.pow(x[1],.5)],c=1;c<h;c++)o.push(Math.sqrt(x[c-1]*x[c]));o.push(Math.pow(x[h-1],1.5)/Math.pow(x[h-2],.5))}else{for(o=[1.5*x[0]-.5*x[1]],c=1;c<h;c++)o.push((x[c-1]+x[c])*.5);o.push(1.5*x[h-1]-.5*x[h-2])}if(h<r){var i=o[o.length-1],g;if(t.type==="log")for(g=i/o[o.length-2],c=h;c<r;c++)i*=g,o.push(i);else for(g=i-o[o.length-2],c=h;c<r;c++)i+=g,o.push(i)}}else return a?x.slice(0,r):x.slice(0,r+1)}else{var b=C[t._id.charAt(0)+"calendar"];if(u)l=t.r2c(v,0,b);else if(P(x)&&x.length===1)l=x[0];else if(v===void 0)l=0;else{var A=t.type==="log"?t.d2c:t.r2c;l=A(v,0,b)}for(y=p||1,c=a||f?0:-.5;c<r;c++)o.push(l+y*c)}return o}},41420:function(U,N,e){var d=e(33428),P=e(49760),n=e(24040),C=e(43616),x=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),o=e(8932).extractOpts,a=e(8932).makeColorScaleFuncFromTrace,u=e(9616),f=e(84284),l=f.LINE_SPACING,y=e(9188),c=e(2264).STYLE,T="heatmap-label";function h(R){return R.selectAll("g."+T)}function i(R){h(R).remove()}U.exports=function(R,m,L,M){var s=m.xaxis,S=m.yaxis;v.makeTraceGroups(M,L,"hm").each(function(w){var _=d.select(this),I=w[0],H=I.trace,O=H.xgap||0,V=H.ygap||0,B=I.z,F=I.x,G=I.y,Y=I.xCenter,Q=I.yCenter,te=n.traceIs(H,"contour"),ae=te?"best":H.zsmooth,fe=B.length,oe=v.maxRowLength(B),J=!1,ee=!1,X,q,le,$,j,se,ne,he;for(se=0;X===void 0&&se<F.length-1;)X=s.c2p(F[se]),se++;for(se=F.length-1;q===void 0&&se>0;)q=s.c2p(F[se]),se--;for(q<X&&(le=q,q=X,X=le,J=!0),se=0;$===void 0&&se<G.length-1;)$=S.c2p(G[se]),se++;for(se=G.length-1;j===void 0&&se>0;)j=S.c2p(G[se]),se--;j<$&&(le=$,$=j,j=le,ee=!0),te&&(Y=F,Q=G,F=I.xfill,G=I.yfill);var me="default";if(ae?me=ae==="best"?"smooth":"fast":H._islinear&&O===0&&V===0&&y()&&(me="fast"),me!=="fast"){var we=ae==="best"?0:.5;X=Math.max(-we*s._length,X),q=Math.min((1+we)*s._length,q),$=Math.max(-we*S._length,$),j=Math.min((1+we)*S._length,j)}var Te=Math.round(q-X),Le=Math.round(j-$),Ie=X>=s._length||q<=0||$>=S._length||j<=0;if(Ie){var ze=_.selectAll("image").data([]);ze.exit().remove(),i(_);return}var Me,_e;me==="fast"?(Me=oe,_e=fe):(Me=Te,_e=Le);var Ce=document.createElement("canvas");Ce.width=Me,Ce.height=_e;var Oe=Ce.getContext("2d",{willReadFrequently:!0}),Pe=a(H,{noNumericCheck:!0,returnArray:!0}),Ge,Ze;me==="fast"?(Ge=J?function(_r){return oe-1-_r}:v.identity,Ze=ee?function(_r){return fe-1-_r}:v.identity):(Ge=function(_r){return v.constrain(Math.round(s.c2p(F[_r])-X),0,Te)},Ze=function(_r){return v.constrain(Math.round(S.c2p(G[_r])-$),0,Le)});var it=Ze(0),Je=[it,it],et=J?0:1,ft=ee?0:1,vt=0,dt=0,xt=0,Mt=0,nt,Fe,We,je,Ke;function ke(_r,gn){if(_r!==void 0){var rn=Pe(_r);return rn[0]=Math.round(rn[0]),rn[1]=Math.round(rn[1]),rn[2]=Math.round(rn[2]),vt+=gn,dt+=rn[0]*gn,xt+=rn[1]*gn,Mt+=rn[2]*gn,rn}return[0,0,0,0]}function Ue(_r,gn,rn,An){var Pn=_r[rn.bin0];if(Pn===void 0)return ke(void 0,1);var Wn=_r[rn.bin1],ya=gn[rn.bin0],Ta=gn[rn.bin1],sa=Wn-Pn||0,aa=ya-Pn||0,kn;return Wn===void 0?Ta===void 0?kn=0:ya===void 0?kn=2*(Ta-Pn):kn=(2*Ta-ya-Pn)*2/3:Ta===void 0?ya===void 0?kn=0:kn=(2*Pn-Wn-ya)*2/3:ya===void 0?kn=(2*Ta-Wn-Pn)*2/3:kn=Ta+Pn-Wn-ya,ke(Pn+rn.frac*sa+An.frac*(aa+rn.frac*kn))}if(me!=="default"){var Ve=0,Re;try{Re=new Uint8Array(Me*_e*4)}catch{Re=new Array(Me*_e*4)}if(me==="smooth"){var de=Y||F,be=Q||G,Ne=new Array(de.length),Ye=new Array(be.length),at=new Array(Te),lt=Y?b:g,Ht=Q?b:g,Yt,Tt,Lt;for(se=0;se<de.length;se++)Ne[se]=Math.round(s.c2p(de[se])-X);for(se=0;se<be.length;se++)Ye[se]=Math.round(S.c2p(be[se])-$);for(se=0;se<Te;se++)at[se]=lt(se,Ne);for(ne=0;ne<Le;ne++)for(Yt=Ht(ne,Ye),Tt=B[Yt.bin0],Lt=B[Yt.bin1],se=0;se<Te;se++,Ve+=4)Ke=Ue(Tt,Lt,at[se],Yt),A(Re,Ve,Ke)}else for(ne=0;ne<fe;ne++)for(je=B[ne],Je=Ze(ne),se=0;se<oe;se++)Ke=ke(je[se],1),Ve=(Je*oe+Ge(se))*4,A(Re,Ve,Ke);var Kt=Oe.createImageData(Me,_e);try{Kt.data.set(Re)}catch{var vr=Kt.data,gt=vr.length;for(ne=0;ne<gt;ne++)vr[ne]=Re[ne]}Oe.putImageData(Kt,0,0)}else{var Xt=Math.floor(O/2),$t=Math.floor(V/2);for(ne=0;ne<fe;ne++)if(je=B[ne],Je.reverse(),Je[ft]=Ze(ne+1),!(Je[0]===Je[1]||Je[0]===void 0||Je[1]===void 0))for(Fe=Ge(0),nt=[Fe,Fe],se=0;se<oe;se++)nt.reverse(),nt[et]=Ge(se+1),!(nt[0]===nt[1]||nt[0]===void 0||nt[1]===void 0)&&(We=je[se],Ke=ke(We,(nt[1]-nt[0])*(Je[1]-Je[0])),Oe.fillStyle="rgba("+Ke.join(",")+")",Oe.fillRect(nt[0]+Xt,Je[0]+$t,nt[1]-nt[0]-O,Je[1]-Je[0]-V))}dt=Math.round(dt/vt),xt=Math.round(xt/vt),Mt=Math.round(Mt/vt);var mr=P("rgb("+dt+","+xt+","+Mt+")");R._hmpixcount=(R._hmpixcount||0)+vt,R._hmlumcount=(R._hmlumcount||0)+vt*mr.getLuminance();var or=_.selectAll("image").data(w);or.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),or.attr({height:Le,width:Te,x:X,y:$,"xlink:href":Ce.toDataURL("image/png")}),me==="fast"&&!ae&&or.attr("style",c),i(_);var yt=H.texttemplate;if(yt){var ut=o(H),bt={type:"linear",range:[ut.min,ut.max],_separators:s._separators,_numFormat:s._numFormat},Et=H.type==="histogram2dcontour",It=H.type==="contour",Ft=It?1:0,Ot=It?fe-1:fe,Nt=It?1:0,Jt=It?oe-1:oe,hr=[];for(se=Ft;se<Ot;se++){var cr;if(It)cr=I.y[se];else if(Et){if(se===0||se===fe-1)continue;cr=I.y[se]}else if(I.yCenter)cr=I.yCenter[se];else{if(se+1===fe&&I.y[se+1]===void 0)continue;cr=(I.y[se]+I.y[se+1])/2}var dr=Math.round(S.c2p(cr));if(!(0>dr||dr>S._length))for(ne=Nt;ne<Jt;ne++){var fr;if(It)fr=I.x[ne];else if(Et){if(ne===0||ne===oe-1)continue;fr=I.x[ne]}else if(I.xCenter)fr=I.xCenter[ne];else{if(ne+1===oe&&I.x[ne+1]===void 0)continue;fr=(I.x[ne]+I.x[ne+1])/2}var Lr=Math.round(s.c2p(fr));if(!(0>Lr||Lr>s._length)){var xr=r({x:fr,y:cr},H,R._fullLayout);xr.x=fr,xr.y=cr;var Qe=I.z[se][ne];Qe===void 0?(xr.z="",xr.zLabel=""):(xr.z=Qe,xr.zLabel=x.tickText(bt,Qe,"hover").text);var rt=I.text&&I.text[se]&&I.text[se][ne];(rt===void 0||rt===!1)&&(rt=""),xr.text=rt;var er=v.texttemplateString(yt,xr,R._fullLayout._d3locale,xr,H._meta||{});if(er){var tr=er.split("<br>"),jt=tr.length,Pt=0;for(he=0;he<jt;he++)Pt=Math.max(Pt,tr[he].length);hr.push({l:jt,c:Pt,t:er,x:Lr,y:dr,z:Qe})}}}}var Zt=H.textfont,nr=Zt.size,Qt=R._fullLayout.font.size;if(!nr||nr==="auto"){var Wt=1/0,yr=1/0,Dr=0,Tr=0;for(he=0;he<hr.length;he++){var dn=hr[he];if(Dr=Math.max(Dr,dn.l),Tr=Math.max(Tr,dn.c),he<hr.length-1){var Nr=hr[he+1],Cn=Math.abs(Nr.x-dn.x),an=Math.abs(Nr.y-dn.y);Cn&&(Wt=Math.min(Wt,Cn)),an&&(yr=Math.min(yr,an))}}!isFinite(Wt)||!isFinite(yr)?nr=Qt:(Wt-=O,yr-=V,Wt/=Tr,yr/=Dr,Wt/=l/2,yr/=l,nr=Math.min(Math.floor(Wt),Math.floor(yr),Qt))}if(nr<=0||!isFinite(nr))return;var gr=function(_r){return _r.x},Pr=function(_r){return _r.y-nr*(_r.l*l/2-1)},Xr=h(_).data(hr);Xr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(_r){var gn=d.select(this),rn=Zt.color;(!rn||rn==="auto")&&(rn=t.contrast(_r.z===void 0?R._fullLayout.plot_bgcolor:"rgba("+Pe(_r.z).join()+")")),gn.attr("data-notex",1).call(p.positionText,gr(_r),Pr(_r)).call(C.font,{family:Zt.family,size:nr,color:rn,weight:Zt.weight,style:Zt.style,variant:Zt.variant,textcase:Zt.textcase,lineposition:Zt.lineposition,shadow:Zt.shadow}).text(_r.t).call(p.convertToTspans,R)})}})};function g(R,m){var L=m.length-2,M=v.constrain(v.findBin(R,m),0,L),s=m[M],S=m[M+1],w=v.constrain(M+(R-s)/(S-s)-.5,0,L),_=Math.round(w),I=Math.abs(w-_);return!w||w===L||!I?{bin0:_,bin1:_,frac:0}:{bin0:_,frac:I,bin1:Math.round(_+I/(w-_))}}function b(R,m){var L=m.length-1,M=v.constrain(v.findBin(R,m),0,L),s=m[M],S=m[M+1],w=(R-s)/(S-s)||0;return w<=0?{bin0:M,bin1:M,frac:0}:w<.5?{bin0:M,bin1:M+1,frac:w}:{bin0:M+1,bin1:M,frac:1-w}}function A(R,m,L){R[m]=L[0],R[m+1]=L[1],R[m+2]=L[2],R[m+3]=Math.round(L[3]*255)}},41648:function(U,N,e){var d=e(33428);U.exports=function(n){d.select(n).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},82748:function(U){U.exports=function(e,d,P){var n=P("zsmooth");n===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(U,N,e){var d=e(38248),P=e(3400),n=e(24040);U.exports=function(p,r,t,o,a,u){var f=t("z");a=a||"x",u=u||"y";var l,y;if(f===void 0||!f.length)return 0;if(P.isArray1D(f)){l=t(a),y=t(u);var c=P.minRowLength(l),T=P.minRowLength(y);if(c===0||T===0)return 0;r._length=Math.min(c,T,f.length)}else{if(l=C(a,t),y=C(u,t),!x(f))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var h=n.getComponentMethod("calendars","handleTraceDefaults");return h(p,r,[a,u],o),!0};function C(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function x(v){for(var p=!0,r=!1,t=!1,o,a=0;a<v.length;a++){if(o=v[a],!P.isArrayOrTypedArray(o)){p=!1;break}o.length>0&&(r=!0);for(var u=0;u<o.length;u++)if(d(o[u])){t=!0;break}}return p&&r&&t}},74512:function(U,N,e){for(var d=e(83328),P=e(49084),n=e(92880).extendFlat,C=e(67824).overrideAll,x=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<x.length;p++){var r=x[p];v[r]=d[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(v,P("",{cLetter:"z",autoColorDflt:!1})),U.exports=C(v,"calc","nested")},84656:function(U,N,e){var d=e(67792).gl_heatmap2d,P=e(54460),n=e(43080);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=d(r.glplot,this.options),this.heatmap._trace=this}var x=C.prototype;x.handlePick=function(r){var t=this.options,o=t.shape,a=r.pointId,u=a%o[0],f=Math.floor(a/o[0]),l=a;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[u],t.y[f],t.z[l]],textLabel:this.textLabels[a],name:this.name,pointIndex:[f,u],hoverinfo:this.hoverinfo}},x.update=function(r,t){var o=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var a=o.z;this.options.z=[].concat.apply([],a);var u=a[0].length,f=a.length;this.options.shape=[u,f],this.options.x=o.x,this.options.y=o.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var y=this.scene.xaxis,c=this.scene.yaxis,T,h;r.zsmooth===!1&&(T={ppad:o.x[1]-o.x[0]},h={ppad:o.y[1]-o.y[0]}),r._extremes[y._id]=P.findExtremes(y,o.x,T),r._extremes[c._id]=P.findExtremes(c,o.y,h)},x.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,o=r.zmin,a=r.zmax,u=t.length,f=new Array(u),l=new Array(4*u),y=0;y<u;y++){var c=t[y],T=n(c[1]);f[y]=o+c[0]*(a-o);for(var h=0;h<4;h++)l[4*y+h]=T[h]}return{colorLevels:f,colorValues:l}}function p(r,t,o){var a=new C(r,t.uid);return a.update(t,o),a}U.exports=p},86464:function(U,N,e){var d=e(3400),P=e(51264),n=e(27260),C=e(74512);U.exports=function(v,p,r,t){function o(u,f){return d.coerce(v,p,C,u,f)}var a=P(v,p,o,t);if(!a){p.visible=!1;return}o("text"),o("zsmooth"),n(v,p,t,o,{prefix:"",cLetter:"z"})}},45536:function(U,N,e){U.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(U,N,e){var d=e(20832),P=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(21776).Gw,x=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},d.text,{}),hovertext:r({},d.hovertext,{}),orientation:d.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:p.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},d.textposition,{arrayOk:!1}),textfont:x({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:x({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:x({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:d.insidetextanchor,textangle:d.textangle,cliponaxis:d.cliponaxis,constraintext:d.constraintext,marker:d.marker,offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,selected:d.selected,unselected:d.unselected,_deprecated:{bardir:d._deprecated.bardir},zorder:d.zorder}},2e3:function(U){U.exports=function(e,d){for(var P=e.length,n=0,C=0;C<P;C++)d[C]?(e[C]/=d[C],n+=e[C]):e[C]=null;return n}},11120:function(U){U.exports=function(e,d){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(U,N,e){var d=e(38248);U.exports={count:function(P,n,C){return C[P]++,1},sum:function(P,n,C,x){var v=x[n];return d(v)?(v=Number(v),C[P]+=v,v):0},avg:function(P,n,C,x,v){var p=x[n];return d(p)&&(p=Number(p),C[P]+=p,v[P]++),0},min:function(P,n,C,x){var v=x[n];if(d(v))if(v=Number(v),d(C[P])){if(C[P]>v){var p=v-C[P];return C[P]=v,p}}else return C[P]=v,v;return 0},max:function(P,n,C,x){var v=x[n];if(d(v))if(v=Number(v),d(C[P])){if(C[P]<v){var p=v-C[P];return C[P]=v,p}}else return C[P]=v,v;return 0}}},67712:function(U,N,e){var d=e(39032),P=d.ONEAVGYEAR,n=d.ONEAVGMONTH,C=d.ONEDAY,x=d.ONEHOUR,v=d.ONEMIN,p=d.ONESEC,r=e(54460).tickIncrement;U.exports=function(l,y,c,T,h){var i=-1.1*y,g=-.1*y,b=l-g,A=c[0],R=c[1],m=Math.min(t(A+g,A+b,T,h),t(R+g,R+b,T,h)),L=Math.min(t(A+i,A+g,T,h),t(R+i,R+g,T,h)),M,s;if(m>L&&L<Math.abs(R-A)/4e3?(M=m,s=!1):(M=Math.min(m,L),s=!0),T.type==="date"&&M>C){var S=M===P?1:6,w=M===P?"M12":"M1";return function(_,I){var H=T.c2d(_,P,h),O=H.indexOf("-",S);O>0&&(H=H.substr(0,O));var V=T.d2c(H,0,h);if(V<_){var B=r(V,w,!1,h);(V+B)/2<_+l&&(V=B)}return I&&s?r(V,w,!0,h):V}}return function(_,I){var H=M*Math.round(_/M);return H+M/10<_&&H+M*.9<_+l&&(H+=M),I&&s&&(H-=M),H}};function t(f,l,y,c){if(f*l<=0)return 1/0;for(var T=Math.abs(l-f),h=y.type==="date",i=o(T,h),g=0;g<10;g++){var b=o(i*80,h);if(i===b)break;if(a(b,f,l,h,y,c))i=b;else break}return i}function o(f,l){return l&&f>p?f>C?f>P*1.1?P:f>n*1.1?n:C:f>x?x:f>v?v:p:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function a(f,l,y,c,T,h){if(c&&f>C){var i=u(l,T,h),g=u(y,T,h),b=f===P?0:1;return i[b]!==g[b]}return Math.floor(y/f)-Math.floor(l/f)>.1}function u(f,l,y){var c=l.c2d(f,P,y).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},35852:function(U,N,e){var d=e(38248),P=e(3400),n=e(24040),C=e(54460),x=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function o(y,c){var T=[],h=[],i=c.orientation==="h",g=C.getFromId(y,i?c.yaxis:c.xaxis),b=i?"y":"x",A={x:"y",y:"x"}[b],R=c[b+"calendar"],m=c.cumulative,L,M=a(y,c,g,b),s=M[0],S=M[1],w=typeof s.size=="string",_=[],I=w?_:s,H=[],O=[],V=[],B=0,F=c.histnorm,G=c.histfunc,Y=F.indexOf("density")!==-1,Q,te,ae;m.enabled&&Y&&(F=F.replace(/ ?density$/,""),Y=!1);var fe=G==="max"||G==="min",oe=fe?null:0,J=v.count,ee=p[F],X=!1,q=function(Oe){return g.r2c(Oe,0,R)},le;for(P.isArrayOrTypedArray(c[A])&&G!=="count"&&(le=c[A],X=G==="avg",J=v[G]),L=q(s.start),te=q(s.end)+(L-C.tickIncrement(L,s.size,!1,R))/1e6;L<te&&T.length<1e6&&(Q=C.tickIncrement(L,s.size,!1,R),T.push((L+Q)/2),h.push(oe),V.push([]),_.push(L),Y&&H.push(1/(Q-L)),X&&O.push(0),!(Q<=L));)L=Q;_.push(L),!w&&g.type==="date"&&(I={start:q(I.start),end:q(I.end),size:I.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var $=c["_"+b+"bingroup"],j={leftGap:1/0,rightGap:1/0};$&&(y._fullLayout._roundFnOpts[$]||(y._fullLayout._roundFnOpts[$]=j),j=y._fullLayout._roundFnOpts[$]);var se=h.length,ne=!0,he=j.leftGap,me=j.rightGap,we={};for(L=0;L<S.length;L++){var Te=S[L];ae=P.findBin(Te,I),ae>=0&&ae<se&&(B+=J(ae,L,h,le,O),ne&&V[ae].length&&Te!==S[V[ae][0]]&&(ne=!1),V[ae].push(L),we[L]=ae,he=Math.min(he,Te-_[ae]),me=Math.min(me,_[ae+1]-Te))}j.leftGap=he,j.rightGap=me;var Le;ne||(Le=function(Oe,Pe){return function(){var Ge=y._fullLayout._roundFnOpts[$];return t(Ge.leftGap,Ge.rightGap,_,g,R)(Oe,Pe)}}),X&&(B=r(h,O)),ee&&ee(h,B,H),m.enabled&&l(h,m.direction,m.currentbin);var Ie=Math.min(T.length,h.length),ze=[],Me=0,_e=Ie-1;for(L=0;L<Ie;L++)if(h[L]){Me=L;break}for(L=Ie-1;L>=Me;L--)if(h[L]){_e=L;break}for(L=Me;L<=_e;L++)if(d(T[L])&&d(h[L])){var Ce={p:T[L],s:h[L],b:0};m.enabled||(Ce.pts=V[L],ne?Ce.ph0=Ce.ph1=V[L].length?S[V[L][0]]:T[L]:(c._computePh=!0,Ce.ph0=Le(_[L]),Ce.ph1=Le(_[L+1],!0))),ze.push(Ce)}return ze.length===1&&(ze[0].width1=C.tickIncrement(ze[0].p,s.size,!1,R)-ze[0].p),x(ze,c),P.isArrayOrTypedArray(c.selectedpoints)&&P.tagSelected(ze,c,we),ze}function a(y,c,T,h,i){var g=h+"bins",b=y._fullLayout,A=c["_"+h+"bingroup"],R=b._histogramBinOpts[A],m=b.barmode==="overlay",L,M,s,S,w,_,I,H=function(Te){return T.r2c(Te,0,S)},O=function(Te){return T.c2r(Te,0,S)},V=T.type==="date"?function(Te){return Te||Te===0?P.cleanDate(Te,null,S):null}:function(Te){return d(Te)?Number(Te):null};function B(Te,Le,Ie){Le[Te+"Found"]?(Le[Te]=V(Le[Te]),Le[Te]===null&&(Le[Te]=Ie[Te])):(_[Te]=Le[Te]=Ie[Te],P.nestedProperty(M[0],g+"."+Te).set(Ie[Te]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{M=R.traces;var F=[],G=!0,Y=!1,Q=!1;for(L=0;L<M.length;L++)if(s=M[L],s.visible){var te=R.dirs[L];w=s["_"+te+"pos0"]=T.makeCalcdata(s,te),F=P.concat(F,w),delete s["_"+h+"autoBinFinished"],c.visible===!0&&(G?G=!1:(delete s._autoBin,s["_"+h+"autoBinFinished"]=1),n.traceIs(s,"2dMap")&&(Y=!0),s.type==="histogram2dcontour"&&(Q=!0))}S=M[0][h+"calendar"];var ae=C.autoBin(F,T,R.nbins,Y,S,R.sizeFound&&R.size),fe=M[0]._autoBin={};if(_=fe[R.dirs[0]]={},Q&&(R.size||(ae.start=O(C.tickIncrement(H(ae.start),ae.size,!0,S))),R.end===void 0&&(ae.end=O(C.tickIncrement(H(ae.end),ae.size,!1,S)))),m&&!n.traceIs(c,"2dMap")&&ae._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&c.bingroup===""&&typeof c.xbins>"u"){if(i)return[ae,w,!0];ae=u(y,c,T,h,g)}I=s.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ae.start=O(C.tickIncrement(H(ae.start),ae.size,!0,S)):ae.end=O(C.tickIncrement(H(ae.end),ae.size,!1,S))),R.size=ae.size,R.sizeFound||(_.size=ae.size,P.nestedProperty(M[0],g+".size").set(ae.size)),B("start",R,ae),B("end",R,ae)}w=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var oe=c._input[g]||{},J=P.extendFlat({},R),ee=R.start,X=T.r2l(oe.start),q=X!==void 0;if((R.startFound||q)&&X!==T.r2l(ee)){var le=q?X:P.aggNums(Math.min,null,w),$={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:R.size,tick0:ee,calendar:S,range:[le,C.tickIncrement(le,R.size,!1,S)].map(T.l2r)},j=C.tickFirst($);j>T.r2l(le)&&(j=C.tickIncrement(j,R.size,!0,S)),J.start=T.l2r(j),q||P.nestedProperty(c,g+".start").set(J.start)}var se=R.end,ne=T.r2l(oe.end),he=ne!==void 0;if((R.endFound||he)&&ne!==T.r2l(se)){var me=he?ne:P.aggNums(Math.max,null,w);J.end=T.l2r(me),he||P.nestedProperty(c,g+".start").set(J.end)}var we="autobin"+h;return c._input[we]===!1&&(c._input[g]=P.extendFlat({},c[g]||{}),delete c._input[we],delete c[we]),[J,w]}function u(y,c,T,h,i){var g=y._fullLayout,b=f(y,c),A=!1,R=1/0,m=[c],L,M,s;for(L=0;L<b.length;L++)if(M=b[L],M===c)A=!0;else if(!A)s=g._histogramBinOpts[M["_"+h+"bingroup"]],R=Math.min(R,s.size||M[i].size);else{var S=a(y,M,T,h,!0),w=S[0],_=S[2];M["_"+h+"autoBinFinished"]=1,M["_"+h+"pos0"]=S[1],_?m.push(M):R=Math.min(R,w.size)}var I=new Array(m.length);for(L=0;L<m.length;L++)for(var H=m[L]["_"+h+"pos0"],O=0;O<H.length;O++)if(H[O]!==void 0){I[L]=H[O];break}for(isFinite(R)||(R=P.distinctVals(I).minDiff),L=0;L<m.length;L++){M=m[L];var V=M[h+"calendar"],B={start:T.c2r(I[L]-R/2,0,V),end:T.c2r(I[L]+R/2,0,V),size:R};M._input[i]=M[i]=B,s=g._histogramBinOpts[M["_"+h+"bingroup"]],s&&P.extendFlat(s,B)}return c[i]}function f(y,c){for(var T=c.xaxis,h=c.yaxis,i=c.orientation,g=[],b=y._fullData,A=0;A<b.length;A++){var R=b[A];R.type==="histogram"&&R.visible===!0&&R.orientation===i&&R.xaxis===T&&R.yaxis===h&&g.push(R)}return g}function l(y,c,T){var h,i,g;function b(R){g=y[R],y[R]/=2}function A(R){i=y[R],y[R]=g+i/2,g+=i}if(T==="half")if(c==="increasing")for(b(0),h=1;h<y.length;h++)A(h);else for(b(y.length-1),h=y.length-2;h>=0;h--)A(h);else if(c==="increasing"){for(h=1;h<y.length;h++)y[h]+=y[h-1];T==="exclude"&&(y.unshift(0),y.pop())}else{for(h=y.length-2;h>=0;h--)y[h]+=y[h+1];T==="exclude"&&(y.push(0),y.shift())}}U.exports={calc:o,calcAllAutoBins:a}},73316:function(U){U.exports={eventDataKeys:["binNumber"]}},80536:function(U,N,e){var d=e(3400),P=e(79811),n=e(24040).traceIs,C=e(20011),x=e(31508).validateCornerradius,v=d.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];U.exports=function(a,u){var f=u._histogramBinOpts={},l=[],y={},c=[],T,h,i,g,b,A,R;function m(ae,fe){return d.coerce(T._input,T,T._module.attributes,ae,fe)}function L(ae){return ae.orientation==="v"?"x":"y"}function M(ae,fe){var oe=P.getFromTrace({_fullLayout:u},ae,fe);return oe.type}function s(ae,fe,oe){var J=ae.uid+"__"+oe;fe||(fe=J);var ee=M(ae,oe),X=ae[oe+"calendar"]||"",q=f[fe],le=!0;q&&(ee===q.axType&&X===q.calendar?(le=!1,q.traces.push(ae),q.dirs.push(oe)):(fe=J,ee!==q.axType&&d.warn(["Attempted to group the bins of trace",ae.index,"set on a","type:"+ee,"axis","with bins on","type:"+q.axType,"axis."].join(" ")),X!==q.calendar&&d.warn(["Attempted to group the bins of trace",ae.index,"set with a",X,"calendar","with bins",q.calendar?"on a "+q.calendar+" calendar":"w/o a set calendar"].join(" ")))),le&&(f[fe]={traces:[ae],dirs:[oe],axType:ee,calendar:ae[oe+"calendar"]||""}),ae["_"+oe+"bingroup"]=fe}for(b=0;b<a.length;b++)if(T=a[b],n(T,"histogram")){if(l.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var S=m("marker.cornerradius",u.barcornerradius);T.marker&&(T.marker.cornerradius=x(S))}n(T,"2dMap")||C(T._input,T,u,m)}var w=u._alignmentOpts||{};for(b=0;b<l.length;b++){if(T=l[b],i="",!n(T,"2dMap")){if(g=L(T),u.barmode==="group"&&T.alignmentgroup){var _=T[g+"axis"],I=p(u,_)+T.orientation;(w[I]||{})[T.alignmentgroup]&&(i=I)}!i&&u.barmode!=="overlay"&&(i=p(u,T.xaxis)+p(u,T.yaxis)+L(T))}i?(y[i]||(y[i]=[]),y[i].push(T)):c.push(T)}for(i in y){if(h=y[i],h.length===1){c.push(h[0]);continue}var H=!1;for(h.length&&(T=h[0],H=m("bingroup")),i=H||i,b=0;b<h.length;b++){T=h[b];var O=T._input.bingroup;O&&O!==i&&d.warn(["Trace",T.index,"must match","within bingroup",i+".","Ignoring its bingroup:",O,"setting."].join(" ")),T.bingroup=i,s(T,i,L(T))}}for(b=0;b<c.length;b++){T=c[b];var V=m("bingroup");if(n(T,"2dMap"))for(R=0;R<2;R++){g=t[R];var B=m(g+"bingroup",V?V+"__"+g:null);s(T,B,g)}else s(T,V,L(T))}for(i in f){var F=f[i];for(h=F.traces,A=0;A<r.length;A++){var G=r[A],Y=G.name,Q,te;if(!(Y==="nbins"&&F.sizeFound)){for(b=0;b<h.length;b++){if(T=h[b],g=F.dirs[b],Q=G.aStr[g],v(T._input,Q).get()!==void 0){F[Y]=m(Q),F[Y+"Found"]=!0;break}te=(T._autoBin||{})[g]||{},te[Y]&&v(T,Q).set(te[Y])}if(Y==="start"||Y==="end")for(;b<h.length;b++)T=h[b],T["_"+g+"bingroup"]&&(te=(T._autoBin||{})[g]||{},m(Q,te[Y]));Y==="nbins"&&!F.sizeFound&&!F.nbinsFound&&(T=h[0],F[Y]=m(Q))}}}}},6616:function(U,N,e){var d=e(24040),P=e(3400),n=e(76308),C=e(31508).handleText,x=e(55592),v=e(40196);U.exports=function(r,t,o,a){function u(L,M){return P.coerce(r,t,v,L,M)}var f=u("x"),l=u("y"),y=u("cumulative.enabled");y&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var c=u("textposition");C(r,t,a,u,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var T=u("orientation",l&&!f?"h":"v"),h=T==="v"?"x":"y",i=T==="v"?"y":"x",g=f&&l?Math.min(P.minRowLength(f)&&P.minRowLength(l)):P.minRowLength(t[h]||[]);if(!g){t.visible=!1;return}t._length=g;var b=d.getComponentMethod("calendars","handleTraceDefaults");b(r,t,["x","y"],a);var A=t[i];A&&u("histfunc"),u("histnorm"),u("autobin"+h),x(r,t,u,o,a),P.coerceSelectionMarkerOpacity(t,u);var R=(t.marker.line||{}).color,m=d.getComponentMethod("errorbars","supplyDefaults");m(r,t,R||n.defaultLine,{axis:"y"}),m(r,t,R||n.defaultLine,{axis:"x",inherit:"y"}),u("zorder")}},84980:function(U){U.exports=function(e,d,P,n,C){if(e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,"zLabelVal"in d&&(e.z=d.zLabelVal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),!(P.cumulative||{}).enabled){var x=Array.isArray(C)?n[0].pts[C[0]][C[1]]:n[C].pts;e.pointNumbers=x,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<x.length;p++)v=v.concat(P._indexToPoints[x[p]])}else v=x;e.pointIndices=v}return e}},43339:function(U,N,e){var d=e(63400).hoverPoints,P=e(54460).hoverLabelText;U.exports=function(C,x,v,p,r){var t=d(C,x,v,p,r);if(t){C=t[0];var o=C.cd[C.index],a=C.cd[0].trace;if(!a.cumulative.enabled){var u=a.orientation==="h"?"y":"x";C[u+"Label"]=P(C[u+"a"],[o.ph0,o.ph1],a[u+"hoverformat"])}return t}}},42600:function(U,N,e){U.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(U){U.exports={percent:function(N,e){for(var d=N.length,P=100/e,n=0;n<d;n++)N[n]*=P},probability:function(N,e){for(var d=N.length,P=0;P<d;P++)N[P]/=e},density:function(N,e,d,P){var n=N.length;P=P||1;for(var C=0;C<n;C++)N[C]*=d[C]*P},"probability density":function(N,e,d,P){var n=N.length;P&&(e/=P);for(var C=0;C<n;C++)N[C]*=d[C]/e}}},37008:function(U,N,e){var d=e(40196),P=e(11120),n=e(83328),C=e(45464),x=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;U.exports=t({x:d.x,y:d.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:d.histnorm,histfunc:d.histfunc,nbinsx:d.nbinsx,xbins:P("x"),nbinsy:d.nbinsy,ybins:P("y"),autobinx:d.autobinx,autobiny:d.autobiny,bingroup:t({},d.bingroup,{}),xbingroup:t({},d.bingroup,{}),ybingroup:t({},d.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(U,N,e){var d=e(3400),P=e(54460),n=e(16964),C=e(10648),x=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;U.exports=function(u,f){var l=P.getFromId(u,f.xaxis),y=P.getFromId(u,f.yaxis),c=f.xcalendar,T=f.ycalendar,h=function(Ke){return l.r2c(Ke,0,c)},i=function(Ke){return y.r2c(Ke,0,T)},g=function(Ke){return l.c2r(Ke,0,c)},b=function(Ke){return y.c2r(Ke,0,T)},A,R,m,L,M=p(u,f,l,"x"),s=M[0],S=M[1],w=p(u,f,y,"y"),_=w[0],I=w[1],H=f._length;S.length>H&&S.splice(H,S.length-H),I.length>H&&I.splice(H,I.length-H);var O=[],V=[],B=[],F=typeof s.size=="string",G=typeof _.size=="string",Y=[],Q=[],te=F?Y:s,ae=G?Q:_,fe=0,oe=[],J=[],ee=f.histnorm,X=f.histfunc,q=ee.indexOf("density")!==-1,le=X==="max"||X==="min",$=le?null:0,j=n.count,se=C[ee],ne=!1,he=[],me=[],we="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";we&&X!=="count"&&(ne=X==="avg",j=n[X]);var Te=s.size,Le=h(s.start),Ie=h(s.end)+(Le-P.tickIncrement(Le,Te,!1,c))/1e6;for(A=Le;A<Ie;A=P.tickIncrement(A,Te,!1,c))V.push($),Y.push(A),ne&&B.push(0);Y.push(A);var ze=V.length,Me=(A-Le)/ze,_e=g(Le+Me/2),Ce=_.size,Oe=i(_.start),Pe=i(_.end)+(Oe-P.tickIncrement(Oe,Ce,!1,T))/1e6;for(A=Oe;A<Pe;A=P.tickIncrement(A,Ce,!1,T)){O.push(V.slice()),Q.push(A);var Ge=new Array(ze);for(R=0;R<ze;R++)Ge[R]=[];J.push(Ge),ne&&oe.push(B.slice())}Q.push(A);var Ze=O.length,it=(A-Oe)/Ze,Je=b(Oe+it/2);q&&(he=r(V.length,te,Me,F),me=r(O.length,ae,it,G)),!F&&l.type==="date"&&(te=t(h,te)),!G&&y.type==="date"&&(ae=t(i,ae));var et=!0,ft=!0,vt=new Array(ze),dt=new Array(Ze),xt=1/0,Mt=1/0,nt=1/0,Fe=1/0;for(A=0;A<H;A++){var We=S[A],je=I[A];m=d.findBin(We,te),L=d.findBin(je,ae),m>=0&&m<ze&&L>=0&&L<Ze&&(fe+=j(m,A,O[L],we,oe[L]),J[L][m].push(A),et&&(vt[m]===void 0?vt[m]=We:vt[m]!==We&&(et=!1)),ft&&(dt[L]===void 0?dt[L]=je:dt[L]!==je&&(ft=!1)),xt=Math.min(xt,We-Y[m]),Mt=Math.min(Mt,Y[m+1]-We),nt=Math.min(nt,je-Q[L]),Fe=Math.min(Fe,Q[L+1]-je))}if(ne)for(L=0;L<Ze;L++)fe+=x(O[L],oe[L]);if(se)for(L=0;L<Ze;L++)se(O[L],fe,he,me[L]);return{x:S,xRanges:o(Y,et&&vt,xt,Mt,l,c),x0:_e,dx:Me,y:I,yRanges:o(Q,ft&&dt,nt,Fe,y,T),y0:Je,dy:it,z:O,pts:J}};function r(a,u,f,l){var y=new Array(a),c;if(l)for(c=0;c<a;c++)y[c]=1/(u[c+1]-u[c]);else{var T=1/f;for(c=0;c<a;c++)y[c]=T}return y}function t(a,u){return{start:a(u.start),end:a(u.end),size:u.size}}function o(a,u,f,l,y,c){var T,h=a.length-1,i=new Array(h),g=v(f,l,a,y,c);for(T=0;T<h;T++){var b=(u||[])[T];i[T]=b===void 0?[g(a[T]),g(a[T+1],!0)]:[b,b]}return i}},99784:function(U,N,e){var d=e(3400),P=e(56408),n=e(82748),C=e(27260),x=e(39096),v=e(37008);U.exports=function(r,t,o,a){function u(f,l){return d.coerce(r,t,v,f,l)}P(r,t,u,a),t.visible!==!1&&(n(r,t,u,a),C(r,t,a,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),x(u,a),u("xhoverformat"),u("yhoverformat"))}},59576:function(U,N,e){var d=e(55512),P=e(54460).hoverLabelText;U.exports=function(C,x,v,p,r){var t=d(C,x,v,p,r);if(t){C=t[0];var o=C.index,a=o[0],u=o[1],f=C.cd[0],l=f.trace,y=f.xRanges[u],c=f.yRanges[a];return C.xLabel=P(C.xa,[y[0],y[1]],l.xhoverformat),C.yLabel=P(C.ya,[c[0],c[1]],l.yhoverformat),t}}},21536:function(U,N,e){U.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(U,N,e){var d=e(24040),P=e(3400);U.exports=function(C,x,v,p){var r=v("x"),t=v("y"),o=P.minRowLength(r),a=P.minRowLength(t);if(!o||!a){x.visible=!1;return}x._length=Math.min(o,a);var u=d.getComponentMethod("calendars","handleTraceDefaults");u(C,x,["x","y"],p);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(U,N,e){var d=e(37008),P=e(67104),n=e(49084),C=e(29736).axisHoverFormat,x=e(92880).extendFlat;U.exports=x({x:d.x,y:d.y,z:d.z,marker:d.marker,histnorm:d.histnorm,histfunc:d.histfunc,nbinsx:d.nbinsx,xbins:d.xbins,nbinsy:d.nbinsy,ybins:d.ybins,autobinx:d.autobinx,autobiny:d.autobiny,bingroup:d.bingroup,xbingroup:d.xbingroup,ybingroup:d.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:x({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:d.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(U,N,e){var d=e(3400),P=e(56408),n=e(84952),C=e(97680),x=e(39096),v=e(81220);U.exports=function(r,t,o,a){function u(l,y){return d.coerce(r,t,v,l,y)}function f(l){return d.coerce2(r,t,v,l)}P(r,t,u,a),t.visible!==!1&&(n(r,t,u,f),C(r,t,u,a),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&x(u,a))}},65664:function(U,N,e){U.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(49084),C=e(86968).u,x=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,o=e(98192).c;U.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:o,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:x.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:x.hovertext,hoverinfo:v.hoverinfo,hovertemplate:d({},{keys:r.eventDataKeys}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:x.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},59564:function(U,N,e){var d=e(7316);N.name="icicle",N.plot=function(P,n,C,x){d.plotBasePlot(N.name,P,n,C,x)},N.clean=function(P,n,C,x){d.cleanBasePlot(N.name,P,n,C,x)}},73876:function(U,N,e){var d=e(3776);N.r=function(P,n){return d.calc(P,n)},N.q=function(P){return d._runCrossTraceCalc("icicle",P)}},7045:function(U,N,e){var d=e(3400),P=e(97376),n=e(76308),C=e(86968).Q,x=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,o=r.handleDefaults;U.exports=function(u,f,l,y){function c(m,L){return d.coerce(u,f,P,m,L)}var T=c("labels"),h=c("parents");if(!T||!T.length||!h||!h.length){f.visible=!1;return}var i=c("values");i&&i.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var g=c("text");c("texttemplate"),f.texttemplate||c("textinfo",d.isArrayOrTypedArray(g)?"text+label":"label"),c("hovertext"),c("hovertemplate");var b=c("pathbar.visible"),A="auto";x(u,f,y,c,A,{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),p(u,f,y,c);var R=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;R&&o(u,f,y,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",R?1:.7),f._hovered={marker:{line:{width:2,color:n.contrast(y.paper_bgcolor)}}},b&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(f,y,c),f._length=null}},67880:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(72736),x=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=e(96488).formatSliceLabel,a=!1;U.exports=function(f,l,y,c,T){var h=T.width,i=T.height,g=T.viewX,b=T.viewY,A=T.pathSlice,R=T.toMoveInsideSlice,m=T.strTransform,L=T.hasTransition,M=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,S=T.makeUpdateTextInterpolator,w=T.prevEntry,_={},I=f._context.staticPlot,H=f._fullLayout,O=l[0],V=O.trace,B=V.textposition.indexOf("left")!==-1,F=V.textposition.indexOf("right")!==-1,G=V.textposition.indexOf("bottom")!==-1,Y=x(y,[h,i],{flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1,orientation:V.tiling.orientation,pad:{inner:V.tiling.pad},maxDepth:V._maxDepth}),Q=Y.descendants(),te=1/0,ae=-1/0;Q.forEach(function(X){var q=X.depth;q>=V._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(te=Math.min(te,q),ae=Math.max(ae,q))}),c=c.data(Q,r.getPtId),V._maxVisibleLayers=isFinite(ae)?ae-te+1:0,c.enter().append("g").classed("slice",!0),M(c,a,_,[h,i],A),c.order();var fe=null;if(L&&w){var oe=r.getPtId(w);c.each(function(X){fe===null&&r.getPtId(X)===oe&&(fe={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var J=function(){return fe||{x0:0,x1:h,y0:0,y1:i}},ee=c;return L&&(ee=ee.transition().each("end",function(){var X=d.select(this);r.setSliceCursor(X,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ee.each(function(X){X._x0=g(X.x0),X._x1=g(X.x1),X._y0=b(X.y0),X._y1=b(X.y1),X._hoverX=g(X.x1-V.tiling.pad),X._hoverY=b(G?X.y1-V.tiling.pad/2:X.y0+V.tiling.pad/2);var q=d.select(this),le=P.ensureSingle(q,"path","surface",function(ne){ne.style("pointer-events",I?"none":"all")});L?le.transition().attrTween("d",function(ne){var he=s(ne,a,J(),[h,i],{orientation:V.tiling.orientation,flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1});return function(me){return A(he(me))}}):le.attr("d",A),q.call(t,y,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),le.call(v,X,V,f,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=o(X,y,V,l,H)||"";var $=P.ensureSingle(q,"g","slicetext"),j=P.ensureSingle($,"text","",function(ne){ne.attr("data-notex",1)}),se=P.ensureUniformFontSize(f,r.determineTextFont(V,X,H.font));j.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":B?"start":"middle").call(n.font,se).call(C.convertToTspans,f),X.textBB=n.bBox(j.node()),X.transform=R(X,{fontSize:se.size}),X.transform.fontSize=se.size,L?j.transition().attrTween("transform",function(ne){var he=S(ne,a,J(),[h,i]);return function(me){return m(he(me))}}):j.attr("transform",m(X))}),fe}},29044:function(U,N,e){U.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(U){U.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(U,N,e){var d=e(3400),P=e(90676);U.exports=function(C,x){function v(p,r){return d.coerce(C,x,P,p,r)}v("iciclecolorway",x.colorway),v("extendiciclecolors")}},25132:function(U,N,e){var d=e(74148),P=e(83024);U.exports=function(C,x,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",o=v.maxDepth,a=x[0],u=x[1];o&&(a=(C.height+1)*x[0]/Math.min(C.height+1,o),u=(C.height+1)*x[1]/Math.min(C.height+1,o));var f=d.partition().padding(v.pad.inner).size(t?[x[1],a]:[x[0],u])(C);return(t||p||r)&&P(f,x,{swapXY:t,flipX:p,flipY:r}),f}},38364:function(U,N,e){var d=e(95808),P=e(67880);U.exports=function(C,x,v,p){return d(C,x,v,p,{type:"icicle",drawDescendants:P})}},47192:function(U,N,e){var d=e(33428),P=e(76308),n=e(3400),C=e(82744).resizeText,x=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(o){var a=d.select(this),u=o[0],f=u.trace;a.style("opacity",f.opacity),a.selectAll("path.surface").each(function(l){d.select(this).call(p,l,f,r)})})}function p(r,t,o,a){var u=t.data.data,f=!t.children,l=u.i,y=n.castOption(o,l,"marker.line.color")||P.defaultLine,c=n.castOption(o,l,"marker.line.width")||0;r.call(x,t,o,a).style("stroke-width",c).call(P.stroke,y).style("opacity",f?o.leaf.opacity:null)}U.exports={style:v,styleOne:p}},95188:function(U,N,e){for(var d=e(45464),P=e(52904).zorder,n=e(21776).Ks,C=e(92880).extendFlat,x=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],p=[],r=[],t=0;t<v.length;t++){var o=x[v[t]];p.push("For the `"+v[t]+"` colormodel, it is ["+(o.zminDflt||o.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(o.zmaxDflt||o.max).join(", ")+"].")}U.exports=C({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:C({},d.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:n({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(U,N,e){var d=e(3400),P=e(47797),n=e(38248),C=e(54460),x=e(3400).maxRowLength,v=e(18712).i;U.exports=function(a,u){var f,l;if(u._hasZ)f=u.z.length,l=x(u.z);else if(u._hasSource){var y=v(u.source);f=y.height,l=y.width}var c=C.getFromId(a,u.xaxis||"x"),T=C.getFromId(a,u.yaxis||"y"),h=c.d2c(u.x0)-u.dx/2,i=T.d2c(u.y0)-u.dy/2,g,b=[h,h+l*u.dx],A=[i,i+f*u.dy];if(c&&c.type==="log")for(g=0;g<l;g++)b.push(h+g*u.dx);if(T&&T.type==="log")for(g=0;g<f;g++)A.push(i+g*u.dy);u._extremes[c._id]=C.findExtremes(c,b),u._extremes[T._id]=C.findExtremes(T,A),u._scaler=t(u);var R={x0:h,y0:i,z:u.z,w:l,h:f};return[R]};function p(o,a,u,f){return function(l){return d.constrain((l-o)*a,u,f)}}function r(o,a){return function(u){return d.constrain(u,o,a)}}function t(o){var a=P.colormodel[o.colormodel],u=a.colormodel||o.colormodel,f=u.length;o._sArray=[];for(var l=0;l<f;l++)a.min[l]!==o.zmin[l]||a.max[l]!==o.zmax[l]?o._sArray.push(p(o.zmin[l],(a.max[l]-a.min[l])/(o.zmax[l]-o.zmin[l]),a.min[l],a.max[l])):o._sArray.push(r(a.min[l],a.max[l]));return function(y){for(var c=y.slice(0,f),T=0;T<f;T++){var h=c[T];if(!n(h))return!1;c[T]=o._sArray[T](h)}return c}}},47797:function(U){U.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(N){return N.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(N){return N.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(N){return N.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(N){var e=N.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(N){var e=N.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(U,N,e){var d=e(3400),P=e(95188),n=e(47797),C=e(81792).IMAGE_URL_PREFIX;U.exports=function(v,p){function r(a,u){return d.coerce(v,p,P,a,u)}r("source"),p.source&&!p.source.match(C)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var o;p._hasZ?(r("colormodel","rgb"),o=n.colormodel[p.colormodel],r("zmin",o.zminDflt||o.min),r("zmax",o.zmaxDflt||o.max)):p._hasSource&&(p.colormodel="rgba256",o=n.colormodel[p.colormodel],p.zmin=o.zminDflt,p.zmax=o.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null,r("zorder")}},79972:function(U){U.exports=function(e,d){return"xVal"in d&&(e.x=d.xVal),"yVal"in d&&(e.y=d.yVal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e.color=d.color,e.colormodel=d.trace.colormodel,e.z||(e.z=d.color),e}},18712:function(U,N,e){var d=e(19480),P=e(81792).IMAGE_URL_PREFIX,n=e(33576).Buffer;N.i=function(C){var x=C.replace(P,""),v=new n(x,"base64");return d(v)}},24892:function(U,N,e){var d=e(93024),P=e(3400),n=P.isArrayOrTypedArray,C=e(47797);U.exports=function(v,p,r){var t=v.cd[0],o=t.trace,a=v.xa,u=v.ya;if(!(d.inbox(p-t.x0,p-(t.x0+t.w*o.dx),0)>0||d.inbox(r-t.y0,r-(t.y0+t.h*o.dy),0)>0)){var f=Math.floor((p-t.x0)/o.dx),l=Math.floor(Math.abs(r-t.y0)/o.dy),y;if(o._hasZ?y=t.z[l][f]:o._hasSource&&(y=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,l,1,1).data),!!y){var c=t.hi||o.hoverinfo,T;if(c){var h=c.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(T=!0)}var i=C.colormodel[o.colormodel],g=i.colormodel||o.colormodel,b=g.length,A=o._scaler(y),R=i.suffix,m=[];(o.hovertemplate||T)&&(m.push("["+[A[0]+R[0],A[1]+R[1],A[2]+R[2]].join(", ")),b===4&&m.push(", "+A[3]+R[3]),m.push("]"),m=m.join(""),v.extraText=g.toUpperCase()+": "+m);var L;n(o.hovertext)&&n(o.hovertext[l])?L=o.hovertext[l][f]:n(o.text)&&n(o.text[l])&&(L=o.text[l][f]);var M=u.c2p(t.y0+(l+.5)*o.dy),s=t.x0+(f+.5)*o.dx,S=t.y0+(l+.5)*o.dy,w="["+y.slice(0,o.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,f],x0:a.c2p(t.x0+f*o.dx),x1:a.c2p(t.x0+(f+1)*o.dx),y0:M,y1:M,color:A,xVal:s,xLabelVal:s,yVal:S,yLabelVal:S,zLabelVal:w,text:L,hovertemplateLabels:{zLabel:w,colorLabel:m,"color[0]Label":A[0]+R[0],"color[1]Label":A[1]+R[1],"color[2]Label":A[2]+R[2],"color[3]Label":A[3]+R[3]}})]}}}},48928:function(U,N,e){U.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(U,N,e){var d=e(33428),P=e(3400),n=P.strTranslate,C=e(9616),x=e(47797),v=e(9188),p=e(2264).STYLE;U.exports=function(t,o,a,u){var f=o.xaxis,l=o.yaxis,y=!t._context._exportedPlot&&v();P.makeTraceGroups(u,a,"im").each(function(c){var T=d.select(this),h=c[0],i=h.trace,g=(i.zsmooth==="fast"||i.zsmooth===!1&&y)&&!i._hasZ&&i._hasSource&&f.type==="linear"&&l.type==="linear";i._realImage=g;var b=h.z,A=h.x0,R=h.y0,m=h.w,L=h.h,M=i.dx,s=i.dy,S,w,_,I,H,O;for(O=0;S===void 0&&O<m;)S=f.c2p(A+O*M),O++;for(O=m;w===void 0&&O>0;)w=f.c2p(A+O*M),O--;for(O=0;I===void 0&&O<L;)I=l.c2p(R+O*s),O++;for(O=L;H===void 0&&O>0;)H=l.c2p(R+O*s),O--;if(w<S&&(_=w,w=S,S=_),H<I&&(_=I,I=H,H=_),!g){var V=.5;S=Math.max(-V*f._length,S),w=Math.min((1+V)*f._length,w),I=Math.max(-V*l._length,I),H=Math.min((1+V)*l._length,H)}var B=Math.round(w-S),F=Math.round(H-I),G=B<=0||F<=0;if(G){var Y=T.selectAll("image").data([]);Y.exit().remove();return}function Q($){var j=document.createElement("canvas");j.width=B,j.height=F;var se=j.getContext("2d",{willReadFrequently:!0}),ne=function(Oe){return P.constrain(Math.round(f.c2p(A+Oe*M)-S),0,B)},he=function(Oe){return P.constrain(Math.round(l.c2p(R+Oe*s)-I),0,F)},me=x.colormodel[i.colormodel],we=me.colormodel||i.colormodel,Te=me.fmt,Le;for(O=0;O<h.w;O++){var Ie=ne(O),ze=ne(O+1);if(!(ze===Ie||isNaN(ze)||isNaN(Ie)))for(var Me=0;Me<h.h;Me++){var _e=he(Me),Ce=he(Me+1);Ce===_e||isNaN(Ce)||isNaN(_e)||!$(O,Me)||(Le=i._scaler($(O,Me)),Le?se.fillStyle=we+"("+Te(Le).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(Ie,_e,ze-Ie,Ce-_e))}}return j}var te=T.selectAll("image").data([c]);te.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),te.exit().remove();var ae=i.zsmooth===!1?p:"";if(g){var fe=P.simpleMap(f.range,f.r2l),oe=P.simpleMap(l.range,l.r2l),J=fe[1]<fe[0],ee=oe[1]>oe[0];if(J||ee){var X=S+B/2,q=I+F/2;ae+="transform:"+n(X+"px",q+"px")+"scale("+(J?-1:1)+","+(ee?-1:1)+")"+n(-X+"px",-q+"px")+";"}}te.attr("style",ae);var le=new Promise(function($){if(i._hasZ)$();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===m&&i._canvas.el.height===L&&i._canvas.source===i.source)$();else{var j=document.createElement("canvas");j.width=m,j.height=L;var se=j.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var ne=i._image;ne.onload=function(){se.drawImage(ne,0,0),i._canvas={el:j,source:i.source},$()},ne.setAttribute("src",i.source)}}).then(function(){var $,j;if(i._hasZ)j=Q(function(he,me){var we=b[me][he];return P.isTypedArray(we)&&(we=Array.from(we)),we}),$=j.toDataURL("image/png");else if(i._hasSource)if(g)$=i.source;else{var se=i._canvas.el.getContext("2d",{willReadFrequently:!0}),ne=se.getImageData(0,0,m,L).data;j=Q(function(he,me){var we=4*(me*m+he);return[ne[we],ne[we+1],ne[we+2],ne[we+3]]}),$=j.toDataURL("image/png")}te.attr({"xlink:href":$,height:F,width:B,x:S,y:I})});t._promises.push(le)})}},28576:function(U,N,e){var d=e(33428);U.exports=function(n){d.select(n).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},89864:function(U,N,e){var d=e(92880).extendFlat,P=e(92880).extendDeep,n=e(67824).overrideAll,C=e(25376),x=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),o=e(29736).descriptionOnlyNumbers,a=C({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:x.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},u,{range:f}));U.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:d({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:o("value")},font:d({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:o("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:d({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:f,visible:d({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:d({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:C({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:d({},u.line.color,{}),width:d({},u.line.width,{dflt:1}),editType:"plot"},thickness:d({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(U,N,e){var d=e(7316);N.name="indicator",N.plot=function(P,n,C,x){d.plotBasePlot(N.name,P,n,C,x)},N.clean=function(P,n,C,x){d.cleanBasePlot(N.name,P,n,C,x)}},79136:function(U){function N(e,d){var P=[],n=d.value;typeof d._lastValue!="number"&&(d._lastValue=d.value);var C=d._lastValue,x=C;return d._hasDelta&&typeof d.delta.reference=="number"&&(x=d.delta.reference),P[0]={y:n,lastY:C,delta:n-x,relativeDelta:(n-x)/x},P}U.exports={calc:N}},12096:function(U){U.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(U,N,e){var d=e(3400),P=e(89864),n=e(86968).Q,C=e(31780),x=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),o=e(42568);function a(f,l,y,c){function T(B,F){return d.coerce(f,l,P,B,F)}n(l,c,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var h=T("value");l._range=[0,typeof h=="number"?1.5*h:1];var i=new Array(2),g;if(l._hasNumber){T("number.valueformat");var b=d.extendFlat({},c.font);b.size=void 0,d.coerceFont(T,"number.font",b),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,i[0]=!0),T("number.prefix"),T("number.suffix"),g=l.number.font.size}var A;if(l._hasDelta){var R=d.extendFlat({},c.font);R.size=void 0,d.coerceFont(T,"delta.font",R),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(g||v.defaultNumberFontSize),i[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),A=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||i[0])&&(!l._hasDelta||i[1])||!1;var m=d.extendFlat({},c.font);m.size=.25*(g||A||v.defaultNumberFontSize),d.coerceFont(T,"title.font",m),T("title.text");var L,M,s,S;function w(B,F){return d.coerce(L,M,P.gauge,B,F)}function _(B,F){return d.coerce(s,S,P.gauge.axis,B,F)}if(l._hasGauge){L=f.gauge,L||(L={}),M=C.newContainer(l,"gauge"),w("shape");var I=l._isBullet=l.gauge.shape==="bullet";I||T("title.align","center");var H=l._isAngular=l.gauge.shape==="angular";H||T("align","center"),w("bgcolor",c.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var O=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);w("bar.thickness",O),x(L,M,{name:"steps",handleItemDefaults:u}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),s={},L&&(s=L.axis||{}),S=C.newContainer(M,"axis"),_("visible"),l._range=_("range",l._range);var V={font:c.font,noAutotickangles:!0,outerTicks:!0,noTicklabelshift:!0,noTicklabelstandoff:!0};p(s,S,_,"linear"),o(s,S,_,"linear",V),t(s,S,_,"linear",V),r(s,S,_,V)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function u(f,l){function y(c,T){return d.coerce(f,l,P.gauge.steps,c,T)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}U.exports={supplyDefaults:a}},43480:function(U,N,e){U.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(U,N,e){var d=e(33428),P=e(67756).qy,n=e(67756).Gz,C=e(3400),x=C.strScale,v=C.strTranslate,p=C.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),o=e(12096),a=e(72736),u=e(54460),f=e(28336),l=e(37668),y=e(94724),c=e(76308),T={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},i=/[yzafpnµmkMGTPEZY]/;function g(I){return I&&I.duration>0}U.exports=function(H,O,V,B){var F=H._fullLayout,G;g(V)&&B&&(G=B()),C.makeTraceGroups(F._indicatorlayer,O,"trace").each(function(Y){var Q=Y[0],te=Q.trace,ae=d.select(this),fe=te._hasGauge,oe=te._isAngular,J=te._isBullet,ee=te.domain,X={w:F._size.w*(ee.x[1]-ee.x[0]),h:F._size.h*(ee.y[1]-ee.y[0]),l:F._size.l+F._size.w*ee.x[0],r:F._size.r+F._size.w*(1-ee.x[1]),t:F._size.t+F._size.h*(1-ee.y[1]),b:F._size.b+F._size.h*ee.y[0]},q=X.l+X.w/2,le=X.t+X.h/2,$=Math.min(X.w/2,X.h),j=o.innerRadius*$,se,ne,he,me=te.align||"center";if(ne=le,!fe)se=X.l+h[me]*X.w,he=function(Pe){return s(Pe,X.w,X.h)};else if(oe&&(se=q,ne=le+$/2,he=function(Pe){return S(Pe,.9*j)}),J){var we=o.bulletPadding,Te=1-o.bulletNumberDomainSize+we;se=X.l+(Te+(1-Te)*h[me])*X.w,he=function(Pe){return s(Pe,(o.bulletNumberDomainSize-we)*X.w,X.h)}}R(H,ae,Y,{numbersX:se,numbersY:ne,numbersScaler:he,transitionOpts:V,onComplete:G});var Le,Ie;fe&&(Le={range:te.gauge.axis.range,color:te.gauge.bgcolor,line:{color:te.gauge.bordercolor,width:0},thickness:1},Ie={range:te.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:te.gauge.bordercolor,width:te.gauge.borderwidth},thickness:1});var ze=ae.selectAll("g.angular").data(oe?Y:[]);ze.exit().remove();var Me=ae.selectAll("g.angularaxis").data(oe?Y:[]);Me.exit().remove(),oe&&A(H,ae,Y,{radius:$,innerRadius:j,gauge:ze,layer:Me,size:X,gaugeBg:Le,gaugeOutline:Ie,transitionOpts:V,onComplete:G});var _e=ae.selectAll("g.bullet").data(J?Y:[]);_e.exit().remove();var Ce=ae.selectAll("g.bulletaxis").data(J?Y:[]);Ce.exit().remove(),J&&b(H,ae,Y,{gauge:_e,layer:Ce,size:X,gaugeBg:Le,gaugeOutline:Ie,transitionOpts:V,onComplete:G});var Oe=ae.selectAll("text.title").data(Y);Oe.exit().remove(),Oe.enter().append("text").classed("title",!0),Oe.attr("text-anchor",function(){return J?T.right:T[te.title.align]}).text(te.title.text).call(t.font,te.title.font).call(a.convertToTspans,H),Oe.attr("transform",function(){var Pe=X.l+X.w*h[te.title.align],Ge,Ze=o.titlePadding,it=t.bBox(Oe.node());if(fe){if(oe)if(te.gauge.axis.visible){var Je=t.bBox(Me.node());Ge=Je.top-Ze-it.bottom}else Ge=X.t+X.h/2-$/2-it.bottom-Ze;J&&(Ge=ne-(it.top+it.bottom)/2,Pe=X.l-o.bulletPadding*X.w)}else Ge=te._numbersTop-Ze-it.bottom;return v(Pe,Ge)})})};function b(I,H,O,V){var B=O[0].trace,F=V.gauge,G=V.layer,Y=V.gaugeBg,Q=V.gaugeOutline,te=V.size,ae=B.domain,fe=V.transitionOpts,oe=V.onComplete,J,ee,X,q,le;F.enter().append("g").classed("bullet",!0),F.attr("transform",v(te.l,te.t)),G.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),G.selectAll("g.xbulletaxistick,path,text").remove();var $=te.h,j=B.gauge.bar.thickness*$,se=ae.x[0],ne=ae.x[0]+(ae.x[1]-ae.x[0])*(B._hasNumber||B._hasDelta?1-o.bulletNumberDomainSize:1);J=M(I,B.gauge.axis),J._id="xbulletaxis",J.domain=[se,ne],J.setScale(),ee=u.calcTicks(J),X=u.makeTransTickFn(J),q=u.getTickSigns(J)[2],le=te.t+te.h,J.visible&&(u.drawTicks(I,J,{vals:J.ticks==="inside"?u.clipEnds(J,ee):ee,layer:G,path:u.makeTickPath(J,le,q),transFn:X}),u.drawLabels(I,J,{vals:ee,layer:G,transFn:X,labelFns:u.makeLabelFns(J,le)}));function he(Me){Me.attr("width",function(_e){return Math.max(0,J.c2p(_e.range[1])-J.c2p(_e.range[0]))}).attr("x",function(_e){return J.c2p(_e.range[0])}).attr("y",function(_e){return .5*(1-_e.thickness)*$}).attr("height",function(_e){return _e.thickness*$})}var me=[Y].concat(B.gauge.steps),we=F.selectAll("g.bg-bullet").data(me);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(he).call(m),we.exit().remove();var Te=F.selectAll("g.value-bullet").data([B.gauge.bar]);Te.enter().append("g").classed("value-bullet",!0).append("rect"),Te.select("rect").attr("height",j).attr("y",($-j)/2).call(m),g(fe)?Te.select("rect").transition().duration(fe.duration).ease(fe.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()}).attr("width",Math.max(0,J.c2p(Math.min(B.gauge.axis.range[1],O[0].y)))):Te.select("rect").attr("width",typeof O[0].y=="number"?Math.max(0,J.c2p(Math.min(B.gauge.axis.range[1],O[0].y))):0),Te.exit().remove();var Le=O.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),Ie=F.selectAll("g.threshold-bullet").data(Le);Ie.enter().append("g").classed("threshold-bullet",!0).append("line"),Ie.select("line").attr("x1",J.c2p(B.gauge.threshold.value)).attr("x2",J.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*$).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*$).call(c.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),Ie.exit().remove();var ze=F.selectAll("g.gauge-outline").data([Q]);ze.enter().append("g").classed("gauge-outline",!0).append("rect"),ze.select("rect").call(he).call(m),ze.exit().remove()}function A(I,H,O,V){var B=O[0].trace,F=V.size,G=V.radius,Y=V.innerRadius,Q=V.gaugeBg,te=V.gaugeOutline,ae=[F.l+F.w/2,F.t+F.h/2+G/2],fe=V.gauge,oe=V.layer,J=V.transitionOpts,ee=V.onComplete,X=Math.PI/2;function q(et){var ft=B.gauge.axis.range[0],vt=B.gauge.axis.range[1],dt=(et-ft)/(vt-ft)*Math.PI-X;return dt<-X?-X:dt>X?X:dt}function le(et){return d.svg.arc().innerRadius((Y+G)/2-et/2*(G-Y)).outerRadius((Y+G)/2+et/2*(G-Y)).startAngle(-X)}function $(et){et.attr("d",function(ft){return le(ft.thickness).startAngle(q(ft.range[0])).endAngle(q(ft.range[1]))()})}var j,se,ne,he;fe.enter().append("g").classed("angular",!0),fe.attr("transform",v(ae[0],ae[1])),oe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),oe.selectAll("g.xangularaxistick,path,text").remove(),j=M(I,B.gauge.axis),j.type="linear",j.range=B.gauge.axis.range,j._id="xangularaxis",j.ticklabeloverflow="allow",j.setScale();var me=function(et){return(j.range[0]-et.x)/(j.range[1]-j.range[0])*Math.PI+Math.PI},we={},Te=u.makeLabelFns(j,0),Le=Te.labelStandoff;we.xFn=function(et){var ft=me(et);return Math.cos(ft)*Le},we.yFn=function(et){var ft=me(et),vt=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(Le+et.fontSize*vt)+Math.abs(Math.cos(ft))*(et.fontSize*r)},we.anchorFn=function(et){var ft=me(et),vt=Math.cos(ft);return Math.abs(vt)<.1?"middle":vt>0?"start":"end"},we.heightFn=function(et,ft,vt){var dt=me(et);return-.5*(1+Math.sin(dt))*vt};var Ie=function(et){return v(ae[0]+G*Math.cos(et),ae[1]-G*Math.sin(et))};ne=function(et){return Ie(me(et))};var ze=function(et){var ft=me(et);return Ie(ft)+"rotate("+-p(ft)+")"};if(se=u.calcTicks(j),he=u.getTickSigns(j)[2],j.visible){he=j.ticks==="inside"?-1:1;var Me=(j.linewidth||1)/2;u.drawTicks(I,j,{vals:se,layer:oe,path:"M"+he*Me+",0h"+he*j.ticklen,transFn:ze}),u.drawLabels(I,j,{vals:se,layer:oe,transFn:ne,labelFns:we})}var _e=[Q].concat(B.gauge.steps),Ce=fe.selectAll("g.bg-arc").data(_e);Ce.enter().append("g").classed("bg-arc",!0).append("path"),Ce.select("path").call($).call(m),Ce.exit().remove();var Oe=le(B.gauge.bar.thickness),Pe=fe.selectAll("g.value-arc").data([B.gauge.bar]);Pe.enter().append("g").classed("value-arc",!0).append("path");var Ge=Pe.select("path");g(J)?(Ge.transition().duration(J.duration).ease(J.easing).each("end",function(){ee&&ee()}).each("interrupt",function(){ee&&ee()}).attrTween("d",L(Oe,q(O[0].lastY),q(O[0].y))),B._lastValue=O[0].y):Ge.attr("d",typeof O[0].y=="number"?Oe.endAngle(q(O[0].y)):"M0,0Z"),Ge.call(m),Pe.exit().remove(),_e=[];var Ze=B.gauge.threshold.value;(Ze||Ze===0)&&_e.push({range:[Ze,Ze],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var it=fe.selectAll("g.threshold-arc").data(_e);it.enter().append("g").classed("threshold-arc",!0).append("path"),it.select("path").call($).call(m),it.exit().remove();var Je=fe.selectAll("g.gauge-outline").data([te]);Je.enter().append("g").classed("gauge-outline",!0).append("path"),Je.select("path").call($).call(m),Je.exit().remove()}function R(I,H,O,V){var B=O[0].trace,F=V.numbersX,G=V.numbersY,Y=B.align||"center",Q=T[Y],te=V.transitionOpts,ae=V.onComplete,fe=C.ensureSingle(H,"g","numbers"),oe,J,ee,X=[];B._hasNumber&&X.push("number"),B._hasDelta&&(X.push("delta"),B.delta.position==="left"&&X.reverse());var q=fe.selectAll("text").data(X);q.enter().append("text"),q.attr("text-anchor",function(){return Q}).attr("class",function(Ie){return Ie}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function le(Ie,ze,Me,_e){if(Ie.match("s")&&Me>=0!=_e>=0&&!ze(Me).slice(-1).match(i)&&!ze(_e).slice(-1).match(i)){var Ce=Ie.slice().replace("s","f").replace(/\d+/,function(Pe){return parseInt(Pe)-1}),Oe=M(I,{tickformat:Ce});return function(Pe){return Math.abs(Pe)<1?u.tickText(Oe,Pe).text:ze(Pe)}}else return ze}function $(){var Ie=M(I,{tickformat:B.number.valueformat},B._range);Ie.setScale(),u.prepTicks(Ie);var ze=function(Pe){return u.tickText(Ie,Pe).text},Me=B.number.suffix,_e=B.number.prefix,Ce=fe.select("text.number");function Oe(){var Pe=typeof O[0].y=="number"?_e+ze(O[0].y)+Me:"-";Ce.text(Pe).call(t.font,B.number.font).call(a.convertToTspans,I)}return g(te)?Ce.transition().duration(te.duration).ease(te.easing).each("end",function(){Oe(),ae&&ae()}).each("interrupt",function(){Oe(),ae&&ae()}).attrTween("text",function(){var Pe=d.select(this),Ge=n(O[0].lastY,O[0].y);B._lastValue=O[0].y;var Ze=le(B.number.valueformat,ze,O[0].lastY,O[0].y);return function(it){Pe.text(_e+Ze(Ge(it))+Me)}}):Oe(),oe=w(_e+ze(O[0].y)+Me,B.number.font,Q,I),Ce}function j(){var Ie=M(I,{tickformat:B.delta.valueformat},B._range);Ie.setScale(),u.prepTicks(Ie);var ze=function(it){return u.tickText(Ie,it).text},Me=B.delta.suffix,_e=B.delta.prefix,Ce=function(it){var Je=B.delta.relative?it.relativeDelta:it.delta;return Je},Oe=function(it,Je){return it===0||typeof it!="number"||isNaN(it)?"-":(it>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+_e+Je(it)+Me},Pe=function(it){return it.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=Ce(O[0]));var Ge=fe.select("text.delta");Ge.call(t.font,B.delta.font).call(c.fill,Pe({delta:B._deltaLastValue}));function Ze(){Ge.text(Oe(Ce(O[0]),ze)).call(c.fill,Pe(O[0])).call(a.convertToTspans,I)}return g(te)?Ge.transition().duration(te.duration).ease(te.easing).tween("text",function(){var it=d.select(this),Je=Ce(O[0]),et=B._deltaLastValue,ft=le(B.delta.valueformat,ze,et,Je),vt=n(et,Je);return B._deltaLastValue=Je,function(dt){it.text(Oe(vt(dt),ft)),it.call(c.fill,Pe({delta:vt(dt)}))}}).each("end",function(){Ze(),ae&&ae()}).each("interrupt",function(){Ze(),ae&&ae()}):Ze(),J=w(Oe(Ce(O[0]),ze),B.delta.font,Q,I),Ge}var se=B.mode+B.align,ne;if(B._hasDelta&&(ne=j(),se+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,se+=B.delta.increasing.symbol+B.delta.decreasing.symbol,ee=J),B._hasNumber&&($(),se+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,ee=oe),B._hasDelta&&B._hasNumber){var he=[(oe.left+oe.right)/2,(oe.top+oe.bottom)/2],me=[(J.left+J.right)/2,(J.top+J.bottom)/2],we,Te,Le=.75*B.delta.font.size;B.delta.position==="left"&&(we=_(B,"deltaPos",0,-1*(oe.width*h[B.align]+J.width*(1-h[B.align])+Le),se,Math.min),Te=he[1]-me[1],ee={width:oe.width+J.width+Le,height:Math.max(oe.height,J.height),left:J.left+we,right:oe.right,top:Math.min(oe.top,J.top+Te),bottom:Math.max(oe.bottom,J.bottom+Te)}),B.delta.position==="right"&&(we=_(B,"deltaPos",0,oe.width*(1-h[B.align])+J.width*h[B.align]+Le,se,Math.max),Te=he[1]-me[1],ee={width:oe.width+J.width+Le,height:Math.max(oe.height,J.height),left:oe.left,right:J.right+we,top:Math.min(oe.top,J.top+Te),bottom:Math.max(oe.bottom,J.bottom+Te)}),B.delta.position==="bottom"&&(we=null,Te=J.height,ee={width:Math.max(oe.width,J.width),height:oe.height+J.height,left:Math.min(oe.left,J.left),right:Math.max(oe.right,J.right),top:oe.bottom-oe.height,bottom:oe.bottom+J.height}),B.delta.position==="top"&&(we=null,Te=oe.top,ee={width:Math.max(oe.width,J.width),height:oe.height+J.height,left:Math.min(oe.left,J.left),right:Math.max(oe.right,J.right),top:oe.bottom-oe.height-J.height,bottom:oe.bottom}),ne.attr({dx:we,dy:Te})}(B._hasNumber||B._hasDelta)&&fe.attr("transform",function(){var Ie=V.numbersScaler(ee);se+=Ie[2];var ze=_(B,"numbersScale",1,Ie[0],se,Math.min),Me;B._scaleNumbers||(ze=1),B._isAngular?Me=G-ze*ee.bottom:Me=G-ze*(ee.top+ee.bottom)/2,B._numbersTop=ze*ee.top+Me;var _e=ee[Y];Y==="center"&&(_e=(ee.left+ee.right)/2);var Ce=F-ze*_e;return Ce=_(B,"numbersTranslate",0,Ce,se,Math.max),v(Ce,Me)+x(ze)})}function m(I){I.each(function(H){c.stroke(d.select(this),H.line.color)}).each(function(H){c.fill(d.select(this),H.color)}).style("stroke-width",function(H){return H.line.width})}function L(I,H,O){return function(){var V=P(H,O);return function(B){return I.endAngle(V(B))()}}}function M(I,H,O){var V=I._fullLayout,B=C.extendFlat({type:"linear",ticks:"outside",range:O,showline:!0},H),F={type:"linear",_id:"x"+H._id},G={letter:"x",font:V.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function Y(Q,te){return C.coerce(B,F,y,Q,te)}return f(B,F,Y,G,V),l(B,F,Y,G),F}function s(I,H,O){var V=Math.min(H/I.width,O/I.height);return[V,I,H+"x"+O]}function S(I,H){var O=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),V=H/O;return[V,I,H]}function w(I,H,O,V){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),F=d.select(B);return F.text(I).attr("x",0).attr("y",0).attr("text-anchor",O).attr("data-unformatted",I).call(a.convertToTspans,V).call(t.font,H),t.bBox(F.node())}function _(I,H,O,V,B,F){var G="_cache"+H;I[G]&&I[G].key===B||(I[G]={key:B,value:O});var Y=C.aggNums(F,null,[I[G].value,V],2);return I[G].value=Y,Y}},50048:function(U,N,e){var d=e(49084),P=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(52948),x=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(a){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(a){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var o=U.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},x.showlegend,{dflt:!1})},d("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},x.hoverinfo)}),"calc","nested");o.flatshading.dflt=!0,o.lighting.facenormalsepsilon.dflt=0,o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},62624:function(U,N,e){var d=e(47128),P=e(3832).processGrid,n=e(3832).filter;U.exports=function(x,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=n(v.x,v._len),v._y=n(v.y,v._len),v._z=n(v.z,v._len),v._value=n(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,o=0;o<v._len;o++){var a=v._value[o];r=Math.min(r,a),t=Math.max(t,a)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,d(x,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(U,N,e){var d=e(67792).gl_mesh3d,P=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,C=e(43080),x=e(8932).extractOpts,v=e(52094),p=function(f,l){for(var y=l.length-1;y>0;y--){var c=Math.min(l[y],l[y-1]),T=Math.max(l[y],l[y-1]);if(T>c&&c<f&&f<=T)return{id:y,distRatio:(T-f)/(T-c)}}return{id:0,distRatio:0}};function r(f,l,y){this.scene=f,this.uid=y,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(f){if(f.object===this.mesh){var l=f.data.index,y=this.data._meshX[l],c=this.data._meshY[l],T=this.data._meshZ[l],h=this.data._Ys.length,i=this.data._Zs.length,g=p(y,this.data._Xs).id,b=p(c,this.data._Ys).id,A=p(T,this.data._Zs).id,R=f.index=A+i*b+i*h*g;f.traceCoordinate=[this.data._meshX[R],this.data._meshY[R],this.data._meshZ[R],this.data._value[R]];var m=this.data.hovertext||this.data.text;return n(m)&&m[R]!==void 0?f.textLabel=m[R]:m&&(f.textLabel=m),!0}},t.update=function(f){var l=this.scene,y=l.fullSceneLayout;this.data=a(f);function c(b,A,R,m){return A.map(function(L){return b.d2l(L,0,m)*R})}var T=v(c(y.xaxis,f._meshX,l.dataScale[0],f.xcalendar),c(y.yaxis,f._meshY,l.dataScale[1],f.ycalendar),c(y.zaxis,f._meshZ,l.dataScale[2],f.zcalendar)),h=v(f._meshI,f._meshJ,f._meshK),i={positions:T,cells:h,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:C(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},g=x(f);i.vertexIntensity=f._meshIntensity,i.vertexIntensityBounds=[g.min,g.max],i.colormap=P(f),this.mesh.update(i)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var o=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(f){f._meshI=[],f._meshJ=[],f._meshK=[];var l=f.surface.show,y=f.spaceframe.show,c=f.surface.fill,T=f.spaceframe.fill,h=!1,i=!1,g=0,b,A,R=f._Xs,m=f._Ys,L=f._Zs,M=R.length,s=m.length,S=L.length,w=o.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),_=function(je,Ke,ke){switch(w){case 5:return ke+S*Ke+S*s*je;case 4:return ke+S*je+S*M*Ke;case 3:return Ke+s*ke+s*S*je;case 2:return Ke+s*je+s*M*ke;case 1:return je+M*ke+M*S*Ke;default:return je+M*Ke+M*s*ke}},I=f._minValues,H=f._maxValues,O=f._vMin,V=f._vMax,B,F,G,Y;function Q(je,Ke,ke){for(var Ue=Y.length,Ve=A;Ve<Ue;Ve++)if(je===B[Ve]&&Ke===F[Ve]&&ke===G[Ve])return Ve;return-1}function te(){A=b}function ae(){B=[],F=[],G=[],Y=[],b=0,te()}function fe(je,Ke,ke,Ue){return B.push(je),F.push(Ke),G.push(ke),Y.push(Ue),b++,b-1}function oe(je,Ke,ke){return f._meshI.push(je),f._meshJ.push(Ke),f._meshK.push(ke),g++,g-1}function J(je,Ke,ke){for(var Ue=[],Ve=0;Ve<je.length;Ve++)Ue[Ve]=(je[Ve]+Ke[Ve]+ke[Ve])/3;return Ue}function ee(je,Ke,ke){for(var Ue=[],Ve=0;Ve<je.length;Ve++)Ue[Ve]=je[Ve]*(1-ke)+ke*Ke[Ve];return Ue}var X;function q(je){X=je}function le(je,Ke){var ke=je[0],Ue=je[1],Ve=je[2],Re=J(ke,Ue,Ve),de=Math.sqrt(1-X),be=ee(Re,ke,de),Ne=ee(Re,Ue,de),Ye=ee(Re,Ve,de),at=Ke[0],lt=Ke[1],Ht=Ke[2];return{xyzv:[[ke,Ue,Ne],[Ne,be,ke],[Ue,Ve,Ye],[Ye,Ne,Ue],[Ve,ke,be],[be,Ye,Ve]],abc:[[at,lt,-1],[-1,-1,at],[lt,Ht,-1],[-1,-1,lt],[Ht,at,-1],[-1,-1,Ht]]}}function $(je,Ke){return je==="all"||je===null?!0:je.indexOf(Ke)>-1}function j(je,Ke){return je===null?Ke:je}function se(je,Ke,ke){te();var Ue=[Ke],Ve=[ke];if(X>=1)Ue=[Ke],Ve=[ke];else if(X>0){var Re=le(Ke,ke);Ue=Re.xyzv,Ve=Re.abc}for(var de=0;de<Ue.length;de++){Ke=Ue[de],ke=Ve[de];for(var be=[],Ne=0;Ne<3;Ne++){var Ye=Ke[Ne][0],at=Ke[Ne][1],lt=Ke[Ne][2],Ht=Ke[Ne][3],Yt=ke[Ne]>-1?ke[Ne]:Q(Ye,at,lt);Yt>-1?be[Ne]=Yt:be[Ne]=fe(Ye,at,lt,j(je,Ht))}oe(be[0],be[1],be[2])}}function ne(je,Ke,ke){var Ue=function(Ve,Re,de){se(je,[Ke[Ve],Ke[Re],Ke[de]],[ke[Ve],ke[Re],ke[de]])};Ue(0,1,2),Ue(2,3,0)}function he(je,Ke,ke){var Ue=function(Ve,Re,de){se(je,[Ke[Ve],Ke[Re],Ke[de]],[ke[Ve],ke[Re],ke[de]])};Ue(0,1,2),Ue(3,0,1),Ue(2,3,0),Ue(1,2,3)}function me(je,Ke,ke,Ue){var Ve=je[3];Ve<ke&&(Ve=ke),Ve>Ue&&(Ve=Ue);for(var Re=(je[3]-Ve)/(je[3]-Ke[3]+1e-9),de=[],be=0;be<4;be++)de[be]=(1-Re)*je[be]+Re*Ke[be];return de}function we(je,Ke,ke){return je>=Ke&&je<=ke}function Te(je){var Ke=.001*(V-O);return je>=O-Ke&&je<=V+Ke}function Le(je){for(var Ke=[],ke=0;ke<4;ke++){var Ue=je[ke];Ke.push([f._x[Ue],f._y[Ue],f._z[Ue],f._value[Ue]])}return Ke}var Ie=3;function ze(je,Ke,ke,Ue,Ve,Re){Re||(Re=1),ke=[-1,-1,-1];var de=!1,be=[we(Ke[0][3],Ue,Ve),we(Ke[1][3],Ue,Ve),we(Ke[2][3],Ue,Ve)];if(!be[0]&&!be[1]&&!be[2])return!1;var Ne=function(at,lt,Ht){return Te(lt[0][3])&&Te(lt[1][3])&&Te(lt[2][3])?(se(at,lt,Ht),!0):Re<Ie?ze(at,lt,Ht,O,V,++Re):!1};if(be[0]&&be[1]&&be[2])return Ne(je,Ke,ke)||de;var Ye=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(at){if(be[at[0]]&&be[at[1]]&&!be[at[2]]){var lt=Ke[at[0]],Ht=Ke[at[1]],Yt=Ke[at[2]],Tt=me(Yt,lt,Ue,Ve),Lt=me(Yt,Ht,Ue,Ve);de=Ne(je,[Lt,Tt,lt],[-1,-1,ke[at[0]]])||de,de=Ne(je,[lt,Ht,Lt],[ke[at[0]],ke[at[1]],-1])||de,Ye=!0}}),Ye||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(at){if(be[at[0]]&&!be[at[1]]&&!be[at[2]]){var lt=Ke[at[0]],Ht=Ke[at[1]],Yt=Ke[at[2]],Tt=me(Ht,lt,Ue,Ve),Lt=me(Yt,lt,Ue,Ve);de=Ne(je,[Lt,Tt,lt],[-1,-1,ke[at[0]]])||de,Ye=!0}}),de}function Me(je,Ke,ke,Ue){var Ve=!1,Re=Le(Ke),de=[we(Re[0][3],ke,Ue),we(Re[1][3],ke,Ue),we(Re[2][3],ke,Ue),we(Re[3][3],ke,Ue)];if(!de[0]&&!de[1]&&!de[2]&&!de[3])return Ve;if(de[0]&&de[1]&&de[2]&&de[3])return i&&(Ve=he(je,Re,Ke)||Ve),Ve;var be=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(de[Ne[0]]&&de[Ne[1]]&&de[Ne[2]]&&!de[Ne[3]]){var Ye=Re[Ne[0]],at=Re[Ne[1]],lt=Re[Ne[2]],Ht=Re[Ne[3]];if(i)Ve=se(je,[Ye,at,lt],[Ke[Ne[0]],Ke[Ne[1]],Ke[Ne[2]]])||Ve;else{var Yt=me(Ht,Ye,ke,Ue),Tt=me(Ht,at,ke,Ue),Lt=me(Ht,lt,ke,Ue);Ve=se(null,[Yt,Tt,Lt],[-1,-1,-1])||Ve}be=!0}}),be||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(de[Ne[0]]&&de[Ne[1]]&&!de[Ne[2]]&&!de[Ne[3]]){var Ye=Re[Ne[0]],at=Re[Ne[1]],lt=Re[Ne[2]],Ht=Re[Ne[3]],Yt=me(lt,Ye,ke,Ue),Tt=me(lt,at,ke,Ue),Lt=me(Ht,at,ke,Ue),Kt=me(Ht,Ye,ke,Ue);i?(Ve=se(je,[Ye,Kt,Yt],[Ke[Ne[0]],-1,-1])||Ve,Ve=se(je,[at,Tt,Lt],[Ke[Ne[1]],-1,-1])||Ve):Ve=ne(null,[Yt,Tt,Lt,Kt],[-1,-1,-1,-1])||Ve,be=!0}}),be)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(de[Ne[0]]&&!de[Ne[1]]&&!de[Ne[2]]&&!de[Ne[3]]){var Ye=Re[Ne[0]],at=Re[Ne[1]],lt=Re[Ne[2]],Ht=Re[Ne[3]],Yt=me(at,Ye,ke,Ue),Tt=me(lt,Ye,ke,Ue),Lt=me(Ht,Ye,ke,Ue);i?(Ve=se(je,[Ye,Yt,Tt],[Ke[Ne[0]],-1,-1])||Ve,Ve=se(je,[Ye,Tt,Lt],[Ke[Ne[0]],-1,-1])||Ve,Ve=se(je,[Ye,Lt,Yt],[Ke[Ne[0]],-1,-1])||Ve):Ve=se(null,[Yt,Tt,Lt],[-1,-1,-1])||Ve,be=!0}}),Ve}function _e(je,Ke,ke,Ue,Ve,Re,de,be,Ne,Ye,at){var lt=!1;return h&&($(je,"A")&&(lt=Me(null,[Ke,ke,Ue,Re],Ye,at)||lt),$(je,"B")&&(lt=Me(null,[ke,Ue,Ve,Ne],Ye,at)||lt),$(je,"C")&&(lt=Me(null,[ke,Re,de,Ne],Ye,at)||lt),$(je,"D")&&(lt=Me(null,[Ue,Re,be,Ne],Ye,at)||lt),$(je,"E")&&(lt=Me(null,[ke,Ue,Re,Ne],Ye,at)||lt)),i&&(lt=Me(je,[ke,Ue,Re,Ne],Ye,at)||lt),lt}function Ce(je,Ke,ke,Ue,Ve,Re,de,be){return[be[0]===!0?!0:ze(je,Le([Ke,ke,Ue]),[Ke,ke,Ue],Re,de),be[1]===!0?!0:ze(je,Le([Ue,Ve,Ke]),[Ue,Ve,Ke],Re,de)]}function Oe(je,Ke,ke,Ue,Ve,Re,de,be,Ne){return be?Ce(je,Ke,ke,Ve,Ue,Re,de,Ne):Ce(je,ke,Ve,Ue,Ke,Re,de,Ne)}function Pe(je,Ke,ke,Ue,Ve,Re,de){var be=!1,Ne,Ye,at,lt,Ht=function(){be=ze(je,[Ne,Ye,at],[-1,-1,-1],Ve,Re)||be,be=ze(je,[at,lt,Ne],[-1,-1,-1],Ve,Re)||be},Yt=de[0],Tt=de[1],Lt=de[2];return Yt&&(Ne=ee(Le([_(Ke,ke-0,Ue-0)])[0],Le([_(Ke-1,ke-0,Ue-0)])[0],Yt),Ye=ee(Le([_(Ke,ke-0,Ue-1)])[0],Le([_(Ke-1,ke-0,Ue-1)])[0],Yt),at=ee(Le([_(Ke,ke-1,Ue-1)])[0],Le([_(Ke-1,ke-1,Ue-1)])[0],Yt),lt=ee(Le([_(Ke,ke-1,Ue-0)])[0],Le([_(Ke-1,ke-1,Ue-0)])[0],Yt),Ht()),Tt&&(Ne=ee(Le([_(Ke-0,ke,Ue-0)])[0],Le([_(Ke-0,ke-1,Ue-0)])[0],Tt),Ye=ee(Le([_(Ke-0,ke,Ue-1)])[0],Le([_(Ke-0,ke-1,Ue-1)])[0],Tt),at=ee(Le([_(Ke-1,ke,Ue-1)])[0],Le([_(Ke-1,ke-1,Ue-1)])[0],Tt),lt=ee(Le([_(Ke-1,ke,Ue-0)])[0],Le([_(Ke-1,ke-1,Ue-0)])[0],Tt),Ht()),Lt&&(Ne=ee(Le([_(Ke-0,ke-0,Ue)])[0],Le([_(Ke-0,ke-0,Ue-1)])[0],Lt),Ye=ee(Le([_(Ke-0,ke-1,Ue)])[0],Le([_(Ke-0,ke-1,Ue-1)])[0],Lt),at=ee(Le([_(Ke-1,ke-1,Ue)])[0],Le([_(Ke-1,ke-1,Ue-1)])[0],Lt),lt=ee(Le([_(Ke-1,ke-0,Ue)])[0],Le([_(Ke-1,ke-0,Ue-1)])[0],Lt),Ht()),be}function Ge(je,Ke,ke,Ue,Ve,Re,de,be,Ne,Ye,at,lt){var Ht=je;return lt?(h&&je==="even"&&(Ht=null),_e(Ht,Ke,ke,Ue,Ve,Re,de,be,Ne,Ye,at)):(h&&je==="odd"&&(Ht=null),_e(Ht,Ne,be,de,Re,Ve,Ue,ke,Ke,Ye,at))}function Ze(je,Ke,ke,Ue,Ve){for(var Re=[],de=0,be=0;be<Ke.length;be++)for(var Ne=Ke[be],Ye=1;Ye<S;Ye++)for(var at=1;at<s;at++)Re.push(Oe(je,_(Ne,at-1,Ye-1),_(Ne,at-1,Ye),_(Ne,at,Ye-1),_(Ne,at,Ye),ke,Ue,(Ne+at+Ye)%2,Ve&&Ve[de]?Ve[de]:[])),de++;return Re}function it(je,Ke,ke,Ue,Ve){for(var Re=[],de=0,be=0;be<Ke.length;be++)for(var Ne=Ke[be],Ye=1;Ye<M;Ye++)for(var at=1;at<S;at++)Re.push(Oe(je,_(Ye-1,Ne,at-1),_(Ye,Ne,at-1),_(Ye-1,Ne,at),_(Ye,Ne,at),ke,Ue,(Ye+Ne+at)%2,Ve&&Ve[de]?Ve[de]:[])),de++;return Re}function Je(je,Ke,ke,Ue,Ve){for(var Re=[],de=0,be=0;be<Ke.length;be++)for(var Ne=Ke[be],Ye=1;Ye<s;Ye++)for(var at=1;at<M;at++)Re.push(Oe(je,_(at-1,Ye-1,Ne),_(at-1,Ye,Ne),_(at,Ye-1,Ne),_(at,Ye,Ne),ke,Ue,(at+Ye+Ne)%2,Ve&&Ve[de]?Ve[de]:[])),de++;return Re}function et(je,Ke,ke){for(var Ue=1;Ue<S;Ue++)for(var Ve=1;Ve<s;Ve++)for(var Re=1;Re<M;Re++)Ge(je,_(Re-1,Ve-1,Ue-1),_(Re-1,Ve-1,Ue),_(Re-1,Ve,Ue-1),_(Re-1,Ve,Ue),_(Re,Ve-1,Ue-1),_(Re,Ve-1,Ue),_(Re,Ve,Ue-1),_(Re,Ve,Ue),Ke,ke,(Re+Ve+Ue)%2)}function ft(je,Ke,ke){i=!0,et(je,Ke,ke),i=!1}function vt(je,Ke,ke){h=!0,et(je,Ke,ke),h=!1}function dt(je,Ke,ke,Ue,Ve,Re){for(var de=[],be=0,Ne=0;Ne<Ke.length;Ne++)for(var Ye=Ke[Ne],at=1;at<S;at++)for(var lt=1;lt<s;lt++)de.push(Pe(je,Ye,lt,at,ke,Ue,Ve[Ne],Re&&Re[be]?Re[be]:[])),be++;return de}function xt(je,Ke,ke,Ue,Ve,Re){for(var de=[],be=0,Ne=0;Ne<Ke.length;Ne++)for(var Ye=Ke[Ne],at=1;at<M;at++)for(var lt=1;lt<S;lt++)de.push(Pe(je,at,Ye,lt,ke,Ue,Ve[Ne],Re&&Re[be]?Re[be]:[])),be++;return de}function Mt(je,Ke,ke,Ue,Ve,Re){for(var de=[],be=0,Ne=0;Ne<Ke.length;Ne++)for(var Ye=Ke[Ne],at=1;at<s;at++)for(var lt=1;lt<M;lt++)de.push(Pe(je,lt,at,Ye,ke,Ue,Ve[Ne],Re&&Re[be]?Re[be]:[])),be++;return de}function nt(je,Ke){for(var ke=[],Ue=je;Ue<Ke;Ue++)ke.push(Ue);return ke}function Fe(){for(var je=0;je<M;je++)for(var Ke=0;Ke<s;Ke++)for(var ke=0;ke<S;ke++){var Ue=_(je,Ke,ke);fe(f._x[Ue],f._y[Ue],f._z[Ue],f._value[Ue])}}function We(){ae(),Fe();var je=null;if(y&&T&&(q(T),ft(je,O,V)),l&&c){q(c);for(var Ke=f.surface.pattern,ke=f.surface.count,Ue=0;Ue<ke;Ue++){var Ve=ke===1?.5:Ue/(ke-1),Re=(1-Ve)*O+Ve*V,de=Math.abs(Re-I),be=Math.abs(Re-H),Ne=de>be?[I,Re]:[Re,H];vt(Ke,Ne[0],Ne[1])}}var Ye=[[Math.min(O,H),Math.max(O,H)],[Math.min(I,V),Math.max(I,V)]];["x","y","z"].forEach(function(at){for(var lt=[],Ht=0;Ht<Ye.length;Ht++){var Yt=0,Tt=Ye[Ht][0],Lt=Ye[Ht][1],Kt=f.slices[at];if(Kt.show&&Kt.fill){q(Kt.fill);var vr=[],gt=[],Xt=[];if(Kt.locations.length)for(var $t=0;$t<Kt.locations.length;$t++){var mr=p(Kt.locations[$t],at==="x"?R:at==="y"?m:L);mr.distRatio===0?vr.push(mr.id):mr.id>0&&(gt.push(mr.id),at==="x"?Xt.push([mr.distRatio,0,0]):at==="y"?Xt.push([0,mr.distRatio,0]):Xt.push([0,0,mr.distRatio]))}else at==="x"?vr=nt(1,M-1):at==="y"?vr=nt(1,s-1):vr=nt(1,S-1);gt.length>0&&(at==="x"?lt[Yt]=dt(je,gt,Tt,Lt,Xt,lt[Yt]):at==="y"?lt[Yt]=xt(je,gt,Tt,Lt,Xt,lt[Yt]):lt[Yt]=Mt(je,gt,Tt,Lt,Xt,lt[Yt]),Yt++),vr.length>0&&(at==="x"?lt[Yt]=Ze(je,vr,Tt,Lt,lt[Yt]):at==="y"?lt[Yt]=it(je,vr,Tt,Lt,lt[Yt]):lt[Yt]=Je(je,vr,Tt,Lt,lt[Yt]),Yt++)}var or=f.caps[at];or.show&&or.fill&&(q(or.fill),at==="x"?lt[Yt]=Ze(je,[0,M-1],Tt,Lt,lt[Yt]):at==="y"?lt[Yt]=it(je,[0,s-1],Tt,Lt,lt[Yt]):lt[Yt]=Je(je,[0,S-1],Tt,Lt,lt[Yt]),Yt++)}}),g===0&&ae(),f._meshX=B,f._meshY=F,f._meshZ=G,f._meshIntensity=Y,f._Xs=R,f._Ys=m,f._Zs=L}return We(),f}function u(f,l){var y=f.glplot.gl,c=d({gl:y}),T=new r(f,c,l.uid);return c._trace=T,T.update(l),f.glplot.add(c),T}U.exports={findNearestOnAxis:p,generateIsoMeshes:a,createIsosurfaceTrace:u}},70548:function(U,N,e){var d=e(3400),P=e(24040),n=e(50048),C=e(27260);function x(p,r,t,o){function a(u,f){return d.coerce(p,r,n,u,f)}v(p,r,t,o,a)}function v(p,r,t,o,a){var u=a("isomin"),f=a("isomax");f!=null&&u!==void 0&&u!==null&&u>f&&(r.isomin=null,r.isomax=null);var l=a("x"),y=a("y"),c=a("z"),T=a("value");if(!l||!l.length||!y||!y.length||!c||!c.length||!T||!T.length){r.visible=!1;return}var h=P.getComponentMethod("calendars","handleTraceDefaults");h(p,r,["x","y","z"],o),a("valuehoverformat"),["x","y","z"].forEach(function(A){a(A+"hoverformat");var R="caps."+A,m=a(R+".show");m&&a(R+".fill");var L="slices."+A,M=a(L+".show");M&&(a(L+".fill"),a(L+".locations"))});var i=a("spaceframe.show");i&&a("spaceframe.fill");var g=a("surface.show");g&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var b=a("contour.show");b&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){a(A)}),C(p,r,o,a,{prefix:"",cLetter:"c"}),r._length=null}U.exports={supplyDefaults:x,supplyIsoDefaults:v}},6296:function(U,N,e){U.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(U,N,e){var d=e(49084),P=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(16716),x=e(45464),v=e(92880).extendFlat;U.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},d("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},x.hoverinfo,{editType:"calc"}),showlegend:v({},x.showlegend,{dflt:!1})})},1876:function(U,N,e){var d=e(47128);U.exports=function(n,C){C.intensity&&d(n,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},576:function(U,N,e){var d=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,n=e(67792).alpha_shape,C=e(67792).convex_hull,x=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function o(h,i,g){this.scene=h,this.uid=g,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=o.prototype;a.handlePick=function(h){if(h.object===this.mesh){var i=h.index=h.data.index;h.data._cellCenter?h.traceCoordinate=h.data.dataCoordinate:h.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var g=this.data.hovertext||this.data.text;return v(g)&&g[i]!==void 0?h.textLabel=g[i]:g&&(h.textLabel=g),!0}};function u(h){for(var i=[],g=h.length,b=0;b<g;b++)i[b]=p(h[b]);return i}function f(h,i,g,b){for(var A=[],R=i.length,m=0;m<R;m++)A[m]=h.d2l(i[m],0,b)*g;return A}function l(h){for(var i=[],g=h.length,b=0;b<g;b++)i[b]=Math.round(h[b]);return i}function y(h,i){for(var g=["x","y","z"].indexOf(h),b=[],A=i.length,R=0;R<A;R++)b[R]=[i[R][(g+1)%3],i[R][(g+2)%3]];return P(b)}function c(h,i){for(var g=h.length,b=0;b<g;b++)if(h[b]<=-.5||h[b]>=i-.5)return!1;return!0}a.update=function(h){var i=this.scene,g=i.fullSceneLayout;this.data=h;var b=h.x.length,A=t(f(g.xaxis,h.x,i.dataScale[0],h.xcalendar),f(g.yaxis,h.y,i.dataScale[1],h.ycalendar),f(g.zaxis,h.z,i.dataScale[2],h.zcalendar)),R;if(h.i&&h.j&&h.k){if(h.i.length!==h.j.length||h.j.length!==h.k.length||!c(h.i,b)||!c(h.j,b)||!c(h.k,b))return;R=t(l(h.i),l(h.j),l(h.k))}else h.alphahull===0?R=C(A):h.alphahull>0?R=n(h.alphahull,A):R=y(h.delaunayaxis,A);var m={positions:A,cells:R,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,contourEnable:h.contour.show,contourColor:p(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading};if(h.intensity){var L=r(h);this.color="#fff";var M=h.intensitymode;m[M+"Intensity"]=h.intensity,m[M+"IntensityBounds"]=[L.min,L.max],m.colormap=x(h)}else h.vertexcolor?(this.color=h.vertexcolor[0],m.vertexColors=u(h.vertexcolor)):h.facecolor?(this.color=h.facecolor[0],m.cellColors=u(h.facecolor)):(this.color=h.color,m.meshColor=p(h.color));this.mesh.update(m)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(h,i){var g=h.glplot.gl,b=d({gl:g}),A=new o(h,b,i.uid);return b._trace=A,A.update(i),h.glplot.add(b),A}U.exports=T},74212:function(U,N,e){var d=e(24040),P=e(3400),n=e(27260),C=e(52948);U.exports=function(v,p,r,t){function o(y,c){return P.coerce(v,p,C,y,c)}function a(y){var c=y.map(function(T){var h=o(T);return h&&P.isArrayOrTypedArray(h)?h:null});return c.every(function(T){return T&&T.length===c[0].length})&&c}var u=a(["x","y","z"]);if(!u){p.visible=!1;return}if(a(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var f=d.getComponentMethod("calendars","handleTraceDefaults");f(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){o(y)});var l=o("contour.show");l&&(o("contour.color"),o("contour.width")),"intensity"in v?(o("intensity"),o("intensitymode"),n(v,p,t,o,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?o("facecolor"):"vertexcolor"in v?o("vertexcolor"):o("color",r)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),p._length=null}},7404:function(U,N,e){U.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(U,N,e){var d=e(3400).extendFlat,P=e(52904),n=e(29736).axisHoverFormat,C=e(98192).u,x=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function o(a){return{line:{color:d({},t.color,{dflt:a}),width:t.width,dash:C,editType:"style"},editType:"style"}}U.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:d({},t.width,{}),dash:d({},C,{}),editType:"style"},increasing:o(p),decreasing:o(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:d({},x.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(U,N,e){var d=e(3400),P=d._,n=e(54460),C=e(1220),x=e(39032).BADNUM;function v(o,a){var u=n.getFromId(o,a.xaxis),f=n.getFromId(o,a.yaxis),l=t(o,u,a),y=a._minDiff;a._minDiff=null;var c=a._origX;a._origX=null;var T=a._xcalc;a._xcalc=null;var h=r(o,a,c,T,f,p);return a._extremes[u._id]=n.findExtremes(u,T,{vpad:y/2}),h.length?(d.extendFlat(h[0].t,{wHover:y/2,tickLen:l}),h):[{t:{empty:!0}}]}function p(o,a,u,f){return{o,h:a,l:u,c:f}}function r(o,a,u,f,l,y){for(var c=l.makeCalcdata(a,"open"),T=l.makeCalcdata(a,"high"),h=l.makeCalcdata(a,"low"),i=l.makeCalcdata(a,"close"),g=d.isArrayOrTypedArray(a.text),b=d.isArrayOrTypedArray(a.hovertext),A=!0,R=null,m=!!a.xperiodalignment,L=[],M=0;M<f.length;M++){var s=f[M],S=c[M],w=T[M],_=h[M],I=i[M];if(s!==x&&S!==x&&w!==x&&_!==x&&I!==x){I===S?R!==null&&I!==R&&(A=I>R):A=I>S,R=I;var H=y(S,w,_,I);H.pos=s,H.yc=(S+I)/2,H.i=M,H.dir=A?"increasing":"decreasing",H.x=H.pos,H.y=[_,w],m&&(H.orig_p=u[M]),g&&(H.tx=a.text[M]),b&&(H.htx=a.hovertext[M]),L.push(H)}else L.push({pos:s,empty:!0})}return a._extremes[l._id]=n.findExtremes(l,d.concat(h,T),{padded:!0}),L.length&&(L[0].t={labels:{open:P(o,"open:")+" ",high:P(o,"high:")+" ",low:P(o,"low:")+" ",close:P(o,"close:")+" "}}),L}function t(o,a,u){var f=u._minDiff;if(!f){var l=o._fullData,y=[];f=1/0;var c;for(c=0;c<l.length;c++){var T=l[c];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===a._id){y.push(T);var h=a.makeCalcdata(T,"x");T._origX=h;var i=C(u,a,"x",h).vals;T._xcalc=i;var g=d.distinctVals(i).minDiff;g&&isFinite(g)&&(f=Math.min(f,g))}}for(f===1/0&&(f=1),c=0;c<y.length;c++)y[c]._minDiff=f}return f*u.tickwidth}U.exports={calc:v,calcCommon:r}},23860:function(U,N,e){var d=e(3400),P=e(52744),n=e(31147),C=e(20279);U.exports=function(p,r,t,o){function a(f,l){return d.coerce(p,r,C,f,l)}var u=P(p,r,a,o);if(!u){r.visible=!1;return}n(p,r,o,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),x(p,r,a,"increasing"),x(p,r,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),o._requestRangeslider[r.xaxis]=!0,a("zorder")};function x(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(U,N,e){var d=e(54460),P=e(3400),n=e(93024),C=e(76308),x=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(u,f,l,y){var c=u.cd,T=c[0].trace;return T.hoverlabel.split?o(u,f,l,y):a(u,f,l,y)}function t(u,f,l,y){var c=u.cd,T=u.xa,h=c[0].trace,i=c[0].t,g=h.type,b=g==="ohlc"?"l":"min",A=g==="ohlc"?"h":"max",R,m,L=i.bPos||0,M=function(Y){return Y.pos+L-f},s=i.bdPos||i.tickLen,S=i.wHover,w=Math.min(1,s/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));R=u.maxHoverDistance-w,m=u.maxSpikeDistance-w;function _(Y){var Q=M(Y);return n.inbox(Q-S,Q+S,R)}function I(Y){var Q=Y[b],te=Y[A];return Q===te||n.inbox(Q-l,te-l,R)}function H(Y){return(_(Y)+I(Y))/2}var O=n.getDistanceFunction(y,_,I,H);if(n.getClosest(c,O,u),u.index===!1)return null;var V=c[u.index];if(V.empty)return null;var B=V.dir,F=h[B],G=F.line.color;return C.opacity(G)&&F.line.width?u.color=G:u.color=F.fillcolor,u.x0=T.c2p(V.pos+L-s,!0),u.x1=T.c2p(V.pos+L+s,!0),u.xLabelVal=V.orig_p!==void 0?V.orig_p:V.pos,u.spikeDistance=H(V)*m/R,u.xSpike=T.c2p(V.pos,!0),u}function o(u,f,l,y){var c=u.cd,T=u.ya,h=c[0].trace,i=c[0].t,g=[],b=t(u,f,l,y);if(!b)return[];var A=b.index,R=c[A],m=R.hi||h.hoverinfo,L=m.split("+"),M=m==="all",s=M||L.indexOf("y")!==-1;if(!s)return[];for(var S=["high","open","close","low"],w={},_=0;_<S.length;_++){var I=S[_],H=h[I][b.index],O=T.c2p(H,!0),V;H in w?(V=w[H],V.yLabel+="<br>"+i.labels[I]+d.hoverLabelText(T,H,h.yhoverformat)):(V=P.extendFlat({},b),V.y0=V.y1=O,V.yLabelVal=H,V.yLabel=i.labels[I]+d.hoverLabelText(T,H,h.yhoverformat),V.name="",g.push(V),w[H]=V)}return g}function a(u,f,l,y){var c=u.cd,T=u.ya,h=c[0].trace,i=c[0].t,g=t(u,f,l,y);if(!g)return[];var b=g.index,A=c[b],R=g.index=A.i,m=A.dir;function L(H){return i.labels[H]+d.hoverLabelText(T,h[H][R],h.yhoverformat)}var M=A.hi||h.hoverinfo,s=M.split("+"),S=M==="all",w=S||s.indexOf("y")!==-1,_=S||s.indexOf("text")!==-1,I=w?[L("open"),L("high"),L("low"),L("close")+"  "+p[m]]:[];return _&&x(A,h,I),g.extraText=I.join("<br>"),g.y0=g.y1=T.c2p(A.yc,!0),[g]}U.exports={hoverPoints:r,hoverSplit:o,hoverOnPoints:a}},65456:function(U,N,e){U.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(U,N,e){var d=e(24040),P=e(3400);U.exports=function(C,x,v,p){var r=v("x"),t=v("open"),o=v("high"),a=v("low"),u=v("close");v("hoverlabel.split");var f=d.getComponentMethod("calendars","handleTraceDefaults");if(f(C,x,["x"],p),!!(t&&o&&a&&u)){var l=Math.min(t.length,o.length,a.length,u.length);return r&&(l=Math.min(l,P.minRowLength(r))),x._length=l,l}}},36664:function(U,N,e){var d=e(33428),P=e(3400);U.exports=function(C,x,v,p){var r=x.yaxis,t=x.xaxis,o=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(a){var u=d.select(this),f=a[0],l=f.t,y=f.trace;if(y.visible!==!0||l.empty){u.remove();return}var c=l.tickLen,T=u.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(h){if(h.empty)return"M0,0Z";var i=t.c2p(h.pos-c,!0),g=t.c2p(h.pos+c,!0),b=o?(i+g)/2:t.c2p(h.pos,!0),A=r.c2p(h.o,!0),R=r.c2p(h.h,!0),m=r.c2p(h.l,!0),L=r.c2p(h.c,!0);return"M"+i+","+A+"H"+b+"M"+b+","+R+"V"+m+"M"+g+","+L+"H"+b})})}},97384:function(U){U.exports=function(e,d){var P=e.cd,n=e.xaxis,C=e.yaxis,x=[],v,p=P[0].t.bPos||0;if(d===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];d.contains([n.c2p(r.pos+p),C.c2p(r.yc)],null,r.i,e)?(x.push({pointNumber:r.i,x:n.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return x}},14008:function(U,N,e){var d=e(33428),P=e(43616),n=e(76308);U.exports=function(x,v,p){var r=p||d.select(x).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var o=t[0].trace;d.select(this).selectAll("path").each(function(a){if(!a.empty){var u=o[a.dir].line;d.select(this).style("fill","none").call(n.stroke,u.color).call(P.dashLine,u.dash,u.width).style("opacity",o.selectedpoints&&!a.selected?.3:1)}})})}},72140:function(U,N,e){var d=e(92880).extendFlat,P=e(45464),n=e(25376),C=e(49084),x=e(21776).Ks,v=e(86968).u,p=d({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:x({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});U.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:d({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:x({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(U,N,e){var d=e(84888)._M,P=e(60268),n="parcats";N.name=n,N.plot=function(C,x,v,p){var r=d(C.calcdata,n);if(r.length){var t=r[0];P(C,t,v,p)}},N.clean=function(C,x,v,p){var r=p._has&&p._has("parcats"),t=x._has&&x._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(U,N,e){var d=e(71688).wrap,P=e(94288).hasColorscale,n=e(47128),C=e(68944),x=e(43616),v=e(3400),p=e(38248);U.exports=function(i,g){var b=v.filterVisible(g.dimensions);if(b.length===0)return[];var A=b.map(function(oe){var J;if(oe.categoryorder==="trace")J=null;else if(oe.categoryorder==="array")J=oe.categoryarray;else{J=C(oe.values);for(var ee=!0,X=0;X<J.length;X++)if(!p(J[X])){ee=!1;break}J.sort(ee?v.sorterAsc:void 0),oe.categoryorder==="category descending"&&(J=J.reverse())}return l(oe.values,J)}),R,m,L;v.isArrayOrTypedArray(g.counts)?R=g.counts:R=[g.counts],y(b),b.forEach(function(oe,J){c(oe,A[J])});var M=g.line,s;M?(P(g,"line")&&n(i,g,{vals:g.line.color,containerStr:"line",cLetter:"c"}),s=x.tryColorscale(M)):s=v.identity;function S(oe){var J,ee;return v.isArrayOrTypedArray(M.color)?(J=M.color[oe%M.color.length],ee=J):J=M.color,{color:s(J),rawColor:ee}}var w=b[0].values.length,_={},I=A.map(function(oe){return oe.inds});L=0;var H,O;for(H=0;H<w;H++){var V=[];for(O=0;O<I.length;O++)V.push(I[O][H]);m=R[H%R.length],L+=m;var B=S(H),F=V+"-"+B.rawColor;_[F]===void 0&&(_[F]=u(V,B.color,B.rawColor)),f(_[F],H,m)}var G=b.map(function(oe,J){return t(J,oe._index,oe._displayindex,oe.label,L)});for(H=0;H<w;H++)for(m=R[H%R.length],O=0;O<G.length;O++){var Y=G[O].containerInd,Q=A[O].inds[H],te=G[O].categories;if(te[Q]===void 0){var ae=g.dimensions[Y]._categoryarray[Q],fe=g.dimensions[Y]._ticktext[Q];te[Q]=o(O,Q,ae,fe)}a(te[Q],H,m)}return d(r(G,_,L))};function r(h,i,g){var b=h.map(function(A){return A.categories.length}).reduce(function(A,R){return Math.max(A,R)});return{dimensions:h,paths:i,trace:void 0,maxCats:b,count:g}}function t(h,i,g,b,A){return{dimensionInd:h,containerInd:i,displayInd:g,dimensionLabel:b,count:A,categories:[],dragX:null}}function o(h,i,g,b){return{dimensionInd:h,categoryInd:i,categoryValue:g,displayInd:i,categoryLabel:b,valueInds:[],count:0,dragY:null}}function a(h,i,g){h.valueInds.push(i),h.count+=g}function u(h,i,g){return{categoryInds:h,color:i,rawColor:g,valueInds:[],count:0}}function f(h,i,g){h.valueInds.push(i),h.count+=g}function l(h,i){i==null?i=[]:i=i.map(function(s){return s});var g={},b={},A=[];i.forEach(function(s,S){g[s]=0,b[s]=S});for(var R=0;R<h.length;R++){var m=h[R],L;g[m]===void 0?(g[m]=1,L=i.push(m)-1,b[m]=L):(g[m]++,L=b[m]),A.push(L)}var M=i.map(function(s){return g[s]});return{uniqueValues:i,uniqueCounts:M,inds:A}}function y(h){var i=h.map(function(b){return b.displayindex}),g;if(T(i))for(g=0;g<h.length;g++)h[g]._displayindex=h[g].displayindex;else for(g=0;g<h.length;g++)h[g]._displayindex=g}function c(h,i){h._categoryarray=i.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var g=h._ticktext.length;g<i.uniqueValues.length;g++)h._ticktext.push(i.uniqueValues[g])}function T(h){for(var i=new Array(h.length),g=0;g<h.length;g++){if(h[g]<0||h[g]>=h.length||i[h[g]]!==void 0)return!1;i[h[g]]=!0}return!0}},76671:function(U,N,e){var d=e(3400),P=e(94288).hasColorscale,n=e(27260),C=e(86968).Q,x=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(a,u,f,l,y){y("line.shape"),y("line.hovertemplate");var c=y("line.color",l.colorway[0]);if(P(a,"line")&&d.isArrayOrTypedArray(c)){if(c.length)return y("line.colorscale"),n(a,u,l,y,{prefix:"line.",cLetter:"c"}),c.length;u.line.color=f}return 1/0}function o(a,u){function f(g,b){return d.coerce(a,u,v.dimensions,g,b)}var l=f("values"),y=f("visible");if(l&&l.length||(y=u.visible=!1),y){f("label"),f("displayindex",u._index);var c=a.categoryarray,T=d.isArrayOrTypedArray(c)&&c.length>0||r(c),h;T&&(h="array");var i=f("categoryorder",h);i==="array"?(f("categoryarray"),f("ticktext")):(delete a.categoryarray,delete a.ticktext),!T&&i==="array"&&(u.categoryorder="trace")}}U.exports=function(u,f,l,y){function c(g,b){return d.coerce(u,f,v,g,b)}var T=x(u,f,{name:"dimensions",handleItemDefaults:o}),h=t(u,f,l,y,c);C(f,y,c),(!Array.isArray(T)||!T.length)&&(f.visible=!1),p(f,T,"values",h),c("hoveron"),c("hovertemplate"),c("arrangement"),c("bundlecolors"),c("sortpaths"),c("counts");var i=y.font;d.coerceFont(c,"labelfont",i,{overrideDflt:{size:Math.round(i.size)}}),d.coerceFont(c,"tickfont",i,{autoShadowDflt:!0,overrideDflt:{size:Math.round(i.size/1.2)}})}},22020:function(U,N,e){U.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(U,N,e){var d=e(33428),P=e(67756).Gz,n=e(36424),C=e(93024),x=e(3400),v=x.strTranslate,p=e(43616),r=e(49760),t=e(72736);function o(X,q,le,$){var j=q._context.staticPlot,se=X.map(ae.bind(0,q,le)),ne=$.selectAll("g.parcatslayer").data([null]);ne.enter().append("g").attr("class","parcatslayer").style("pointer-events",j?"none":"all");var he=ne.selectAll("g.trace.parcats").data(se,a),me=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(Pe){return v(Pe.x,Pe.y)}),me.append("g").attr("class","paths");var we=he.select("g.paths"),Te=we.selectAll("path.path").data(function(Pe){return Pe.paths},a);Te.attr("fill",function(Pe){return Pe.model.color});var Le=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Pe){return Pe.model.color}).attr("fill-opacity",0);i(Le),Te.attr("d",function(Pe){return Pe.svgD}),Le.empty()||Te.sort(f),Te.exit().remove(),Te.on("mouseover",l).on("mouseout",y).on("click",h),me.append("g").attr("class","dimensions");var Ie=he.select("g.dimensions"),ze=Ie.selectAll("g.dimension").data(function(Pe){return Pe.dimensions},a);ze.enter().append("g").attr("class","dimension"),ze.attr("transform",function(Pe){return v(Pe.x,0)}),ze.exit().remove();var Me=ze.selectAll("g.category").data(function(Pe){return Pe.categories},a),_e=Me.enter().append("g").attr("class","category");Me.attr("transform",function(Pe){return v(0,Pe.y)}),_e.append("rect").attr("class","catrect").attr("pointer-events","none"),Me.select("rect.catrect").attr("fill","none").attr("width",function(Pe){return Pe.width}).attr("height",function(Pe){return Pe.height}),A(_e);var Ce=Me.selectAll("rect.bandrect").data(function(Pe){return Pe.bands},a);Ce.each(function(){x.raiseToTop(this)}),Ce.attr("fill",function(Pe){return Pe.color});var Oe=Ce.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Pe){return Pe.color}).attr("fill-opacity",0);Ce.attr("fill",function(Pe){return Pe.color}).attr("width",function(Pe){return Pe.width}).attr("height",function(Pe){return Pe.height}).attr("y",function(Pe){return Pe.y}).attr("cursor",function(Pe){return Pe.parcatsViewModel.arrangement==="fixed"?"default":Pe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Oe),Ce.exit().remove(),_e.append("text").attr("class","catlabel").attr("pointer-events","none"),Me.select("text.catlabel").attr("text-anchor",function(Pe){return u(Pe)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Pe){return u(Pe)?Pe.width+5:-5}).attr("y",function(Pe){return Pe.height/2}).text(function(Pe){return Pe.model.categoryLabel}).each(function(Pe){p.font(d.select(this),Pe.parcatsViewModel.categorylabelfont),t.convertToTspans(d.select(this),q)}),_e.append("text").attr("class","dimlabel"),Me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Pe){return Pe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Pe){return Pe.width/2}).attr("y",-5).text(function(Pe,Ge){return Ge===0?Pe.parcatsViewModel.model.dimensions[Pe.model.dimensionInd].dimensionLabel:null}).each(function(Pe){p.font(d.select(this),Pe.parcatsViewModel.labelfont)}),Me.selectAll("rect.bandrect").on("mouseover",O).on("mouseout",V),Me.exit().remove(),ze.call(d.behavior.drag().origin(function(Pe){return{x:Pe.x,y:0}}).on("dragstart",B).on("drag",F).on("dragend",G)),he.each(function(Pe){Pe.traceSelection=d.select(this),Pe.pathSelection=d.select(this).selectAll("g.paths").selectAll("path.path"),Pe.dimensionSelection=d.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}U.exports=function(X,q,le,$){o(le,X,$,q)};function a(X){return X.key}function u(X){var q=X.parcatsViewModel.dimensions.length,le=X.parcatsViewModel.dimensions[q-1].model.dimensionInd;return X.model.dimensionInd===le}function f(X,q){return X.model.rawColor>q.model.rawColor?1:X.model.rawColor<q.model.rawColor?-1:0}function l(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){x.raiseToTop(this),g(d.select(this));var q=c(X),le=T(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:d.event,constraints:le}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $=d.mouse(this)[0],j=X.parcatsViewModel.graphDiv,se=X.parcatsViewModel.trace,ne=j._fullLayout,he=ne._paperdiv.node().getBoundingClientRect(),me=X.parcatsViewModel.graphDiv.getBoundingClientRect(),we,Te,Le;for(Le=0;Le<X.leftXs.length-1;Le++)if(X.leftXs[Le]+X.dimWidths[Le]-2<=$&&$<=X.leftXs[Le+1]+2){var Ie=X.parcatsViewModel.dimensions[Le],ze=X.parcatsViewModel.dimensions[Le+1];we=(Ie.x+Ie.width+ze.x)/2,Te=(X.topYs[Le]+X.topYs[Le+1]+X.height)/2;break}var Me=X.parcatsViewModel.x+we,_e=X.parcatsViewModel.y+Te,Ce=r.mostReadable(X.model.color,["black","white"]),Oe=X.model.count,Pe=Oe/X.parcatsViewModel.model.count,Ge={countLabel:Oe,probabilityLabel:Pe.toFixed(3)},Ze=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ze.push(["Count:",Ge.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ze.push(["P:",Ge.probabilityLabel].join(" "));var it=Ze.join("<br>"),Je=d.mouse(j)[0];C.loneHover({trace:se,x:Me-he.left+me.left,y:_e-he.top+me.top,text:it,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ce,idealAlign:Je<Me?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ge,eventData:[{data:se._input,fullData:se,count:Oe,probability:Pe}]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:j})}}}function y(X){if(!X.parcatsViewModel.dragDimension&&(i(d.select(this)),C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(f),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=c(X),le=T(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:d.event,constraints:le})}}function c(X){for(var q=[],le=Y(X.parcatsViewModel),$=0;$<X.model.valueInds.length;$++){var j=X.model.valueInds[$];q.push({curveNumber:le,pointNumber:j})}return q}function T(X){for(var q={},le=X.parcatsViewModel.model.dimensions,$=0;$<le.length;$++){var j=le[$],se=j.categories[X.model.categoryInds[$]];q[j.containerInd]=se.categoryValue}return X.model.rawColor!==void 0&&(q.color=X.model.rawColor),q}function h(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=c(X),le=T(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:d.event,constraints:le})}}function i(X){X.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function g(X){X.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function b(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function R(X){X.attr("stroke","black").attr("stroke-width",1.5)}function m(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function L(X){var q=X.parcatsViewModel.pathSelection,le=X.categoryViewModel.model.dimensionInd,$=X.categoryViewModel.model.categoryInd;return q.filter(function(j){return j.model.categoryInds[le]===$&&j.model.color===X.color})}function M(X){var q=d.select(X.parentNode).selectAll("rect.bandrect");q.each(function(le){var $=L(le);g($),$.each(function(){x.raiseToTop(this)})}),b(d.select(X.parentNode))}function s(X){var q=d.select(X).datum(),le=L(q);g(le),le.each(function(){x.raiseToTop(this)}),d.select(X.parentNode).selectAll("rect.bandrect").filter(function($){return $.color===q.color}).each(function(){x.raiseToTop(this),R(d.select(this))})}function S(X,q,le){var $=d.select(X).datum(),j=$.categoryViewModel.model,se=$.parcatsViewModel.graphDiv,ne=d.select(X.parentNode).selectAll("rect.bandrect"),he=[];ne.each(function(we){var Te=L(we);Te.each(function(Le){Array.prototype.push.apply(he,c(Le))})});var me={};me[j.dimensionInd]=j.categoryValue,se.emit(q,{points:he,event:le,constraints:me})}function w(X,q,le){var $=d.select(X).datum(),j=$.categoryViewModel.model,se=$.parcatsViewModel.graphDiv,ne=L($),he=[];ne.each(function(we){Array.prototype.push.apply(he,c(we))});var me={};me[j.dimensionInd]=j.categoryValue,$.rawColor!==void 0&&(me.color=$.rawColor),se.emit(q,{points:he,event:le,constraints:me})}function _(X,q,le){X._fullLayout._calcInverseTransform(X);var $=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,se=d.select(le.parentNode).select("rect.catrect"),ne=se.node().getBoundingClientRect(),he=se.datum(),me=he.parcatsViewModel,we=me.model.dimensions[he.model.dimensionInd],Te=me.trace,Le=ne.top+ne.height/2,Ie,ze;me.dimensions.length>1&&we.displayInd===me.dimensions.length-1?(Ie=ne.left,ze="left"):(Ie=ne.left+ne.width,ze="right");var Me=he.model.count,_e=he.model.categoryLabel,Ce=Me/he.parcatsViewModel.model.count,Oe={countLabel:Me,categoryLabel:_e,probabilityLabel:Ce.toFixed(3)},Pe=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Pe.push(["Count:",Oe.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Pe.push(["P("+Oe.categoryLabel+"):",Oe.probabilityLabel].join(" "));var Ge=Pe.join("<br>");return{trace:Te,x:$*(Ie-q.left),y:j*(Le-q.top),text:Ge,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:ze,hovertemplate:Te.hovertemplate,hovertemplateLabels:Oe,eventData:[{data:Te._input,fullData:Te,count:Me,category:_e,probability:Ce}]}}function I(X,q,le){var $=[];return d.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var j=this;$.push(_(X,q,j))}),$}function H(X,q,le){X._fullLayout._calcInverseTransform(X);var $=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,se=le.getBoundingClientRect(),ne=d.select(le).datum(),he=ne.categoryViewModel,me=he.parcatsViewModel,we=me.model.dimensions[he.model.dimensionInd],Te=me.trace,Le=se.y+se.height/2,Ie,ze;me.dimensions.length>1&&we.displayInd===me.dimensions.length-1?(Ie=se.left,ze="left"):(Ie=se.left+se.width,ze="right");var Me=he.model.categoryLabel,_e=ne.parcatsViewModel.model.count,Ce=0;ne.categoryViewModel.bands.forEach(function(dt){dt.color===ne.color&&(Ce+=dt.count)});var Oe=he.model.count,Pe=0;me.pathSelection.each(function(dt){dt.model.color===ne.color&&(Pe+=dt.model.count)});var Ge=Ce/_e,Ze=Ce/Pe,it=Ce/Oe,Je={countLabel:Ce,categoryLabel:Me,probabilityLabel:Ge.toFixed(3)},et=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",Je.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(et.push("P(color ∩ "+Me+"): "+Je.probabilityLabel),et.push("P("+Me+" | color): "+Ze.toFixed(3)),et.push("P(color | "+Me+"): "+it.toFixed(3)));var ft=et.join("<br>"),vt=r.mostReadable(ne.color,["black","white"]);return{trace:Te,x:$*(Ie-q.left),y:j*(Le-q.top),text:ft,color:ne.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:vt,fontSize:10,idealAlign:ze,hovertemplate:Te.hovertemplate,hovertemplateLabels:Je,eventData:[{data:Te._input,fullData:Te,category:Me,count:_e,probability:Ge,categorycount:Oe,colorcount:Pe,bandcolorcount:Ce}]}}function O(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=d.mouse(this)[1];if(q<-1)return;var le=X.parcatsViewModel.graphDiv,$=le._fullLayout,j=$._paperdiv.node().getBoundingClientRect(),se=X.parcatsViewModel.hoveron,ne=this;if(se==="color"?(s(ne),w(ne,"plotly_hover",d.event)):(M(ne),S(ne,"plotly_hover",d.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;se==="category"?he=_(le,j,ne):se==="color"?he=H(le,j,ne):se==="dimension"&&(he=I(le,j,ne)),he&&C.loneHover(he,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:le})}}}function V(X){var q=X.parcatsViewModel;if(!q.dragDimension&&(i(q.pathSelection),A(q.dimensionSelection.selectAll("g.category")),m(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(f),q.hoverinfoItems.indexOf("skip")===-1)){var le=X.parcatsViewModel.hoveron,$=this;le==="color"?w($,"plotly_unhover",d.event):S($,"plotly_unhover",d.event)}}function B(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,d.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var le=d.mouse(this)[0],$=d.mouse(this)[1];-2<=le&&le<=q.width+2&&-2<=$&&$<=q.height+2&&(X.dragCategoryDisplayInd=q.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(j){return j.displayInd}),q.model.dragY=q.y,x.raiseToTop(this.parentNode),d.select(this.parentNode).selectAll("rect.bandrect").each(function(j){j.y<$&&$<=j.y+j.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var q=X.dragDimensionDisplayInd,le=q-1,$=q+1,j=X.parcatsViewModel.dimensions[q];if(X.dragCategoryDisplayInd!==null){var se=j.categories[X.dragCategoryDisplayInd];se.model.dragY+=d.event.dy;var ne=se.model.dragY,he=se.model.displayInd,me=j.categories,we=me[he-1],Te=me[he+1];we!==void 0&&ne<we.y+we.height/2&&(se.model.displayInd=we.model.displayInd,we.model.displayInd=he),Te!==void 0&&ne+se.height>Te.y+Te.height/2&&(se.model.displayInd=Te.model.displayInd,Te.model.displayInd=he),X.dragCategoryDisplayInd=se.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){j.model.dragX=d.event.x;var Le=X.parcatsViewModel.dimensions[le],Ie=X.parcatsViewModel.dimensions[$];Le!==void 0&&j.model.dragX<Le.x+Le.width&&(j.model.displayInd=Le.model.displayInd,Le.model.displayInd=q),Ie!==void 0&&j.model.dragX+j.width>Ie.x&&(j.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=j.model.displayInd}J(X.parcatsViewModel),oe(X.parcatsViewModel),te(X.parcatsViewModel),Q(X.parcatsViewModel)}}function G(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){d.select(this).selectAll("text").attr("font-weight","normal");var q={},le=Y(X.parcatsViewModel),$=X.parcatsViewModel.model.dimensions.map(function(Ie){return Ie.displayInd}),j=X.initialDragDimensionDisplayInds.some(function(Ie,ze){return Ie!==$[ze]});j&&$.forEach(function(Ie,ze){var Me=X.parcatsViewModel.model.dimensions[ze].containerInd;q["dimensions["+Me+"].displayindex"]=Ie});var se=!1;if(X.dragCategoryDisplayInd!==null){var ne=X.model.categories.map(function(Ie){return Ie.displayInd});if(se=X.initialDragCategoryDisplayInds.some(function(Ie,ze){return Ie!==ne[ze]}),se){var he=X.model.categories.slice().sort(function(Ie,ze){return Ie.displayInd-ze.displayInd}),me=he.map(function(Ie){return Ie.categoryValue}),we=he.map(function(Ie){return Ie.categoryLabel});q["dimensions["+X.model.containerInd+"].categoryarray"]=[me],q["dimensions["+X.model.containerInd+"].ticktext"]=[we],q["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?w(X.potentialClickBand,"plotly_click",d.event.sourceEvent):S(X.potentialClickBand,"plotly_click",d.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var Te=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];Te.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,J(X.parcatsViewModel),oe(X.parcatsViewModel);var Le=d.transition().duration(300).ease("cubic-in-out");Le.each(function(){te(X.parcatsViewModel,!0),Q(X.parcatsViewModel,!0)}).each("end",function(){(j||se)&&n.restyle(X.parcatsViewModel.graphDiv,q,[le])})}}function Y(X){for(var q,le=X.graphDiv._fullData,$=0;$<le.length;$++)if(X.key===le[$].uid){q=$;break}return q}function Q(X,q){q===void 0&&(q=!1);function le($){return q?$.transition():$}X.pathSelection.data(function($){return $.paths},a),le(X.pathSelection).attr("d",function($){return $.svgD})}function te(X,q){q===void 0&&(q=!1);function le(me){return q?me.transition():me}X.dimensionSelection.data(function(me){return me.dimensions},a);var $=X.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},a);le(X.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),le($).attr("transform",function(me){return v(0,me.y)});var j=$.select(".dimlabel");j.text(function(me,we){return we===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var se=$.select(".catlabel");se.attr("text-anchor",function(me){return u(me)?"start":"end"}).attr("x",function(me){return u(me)?me.width+5:-5}).each(function(me){var we,Te;u(me)?(we=me.width+5,Te="start"):(we=-5,Te="end"),d.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",Te)});var ne=$.selectAll("rect.bandrect").data(function(me){return me.bands},a),he=ne.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ne.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),m(he),ne.each(function(){x.raiseToTop(this)}),ne.exit().remove()}function ae(X,q,le){var $=le[0],j=q.margin||{l:80,r:80,t:100,b:80},se=$.trace,ne=se.domain,he=q.width,me=q.height,we=Math.floor(he*(ne.x[1]-ne.x[0])),Te=Math.floor(me*(ne.y[1]-ne.y[0])),Le=ne.x[0]*he+j.l,Ie=q.height-ne.y[1]*q.height+j.t,ze=se.line.shape,Me;se.hoverinfo==="all"?Me=["count","probability"]:Me=(se.hoverinfo||"").split("+");var _e={trace:se,key:se.uid,model:$,x:Le,y:Ie,width:we,height:Te,hoveron:se.hoveron,hoverinfoItems:Me,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:ze,dragDimension:null,margin:j,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(J(_e),oe(_e)),_e}function fe(X,q,le,$,j){var se=[],ne=[],he,me;for(me=0;me<le.length-1;me++)he=P(le[me]+X[me],X[me+1]),se.push(he(j)),ne.push(he(1-j));var we="M "+X[0]+","+q[0];for(we+="l"+le[0]+",0 ",me=1;me<le.length;me++)we+="C"+se[me-1]+","+q[me-1]+" "+ne[me-1]+","+q[me]+" "+X[me]+","+q[me],we+="l"+le[me]+",0 ";for(we+="l0,"+$+" ",we+="l -"+le[le.length-1]+",0 ",me=le.length-2;me>=0;me--)we+="C"+ne[me]+","+(q[me+1]+$)+" "+se[me]+","+(q[me]+$)+" "+(X[me]+le[me])+","+(q[me]+$),we+="l-"+le[me]+",0 ";return we+="Z",we}function oe(X){var q=X.dimensions,le=X.model,$=q.map(function(nt){return nt.categories.map(function(Fe){return Fe.y})}),j=X.model.dimensions.map(function(nt){return nt.categories.map(function(Fe){return Fe.displayInd})}),se=X.model.dimensions.map(function(nt){return nt.displayInd}),ne=X.dimensions.map(function(nt){return nt.model.dimensionInd}),he=q.map(function(nt){return nt.x}),me=q.map(function(nt){return nt.width}),we=[];for(var Te in le.paths)le.paths.hasOwnProperty(Te)&&we.push(le.paths[Te]);function Le(nt){var Fe=nt.categoryInds.map(function(je,Ke){return j[Ke][je]}),We=ne.map(function(je){return Fe[je]});return We}we.sort(function(nt,Fe){var We=Le(nt),je=Le(Fe);return X.sortpaths==="backward"&&(We.reverse(),je.reverse()),We.push(nt.valueInds[0]),je.push(Fe.valueInds[0]),X.bundlecolors&&(We.unshift(nt.rawColor),je.unshift(Fe.rawColor)),We<je?-1:We>je?1:0});for(var Ie=new Array(we.length),ze=q[0].model.count,Me=q[0].categories.map(function(nt){return nt.height}).reduce(function(nt,Fe){return nt+Fe}),_e=0;_e<we.length;_e++){var Ce=we[_e],Oe;ze>0?Oe=Me*(Ce.count/ze):Oe=0;for(var Pe=new Array($.length),Ge=0;Ge<Ce.categoryInds.length;Ge++){var Ze=Ce.categoryInds[Ge],it=j[Ge][Ze],Je=se[Ge];Pe[Je]=$[Je][it],$[Je][it]+=Oe;var et=X.dimensions[Je].categories[it],ft=et.bands.length,vt=et.bands[ft-1];if(vt===void 0||Ce.rawColor!==vt.rawColor){var dt=vt===void 0?0:vt.y+vt.height;et.bands.push({key:dt,color:Ce.color,rawColor:Ce.rawColor,height:Oe,width:et.width,count:Ce.count,y:dt,categoryViewModel:et,parcatsViewModel:X})}else{var xt=et.bands[ft-1];xt.height+=Oe,xt.count+=Ce.count}}var Mt;X.pathShape==="hspline"?Mt=fe(he,Pe,me,Oe,.5):Mt=fe(he,Pe,me,Oe,0),Ie[_e]={key:Ce.valueInds[0],model:Ce,height:Oe,leftXs:he,topYs:Pe,dimWidths:me,svgD:Mt,parcatsViewModel:X}}X.paths=Ie}function J(X){var q=X.model.dimensions.map(function(ne){return{displayInd:ne.displayInd,dimensionInd:ne.dimensionInd}});q.sort(function(ne,he){return ne.displayInd-he.displayInd});var le=[];for(var $ in q){var j=q[$].dimensionInd,se=X.model.dimensions[j];le.push(ee(X,se))}X.dimensions=le}function ee(X,q){var le=40,$=16,j=X.model.dimensions.length,se=q.displayInd,ne,he,me;j>1?ne=(X.width-2*le-$)/(j-1):ne=0,he=le,me=he+ne*se;var we=[],Te=X.model.maxCats,Le=q.categories.length,Ie=8,ze=q.count,Me=X.height-Ie*(Te-1),_e,Ce,Oe,Pe,Ge,Ze=(Te-Le)*Ie/2,it=q.categories.map(function(Je){return{displayInd:Je.displayInd,categoryInd:Je.categoryInd}});for(it.sort(function(Je,et){return Je.displayInd-et.displayInd}),Ge=0;Ge<Le;Ge++)Pe=it[Ge].categoryInd,Ce=q.categories[Pe],ze>0?_e=Ce.count/ze*Me:_e=0,Oe={key:Ce.valueInds[0],model:Ce,width:$,height:_e,y:Ce.dragY!==null?Ce.dragY:Ze,bands:[],parcatsViewModel:X},Ze=Ze+_e+Ie,we.push(Oe);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:me,y:0,width:$,model:q,categories:we,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(U,N,e){var d=e(51036);U.exports=function(n,C,x,v){var p=n._fullLayout,r=p._paper,t=p._size;d(n,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},x,v)}},82296:function(U,N,e){var d=e(49084),P=e(94724),n=e(25376),C=e(86968).u,x=e(92880).extendFlat,v=e(31780).templatedArray;U.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({autoShadowDflt:!0,editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:x({},P.tickvals,{editType:"plot"}),ticktext:x({},P.ticktext,{editType:"plot"}),tickformat:x({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:x({editType:"calc"},d("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(U,N,e){var d=e(30140),P=e(33428),n=e(71688).keyFun,C=e(71688).repeat,x=e(3400).sorterAsc,v=e(3400).strTranslate,p=d.bar.snapRatio;function r(G,Y){return G*(1-p)+Y*p}var t=d.bar.snapClose;function o(G,Y){return G*(1-t)+Y*t}function a(G,Y,Q,te){if(u(Q,te))return Q;var ae=G?-1:1,fe=0,oe=Y.length-1;if(ae<0){var J=fe;fe=oe,oe=J}for(var ee=Y[fe],X=ee,q=fe;ae*q<ae*oe;q+=ae){var le=q+ae,$=Y[le];if(ae*Q<ae*o(ee,$))return r(ee,X);if(ae*Q<ae*$||le===oe)return r($,ee);X=ee,ee=$}}function u(G,Y){for(var Q=0;Q<Y.length;Q++)if(G>=Y[Q][0]&&G<=Y[Q][1])return!0;return!1}function f(G){G.attr("x",-d.bar.captureWidth/2).attr("width",d.bar.captureWidth)}function l(G){G.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(G){if(!G.brush.filterSpecified)return"0,"+G.height;for(var Y=c(G.brush.filter.getConsolidated(),G.height),Q=[0],te,ae,fe,oe=Y.length?Y[0][0]:null,J=0;J<Y.length;J++)te=Y[J],ae=te[1]-te[0],Q.push(oe),Q.push(ae),fe=J+1,fe<Y.length&&(oe=Y[fe][0]-te[1]);return Q.push(G.height),Q}function c(G,Y){return G.map(function(Q){return Q.map(function(te){return Math.max(0,te*Y)}).sort(x)})}function T(G,Y){var Q=d.bar.handleHeight;if(!(Y>G[1]+Q||Y<G[0]-Q))return Y>=.9*G[1]+.1*G[0]?"n":Y<=.9*G[0]+.1*G[1]?"s":"ns"}function h(){P.select(document.body).style("cursor",null)}function i(G){G.attr("stroke-dasharray",y)}function g(G,Y){var Q=P.select(G).selectAll(".highlight, .highlight-shadow"),te=Y?Q.transition().duration(d.bar.snapDuration).each("end",Y):Q;i(te)}function b(G,Y){var Q=G.brush,te=Q.filterSpecified,ae=NaN,fe={},oe;if(te){var J=G.height,ee=Q.filter.getConsolidated(),X=c(ee,J),q=NaN,le=NaN,$=NaN;for(oe=0;oe<=X.length;oe++){var j=X[oe];if(j&&j[0]<=Y&&Y<=j[1]){q=oe;break}else if(le=oe?oe-1:NaN,j&&j[0]>Y){$=oe;break}}if(ae=q,isNaN(ae)&&(isNaN(le)||isNaN($)?ae=isNaN(le)?$:le:ae=Y-X[le][1]<X[$][0]-Y?le:$),!isNaN(ae)){var se=X[ae],ne=T(se,Y);ne&&(fe.interval=ee[ae],fe.intervalPix=se,fe.region=ne)}}if(G.ordinal&&!fe.region){var he=G.unitTickvals,me=G.unitToPaddedPx.invert(Y);for(oe=0;oe<he.length;oe++){var we=[he[Math.max(oe-1,0)]*.25+he[oe]*.75,he[Math.min(oe+1,he.length-1)]*.25+he[oe]*.75];if(me>=we[0]&&me<=we[1]){fe.clickableOrdinalRange=we;break}}}return fe}function A(G,Y){P.event.sourceEvent.stopPropagation();var Q=Y.height-P.mouse(G)[1]-2*d.verticalPadding,te=Y.unitToPaddedPx.invert(Q),ae=Y.brush,fe=b(Y,Q),oe=fe.interval,J=ae.svgBrush;if(J.wasDragged=!1,J.grabbingBar=fe.region==="ns",J.grabbingBar){var ee=oe.map(Y.unitToPaddedPx);J.grabPoint=Q-ee[0]-d.verticalPadding,J.barLength=ee[1]-ee[0]}J.clickableOrdinalRange=fe.clickableOrdinalRange,J.stayingIntervals=Y.multiselect&&ae.filterSpecified?ae.filter.getConsolidated():[],oe&&(J.stayingIntervals=J.stayingIntervals.filter(function(X){return X[0]!==oe[0]&&X[1]!==oe[1]})),J.startExtent=fe.region?oe[fe.region==="s"?1:0]:te,Y.parent.inBrushDrag=!0,J.brushStartCallback()}function R(G,Y){P.event.sourceEvent.stopPropagation();var Q=Y.height-P.mouse(G)[1]-2*d.verticalPadding,te=Y.brush.svgBrush;te.wasDragged=!0,te._dragging=!0,te.grabbingBar?te.newExtent=[Q-te.grabPoint,Q+te.barLength-te.grabPoint].map(Y.unitToPaddedPx.invert):te.newExtent=[te.startExtent,Y.unitToPaddedPx.invert(Q)].sort(x),Y.brush.filterSpecified=!0,te.extent=te.stayingIntervals.concat([te.newExtent]),te.brushCallback(Y),g(G.parentNode)}function m(G,Y){var Q=Y.brush,te=Q.filter,ae=Q.svgBrush;ae._dragging||(L(G,Y),R(G,Y),Y.brush.svgBrush.wasDragged=!1),ae._dragging=!1;var fe=P.event;fe.sourceEvent.stopPropagation();var oe=ae.grabbingBar;if(ae.grabbingBar=!1,ae.grabLocation=void 0,Y.parent.inBrushDrag=!1,h(),!ae.wasDragged){ae.wasDragged=void 0,ae.clickableOrdinalRange?Q.filterSpecified&&Y.multiselect?ae.extent.push(ae.clickableOrdinalRange):(ae.extent=[ae.clickableOrdinalRange],Q.filterSpecified=!0):oe?(ae.extent=ae.stayingIntervals,ae.extent.length===0&&I(Q)):I(Q),ae.brushCallback(Y),g(G.parentNode),ae.brushEndCallback(Q.filterSpecified?te.getConsolidated():[]);return}var J=function(){te.set(te.getConsolidated())};if(Y.ordinal){var ee=Y.unitTickvals;ee[ee.length-1]<ee[0]&&ee.reverse(),ae.newExtent=[a(0,ee,ae.newExtent[0],ae.stayingIntervals),a(1,ee,ae.newExtent[1],ae.stayingIntervals)];var X=ae.newExtent[1]>ae.newExtent[0];ae.extent=ae.stayingIntervals.concat(X?[ae.newExtent]:[]),ae.extent.length||I(Q),ae.brushCallback(Y),X?g(G.parentNode,J):(J(),g(G.parentNode))}else J();ae.brushEndCallback(Q.filterSpecified?te.getConsolidated():[])}function L(G,Y){var Q=Y.height-P.mouse(G)[1]-2*d.verticalPadding,te=b(Y,Q),ae="crosshair";te.clickableOrdinalRange?ae="pointer":te.region&&(ae=te.region+"-resize"),P.select(document.body).style("cursor",ae)}function M(G){G.on("mousemove",function(Y){P.event.preventDefault(),Y.parent.inBrushDrag||L(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||h()}).call(P.behavior.drag().on("dragstart",function(Y){A(this,Y)}).on("drag",function(Y){R(this,Y)}).on("dragend",function(Y){m(this,Y)}))}function s(G,Y){return G[0]-Y[0]}function S(G,Y,Q){var te=Q._context.staticPlot,ae=G.selectAll(".background").data(C);ae.enter().append("rect").classed("background",!0).call(f).call(l).style("pointer-events",te?"none":"auto").attr("transform",v(0,d.verticalPadding)),ae.call(M).attr("height",function(J){return J.height-d.verticalPadding});var fe=G.selectAll(".highlight-shadow").data(C);fe.enter().append("line").classed("highlight-shadow",!0).attr("x",-d.bar.width/2).attr("stroke-width",d.bar.width+d.bar.strokeWidth).attr("stroke",Y).attr("opacity",d.bar.strokeOpacity).attr("stroke-linecap","butt"),fe.attr("y1",function(J){return J.height}).call(i);var oe=G.selectAll(".highlight").data(C);oe.enter().append("line").classed("highlight",!0).attr("x",-d.bar.width/2).attr("stroke-width",d.bar.width-d.bar.strokeWidth).attr("stroke",d.bar.fillColor).attr("opacity",d.bar.fillOpacity).attr("stroke-linecap","butt"),oe.attr("y1",function(J){return J.height}).call(i)}function w(G,Y,Q){var te=G.selectAll("."+d.cn.axisBrush).data(C,n);te.enter().append("g").classed(d.cn.axisBrush,!0),S(te,Y,Q)}function _(G){return G.svgBrush.extent.map(function(Y){return Y.slice()})}function I(G){G.filterSpecified=!1,G.svgBrush.extent=[[-1/0,1/0]]}function H(G){return function(Q){var te=Q.brush,ae=_(te),fe=ae.slice();te.filter.set(fe),G()}}function O(G){for(var Y=G.slice(),Q=[],te,ae=Y.shift();ae;){for(te=ae.slice();(ae=Y.shift())&&ae[0]<=te[1];)te[1]=Math.max(te[1],ae[1]);Q.push(te)}return Q.length===1&&Q[0][0]>Q[0][1]&&(Q=[]),Q}function V(){var G=[],Y,Q;return{set:function(te){G=te.map(function(ae){return ae.slice().sort(x)}).sort(s),G.length===1&&G[0][0]===-1/0&&G[0][1]===1/0&&(G=[[0,-1]]),Y=O(G),Q=G.reduce(function(ae,fe){return[Math.min(ae[0],fe[0]),Math.max(ae[1],fe[1])]},[1/0,-1/0])},get:function(){return G.slice()},getConsolidated:function(){return Y},getBounds:function(){return Q}}}function B(G,Y,Q,te,ae,fe){var oe=V();return oe.set(Q),{filter:oe,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:te,brushCallback:H(ae),brushEndCallback:fe}}}function F(G,Y){if(Array.isArray(G[0])?(G=G.map(function(te){return te.sort(x)}),Y.multiselect?G=O(G.sort(s)):G=[G[0]]):G=[G.sort(x)],Y.tickvals){var Q=Y.tickvals.slice().sort(x);if(G=G.map(function(te){var ae=[a(0,Q,te[0],[]),a(1,Q,te[1],[])];if(ae[1]>ae[0])return ae}).filter(function(te){return te}),!G.length)return}return G.length>1?G:G[0]}U.exports={makeBrush:B,ensureAxisBrush:w,cleanRanges:F}},61664:function(U,N,e){U.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(U,N,e){var d=e(33428),P=e(84888)._M,n=e(24196),C=e(9616);N.name="parcoords",N.plot=function(x){var v=P(x.calcdata,"parcoords")[0];v.length&&n(x,v)},N.clean=function(x,v,p,r){var t=r._has&&r._has("parcoords"),o=v._has&&v._has("parcoords");t&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},N.toSVG=function(x){var v=x._fullLayout._glimages,p=d.select(x).selectAll(".svg-container"),r=p.filter(function(o,a){return a===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var o=this,a=o.toDataURL("image/png"),u=v.append("svg:image");u.attr({xmlns:C.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}r.each(t),window.setTimeout(function(){d.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(U,N,e){var d=e(3400).isArrayOrTypedArray,P=e(8932),n=e(71688).wrap;U.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&d(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(p._length),t=[[0,p.line.color],[1,p.line.color]]),n({lineColor:r,cscale:t})};function C(x){for(var v=new Array(x),p=0;p<x;p++)v[p]=.5;return v}},30140:function(U){U.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(U,N,e){var d=e(3400),P=e(94288).hasColorscale,n=e(27260),C=e(86968).Q,x=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,o=e(26284);function a(f,l,y,c,T){var h=T("line.color",y);if(P(f,"line")&&d.isArrayOrTypedArray(h)){if(h.length)return T("line.colorscale"),n(f,l,c,T,{prefix:"line.",cLetter:"c"}),h.length;l.line.color=y}return 1/0}function u(f,l,y,c){function T(A,R){return d.coerce(f,l,p.dimensions,A,R)}var h=T("values"),i=T("visible");if(h&&h.length||(i=l.visible=!1),i){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var g=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:g},v.setConvert(l._ax,c.layout),T("multiselect");var b=T("constraintrange");b&&(l.constraintrange=r.cleanRanges(b,l))}}U.exports=function(l,y,c,T){function h(R,m){return d.coerce(l,y,p,R,m)}var i=l.dimensions;Array.isArray(i)&&i.length>t&&(d.log("parcoords traces support up to "+t+" dimensions at the moment"),i.splice(t));var g=x(l,y,{name:"dimensions",layout:T,handleItemDefaults:u}),b=a(l,y,c,T,h);C(y,T,h),(!Array.isArray(g)||!g.length)&&(y.visible=!1),o(y,g,"values",b);var A=d.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});d.coerceFont(h,"labelfont",A),d.coerceFont(h,"tickfont",A,{autoShadowDflt:!0}),d.coerceFont(h,"rangefont",A),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},95724:function(U,N,e){var d=e(3400).isTypedArray;N.convertTypedArray=function(P){return d(P)?Array.prototype.slice.call(P):P},N.isOrdinal=function(P){return!!P.tickvals},N.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(U,N,e){var d=e(61664);d.plot=e(24196),U.exports=d},51352:function(U,N,e){var d=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),n=e(30140).maxDimensionCount,C=e(3400),x=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function o(m){m.read({x:0,y:0,width:1,height:1,data:p})}function a(m,L,M,s,S){var w=m._gl;w.enable(w.SCISSOR_TEST),w.scissor(L,M,s,S),m.clear({color:[0,0,0,0],depth:1})}function u(m,L,M,s,S,w){var _=w.key;function I(H){var O=Math.min(s,S-H*s);H===0&&(window.cancelAnimationFrame(M.currentRafs[_]),delete M.currentRafs[_],a(m,w.scissorX,w.scissorY,w.scissorWidth,w.viewBoxSize[1])),!M.clearOnly&&(w.count=2*O,w.offset=2*H*s,L(w),H*s+O<S&&(M.currentRafs[_]=window.requestAnimationFrame(function(){I(H+1)})),M.drawCompleted=!1)}M.drawCompleted||(o(m),M.drawCompleted=!0),I(0)}function f(m){return Math.max(x,Math.min(1-x,m))}function l(m,L){for(var M=new Array(256),s=0;s<256;s++)M[s]=m(s/255).concat(L);return M}function y(m,L){return(m>>>8*L)%256/255}function c(m,L,M){for(var s=new Array(m*(n+4)),S=0,w=0;w<m;w++){for(var _=0;_<n;_++)s[S++]=_<L.length?L[_].paddedUnitValues[w]:.5;s[S++]=y(w,2),s[S++]=y(w,1),s[S++]=y(w,0),s[S++]=f(M[w])}return s}function T(m,L,M){for(var s=new Array(L*8),S=0,w=0;w<L;w++)for(var _=0;_<2;_++)for(var I=0;I<4;I++){var H=m*4+I,O=M[w*64+H];H===63&&_===0&&(O*=-1),s[S++]=O}return s}function h(m){var L="0"+m;return L.substr(L.length-2)}function i(m){return m<n?"p"+h(m+1)+"_"+h(m+4):"colors"}function g(m,L,M){for(var s=0;s<=n;s+=4)m[i(s)](T(s/4,L,M))}function b(m){for(var L={},M=0;M<=n;M+=4)L[i(M)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return L}function A(m,L,M,s,S,w,_,I,H,O,V,B,F,G){for(var Y=[[],[]],Q=0;Q<64;Q++)Y[0][Q]=Q===S?1:0,Y[1][Q]=Q===w?1:0;_*=G,I*=G,H*=G,O*=G;var te=m.lines.canvasOverdrag*G,ae=m.domain,fe=m.canvasWidth*G,oe=m.canvasHeight*G,J=m.pad.l*G,ee=m.pad.b*G,X=m.layoutHeight*G,q=m.layoutWidth*G,le=m.deselectedLines.color,$=m.deselectedLines.opacity,j=C.extendFlat({key:V,resolution:[fe,oe],viewBoxPos:[_+te,I],viewBoxSize:[H,O],i0:S,i1:w,dim0A:Y[0].slice(0,16),dim0B:Y[0].slice(16,32),dim0C:Y[0].slice(32,48),dim0D:Y[0].slice(48,64),dim1A:Y[1].slice(0,16),dim1B:Y[1].slice(16,32),dim1C:Y[1].slice(32,48),dim1D:Y[1].slice(48,64),drwLayer:B,contextColor:[le[0]/255,le[1]/255,le[2]/255,$!=="auto"?le[3]*$:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(s===L?0:_+te)+(J-te)+q*ae.x[0],scissorWidth:(s===M?fe-_+te:H+.5)+(s===L?_+te:0),scissorY:I+ee+X*ae.y[0],scissorHeight:O,viewportX:J-te+q*ae.x[0],viewportY:ee+X*ae.y[0],viewportWidth:fe,viewportHeight:oe},F);return j}function R(m){var L=v-1,M=Math.max(0,Math.floor(m[0]*L),0),s=Math.min(L,Math.ceil(m[1]*L),L);return[Math.min(M,s),Math.max(M,s)]}U.exports=function(m,L){var M=L.context,s=L.pick,S=L.regl,w=S._gl,_=w.getParameter(w.ALIASED_LINE_WIDTH_RANGE),I=Math.max(_[0],Math.min(_[1],L.viewModel.plotGlPixelRatio)),H={currentRafs:{},drawCompleted:!0,clearOnly:!1},O,V,B,F,G=b(S),Y,Q=S.texture(t),te=[];fe(L);var ae=S({profile:!1,blend:{enable:M,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!M,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:S.prop("scissorX"),y:S.prop("scissorY"),width:S.prop("scissorWidth"),height:S.prop("scissorHeight")}},viewport:{x:S.prop("viewportX"),y:S.prop("viewportY"),width:S.prop("viewportWidth"),height:S.prop("viewportHeight")},dither:!1,vert:d,frag:P,primitive:"lines",lineWidth:I,attributes:G,uniforms:{resolution:S.prop("resolution"),viewBoxPos:S.prop("viewBoxPos"),viewBoxSize:S.prop("viewBoxSize"),dim0A:S.prop("dim0A"),dim1A:S.prop("dim1A"),dim0B:S.prop("dim0B"),dim1B:S.prop("dim1B"),dim0C:S.prop("dim0C"),dim1C:S.prop("dim1C"),dim0D:S.prop("dim0D"),dim1D:S.prop("dim1D"),loA:S.prop("loA"),hiA:S.prop("hiA"),loB:S.prop("loB"),hiB:S.prop("hiB"),loC:S.prop("loC"),hiC:S.prop("hiC"),loD:S.prop("loD"),hiD:S.prop("hiD"),palette:Q,contextColor:S.prop("contextColor"),maskTexture:S.prop("maskTexture"),drwLayer:S.prop("drwLayer"),maskHeight:S.prop("maskHeight")},offset:S.prop("offset"),count:S.prop("count")});function fe(le){O=le.model,V=le.viewModel,B=V.dimensions.slice(),F=B[0]?B[0].values.length:0;var $=O.lines,j=s?$.color.map(function(ne,he){return he/$.color.length}):$.color,se=c(F,B,j);g(G,F,se),!M&&!s&&(Q=S.texture(C.extendFlat({data:l(O.unitToColor,255)},t)))}function oe(le){var $,j,se,ne=[[],[]];for(se=0;se<64;se++){var he=!le&&se<B.length?B[se].brush.filter.getBounds():[-1/0,1/0];ne[0][se]=he[0],ne[1][se]=he[1]}var me=v*8,we=new Array(me);for($=0;$<me;$++)we[$]=255;if(!le)for($=0;$<B.length;$++){var Te=$%8,Le=($-Te)/8,Ie=Math.pow(2,Te),ze=B[$],Me=ze.brush.filter.get();if(!(Me.length<2)){var _e=R(Me[0])[1];for(j=1;j<Me.length;j++){var Ce=R(Me[j]);for(se=_e+1;se<Ce[0];se++)we[se*8+Le]&=~Ie;_e=Math.max(_e,Ce[1])}}}var Oe={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return Y?Y(Oe):Y=S.texture(Oe),{maskTexture:Y,maskHeight:v,loA:ne[0].slice(0,16),loB:ne[0].slice(16,32),loC:ne[0].slice(32,48),loD:ne[0].slice(48,64),hiA:ne[1].slice(0,16),hiB:ne[1].slice(16,32),hiC:ne[1].slice(32,48),hiD:ne[1].slice(48,64)}}function J(le,$,j){var se=le.length,ne,he,me,we=1/0,Te=-1/0;for(ne=0;ne<se;ne++)le[ne].dim0.canvasX<we&&(we=le[ne].dim0.canvasX,he=ne),le[ne].dim1.canvasX>Te&&(Te=le[ne].dim1.canvasX,me=ne);se===0&&a(S,0,0,O.canvasWidth,O.canvasHeight);var Le=oe(M);for(ne=0;ne<se;ne++){var Ie=le[ne],ze=Ie.dim0.crossfilterDimensionIndex,Me=Ie.dim1.crossfilterDimensionIndex,_e=Ie.canvasX,Ce=Ie.canvasY,Oe=_e+Ie.panelSizeX,Pe=Ie.plotGlPixelRatio;if($||!te[ze]||te[ze][0]!==_e||te[ze][1]!==Oe){te[ze]=[_e,Oe];var Ge=A(O,he,me,ne,ze,Me,_e,Ce,Ie.panelSizeX,Ie.panelSizeY,Ie.dim0.crossfilterDimensionIndex,M?0:s?2:1,Le,Pe);H.clearOnly=j;var Ze=$?O.lines.blockLineCount:F;u(S,ae,H,Ze,F,Ge)}}}function ee(le,$){return S.read({x:le,y:$,width:1,height:1,data:r}),r}function X(le,$,j,se){var ne=new Uint8Array(4*j*se);return S.read({x:le,y:$,width:j,height:se,data:ne}),ne}function q(){m.style["pointer-events"]="none",Q.destroy(),Y&&Y.destroy();for(var le in G)G[le].destroy()}return{render:J,readPixel:ee,readPixels:X,destroy:q,update:fe}}},26284:function(U){U.exports=function(N,e,d,P){P||(P=1/0);var n,C;for(n=0;n<e.length;n++)C=e[n],C.visible&&(P=Math.min(P,C[d].length));for(P===1/0&&(P=0),N._length=P,n=0;n<e.length;n++)C=e[n],C.visible&&(C._length=P);return P}},36336:function(U,N,e){var d=e(33428),P=e(3400),n=P.isArrayOrTypedArray,C=P.numberFormat,x=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),o=e(43616),a=e(8932),u=e(71688),f=u.keyFun,l=u.repeat,y=u.unwrap,c=e(95724),T=e(30140),h=e(71864),i=e(51352);function g(te,ae,fe){return P.aggNums(te,null,ae,fe)}function b(te,ae){return R(g(Math.min,te,ae),g(Math.max,te,ae))}function A(te){var ae=te.range;return ae?R(ae[0],ae[1]):b(te.values,te._length)}function R(te,ae){return(isNaN(te)||!isFinite(te))&&(te=0),(isNaN(ae)||!isFinite(ae))&&(ae=0),te===ae&&(te===0?(te-=1,ae+=1):(te*=.9,ae*=1.1)),[te,ae]}function m(te,ae){return ae?function(fe,oe){var J=ae[oe];return J??te(fe)}:te}function L(te,ae,fe,oe,J){var ee=A(fe);return oe?d.scale.ordinal().domain(oe.map(m(C(fe.tickformat),J))).range(oe.map(function(X){var q=(X-ee[0])/(ee[1]-ee[0]);return te-ae+q*(2*ae-te)})):d.scale.linear().domain(ee).range([te-ae,ae])}function M(te,ae){return d.scale.linear().range([ae,te-ae])}function s(te,ae){return d.scale.linear().domain(A(te)).range([ae,1-ae])}function S(te){if(te.tickvals){var ae=A(te);return d.scale.ordinal().domain(te.tickvals).range(te.tickvals.map(function(fe){return(fe-ae[0])/(ae[1]-ae[0])}))}}function w(te){var ae=te.map(function(ee){return ee[0]}),fe=te.map(function(ee){var X=x(ee[1]);return d.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),oe=function(ee){return function(X){return X[ee]}},J="rgb".split("").map(function(ee){return d.scale.linear().clamp(!0).domain(ae).range(fe.map(oe(ee)))});return function(ee){return J.map(function(X){return X(ee)})}}function _(te){return te.dimensions.some(function(ae){return ae.brush.filterSpecified})}function I(te,ae,fe){var oe=y(ae),J=oe.trace,ee=c.convertTypedArray(oe.lineColor),X=J.line,q={color:x(J.unselected.line.color),opacity:J.unselected.line.opacity},le=a.extractOpts(X),$=le.reversescale?a.flipScale(oe.cscale):oe.cscale,j=J.domain,se=J.dimensions,ne=te.width,he=J.labelangle,me=J.labelside,we=J.labelfont,Te=J.tickfont,Le=J.rangefont,Ie=P.extendDeepNoArrays({},X,{color:ee.map(d.scale.linear().domain(A({values:ee,range:[le.min,le.max],_length:J._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),ze=Math.floor(ne*(j.x[1]-j.x[0])),Me=Math.floor(te.height*(j.y[1]-j.y[0])),_e=te.margin||{l:80,r:80,t:100,b:80},Ce=ze,Oe=Me;return{key:fe,colCount:se.filter(c.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:w($),lines:Ie,deselectedLines:q,labelAngle:he,labelSide:me,labelFont:we,tickFont:Te,rangeFont:Le,layoutWidth:ne,layoutHeight:te.height,domain:j,translateX:j.x[0]*ne,translateY:te.height-j.y[1]*te.height,pad:_e,canvasWidth:Ce*T.canvasPixelRatio+2*Ie.canvasOverdrag,canvasHeight:Oe*T.canvasPixelRatio,width:Ce,height:Oe,canvasPixelRatio:T.canvasPixelRatio}}function H(te,ae,fe){var oe=fe.width,J=fe.height,ee=fe.dimensions,X=fe.canvasPixelRatio,q=function(ne){return oe*ne/Math.max(1,fe.colCount-1)},le=T.verticalPadding/J,$=M(J,T.verticalPadding),j={key:fe.key,xScale:q,model:fe,inBrushDrag:!1},se={};return j.dimensions=ee.filter(c.isVisible).map(function(ne,he){var me=s(ne,le),we=se[ne.label];se[ne.label]=(we||0)+1;var Te=ne.label+(we?"__"+we:""),Le=ne.constraintrange,Ie=Le&&Le.length;Ie&&!n(Le[0])&&(Le=[Le]);var ze=Ie?Le.map(function(et){return et.map(me)}):[[-1/0,1/0]],Me=function(){var et=j;et.focusLayer&&et.focusLayer.render(et.panels,!0);var ft=_(et);!te.contextShown()&&ft?(et.contextLayer&&et.contextLayer.render(et.panels,!0),te.contextShown(!0)):te.contextShown()&&!ft&&(et.contextLayer&&et.contextLayer.render(et.panels,!0,!0),te.contextShown(!1))},_e=ne.values;_e.length>ne._length&&(_e=_e.slice(0,ne._length));var Ce=ne.tickvals,Oe;function Pe(et,ft){return{val:et,text:Oe[ft]}}function Ge(et,ft){return et.val-ft.val}if(n(Ce)&&Ce.length){P.isTypedArray(Ce)&&(Ce=Array.from(Ce)),Oe=ne.ticktext,!n(Oe)||!Oe.length?Oe=Ce.map(C(ne.tickformat)):Oe.length>Ce.length?Oe=Oe.slice(0,Ce.length):Ce.length>Oe.length&&(Ce=Ce.slice(0,Oe.length));for(var Ze=1;Ze<Ce.length;Ze++)if(Ce[Ze]<Ce[Ze-1]){for(var it=Ce.map(Pe).sort(Ge),Je=0;Je<Ce.length;Je++)Ce[Je]=it[Je].val,Oe[Je]=it[Je].text;break}}else Ce=void 0;return _e=c.convertTypedArray(_e),{key:Te,label:ne.label,tickFormat:ne.tickformat,tickvals:Ce,ticktext:Oe,ordinal:c.isOrdinal(ne),multiselect:ne.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ne._index,height:J,values:_e,paddedUnitValues:_e.map(me),unitTickvals:Ce&&Ce.map(me),xScale:q,x:q(he),canvasX:q(he)*X,unitToPaddedPx:$,domainScale:L(J,T.verticalPadding,ne,Ce,Oe),ordinalScale:S(ne),parent:j,model:fe,brush:h.makeBrush(te,Ie,ze,function(){te.linePickActive(!1)},Me,function(et){if(j.focusLayer.render(j.panels,!0),j.pickLayer&&j.pickLayer.render(j.panels,!0),te.linePickActive(!0),ae&&ae.filterChanged){var ft=me.invert,vt=et.map(function(dt){return dt.map(ft).sort(P.sorterAsc)}).sort(function(dt,xt){return dt[0]-xt[0]});ae.filterChanged(j.key,ne._index,vt)}})}}),j}function O(te){te.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function V(){var te=!0,ae=!1;return{linePickActive:function(fe){return arguments.length?te=!!fe:te},contextShown:function(fe){return arguments.length?ae=!!fe:ae}}}function B(te,ae){var fe=ae==="top"?1:-1,oe=te*Math.PI/180,J=Math.sin(oe),ee=Math.cos(oe);return{dir:fe,dx:J,dy:ee,degrees:te}}function F(te,ae,fe){for(var oe=ae.panels||(ae.panels=[]),J=te.data(),ee=0;ee<J.length-1;ee++){var X=oe[ee]||(oe[ee]={}),q=J[ee],le=J[ee+1];X.dim0=q,X.dim1=le,X.canvasX=q.canvasX,X.panelSizeX=le.canvasX-q.canvasX,X.panelSizeY=ae.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=fe}}function G(te){for(var ae=0;ae<te.length;ae++)for(var fe=0;fe<te[ae].length;fe++)for(var oe=te[ae][fe].trace,J=oe.dimensions,ee=0;ee<J.length;ee++){var X=J[ee].values,q=J[ee]._ax;q&&(q.range?q.range=R(q.range[0],q.range[1]):q.range=b(X,oe._length),q.dtick||(q.dtick=.01*(Math.abs(q.range[1]-q.range[0])||1)),q.tickformat=J[ee].tickformat,v.calcTicks(q),q.cleanRange())}}function Y(te,ae){return v.tickText(te._ax,ae,!1).text}function Q(te,ae){if(te.ordinal)return"";var fe=te.domainScale.domain(),oe=fe[ae?fe.length-1:0];return Y(te.model.dimensions[te.visibleIndex],oe)}U.exports=function(ae,fe,oe,J){var ee=ae._context.staticPlot,X=ae._fullLayout,q=X._toppaper,le=X._glcontainer,$=ae._context.plotGlPixelRatio,j=ae._fullLayout.paper_bgcolor;G(fe);var se=V(),ne=fe.filter(function(Je){return y(Je).trace.visible}).map(I.bind(0,oe)).map(H.bind(0,se,J));le.each(function(Je,et){return P.extendFlat(Je,ne[et])});var he=le.selectAll(".gl-canvas").each(function(Je){Je.viewModel=ne[0],Je.viewModel.plotGlPixelRatio=$,Je.viewModel.paperColor=j,Je.model=Je.viewModel?Je.viewModel.model:null}),me=null,we=he.filter(function(Je){return Je.pick});we.style("pointer-events",ee?"none":"auto").on("mousemove",function(Je){if(se.linePickActive()&&Je.lineLayer&&J&&J.hover){var et=d.event,ft=this.width,vt=this.height,dt=d.mouse(this),xt=dt[0],Mt=dt[1];if(xt<0||Mt<0||xt>=ft||Mt>=vt)return;var nt=Je.lineLayer.readPixel(xt,vt-1-Mt),Fe=nt[3]!==0,We=Fe?nt[2]+256*(nt[1]+256*nt[0]):null,je={x:xt,y:Mt,clientX:et.clientX,clientY:et.clientY,dataIndex:Je.model.key,curveNumber:We};We!==me&&(Fe?J.hover(je):J.unhover&&J.unhover(je),me=We)}}),he.style("opacity",function(Je){return Je.pick?0:1}),q.style("background","rgba(255, 255, 255, 0)");var Te=q.selectAll("."+T.cn.parcoords).data(ne,f);Te.exit().remove(),Te.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Te.attr("transform",function(Je){return r(Je.model.translateX,Je.model.translateY)});var Le=Te.selectAll("."+T.cn.parcoordsControlView).data(l,f);Le.enter().append("g").classed(T.cn.parcoordsControlView,!0),Le.attr("transform",function(Je){return r(Je.model.pad.l,Je.model.pad.t)});var Ie=Le.selectAll("."+T.cn.yAxis).data(function(Je){return Je.dimensions},f);Ie.enter().append("g").classed(T.cn.yAxis,!0),Le.each(function(Je){F(Ie,Je,$)}),he.each(function(Je){if(Je.viewModel){!Je.lineLayer||J?Je.lineLayer=i(this,Je):Je.lineLayer.update(Je),(Je.key||Je.key===0)&&(Je.viewModel[Je.key]=Je.lineLayer);var et=!Je.context||J;Je.lineLayer.render(Je.viewModel.panels,et)}}),Ie.attr("transform",function(Je){return r(Je.xScale(Je.xIndex),0)}),Ie.call(d.behavior.drag().origin(function(Je){return Je}).on("drag",function(Je){var et=Je.parent;se.linePickActive(!1),Je.x=Math.max(-T.overdrag,Math.min(Je.model.width+T.overdrag,d.event.x)),Je.canvasX=Je.x*Je.model.canvasPixelRatio,Ie.sort(function(ft,vt){return ft.x-vt.x}).each(function(ft,vt){ft.xIndex=vt,ft.x=Je===ft?ft.x:ft.xScale(ft.xIndex),ft.canvasX=ft.x*ft.model.canvasPixelRatio}),F(Ie,et,$),Ie.filter(function(ft){return Math.abs(Je.xIndex-ft.xIndex)!==0}).attr("transform",function(ft){return r(ft.xScale(ft.xIndex),0)}),d.select(this).attr("transform",r(Je.x,0)),Ie.each(function(ft,vt,dt){dt===Je.parent.key&&(et.dimensions[vt]=ft)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!_(et)),et.focusLayer.render&&et.focusLayer.render(et.panels)}).on("dragend",function(Je){var et=Je.parent;Je.x=Je.xScale(Je.xIndex),Je.canvasX=Je.x*Je.model.canvasPixelRatio,F(Ie,et,$),d.select(this).attr("transform",function(ft){return r(ft.x,0)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!_(et)),et.focusLayer&&et.focusLayer.render(et.panels),et.pickLayer&&et.pickLayer.render(et.panels,!0),se.linePickActive(!0),J&&J.axesMoved&&J.axesMoved(et.key,et.dimensions.map(function(ft){return ft.crossfilterDimensionIndex}))})),Ie.exit().remove();var ze=Ie.selectAll("."+T.cn.axisOverlays).data(l,f);ze.enter().append("g").classed(T.cn.axisOverlays,!0),ze.selectAll("."+T.cn.axis).remove();var Me=ze.selectAll("."+T.cn.axis).data(l,f);Me.enter().append("g").classed(T.cn.axis,!0),Me.each(function(Je){var et=Je.model.height/Je.model.tickDistance,ft=Je.domainScale,vt=ft.domain();d.select(this).call(d.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(et,Je.tickFormat).tickValues(Je.ordinal?vt:null).tickFormat(function(dt){return c.isOrdinal(Je)?dt:Y(Je.model.dimensions[Je.visibleIndex],dt)}).scale(ft)),o.font(Me.selectAll("text"),Je.model.tickFont)}),Me.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Me.selectAll("text").style("cursor","default");var _e=ze.selectAll("."+T.cn.axisHeading).data(l,f);_e.enter().append("g").classed(T.cn.axisHeading,!0);var Ce=_e.selectAll("."+T.cn.axisTitle).data(l,f);Ce.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ee?"none":"auto"),Ce.text(function(Je){return Je.label}).each(function(Je){var et=d.select(this);o.font(et,Je.model.labelFont),t.convertToTspans(et,ae)}).attr("transform",function(Je){var et=B(Je.model.labelAngle,Je.model.labelSide),ft=T.axisTitleOffset;return(et.dir>0?"":r(0,2*ft+Je.model.height))+p(et.degrees)+r(-ft*et.dx,-ft*et.dy)}).attr("text-anchor",function(Je){var et=B(Je.model.labelAngle,Je.model.labelSide),ft=Math.abs(et.dx),vt=Math.abs(et.dy);return 2*ft>vt?et.dir*et.dx<0?"start":"end":"middle"});var Oe=ze.selectAll("."+T.cn.axisExtent).data(l,f);Oe.enter().append("g").classed(T.cn.axisExtent,!0);var Pe=Oe.selectAll("."+T.cn.axisExtentTop).data(l,f);Pe.enter().append("g").classed(T.cn.axisExtentTop,!0),Pe.attr("transform",r(0,-T.axisExtentOffset));var Ge=Pe.selectAll("."+T.cn.axisExtentTopText).data(l,f);Ge.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(O),Ge.text(function(Je){return Q(Je,!0)}).each(function(Je){o.font(d.select(this),Je.model.rangeFont)});var Ze=Oe.selectAll("."+T.cn.axisExtentBottom).data(l,f);Ze.enter().append("g").classed(T.cn.axisExtentBottom,!0),Ze.attr("transform",function(Je){return r(0,Je.model.height+T.axisExtentOffset)});var it=Ze.selectAll("."+T.cn.axisExtentBottomText).data(l,f);it.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(O),it.text(function(Je){return Q(Je,!1)}).each(function(Je){o.font(d.select(this),Je.model.rangeFont)}),h.ensureAxisBrush(ze,j,ae)}},24196:function(U,N,e){var d=e(36336),P=e(5048),n=e(95724).isVisible,C={};function x(r,t,o){var a=t.indexOf(o),u=r.indexOf(a);return u===-1&&(u+=t.length),u}function v(r,t){return function(a,u){return x(r,t,a)-x(r,t,u)}}var p=U.exports=function(t,o){var a=t._fullLayout,u=P(t,[],C);if(u){var f={},l={},y={},c={},T=a._size;o.forEach(function(A,R){var m=A[0].trace;y[R]=m.index;var L=c[R]=m._fullInput.index;f[R]=t.data[L].dimensions,l[R]=t.data[L].dimensions.slice()});var h=function(A,R,m){var L=l[A][R],M=m.map(function(H){return H.slice()}),s="dimensions["+R+"].constraintrange",S=a._tracePreGUI[t._fullData[y[A]]._fullInput.uid];if(S[s]===void 0){var w=L.constraintrange;S[s]=w||null}var _=t._fullData[y[A]].dimensions[R];M.length?(M.length===1&&(M=M[0]),L.constraintrange=M,_.constraintrange=M.slice(),M=[M]):(delete L.constraintrange,delete _.constraintrange,M=null);var I={};I[s]=M,t.emit("plotly_restyle",[I,[c[A]]])},i=function(A){t.emit("plotly_hover",A)},g=function(A){t.emit("plotly_unhover",A)},b=function(A,R){var m=v(R,l[A].filter(n));f[A].sort(m),l[A].filter(function(L){return!n(L)}).sort(function(L){return l[A].indexOf(L)}).forEach(function(L){f[A].splice(f[A].indexOf(L),1),f[A].splice(l[A].indexOf(L),0,L)}),t.emit("plotly_restyle",[{dimensions:[f[A]]},[c[A]]])};d(t,o,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:h,hover:i,unhover:g,axesMoved:b})}};p.reglPrecompiled=C},74996:function(U,N,e){var d=e(45464),P=e(86968).u,n=e(25376),C=e(22548),x=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});U.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},d.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:x({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(U,N,e){var d=e(7316);N.name="pie",N.plot=function(P,n,C,x){d.plotBasePlot(N.name,P,n,C,x)},N.clean=function(P,n,C,x){d.cleanBasePlot(N.name,P,n,C,x)}},45768:function(U,N,e){var d=e(38248),P=e(49760),n=e(76308),C={};function x(t,o){var a=[],u=t._fullLayout,f=u.hiddenlabels||[],l=o.labels,y=o.marker.colors||[],c=o.values,T=o._length,h=o._hasValues&&T,i,g;if(o.dlabel)for(l=new Array(T),i=0;i<T;i++)l[i]=String(o.label0+i*o.dlabel);var b={},A=v(u["_"+o.type+"colormap"]),R=0,m=!1;for(i=0;i<T;i++){var L,M,s;if(h){if(L=c[i],!d(L))continue;L=+L}else L=1;M=l[i],(M===void 0||M==="")&&(M=i),M=String(M);var S=b[M];S===void 0?(b[M]=a.length,s=f.indexOf(M)!==-1,s||(R+=L),a.push({v:L,label:M,color:A(y[i],M),i,pts:[i],hidden:s})):(m=!0,g=a[S],g.v+=L,g.pts.push(i),g.hidden||(R+=L),g.color===!1&&y[i]&&(g.color=A(y[i],M)))}a=a.filter(function(_){return _.v>=0});var w=o.type==="funnelarea"?m:o.sort;return w&&a.sort(function(_,I){return I.v-_.v}),a[0]&&(a[0].vTotal=R),a}function v(t){return function(a,u){return!a||(a=P(a),!a.isValid())?!1:(a=n.addOpacity(a,a.getAlpha()),t[u]||(t[u]=a),a)}}function p(t,o){var a=(o||{}).type;a||(a="pie");var u=t._fullLayout,f=t.calcdata,l=u[a+"colorway"],y=u["_"+a+"colormap"];u["extend"+a+"colors"]&&(l=r(l,C));for(var c=0,T=0;T<f.length;T++){var h=f[T],i=h[0].trace.type;if(i===a)for(var g=0;g<h.length;g++){var b=h[g];b.color===!1&&(y[b.label]?b.color=y[b.label]:(y[b.label]=b.color=l[c%l.length],c++))}}}function r(t,o){var a,u=JSON.stringify(t),f=o[u];if(!f){for(f=t.slice(),a=0;a<t.length;a++)f.push(P(t[a]).lighten(20).toHexString());for(a=0;a<t.length;a++)f.push(P(t[a]).darken(20).toHexString());o[u]=f}return f}U.exports={calc:x,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(U,N,e){var d=e(38248),P=e(3400),n=e(74996),C=e(86968).Q,x=e(31508).handleText,v=e(3400).coercePattern;function p(o,a){var u=P.isArrayOrTypedArray(o),f=P.isArrayOrTypedArray(a),l=Math.min(u?o.length:1/0,f?a.length:1/0);if(isFinite(l)||(l=0),l&&f){for(var y,c=0;c<l;c++){var T=a[c];if(d(T)&&T>0){y=!0;break}}y||(l=0)}return{hasLabels:u,hasValues:f,len:l}}function r(o,a,u,f,l){var y=f("marker.line.width");y&&f("marker.line.color",l?void 0:u.paper_bgcolor);var c=f("marker.colors");v(f,"marker.pattern",c),o.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=o.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=u.paper_bgcolor)}function t(o,a,u,f){function l(S,w){return P.coerce(o,a,n,S,w)}var y=l("labels"),c=l("values"),T=p(y,c),h=T.len;if(a._hasLabels=T.hasLabels,a._hasValues=T.hasValues,!a._hasLabels&&a._hasValues&&(l("label0"),l("dlabel")),!h){a.visible=!1;return}a._length=h,r(o,a,f,l,!0),l("scalegroup");var i=l("text"),g=l("texttemplate"),b;if(g||(b=l("textinfo",P.isArrayOrTypedArray(i)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),g||b&&b!=="none"){var A=l("textposition");x(o,a,f,l,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var R=Array.isArray(A)||A==="auto",m=R||A==="outside";m&&l("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&l("insidetextorientation")}else b==="none"&&l("textposition","none");C(a,f,l);var L=l("hole"),M=l("title.text");if(M){var s=l("title.position",L?"middle center":"top center");!L&&s==="middle center"&&(a.title.position="top center"),P.coerceFont(l,"title.font",f.font)}l("sort"),l("direction"),l("rotation"),l("pull")}U.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(U,N,e){var d=e(10624).appendArrayMultiPointValues;U.exports=function(n,C){var x={curveNumber:C.index,pointNumbers:n.pts,data:C._input,fullData:C,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(x.pointNumber=x.i=n.pts[0]),d(x,C,n.pts),C.type==="funnelarea"&&(delete x.v,delete x.i),x}},21552:function(U,N,e){var d=e(43616),P=e(76308);U.exports=function(C,x,v,p){var r=v.marker.pattern;r&&r.shape?d.pointStyle(C,v,p,x):P.fill(C,x.color)}},69656:function(U,N,e){var d=e(3400);function P(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}N.formatPiePercent=function(C,x){var v=P((C*100).toPrecision(3));return d.numSeparate(v,x)+"%"},N.formatPieValue=function(C,x){var v=P(C.toPrecision(10));return d.numSeparate(v,x)},N.getFirstFilled=function(C,x){if(d.isArrayOrTypedArray(C))for(var v=0;v<x.length;v++){var p=C[x[v]];if(p||p===0||p==="")return p}},N.castOption=function(C,x){if(d.isArrayOrTypedArray(C))return N.getFirstFilled(C,x);if(C)return C},N.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},75792:function(U,N,e){U.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(U){U.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(U,N,e){var d=e(3400),P=e(85204);U.exports=function(C,x){function v(p,r){return d.coerce(C,x,P,p,r)}v("hiddenlabels"),v("piecolorway",x.colorway),v("extendpiecolors")}},37820:function(U,N,e){var d=e(33428),P=e(7316),n=e(93024),C=e(76308),x=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),o=e(82744),a=o.recordMinTextSize,u=o.clearMinTextSize,f=e(78048).TEXTPAD,l=e(69656),y=e(53644),c=e(3400).isValidTextValue;function T(J,ee){var X=J._context.staticPlot,q=J._fullLayout,le=q._size;u("pie",q),A(ee,J),Y(ee,le);var $=v.makeTraceGroups(q._pielayer,ee,"trace").each(function(j){var se=d.select(this),ne=j[0],he=ne.trace;te(j),se.attr("stroke-linejoin","round"),se.each(function(){var me=d.select(this).selectAll("g.slice").data(j);me.enter().append("g").classed("slice",!0),me.exit().remove();var we=[[[],[]],[[],[]]],Te=!1;me.each(function(Pe,Ge){if(Pe.hidden){d.select(this).selectAll("path,g").remove();return}Pe.pointNumber=Pe.i,Pe.curveNumber=he.index,we[Pe.pxmid[1]<0?0:1][Pe.pxmid[0]<0?0:1].push(Pe);var Ze=ne.cx,it=ne.cy,Je=d.select(this),et=Je.selectAll("path.surface").data([Pe]);if(et.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Je.call(i,J,j),he.pull){var ft=+l.castOption(he.pull,Pe.pts)||0;ft>0&&(Ze+=ft*Pe.pxmid[0],it+=ft*Pe.pxmid[1])}Pe.cxFinal=Ze,Pe.cyFinal=it;function vt(je,Ke,ke,Ue){var Ve=Ue*(Ke[0]-je[0]),Re=Ue*(Ke[1]-je[1]);return"a"+Ue*ne.r+","+Ue*ne.r+" 0 "+Pe.largeArc+(ke?" 1 ":" 0 ")+Ve+","+Re}var dt=he.hole;if(Pe.v===ne.vTotal){var xt="M"+(Ze+Pe.px0[0])+","+(it+Pe.px0[1])+vt(Pe.px0,Pe.pxmid,!0,1)+vt(Pe.pxmid,Pe.px0,!0,1)+"Z";dt?et.attr("d","M"+(Ze+dt*Pe.px0[0])+","+(it+dt*Pe.px0[1])+vt(Pe.px0,Pe.pxmid,!1,dt)+vt(Pe.pxmid,Pe.px0,!1,dt)+"Z"+xt):et.attr("d",xt)}else{var Mt=vt(Pe.px0,Pe.px1,!0,1);if(dt){var nt=1-dt;et.attr("d","M"+(Ze+dt*Pe.px1[0])+","+(it+dt*Pe.px1[1])+vt(Pe.px1,Pe.px0,!1,dt)+"l"+nt*Pe.px0[0]+","+nt*Pe.px0[1]+Mt+"Z")}else et.attr("d","M"+Ze+","+it+"l"+Pe.px0[0]+","+Pe.px0[1]+Mt+"Z")}fe(J,Pe,ne);var Fe=l.castOption(he.textposition,Pe.pts),We=Je.selectAll("g.slicetext").data(Pe.text&&Fe!=="none"?[0]:[]);We.enter().append("g").classed("slicetext",!0),We.exit().remove(),We.each(function(){var je=v.ensureSingle(d.select(this),"text","",function(Ne){Ne.attr("data-notex",1)}),Ke=v.ensureUniformFontSize(J,Fe==="outside"?g(he,Pe,q.font):b(he,Pe,q.font));je.text(Pe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(x.font,Ke).call(t.convertToTspans,J);var ke=x.bBox(je.node()),Ue;if(Fe==="outside")Ue=I(ke,Pe);else if(Ue=R(ke,Pe,ne),Fe==="auto"&&Ue.scale<1){var Ve=v.ensureUniformFontSize(J,he.outsidetextfont);je.call(x.font,Ve),ke=x.bBox(je.node()),Ue=I(ke,Pe)}var Re=Ue.textPosAngle,de=Re===void 0?Pe.pxmid:ae(ne.r,Re);if(Ue.targetX=Ze+de[0]*Ue.rCenter+(Ue.x||0),Ue.targetY=it+de[1]*Ue.rCenter+(Ue.y||0),oe(Ue,ke),Ue.outside){var be=Ue.targetY;Pe.yLabelMin=be-ke.height/2,Pe.yLabelMid=be,Pe.yLabelMax=be+ke.height/2,Pe.labelExtraX=0,Pe.labelExtraY=0,Te=!0}Ue.fontSize=Ke.size,a(he.type,Ue,q),j[Ge].transform=Ue,v.setTransormAndDisplay(je,Ue)})});var Le=d.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Le.enter().append("g").classed("titletext",!0),Le.exit().remove(),Le.each(function(){var Pe=v.ensureSingle(d.select(this),"text","",function(it){it.attr("data-notex",1)}),Ge=he.title.text;he._meta&&(Ge=v.templateString(Ge,he._meta)),Pe.text(Ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(x.font,he.title.font).call(t.convertToTspans,J);var Ze;he.title.position==="middle center"?Ze=H(ne):Ze=O(ne,le),Pe.attr("transform",r(Ze.x,Ze.y)+p(Math.min(1,Ze.scale))+r(Ze.tx,Ze.ty))}),Te&&G(we,he),h(me,he),Te&&he.automargin){var Ie=x.bBox(se.node()),ze=he.domain,Me=le.w*(ze.x[1]-ze.x[0]),_e=le.h*(ze.y[1]-ze.y[0]),Ce=(.5*Me-ne.r)/le.w,Oe=(.5*_e-ne.r)/le.h;P.autoMargin(J,"pie."+he.uid+".automargin",{xl:ze.x[0]-Ce,xr:ze.x[1]+Ce,yb:ze.y[0]-Oe,yt:ze.y[1]+Oe,l:Math.max(ne.cx-ne.r-Ie.left,0),r:Math.max(Ie.right-(ne.cx+ne.r),0),b:Math.max(Ie.bottom-(ne.cy+ne.r),0),t:Math.max(ne.cy-ne.r-Ie.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var j=d.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function h(J,ee){J.each(function(X){var q=d.select(this);if(!X.labelExtraX&&!X.labelExtraY){q.select("path.textline").remove();return}var le=q.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(le,X.transform);var $=X.cxFinal+X.pxmid[0],j=X.cyFinal+X.pxmid[1],se="M"+$+","+j,ne=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var he=X.labelExtraX*X.pxmid[1]/X.pxmid[0],me=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(he)>Math.abs(me)?se+="l"+me*X.pxmid[0]/X.pxmid[1]+","+me+"H"+($+X.labelExtraX+ne):se+="l"+X.labelExtraX+","+he+"v"+(me-he)+"h"+ne}else se+="V"+(X.yLabelMid+X.labelExtraY)+"h"+ne;v.ensureSingle(q,"path","textline").call(C.stroke,ee.outsidetextfont.color).attr({"stroke-width":Math.min(2,ee.outsidetextfont.size/8),d:se,fill:"none"})})}function i(J,ee,X){var q=X[0],le=q.cx,$=q.cy,j=q.trace,se=j.type==="funnelarea";"_hasHoverLabel"in j||(j._hasHoverLabel=!1),"_hasHoverEvent"in j||(j._hasHoverEvent=!1),J.on("mouseover",function(ne){var he=ee._fullLayout,me=ee._fullData[j.index];if(!(ee._dragging||he.hovermode===!1)){var we=me.hoverinfo;if(Array.isArray(we)&&(we=n.castHoverinfo({hoverinfo:[l.castOption(we,ne.pts)],_module:j._module},he,0)),we==="all"&&(we="label+text+value+percent+name"),me.hovertemplate||we!=="none"&&we!=="skip"&&we){var Te=ne.rInscribed||0,Le=le+ne.pxmid[0]*(1-Te),Ie=$+ne.pxmid[1]*(1-Te),ze=he.separators,Me=[];if(we&&we.indexOf("label")!==-1&&Me.push(ne.label),ne.text=l.castOption(me.hovertext||me.text,ne.pts),we&&we.indexOf("text")!==-1){var _e=ne.text;v.isValidTextValue(_e)&&Me.push(_e)}ne.value=ne.v,ne.valueLabel=l.formatPieValue(ne.v,ze),we&&we.indexOf("value")!==-1&&Me.push(ne.valueLabel),ne.percent=ne.v/q.vTotal,ne.percentLabel=l.formatPiePercent(ne.percent,ze),we&&we.indexOf("percent")!==-1&&Me.push(ne.percentLabel);var Ce=me.hoverlabel,Oe=Ce.font,Pe=[];n.loneHover({trace:j,x0:Le-Te*q.r,x1:Le+Te*q.r,y:Ie,_x0:se?le+ne.TL[0]:Le-Te*q.r,_x1:se?le+ne.TR[0]:Le+Te*q.r,_y0:se?$+ne.TL[1]:Ie-Te*q.r,_y1:se?$+ne.BL[1]:Ie+Te*q.r,text:Me.join("<br>"),name:me.hovertemplate||we.indexOf("name")!==-1?me.name:void 0,idealAlign:ne.pxmid[0]<0?"left":"right",color:l.castOption(Ce.bgcolor,ne.pts)||ne.color,borderColor:l.castOption(Ce.bordercolor,ne.pts),fontFamily:l.castOption(Oe.family,ne.pts),fontSize:l.castOption(Oe.size,ne.pts),fontColor:l.castOption(Oe.color,ne.pts),nameLength:l.castOption(Ce.namelength,ne.pts),textAlign:l.castOption(Ce.align,ne.pts),hovertemplate:l.castOption(me.hovertemplate,ne.pts),hovertemplateLabels:ne,eventData:[y(ne,me)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:ee,inOut_bbox:Pe}),ne.bbox=Pe[0],j._hasHoverLabel=!0}j._hasHoverEvent=!0,ee.emit("plotly_hover",{points:[y(ne,me)],event:d.event})}}),J.on("mouseout",function(ne){var he=ee._fullLayout,me=ee._fullData[j.index],we=d.select(this).datum();j._hasHoverEvent&&(ne.originalEvent=d.event,ee.emit("plotly_unhover",{points:[y(we,me)],event:d.event}),j._hasHoverEvent=!1),j._hasHoverLabel&&(n.loneUnhover(he._hoverlayer.node()),j._hasHoverLabel=!1)}),J.on("click",function(ne){var he=ee._fullLayout,me=ee._fullData[j.index];ee._dragging||he.hovermode===!1||(ee._hoverdata=[y(ne,me)],n.click(ee,d.event))})}function g(J,ee,X){var q=l.castOption(J.outsidetextfont.color,ee.pts)||l.castOption(J.textfont.color,ee.pts)||X.color,le=l.castOption(J.outsidetextfont.family,ee.pts)||l.castOption(J.textfont.family,ee.pts)||X.family,$=l.castOption(J.outsidetextfont.size,ee.pts)||l.castOption(J.textfont.size,ee.pts)||X.size,j=l.castOption(J.outsidetextfont.weight,ee.pts)||l.castOption(J.textfont.weight,ee.pts)||X.weight,se=l.castOption(J.outsidetextfont.style,ee.pts)||l.castOption(J.textfont.style,ee.pts)||X.style,ne=l.castOption(J.outsidetextfont.variant,ee.pts)||l.castOption(J.textfont.variant,ee.pts)||X.variant,he=l.castOption(J.outsidetextfont.textcase,ee.pts)||l.castOption(J.textfont.textcase,ee.pts)||X.textcase,me=l.castOption(J.outsidetextfont.lineposition,ee.pts)||l.castOption(J.textfont.lineposition,ee.pts)||X.lineposition,we=l.castOption(J.outsidetextfont.shadow,ee.pts)||l.castOption(J.textfont.shadow,ee.pts)||X.shadow;return{color:q,family:le,size:$,weight:j,style:se,variant:ne,textcase:he,lineposition:me,shadow:we}}function b(J,ee,X){var q=l.castOption(J.insidetextfont.color,ee.pts);!q&&J._input.textfont&&(q=l.castOption(J._input.textfont.color,ee.pts));var le=l.castOption(J.insidetextfont.family,ee.pts)||l.castOption(J.textfont.family,ee.pts)||X.family,$=l.castOption(J.insidetextfont.size,ee.pts)||l.castOption(J.textfont.size,ee.pts)||X.size,j=l.castOption(J.insidetextfont.weight,ee.pts)||l.castOption(J.textfont.weight,ee.pts)||X.weight,se=l.castOption(J.insidetextfont.style,ee.pts)||l.castOption(J.textfont.style,ee.pts)||X.style,ne=l.castOption(J.insidetextfont.variant,ee.pts)||l.castOption(J.textfont.variant,ee.pts)||X.variant,he=l.castOption(J.insidetextfont.textcase,ee.pts)||l.castOption(J.textfont.textcase,ee.pts)||X.textcase,me=l.castOption(J.insidetextfont.lineposition,ee.pts)||l.castOption(J.textfont.lineposition,ee.pts)||X.lineposition,we=l.castOption(J.insidetextfont.shadow,ee.pts)||l.castOption(J.textfont.shadow,ee.pts)||X.shadow;return{color:q||C.contrast(ee.color),family:le,size:$,weight:j,style:se,variant:ne,textcase:he,lineposition:me,shadow:we}}function A(J,ee){for(var X,q,le=0;le<J.length;le++)if(X=J[le][0],q=X.trace,q.title.text){var $=q.title.text;q._meta&&($=v.templateString($,q._meta));var j=x.tester.append("text").attr("data-notex",1).text($).call(x.font,q.title.font).call(t.convertToTspans,ee),se=x.bBox(j.node(),!0);X.titleBox={width:se.width,height:se.height},j.remove()}}function R(J,ee,X){var q=X.r||ee.rpx1,le=ee.rInscribed,$=ee.startangle===ee.stopangle;if($)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var j=ee.ring,se=j===1&&Math.abs(ee.startangle-ee.stopangle)===Math.PI*2,ne=ee.halfangle,he=ee.midangle,me=X.trace.insidetextorientation,we=me==="horizontal",Te=me==="tangential",Le=me==="radial",Ie=me==="auto",ze=[],Me;if(!Ie){var _e=function(Je,et){if(m(ee,Je)){var ft=Math.abs(Je-ee.startangle),vt=Math.abs(Je-ee.stopangle),dt=ft<vt?ft:vt;et==="tan"?Me=M(J,q,j,dt,0):Me=L(J,q,j,dt,Math.PI/2),Me.textPosAngle=Je,ze.push(Me)}},Ce;if(we||Te){for(Ce=4;Ce>=-4;Ce-=2)_e(Math.PI*Ce,"tan");for(Ce=4;Ce>=-4;Ce-=2)_e(Math.PI*(Ce+1),"tan")}if(we||Le){for(Ce=4;Ce>=-4;Ce-=2)_e(Math.PI*(Ce+1.5),"rad");for(Ce=4;Ce>=-4;Ce-=2)_e(Math.PI*(Ce+.5),"rad")}}if(se||Ie||we){var Oe=Math.sqrt(J.width*J.width+J.height*J.height);if(Me={scale:le*q*2/Oe,rCenter:1-le,rotate:0},Me.textPosAngle=(ee.startangle+ee.stopangle)/2,Me.scale>=1)return Me;ze.push(Me)}(Ie||Le)&&(Me=L(J,q,j,ne,he),Me.textPosAngle=(ee.startangle+ee.stopangle)/2,ze.push(Me)),(Ie||Te)&&(Me=M(J,q,j,ne,he),Me.textPosAngle=(ee.startangle+ee.stopangle)/2,ze.push(Me));for(var Pe=0,Ge=0,Ze=0;Ze<ze.length;Ze++){var it=ze[Ze].scale;if(Ge<it&&(Ge=it,Pe=Ze),!Ie&&Ge>=1)break}return ze[Pe]}function m(J,ee){var X=J.startangle,q=J.stopangle;return X>ee&&ee>q||X<ee&&ee<q}function L(J,ee,X,q,le){ee=Math.max(0,ee-2*f);var $=J.width/J.height,j=w($,q,ee,X);return{scale:j*2/J.height,rCenter:s($,j/ee),rotate:S(le)}}function M(J,ee,X,q,le){ee=Math.max(0,ee-2*f);var $=J.height/J.width,j=w($,q,ee,X);return{scale:j*2/J.width,rCenter:s($,j/ee),rotate:S(le+Math.PI/2)}}function s(J,ee){return Math.cos(ee)-J*ee}function S(J){return(180/Math.PI*J+720)%180-90}function w(J,ee,X,q){var le=J+1/(2*Math.tan(ee));return X*Math.min(1/(Math.sqrt(le*le+.5)+le),q/(Math.sqrt(J*J+q/2)+J))}function _(J,ee){return J.v===ee.vTotal&&!ee.trace.hole?1:Math.min(1/(1+1/Math.sin(J.halfangle)),J.ring/2)}function I(J,ee){var X=ee.pxmid[0],q=ee.pxmid[1],le=J.width/2,$=J.height/2;return X<0&&(le*=-1),q<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs($)*(le>0?1:-1)/2,y:$/(1+X*X/(q*q)),outside:!0}}function H(J){var ee=Math.sqrt(J.titleBox.width*J.titleBox.width+J.titleBox.height*J.titleBox.height);return{x:J.cx,y:J.cy,scale:J.trace.hole*J.r*2/ee,tx:0,ty:-J.titleBox.height/2+J.trace.title.font.size}}function O(J,ee){var X=1,q=1,le,$=J.trace,j={x:J.cx,y:J.cy},se={tx:0,ty:0};se.ty+=$.title.font.size,le=F($),$.title.position.indexOf("top")!==-1?(j.y-=(1+le)*J.r,se.ty-=J.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(j.y+=(1+le)*J.r);var ne=V(J.r,J.trace.aspectratio),he=ee.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(he=he+ne,j.x-=(1+le)*ne,se.tx+=J.titleBox.width/2):$.title.position.indexOf("center")!==-1?he*=2:$.title.position.indexOf("right")!==-1&&(he=he+ne,j.x+=(1+le)*ne,se.tx-=J.titleBox.width/2),X=he/J.titleBox.width,q=B(J,ee)/J.titleBox.height,{x:j.x,y:j.y,scale:Math.min(X,q),tx:se.tx,ty:se.ty}}function V(J,ee){return J/(ee===void 0?1:ee)}function B(J,ee){var X=J.trace,q=ee.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(J.titleBox.height,q/2)}function F(J){var ee=J.pull;if(!ee)return 0;var X;if(v.isArrayOrTypedArray(ee))for(ee=0,X=0;X<J.pull.length;X++)J.pull[X]>ee&&(ee=J.pull[X]);return ee}function G(J,ee){var X,q,le,$,j,se,ne,he,me,we,Te,Le,Ie;function ze(Oe,Pe){return Oe.pxmid[1]-Pe.pxmid[1]}function Me(Oe,Pe){return Pe.pxmid[1]-Oe.pxmid[1]}function _e(Oe,Pe){Pe||(Pe={});var Ge=Pe.labelExtraY+(q?Pe.yLabelMax:Pe.yLabelMin),Ze=q?Oe.yLabelMin:Oe.yLabelMax,it=q?Oe.yLabelMax:Oe.yLabelMin,Je=Oe.cyFinal+j(Oe.px0[1],Oe.px1[1]),et=Ge-Ze,ft,vt,dt,xt,Mt,nt;if(et*ne>0&&(Oe.labelExtraY=et),!!v.isArrayOrTypedArray(ee.pull))for(vt=0;vt<we.length;vt++)dt=we[vt],!(dt===Oe||(l.castOption(ee.pull,Oe.pts)||0)>=(l.castOption(ee.pull,dt.pts)||0))&&((Oe.pxmid[1]-dt.pxmid[1])*ne>0?(xt=dt.cyFinal+j(dt.px0[1],dt.px1[1]),et=xt-Ze-Oe.labelExtraY,et*ne>0&&(Oe.labelExtraY+=et)):(it+Oe.labelExtraY-Je)*ne>0&&(ft=3*se*Math.abs(vt-we.indexOf(Oe)),Mt=dt.cxFinal+$(dt.px0[0],dt.px1[0]),nt=Mt+ft-(Oe.cxFinal+Oe.pxmid[0])-Oe.labelExtraX,nt*se>0&&(Oe.labelExtraX+=nt)))}for(q=0;q<2;q++)for(le=q?ze:Me,j=q?Math.max:Math.min,ne=q?1:-1,X=0;X<2;X++){for($=X?Math.max:Math.min,se=X?1:-1,he=J[q][X],he.sort(le),me=J[1-q][X],we=me.concat(he),Le=[],Te=0;Te<he.length;Te++)he[Te].yLabelMid!==void 0&&Le.push(he[Te]);for(Ie=!1,Te=0;q&&Te<me.length;Te++)if(me[Te].yLabelMid!==void 0){Ie=me[Te];break}for(Te=0;Te<Le.length;Te++){var Ce=Te&&Le[Te-1];Ie&&!Te&&(Ce=Ie),_e(Le[Te],Ce)}}}function Y(J,ee){for(var X=[],q=0;q<J.length;q++){var le=J[q][0],$=le.trace,j=$.domain,se=ee.w*(j.x[1]-j.x[0]),ne=ee.h*(j.y[1]-j.y[0]);$.title.text&&$.title.position!=="middle center"&&(ne-=B(le,ee));var he=se/2,me=ne/2;$.type==="funnelarea"&&!$.scalegroup&&(me/=$.aspectratio),le.r=Math.min(he,me)/(1+F($)),le.cx=ee.l+ee.w*($.domain.x[1]+$.domain.x[0])/2,le.cy=ee.t+ee.h*(1-$.domain.y[0])-ne/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(le.cy-=B(le,ee)),$.scalegroup&&X.indexOf($.scalegroup)===-1&&X.push($.scalegroup)}Q(J,X)}function Q(J,ee){for(var X,q,le,$=0;$<ee.length;$++){var j=1/0,se=ee[$];for(q=0;q<J.length;q++)if(X=J[q][0],le=X.trace,le.scalegroup===se){var ne;if(le.type==="pie")ne=X.r*X.r;else if(le.type==="funnelarea"){var he,me;le.aspectratio>1?(he=X.r,me=he/le.aspectratio):(me=X.r,he=me*le.aspectratio),he*=(1+le.baseratio)/2,ne=he*me}j=Math.min(j,ne/X.vTotal)}for(q=0;q<J.length;q++)if(X=J[q][0],le=X.trace,le.scalegroup===se){var we=j*X.vTotal;le.type==="funnelarea"&&(we/=(1+le.baseratio)/2,we/=le.aspectratio),X.r=Math.sqrt(we)}}}function te(J){var ee=J[0],X=ee.r,q=ee.trace,le=l.getRotationAngle(q.rotation),$=2*Math.PI/ee.vTotal,j="px0",se="px1",ne,he,me;if(q.direction==="counterclockwise"){for(ne=0;ne<J.length&&J[ne].hidden;ne++);if(ne===J.length)return;le+=$*J[ne].v,$*=-1,j="px1",se="px0"}for(me=ae(X,le),ne=0;ne<J.length;ne++)he=J[ne],!he.hidden&&(he[j]=me,he.startangle=le,le+=$*he.v/2,he.pxmid=ae(X,le),he.midangle=le,le+=$*he.v/2,me=ae(X,le),he.stopangle=le,he[se]=me,he.largeArc=he.v>ee.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/ee.vTotal,.5),he.ring=1-q.hole,he.rInscribed=_(he,ee))}function ae(J,ee){return[J*Math.sin(ee),-J*Math.cos(ee)]}function fe(J,ee,X){var q=J._fullLayout,le=X.trace,$=le.texttemplate,j=le.textinfo;if(!$&&j&&j!=="none"){var se=j.split("+"),ne=function(Pe){return se.indexOf(Pe)!==-1},he=ne("label"),me=ne("text"),we=ne("value"),Te=ne("percent"),Le=q.separators,Ie;if(Ie=he?[ee.label]:[],me){var ze=l.getFirstFilled(le.text,ee.pts);c(ze)&&Ie.push(ze)}we&&Ie.push(l.formatPieValue(ee.v,Le)),Te&&Ie.push(l.formatPiePercent(ee.v/X.vTotal,Le)),ee.text=Ie.join("<br>")}function Me(Pe){return{label:Pe.label,value:Pe.v,valueLabel:l.formatPieValue(Pe.v,q.separators),percent:Pe.v/X.vTotal,percentLabel:l.formatPiePercent(Pe.v/X.vTotal,q.separators),color:Pe.color,text:Pe.text,customdata:v.castOption(le,Pe.i,"customdata")}}if($){var _e=v.castOption(le,ee.i,"texttemplate");if(!_e)ee.text="";else{var Ce=Me(ee),Oe=l.getFirstFilled(le.text,ee.pts);(c(Oe)||Oe==="")&&(Ce.text=Oe),ee.text=v.texttemplateString(_e,Ce,J._fullLayout._d3locale,Ce,le._meta||{})}}}function oe(J,ee){var X=J.rotate*Math.PI/180,q=Math.cos(X),le=Math.sin(X),$=(ee.left+ee.right)/2,j=(ee.top+ee.bottom)/2;J.textX=$*q-j*le,J.textY=$*le+j*q,J.noCenter=!0}U.exports={plot:T,formatSliceLabel:fe,transformInsideText:R,determineInsideTextFont:b,positionTitleOutside:O,prerenderTitles:A,layoutAreas:Y,attachFxHandlers:i,computeTransform:oe}},22152:function(U,N,e){var d=e(33428),P=e(10528),n=e(82744).resizeText;U.exports=function(x){var v=x._fullLayout._pielayer.selectAll(".trace");n(x,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,o=d.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(a){d.select(this).call(P,a,t,x)})})}},10528:function(U,N,e){var d=e(76308),P=e(69656).castOption,n=e(21552);U.exports=function(x,v,p,r){var t=p.marker.line,o=P(t.color,v.pts)||d.defaultLine,a=P(t.width,v.pts)||0;x.call(n,v,p,r).style("stroke-width",a).call(d.stroke,o)}},35484:function(U,N,e){var d=e(52904);U.exports={x:d.x,y:d.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:d.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(U,N,e){var d=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,n=e(43080),C=e(19280).findExtremes,x=e(44928);function v(t,o){this.scene=t,this.uid=o,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=d(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var o=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[o*2],this.pickXYData[o*2+1]]:[this.pickXData[o],this.pickYData[o]],textLabel:P(this.textLabels)?this.textLabels[o]:this.textLabels,color:this.color,name:this.name,pointIndex:o,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=x(t,{})},p.updateFast=function(t){var o=this.xData=this.pickXData=t.x,a=this.yData=this.pickYData=t.y,u=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,l=t.indices,y,c,T,h=this.bounds,i,g,b;if(u){if(T=u,y=u.length>>>1,f)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(b=0;b<y;b++)i=T[b*2],g=T[b*2+1],i<h[0]&&(h[0]=i),i>h[2]&&(h[2]=i),g<h[1]&&(h[1]=g),g>h[3]&&(h[3]=g);if(l)c=l;else for(c=new Int32Array(y),b=0;b<y;b++)c[b]=b}else for(y=o.length,T=new Float32Array(2*y),c=new Int32Array(y),b=0;b<y;b++)i=o[b],g=a[b],c[b]=b,T[b*2]=i,T[b*2+1]=g,i<h[0]&&(h[0]=i),i>h[2]&&(h[2]=i),g<h[1]&&(h[1]=g),g>h[3]&&(h[3]=g);this.idToIndex=c,this.pointcloudOptions.idToIndex=c,this.pointcloudOptions.positions=T;var A=n(t.marker.color),R=n(t.marker.border.color),m=t.opacity*t.marker.opacity;A[3]*=m,this.pointcloudOptions.color=A;var L=t.marker.blend;if(L===null){var M=100;L=o.length<M||a.length<M}this.pointcloudOptions.blend=L,R[3]*=m,this.pointcloudOptions.borderColor=R;var s=t.marker.sizemin,S=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=S,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var w=this.scene.xaxis,_=this.scene.yaxis,I=S/2||.5;t._extremes[w._id]=C(w,[h[0],h[2]],{ppad:I}),t._extremes[_._id]=C(_,[h[1],h[3]],{ppad:I})},p.dispose=function(){this.pointcloud.dispose()};function r(t,o){var a=new v(t,o.uid);return a.update(o),a}U.exports=r},41904:function(U,N,e){var d=e(3400),P=e(35484);U.exports=function(C,x,v){function p(r,t){return d.coerce(C,x,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),C.xy&&C.xy instanceof Float32Array&&(x.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(x.indices=C.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),x._length=null}},156:function(U,N,e){U.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(U,N,e){var d=e(25376),P=e(45464),n=e(22548),C=e(55756),x=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,o=e(92880).extendFlat,a=e(67824).overrideAll,u=U.exports=a({hoverinfo:o({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:x({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:d({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:o(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(U,N,e){var d=e(67824).overrideAll,P=e(84888)._M,n=e(59596),C=e(65460),x=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),o="sankey";N.name=o,N.baseLayoutAttrOverrides=d({hoverlabel:C.hoverlabel},"plot","nested"),N.plot=function(u){var f=P(u.calcdata,o)[0];n(u,f),N.updateFx(u)},N.clean=function(u,f,l,y){var c=y._has&&y._has(o),T=f._has&&f._has(o);c&&!T&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},N.updateFx=function(u){for(var f=0;f<u._fullData.length;f++)a(u,f)};function a(u,f){var l=u._fullData[f],y=u._fullLayout,c=y.dragmode,T=y.dragmode==="pan"?"move":"crosshair",h=l._bgRect;if(h&&!(c==="pan"||c==="zoom")){x(h,T);var i={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},g={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},b={gd:u,element:h.node(),plotinfo:{id:f,xaxis:i,yaxis:g,fillRangeItems:r.noop},subplot:f,xaxes:[i],yaxes:[g],doneFnCompleted:function(A){var R=u._fullData[f],m,L=R.node.groups.slice(),M=[];function s(I){for(var H=R._sankey.graph.nodes,O=0;O<H.length;O++)if(H[O].pointNumber===I)return H[O]}for(var S=0;S<A.length;S++){var w=s(A[S].pointNumber);if(w)if(w.group){for(var _=0;_<w.childrenNodes.length;_++)M.push(w.childrenNodes[_].pointNumber);L[w.pointNumber-R.node._count]=!1}else M.push(w.pointNumber)}m=L.filter(Boolean).concat([M]),t.call("_guiRestyle",u,{"node.groups":[m]},f)}};b.prepFn=function(A,R,m){p(A,R,m,b,c)},v.init(b)}}},48068:function(U,N,e){var d=e(78484),P=e(3400),n=e(71688).wrap,C=P.isArrayOrTypedArray,x=P.isIndex,v=e(8932);function p(t){var o=t.node,a=t.link,u=[],f=C(a.color),l=C(a.hovercolor),y=C(a.customdata),c={},T={},h=a.colorscales.length,i;for(i=0;i<h;i++){var g=a.colorscales[i],b=v.extractScale(g,{cLetter:"c"}),A=v.makeColorScaleFunc(b);T[g.label]=A}var R=0;for(i=0;i<a.value.length;i++)a.source[i]>R&&(R=a.source[i]),a.target[i]>R&&(R=a.target[i]);var m=R+1;t.node._count=m;var L,M=t.node.groups,s={};for(i=0;i<M.length;i++){var S=M[i];for(L=0;L<S.length;L++){var w=S[L],_=m+i;s.hasOwnProperty(w)?P.warn("Node "+w+" is already part of a group."):s[w]=_}}var I={source:[],target:[]};for(i=0;i<a.value.length;i++){var H=a.value[i],O=a.source[i],V=a.target[i];if(H>0&&x(O,m)&&x(V,m)&&!(s.hasOwnProperty(O)&&s.hasOwnProperty(V)&&s[O]===s[V])){s.hasOwnProperty(V)&&(V=s[V]),s.hasOwnProperty(O)&&(O=s[O]),O=+O,V=+V,c[O]=c[V]=!0;var B="";a.label&&a.label[i]&&(B=a.label[i]);var F=null;B&&T.hasOwnProperty(B)&&(F=T[B]),u.push({pointNumber:i,label:B,color:f?a.color[i]:a.color,hovercolor:l?a.hovercolor[i]:a.hovercolor,customdata:y?a.customdata[i]:a.customdata,concentrationscale:F,source:O,target:V,value:+H}),I.source.push(O),I.target.push(V)}}var G=m+M.length,Y=C(o.color),Q=C(o.customdata),te=[];for(i=0;i<G;i++)if(c[i]){var ae=o.label[i];te.push({group:i>m-1,childrenNodes:[],pointNumber:i,label:ae,color:Y?o.color[i]:o.color,customdata:Q?o.customdata[i]:o.customdata})}var fe=!1;return r(G,I.source,I.target)&&(fe=!0),{circular:fe,links:u,nodes:te,groups:M,groupLookup:s}}function r(t,o,a){for(var u=P.init2dArray(t,0),f=0;f<Math.min(o.length,a.length);f++)if(P.isIndex(o[f],t)&&P.isIndex(a[f],t)){if(o[f]===a[f])return!0;u[o[f]].push(a[f])}var l=d(u);return l.components.some(function(y){return y.length>1})}U.exports=function(o,a){var u=p(a);return n({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(U){U.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(U,N,e){var d=e(3400),P=e(41440),n=e(76308),C=e(49760),x=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);U.exports=function(a,u,f,l){function y(_,I){return d.coerce(a,u,P,_,I)}var c=d.extendDeep(l.hoverlabel,a.hoverlabel),T=a.node,h=p.newContainer(u,"node");function i(_,I){return d.coerce(T,h,P.node,_,I)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",a.hoverinfo),v(T,h,i,c),i("hovertemplate"),i("align");var g=l.colorway,b=function(_){return g[_%g.length]};i("color",h.label.map(function(_,I){return n.addOpacity(b(I),.8)})),i("customdata");var A=a.link||{},R=p.newContainer(u,"link");function m(_,I){return d.coerce(A,R,P.link,_,I)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",a.hoverinfo),v(A,R,m,c),m("hovertemplate");var L=C(l.paper_bgcolor).getLuminance()<.333,M=L?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=m("color",M);function S(_){var I=C(_);if(!I.isValid())return _;var H=I.getAlpha();return H<=.8?I.setAlpha(H+.2):I=L?I.brighten():I.darken(),I.toRgbString()}m("hovercolor",Array.isArray(s)?s.map(S):S(s)),m("customdata"),r(A,R,{name:"colorscales",handleItemDefaults:t}),x(u,l,y),y("orientation"),y("valueformat"),y("valuesuffix");var w;h.x.length&&h.y.length&&(w="freeform"),y("arrangement",w),d.coerceFont(y,"textfont",l.font,{autoShadowDflt:!0}),u._length=null};function t(o,a){function u(f,l){return d.coerce(o,a,P.link.colorscales,f,l)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(U,N,e){U.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(U,N,e){var d=e(33428),P=e(3400),n=P.numberFormat,C=e(83248),x=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(g){return g!==""}function o(g,b){return g.filter(function(A){return A.key===b.traceId})}function a(g,b){d.select(g).select("path").style("fill-opacity",b),d.select(g).select("rect").style("fill-opacity",b)}function u(g){d.select(g).select("text.name").style("fill","black")}function f(g){return function(b){return g.node.sourceLinks.indexOf(b.link)!==-1||g.node.targetLinks.indexOf(b.link)!==-1}}function l(g){return function(b){return b.node.sourceLinks.indexOf(g.link)!==-1||b.node.targetLinks.indexOf(g.link)!==-1}}function y(g,b,A){b&&A&&o(A,b).selectAll("."+p.sankeyLink).filter(f(b)).call(T.bind(0,b,A,!1))}function c(g,b,A){b&&A&&o(A,b).selectAll("."+p.sankeyLink).filter(f(b)).call(h.bind(0,b,A,!1))}function T(g,b,A,R){R.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),R.each(function(m){var L=m.link.label;L!==""&&o(b,g).selectAll("."+p.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),A&&o(b,g).selectAll("."+p.sankeyNode).filter(l(g)).call(y)}function h(g,b,A,R){R.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),R.each(function(m){var L=m.link.label;L!==""&&o(b,g).selectAll("."+p.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),A&&o(b,g).selectAll(p.sankeyNode).filter(l(g)).call(c)}function i(g,b){var A=g.hoverlabel||{},R=P.nestedProperty(A,b).get();return Array.isArray(R)?!1:R}U.exports=function(b,A){for(var R=b._fullLayout,m=R._paper,L=R._size,M=0;M<b._fullData.length;M++)if(b._fullData[M].visible&&b._fullData[M].type===p.sankey&&!b._fullData[M]._viewInitial){var s=b._fullData[M].node;b._fullData[M]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var S=function(ae,fe){var oe=fe.link;oe.originalEvent=d.event,b._hoverdata=[oe],x.click(b,{target:!0})},w=function(ae,fe,oe){b._fullLayout.hovermode!==!1&&(d.select(ae).call(T.bind(0,fe,oe,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,b.emit("plotly_hover",{event:d.event,points:[fe.link]})))},_=r(b,"source:")+" ",I=r(b,"target:")+" ",H=r(b,"concentration:")+" ",O=r(b,"incoming flow count:")+" ",V=r(b,"outgoing flow count:")+" ",B=function(ae,fe){if(b._fullLayout.hovermode===!1)return;var oe=fe.link.trace.link;if(oe.hoverinfo==="none"||oe.hoverinfo==="skip")return;var J=[];function ee(ne){var he,me;ne.circular?(he=(ne.circularPathData.leftInnerExtent+ne.circularPathData.rightInnerExtent)/2,me=ne.circularPathData.verticalFullExtent):(he=(ne.source.x1+ne.target.x0)/2,me=(ne.y0+ne.y1)/2);var we=[he,me];return ne.trace.orientation==="v"&&we.reverse(),we[0]+=fe.parent.translateX,we[1]+=fe.parent.translateY,we}for(var X=0,q=0;q<fe.flow.links.length;q++){var le=fe.flow.links[q];if(!(b._fullLayout.hovermode==="closest"&&fe.link.pointNumber!==le.pointNumber)){fe.link.pointNumber===le.pointNumber&&(X=q),le.fullData=le.trace,oe=fe.link.trace.link;var $=ee(le),j={valueLabel:n(fe.valueFormat)(le.value)+fe.valueSuffix};J.push({x:$[0],y:$[1],name:j.valueLabel,text:[le.label||"",_+le.source.label,I+le.target.label,le.concentrationscale?H+n("%0.2f")(le.flow.labelConcentration):""].filter(t).join("<br>"),color:i(oe,"bgcolor")||v.addOpacity(le.color,1),borderColor:i(oe,"bordercolor"),fontFamily:i(oe,"font.family"),fontSize:i(oe,"font.size"),fontColor:i(oe,"font.color"),fontWeight:i(oe,"font.weight"),fontStyle:i(oe,"font.style"),fontVariant:i(oe,"font.variant"),fontTextcase:i(oe,"font.textcase"),fontLineposition:i(oe,"font.lineposition"),fontShadow:i(oe,"font.shadow"),nameLength:i(oe,"namelength"),textAlign:i(oe,"align"),idealAlign:d.event.x<$[0]?"right":"left",hovertemplate:oe.hovertemplate,hovertemplateLabels:j,eventData:[le]})}}var se=x.loneHover(J,{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:b,anchorIndex:X});se.each(function(){var ne=this;fe.link.concentrationscale||a(ne,.65),u(ne)})},F=function(ae,fe,oe){b._fullLayout.hovermode!==!1&&(d.select(ae).call(h.bind(0,fe,oe,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,b.emit("plotly_unhover",{event:d.event,points:[fe.link]})),x.loneUnhover(R._hoverlayer.node()))},G=function(ae,fe,oe){var J=fe.node;J.originalEvent=d.event,b._hoverdata=[J],d.select(ae).call(c,fe,oe),x.click(b,{target:!0})},Y=function(ae,fe,oe){b._fullLayout.hovermode!==!1&&(d.select(ae).call(y,fe,oe),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,b.emit("plotly_hover",{event:d.event,points:[fe.node]})))},Q=function(ae,fe){if(b._fullLayout.hovermode!==!1){var oe=fe.node.trace.node;if(!(oe.hoverinfo==="none"||oe.hoverinfo==="skip")){var J=d.select(ae).select("."+p.nodeRect),ee=b._fullLayout._paperdiv.node().getBoundingClientRect(),X=J.node().getBoundingClientRect(),q=X.left-2-ee.left,le=X.right+2-ee.left,$=X.top+X.height/4-ee.top,j={valueLabel:n(fe.valueFormat)(fe.node.value)+fe.valueSuffix};fe.node.fullData=fe.node.trace,b._fullLayout._calcInverseTransform(b);var se=b._fullLayout._invScaleX,ne=b._fullLayout._invScaleY,he=x.loneHover({x0:se*q,x1:se*le,y:ne*$,name:n(fe.valueFormat)(fe.node.value)+fe.valueSuffix,text:[fe.node.label,O+fe.node.targetLinks.length,V+fe.node.sourceLinks.length].filter(t).join("<br>"),color:i(oe,"bgcolor")||fe.tinyColorHue,borderColor:i(oe,"bordercolor"),fontFamily:i(oe,"font.family"),fontSize:i(oe,"font.size"),fontColor:i(oe,"font.color"),fontWeight:i(oe,"font.weight"),fontStyle:i(oe,"font.style"),fontVariant:i(oe,"font.variant"),fontTextcase:i(oe,"font.textcase"),fontLineposition:i(oe,"font.lineposition"),fontShadow:i(oe,"font.shadow"),nameLength:i(oe,"namelength"),textAlign:i(oe,"align"),idealAlign:"left",hovertemplate:oe.hovertemplate,hovertemplateLabels:j,eventData:[fe.node]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:b});a(he,.85),u(he)}}},te=function(ae,fe,oe){b._fullLayout.hovermode!==!1&&(d.select(ae).call(c,fe,oe),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,b.emit("plotly_unhover",{event:d.event,points:[fe.node]})),x.loneUnhover(R._hoverlayer.node()))};C(b,m,A,{width:L.w,height:L.h,margin:{t:L.t,r:L.r,b:L.b,l:L.l}},{linkEvents:{hover:w,follow:B,unhover:F,select:S},nodeEvents:{hover:Y,follow:Q,unhover:te,select:G}})}},83248:function(U,N,e){var d=e(49812),P=e(67756).Gz,n=e(33428),C=e(26800),x=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),o=e(3400),a=o.strTranslate,u=o.strRotate,f=e(71688),l=f.keyFun,y=f.repeat,c=f.unwrap,T=e(72736),h=e(24040),i=e(84284),g=i.CAP_SHIFT,b=i.LINE_SPACING,A=3;function R(ee,X,q){var le=c(X),$=le.trace,j=$.domain,se=$.orientation==="h",ne=$.node.pad,he=$.node.thickness,me={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[$.node.align],we=ee.width*(j.x[1]-j.x[0]),Te=ee.height*(j.y[1]-j.y[0]),Le=le._nodes,Ie=le._links,ze=le.circular,Me;ze?Me=x.sankeyCircular().circularLinkGap(0):Me=C.sankey(),Me.iterations(v.sankeyIterations).size(se?[we,Te]:[Te,we]).nodeWidth(he).nodePadding(ne).nodeId(function(nt){return nt.pointNumber}).nodeAlign(me).nodes(Le).links(Ie);var _e=Me();Me.nodePadding()<ne&&o.warn("node.pad was reduced to ",Me.nodePadding()," to fit within the figure.");var Ce,Oe,Pe;for(var Ge in le._groupLookup){var Ze=parseInt(le._groupLookup[Ge]),it;for(Ce=0;Ce<_e.nodes.length;Ce++)if(_e.nodes[Ce].pointNumber===Ze){it=_e.nodes[Ce];break}if(it){var Je={pointNumber:parseInt(Ge),x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};_e.nodes.unshift(Je),it.childrenNodes.unshift(Je)}}function et(){for(Ce=0;Ce<_e.nodes.length;Ce++){var nt=_e.nodes[Ce],Fe={},We,je;for(Oe=0;Oe<nt.targetLinks.length;Oe++)je=nt.targetLinks[Oe],We=je.source.pointNumber+":"+je.target.pointNumber,Fe.hasOwnProperty(We)||(Fe[We]=[]),Fe[We].push(je);var Ke=Object.keys(Fe);for(Oe=0;Oe<Ke.length;Oe++){We=Ke[Oe];var ke=Fe[We],Ue=0,Ve={};for(Pe=0;Pe<ke.length;Pe++)je=ke[Pe],Ve[je.label]||(Ve[je.label]=0),Ve[je.label]+=je.value,Ue+=je.value;for(Pe=0;Pe<ke.length;Pe++)je=ke[Pe],je.flow={value:Ue,labelConcentration:Ve[je.label]/Ue,concentration:je.value/Ue,links:ke},je.concentrationscale&&(je.color=p(je.concentrationscale(je.flow.labelConcentration)))}var Re=0;for(Oe=0;Oe<nt.sourceLinks.length;Oe++)Re+=nt.sourceLinks[Oe].value;for(Oe=0;Oe<nt.sourceLinks.length;Oe++)je=nt.sourceLinks[Oe],je.concentrationOut=je.value/Re;var de=0;for(Oe=0;Oe<nt.targetLinks.length;Oe++)de+=nt.targetLinks[Oe].value;for(Oe=0;Oe<nt.targetLinks.length;Oe++)je=nt.targetLinks[Oe],je.concenrationIn=je.value/de}}et();function ft(nt){nt.forEach(function(Fe){var We,je,Ke=0,ke=Fe.length,Ue;for(Fe.sort(function(Ve,Re){return Ve.y0-Re.y0}),Ue=0;Ue<ke;++Ue)We=Fe[Ue],We.y0>=Ke||(je=Ke-We.y0,je>1e-6&&(We.y0+=je,We.y1+=je)),Ke=We.y1+ne})}function vt(nt){var Fe=nt.map(function(Re,de){return{x0:Re.x0,index:de}}).sort(function(Re,de){return Re.x0-de.x0}),We=[],je=-1,Ke,ke=-1/0,Ue;for(Ce=0;Ce<Fe.length;Ce++){var Ve=nt[Fe[Ce].index];Ve.x0>ke+he&&(je+=1,Ke=Ve.x0),ke=Ve.x0,We[je]||(We[je]=[]),We[je].push(Ve),Ue=Ke-Ve.x0,Ve.x0+=Ue,Ve.x1+=Ue}return We}if($.node.x.length&&$.node.y.length){for(Ce=0;Ce<Math.min($.node.x.length,$.node.y.length,_e.nodes.length);Ce++)if($.node.x[Ce]&&$.node.y[Ce]){var dt=[$.node.x[Ce]*we,$.node.y[Ce]*Te];_e.nodes[Ce].x0=dt[0]-he/2,_e.nodes[Ce].x1=dt[0]+he/2;var xt=_e.nodes[Ce].y1-_e.nodes[Ce].y0;_e.nodes[Ce].y0=dt[1]-xt/2,_e.nodes[Ce].y1=dt[1]+xt/2}if($.arrangement==="snap"){Le=_e.nodes;var Mt=vt(Le);ft(Mt)}Me.update(_e)}return{circular:ze,key:q,trace:$,guid:o.randstr(),horizontal:se,width:we,height:Te,nodePad:$.node.pad,nodeLineColor:$.node.line.color,nodeLineWidth:$.node.line.width,linkLineColor:$.link.line.color,linkLineWidth:$.link.line.width,linkArrowLength:$.link.arrowlen,valueFormat:$.valueformat,valueSuffix:$.valuesuffix,textFont:$.textfont,translateX:j.x[0]*ee.width+ee.margin.l,translateY:ee.height-j.y[1]*ee.height+ee.margin.t,dragParallel:se?Te:we,dragPerpendicular:se?we:Te,arrangement:$.arrangement,sankey:Me,graph:_e,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(ee,X,q){var le=p(X.color),$=p(X.hovercolor),j=X.source.label+"|"+X.target.label,se=j+"__"+q;return X.trace=ee.trace,X.curveNumber=ee.trace.index,{circular:ee.circular,key:se,traceId:ee.key,pointNumber:X.pointNumber,link:X,tinyColorHue:r.tinyRGB(le),tinyColorAlpha:le.getAlpha(),tinyColorHoverHue:r.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:M,linkLineColor:ee.linkLineColor,linkLineWidth:ee.linkLineWidth,linkArrowLength:ee.linkArrowLength,valueFormat:ee.valueFormat,valueSuffix:ee.valueSuffix,sankey:ee.sankey,parent:ee,interactionState:ee.interactionState,flow:X.flow}}function L(ee,X){var q="",le=ee.width/2,$=ee.circularPathData;return ee.circularLinkType==="top"?q="M "+($.targetX-X)+" "+($.targetY+le)+" L"+($.rightInnerExtent-X)+" "+($.targetY+le)+"A"+($.rightLargeArcRadius+le)+" "+($.rightSmallArcRadius+le)+" 0 0 1 "+($.rightFullExtent-le-X)+" "+($.targetY-$.rightSmallArcRadius)+"L"+($.rightFullExtent-le-X)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+le)+" "+($.rightLargeArcRadius+le)+" 0 0 1 "+($.rightInnerExtent-X)+" "+($.verticalFullExtent-le)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent-le)+"A"+($.leftLargeArcRadius+le)+" "+($.leftLargeArcRadius+le)+" 0 0 1 "+($.leftFullExtent+le)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+le)+" "+($.sourceY-$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+le)+" "+($.leftSmallArcRadius+le)+" 0 0 1 "+$.leftInnerExtent+" "+($.sourceY+le)+"L"+$.sourceX+" "+($.sourceY+le)+"L"+$.sourceX+" "+($.sourceY-le)+"L"+$.leftInnerExtent+" "+($.sourceY-le)+"A"+($.leftLargeArcRadius-le)+" "+($.leftSmallArcRadius-le)+" 0 0 0 "+($.leftFullExtent-le)+" "+($.sourceY-$.leftSmallArcRadius)+"L"+($.leftFullExtent-le)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-le)+" "+($.leftLargeArcRadius-le)+" 0 0 0 "+$.leftInnerExtent+" "+($.verticalFullExtent+le)+"L"+($.rightInnerExtent-X)+" "+($.verticalFullExtent+le)+"A"+($.rightLargeArcRadius-le)+" "+($.rightLargeArcRadius-le)+" 0 0 0 "+($.rightFullExtent+le-X)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+le-X)+" "+($.targetY-$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-le)+" "+($.rightSmallArcRadius-le)+" 0 0 0 "+($.rightInnerExtent-X)+" "+($.targetY-le)+"L"+($.targetX-X)+" "+($.targetY-le)+(X>0?"L"+$.targetX+" "+$.targetY:"")+"Z":q="M "+($.targetX-X)+" "+($.targetY-le)+" L"+($.rightInnerExtent-X)+" "+($.targetY-le)+"A"+($.rightLargeArcRadius+le)+" "+($.rightSmallArcRadius+le)+" 0 0 0 "+($.rightFullExtent-le-X)+" "+($.targetY+$.rightSmallArcRadius)+"L"+($.rightFullExtent-le-X)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+le)+" "+($.rightLargeArcRadius+le)+" 0 0 0 "+($.rightInnerExtent-X)+" "+($.verticalFullExtent+le)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent+le)+"A"+($.leftLargeArcRadius+le)+" "+($.leftLargeArcRadius+le)+" 0 0 0 "+($.leftFullExtent+le)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+le)+" "+($.sourceY+$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+le)+" "+($.leftSmallArcRadius+le)+" 0 0 0 "+$.leftInnerExtent+" "+($.sourceY-le)+"L"+$.sourceX+" "+($.sourceY-le)+"L"+$.sourceX+" "+($.sourceY+le)+"L"+$.leftInnerExtent+" "+($.sourceY+le)+"A"+($.leftLargeArcRadius-le)+" "+($.leftSmallArcRadius-le)+" 0 0 1 "+($.leftFullExtent-le)+" "+($.sourceY+$.leftSmallArcRadius)+"L"+($.leftFullExtent-le)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-le)+" "+($.leftLargeArcRadius-le)+" 0 0 1 "+$.leftInnerExtent+" "+($.verticalFullExtent-le)+"L"+($.rightInnerExtent-X)+" "+($.verticalFullExtent-le)+"A"+($.rightLargeArcRadius-le)+" "+($.rightLargeArcRadius-le)+" 0 0 1 "+($.rightFullExtent+le-X)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+le-X)+" "+($.targetY+$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-le)+" "+($.rightSmallArcRadius-le)+" 0 0 1 "+($.rightInnerExtent-X)+" "+($.targetY+le)+"L"+($.targetX-X)+" "+($.targetY+le)+(X>0?"L"+$.targetX+" "+$.targetY:"")+"Z",q}function M(){var ee=.5;function X(q){var le=q.linkArrowLength;if(q.link.circular)return L(q.link,le);var $=Math.abs((q.link.target.x0-q.link.source.x1)/2);le>$&&(le=$);var j=q.link.source.x1,se=q.link.target.x0-le,ne=P(j,se),he=ne(ee),me=ne(1-ee),we=q.link.y0-q.link.width/2,Te=q.link.y0+q.link.width/2,Le=q.link.y1-q.link.width/2,Ie=q.link.y1+q.link.width/2,ze="M"+j+","+we,Me="C"+he+","+we+" "+me+","+Le+" "+se+","+Le,_e="C"+me+","+Ie+" "+he+","+Te+" "+j+","+Te,Ce=le>0?"L"+(se+le)+","+(Le+q.link.width/2):"";return Ce+="L"+se+","+Ie,ze+Me+Ce+_e+"Z"}return X}function s(ee,X){var q=p(X.color),le=v.nodePadAcross,$=ee.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var j=X.dx,se=Math.max(.5,X.dy),ne="node_"+X.pointNumber;return X.group&&(ne=o.randstr()),X.trace=ee.trace,X.curveNumber=ee.trace.index,{index:X.pointNumber,key:ne,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:ee.key,trace:ee.trace,node:X,nodePad:ee.nodePad,nodeLineColor:ee.nodeLineColor,nodeLineWidth:ee.nodeLineWidth,textFont:ee.textFont,size:ee.horizontal?ee.height:ee.width,visibleWidth:Math.ceil(j),visibleHeight:se,zoneX:-le,zoneY:-$,zoneWidth:j+2*le,zoneHeight:se+2*$,labelY:ee.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:ee.width,forceLayouts:ee.forceLayouts,horizontal:ee.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:ee.valueFormat,valueSuffix:ee.valueSuffix,sankey:ee.sankey,graph:ee.graph,arrangement:ee.arrangement,uniqueNodeLabelPathId:[ee.guid,ee.key,ne].join("_"),interactionState:ee.interactionState,figure:ee}}function S(ee){ee.attr("transform",function(X){return a(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function w(ee){ee.call(S)}function _(ee,X){ee.call(w),X.attr("d",M())}function I(ee){ee.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function H(ee){return ee.link.width>1||ee.linkLineWidth>0}function O(ee){var X=a(ee.translateX,ee.translateY);return X+(ee.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function V(ee,X,q){ee.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(q.hover(this,le,X),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(q.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(q.unhover(this,le,X),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(q.unhover(this,le,X),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&q.select(this,le,X)})}function B(ee,X,q,le){var $=n.behavior.drag().origin(function(j){return{x:j.node.x0+j.visibleWidth/2,y:j.node.y0+j.visibleHeight/2}}).on("dragstart",function(j){if(j.arrangement!=="fixed"&&(o.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(ne){le._fullLayout._dragCover=ne}),o.raiseToTop(this),j.interactionState.dragInProgress=j.node,ae(j.node),j.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,j.interactionState.hovered),j.interactionState.hovered=!1),j.arrangement==="snap")){var se=j.traceId+"|"+j.key;j.forceLayouts[se]?j.forceLayouts[se].alpha(1):F(ee,se,j),G(ee,X,j,se,le)}}).on("drag",function(j){if(j.arrangement!=="fixed"){var se=n.event.x,ne=n.event.y;j.arrangement==="snap"?(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2,j.node.y0=ne-j.visibleHeight/2,j.node.y1=ne+j.visibleHeight/2):(j.arrangement==="freeform"&&(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2),ne=Math.max(0,Math.min(j.size-j.visibleHeight/2,ne)),j.node.y0=ne-j.visibleHeight/2,j.node.y1=ne+j.visibleHeight/2),ae(j.node),j.arrangement!=="snap"&&(j.sankey.update(j.graph),_(ee.filter(fe(j)),X))}}).on("dragend",function(j){if(j.arrangement!=="fixed"){j.interactionState.dragInProgress=!1;for(var se=0;se<j.node.childrenNodes.length;se++)j.node.childrenNodes[se].x=j.node.x,j.node.childrenNodes[se].y=j.node.y;j.arrangement!=="snap"&&Q(j,le)}});ee.on(".drag",null).call($)}function F(ee,X,q,le){oe(q.graph.nodes);var $=q.graph.nodes.filter(function(j){return j.originalX===q.node.originalX}).filter(function(j){return!j.partOfGroup});q.forceLayouts[X]=d.forceSimulation($).alphaDecay(0).force("collide",d.forceCollide().radius(function(j){return j.dy/2+q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",Y(ee,X,$,q)).stop()}function G(ee,X,q,le,$){window.requestAnimationFrame(function j(){var se;for(se=0;se<v.forceTicksPerFrame;se++)q.forceLayouts[le].tick();var ne=q.graph.nodes;if(J(ne),q.sankey.update(q.graph),_(ee.filter(fe(q)),X),q.forceLayouts[le].alpha()>0)window.requestAnimationFrame(j);else{var he=q.node.originalX;q.node.x0=he-q.visibleWidth/2,q.node.x1=he+q.visibleWidth/2,Q(q,$)}})}function Y(ee,X,q,le){return function(){for(var j=0,se=0;se<q.length;se++){var ne=q[se];ne===le.interactionState.dragInProgress?(ne.x=ne.lastDraggedX,ne.y=ne.lastDraggedY):(ne.vx=(ne.originalX-ne.x)/v.forceTicksPerFrame,ne.y=Math.min(le.size-ne.dy/2,Math.max(ne.dy/2,ne.y))),j=Math.max(j,Math.abs(ne.vx),Math.abs(ne.vy))}!le.interactionState.dragInProgress&&j<.1&&le.forceLayouts[X].alpha()>0&&le.forceLayouts[X].alpha(0)}}function Q(ee,X){for(var q=[],le=[],$=0;$<ee.graph.nodes.length;$++){var j=(ee.graph.nodes[$].x0+ee.graph.nodes[$].x1)/2,se=(ee.graph.nodes[$].y0+ee.graph.nodes[$].y1)/2;q.push(j/ee.figure.width),le.push(se/ee.figure.height)}h.call("_guiRestyle",X,{"node.x":[q],"node.y":[le]},ee.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function te(ee){var X=[],q;for(q=0;q<ee.length;q++)ee[q].originalX=(ee[q].x0+ee[q].x1)/2,ee[q].originalY=(ee[q].y0+ee[q].y1)/2,X.indexOf(ee[q].originalX)===-1&&X.push(ee[q].originalX);for(X.sort(function(le,$){return le-$}),q=0;q<ee.length;q++)ee[q].originalLayerIndex=X.indexOf(ee[q].originalX),ee[q].originalLayer=ee[q].originalLayerIndex/(X.length-1)}function ae(ee){ee.lastDraggedX=ee.x0+ee.dx/2,ee.lastDraggedY=ee.y0+ee.dy/2}function fe(ee){return function(X){return X.node.originalX===ee.node.originalX}}function oe(ee){for(var X=0;X<ee.length;X++)ee[X].y=(ee[X].y0+ee[X].y1)/2,ee[X].x=(ee[X].x0+ee[X].x1)/2}function J(ee){for(var X=0;X<ee.length;X++)ee[X].y0=ee[X].y-ee[X].dy/2,ee[X].y1=ee[X].y0+ee[X].dy,ee[X].x0=ee[X].x-ee[X].dx/2,ee[X].x1=ee[X].x0+ee[X].dx}U.exports=function(ee,X,q,le,$){var j=ee._context.staticPlot,se=!1;o.ensureSingle(ee._fullLayout._infolayer,"g","first-render",function(){se=!0});var ne=ee._fullLayout._dragCover,he=q.filter(function(_e){return c(_e).trace.visible}).map(R.bind(null,le)),me=X.selectAll("."+v.cn.sankey).data(he,l);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",j?"none":"auto").attr("transform",O),me.each(function(_e,Ce){ee._fullData[Ce]._sankey=_e;var Oe="bgsankey-"+_e.trace.uid+"-"+Ce;o.ensureSingle(ee._fullLayout._draggers,"rect",Oe),ee._fullData[Ce]._bgRect=n.select("."+Oe),ee._fullData[Ce]._bgRect.style("pointer-events",j?"none":"all").attr("width",_e.width).attr("height",_e.height).attr("x",_e.translateX).attr("y",_e.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",O);var we=me.selectAll("."+v.cn.sankeyLinks).data(y,l);we.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Te=we.selectAll("."+v.cn.sankeyLink).data(function(_e){var Ce=_e.graph.links;return Ce.filter(function(Oe){return Oe.value}).map(m.bind(null,_e))},l);Te.enter().append("path").classed(v.cn.sankeyLink,!0).call(V,me,$.linkEvents),Te.style("stroke",function(_e){return H(_e)?r.tinyRGB(p(_e.linkLineColor)):_e.tinyColorHue}).style("stroke-opacity",function(_e){return H(_e)?r.opacity(_e.linkLineColor):_e.tinyColorAlpha}).style("fill",function(_e){return _e.tinyColorHue}).style("fill-opacity",function(_e){return _e.tinyColorAlpha}).style("stroke-width",function(_e){return H(_e)?_e.linkLineWidth:1}).attr("d",M()),Te.style("opacity",function(){return ee._context.staticPlot||se||ne?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Le=me.selectAll("."+v.cn.sankeyNodeSet).data(y,l);Le.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Le.style("cursor",function(_e){switch(_e.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ie=Le.selectAll("."+v.cn.sankeyNode).data(function(_e){var Ce=_e.graph.nodes;return te(Ce),Ce.map(s.bind(null,_e))},l);Ie.enter().append("g").classed(v.cn.sankeyNode,!0).call(S).style("opacity",function(_e){return(ee._context.staticPlot||se)&&!_e.partOfGroup?1:0}),Ie.call(V,me,$.nodeEvents).call(B,Te,$,ee),Ie.transition().ease(v.ease).duration(v.duration).call(S).style("opacity",function(_e){return _e.partOfGroup?0:1}),Ie.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ze=Ie.selectAll("."+v.cn.nodeRect).data(y);ze.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),ze.style("stroke-width",function(_e){return _e.nodeLineWidth}).style("stroke",function(_e){return r.tinyRGB(p(_e.nodeLineColor))}).style("stroke-opacity",function(_e){return r.opacity(_e.nodeLineColor)}).style("fill",function(_e){return _e.tinyColorHue}).style("fill-opacity",function(_e){return _e.tinyColorAlpha}),ze.transition().ease(v.ease).duration(v.duration).call(I);var Me=Ie.selectAll("."+v.cn.nodeLabel).data(y);Me.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Me.attr("data-notex",1).text(function(_e){return _e.node.label}).each(function(_e){var Ce=n.select(this);t.font(Ce,_e.textFont),T.convertToTspans(Ce,ee)}).attr("text-anchor",function(_e){return _e.horizontal&&_e.left?"end":"start"}).attr("transform",function(_e){var Ce=n.select(this),Oe=T.lineCount(Ce),Pe=_e.textFont.size*((Oe-1)*b-g),Ge=_e.nodeLineWidth/2+A,Ze=((_e.horizontal?_e.visibleHeight:_e.visibleWidth)-Pe)/2;_e.horizontal&&(_e.left?Ge=-Ge:Ge+=_e.visibleWidth);var it=_e.horizontal?"":"scale(-1,1)"+u(90);return a(_e.horizontal?Ge:Ze,_e.horizontal?Ze:Ge)+it}),Me.transition().ease(v.ease).duration(v.duration)}},81128:function(U){U.exports=function(e,d){for(var P=e.cd,n=[],C=P[0].trace,x=C._sankey.graph.nodes,v=0;v<x.length;v++){var p=x[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];C.orientation==="v"&&r.reverse(),d&&d.contains(r,!1,v,e)&&n.push({pointNumber:p.pointNumber})}}return n}},20148:function(U,N,e){var d=e(3400);U.exports=function(n,C){for(var x=0;x<n.length;x++)n[x].i=x;d.mergeArray(C.text,n,"tx"),d.mergeArray(C.texttemplate,n,"txt"),d.mergeArray(C.hovertext,n,"htx"),d.mergeArray(C.customdata,n,"data"),d.mergeArray(C.textposition,n,"tp"),C.textfont&&(d.mergeArrayCastPositive(C.textfont.size,n,"ts"),d.mergeArray(C.textfont.color,n,"tc"),d.mergeArray(C.textfont.family,n,"tf"),d.mergeArray(C.textfont.weight,n,"tw"),d.mergeArray(C.textfont.style,n,"ty"),d.mergeArray(C.textfont.variant,n,"tv"),d.mergeArray(C.textfont.textcase,n,"tC"),d.mergeArray(C.textfont.lineposition,n,"tE"),d.mergeArray(C.textfont.shadow,n,"tS"));var v=C.marker;if(v){d.mergeArrayCastPositive(v.size,n,"ms"),d.mergeArrayCastPositive(v.opacity,n,"mo"),d.mergeArray(v.symbol,n,"mx"),d.mergeArray(v.angle,n,"ma"),d.mergeArray(v.standoff,n,"mf"),d.mergeArray(v.color,n,"mc");var p=v.line;v.line&&(d.mergeArray(p.color,n,"mlc"),d.mergeArrayCastPositive(p.width,n,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(d.mergeArray(r.type,n,"mgt"),d.mergeArray(r.color,n,"mgc"))}}},52904:function(U,N,e){var d=e(29736).axisHoverFormat,P=e(21776).Gw,n=e(21776).Ks,C=e(49084),x=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),o=e(92880).extendFlat,a=e(98304);function u(y){return{valType:"any",dflt:0,editType:"calc"}}function f(y){return{valType:"any",editType:"calc"}}function l(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u(),yperiod:u(),xperiod0:f(),yperiod0:f(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:d("x"),yhoverformat:d("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:a(!0),fillgradient:o({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:o({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:x({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(U,N,e){var d=e(38248),P=e(3400),n=e(54460),C=e(1220),x=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function o(c,T){var h=c._fullLayout,i=T._xA=n.getFromId(c,T.xaxis||"x","x"),g=T._yA=n.getFromId(c,T.yaxis||"y","y"),b=i.makeCalcdata(T,"x"),A=g.makeCalcdata(T,"y"),R=C(T,i,"x",b),m=C(T,g,"y",A),L=R.vals,M=m.vals,s=T._length,S=new Array(s),w=T.ids,_=y(T,h,i,g),I=!1,H,O,V,B,F,G;f(h,T);var Y="x",Q="y",te;if(_)P.pushUnique(_.traceIndices,T._expandedIndex),H=_.orientation==="v",H?(Q="s",te="x"):(Y="s",te="y"),F=_.stackgaps==="interpolate";else{var ae=u(T,s);a(c,T,i,g,L,M,ae)}var fe=!!T.xperiodalignment,oe=!!T.yperiodalignment;for(O=0;O<s;O++){var J=S[O]={},ee=d(L[O]),X=d(M[O]);ee&&X?(J[Y]=L[O],J[Q]=M[O],fe&&(J.orig_x=b[O],J.xEnd=R.ends[O],J.xStart=R.starts[O]),oe&&(J.orig_y=A[O],J.yEnd=m.ends[O],J.yStart=m.starts[O])):_&&(H?ee:X)?(J[te]=H?L[O]:M[O],J.gap=!0,F?(J.s=x,I=!0):J.s=0):J[Y]=J[Q]=x,w&&(J.id=String(w[O]))}if(r(S,T),p(c,T),t(S,T),_){for(O=0;O<S.length;)S[O][te]===x?S.splice(O,1):O++;if(P.sort(S,function(j,se){return j[te]-se[te]||j.i-se.i}),I){for(O=0;O<S.length-1&&S[O].gap;)O++;for(G=S[O].s,G||(G=S[O].s=0),V=0;V<O;V++)S[V].s=G;for(B=S.length-1;B>O&&S[B].gap;)B--;for(G=S[B].s,V=S.length-1;V>B;V--)S[V].s=G;for(;O<B;)if(O++,S[O].gap){for(V=O+1;S[V].gap;)V++;for(var q=S[O-1][te],le=S[O-1].s,$=(S[V].s-le)/(S[V][te]-q);O<V;)S[O].s=le+(S[O][te]-q)*$,O++}}}return S}function a(c,T,h,i,g,b,A){var R=T._length,m=c._fullLayout,L=h._id,M=i._id,s=m._firstScatter[l(T)]===T.uid,S=(y(T,m,h,i)||{}).orientation,w=T.fill;h._minDtick=0,i._minDtick=0;var _={padded:!0},I={padded:!0};A&&(_.ppad=I.ppad=A);var H=R<2||g[0]!==g[R-1]||b[0]!==b[R-1];H&&(w==="tozerox"||w==="tonextx"&&(s||S==="h"))?_.tozero=!0:!(T.error_y||{}).visible&&(w==="tonexty"||w==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(_.padded=!1,_.ppad=0),H&&(w==="tozeroy"||w==="tonexty"&&(s||S==="v"))?I.tozero=!0:(w==="tonextx"||w==="tozerox")&&(I.padded=!1),L&&(T._extremes[L]=n.findExtremes(h,g,_)),M&&(T._extremes[M]=n.findExtremes(i,b,I))}function u(c,T){if(v.hasMarkers(c)){var h=c.marker,i=1.6*(c.marker.sizeref||1),g;if(c.marker.sizemode==="area"?g=function(L){return Math.max(Math.sqrt((L||0)/i),3)}:g=function(L){return Math.max((L||0)/i,3)},P.isArrayOrTypedArray(h.size)){var b={type:"linear"};n.setConvert(b);for(var A=b.makeCalcdata(c.marker,"size"),R=new Array(T),m=0;m<T;m++)R[m]=g(A[m]);return R}else return g(h.size)}}function f(c,T){var h=l(T),i=c._firstScatter;i[h]||(i[h]=T.uid)}function l(c){var T=c.stackgroup;return c.xaxis+c.yaxis+c.type+(T?"-"+T:"")}function y(c,T,h,i){var g=c.stackgroup;if(g){var b=T._scatterStackOpts[h._id+i._id][g],A=b.orientation==="v"?i:h;if(A.type==="linear"||A.type==="log")return b}}U.exports={calc:o,calcMarkerSize:u,calcAxisExpansion:a,setFirstScatter:f,getStackOpts:y}},4500:function(U,N,e){var d=e(3400);U.exports=function(n,C){d.isArrayOrTypedArray(C.selectedpoints)&&d.tagSelected(n,C)}},90136:function(U,N,e){var d=e(94288).hasColorscale,P=e(47128),n=e(43028);U.exports=function(x,v){n.hasLines(v)&&d(v,"line")&&P(x,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(v)&&(d(v,"marker")&&P(x,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),d(v,"marker.line")&&P(x,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(U){U.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(U,N,e){var d=e(16356),P=e(96376).setGroupPositions;function n(v,p){for(var r=p.xaxis,t=p.yaxis,o=v._fullLayout,a=v._fullData,u=v.calcdata,f=[],l=[],y=0;y<a.length;y++){var c=a[y];c.visible===!0&&c.type==="scatter"&&c.xaxis===r._id&&c.yaxis===t._id&&(c.orientation==="h"?f.push(u[y]):c.orientation==="v"&&l.push(u[y]))}var T={mode:o.scattermode,gap:o.scattergap};P(v,r,t,l,T),P(v,t,r,f,T)}U.exports=function(p,r){p._fullLayout.scattermode==="group"&&n(p,r);var t=r.xaxis,o=r.yaxis,a=t._id+o._id,u=p._fullLayout._scatterStackOpts[a];if(u){var f=p.calcdata,l,y,c,T,h,i,g,b,A,R,m,L,M,s,S;for(var w in u){R=u[w];var _=R.traceIndices;if(_.length){for(m=R.stackgaps==="interpolate",L=R.groupnorm,R.orientation==="v"?(M="x",s="y"):(M="y",s="x"),S=new Array(_.length),l=0;l<S.length;l++)S[l]=!1;i=f[_[0]];var I=new Array(i.length);for(l=0;l<i.length;l++)I[l]=i[l][M];for(l=1;l<_.length;l++){for(h=f[_[l]],y=c=0;y<h.length;y++){for(g=h[y][M];g>I[c]&&c<I.length;c++)C(h,y,I[c],l,S,m,M),y++;if(g!==I[c]){for(T=0;T<l;T++)C(f[_[T]],c,g,T,S,m,M);I.splice(c,0,g)}c++}for(;c<I.length;c++)C(h,y,I[c],l,S,m,M),y++}var H=I.length;for(y=0;y<i.length;y++){for(b=i[y][s]=i[y].s,l=1;l<_.length;l++)h=f[_[l]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=H,b+=h[y].s,h[y][s]=b;if(L)for(A=(L==="fraction"?b:b/100)||1,l=0;l<_.length;l++){var O=f[_[l]][y];O[s]/=A,O.sNorm=O.s/A}}for(l=0;l<_.length;l++){h=f[_[l]];var V=h[0].trace,B=d.calcMarkerSize(V,V._rawLength),F=Array.isArray(B);if(B&&S[l]||F){var G=B;for(B=new Array(H),y=0;y<H;y++)B[y]=h[y].gap?0:F?G[h[y].i]:G}var Y=new Array(H),Q=new Array(H);for(y=0;y<H;y++)Y[y]=h[y].x,Q[y]=h[y].y;d.calcAxisExpansion(p,V,t,o,Y,Q,B),h[0].t.orientation=R.orientation}}}}};function C(v,p,r,t,o,a,u){o[t]=!0;var f={i:null,gap:!0,s:0};if(f[u]=r,v.splice(p,0,f),p&&r===v[p-1][u]){var l=v[p-1];f.s=l.s,f.i=l.i,f.gap=l.gap}else a&&(f.s=x(v,p,r,u));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function x(v,p,r,t){var o=v[p-1],a=v[p+1];return a?o?o.s+(a.s-o.s)*(r-o[t])/(a[t]-o[t]):a.s:o.s}},35036:function(U,N,e){var d=e(3400),P=e(20011),n=e(52904);U.exports=function(x,v){var p,r,t;function o(y){return d.coerce(r._input,r,n,y)}if(v.scattermode==="group")for(t=0;t<x.length;t++)r=x[t],r.type==="scatter"&&(p=r._input,P(p,r,v,o));for(t=0;t<x.length;t++){var a=x[t];if(a.type==="scatter"){var u=a.fill;if(!(u==="none"||u==="toself")&&(a.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var f=t-1;f>=0;f--){var l=x[f];if(l.type==="scatter"&&l.xaxis===a.xaxis&&l.yaxis===a.yaxis){l.opacity=void 0;break}}}}}},18800:function(U,N,e){var d=e(3400),P=e(24040),n=e(52904),C=e(88200),x=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),o=e(66828),a=e(11731),u=e(124),f=e(70840),l=e(3400).coercePattern;U.exports=function(c,T,h,i){function g(S,w){return d.coerce(c,T,n,S,w)}var b=v(c,T,i,g);if(b||(T.visible=!1),!!T.visible){p(c,T,i,g),g("xhoverformat"),g("yhoverformat"),g("zorder");var A=r(c,T,i,g);i.scattermode==="group"&&T.orientation===void 0&&g("orientation","v");var R=!A&&b<C.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",R),x.hasMarkers(T)&&t(c,T,h,i,g,{gradient:!0}),x.hasLines(T)&&(o(c,T,h,i,g,{backoff:!0}),a(c,T,g),g("connectgaps"),g("line.simplify")),x.hasText(T)&&(g("texttemplate"),u(c,T,i,g));var m=[];(x.hasMarkers(T)||x.hasText(T))&&(g("cliponaxis"),g("marker.maxdisplayed"),m.push("points")),g("fill",A?A.fillDflt:"none"),T.fill!=="none"&&(f(c,T,h,g,{moduleHasFillgradient:!0}),x.hasLines(T)||a(c,T,g),l(g,"fillpattern",T.fillcolor,!1));var L=(T.line||{}).color,M=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&m.push("fills"),g("hoveron",m.join("+")||"points"),T.hoveron!=="fills"&&g("hovertemplate");var s=P.getComponentMethod("errorbars","supplyDefaults");s(c,T,L||M||h,{axis:"y"}),s(c,T,L||M||h,{axis:"x",inherit:"y"}),d.coerceSelectionMarkerOpacity(T,g)}}},98304:function(U){U.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(U,N,e){var d=e(76308),P=e(3400).isArrayOrTypedArray;function n(C){for(var x=d.interpolate(C[0][1],C[1][1],.5),v=2;v<C.length;v++){var p=d.interpolate(C[v-1][1],C[v][1],.5);x=d.interpolate(x,p,C[v-1][0]/C[v][0])}return x}U.exports=function(x,v,p,r,t){t||(t={});var o=!1;if(v.marker){var a=v.marker.color,u=(v.marker.line||{}).color;a&&!P(a)?o=a:u&&!P(u)&&(o=u)}var f;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var y=r("fillgradient.colorscale");y&&(f=n(y))}}r("fillcolor",d.addOpacity((v.line||{}).color||o||f||p,.5))}},76688:function(U,N,e){var d=e(54460);U.exports=function(n,C,x){var v={},p={_fullLayout:x},r=d.getFromTrace(p,C,"x"),t=d.getFromTrace(p,C,"y"),o=n.orig_x;o===void 0&&(o=n.x);var a=n.orig_y;return a===void 0&&(a=n.y),v.xLabel=d.tickText(r,r.c2l(o),!0).text,v.yLabel=d.tickText(t,t.c2l(a),!0).text,v}},44928:function(U,N,e){var d=e(76308),P=e(43028);U.exports=function(C,x){var v,p;if(C.mode==="lines")return v=C.line.color,v&&d.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=x.mcc||(C.marker||{}).color,t=x.mlcc||((C.marker||{}).line||{}).color;return p=r&&d.opacity(r)?r:t&&d.opacity(t)&&(x.mlw||((C.marker||{}).line||{}).width)?t:"",p?d.opacity(p)<.3?d.addOpacity(p,.3):p:(v=(C.line||{}).color,v&&d.opacity(v)&&P.hasLines(C)&&C.line.width?v:C.fillcolor)}},20011:function(U,N,e){var d=e(71888).getAxisGroup;U.exports=function(n,C,x,v){var p=C.orientation,r=C[{v:"x",h:"y"}[p]+"axis"],t=d(x,r)+p,o=x._alignmentOpts||{},a=v("alignmentgroup"),u=o[t];u||(u=o[t]={});var f=u[a];f?f.traces.push(C):f=u[a]={traces:[C],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var l=v("offsetgroup"),y=f.offsetGroups,c=y[l];l&&(c||(c=y[l]={offsetIndex:Object.keys(y).length}),C._offsetIndex=c.offsetIndex)}},98723:function(U,N,e){var d=e(3400),P=e(93024),n=e(24040),C=e(44928),x=e(76308),v=d.fillText;U.exports=function(r,t,o,a){var u=r.cd,f=u[0].trace,l=r.xa,y=r.ya,c=l.c2p(t),T=y.c2p(o),h=[c,T],i=f.hoveron||"",g=f.mode.indexOf("markers")!==-1?3:.5,b=!!f.xperiodalignment,A=!!f.yperiodalignment;if(i.indexOf("points")!==-1){var R=function(te){if(b){var ae=l.c2p(te.xStart),fe=l.c2p(te.xEnd);return c>=Math.min(ae,fe)&&c<=Math.max(ae,fe)?0:1/0}var oe=Math.max(3,te.mrc||0),J=1-1/oe,ee=Math.abs(l.c2p(te.x)-c);return ee<oe?J*ee/oe:ee-oe+J},m=function(te){if(A){var ae=y.c2p(te.yStart),fe=y.c2p(te.yEnd);return T>=Math.min(ae,fe)&&T<=Math.max(ae,fe)?0:1/0}var oe=Math.max(3,te.mrc||0),J=1-1/oe,ee=Math.abs(y.c2p(te.y)-T);return ee<oe?J*ee/oe:ee-oe+J},L=function(te){var ae=Math.max(g,te.mrc||0),fe=l.c2p(te.x)-c,oe=y.c2p(te.y)-T;return Math.max(Math.sqrt(fe*fe+oe*oe)-ae,1-g/ae)},M=P.getDistanceFunction(a,R,m,L);if(P.getClosest(u,M,r),r.index!==!1){var s=u[r.index],S=l.c2p(s.x,!0),w=y.c2p(s.y,!0),_=s.mrc||1;r.index=s.i;var I=u[0].t.orientation,H=I&&(s.sNorm||s.s),O=I==="h"?H:s.orig_x!==void 0?s.orig_x:s.x,V=I==="v"?H:s.orig_y!==void 0?s.orig_y:s.y;return d.extendFlat(r,{color:C(f,s),x0:S-_,x1:S+_,xLabelVal:O,y0:w-_,y1:w+_,yLabelVal:V,spikeDistance:L(s),hovertemplate:f.hovertemplate}),v(s,f,r),n.getComponentMethod("errorbars","hoverInfo")(s,f,r),[r]}}function B(te){if(!te)return!1;var ae=te.node();try{var fe=new DOMPoint(h[0],h[1]);return ae.isPointInFill(fe)}catch{var oe=ae.ownerSVGElement.createSVGPoint();return oe.x=h[0],oe.y=h[1],ae.isPointInFill(oe)}}function F(te){var ae,fe=[],oe=1/0,J=-1/0,ee=1/0,X=-1/0,q;for(ae=0;ae<te.length;ae++){var le=te[ae];le.contains(h)&&(fe.push(le),ee=Math.min(ee,le.ymin),X=Math.max(X,le.ymax))}if(fe.length===0)return null;ee=Math.max(ee,0),X=Math.min(X,y._length),q=(ee+X)/2;var $,j,se,ne,he,me,we;for(ae=0;ae<fe.length;ae++)for(j=fe[ae].pts,$=1;$<j.length;$++)me=j[$-1][1],we=j[$][1],me>q!=we>=q&&(ne=j[$-1][0],he=j[$][0],we-me&&(se=ne+(he-ne)*(q-me)/(we-me),oe=Math.min(oe,se),J=Math.max(J,se)));return oe=Math.max(oe,0),J=Math.min(J,l._length),{x0:oe,x1:J,y0:q,y1:q}}if(i.indexOf("fills")!==-1&&f._fillElement){var G=B(f._fillElement)&&!B(f._fillExclusionElement);if(G){var Y=F(f._polygons);Y===null&&(Y={x0:h[0],x1:h[0],y0:h[1],y1:h[1]});var Q=x.defaultLine;return x.opacity(f.fillcolor)?Q=f.fillcolor:x.opacity((f.line||{}).color)&&(Q=f.line.color),d.extendFlat(r,{distance:r.maxHoverDistance,x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1,color:Q,hovertemplate:!1}),delete r.index,f.text&&!d.isArrayOrTypedArray(f.text)?r.text=String(f.text):r.text=f.name,[r]}}}},65875:function(U,N,e){var d=e(43028);U.exports={hasLines:d.hasLines,hasMarkers:d.hasMarkers,hasText:d.hasText,isBubble:d.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(U){U.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(U,N,e){var d=e(3400),P=e(55308);U.exports=function(n,C){function x(p,r){return d.coerce(n,C,P,p,r)}var v=C.barmode==="group";C.scattermode==="group"&&x("scattergap",v?C.bargap:.2)}},66828:function(U,N,e){var d=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,n=e(27260);U.exports=function(x,v,p,r,t,o){o||(o={});var a=(x.marker||{}).color;if(a&&a._inputArray&&(a=a._inputArray),t("line.color",p),P(x,"line"))n(x,v,r,t,{prefix:"line.",cLetter:"c"});else{var u=(d(a)?!1:a)||p;t("line.color",u)}t("line.width"),o.noDash||t("line.dash"),o.backoff&&t("line.backoff")}},52340:function(U,N,e){var d=e(43616),P=e(39032),n=P.BADNUM,C=P.LOG_CLIP,x=C+.5,v=C-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,o=e(88200);U.exports=function(u,f){var l=f.trace||{},y=f.xaxis,c=f.yaxis,T=y.type==="log",h=c.type==="log",i=y._length,g=c._length,b=f.backoff,A=l.marker,R=f.connectGaps,m=f.baseTolerance,L=f.shape,M=L==="linear",s=l.fill&&l.fill!=="none",S=[],w=o.minTolerance,_=u.length,I=new Array(_),H=0,O,V,B,F,G,Y,Q,te,ae,fe,oe,J,ee,X,q,le;function $(at){var lt=u[at];if(!lt)return!1;var Ht=f.linearized?y.l2p(lt.x):y.c2p(lt.x),Yt=f.linearized?c.l2p(lt.y):c.c2p(lt.y);if(Ht===n){if(T&&(Ht=y.c2p(lt.x,!0)),Ht===n)return!1;h&&Yt===n&&(Ht*=Math.abs(y._m*g*(y._m>0?x:v)/(c._m*i*(c._m>0?x:v)))),Ht*=1e3}if(Yt===n){if(h&&(Yt=c.c2p(lt.y,!0)),Yt===n)return!1;Yt*=1e3}return[Ht,Yt]}function j(at,lt,Ht,Yt){var Tt=Ht-at,Lt=Yt-lt,Kt=.5-at,vr=.5-lt,gt=Tt*Tt+Lt*Lt,Xt=Tt*Kt+Lt*vr;if(Xt>0&&Xt<gt){var $t=Kt*Lt-vr*Tt;if($t*$t<gt)return!0}}var se,ne;function he(at,lt){var Ht=at[0]/i,Yt=at[1]/g,Tt=Math.max(0,-Ht,Ht-1,-Yt,Yt-1);return Tt&&se!==void 0&&j(Ht,Yt,se,ne)&&(Tt=0),Tt&&lt&&j(Ht,Yt,lt[0]/i,lt[1]/g)&&(Tt=0),(1+o.toleranceGrowth*Tt)*m}function me(at,lt){var Ht=at[0]-lt[0],Yt=at[1]-lt[1];return Math.sqrt(Ht*Ht+Yt*Yt)}var we=o.maxScreensAway,Te=-i*we,Le=i*(1+we),Ie=-g*we,ze=g*(1+we),Me=[[Te,Ie,Le,Ie],[Le,Ie,Le,ze],[Le,ze,Te,ze],[Te,ze,Te,Ie]],_e,Ce,Oe,Pe,Ge,Ze;function it(at,lt){for(var Ht=[],Yt=0,Tt=0;Tt<4;Tt++){var Lt=Me[Tt],Kt=r(at[0],at[1],lt[0],lt[1],Lt[0],Lt[1],Lt[2],Lt[3]);Kt&&(!Yt||Math.abs(Kt.x-Ht[0][0])>1||Math.abs(Kt.y-Ht[0][1])>1)&&(Kt=[Kt.x,Kt.y],Yt&&me(Kt,at)<me(Ht[0],at)?Ht.unshift(Kt):Ht.push(Kt),Yt++)}return Ht}function Je(at){if(at[0]<Te||at[0]>Le||at[1]<Ie||at[1]>ze)return[t(at[0],Te,Le),t(at[1],Ie,ze)]}function et(at,lt){if(at[0]===lt[0]&&(at[0]===Te||at[0]===Le)||at[1]===lt[1]&&(at[1]===Ie||at[1]===ze))return!0}function ft(at,lt){var Ht=[],Yt=Je(at),Tt=Je(lt);return Yt&&Tt&&et(Yt,Tt)||(Yt&&Ht.push(Yt),Tt&&Ht.push(Tt)),Ht}function vt(at,lt,Ht){return function(Yt,Tt){var Lt=Je(Yt),Kt=Je(Tt),vr=[];if(Lt&&Kt&&et(Lt,Kt))return vr;Lt&&vr.push(Lt),Kt&&vr.push(Kt);var gt=2*p.constrain((Yt[at]+Tt[at])/2,lt,Ht)-((Lt||Yt)[at]+(Kt||Tt)[at]);if(gt){var Xt;Lt&&Kt?Xt=gt>0==Lt[at]>Kt[at]?Lt:Kt:Xt=Lt||Kt,Xt[at]+=gt}return vr}}var dt;L==="linear"||L==="spline"?dt=it:L==="hv"||L==="vh"?dt=ft:L==="hvh"?dt=vt(0,Te,Le):L==="vhv"&&(dt=vt(1,Ie,ze));function xt(at,lt){var Ht=lt[0]-at[0],Yt=(lt[1]-at[1])/Ht,Tt=(at[1]*lt[0]-lt[1]*at[0])/Ht;return Tt>0?[Yt>0?Te:Le,ze]:[Yt>0?Le:Te,Ie]}function Mt(at){var lt=at[0],Ht=at[1],Yt=lt===I[H-1][0],Tt=Ht===I[H-1][1];if(!(Yt&&Tt))if(H>1){var Lt=lt===I[H-2][0],Kt=Ht===I[H-2][1];Yt&&(lt===Te||lt===Le)&&Lt?Kt?H--:I[H-1]=at:Tt&&(Ht===Ie||Ht===ze)&&Kt?Lt?H--:I[H-1]=at:I[H++]=at}else I[H++]=at}function nt(at){I[H-1][0]!==at[0]&&I[H-1][1]!==at[1]&&Mt([Oe,Pe]),Mt(at),Ge=null,Oe=Pe=0}var Fe=p.isArrayOrTypedArray(A);function We(at){if(at&&b&&(at.i=O,at.d=u,at.trace=l,at.marker=Fe?A[at.i]:A,at.backoff=b),se=at[0]/i,ne=at[1]/g,_e=at[0]<Te?Te:at[0]>Le?Le:0,Ce=at[1]<Ie?Ie:at[1]>ze?ze:0,_e||Ce){if(!H)I[H++]=[_e||at[0],Ce||at[1]];else if(Ge){var lt=dt(Ge,at);lt.length>1&&(nt(lt[0]),I[H++]=lt[1])}else Ze=dt(I[H-1],at)[0],I[H++]=Ze;var Ht=I[H-1];_e&&Ce&&(Ht[0]!==_e||Ht[1]!==Ce)?(Ge&&(Oe!==_e&&Pe!==Ce?Mt(Oe&&Pe?xt(Ge,at):[Oe||_e,Pe||Ce]):Oe&&Pe&&Mt([Oe,Pe])),Mt([_e,Ce])):Oe-_e&&Pe-Ce&&Mt([_e||Oe,Ce||Pe]),Ge=at,Oe=_e,Pe=Ce}else Ge&&nt(dt(Ge,at)[0]),I[H++]=at}for(O=0;O<_;O++)if(V=$(O),!!V){for(H=0,Ge=null,We(V),O++;O<_;O++){if(F=$(O),!F){if(R)continue;break}if(!M||!f.simplify){We(F);continue}var je=$(O+1);if(fe=me(F,V),!(!(s&&(H===0||H===_-1))&&fe<he(F,je)*w)){for(te=[(F[0]-V[0])/fe,(F[1]-V[1])/fe],G=V,oe=fe,J=X=q=0,Q=!1,B=F,O++;O<u.length;O++){if(Y=je,je=$(O+1),!Y){if(R)continue;break}if(ae=[Y[0]-V[0],Y[1]-V[1]],le=ae[0]*te[1]-ae[1]*te[0],X=Math.min(X,le),q=Math.max(q,le),q-X>he(Y,je))break;B=Y,ee=ae[0]*te[0]+ae[1]*te[1],ee>oe?(oe=ee,F=Y,Q=!1):ee<J&&(J=ee,G=Y,Q=!0)}if(Q?(We(F),B!==G&&We(G)):(G!==V&&We(G),B!==F&&We(F)),We(B),O>=u.length||!Y)break;We(Y),V=Y}}Ge&&Mt([Oe||Ge[0],Pe||Ge[1]]),S.push(I.slice(0,H))}var Ke=L.slice(L.length-1);if(b&&Ke!=="h"&&Ke!=="v"){for(var ke=!1,Ue=-1,Ve=[],Re=0;Re<S.length;Re++)for(var de=0;de<S[Re].length-1;de++){var be=S[Re][de],Ne=S[Re][de+1],Ye=d.applyBackoff(Ne,be);(Ye[0]!==Ne[0]||Ye[1]!==Ne[1])&&(ke=!0),Ve[Ue+1]||(Ue++,Ve[Ue]=[be,[Ye[0],Ye[1]]])}return ke?Ve:S}return S}},11731:function(U){U.exports=function(e,d,P){var n=P("line.shape");n==="spline"&&P("line.smoothing")}},14328:function(U){var N={tonextx:1,tonexty:1,tonext:1};U.exports=function(d,P,n){var C,x,v,p,r,t={},o=!1,a=-1,u=0,f=-1;for(x=0;x<n.length;x++)C=n[x][0].trace,v=C.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=u,u++):C.fill in N&&f>=0?r=f:(r=f=u,u++),r<a&&(o=!0),C._groupIndex=a=r;var l=n.slice();o&&l.sort(function(c,T){var h=c[0].trace,i=T[0].trace;return h._groupIndex-i._groupIndex||h.index-i.index});var y={};for(x=0;x<l.length;x++)C=l[x][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in N&&(p=y[v],C._prevtrace=p||null,p&&(p._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),y[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return l}},7152:function(U,N,e){var d=e(38248);U.exports=function(n,C){C||(C=2);var x=n.marker,v=x.sizeref||1,p=x.sizemin||0,r=x.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var o=r(t/C);return d(o)&&o>0?Math.max(o,p):0}}},5528:function(U){U.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(U,N,e){var d=e(76308),P=e(94288).hasColorscale,n=e(27260),C=e(43028);U.exports=function(v,p,r,t,o,a){var u=C.isBubble(v),f=(v.line||{}).color,l;if(a=a||{},f&&(r=f),o("marker.symbol"),o("marker.opacity",u?.7:1),o("marker.size"),a.noAngle||(o("marker.angle"),a.noAngleRef||o("marker.angleref"),a.noStandOff||o("marker.standoff")),o("marker.color",r),P(v,"marker")&&n(v,p,t,o,{prefix:"marker.",cLetter:"c"}),a.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),a.noLine||(f&&!Array.isArray(f)&&p.marker.color!==f?l=f:u?l=d.background:l=d.defaultLine,o("marker.line.color",l),P(v,"marker.line")&&n(v,p,t,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",u?1:0)),u&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),a.gradient){var y=o("marker.gradient.type");y!=="none"&&o("marker.gradient.color")}}},31147:function(U,N,e){var d=e(3400).dateTick0,P=e(39032),n=P.ONEWEEK;function C(x,v){return x%n===0?d(v,1):d(v,0)}U.exports=function(v,p,r,t,o){if(o||(o={x:!0,y:!0}),o.x){var a=t("xperiod");a&&(t("xperiod0",C(a,p.xcalendar)),t("xperiodalignment"))}if(o.y){var u=t("yperiod");u&&(t("yperiod0",C(u,p.ycalendar)),t("yperiodalignment"))}}},96504:function(U,N,e){var d=e(33428),P=e(24040),n=e(3400),C=n.ensureSingle,x=n.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),o=e(92065).tester;U.exports=function(y,c,T,h,i,g){var b,A,R=!i,m=!!i&&i.duration>0,L=t(y,c,T);if(b=h.selectAll("g.trace").data(L,function(s){return s[0].trace.uid}),b.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),b.order(),a(y,b,c),m){g&&(A=g());var M=d.transition().duration(i.duration).ease(i.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});M.each(function(){h.selectAll("g.trace").each(function(s,S){u(y,S,c,s,L,this,i)})})}else b.each(function(s,S){u(y,S,c,s,L,this,i)});R&&b.exit().remove(),h.selectAll("path:not([d])").remove()};function a(l,y,c){y.each(function(T){var h=C(d.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,l);var i=T[0].trace,g=[];i._ownfill&&g.push("_ownFill"),i._nexttrace&&g.push("_nextFill");var b=h.selectAll("g").data(g,x);b.enter().append("g"),b.exit().each(function(A){i[A]=null}).remove(),b.order().each(function(A){i[A]=C(d.select(this),"path","js-fill")})})}function u(l,y,c,T,h,i,g){var b=l._context.staticPlot,A;f(l,y,c,T,h);var R=!!g&&g.duration>0;function m(Mt){return R?Mt.transition():Mt}var L=c.xaxis,M=c.yaxis,s=T[0].trace,S=s.line,w=d.select(i),_=C(w,"g","errorbars"),I=C(w,"g","lines"),H=C(w,"g","points"),O=C(w,"g","text");if(P.getComponentMethod("errorbars","plot")(l,_,c,g),s.visible!==!0)return;m(w).style("opacity",s.opacity);var V,B,F=s.fill.charAt(s.fill.length-1);F!=="x"&&F!=="y"&&(F="");var G,Y;F==="y"?(G=1,Y=M.c2p(0,!0)):F==="x"&&(G=0,Y=L.c2p(0,!0)),T[0][c.isRangePlot?"nodeRangePlot3":"node3"]=w;var Q="",te=[],ae=s._prevtrace,fe=null,oe=null;ae&&(Q=ae._prevRevpath||"",B=ae._nextFill,te=ae._ownPolygons,fe=ae._fillsegments,oe=ae._fillElement);var J,ee,X="",q="",le,$,j,se,ne,he,me=[];s._polygons=[];var we=[],Te=[],Le=n.noop;if(V=s._ownFill,p.hasLines(s)||s.fill!=="none"){B&&B.datum(T),["hv","vh","hvh","vhv"].indexOf(S.shape)!==-1?(le=v.steps(S.shape),$=v.steps(S.shape.split("").reverse().join(""))):S.shape==="spline"?le=$=function(Mt){var nt=Mt[Mt.length-1];return Mt.length>1&&Mt[0][0]===nt[0]&&Mt[0][1]===nt[1]?v.smoothclosed(Mt.slice(1),S.smoothing):v.smoothopen(Mt,S.smoothing)}:le=$=function(Mt){return"M"+Mt.join("L")},j=function(Mt){return $(Mt.reverse())},Te=r(T,{xaxis:L,yaxis:M,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(S.width||1,3)/4,shape:S.shape,backoff:S.backoff,simplify:S.simplify,fill:s.fill}),we=new Array(Te.length);var Ie=0;for(A=0;A<Te.length;A++){var ze,Me=Te[A];!ze||!F?(ze=Me.slice(),we[Ie]=ze,Ie++):ze.push.apply(ze,Me)}s._fillElement=null,s._fillExclusionElement=oe,s._fillsegments=we.slice(0,Ie),we=s._fillsegments,Te.length&&(se=Te[0][0].slice(),ne=Te[Te.length-1],he=ne[ne.length-1].slice()),Le=function(Mt){return function(nt){if(J=le(nt),ee=j(nt),X?F?(X+="L"+J.substr(1),q=ee+("L"+q.substr(1))):(X+="Z"+J,q=ee+"Z"+q):(X=J,q=ee),p.hasLines(s)){var Fe=d.select(this);if(Fe.datum(T),Mt)m(Fe.style("opacity",0).attr("d",J).call(v.lineGroupStyle)).style("opacity",1);else{var We=m(Fe);We.attr("d",J),v.singleLineStyle(T,We)}}}}}var _e=I.selectAll(".js-line").data(Te);m(_e.exit()).style("opacity",0).remove(),_e.each(Le(!1)),_e.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Le(!0)),v.setClipUrl(_e,c.layerClipId,l);function Ce(Mt){m(Mt).attr("d","M0,0Z")}var Oe=function(){var Mt=new Array(we.length);for(A=0;A<we.length;A++)Mt[A]=o(we[A]);return Mt},Pe=function(Mt){var nt,Fe;if(!Mt||Mt.length===0)for(nt=new Array(we.length),Fe=0;Fe<we.length;Fe++){var We=we[Fe][0].slice(),je=we[Fe][we[Fe].length-1].slice();We[G]=je[G]=Y;var Ke=[je,We],ke=Ke.concat(we[Fe]);nt[Fe]=o(ke)}else{for(nt=new Array(Mt.length-1+we.length),Fe=0;Fe<Mt.length-1;Fe++)nt[Fe]=o(Mt[Fe]);var Ue=Mt[Mt.length-1].slice();for(Ue.reverse(),Fe=0;Fe<we.length;Fe++)nt[Mt.length-1+Fe]=o(we[Fe].concat(Ue))}return nt};Te.length?(V?(V.datum(T),se&&he&&(F?(se[G]=he[G]=Y,m(V).attr("d","M"+he+"L"+se+"L"+X.substr(1)).call(v.singleFillStyle,l),me=Pe(null)):(m(V).attr("d",X+"Z").call(v.singleFillStyle,l),me=Oe())),s._polygons=me,s._fillElement=V):B&&(s.fill.substr(0,6)==="tonext"&&X&&Q?(s.fill==="tonext"?(m(B).attr("d",X+"Z"+Q+"Z").call(v.singleFillStyle,l),me=Oe(),s._polygons=me.concat(te)):(m(B).attr("d",X+"L"+Q.substr(1)+"Z").call(v.singleFillStyle,l),me=Pe(fe),s._polygons=me),s._fillElement=B):Ce(B)),s._prevRevpath=q):(V?Ce(V):B&&Ce(B),s._prevRevpath=null),s._ownPolygons=me;function Ge(Mt){return Mt.filter(function(nt){return!nt.gap&&nt.vis})}function Ze(Mt){return Mt.filter(function(nt){return nt.vis})}function it(Mt){return Mt.filter(function(nt){return!nt.gap})}function Je(Mt){return Mt.id}function et(Mt){if(Mt.ids)return Je}function ft(){return!1}function vt(Mt,nt,Fe){var We,je,Ke,ke=Fe[0].trace,Ue=p.hasMarkers(ke),Ve=p.hasText(ke),Re=et(ke),de=ft,be=ft;if(Ue||Ve){var Ne=x,Ye=ke.stackgroup,at=Ye&&l._fullLayout._scatterStackOpts[L._id+M._id][Ye].stackgaps==="infer zero";ke.marker.maxdisplayed||ke._needsCull?Ne=at?Ze:Ge:Ye&&!at&&(Ne=it),Ue&&(de=Ne),Ve&&(be=Ne)}je=Mt.selectAll("path.point"),We=je.data(de,Re);var lt=We.enter().append("path").classed("point",!0);R&&lt.call(v.pointStyle,ke,l).call(v.translatePoints,L,M).style("opacity",0).transition().style("opacity",1),We.order();var Ht;Ue&&(Ht=v.makePointStyleFns(ke)),We.each(function(Yt){var Tt=d.select(this),Lt=m(Tt);Ke=v.translatePoint(Yt,Lt,L,M),Ke?(v.singlePointStyle(Yt,Lt,ke,Ht,l),c.layerClipId&&v.hideOutsideRangePoint(Yt,Lt,L,M,ke.xcalendar,ke.ycalendar),ke.customdata&&Tt.classed("plotly-customdata",Yt.data!==null&&Yt.data!==void 0)):Lt.remove()}),R?We.exit().transition().style("opacity",0).remove():We.exit().remove(),je=nt.selectAll("g"),We=je.data(be,Re),We.enter().append("g").classed("textpoint",!0).append("text"),We.order(),We.each(function(Yt){var Tt=d.select(this),Lt=m(Tt.select("text"));Ke=v.translatePoint(Yt,Lt,L,M),Ke?c.layerClipId&&v.hideOutsideRangePoint(Yt,Tt,L,M,ke.xcalendar,ke.ycalendar):Tt.remove()}),We.selectAll("text").call(v.textPointStyle,ke,l).each(function(Yt){var Tt=L.c2p(Yt.x),Lt=M.c2p(Yt.y);d.select(this).selectAll("tspan.line").each(function(){m(d.select(this)).attr({x:Tt,y:Lt})})}),We.exit().remove()}H.datum(T),O.datum(T),vt(H,O,T);var dt=s.cliponaxis===!1,xt=dt?null:c.layerClipId;v.setClipUrl(H,xt,l),v.setClipUrl(O,xt,l)}function f(l,y,c,T,h){var i=c.xaxis,g=c.yaxis,b=d.extent(n.simpleMap(i.range,i.r2c)),A=d.extent(n.simpleMap(g.range,g.r2c)),R=T[0].trace;if(p.hasMarkers(R)){var m=R.marker.maxdisplayed;if(m!==0){var L=T.filter(function(w){return w.x>=b[0]&&w.x<=b[1]&&w.y>=A[0]&&w.y<=A[1]}),M=Math.ceil(L.length/m),s=0;h.forEach(function(w,_){var I=w[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&_<y&&s++});var S=Math.round(s*M/3+Math.floor(s/3)*M/7.1);T.forEach(function(w){delete w.vis}),L.forEach(function(w,_){Math.round((_+S)%M)===0&&(w.vis=!0)})}}}},91560:function(U,N,e){var d=e(43028);U.exports=function(n,C){var x=n.cd,v=n.xaxis,p=n.yaxis,r=[],t=x[0].trace,o,a,u,f,l=!d.hasMarkers(t)&&!d.hasText(t);if(l)return[];if(C===!1)for(o=0;o<x.length;o++)x[o].selected=0;else for(o=0;o<x.length;o++)a=x[o],u=v.c2p(a.x),f=p.c2p(a.y),a.i!==null&&C.contains([u,f],!1,o,n)?(r.push({pointNumber:a.i,x:v.c2d(a.x),y:p.c2d(a.y)}),a.selected=1):a.selected=0;return r}},43912:function(U){var N=["orientation","groupnorm","stackgaps"];U.exports=function(d,P,n,C){var x=n._scatterStackOpts,v=C("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=x[p];r||(r=x[p]={});var t=r[v],o=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},o=!0);for(var a={orientation:P.x&&!P.y?"h":"v"},u=0;u<N.length;u++){var f=N[u],l=f+"Found";if(!t[l]){var y=d[f]!==void 0,c=f==="orientation";if((y||o)&&(t[f]=C(f,a[f]),c&&(t.fillDflt=t[f]==="h"?"tonextx":"tonexty"),y&&(t[l]=!0,!o&&(delete t.traces[0][f],c))))for(var T=0;T<t.traces.length-1;T++){var h=t.traces[T];h._input.fill!==h.fill&&(h.fill=t.fillDflt)}}}return t}}},49224:function(U,N,e){var d=e(33428),P=e(43616),n=e(24040);function C(r){var t=d.select(r).selectAll("g.trace.scatter");t.style("opacity",function(o){return o[0].trace.opacity}),t.selectAll("g.points").each(function(o){var a=d.select(this),u=o.trace||o[0].trace;x(a,u,r)}),t.selectAll("g.text").each(function(o){var a=d.select(this),u=o.trace||o[0].trace;v(a,u,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),n.getComponentMethod("errorbars","style")(t)}function x(r,t,o){P.pointStyle(r.selectAll("path.point"),t,o)}function v(r,t,o){P.textPointStyle(r.selectAll("text"),t,o)}function p(r,t,o){var a=t[0].trace;a.selectedpoints?(P.selectedPointStyle(o.selectAll("path.point"),a),P.selectedTextStyle(o.selectAll("text"),a)):(x(o,a,r),v(o,a,r))}U.exports={style:C,stylePoints:x,styleText:v,styleOnSelect:p}},43028:function(U,N,e){var d=e(3400),P=e(38116).isTypedArraySpec;U.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var C=n.marker;return d.isPlainObject(C)&&(d.isArrayOrTypedArray(C.size)||P(C.size))}}},124:function(U,N,e){var d=e(3400);U.exports=function(P,n,C,x,v){v=v||{},x("textposition"),d.coerceFont(x,"textfont",v.font||C.font,v),v.noSelect||(x("selected.textfont.color"),x("unselected.textfont.color"))}},43980:function(U,N,e){var d=e(3400),P=e(24040);U.exports=function(C,x,v,p){var r=p("x"),t=p("y"),o,a=P.getComponentMethod("calendars","handleTraceDefaults");if(a(C,x,["x","y"],v),r){var u=d.minRowLength(r);t?o=Math.min(u,d.minRowLength(t)):(o=u,p("y0"),p("dy"))}else{if(!t)return 0;o=d.minRowLength(t),p("x0"),p("dx")}return x._length=o,o}},91592:function(U,N,e){var d=e(52904),P=e(25376),n=e(49084),C=e(29736).axisHoverFormat,x=e(21776).Ks,v=e(21776).Gw,p=e(45464),r=e(99168),t=e(87792),o=e(92880).extendFlat,a=e(67824).overrideAll,u=e(95376),f=d.line,l=d.marker,y=l.line,c=o({width:f.width,dash:{valType:"enumerated",values:u(r),dflt:"solid"}},n("line"));function T(i){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var h=U.exports=a({x:d.x,y:d.y,z:{valType:"data_array"},text:o({},d.text,{}),texttemplate:v({},{}),hovertext:o({},d.hovertext,{}),hovertemplate:x(),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),mode:o({},d.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:d.connectgaps,line:c,marker:o({symbol:{valType:"enumerated",values:u(t),dflt:"circle",arrayOk:!0},size:o({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:o({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:o({width:o({},y.width,{arrayOk:!1})},n("marker.line"))},n("marker")),textposition:o({},d.textposition,{dflt:"top center"}),textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:p.opacity,hoverinfo:o({},p.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},41484:function(U,N,e){var d=e(20148),P=e(90136);U.exports=function(C,x){var v=[{x:!1,y:!1,trace:x,t:{}}];return d(v,x),P(C,x),v}},45156:function(U,N,e){var d=e(24040);function P(x,v,p,r){if(!v||!v.visible)return null;for(var t=d.getComponentMethod("errorbars","makeComputeError")(v),o=new Array(x.length),a=0;a<x.length;a++){var u=t(+x[a],a);if(r.type==="log"){var f=r.c2l(x[a]),l=x[a]-u[0],y=x[a]+u[1];if(o[a]=[(r.c2l(l,!0)-f)*p,(r.c2l(y,!0)-f)*p],l>0){var c=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=c),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,c)}}else o[a]=[-u[0]*p,u[1]*p]}return o}function n(x){for(var v=0;v<x.length;v++)if(x[v])return x[v].length;return 0}function C(x,v,p){var r=[P(x.x,x.error_x,v[0],p.xaxis),P(x.y,x.error_y,v[1],p.yaxis),P(x.z,x.error_z,v[2],p.zaxis)],t=n(r);if(t===0)return null;for(var o=new Array(t),a=0;a<t;a++){for(var u=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var l=0;l<2;l++)u[l][f]=r[f][a][l];o[a]=u}return o}U.exports=C},41064:function(U,N,e){var d=e(67792).gl_line3d,P=e(67792).gl_scatter3d,n=e(67792).gl_error3d,C=e(67792).gl_mesh3d,x=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),o=e(99168),a=e(87792),u=e(54460),f=e(10624).appendArrayPointValue,l=e(45156);function y(w,_){this.scene=w,this.uid=_,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=y.prototype;c.handlePick=function(w){if(w.object&&(w.object===this.linePlot||w.object===this.delaunayMesh||w.object===this.textMarkers||w.object===this.scatterPlot)){var _=w.index=w.data.index;return w.object.highlight&&w.object.highlight(null),this.scatterPlot&&(w.object=this.scatterPlot,this.scatterPlot.highlight(w.data)),w.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[_]||this.textLabels[_]===0)&&(w.textLabel=this.textLabels[_]):w.textLabel=this.textLabels),w.traceCoordinate=[this.data.x[_],this.data.y[_],this.data.z[_]],!0}};function T(w,_,I){var H=(I+1)%3,O=(I+2)%3,V=[],B=[],F;for(F=0;F<w.length;++F){var G=w[F];isNaN(G[H])||!isFinite(G[H])||isNaN(G[O])||!isFinite(G[O])||(V.push([G[H],G[O]]),B.push(F))}var Y=x(V);for(F=0;F<Y.length;++F)for(var Q=Y[F],te=0;te<Q.length;++te)Q[te]=B[Q[te]];return{positions:w,cells:Y,meshColor:_}}function h(w){for(var _=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],H=[1,1,1],O=0;O<3;O++){var V=w[O];V&&V.copy_zstyle!==!1&&w[2].visible!==!1&&(V=w[2]),!(!V||!V.visible)&&(_[O]=V.width/2,I[O]=p(V.color),H[O]=V.thickness)}return{capSize:_,color:I,lineWidth:H}}function i(w){return w==null?0:w.indexOf("left")>-1?-1:w.indexOf("right")>-1?1:0}function g(w){return w==null?0:w.indexOf("top")>-1?-1:w.indexOf("bottom")>-1?1:0}function b(w){var _=0,I=0,H=[_,I];if(Array.isArray(w))for(var O=0;O<w.length;O++)H[O]=[_,I],w[O]&&(H[O][0]=i(w[O]),H[O][1]=g(w[O]));else H[0]=i(w),H[1]=g(w);return H}function A(w,_){return _(w*4)}function R(w){return a[w]}function m(w,_,I,H,O){var V=null;if(v.isArrayOrTypedArray(w)){V=[];for(var B=0;B<_;B++)w[B]===void 0?V[B]=H:V[B]=I(w[B],O)}else V=I(w,v.identity);return V}function L(w,_){var I=[],H=w.fullSceneLayout,O=w.dataScale,V=H.xaxis,B=H.yaxis,F=H.zaxis,G=_.marker,Y=_.line,Q=_.x||[],te=_.y||[],ae=_.z||[],fe=Q.length,oe=_.xcalendar,J=_.ycalendar,ee=_.zcalendar,X,q,le,$,j,se;for(j=0;j<fe;j++)X=V.d2l(Q[j],0,oe)*O[0],q=B.d2l(te[j],0,J)*O[1],le=F.d2l(ae[j],0,ee)*O[2],I[j]=[X,q,le];if(Array.isArray(_.text))se=_.text;else if(v.isTypedArray(_.text))se=Array.from(_.text);else if(_.text!==void 0)for(se=new Array(fe),j=0;j<fe;j++)se[j]=_.text;function ne(it,Je){var et=H[it];return u.tickText(et,et.d2l(Je),!0).text}var he=_.texttemplate;if(he){var me=w.fullLayout,we=me._d3locale,Te=Array.isArray(he),Le=Te?Math.min(he.length,fe):fe,Ie=Te?function(it){return he[it]}:function(){return he};for(se=new Array(Le),j=0;j<Le;j++){var ze={x:Q[j],y:te[j],z:ae[j]},Me={xLabel:ne("xaxis",Q[j]),yLabel:ne("yaxis",te[j]),zLabel:ne("zaxis",ae[j])},_e={};f(_e,_,j);var Ce=_._meta||{};se[j]=v.texttemplateString(Ie(j),Me,we,_e,ze,Ce)}}if($={position:I,mode:_.mode,text:se},"line"in _&&($.lineColor=r(Y,1,fe),$.lineWidth=Y.width,$.lineDashes=Y.dash),"marker"in _){var Oe=t(_);$.scatterColor=r(G,1,fe),$.scatterSize=m(G.size,fe,A,20,Oe),$.scatterMarker=m(G.symbol,fe,R,"●"),$.scatterLineWidth=G.line.width,$.scatterLineColor=r(G.line,1,fe),$.scatterAngle=0}"textposition"in _&&($.textOffset=b(_.textposition),$.textColor=r(_.textfont,1,fe),$.textSize=m(_.textfont.size,fe,v.identity,12),$.textFontFamily=_.textfont.family,$.textFontWeight=_.textfont.weight,$.textFontStyle=_.textfont.style,$.textFontVariant=_.textfont.variant,$.textAngle=0);var Pe=["x","y","z"];for($.project=[!1,!1,!1],$.projectScale=[1,1,1],$.projectOpacity=[1,1,1],j=0;j<3;++j){var Ge=_.projection[Pe[j]];($.project[j]=Ge.show)&&($.projectOpacity[j]=Ge.opacity,$.projectScale[j]=Ge.scale)}$.errorBounds=l(_,O,H);var Ze=h([_.error_x,_.error_y,_.error_z]);return $.errorColor=Ze.color,$.errorLineWidth=Ze.lineWidth,$.errorCapSize=Ze.capSize,$.delaunayAxis=_.surfaceaxis,$.delaunayColor=p(_.surfacecolor),$}function M(w){if(v.isArrayOrTypedArray(w)){var _=w[0];return v.isArrayOrTypedArray(_)&&(w=_),"rgb("+w.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function s(w){return v.isArrayOrTypedArray(w)?w.length===4&&typeof w[0]=="number"?M(w):w.map(M):null}c.update=function(w){var _=this.scene.glplot.gl,I,H,O,V,B=o.solid;this.data=w;var F=L(this.scene,w);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in o&&(B=o[F.lineDashes]),this.color=s(F.scatterColor)||s(F.lineColor),this.dataPoints=F.position,I={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:w.opacity,connectGaps:w.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=d(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var G=w.opacity;if(w.marker&&w.marker.opacity!==void 0&&(G*=w.marker.opacity),H={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:G,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(H):(this.scatterPlot=P(H),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),V={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFontFamily,fontWeight:F.textFontWeight,fontStyle:F.textFontStyle,fontVariant:F.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:w.opacity},this.textLabels=w.hovertext||w.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(V):(this.textMarkers=P(V),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),O={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:w.opacity},this.errorBars?F.errorBounds?this.errorBars.update(O):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=n(O),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var Y=T(F.position,F.delaunayColor,F.delaunayAxis);Y.opacity=w.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=_,this.delaunayMesh=C(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function S(w,_){var I=new y(w,_.uid);return I.update(_),I}U.exports=S},83484:function(U,N,e){var d=e(24040),P=e(3400),n=e(43028),C=e(74428),x=e(66828),v=e(124),p=e(91592);U.exports=function(o,a,u,f){function l(A,R){return P.coerce(o,a,p,A,R)}var y=r(o,a,l,f);if(!y){a.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),n.hasMarkers(a)&&C(o,a,u,f,l,{noSelect:!0,noAngle:!0}),n.hasLines(a)&&(l("connectgaps"),x(o,a,u,f,l)),n.hasText(a)&&(l("texttemplate"),v(o,a,f,l,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var c=(a.line||{}).color,T=(a.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",c||T);for(var h=["x","y","z"],i=0;i<3;++i){var g="projection."+h[i];l(g+".show")&&(l(g+".opacity"),l(g+".scale"))}var b=d.getComponentMethod("errorbars","supplyDefaults");b(o,a,c||T||u,{axis:"z"}),b(o,a,c||T||u,{axis:"y",inherit:"z"}),b(o,a,c||T||u,{axis:"x",inherit:"z"})};function r(t,o,a,u){var f=0,l=a("x"),y=a("y"),c=a("z"),T=d.getComponentMethod("calendars","handleTraceDefaults");return T(t,o,["x","y","z"],u),l&&y&&c&&(f=Math.min(l.length,y.length,c.length),o._length=o._xlength=o._ylength=o._zlength=f),f}},3296:function(U,N,e){U.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(U,N,e){var d=e(98304),P=e(52904),n=e(45464),C=e(21776).Ks,x=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,o=r.line;U.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:x({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:d(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:o.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},n.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:C(),zorder:P.zorder}},48228:function(U,N,e){var d=e(38248),P=e(90136),n=e(20148),C=e(4500),x=e(16356).calcMarkerSize,v=e(50948);U.exports=function(r,t){var o=t._carpetTrace=v(r,t);if(!(!o||!o.visible||o.visible==="legendonly")){var a;t.xaxis=o.xaxis,t.yaxis=o.yaxis;var u=t._length,f=new Array(u),l,y,c=!1;for(a=0;a<u;a++)if(l=t.a[a],y=t.b[a],d(l)&&d(y)){var T=o.ab2xy(+l,+y,!0),h=o.isVisible(+l,+y);h||(c=!0),f[a]={x:T[0],y:T[1],a:l,b:y,vis:h}}else f[a]={x:!1,y:!1};return t._needsCull=c,f[0].carpet=o,f[0].trace=t,x(t,u),P(r,t),n(f,t),C(f,t),f}}},6176:function(U,N,e){var d=e(3400),P=e(88200),n=e(43028),C=e(74428),x=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);U.exports=function(a,u,f,l){function y(A,R){return d.coerce(a,u,t,A,R)}y("carpet"),u.xaxis="x",u.yaxis="y";var c=y("a"),T=y("b"),h=Math.min(c.length,T.length);if(!h){u.visible=!1;return}u._length=h,y("text"),y("texttemplate"),y("hovertext");var i=h<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",i),n.hasMarkers(u)&&C(a,u,f,l,y,{gradient:!0}),n.hasLines(u)&&(x(a,u,f,l,y,{backoff:!0}),v(a,u,y),y("connectgaps")),n.hasText(u)&&p(a,u,l,y);var g=[];(n.hasMarkers(u)||n.hasText(u))&&(y("marker.maxdisplayed"),g.push("points")),y("fill"),u.fill!=="none"&&(r(a,u,f,y),n.hasLines(u)||v(a,u,y)),(u.fill==="tonext"||u.fill==="toself")&&g.push("fills");var b=y("hoveron",g.join("+")||"points");b!=="fills"&&y("hovertemplate"),y("zorder"),d.coerceSelectionMarkerOpacity(u,y)}},89307:function(U){U.exports=function(e,d,P,n,C){var x=n[C];return e.a=x.a,e.b=x.b,e.y=x.y,e}},52364:function(U){U.exports=function(e,d){var P={},n=d._carpet,C=n.ab2ij([e.a,e.b]),x=Math.floor(C[0]),v=C[0]-x,p=Math.floor(C[1]),r=C[1]-p,t=n.evalxy([],x,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(U,N,e){var d=e(98723),P=e(3400).fillText;U.exports=function(C,x,v,p){var r=d(C,x,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var o=1-t.y0/C.ya._length,a=C.xa._length,u=a*o/2,f=a-u;return t.x0=Math.max(Math.min(t.x0,f),u),t.x1=Math.max(Math.min(t.x1,f),u),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var y=t.trace,c=y._carpet,T=y._module.formatLabels(l,y);t.yLabel=T.yLabel,delete t.text;var h=[];function i(A,R){var m;A.labelprefix&&A.labelprefix.length>0?m=A.labelprefix.replace(/ = $/,""):m=A._hovertitle,h.push(m+": "+R.toFixed(3)+A.labelsuffix)}if(!y.hovertemplate){var g=l.hi||y.hoverinfo,b=g.split("+");b.indexOf("all")!==-1&&(b=["a","b","text"]),b.indexOf("a")!==-1&&i(c.aaxis,l.a),b.indexOf("b")!==-1&&i(c.baxis,l.b),h.push("y: "+t.yLabel),b.indexOf("text")!==-1&&P(l,y,h),t.extraText=h.join("<br>")}return r}},4184:function(U,N,e){U.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(U,N,e){var d=e(96504),P=e(54460),n=e(43616);U.exports=function(x,v,p,r){var t,o,a,u=p[0][0].carpet,f=P.getFromId(x,u.xaxis||"x"),l=P.getFromId(x,u.yaxis||"y"),y={xaxis:f,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)o=p[t][0].trace,o._xA=f,o._yA=l;for(d(x,y,p,r),t=0;t<p.length;t++)o=p[t][0].trace,a=r.selectAll("g.trace"+o.uid+" .js-line"),n.setClipUrl(a,p[t][0].carpet._clipPathId,x)}},6096:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(98304),C=e(52904),x=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,o=C.marker,a=C.line,u=o.line;U.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},C.hovertext,{}),textfont:C.textfont,textposition:C.textposition,line:{color:a.color,width:a.width,dash:p},connectgaps:C.connectgaps,marker:r({symbol:o.symbol,opacity:o.opacity,angle:o.angle,angleref:r({},o.angleref,{values:["previous","up","north"]}),standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,colorbar:o.colorbar,line:r({width:u.width},v("marker.line")),gradient:o.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n(),selected:C.selected,unselected:C.unselected,hoverinfo:r({},x.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:d()},"calc","nested")},25212:function(U,N,e){var d=e(38248),P=e(39032).BADNUM,n=e(90136),C=e(20148),x=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}U.exports=function(o,a){var u=v(a.locations),f=u?a.locations.length:a._length,l=new Array(f),y;a.geojson?y=function(b){return r(b)||d(b)}:y=r;for(var c=0;c<f;c++){var T=l[c]={};if(u){var h=a.locations[c];T.loc=y(h)?h:null}else{var i=a.lon[c],g=a.lat[c];d(i)&&d(g)?T.lonlat=[+i,+g]:T.lonlat=[P,P]}}return C(l,a),n(o,a),x(l,a),f&&(l[0].t={labels:{lat:p(o,"lat:")+" ",lon:p(o,"lon:")+" "}}),l}},86188:function(U,N,e){var d=e(3400),P=e(43028),n=e(74428),C=e(66828),x=e(124),v=e(70840),p=e(6096);U.exports=function(t,o,a,u){function f(b,A){return d.coerce(t,o,p,b,A)}var l=f("locations"),y;if(l&&l.length){var c=f("geojson"),T;(typeof c=="string"&&c!==""||d.isPlainObject(c))&&(T="geojson-id");var h=f("locationmode",T);h==="geojson-id"&&f("featureidkey"),y=l.length}else{var i=f("lon")||[],g=f("lat")||[];y=Math.min(i.length,g.length)}if(!y){o.visible=!1;return}o._length=y,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),P.hasMarkers(o)&&n(t,o,a,u,f,{gradient:!0}),P.hasLines(o)&&(C(t,o,a,u,f),f("connectgaps")),P.hasText(o)&&(f("texttemplate"),x(t,o,u,f)),f("fill"),o.fill!=="none"&&v(t,o,a,f),d.coerceSelectionMarkerOpacity(o,f)}},58544:function(U){U.exports=function(e,d,P,n,C){e.lon=d.lon,e.lat=d.lat,e.location=d.loc?d.loc:null;var x=n[C];return x.fIn&&x.fIn.properties&&(e.properties=x.fIn.properties),e}},56696:function(U,N,e){var d=e(54460);U.exports=function(n,C,x){var v={},p=x[C.geo]._subplot,r=p.mockAxis,t=n.lonlat;return v.lonLabel=d.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=d.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(U,N,e){var d=e(93024),P=e(39032).BADNUM,n=e(44928),C=e(3400).fillText,x=e(6096);U.exports=function(r,t,o){var a=r.cd,u=a[0].trace,f=r.xa,l=r.ya,y=r.subplot,c=y.projection.isLonLatOverEdges,T=y.project;function h(L){var M=L.lonlat;if(M[0]===P||c(M))return 1/0;var s=T(M),S=T([t,o]),w=Math.abs(s[0]-S[0]),_=Math.abs(s[1]-S[1]),I=Math.max(3,L.mrc||0);return Math.max(Math.sqrt(w*w+_*_)-I,1-3/I)}if(d.getClosest(a,h,r),r.index!==!1){var i=a[r.index],g=i.lonlat,b=[f.c2p(g),l.c2p(g)],A=i.mrc||1;r.x0=b[0]-A,r.x1=b[0]+A,r.y0=b[1]-A,r.y1=b[1]+A,r.loc=i.loc,r.lon=g[0],r.lat=g[1];var R={};R[u.geo]={_subplot:y};var m=u._module.formatLabels(i,u,R);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=n(u,i),r.extraText=v(u,i,r,a[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function v(p,r,t,o){if(p.hovertemplate)return;var a=r.hi||p.hoverinfo,u=a==="all"?x.hoverinfo.flags:a.split("+"),f=u.indexOf("location")!==-1&&Array.isArray(p.locations),l=u.indexOf("lon")!==-1,y=u.indexOf("lat")!==-1,c=u.indexOf("text")!==-1,T=[];function h(i){return i+"°"}return f?T.push(r.loc):l&&y?T.push("("+h(t.latLabel)+", "+h(t.lonLabel)+")"):l?T.push(o.lon+h(t.lonLabel)):y&&T.push(o.lat+h(t.latLabel)),c&&C(r,p,T),T.join("<br>")}},36952:function(U,N,e){U.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(U,N,e){var d=e(33428),P=e(3400),n=e(59972).getTopojsonFeatures,C=e(44808),x=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),o=e(25064);function a(f,l,y){var c=l.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(c,y,"trace scattergeo");function h(i,g){i.lonlat[0]===p&&d.select(g).remove()}T.selectAll("*").remove(),T.each(function(i){var g=d.select(this),b=i[0].trace;if(t.hasLines(b)||b.fill!=="none"){var A=C.calcTraceToLineCoords(i),R=b.fill!=="none"?C.makePolygon(A):C.makeLine(A);g.selectAll("path.js-line").data([{geojson:R,trace:b}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(b)&&g.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(m){h(m,this)}),t.hasText(b)&&g.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(m){h(m,this)}),o(f,i)})}function u(f,l){var y=f[0].trace,c=l[y.geo],T=c._subplot,h=y._length,i,g;if(P.isArrayOrTypedArray(y.locations)){var b=y.locationmode,A=b==="geojson-id"?x.extractTraceFeature(f):n(y,T.topojson);for(i=0;i<h;i++){g=f[i];var R=b==="geojson-id"?g.fOut:x.locationToFeature(b,g.loc,A);g.lonlat=R?R.properties.ct:[p,p]}}var m={padded:!0},L,M;if(c.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var s=x.computeBbox(x.getTraceGeojson(y));L=[s[0],s[2]],M=[s[1],s[3]]}else{for(L=new Array(h),M=new Array(h),i=0;i<h;i++)g=f[i],L[i]=g.lonlat[0],M[i]=g.lonlat[1];m.ppad=r(y,h)}y._extremes.lon=v(c.lonaxis._ax,L,m),y._extremes.lat=v(c.lataxis._ax,M,m)}U.exports={calcGeoJSON:u,plot:a}},8796:function(U,N,e){var d=e(43028),P=e(39032).BADNUM;U.exports=function(C,x){var v=C.cd,p=C.xaxis,r=C.yaxis,t=[],o=v[0].trace,a,u,f,l,y,c=!d.hasMarkers(o)&&!d.hasText(o);if(c)return[];if(x===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)a=v[y],u=a.lonlat,u[0]!==P&&(f=p.c2p(u),l=r.c2p(u),x.contains([f,l],null,y,C)?(t.push({pointNumber:y,lon:u[0],lat:u[1]}),a.selected=1):a.selected=0);return t}},25064:function(U,N,e){var d=e(33428),P=e(43616),n=e(76308),C=e(49224),x=C.stylePoints,v=C.styleText;U.exports=function(t,o){o&&p(t,o)};function p(r,t){var o=t[0].trace,a=t[0].node3;a.style("opacity",t[0].trace.opacity),x(a,o,r),v(a,o,r),a.selectAll("path.js-line").style("fill","none").each(function(u){var f=d.select(this),l=u.trace,y=l.line||{};f.call(n.stroke,y.color).call(P.dashLine,y.dash||"",y.width||0),l.fill!=="none"&&f.call(n.fill,l.fillcolor)})}},2876:function(U,N,e){var d=e(45464),P=e(25376),n=e(98304),C=e(52904),x=e(29736).axisHoverFormat,v=e(49084),p=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,o=e(67072).DASHES,a=C.line,u=C.marker,f=u.line,l=U.exports=t({x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),text:C.text,hovertext:C.hovertext,textposition:C.textposition,textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:a.color,width:a.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:p(o),dflt:"solid"}},marker:r({},v("marker"),{symbol:u.symbol,angle:u.angle,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:r({},v("marker.line"),{width:f.width})}),connectgaps:C.connectgaps,fill:r({},C.fill,{dflt:"none"}),fillcolor:n(),selected:{marker:C.selected.marker,textfont:C.selected.textfont},unselected:{marker:C.unselected.marker,textfont:C.unselected.textfont},opacity:d.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=C.hovertemplate,l.texttemplate=C.texttemplate},64628:function(U,N,e){var d=e(41272);U.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:d.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(U,N,e){var d=e(3108),P=e(3400),n=e(79811),C=e(19280).findExtremes,x=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,o=e(90136),a=e(84236),u=e(74588),f=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;U.exports=function(h,i){var g=h._fullLayout,b=i._xA=n.getFromId(h,i.xaxis,"x"),A=i._yA=n.getFromId(h,i.yaxis,"y"),R=g._plots[i.xaxis+i.yaxis],m=i._length,L=m>=l,M=m*2,s={},S,w=b.makeCalcdata(i,"x"),_=A.makeCalcdata(i,"y"),I=x(i,b,"x",w),H=x(i,A,"y",_),O=I.vals,V=H.vals;i._x=O,i._y=V,i.xperiodalignment&&(i._origX=w,i._xStarts=I.starts,i._xEnds=I.ends),i.yperiodalignment&&(i._origY=_,i._yStarts=H.starts,i._yEnds=H.ends);var B=new Array(M),F=new Array(m);for(S=0;S<m;S++)B[S*2]=O[S]===f?NaN:O[S],B[S*2+1]=V[S]===f?NaN:V[S],F[S]=S;if(b.type==="log")for(S=0;S<M;S+=2)B[S]=b.c2l(B[S]);if(A.type==="log")for(S=1;S<M;S+=2)B[S]=A.c2l(B[S]);L&&b.type!=="log"&&A.type!=="log"?s.tree=d(B):s.ids=F,o(h,i);var G=c(h,R,i,B,O,V),Y=u(h,R);t(g,i);var Q;return L?G.marker&&(Q=G.marker.sizeAvg||Math.max(G.marker.size,3)):Q=p(i,m),r(h,i,b,A,O,V,Q),G.errorX&&y(i,b,G.errorX),G.errorY&&y(i,A,G.errorY),G.fill&&!Y.fill2d&&(Y.fill2d=!0),G.marker&&!Y.scatter2d&&(Y.scatter2d=!0),G.line&&!Y.line2d&&(Y.line2d=!0),(G.errorX||G.errorY)&&!Y.error2d&&(Y.error2d=!0),G.text&&!Y.glText&&(Y.glText=!0),G.marker&&(G.marker.snap=m),Y.lineOptions.push(G.line),Y.errorXOptions.push(G.errorX),Y.errorYOptions.push(G.errorY),Y.fillOptions.push(G.fill),Y.markerOptions.push(G.marker),Y.markerSelectedOptions.push(G.markerSel),Y.markerUnselectedOptions.push(G.markerUnsel),Y.textOptions.push(G.text),Y.textSelectedOptions.push(G.textSel),Y.textUnselectedOptions.push(G.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),s._scene=Y,s.index=Y.count,s.x=O,s.y=V,s.positions=B,Y.count++,[{x:!1,y:!1,t:s,trace:i}]};function y(T,h,i){var g=T._extremes[h._id],b=C(h,i._bnds,{padded:!0});g.min=g.min.concat(b.min),g.max=g.max.concat(b.max)}function c(T,h,i,g,b,A){var R=a.style(T,i);if(R.marker&&(R.marker.positions=g),R.line&&g.length>1&&P.extendFlat(R.line,a.linePositions(T,i,g)),R.errorX||R.errorY){var m=a.errorBarPositions(T,i,g,b,A);R.errorX&&P.extendFlat(R.errorX,m.x),R.errorY&&P.extendFlat(R.errorY,m.y)}return R.text&&(P.extendFlat(R.text,{positions:g},a.textPosition(T,i,R.text,R.marker)),P.extendFlat(R.textSel,{positions:g},a.textPosition(T,i,R.text,R.markerSel)),P.extendFlat(R.textUnsel,{positions:g},a.textPosition(T,i,R.text,R.markerUnsel))),R}},67072:function(U){var N=20;U.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:N,SYMBOL_STROKE:N/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(U,N,e){var d=e(38248),P=e(20472),n=e(72160),C=e(24040),x=e(3400),v=x.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,o=e(43028),a=e(7152),u=e(80088),f=e(67072),l=e(13448).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function T(O,V){var B,F={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},G=O._context.plotGlPixelRatio;if(V.visible!==!0)return F;if(o.hasText(V)&&(F.text=h(O,V),F.textSel=A(O,V,V.selected),F.textUnsel=A(O,V,V.unselected)),o.hasMarkers(V)&&(F.marker=g(O,V),F.markerSel=b(O,V,V.selected),F.markerUnsel=b(O,V,V.unselected),!V.unselected&&v(V.marker.opacity))){var Y=V.marker.opacity;for(F.markerUnsel.opacity=new Array(Y.length),B=0;B<Y.length;B++)F.markerUnsel.opacity[B]=l*Y[B]}if(o.hasLines(V)){F.line={overlay:!0,thickness:V.line.width*G,color:V.line.color,opacity:V.opacity};var Q=(f.DASHES[V.line.dash]||[1]).slice();for(B=0;B<Q.length;++B)Q[B]*=V.line.width*G;F.line.dashes=Q}return V.error_x&&V.error_x.visible&&(F.errorX=R(V,V.error_x,G)),V.error_y&&V.error_y.visible&&(F.errorY=R(V,V.error_y,G)),V.fill&&V.fill!=="none"&&(F.fill={closed:!0,fill:V.fillcolor,thickness:0}),F}function h(O,V){var B=O._fullLayout,F=V._length,G=V.textfont,Y=V.textposition,Q=v(Y)?Y:[Y],te=G.color,ae=G.size,fe=G.family,oe=G.weight,J=G.style,ee=G.variant,X={},q,le=O._context.plotGlPixelRatio,$=V.texttemplate;if($){X.text=[];var j=B._d3locale,se=Array.isArray($),ne=se?Math.min($.length,F):F,he=se?function(Me){return $[Me]}:function(){return $};for(q=0;q<ne;q++){var me={i:q},we=V._module.formatLabels(me,V,B),Te={};c(Te,V,q);var Le=V._meta||{};X.text.push(x.texttemplateString(he(q),we,j,Te,me,Le))}}else v(V.text)&&V.text.length<F?X.text=V.text.slice():X.text=V.text;if(v(X.text))for(q=X.text.length;q<F;q++)X.text[q]="";for(X.opacity=V.opacity,X.font={},X.align=[],X.baseline=[],q=0;q<Q.length;q++){var Ie=Q[q].split(/\s+/);switch(Ie[1]){case"left":X.align.push("right");break;case"right":X.align.push("left");break;default:X.align.push(Ie[1])}switch(Ie[0]){case"top":X.baseline.push("bottom");break;case"bottom":X.baseline.push("top");break;default:X.baseline.push(Ie[0])}}if(v(te))for(X.color=new Array(F),q=0;q<F;q++)X.color[q]=te[q];else X.color=te;if(v(ae)||Array.isArray(fe)||v(oe)||Array.isArray(J)||Array.isArray(ee))for(X.font=new Array(F),q=0;q<F;q++){var ze=X.font[q]={};ze.size=(x.isTypedArray(ae)?ae[q]:v(ae)?d(ae[q])?ae[q]:0:ae)*le,ze.family=Array.isArray(fe)?fe[q]:fe,ze.weight=i(v(oe)?oe[q]:oe),ze.style=Array.isArray(J)?J[q]:J,ze.variant=Array.isArray(ee)?ee[q]:ee}else X.font={size:ae*le,family:fe,weight:i(oe),style:J,variant:ee};return X}function i(O){return O<=1e3?O>500?"bold":"normal":O}function g(O,V){var B=V._length,F=V.marker,G={},Y,Q=v(F.symbol),te=v(F.angle),ae=v(F.color),fe=v(F.line.color),oe=v(F.opacity),J=v(F.size),ee=v(F.line.width),X;if(Q||(X=u.isOpenSymbol(F.symbol)),Q||ae||fe||oe||te){G.symbols=new Array(B),G.angles=new Array(B),G.colors=new Array(B),G.borderColors=new Array(B);var q=F.symbol,le=F.angle,$=t(F,F.opacity,B),j=t(F.line,F.opacity,B);if(!v(j[0])){var se=j;for(j=Array(B),Y=0;Y<B;Y++)j[Y]=se}if(!v($[0])){var ne=$;for($=Array(B),Y=0;Y<B;Y++)$[Y]=ne}if(!v(q)){var he=q;for(q=Array(B),Y=0;Y<B;Y++)q[Y]=he}if(!v(le)){var me=le;for(le=Array(B),Y=0;Y<B;Y++)le[Y]=me}for(G.symbols=q,G.angles=le,G.colors=$,G.borderColors=j,Y=0;Y<B;Y++)Q&&(X=u.isOpenSymbol(F.symbol[Y])),X&&(j[Y]=$[Y].slice(),$[Y]=$[Y].slice(),$[Y][3]=0);for(G.opacity=V.opacity,G.markers=new Array(B),Y=0;Y<B;Y++)G.markers[Y]=w({mx:G.symbols[Y],ma:G.angles[Y]},V)}else X?(G.color=n(F.color,"uint8"),G.color[3]=0,G.borderColor=n(F.color,"uint8")):(G.color=n(F.color,"uint8"),G.borderColor=n(F.line.color,"uint8")),G.opacity=V.opacity*F.opacity,G.marker=w({mx:F.symbol,ma:F.angle},V);var we=1,Te=a(V,we),Le;if(J||ee){var Ie=G.sizes=new Array(B),ze=G.borderSizes=new Array(B),Me=0,_e;if(J){for(Y=0;Y<B;Y++)Ie[Y]=Te(F.size[Y]),Me+=Ie[Y];_e=Me/B}else for(Le=Te(F.size),Y=0;Y<B;Y++)Ie[Y]=Le;if(ee)for(Y=0;Y<B;Y++)ze[Y]=F.line.width[Y];else for(Le=F.line.width,Y=0;Y<B;Y++)ze[Y]=Le;G.sizeAvg=_e}else G.size=Te(F&&F.size||10),G.borderSizes=Te(F.line.width);return G}function b(O,V,B){var F=V.marker,G={};return B&&(B.marker&&B.marker.symbol?G=g(O,x.extendFlat({},F,B.marker)):B.marker&&(B.marker.size&&(G.size=B.marker.size),B.marker.color&&(G.colors=B.marker.color),B.marker.opacity!==void 0&&(G.opacity=B.marker.opacity))),G}function A(O,V,B){var F={};if(!B)return F;if(B.textfont){var G={opacity:1,text:V.text,texttemplate:V.texttemplate,textposition:V.textposition,textfont:x.extendFlat({},V.textfont)};B.textfont&&x.extendFlat(G.textfont,B.textfont),F=h(O,G)}return F}function R(O,V,B){var F={capSize:V.width*2*B,lineWidth:V.thickness*B,color:V.color};return V.copy_ystyle&&(F=O.error_y),F}var m=f.SYMBOL_SDF_SIZE,L=f.SYMBOL_SIZE,M=f.SYMBOL_STROKE,s={},S=p.symbolFuncs[0](L*.05);function w(O,V){var B=O.mx;if(B==="circle")return null;var F,G,Y=p.symbolNumber(B),Q=p.symbolFuncs[Y%100],te=!!p.symbolNoDot[Y%100],ae=!!p.symbolNoFill[Y%100],fe=u.isDotSymbol(B);if(O.ma&&(B+="_"+O.ma),s[B])return s[B];var oe=p.getMarkerAngle(O,V);return fe&&!te?F=Q(L*1.1,oe)+S:F=Q(L,oe),G=P(F,{w:m,h:m,viewBox:[-L,-L,L,L],stroke:ae?M:-M}),s[B]=G,G||null}function _(O,V,B){var F=B.length,G=F/2,Y,Q;if(o.hasLines(V)&&G)if(V.line.shape==="hv"){for(Y=[],Q=0;Q<G-1;Q++)isNaN(B[Q*2])||isNaN(B[Q*2+1])?Y.push(NaN,NaN,NaN,NaN):(Y.push(B[Q*2],B[Q*2+1]),!isNaN(B[Q*2+2])&&!isNaN(B[Q*2+3])?Y.push(B[Q*2+2],B[Q*2+1]):Y.push(NaN,NaN));Y.push(B[F-2],B[F-1])}else if(V.line.shape==="hvh"){for(Y=[],Q=0;Q<G-1;Q++)if(isNaN(B[Q*2])||isNaN(B[Q*2+1])||isNaN(B[Q*2+2])||isNaN(B[Q*2+3]))!isNaN(B[Q*2])&&!isNaN(B[Q*2+1])?Y.push(B[Q*2],B[Q*2+1]):Y.push(NaN,NaN),Y.push(NaN,NaN);else{var te=(B[Q*2]+B[Q*2+2])/2;Y.push(B[Q*2],B[Q*2+1],te,B[Q*2+1],te,B[Q*2+3])}Y.push(B[F-2],B[F-1])}else if(V.line.shape==="vhv"){for(Y=[],Q=0;Q<G-1;Q++)if(isNaN(B[Q*2])||isNaN(B[Q*2+1])||isNaN(B[Q*2+2])||isNaN(B[Q*2+3]))!isNaN(B[Q*2])&&!isNaN(B[Q*2+1])?Y.push(B[Q*2],B[Q*2+1]):Y.push(NaN,NaN),Y.push(NaN,NaN);else{var ae=(B[Q*2+1]+B[Q*2+3])/2;Y.push(B[Q*2],B[Q*2+1],B[Q*2],ae,B[Q*2+2],ae)}Y.push(B[F-2],B[F-1])}else if(V.line.shape==="vh"){for(Y=[],Q=0;Q<G-1;Q++)isNaN(B[Q*2])||isNaN(B[Q*2+1])?Y.push(NaN,NaN,NaN,NaN):(Y.push(B[Q*2],B[Q*2+1]),!isNaN(B[Q*2+2])&&!isNaN(B[Q*2+3])?Y.push(B[Q*2],B[Q*2+3]):Y.push(NaN,NaN));Y.push(B[F-2],B[F-1])}else Y=B;var fe=!1;for(Q=0;Q<Y.length;Q++)if(isNaN(Y[Q])){fe=!0;break}var oe=fe||Y.length>f.TOO_MANY_POINTS||o.hasMarkers(V)?"rect":"round";if(fe&&V.connectgaps){var J=Y[0],ee=Y[1];for(Q=0;Q<Y.length;Q+=2)isNaN(Y[Q])||isNaN(Y[Q+1])?(Y[Q]=J,Y[Q+1]=ee):(J=Y[Q],ee=Y[Q+1])}return{join:oe,positions:Y}}function I(O,V,B,F,G){var Y=C.getComponentMethod("errorbars","makeComputeError"),Q=r.getFromId(O,V.xaxis,"x"),te=r.getFromId(O,V.yaxis,"y"),ae=B.length/2,fe={};function oe(J,ee){var X=ee._id.charAt(0),q=V["error_"+X];if(q&&q.visible&&(ee.type==="linear"||ee.type==="log")){for(var le=Y(q),$={x:0,y:1}[X],j={x:[0,1,2,3],y:[2,3,0,1]}[X],se=new Float64Array(4*ae),ne=1/0,he=-1/0,me=0,we=0;me<ae;me++,we+=4){var Te=J[me];if(d(Te)){var Le=B[me*2+$],Ie=le(Te,me),ze=Ie[0],Me=Ie[1];if(d(ze)&&d(Me)){var _e=Te-ze,Ce=Te+Me;se[we+j[0]]=Le-ee.c2l(_e),se[we+j[1]]=ee.c2l(Ce)-Le,se[we+j[2]]=0,se[we+j[3]]=0,ne=Math.min(ne,Te-ze),he=Math.max(he,Te+Me)}}}fe[X]={positions:B,errors:se,_bnds:[ne,he]}}}return oe(F,Q),oe(G,te),fe}function H(O,V,B,F){var G=V._length,Y={},Q;if(o.hasMarkers(V)){var te=B.font,ae=B.align,fe=B.baseline;for(Y.offset=new Array(G),Q=0;Q<G;Q++){var oe=F.sizes?F.sizes[Q]:F.size,J=v(te)?te[Q].size:te.size,ee=v(ae)?ae.length>1?ae[Q]:ae[0]:ae,X=v(fe)?fe.length>1?fe[Q]:fe[0]:fe,q=y[ee],le=y[X],$=oe?oe/.8+1:0,j=-le*$-le*.5;Y.offset[Q]=[q*$/J,j/J]}}return Y}U.exports={style:T,markerStyle:g,markerSelection:b,linePositions:_,errorBarPositions:I,textPosition:H}},80220:function(U,N,e){var d=e(3400),P=e(24040),n=e(80088),C=e(2876),x=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),o=e(66828),a=e(70840),u=e(124);U.exports=function(l,y,c,T){function h(M,s){return d.coerce(l,y,C,M,s)}var i=l.marker?n.isOpenSymbol(l.marker.symbol):!1,g=v.isBubble(l),b=p(l,y,T,h);if(!b){y.visible=!1;return}r(l,y,T,h),h("xhoverformat"),h("yhoverformat");var A=b<x.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",A),v.hasMarkers(y)&&(t(l,y,c,T,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",i||g?1:0)),v.hasLines(y)&&(h("connectgaps"),o(l,y,c,T,h),h("line.shape")),v.hasText(y)&&(h("texttemplate"),u(l,y,T,h,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var R=(y.line||{}).color,m=(y.marker||{}).color;h("fill"),y.fill!=="none"&&a(l,y,c,h);var L=P.getComponentMethod("errorbars","supplyDefaults");L(l,y,R||m||c,{axis:"y"}),L(l,y,R||m||c,{axis:"x",inherit:"y"}),d.coerceSelectionMarkerOpacity(y,h)}},26768:function(U,N,e){var d=e(3400),P=e(76308),n=e(13448).DESELECTDIM;function C(x){var v=x[0],p=v.trace,r=v.t,t=r._scene,o=r.index,a=t.selectBatch[o],u=t.unselectBatch[o],f=t.textOptions[o],l=t.textSelectedOptions[o]||{},y=t.textUnselectedOptions[o]||{},c=d.extendFlat({},f),T,h;if(a.length||u.length){var i=l.color,g=y.color,b=f.color,A=d.isArrayOrTypedArray(b);for(c.color=new Array(p._length),T=0;T<a.length;T++)h=a[T],c.color[h]=i||(A?b[h]:b);for(T=0;T<u.length;T++){h=u[T];var R=A?b[h]:b;c.color[h]=g||(i?R:P.addOpacity(R,n))}}t.glText[o].update(c)}U.exports={styleTextSelection:C}},99396:function(U,N,e){var d=e(76688);U.exports=function(n,C,x){var v=n.i;return"x"in n||(n.x=C._x[v]),"y"in n||(n.y=C._y[v]),d(n,C,x)}},80088:function(U,N,e){var d=e(67072);N.isOpenSymbol=function(P){return typeof P=="string"?d.OPEN_RE.test(P):P%200>100},N.isDotSymbol=function(P){return typeof P=="string"?d.DOT_RE.test(P):P>200}},41272:function(U,N,e){var d=e(24040),P=e(3400),n=e(44928);function C(v,p,r,t){var o=v.cd,a=o[0].t,u=o[0].trace,f=v.xa,l=v.ya,y=a.x,c=a.y,T=f.c2p(p),h=l.c2p(r),i=v.distance,g;if(a.tree){var b=f.p2c(T-i),A=f.p2c(T+i),R=l.p2c(h-i),m=l.p2c(h+i);t==="x"?g=a.tree.range(Math.min(b,A),Math.min(l._rl[0],l._rl[1]),Math.max(b,A),Math.max(l._rl[0],l._rl[1])):g=a.tree.range(Math.min(b,A),Math.min(R,m),Math.max(b,A),Math.max(R,m))}else g=a.ids;var L,M,s,S,w,_,I,H,O,V=i;if(t==="x"){var B=!!u.xperiodalignment,F=!!u.yperiodalignment;for(w=0;w<g.length;w++){if(L=g[w],s=y[L],_=Math.abs(f.c2p(s)-T),B){var G=f.c2p(u._xStarts[L]),Y=f.c2p(u._xEnds[L]);_=T>=Math.min(G,Y)&&T<=Math.max(G,Y)?0:1/0}if(_<V){if(V=_,S=c[L],I=l.c2p(S)-h,F){var Q=l.c2p(u._yStarts[L]),te=l.c2p(u._yEnds[L]);I=h>=Math.min(Q,te)&&h<=Math.max(Q,te)?0:1/0}O=Math.sqrt(_*_+I*I),M=g[w]}}}else for(w=g.length-1;w>-1;w--)L=g[w],s=y[L],S=c[L],_=f.c2p(s)-T,I=l.c2p(S)-h,H=Math.sqrt(_*_+I*I),H<V&&(V=O=H,M=L);return v.index=M,v.distance=V,v.dxy=O,M===void 0?[v]:[x(v,y,c,u)]}function x(v,p,r,t){var o=v.xa,a=v.ya,u=v.distance,f=v.dxy,l=v.index,y={pointNumber:l,x:p[l],y:r[l]};y.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,y.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,y.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,y.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var c=t.textfont;c&&(y.ts=P.isArrayOrTypedArray(c.size)?c.size[l]:c.size,y.tc=P.isArrayOrTypedArray(c.color)?c.color[l]:c.color,y.tf=Array.isArray(c.family)?c.family[l]:c.family,y.tw=Array.isArray(c.weight)?c.weight[l]:c.weight,y.ty=Array.isArray(c.style)?c.style[l]:c.style,y.tv=Array.isArray(c.variant)?c.variant[l]:c.variant);var T=t.marker;T&&(y.ms=P.isArrayOrTypedArray(T.size)?T.size[l]:T.size,y.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,y.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,y.ma=P.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,y.mc=P.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var h=T&&T.line;h&&(y.mlc=Array.isArray(h.color)?h.color[l]:h.color,y.mlw=P.isArrayOrTypedArray(h.width)?h.width[l]:h.width);var i=T&&T.gradient;i&&i.type!=="none"&&(y.mgt=Array.isArray(i.type)?i.type[l]:i.type,y.mgc=Array.isArray(i.color)?i.color[l]:i.color);var g=o.c2p(y.x,!0),b=a.c2p(y.y,!0),A=y.mrc||1,R=t.hoverlabel;R&&(y.hbg=Array.isArray(R.bgcolor)?R.bgcolor[l]:R.bgcolor,y.hbc=Array.isArray(R.bordercolor)?R.bordercolor[l]:R.bordercolor,y.hts=P.isArrayOrTypedArray(R.font.size)?R.font.size[l]:R.font.size,y.htc=Array.isArray(R.font.color)?R.font.color[l]:R.font.color,y.htf=Array.isArray(R.font.family)?R.font.family[l]:R.font.family,y.hnl=P.isArrayOrTypedArray(R.namelength)?R.namelength[l]:R.namelength);var m=t.hoverinfo;m&&(y.hi=Array.isArray(m)?m[l]:m);var L=t.hovertemplate;L&&(y.ht=Array.isArray(L)?L[l]:L);var M={};M[v.index]=y;var s=t._origX,S=t._origY,w=P.extendFlat({},v,{color:n(t,y),x0:g-A,x1:g+A,xLabelVal:s?s[l]:y.x,y0:b-A,y1:b+A,yLabelVal:S?S[l]:y.y,cd:M,distance:u,spikeDistance:f,hovertemplate:y.ht});return y.htx?w.text=y.htx:y.tx?w.text=y.tx:t.text&&(w.text=t.text),P.fillText(y,t,w),d.getComponentMethod("errorbars","hoverInfo")(y,t,w),w}U.exports={hoverPoints:C,calcHover:x}},38983:function(U,N,e){var d=e(64628);d.plot=e(89876),U.exports=d},89876:function(U,N,e){var d=e(38540),P=e(13472),n=e(24544),C=e(23352),x=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),o=e(26768).styleTextSelection,a={};function u(l,y,c,T){var h=l._size,i=l.width*T,g=l.height*T,b=h.l*T,A=h.b*T,R=h.r*T,m=h.t*T,L=h.w*T,M=h.h*T;return[b+y.domain[0]*L,A+c.domain[0]*M,i-R-(1-y.domain[1])*L,g-m-(1-c.domain[1])*M]}var f=U.exports=function(y,c,T){if(T.length){var h=y._fullLayout,i=c._scene,g=c.xaxis,b=c.yaxis,A,R;if(i){var m=p(y,["ANGLE_instanced_arrays","OES_element_index_uint"],a);if(!m){i.init();return}var L=i.count,M=h._glcanvas.data()[0].regl;if(t(y,c,T),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&M.clear({}),i.error2d===!0&&(i.error2d=n(M)),i.line2d===!0&&(i.line2d=P(M)),i.scatter2d===!0&&(i.scatter2d=d(M)),i.fill2d===!0&&(i.fill2d=P(M)),i.glText===!0)for(i.glText=new Array(L),A=0;A<L;A++)i.glText[A]=new C(M);if(i.glText){if(L>i.glText.length){var s=L-i.glText.length;for(A=0;A<s;A++)i.glText.push(new C(M))}else if(L<i.glText.length){var S=i.glText.length-L,w=i.glText.splice(L,S);w.forEach(function($){$.destroy()})}for(A=0;A<L;A++)i.glText[A].update(i.textOptions[A])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function($){if($&&$.positions){for(var j=$.positions,se=0;se<j.length&&(isNaN(j[se])||isNaN(j[se+1]));)se+=2;for(var ne=j.length-2;ne>se&&(isNaN(j[ne])||isNaN(j[ne+1]));)ne-=2;$.positions=j.slice(se,ne+2)}return $}),i.line2d.update(i.lineOptions)),i.error2d){var _=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(_)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=x.repeat(null,L),i.fill2d&&(i.fillOptions=i.fillOptions.map(function($,j){var se=T[j];if(!(!$||!se||!se[0]||!se[0].trace)){var ne=se[0],he=ne.trace,me=ne.t,we=i.lineOptions[j],Te,Le,Ie=[];he._ownfill&&Ie.push(j),he._nexttrace&&Ie.push(j+1),Ie.length&&(i.fillOrder[j]=Ie);var ze=[],Me=we&&we.positions||me.positions,_e,Ce;if(he.fill==="tozeroy"){for(_e=0;_e<Me.length&&isNaN(Me[_e+1]);)_e+=2;for(Ce=Me.length-2;Ce>_e&&isNaN(Me[Ce+1]);)Ce-=2;Me[_e+1]!==0&&(ze=[Me[_e],0]),ze=ze.concat(Me.slice(_e,Ce+2)),Me[Ce+1]!==0&&(ze=ze.concat([Me[Ce],0]))}else if(he.fill==="tozerox"){for(_e=0;_e<Me.length&&isNaN(Me[_e]);)_e+=2;for(Ce=Me.length-2;Ce>_e&&isNaN(Me[Ce]);)Ce-=2;Me[_e]!==0&&(ze=[0,Me[_e+1]]),ze=ze.concat(Me.slice(_e,Ce+2)),Me[Ce]!==0&&(ze=ze.concat([0,Me[Ce+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(ze=[],Te=0,$.splitNull=!0,Le=0;Le<Me.length;Le+=2)(isNaN(Me[Le])||isNaN(Me[Le+1]))&&(ze=ze.concat(Me.slice(Te,Le)),ze.push(Me[Te],Me[Te+1]),ze.push(null,null),Te=Le+2);ze=ze.concat(Me.slice(Te)),Te&&ze.push(Me[Te],Me[Te+1])}else{var Oe=he._nexttrace;if(Oe){var Pe=i.lineOptions[j+1];if(Pe){var Ge=Pe.positions;if(he.fill==="tonexty"){for(ze=Me.slice(),j=Math.floor(Ge.length/2);j--;){var Ze=Ge[j*2],it=Ge[j*2+1];isNaN(Ze)||isNaN(it)||ze.push(Ze,it)}$.fill=Oe.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var Je=i.lineOptions[j-1].positions,et=ze.length/2;Te=et;var ft=[Te];for(Le=0;Le<Je.length;Le+=2)(isNaN(Je[Le])||isNaN(Je[Le+1]))&&(ft.push(Le/2+et+1),Te=Le+2);ze=ze.concat(Je),$.hole=ft}return $.fillmode=he.fill,$.opacity=he.opacity,$.positions=ze,$}}),i.fill2d.update(i.fillOptions))}var I=h.dragmode,H=v(I),O=h.clickmode.indexOf("select")>-1;for(A=0;A<L;A++){var V=T[A][0],B=V.trace,F=V.t,G=F.index,Y=B._length,Q=F.x,te=F.y;if(B.selectedpoints||H||O){if(H||(H=!0),B.selectedpoints){var ae=i.selectBatch[G]=x.selIndices2selPoints(B),fe={};for(R=0;R<ae.length;R++)fe[ae[R]]=1;var oe=[];for(R=0;R<Y;R++)fe[R]||oe.push(R);i.unselectBatch[G]=oe}var J=F.xpx=new Array(Y),ee=F.ypx=new Array(Y);for(R=0;R<Y;R++)J[R]=g.c2p(Q[R]),ee[R]=b.c2p(te[R])}else F.xpx=F.ypx=null}if(H){if(i.select2d||(i.select2d=d(h._glcanvas.data()[1].regl)),i.scatter2d){var X=new Array(L);for(A=0;A<L;A++)X[A]=i.selectBatch[A].length||i.unselectBatch[A].length?i.markerUnselectedOptions[A]:{};i.scatter2d.update(X)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&T.forEach(function($){var j=(($||[])[0]||{}).trace||{};r.hasText(j)&&o($)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var q={viewport:u(h,g,b,y._context.plotGlPixelRatio),range:[(g._rl||g.range)[0],(b._rl||b.range)[0],(g._rl||g.range)[1],(b._rl||b.range)[1]]},le=x.repeat(q,i.count);i.fill2d&&i.fill2d.update(le),i.line2d&&i.line2d.update(le),i.error2d&&i.error2d.update(le.concat(le)),i.scatter2d&&i.scatter2d.update(le),i.select2d&&i.select2d.update(le),i.glText&&i.glText.forEach(function($){$.update(q)})}}};f.reglPrecompiled=a},74588:function(U,N,e){var d=e(3400);U.exports=function(n,C){var x=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(x=C._scene={},x.init=function(){d.extendFlat(x,p,v)},x.init(),x.update=function(t){var o=d.repeat(t,x.count);if(x.fill2d&&x.fill2d.update(o),x.scatter2d&&x.scatter2d.update(o),x.line2d&&x.line2d.update(o),x.error2d&&x.error2d.update(o.concat(o)),x.select2d&&x.select2d.update(o),x.glText)for(var a=0;a<x.count;a++)x.glText[a].update(t)},x.draw=function(){for(var t=x.count,o=x.fill2d,a=x.error2d,u=x.line2d,f=x.scatter2d,l=x.glText,y=x.select2d,c=x.selectBatch,T=x.unselectBatch,h=0;h<t;h++){if(o&&x.fillOrder[h]&&o.draw(x.fillOrder[h]),u&&x.lineOptions[h]&&u.draw(h),a&&(x.errorXOptions[h]&&a.draw(h),x.errorYOptions[h]&&a.draw(h+t)),f&&x.markerOptions[h])if(T[h].length){var i=d.repeat([],x.count);i[h]=T[h],f.draw(i)}else c[h].length||f.draw(h);l[h]&&x.textOptions[h]&&l[h].render()}y&&y.draw(c),x.dirty=!1},x.destroy=function(){x.fill2d&&x.fill2d.destroy&&x.fill2d.destroy(),x.scatter2d&&x.scatter2d.destroy&&x.scatter2d.destroy(),x.error2d&&x.error2d.destroy&&x.error2d.destroy(),x.line2d&&x.line2d.destroy&&x.line2d.destroy(),x.select2d&&x.select2d.destroy&&x.select2d.destroy(),x.glText&&x.glText.forEach(function(t){t.destroy&&t.destroy()}),x.lineOptions=null,x.fillOptions=null,x.markerOptions=null,x.markerSelectedOptions=null,x.markerUnselectedOptions=null,x.errorXOptions=null,x.errorYOptions=null,x.textOptions=null,x.textSelectedOptions=null,x.textUnselectedOptions=null,x.selectBatch=null,x.unselectBatch=null,C._scene=null}),x.dirty||d.extendFlat(x,v),x}},73224:function(U,N,e){var d=e(43028),P=e(26768).styleTextSelection;U.exports=function(C,x){var v=C.cd,p=C.xaxis,r=C.yaxis,t=[],o=v[0].trace,a=v[0].t,u=o._length,f=a.x,l=a.y,y=a._scene,c=a.index;if(!y)return t;var T=d.hasText(o),h=d.hasMarkers(o),i=!h&&!T;if(o.visible!==!0||i)return t;var g=[],b=[];if(x!==!1&&!x.degenerate)for(var A=0;A<u;A++)x.contains([a.xpx[A],a.ypx[A]],!1,A,C)?(g.push(A),t.push({pointNumber:A,x:p.c2d(f[A]),y:r.c2d(l[A])})):b.push(A);if(h){var R=y.scatter2d;if(!g.length&&!b.length){var m=new Array(y.count);m[c]=y.markerOptions[c],R.update.apply(R,m)}else if(!y.selectBatch[c].length&&!y.unselectBatch[c].length){var L=new Array(y.count);L[c]=y.markerUnselectedOptions[c],R.update.apply(R,L)}}return y.selectBatch[c]=g,y.unselectBatch[c]=b,T&&P(v),t}},31512:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(98304),C=e(6096),x=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,o=e(67824).overrideAll,a=e(5232),u=C.line,f=C.marker;U.exports=o({lon:C.lon,lat:C.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},f.opacity,{dflt:1})},mode:t({},x.mode,{dflt:"markers"}),text:t({},x.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},x.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:x.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},r("marker")),fill:C.fill,fillcolor:n(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:x.selected.marker},unselected:{marker:x.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:d()},"calc","nested")},79732:function(U){var N=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];U.exports={isSupportedFont:function(e){return N.indexOf(e)!==-1}}},59392:function(U,N,e){var d=e(38248),P=e(3400),n=e(39032).BADNUM,C=e(44808),x=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(79732).isSupportedFont,o=e(89032),a=e(10624).appendArrayPointValue,u=e(72736).NEWLINES,f=e(72736).BR_TAG_ALL;U.exports=function(R,m){var L=m[0].trace,M=L.visible===!0&&L._length!==0,s=L.fill!=="none",S=r.hasLines(L),w=r.hasMarkers(L),_=r.hasText(L),I=w&&L.marker.symbol==="circle",H=w&&L.marker.symbol!=="circle",O=L.cluster&&L.cluster.enabled,V=l("fill"),B=l("line"),F=l("circle"),G=l("symbol"),Y={fill:V,line:B,circle:F,symbol:G};if(!M)return Y;var Q;if((s||S)&&(Q=C.calcTraceToLineCoords(m)),s&&(V.geojson=C.makePolygon(Q),V.layout.visibility="visible",P.extendFlat(V.paint,{"fill-color":L.fillcolor})),S&&(B.geojson=C.makeLine(Q),B.layout.visibility="visible",P.extendFlat(B.paint,{"line-width":L.line.width,"line-color":L.line.color,"line-opacity":L.opacity})),I){var te=y(m);F.geojson=te.geojson,F.layout.visibility="visible",O&&(F.filter=["!",["has","point_count"]],Y.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":g(L.cluster.color,L.cluster.step),"circle-radius":g(L.cluster.size,L.cluster.step),"circle-opacity":g(L.cluster.opacity,L.cluster.step)}},Y.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":b(L),"text-size":12}}),P.extendFlat(F.paint,{"circle-color":te.mcc,"circle-radius":te.mrc,"circle-opacity":te.mo})}if(I&&O&&(F.filter=["!",["has","point_count"]]),(H||_)&&(G.geojson=c(m,R),P.extendFlat(G.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),H&&(P.extendFlat(G.layout,{"icon-size":L.marker.size/10}),"angle"in L.marker&&L.marker.angle!=="auto"&&P.extendFlat(G.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),G.layout["icon-allow-overlap"]=L.marker.allowoverlap,P.extendFlat(G.paint,{"icon-opacity":L.opacity*L.marker.opacity,"icon-color":L.marker.color})),_)){var ae=(L.marker||{}).size,fe=o(L.textposition,ae);P.extendFlat(G.layout,{"text-size":L.textfont.size,"text-anchor":fe.anchor,"text-offset":fe.offset,"text-font":b(L)}),P.extendFlat(G.paint,{"text-color":L.textfont.color,"text-opacity":L.opacity})}return Y};function l(A){return{type:A,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function y(A){var R=A[0].trace,m=R.marker,L=R.selectedpoints,M=P.isArrayOrTypedArray(m.color),s=P.isArrayOrTypedArray(m.size),S=P.isArrayOrTypedArray(m.opacity),w;function _(ae){return R.opacity*ae}function I(ae){return ae/2}var H;M&&(x.hasColorscale(R,"marker")?H=x.makeColorScaleFuncFromTrace(m):H=P.identity);var O;s&&(O=p(R));var V;S&&(V=function(ae){var fe=d(ae)?+P.constrain(ae,0,1):0;return _(fe)});var B=[];for(w=0;w<A.length;w++){var F=A[w],G=F.lonlat;if(!i(G)){var Y={};H&&(Y.mcc=F.mcc=H(F.mc)),O&&(Y.mrc=F.mrc=O(F.ms)),V&&(Y.mo=V(F.mo)),L&&(Y.selected=F.selected||0),B.push({type:"Feature",id:w+1,geometry:{type:"Point",coordinates:G},properties:Y})}}var Q;if(L)for(Q=v.makeSelectedPointStyleFns(R),w=0;w<B.length;w++){var te=B[w].properties;Q.selectedOpacityFn&&(te.mo=_(Q.selectedOpacityFn(te))),Q.selectedColorFn&&(te.mcc=Q.selectedColorFn(te)),Q.selectedSizeFn&&(te.mrc=Q.selectedSizeFn(te))}return{geojson:{type:"FeatureCollection",features:B},mcc:M||Q&&Q.selectedColorFn?{type:"identity",property:"mcc"}:m.color,mrc:s||Q&&Q.selectedSizeFn?{type:"identity",property:"mrc"}:I(m.size),mo:S||Q&&Q.selectedOpacityFn?{type:"identity",property:"mo"}:_(m.opacity)}}function c(A,R){for(var m=R._fullLayout,L=A[0].trace,M=L.marker||{},s=M.symbol,S=M.angle,w=s!=="circle"?T(s):h,_=S!=="auto"?T(S,!0):h,I=r.hasText(L)?T(L.text):h,H=[],O=0;O<A.length;O++){var V=A[O];if(!i(V.lonlat)){var B=L.texttemplate,F;if(B){var G=Array.isArray(B)?B[O]||"":B,Y=L._module.formatLabels(V,L,m),Q={};a(Q,L,V.i);var te=L._meta||{};F=P.texttemplateString(G,Y,m._d3locale,Q,V,te)}else F=I(O);F&&(F=F.replace(u,"").replace(f,`
`)),H.push({type:"Feature",geometry:{type:"Point",coordinates:V.lonlat},properties:{symbol:w(O),angle:_(O),text:F}})}}return{type:"FeatureCollection",features:H}}function T(A,R){return P.isArrayOrTypedArray(A)?R?function(m){return d(A[m])?+A[m]:0}:function(m){return A[m]}:A?function(){return A}:h}function h(){return""}function i(A){return A[0]===n}function g(A,R){var m;if(P.isArrayOrTypedArray(A)&&P.isArrayOrTypedArray(R)){m=["step",["get","point_count"],A[0]];for(var L=1;L<A.length;L++)m.push(R[L-1],A[L])}else m=A;return m}function b(A){var R=A.textfont,m=R.family,L=R.style,M=R.weight,s=m.split(" "),S=s[s.length-1]==="Italic";S&&s.pop(),S=S||L==="italic";var w=s.join(" ");M==="bold"&&s.indexOf("Bold")===-1?w+=" Bold":M<=1e3&&(s[0]==="Metropolis"?(w="Metropolis",M>850?w+=" Black":M>750?w+=" Extra Bold":M>650?w+=" Bold":M>550?w+=" Semi Bold":M>450?w+=" Medium":M>350?w+=" Regular":M>250?w+=" Light":M>150?w+=" Extra Light":w+=" Thin"):s.slice(0,2).join(" ")==="Open Sans"?(w="Open Sans",M>750?w+=" Extrabold":M>650?w+=" Bold":M>550?w+=" Semibold":M>350?w+=" Regular":w+=" Light"):s.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(w="Klokantech Noto Sans",s[3]==="CJK"&&(w+=" CJK"),w+=M>500?" Bold":" Regular")),S&&(w+=" Italic"),w==="Open Sans Regular Italic"?w="Open Sans Italic":w==="Open Sans Regular Bold"?w="Open Sans Bold":w==="Open Sans Regular Bold Italic"?w="Open Sans Bold Italic":w==="Klokantech Noto Sans Regular Italic"&&(w="Klokantech Noto Sans Italic"),t(w)||(w=m);var _=w.split(", ");return _}},15752:function(U,N,e){var d=e(3400),P=e(43028),n=e(74428),C=e(66828),x=e(124),v=e(70840),p=e(31512),r=e(79732).isSupportedFont;U.exports=function(a,u,f,l){function y(s,S){return d.coerce(a,u,p,s,S)}function c(s,S){return d.coerce2(a,u,p,s,S)}var T=t(a,u,y);if(!T){u.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),P.hasMarkers(u)){n(a,u,f,l,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var h=u.marker;h.symbol!=="circle"&&(d.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),d.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}P.hasLines(u)&&(C(a,u,f,l,y,{noDash:!0}),y("connectgaps"));var i=c("cluster.maxzoom"),g=c("cluster.step"),b=c("cluster.color",u.marker&&u.marker.color||f),A=c("cluster.size"),R=c("cluster.opacity"),m=i!==!1||g!==!1||b!==!1||A!==!1||R!==!1,L=y("cluster.enabled",m);if(L||P.hasText(u)){var M=l.font.family;x(a,u,l,y,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(M)?M:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}})}y("fill"),u.fill!=="none"&&v(a,u,f,y),d.coerceSelectionMarkerOpacity(u,y)};function t(o,a,u){var f=u("lon")||[],l=u("lat")||[],y=Math.min(f.length,l.length);return a._length=y,y}},37920:function(U){U.exports=function(e,d){return e.lon=d.lon,e.lat=d.lat,e}},11960:function(U,N,e){var d=e(54460);U.exports=function(n,C,x){var v={},p=x[C.subplot]._subplot,r=p.mockAxis,t=n.lonlat;return v.lonLabel=d.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=d.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(U,N,e){var d=e(93024),P=e(3400),n=e(44928),C=P.fillText,x=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,o,a){var u=t.cd,f=u[0].trace,l=t.xa,y=t.ya,c=t.subplot,T=[],h=v+f.uid+"-circle",i=f.cluster&&f.cluster.enabled;if(i){var g=c.map.queryRenderedFeatures(null,{layers:[h]});T=g.map(function(O){return O.id})}var b=o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360),A=b*360,R=o-A;function m(O){var V=O.lonlat;if(V[0]===x||i&&T.indexOf(O.i+1)===-1)return 1/0;var B=P.modHalf(V[0],360),F=V[1],G=c.project([B,F]),Y=G.x-l.c2p([R,F]),Q=G.y-y.c2p([B,a]),te=Math.max(3,O.mrc||0);return Math.max(Math.sqrt(Y*Y+Q*Q)-te,1-3/te)}if(d.getClosest(u,m,t),t.index!==!1){var L=u[t.index],M=L.lonlat,s=[P.modHalf(M[0],360)+A,M[1]],S=l.c2p(s),w=y.c2p(s),_=L.mrc||1;t.x0=S-_,t.x1=S+_,t.y0=w-_,t.y1=w+_;var I={};I[f.subplot]={_subplot:c};var H=f._module.formatLabels(L,f,I);return t.lonLabel=H.lonLabel,t.latLabel=H.latLabel,t.color=n(f,L),t.extraText=r(f,L,u[0].t.labels),t.hovertemplate=f.hovertemplate,[t]}}function r(t,o,a){if(t.hovertemplate)return;var u=o.hi||t.hoverinfo,f=u.split("+"),l=f.indexOf("all")!==-1,y=f.indexOf("lon")!==-1,c=f.indexOf("lat")!==-1,T=o.lonlat,h=[];function i(g){return g+"°"}return l||y&&c?h.push("("+i(T[1])+", "+i(T[0])+")"):y?h.push(a.lon+i(T[0])):c&&h.push(a.lat+i(T[1])),(l||f.indexOf("text")!==-1)&&C(o,t,h),h.join("<br>")}U.exports={hoverPoints:p,getExtraText:r}},11572:function(U,N,e){U.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(d,P){if(P){var n=P[0].trace;n._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(U,N,e){var d=e(3400),P=e(59392),n=e(47552).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function x(p,r,t,o){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=o,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:n+r+"-fill",line:n+r+"-line",circle:n+r+"-circle",symbol:n+r+"-symbol",cluster:n+r+"-cluster",clusterCount:n+r+"-cluster-count"},this.below=null}var v=x.prototype;v.addSource=function(p,r,t){var o={type:"geojson",data:r.geojson};t&&t.enabled&&d.extendFlat(o,{cluster:!0,clusterMaxZoom:t.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[p]);a?a.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],o)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var o={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(o.filter=r.filter);for(var a=this.layerIds[p],u,f=this.subplot.getMapLayers(),l=0;l<f.length;l++)if(f[l].id===a){u=!0;break}u?(this.subplot.setOptions(a,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",o.paint)):this.subplot.addLayer(o,t)},v.update=function(r){var t=r[0].trace,o=this.subplot,a=o.map,u=P(o.gd,r),f=o.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),y=!!this.clusterEnabled,c=this;function T(M){M||c.addSource("circle",u.circle,t.cluster);for(var s=C.cluster,S=0;S<s.length;S++){var w=s[S],_=u[w];c.addLayer(w,_,f)}}function h(M){for(var s=C.cluster,S=s.length-1;S>=0;S--){var w=s[S];a.removeLayer(c.layerIds[w])}M||a.removeSource(c.sourceIds.circle)}function i(M){for(var s=C.nonCluster,S=0;S<s.length;S++){var w=s[S],_=u[w];M||c.addSource(w,_),c.addLayer(w,_,f)}}function g(M){for(var s=C.nonCluster,S=s.length-1;S>=0;S--){var w=s[S];a.removeLayer(c.layerIds[w]),M||a.removeSource(c.sourceIds[w])}}function b(M){y?h(M):g(M)}function A(M){l?T(M):i(M)}function R(){for(var M=l?C.cluster:C.nonCluster,s=0;s<M.length;s++){var S=M[s],w=u[S];w&&(o.setOptions(c.layerIds[S],"setLayoutProperty",w.layout),w.layout.visibility==="visible"&&(S!=="cluster"&&c.setSourceData(S,w),o.setOptions(c.layerIds[S],"setPaintProperty",w.paint)))}}var m=this.isHidden,L=t.visible!==!0;L?m||b():m?L||A():y!==l?(b(),A()):(this.below!==f&&(b(!0),A(!0)),R()),this.clusterEnabled=l,this.isHidden=L,this.below=f,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,o=t.length-1;o>=0;o--){var a=t[o];r.removeLayer(this.layerIds[a]),r.removeSource(this.sourceIds[a])}},U.exports=function(r,t){var o=t[0].trace,a=o.cluster&&o.cluster.enabled,u=o.visible!==!0,f=new x(r,o.uid,a,u),l=P(r.gd,t),y=f.below=r.belowLookup["trace-"+o.uid],c,T,h;if(a)for(f.addSource("circle",l.circle,o.cluster),c=0;c<C.cluster.length;c++)T=C.cluster[c],h=l[T],f.addLayer(T,h,y);else for(c=0;c<C.nonCluster.length;c++)T=C.nonCluster[c],h=l[T],f.addSource(T,h,o.cluster),f.addLayer(T,h,y);return t[0].trace._glTrace=f,f}},404:function(U,N,e){var d=e(3400),P=e(43028),n=e(39032).BADNUM;U.exports=function(x,v){var p=x.cd,r=x.xaxis,t=x.yaxis,o=[],a=p[0].trace,u;if(!P.hasMarkers(a))return[];if(v===!1)for(u=0;u<p.length;u++)p[u].selected=0;else for(u=0;u<p.length;u++){var f=p[u],l=f.lonlat;if(l[0]!==n){var y=[d.modHalf(l[0],360),l[1]],c=[r.c2p(y),t.c2p(y)];v.contains(c,null,u,x)?(o.push({pointNumber:u,lon:l[0],lat:l[1]}),f.selected=1):f.selected=0}}return o}},8319:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(92880).extendFlat,C=e(98304),x=e(52904),v=e(45464),p=x.line;U.exports={mode:x.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:x.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:x.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:n({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:x.connectgaps,marker:x.marker,cliponaxis:n({},x.cliponaxis,{dflt:!1}),textposition:x.textposition,textfont:x.textfont,fill:n({},x.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:n({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:x.hoveron,hovertemplate:d(),selected:x.selected,unselected:x.unselected}},58320:function(U,N,e){var d=e(38248),P=e(39032).BADNUM,n=e(54460),C=e(90136),x=e(20148),v=e(4500),p=e(16356).calcMarkerSize;U.exports=function(t,o){for(var a=t._fullLayout,u=o.subplot,f=a[u].radialaxis,l=a[u].angularaxis,y=f.makeCalcdata(o,"r"),c=l.makeCalcdata(o,"theta"),T=o._length,h=new Array(T),i=0;i<T;i++){var g=y[i],b=c[i],A=h[i]={};d(g)&&d(b)?(A.r=g,A.theta=b):A.r=P}var R=p(o,T);return o._extremes.x=n.findExtremes(f,y,{ppad:R}),C(t,o),x(h,o),v(h,o),h}},85968:function(U,N,e){var d=e(3400),P=e(43028),n=e(74428),C=e(66828),x=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function o(u,f,l,y){function c(i,g){return d.coerce(u,f,t,i,g)}var T=a(u,f,y,c);if(!T){f.visible=!1;return}c("thetaunit"),c("mode",T<r?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),P.hasMarkers(f)&&n(u,f,l,y,c,{gradient:!0}),P.hasLines(f)&&(C(u,f,l,y,c,{backoff:!0}),x(u,f,c),c("connectgaps")),P.hasText(f)&&(c("texttemplate"),v(u,f,y,c));var h=[];(P.hasMarkers(f)||P.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(p(u,f,l,c),P.hasLines(f)||x(u,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),d.coerceSelectionMarkerOpacity(f,c)}function a(u,f,l,y){var c=y("r"),T=y("theta");d.isTypedArray(c)&&(f.r=c=Array.from(c)),d.isTypedArray(T)&&(f.theta=T=Array.from(T));var h;if(c)T?h=Math.min(c.length,T.length):(h=c.length,y("theta0"),y("dtheta"));else{if(!T)return 0;h=f.theta.length,y("r0"),y("dr")}return f._length=h,h}U.exports={handleRThetaDefaults:a,supplyDefaults:o}},22852:function(U,N,e){var d=e(3400),P=e(54460);U.exports=function(C,x,v){var p={},r=v[x.subplot]._subplot,t,o;r?(t=r.radialAxis,o=r.angularAxis):(r=v[x.subplot],t=r.radialaxis,o=r.angularaxis);var a=t.c2l(C.r);p.rLabel=P.tickText(t,a,!0).text;var u=o.thetaunit==="degrees"?d.rad2deg(C.theta):C.theta;return p.thetaLabel=P.tickText(o,u,!0).text,p}},8504:function(U,N,e){var d=e(98723);function P(C,x,v,p){var r=d(C,x,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=C.subplot,a=t.cd[t.index],u=t.trace;if(o.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,u,o,t),t.hovertemplate=u.hovertemplate,r}}function n(C,x,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var o={};o[x.subplot]={_subplot:v};var a=x._module.formatLabels(C,x,o);p.rLabel=a.rLabel,p.thetaLabel=a.thetaLabel;var u=C.hi||x.hoverinfo,f=[];function l(c,T){f.push(c._hovertitle+": "+T)}if(!x.hovertemplate){var y=u.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&l(r,p.rLabel),y.indexOf("theta")!==-1&&l(t,p.thetaLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}U.exports={hoverPoints:P,makeHoverPointText:n}},76924:function(U,N,e){U.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(U,N,e){var d=e(96504),P=e(39032).BADNUM;U.exports=function(C,x,v){for(var p=x.layers.frontplot.select("g.scatterlayer"),r=x.xaxis,t=x.yaxis,o={xaxis:r,yaxis:t,plot:x.framework,layerClipId:x._hasClipOnAxisFalse?x.clipIds.forTraces:null},a=x.radialAxis,u=x.angularAxis,f=0;f<v.length;f++)for(var l=v[f],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var c=l[y],T=c.r;if(T===P)c.x=c.y=P;else{var h=a.c2g(T),i=u.c2g(c.theta);c.x=h*Math.cos(i),c.y=h*Math.sin(i)}}d(C,o,v,p)}},24396:function(U,N,e){var d=e(8319),P=e(2876),n=e(21776).Gw;U.exports={mode:d.mode,r:d.r,theta:d.theta,r0:d.r0,dr:d.dr,theta0:d.theta0,dtheta:d.dtheta,thetaunit:d.thetaunit,text:d.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:d.hovertext,hovertemplate:d.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:d.hoverinfo,selected:d.selected,unselected:d.unselected}},27160:function(U,N,e){U.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(U,N,e){var d=e(90136),P=e(16356).calcMarkerSize,n=e(84236),C=e(54460),x=e(67072).TOO_MANY_POINTS;U.exports=function(p,r){var t=p._fullLayout,o=r.subplot,a=t[o].radialaxis,u=t[o].angularaxis,f=r._r=a.makeCalcdata(r,"r"),l=r._theta=u.makeCalcdata(r,"theta"),y=r._length,c={};y<f.length&&(f=f.slice(0,y)),y<l.length&&(l=l.slice(0,y)),c.r=f,c.theta=l,d(p,r);var T=c.opts=n.style(p,r),h;return y<x?h=P(r,y):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=C.findExtremes(a,f,{ppad:h}),[{x:!1,y:!1,t:c,trace:r}]}},98608:function(U,N,e){var d=e(3400),P=e(43028),n=e(85968).handleRThetaDefaults,C=e(74428),x=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);U.exports=function(a,u,f,l){function y(T,h){return d.coerce(a,u,t,T,h)}var c=n(a,u,l,y);if(!c){u.visible=!1;return}y("thetaunit"),y("mode",c<r?"lines+markers":"lines"),y("text"),y("hovertext"),u.hoveron!=="fills"&&y("hovertemplate"),P.hasMarkers(u)&&C(a,u,f,l,y,{noAngleRef:!0,noStandOff:!0}),P.hasLines(u)&&(x(a,u,f,l,y),y("connectgaps")),P.hasText(u)&&(y("texttemplate"),v(a,u,l,y,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),y("fill"),u.fill!=="none"&&p(a,u,f,y),d.coerceSelectionMarkerOpacity(u,y)}},94120:function(U,N,e){var d=e(22852);U.exports=function(n,C,x){var v=n.i;return"r"in n||(n.r=C._r[v]),"theta"in n||(n.theta=C._theta[v]),d(n,C,x)}},1600:function(U,N,e){var d=e(41272),P=e(8504).makeHoverPointText;function n(C,x,v,p){var r=C.cd,t=r[0].t,o=t.r,a=t.theta,u=d.hoverPoints(C,x,v,p);if(!(!u||u[0].index===!1)){var f=u[0];if(f.index===void 0)return u;var l=C.subplot,y=f.cd[f.index],c=f.trace;if(y.r=o[f.index],y.theta=a[f.index],!!l.isPtInside(y))return f.xLabelVal=void 0,f.yLabelVal=void 0,P(y,c,l,f),u}}U.exports={hoverPoints:n}},62944:function(U,N,e){var d=e(27160);d.plot=e(56512),U.exports=d},56512:function(U,N,e){var d=e(3108),P=e(38248),n=e(89876),C=e(74588),x=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};U.exports=function(o,a,u){if(u.length){var f=a.radialAxis,l=a.angularAxis,y=C(o,a);return u.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var T=c[0],h=T.trace,i=T.t,g=h._length,b=i.r,A=i.theta,R=i.opts,m,L=b.slice(),M=A.slice();for(m=0;m<b.length;m++)a.isPtInside({r:b[m],theta:A[m]})||(L[m]=NaN,M[m]=NaN);var s=new Array(g*2),S=Array(g),w=Array(g);for(m=0;m<g;m++){var _=L[m],I,H;if(P(_)){var O=f.c2g(_),V=l.c2g(M[m],h.thetaunit);I=O*Math.cos(V),H=O*Math.sin(V)}else I=H=NaN;S[m]=s[m*2]=I,w[m]=s[m*2+1]=H}i.tree=d(s),R.marker&&g>=p&&(R.marker.cluster=i.tree),R.marker&&(R.markerSel.positions=R.markerUnsel.positions=R.marker.positions=s),R.line&&s.length>1&&v.extendFlat(R.line,x.linePositions(o,h,s)),R.text&&(v.extendFlat(R.text,{positions:s},x.textPosition(o,h,R.text,R.marker)),v.extendFlat(R.textSel,{positions:s},x.textPosition(o,h,R.text,R.markerSel)),v.extendFlat(R.textUnsel,{positions:s},x.textPosition(o,h,R.text,R.markerUnsel))),R.fill&&!y.fill2d&&(y.fill2d=!0),R.marker&&!y.scatter2d&&(y.scatter2d=!0),R.line&&!y.line2d&&(y.line2d=!0),R.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(R.line),y.fillOptions.push(R.fill),y.markerOptions.push(R.marker),y.markerSelectedOptions.push(R.markerSel),y.markerUnselectedOptions.push(R.markerUnsel),y.textOptions.push(R.text),y.textSelectedOptions.push(R.textSel),y.textUnselectedOptions.push(R.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),i.x=S,i.y=w,i.rawx=S,i.rawy=w,i.r=b,i.theta=A,i.positions=s,i._scene=y,i.index=y.count,y.count++}}),n(o,a,u)}},U.exports.reglPrecompiled=r},69496:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(92880).extendFlat,C=e(98304),x=e(52904),v=e(45464),p=x.line;U.exports={mode:x.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:x.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:x.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:n({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:x.connectgaps,marker:x.marker,cliponaxis:n({},x.cliponaxis,{dflt:!1}),textposition:x.textposition,textfont:x.textfont,fill:n({},x.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:n({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:x.hoveron,hovertemplate:d(),selected:x.selected,unselected:x.unselected}},47507:function(U,N,e){var d=e(38248),P=e(39032).BADNUM,n=e(90136),C=e(20148),x=e(4500),v=e(16356).calcMarkerSize;U.exports=function(r,t){for(var o=r._fullLayout,a=t.subplot,u=o[a].realaxis,f=o[a].imaginaryaxis,l=u.makeCalcdata(t,"real"),y=f.makeCalcdata(t,"imag"),c=t._length,T=new Array(c),h=0;h<c;h++){var i=l[h],g=y[h],b=T[h]={};d(i)&&d(g)?(b.real=i,b.imag=g):b.real=P}return v(t,c),n(r,t),C(T,t),x(T,t),T}},76716:function(U,N,e){var d=e(3400),P=e(43028),n=e(74428),C=e(66828),x=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);U.exports=function(u,f,l,y){function c(i,g){return d.coerce(u,f,t,i,g)}var T=o(u,f,y,c);if(!T){f.visible=!1;return}c("mode",T<r?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),P.hasMarkers(f)&&n(u,f,l,y,c,{gradient:!0}),P.hasLines(f)&&(C(u,f,l,y,c,{backoff:!0}),x(u,f,c),c("connectgaps")),P.hasText(f)&&(c("texttemplate"),v(u,f,y,c));var h=[];(P.hasMarkers(f)||P.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(p(u,f,l,c),P.hasLines(f)||x(u,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),d.coerceSelectionMarkerOpacity(f,c)};function o(a,u,f,l){var y=l("real"),c=l("imag"),T;return y&&c&&(T=Math.min(y.length,c.length)),d.isTypedArray(y)&&(u.real=y=Array.from(y)),d.isTypedArray(c)&&(u.imag=c=Array.from(c)),u._length=T,T}},49504:function(U,N,e){var d=e(54460);U.exports=function(n,C,x){var v={},p=x[C.subplot]._subplot;return v.realLabel=d.tickText(p.radialAxis,n.real,!0).text,v.imagLabel=d.tickText(p.angularAxis,n.imag,!0).text,v}},25292:function(U,N,e){var d=e(98723);function P(C,x,v,p){var r=d(C,x,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=C.subplot,a=t.cd[t.index],u=t.trace;if(o.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,u,o,t),t.hovertemplate=u.hovertemplate,r}}function n(C,x,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var o={};o[x.subplot]={_subplot:v};var a=x._module.formatLabels(C,x,o);p.realLabel=a.realLabel,p.imagLabel=a.imagLabel;var u=C.hi||x.hoverinfo,f=[];function l(c,T){f.push(c._hovertitle+": "+T)}if(!x.hovertemplate){var y=u.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&l(r,p.realLabel),y.indexOf("imag")!==-1&&l(t,p.imagLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}U.exports={hoverPoints:P,makeHoverPointText:n}},95443:function(U,N,e){U.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(U,N,e){var d=e(96504),P=e(39032).BADNUM,n=e(36416),C=n.smith;U.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),o=p.xaxis,a=p.yaxis,u={xaxis:o,yaxis:a,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},f=0;f<r.length;f++)for(var l=r[f],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=o,l[0].trace._yA=a);var c=l[y],T=c.real;if(T===P)c.x=c.y=P;else{var h=C([T,c.imag]);c.x=h[0],c.y=h[1]}}d(v,u,r,t)}},5896:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(98304),C=e(52904),x=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=C.marker,o=C.line,a=t.line;U.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},C.hovertext,{}),line:{color:o.color,width:o.width,dash:p,backoff:o.backoff,shape:r({},o.shape,{values:["linear","spline"]}),smoothing:o.smoothing,editType:"calc"},connectgaps:C.connectgaps,cliponaxis:C.cliponaxis,fill:r({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:a.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:r({},x.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:C.hoveron,hovertemplate:d()}},34335:function(U,N,e){var d=e(38248),P=e(90136),n=e(20148),C=e(4500),x=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};U.exports=function(t,o){var a=t._fullLayout[o.subplot],u=a.sum,f=o.sum||u,l={a:o.a,b:o.b,c:o.c},y,c,T,h,i,g;for(y=0;y<v.length;y++)if(T=v[y],!l[T]){for(i=l[p[T][0]],g=l[p[T][1]],h=new Array(i.length),c=0;c<i.length;c++)h[c]=f-i[c]-g[c];l[T]=h}var b=o._length,A=new Array(b),R,m,L,M,s,S;for(y=0;y<b;y++)R=l.a[y],m=l.b[y],L=l.c[y],d(R)&&d(m)&&d(L)?(R=+R,m=+m,L=+L,M=u/(R+m+L),M!==1&&(R*=M,m*=M,L*=M),S=R,s=L-m,A[y]={x:s,y:S,a:R,b:m,c:L}):A[y]={x:!1,y:!1};return x(o,b),P(t,o),n(A,o),C(A,o),A}},84256:function(U,N,e){var d=e(3400),P=e(88200),n=e(43028),C=e(74428),x=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);U.exports=function(a,u,f,l){function y(A,R){return d.coerce(a,u,t,A,R)}var c=y("a"),T=y("b"),h=y("c"),i;if(c?(i=c.length,T?(i=Math.min(i,T.length),h&&(i=Math.min(i,h.length))):h?i=Math.min(i,h.length):i=0):T&&h&&(i=Math.min(T.length,h.length)),!i){u.visible=!1;return}u._length=i,y("sum"),y("text"),y("hovertext"),u.hoveron!=="fills"&&y("hovertemplate");var g=i<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",g),n.hasMarkers(u)&&C(a,u,f,l,y,{gradient:!0}),n.hasLines(u)&&(x(a,u,f,l,y,{backoff:!0}),v(a,u,y),y("connectgaps")),n.hasText(u)&&(y("texttemplate"),p(a,u,l,y));var b=[];(n.hasMarkers(u)||n.hasText(u))&&(y("cliponaxis"),y("marker.maxdisplayed"),b.push("points")),y("fill"),u.fill!=="none"&&(r(a,u,f,y),n.hasLines(u)||v(a,u,y)),(u.fill==="tonext"||u.fill==="toself")&&b.push("fills"),y("hoveron",b.join("+")||"points"),d.coerceSelectionMarkerOpacity(u,y)}},97476:function(U){U.exports=function(e,d,P,n,C){if(d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),n[C]){var x=n[C];e.a=x.a,e.b=x.b,e.c=x.c}else e.a=d.a,e.b=d.b,e.c=d.c;return e}},90404:function(U,N,e){var d=e(54460);U.exports=function(n,C,x){var v={},p=x[C.subplot]._subplot;return v.aLabel=d.tickText(p.aaxis,n.a,!0).text,v.bLabel=d.tickText(p.baxis,n.b,!0).text,v.cLabel=d.tickText(p.caxis,n.c,!0).text,v}},26596:function(U,N,e){var d=e(98723);U.exports=function(n,C,x,v){var p=d(n,C,x,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/n.ya._length,o=n.xa._length,a=o*t/2,u=o-a;return r.x0=Math.max(Math.min(r.x0,u),a),r.x1=Math.max(Math.min(r.x1,u),a),p}var f=r.cd[r.index],l=r.trace,y=r.subplot;r.a=f.a,r.b=f.b,r.c=f.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var c={};c[l.subplot]={_subplot:y};var T=l._module.formatLabels(f,l,c);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var h=f.hi||l.hoverinfo,i=[];function g(A,R){i.push(A._hovertitle+": "+R)}if(!l.hovertemplate){var b=h.split("+");b.indexOf("all")!==-1&&(b=["a","b","c"]),b.indexOf("a")!==-1&&g(y.aaxis,r.aLabel),b.indexOf("b")!==-1&&g(y.baxis,r.bLabel),b.indexOf("c")!==-1&&g(y.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(U,N,e){U.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(U,N,e){var d=e(96504);U.exports=function(n,C,x){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=C.xaxis,r=C.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},o=C.layers.frontplot.select("g.scatterlayer"),a=0;a<x.length;a++){var u=x[a];u.length&&(u[0].trace._xA=p,u[0].trace._yA=r)}d(n,t,x,o)}},44524:function(U,N,e){var d=e(52904),P=e(49084),n=e(29736).axisHoverFormat,C=e(21776).Ks,x=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=d.marker,o=t.line,a=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},o.width,{editType:"calc"}),editType:"calc"}),u=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:a,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function f(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}U.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},x.text,{}),hovertext:r({},x.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),marker:u,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:x.selected.marker,editType:"calc"},unselected:{marker:x.unselected.marker,editType:"calc"},opacity:x.opacity}},28888:function(U,N,e){var d=e(24040),P=e(12704);U.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},d.register(P)},99332:function(U,N,e){var d=e(13472),P=e(24040),n=e(5048),C=e(84888)._M,x=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function o(c){var T=c._fullLayout,h=P.getModule(r),i=C(c.calcdata,h)[0],g=n(c,["ANGLE_instanced_arrays","OES_element_index_uint"],t);g&&(T._hasOnlyLargeSploms&&f(c),h.plot(c,{},i))}function a(c){var T=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&f(c);for(var i=0;i<T.length;i++){var g=T[i][0],b=g.trace,A=h._splomScenes[b.uid];b.type==="splom"&&A&&A.matrix&&u(c,b,A)}}function u(c,T,h){for(var i=h.matrixOptions.data.length,g=T._visibleDims,b=h.viewOpts.ranges=new Array(i),A=0;A<g.length;A++){var R=g[A],m=b[A]=new Array(4),L=v(c,T._diag[R][0]);L&&(m[0]=L.r2l(L.range[0]),m[2]=L.r2l(L.range[1]));var M=v(c,T._diag[R][1]);M&&(m[1]=M.r2l(M.range[0]),m[3]=M.r2l(M.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:b},{ranges:b}):h.matrix.update({ranges:b})}function f(c){var T=c._fullLayout,h=T._glcanvas.data()[0].regl,i=T._splomGrid;i||(i=T._splomGrid=d(h)),i.update(l(c))}function l(c){var T=c._context.plotGlPixelRatio,h=c._fullLayout,i=h._size,g=[0,0,h.width*T,h.height*T],b={},A;function R(Y,Q,te,ae,fe,oe){te*=T,ae*=T,fe*=T,oe*=T;var J=Q[Y+"color"],ee=Q[Y+"width"],X=String(J+ee);X in b?b[X].data.push(NaN,NaN,te,ae,fe,oe):b[X]={data:[te,ae,fe,oe],join:"rect",thickness:ee*T,color:J,viewport:g,range:g,overlay:!1}}for(A in h._splomSubplots){var m=h._plots[A],L=m.xaxis,M=m.yaxis,s=L._gridVals,S=M._gridVals,w=L._offset,_=L._length,I=M._length,H=i.b+M.domain[0]*i.h,O=-M._m,V=-O*M.r2l(M.range[0],M.calendar),B,F;if(L.showgrid)for(A=0;A<s.length;A++)B=w+L.l2p(s[A].x),R("grid",L,B,H,B,H+I);if(M.showgrid)for(A=0;A<S.length;A++)F=H+V+O*S[A].x,R("grid",M,w,F,w+_,F);p(c,L,M)&&(B=w+L.l2p(0),R("zeroline",L,B,H,B,H+I)),p(c,M,L)&&(F=H+V+0,R("zeroline",M,w,F,w+_,F))}var G=[];for(A in b)G.push(b[A]);return G}function y(c,T,h,i){var g={},b;if(i._splomScenes){for(b=0;b<c.length;b++){var A=c[b];A.type==="splom"&&(g[A.uid]=1)}for(b=0;b<h.length;b++){var R=h[b];if(!g[R.uid]){var m=i._splomScenes[R.uid];m&&m.destroy&&m.destroy(),i._splomScenes[R.uid]=null,delete i._splomScenes[R.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!T._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),x.clean(c,T,h,i)}U.exports={name:r,attr:x.attr,attrRegex:x.attrRegex,layoutAttributes:x.layoutAttributes,supplyLayoutDefaults:x.supplyLayoutDefaults,drawFramework:x.drawFramework,plot:o,drag:a,updateGrid:f,clean:y,updateFx:x.updateFx,toSVG:x.toSVG,reglPrecompiled:t}},66821:function(U,N,e){var d=e(3400),P=e(79811),n=e(16356).calcMarkerSize,C=e(16356).calcAxisExpansion,x=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,o=e(67072).TOO_MANY_POINTS;U.exports=function(u,f){var l=f.dimensions,y=f._length,c={},T=c.cdata=[],h=c.data=[],i=f._visibleDims=[],g,b,A,R,m;function L(_,I){for(var H=_.makeCalcdata({v:I.values,vcalendar:f.calendar},"v"),O=0;O<H.length;O++)H[O]=H[O]===t?NaN:H[O];T.push(H),h.push(_.type==="log"?d.simpleMap(H,_.c2l):H)}for(g=0;g<l.length;g++)if(A=l[g],A.visible){if(R=P.getFromId(u,f._diag[g][0]),m=P.getFromId(u,f._diag[g][1]),R&&m&&R.type!==m.type){d.log("Skipping splom dimension "+g+" with conflicting axis types");continue}R?(L(R,A),m&&m.type==="category"&&(m._categories=R._categories.slice())):L(m,A),i.push(g)}x(u,f),d.extendFlat(c,p(u,f));var M=T.length,s=M*y>o,S;for(s?S=c.sizeAvg||Math.max(c.size,3):S=n(f,y),b=0;b<i.length;b++)g=i[b],A=l[g],R=P.getFromId(u,f._diag[g][0])||{},m=P.getFromId(u,f._diag[g][1])||{},C(u,f,R,m,T[b],T[b],S);var w=r(u,f);return w.matrix||(w.matrix=!0),w.matrixOptions=c,w.selectedOptions=v(u,f,f.selected),w.unselectedOptions=v(u,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},69544:function(U,N,e){var d=e(3400),P=e(51272),n=e(44524),C=e(43028),x=e(74428),v=e(26284),p=e(80088).isOpenSymbol;U.exports=function(a,u,f,l){function y(R,m){return d.coerce(a,u,n,R,m)}var c=P(a,u,{name:"dimensions",handleItemDefaults:r}),T=y("diagonal.visible"),h=y("showupperhalf"),i=y("showlowerhalf"),g=v(u,c,"values");if(!g||!T&&!h&&!i){u.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),x(a,u,f,l,y,{noAngleRef:!0,noStandOff:!0});var b=p(u.marker.symbol),A=C.isBubble(u);y("marker.line.width",b||A?1:0),t(a,u,l,y),d.coerceSelectionMarkerOpacity(u,y)};function r(o,a){function u(l,y){return d.coerce(o,a,n.dimensions,l,y)}u("label");var f=u("values");f&&f.length?u("visible"):a.visible=!1,u("axis.type"),u("axis.matches")}function t(o,a,u,f){var l=a.dimensions,y=l.length,c=a.showupperhalf,T=a.showlowerhalf,h=a.diagonal.visible,i,g,b=new Array(y),A=new Array(y);for(i=0;i<y;i++){var R=i?i+1:"";b[i]="x"+R,A[i]="y"+R}var m=f("xaxes",b),L=f("yaxes",A),M=a._diag=new Array(y);a._xaxes={},a._yaxes={};var s=[],S=[];function w(Y,Q,te,ae){if(Y){var fe=Y.charAt(0),oe=u._splomAxes[fe];if(a["_"+fe+"axes"][Y]=1,ae.push(Y),!(Y in oe)){var J=oe[Y]={};te&&(J.label=te.label||"",te.visible&&te.axis&&(te.axis.type&&(J.type=te.axis.type),te.axis.matches&&(J.matches=Q)))}}}var _=!h&&!T,I=!h&&!c;for(a._axesDim={},i=0;i<y;i++){var H=l[i],O=i===0,V=i===y-1,B=O&&_||V&&I?void 0:m[i],F=O&&I||V&&_?void 0:L[i];w(B,F,H,s),w(F,B,H,S),M[i]=[B,F],a._axesDim[B]=i,a._axesDim[F]=i}for(i=0;i<s.length;i++)for(g=0;g<S.length;g++){var G=s[i]+S[g];(i>g&&c||i<g&&T||i===g&&(h||!T||!c))&&(u._splomSubplots[G]=1)}(!T||!h&&c&&T)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(U,N,e){var d=e(3400),P=e(90136),n=e(84236).markerStyle;U.exports=function(x,v){var p=v.trace,r=x._fullLayout._splomScenes[p.uid];if(r){P(x,p),d.extendFlat(r.matrixOptions,n(x,p));var t=d.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(U,N){N.getDimIndex=function(d,P){for(var n=P._id,C=n.charAt(0),x={x:0,y:1}[C],v=d._visibleDims,p=0;p<v.length;p++){var r=v[p];if(d._diag[r][x]===n)return p}return!1}},72248:function(U,N,e){var d=e(50328),P=e(41272).calcHover,n=e(54460).getFromId,C=e(92880).extendFlat;function x(p,r,t,o,a){a||(a={});var u=(o||"").charAt(0)==="x",f=(o||"").charAt(0)==="y",l=v(p,r,t);if((u||f)&&a.hoversubplots==="axis"&&l[0])for(var y=(u?p.xa:p.ya)._subplotsWith,c=a.gd,T=C({},p),h=0;h<y.length;h++){var i=y[h];if(i!==p.xa._id+p.ya._id){f?T.xa=n(c,i,"x"):T.ya=n(c,i,"y");var g=u||f,b=v(T,r,t,g);l=l.concat(b)}}return l}function v(p,r,t,o){var a=p.cd,u=a[0].trace,f=p.scene,l=f.matrixOptions.cdata,y=p.xa,c=p.ya,T=y.c2p(r),h=c.c2p(t),i=p.distance,g=d.getDimIndex(u,y),b=d.getDimIndex(u,c);if(g===!1||b===!1)return[p];for(var A=l[g],R=l[b],m,L,M=i,s=0;s<A.length;s++)if(!(o&&s!==p.index)){var S=A[s],w=R[s],_=y.c2p(S)-T,I=c.c2p(w)-h,H=Math.sqrt(_*_+I*I);(o||H<M)&&(M=L=H,m=s)}return p.index=m,p.distance=M,p.dxy=L,m===void 0?[p]:[P(p,A,R,u)]}U.exports={hoverPoints:x}},97924:function(U,N,e){var d=e(28888);d.basePlotModule=e(99332),U.exports=d},54840:function(U,N,e){var d=e(55795),P=e(3400),n=e(79811),C=e(72760).selectMode;U.exports=function(p,r,t){if(t.length)for(var o=0;o<t.length;o++)x(p,t[o][0])};function x(v,p){var r=v._fullLayout,t=r._size,o=p.trace,a=p.t,u=r._splomScenes[o.uid],f=u.matrixOptions,l=f.cdata,y=r._glcanvas.data()[0].regl,c=r.dragmode,T,h,i,g,b;if(l.length!==0){f.lower=o.showupperhalf,f.upper=o.showlowerhalf,f.diagonal=o.diagonal.visible;var A=o._visibleDims,R=l.length,m=u.viewOpts={};for(m.ranges=new Array(R),m.domains=new Array(R),b=0;b<A.length;b++){i=A[b];var L=m.ranges[b]=new Array(4),M=m.domains[b]=new Array(4);T=n.getFromId(v,o._diag[i][0]),T&&(L[0]=T._rl[0],L[2]=T._rl[1],M[0]=T.domain[0],M[2]=T.domain[1]),h=n.getFromId(v,o._diag[i][1]),h&&(L[1]=h._rl[0],L[3]=h._rl[1],M[1]=h.domain[0],M[3]=h.domain[1])}var s=v._context.plotGlPixelRatio,S=t.l*s,w=t.b*s,_=t.w*s,I=t.h*s;m.viewport=[S,w,_+S,I+w],u.matrix===!0&&(u.matrix=d(y));var H=r.clickmode.indexOf("select")>-1,O=C(c)||!!o.selectedpoints||H,V=!0;if(O){var B=o._length;if(o.selectedpoints){u.selectBatch=o.selectedpoints;var F=o.selectedpoints,G={};for(i=0;i<F.length;i++)G[F[i]]=!0;var Y=[];for(i=0;i<B;i++)G[i]||Y.push(i);u.unselectBatch=Y}var Q=a.xpx=new Array(R),te=a.ypx=new Array(R);for(b=0;b<A.length;b++){if(i=A[b],T=n.getFromId(v,o._diag[i][0]),T)for(Q[b]=new Array(B),g=0;g<B;g++)Q[b][g]=T.c2p(l[b][g]);if(h=n.getFromId(v,o._diag[i][1]),h)for(te[b]=new Array(B),g=0;g<B;g++)te[b][g]=h.c2p(l[b][g])}if(u.selectBatch.length||u.unselectBatch.length){var ae=P.extendFlat({},f,u.unselectedOptions,m),fe=P.extendFlat({},f,u.selectedOptions,m);u.matrix.update(ae,fe),V=!1}}else a.xpx=a.ypx=null;if(V){var oe=P.extendFlat({},f,m);u.matrix.update(oe,null)}}}},72308:function(U,N,e){var d=e(3400);U.exports=function(n,C){var x=n._fullLayout,v=C.uid,p=x._splomScenes;p||(p=x._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},o=p[C.uid];return o||(o=p[v]=d.extendFlat({},r,t),o.draw=function(){o.matrix&&o.matrix.draw&&(o.selectBatch.length||o.unselectBatch.length?o.matrix.draw(o.unselectBatch,o.selectBatch):o.matrix.draw()),o.dirty=!1},o.destroy=function(){o.matrix&&o.matrix.destroy&&o.matrix.destroy(),o.matrixOptions=null,o.selectBatch=null,o.unselectBatch=null,o=null}),o.dirty||d.extendFlat(o,r),o}},62500:function(U,N,e){var d=e(3400),P=d.pushUnique,n=e(43028),C=e(50328);U.exports=function(v,p){var r=v.cd,t=r[0].trace,o=r[0].t,a=v.scene,u=a.matrixOptions.cdata,f=v.xaxis,l=v.yaxis,y=[];if(!a)return y;var c=!n.hasMarkers(t)&&!n.hasText(t);if(t.visible!==!0||c)return y;var T=C.getDimIndex(t,f),h=C.getDimIndex(t,l);if(T===!1||h===!1)return y;var i=o.xpx[T],g=o.ypx[h],b=u[T],A=u[h],R=(v.scene.selectBatch||[]).slice(),m=[];if(p!==!1&&!p.degenerate)for(var L=0;L<b.length;L++)p.contains([i[L],g[L]],null,L,v)?(y.push({pointNumber:L,x:b[L],y:A[L]}),P(R,L)):R.indexOf(L)!==-1?P(R,L):m.push(L);var M=a.matrixOptions;return!R.length&&!m.length?a.matrix.update(M,null):!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,d.extendFlat({},M,a.selectedOptions,a.viewOpts)),a.selectBatch=R,a.unselectBatch=m,y}},90167:function(U,N,e){var d=e(49084),P=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(52948),x=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},x.showlegend,{dflt:!1})};v(p,d("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=C[t]}),p.hoverinfo=v({},x.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,U.exports=p},3832:function(U,N,e){var d=e(3400),P=e(47128);function n(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var o=0,a,u,f;r.starts&&(a=v(r.starts.x||[]),u=v(r.starts.y||[]),f=v(r.starts.z||[]),o=Math.min(a.length,u.length,f.length)),r._startsX=a||[],r._startsY=u||[],r._startsZ=f||[];var l=0,y=1/0,c;for(c=0;c<r._len;c++){var T=r._u[c],h=r._v[c],i=r._w[c],g=Math.sqrt(T*T+h*h+i*i);l=Math.max(l,g),y=Math.min(y,g)}for(P(p,r,{vals:[y,l],containerStr:"",cLetter:"c"}),c=0;c<o;c++){var b=a[c];t.xMax=Math.max(t.xMax,b),t.xMin=Math.min(t.xMin,b);var A=u[c];t.yMax=Math.max(t.yMax,A),t.yMin=Math.min(t.yMin,A);var R=f[c];t.zMax=Math.max(t.zMax,R),t.zMin=Math.min(t.zMin,R)}r._slen=o,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(p){var r=p._x,t=p._y,o=p._z,a=p._len,u,f,l,y=-1/0,c=1/0,T=-1/0,h=1/0,i=-1/0,g=1/0,b="",A,R,m,L,M,s,S,w,_;for(a&&(L=r[0],s=t[0],w=o[0]),a>1&&(M=r[a-1],S=t[a-1],_=o[a-1]),u=0;u<a;u++)y=Math.max(y,r[u]),c=Math.min(c,r[u]),T=Math.max(T,t[u]),h=Math.min(h,t[u]),i=Math.max(i,o[u]),g=Math.min(g,o[u]),!A&&r[u]!==L&&(A=!0,b+="x"),!R&&t[u]!==s&&(R=!0,b+="y"),!m&&o[u]!==w&&(m=!0,b+="z");A||(b+="x"),R||(b+="y"),m||(b+="z");var I=x(p._x),H=x(p._y),O=x(p._z);b=b.replace("x",(L>M?"-":"+")+"x"),b=b.replace("y",(s>S?"-":"+")+"y"),b=b.replace("z",(w>_?"-":"+")+"z");var V=function(){a=0,I=[],H=[],O=[]};(!a||a<I.length*H.length*O.length)&&V();var B=function(he){return he==="x"?r:he==="y"?t:o},F=function(he){return he==="x"?I:he==="y"?H:O},G=function(he){return he[a-1]<he[0]?-1:1},Y=B(b[1]),Q=B(b[3]),te=B(b[5]),ae=F(b[1]).length,fe=F(b[3]).length,oe=F(b[5]).length,J=!1,ee=function(he,me,we){return ae*(fe*he+me)+we},X=G(B(b[1])),q=G(B(b[3])),le=G(B(b[5]));for(u=0;u<oe-1;u++){for(f=0;f<fe-1;f++){for(l=0;l<ae-1;l++){var $=ee(u,f,l),j=ee(u,f,l+1),se=ee(u,f+1,l),ne=ee(u+1,f,l);if((!(Y[$]*X<Y[j]*X)||!(Q[$]*q<Q[se]*q)||!(te[$]*le<te[ne]*le))&&(J=!0),J)break}if(J)break}if(J)break}return J&&(d.warn("Encountered arbitrary coordinates! Unable to input data grid."),V()),{xMin:c,yMin:h,zMin:g,xMax:y,yMax:T,zMax:i,Xs:I,Ys:H,Zs:O,len:a,fill:b}}function x(p){return d.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),d.isTypedArray(p))return p.subarray(0,r);for(var t=[],o=0;o<r;o++)t[o]=+p[o];return t}U.exports={calc:n,filter:v,processGrid:C}},25668:function(U,N,e){var d=e(67792).gl_streamtube3d,P=d.createTubeMesh,n=e(3400),C=e(33040).parseColorScale,x=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,y){this.scene=l,this.uid=y,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var y=this.scene.fullSceneLayout,c=this.scene.dataScale;function T(g,b){var A=y[b],R=c[p[b]];return A.l2c(g)/R}if(l.object===this.mesh){var h=l.data.position,i=l.data.velocity;return l.traceCoordinate=[T(h[0],"xaxis"),T(h[1],"yaxis"),T(h[2],"zaxis"),T(i[0],"xaxis"),T(i[1],"yaxis"),T(i[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function o(l){var y=l.length,c;return y>2?c=l.slice(1,y-1):y===2?c=[(l[0]+l[1])/2]:c=l,c}function a(l){var y=l.length;return y===1?[.5,.5]:[l[1]-l[0],l[y-1]-l[y-2]]}function u(l,y){var c=l.fullSceneLayout,T=l.dataScale,h=y._len,i={};function g(fe,oe){var J=c[oe],ee=T[p[oe]];return n.simpleMap(fe,function(X){return J.d2l(X)*ee})}if(i.vectors=v(g(y._u,"xaxis"),g(y._v,"yaxis"),g(y._w,"zaxis"),h),!h)return{positions:[],cells:[]};var b=g(y._Xs,"xaxis"),A=g(y._Ys,"yaxis"),R=g(y._Zs,"zaxis");i.meshgrid=[b,A,R],i.gridFill=y._gridFill;var m=y._slen;if(m)i.startingPositions=v(g(y._startsX,"xaxis"),g(y._startsY,"yaxis"),g(y._startsZ,"zaxis"));else{for(var L=A[0],M=o(b),s=o(R),S=new Array(M.length*s.length),w=0,_=0;_<M.length;_++)for(var I=0;I<s.length;I++)S[w++]=[M[_],L,s[I]];i.startingPositions=S}i.colormap=C(y),i.tubeSize=y.sizeref,i.maxLength=y.maxdisplayed;var H=g(y._xbnds,"xaxis"),O=g(y._ybnds,"yaxis"),V=g(y._zbnds,"zaxis"),B=a(b),F=a(A),G=a(R),Y=[[H[0]-B[0],O[0]-F[0],V[0]-G[0]],[H[1]+B[1],O[1]+F[1],V[1]+G[1]]],Q=d(i,Y),te=x(y);Q.vertexIntensityBounds=[te.min/y._normMax,te.max/y._normMax];var ae=y.lightposition;return Q.lightPosition=[ae.x,ae.y,ae.z],Q.ambient=y.lighting.ambient,Q.diffuse=y.lighting.diffuse,Q.specular=y.lighting.specular,Q.roughness=y.lighting.roughness,Q.fresnel=y.lighting.fresnel,Q.opacity=y.opacity,y._pad=Q.tubeScale*y.sizeref*2,Q}t.update=function(l){this.data=l;var y=u(this.scene,l);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(l,y){var c=l.glplot.gl,T=u(l,y),h=P(c,T),i=new r(l,y.uid);return i.mesh=h,i.data=y,h._trace=i,l.glplot.add(h),i}U.exports=f},54304:function(U,N,e){var d=e(3400),P=e(27260),n=e(90167);U.exports=function(x,v,p,r){function t(c,T){return d.coerce(x,v,n,c,T)}var o=t("u"),a=t("v"),u=t("w"),f=t("x"),l=t("y"),y=t("z");if(!o||!o.length||!a||!a.length||!u||!u.length||!f||!f.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(x,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(U,N,e){U.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(d,P){return d.tubex=d.x,d.tubey=d.y,d.tubez=d.z,d.tubeu=P.traceCoordinate[3],d.tubev=P.traceCoordinate[4],d.tubew=P.traceCoordinate[5],d.norm=P.traceCoordinate[6],d.divergence=P.traceCoordinate[7],delete d.x,delete d.y,delete d.z,d},meta:{}}},424:function(U,N,e){var d=e(45464),P=e(21776).Ks,n=e(21776).Gw,C=e(49084),x=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;U.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},d.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:x({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(U,N,e){var d=e(7316);N.name="sunburst",N.plot=function(P,n,C,x){d.plotBasePlot(N.name,P,n,C,x)},N.clean=function(P,n,C,x){d.cleanBasePlot(N.name,P,n,C,x)}},3776:function(U,N,e){var d=e(74148),P=e(38248),n=e(3400),C=e(8932).makeColorScaleFuncFromTrace,x=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},o={},a={};N.calc=function(f,l){var y=f._fullLayout,c=l.ids,T=n.isArrayOrTypedArray(c),h=l.labels,i=l.parents,g=l.values,b=n.isArrayOrTypedArray(g),A=[],R={},m={},L=function(X,q){R[X]?R[X].push(q):R[X]=[q],m[q]=1},M=function(X){return X||typeof X=="number"},s=function(X){return!b||P(g[X])&&g[X]>=0},S,w,_;T?(S=Math.min(c.length,i.length),w=function(X){return M(c[X])&&s(X)},_=function(X){return String(c[X])}):(S=Math.min(h.length,i.length),w=function(X){return M(h[X])&&s(X)},_=function(X){return String(h[X])}),b&&(S=Math.min(S,g.length));for(var I=0;I<S;I++)if(w(I)){var H=_(I),O=M(i[I])?String(i[I]):"",V={i:I,id:H,pid:O,label:M(h[I])?String(h[I]):""};b&&(V.v=+g[I]),A.push(V),L(O,H)}if(R[""]){if(R[""].length>1){for(var G=n.randstr(),Y=0;Y<A.length;Y++)A[Y].pid===""&&(A[Y].pid=G);A.unshift({hasMultipleRoots:!0,id:G,pid:"",label:""})}}else{var B=[],F;for(F in R)m[F]||B.push(F);if(B.length===1)F=B[0],A.unshift({hasImpliedRoot:!0,id:F,pid:"",label:F});else return n.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",B.join(", ")].join(" "))}var Q;try{Q=d.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(A)}catch(X){return n.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",X.message].join(" "))}var te=d.hierarchy(Q),ae=!1;if(b)switch(l.branchvalues){case"remainder":te.sum(function(X){return X.data.v});break;case"total":te.each(function(X){var q=X.data.data,le=q.v;if(X.children){var $=X.children.reduce(function(j,se){return j+se.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(le=$),le<$*r)return ae=!0,n.warn(["Total value for node",X.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,$].join(" "))}X.value=le});break}else u(te,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ae){l.sort&&te.sort(function(X,q){return q.value-X.value});var fe,oe,J=l.marker.colors||[],ee=!!J.length;return l._hasColorscale?(ee||(J=b?l.values:l._values),p(f,l,{vals:J,containerStr:"marker",cLetter:"c"}),oe=C(l.marker)):fe=x(y["_"+l.type+"colormap"]),te.each(function(X){var q=X.data.data;q.color=l._hasColorscale?oe(J[q.i]):fe(J[q.i],q.id)}),A[0].hierarchy=te,A}},N._runCrossTraceCalc=function(f,l){var y=l._fullLayout,c=l.calcdata,T=y[f+"colorway"],h=y["_"+f+"colormap"];y["extend"+f+"colors"]&&(T=v(T,f==="icicle"?a:f==="treemap"?o:t));var i=0,g;function b(L){var M=L.data.data,s=M.id;M.color===!1&&(h[s]?M.color=h[s]:L.parent?L.parent.parent?M.color=L.parent.data.data.color:(h[s]=M.color=T[i%T.length],i++):M.color=g)}for(var A=0;A<c.length;A++){var R=c[A],m=R[0];m.trace.type===f&&m.hierarchy&&(g=m.trace.root.color,m.hierarchy.each(b))}},N.crossTraceCalc=function(f){return N._runCrossTraceCalc("sunburst",f)};function u(f,l,y){var c=0,T=f.children;if(T){for(var h=T.length,i=0;i<h;i++)c+=u(T[i],l,y);y.branches&&c++}else y.leaves&&c++;return f.value=f.data.data.value=c,l._values||(l._values=[]),l._values[f.data.data.i]=c,c}},27328:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(U,N,e){var d=e(3400),P=e(424),n=e(86968).Q,C=e(31508).handleText,x=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;U.exports=function(o,a,u,f){function l(b,A){return d.coerce(o,a,P,b,A)}var y=l("labels"),c=l("parents");if(!y||!y.length||!c||!c.length){a.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),x(o,a,f,l);var h=a._hasColorscale=p(o,"marker","colors")||(o.marker||{}).coloraxis;h&&r(o,a,f,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",h?1:.7);var i=l("text");l("texttemplate"),a.texttemplate||l("textinfo",d.isArrayOrTypedArray(i)?"text+label":"label"),l("hovertext"),l("hovertemplate");var g="auto";C(o,a,f,l,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),n(a,f,l),a._length=null}},60404:function(U,N,e){var d=e(43616),P=e(76308);U.exports=function(C,x,v,p,r){var t=x.data.data,o=t.i,a=r||t.color;if(o>=0){x.i=t.i;var u=v.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=a,x.color=a):(u.color=a,x.color=a),d.pointStyle(C,v,p,x)}else P.fill(C,a)}},45716:function(U,N,e){var d=e(33428),P=e(24040),n=e(10624).appendArrayPointValue,C=e(93024),x=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;U.exports=function(u,f,l,y,c){var T=y[0],h=T.trace,i=T.hierarchy,g=h.type==="sunburst",b=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var A=function(L){var M=l._fullLayout;if(!(l._dragging||M.hovermode===!1)){var s=l._fullData[h.index],S=L.data.data,w=S.i,_=p.isHierarchyRoot(L),I=p.getParent(i,L),H=p.getValue(L),O=function(j){return x.castOption(s,w,j)},V=O("hovertemplate"),B=C.castHoverinfo(s,M,w),F=M.separators,G;if(V||B&&B!=="none"&&B!=="skip"){var Y,Q;g&&(Y=T.cx+L.pxmid[0]*(1-L.rInscribed),Q=T.cy+L.pxmid[1]*(1-L.rInscribed)),b&&(Y=L._hoverX,Q=L._hoverY);var te={},ae=[],fe=[],oe=function(j){return ae.indexOf(j)!==-1};B&&(ae=B==="all"?s._module.attributes.hoverinfo.flags:B.split("+")),te.label=S.label,oe("label")&&te.label&&fe.push(te.label),S.hasOwnProperty("v")&&(te.value=S.v,te.valueLabel=t(te.value,F),oe("value")&&fe.push(te.valueLabel)),te.currentPath=L.currentPath=p.getPath(L.data),oe("current path")&&!_&&fe.push(te.currentPath);var J,ee=[],X=function(){ee.indexOf(J)===-1&&(fe.push(J),ee.push(J))};te.percentParent=L.percentParent=H/p.getValue(I),te.parent=L.parentString=p.getPtLabel(I),oe("percent parent")&&(J=p.formatPercent(te.percentParent,F)+" of "+te.parent,X()),te.percentEntry=L.percentEntry=H/p.getValue(f),te.entry=L.entry=p.getPtLabel(f),oe("percent entry")&&!_&&!L.onPathbar&&(J=p.formatPercent(te.percentEntry,F)+" of "+te.entry,X()),te.percentRoot=L.percentRoot=H/p.getValue(i),te.root=L.root=p.getPtLabel(i),oe("percent root")&&!_&&(J=p.formatPercent(te.percentRoot,F)+" of "+te.root,X()),te.text=O("hovertext")||O("text"),oe("text")&&(J=te.text,x.isValidTextValue(J)&&fe.push(J)),G=[o(L,s,c.eventDataKeys)];var q={trace:s,y:Q,_x0:L._x0,_x1:L._x1,_y0:L._y0,_y1:L._y1,text:fe.join("<br>"),name:V||oe("name")?s.name:void 0,color:O("hoverlabel.bgcolor")||S.color,borderColor:O("hoverlabel.bordercolor"),fontFamily:O("hoverlabel.font.family"),fontSize:O("hoverlabel.font.size"),fontColor:O("hoverlabel.font.color"),fontWeight:O("hoverlabel.font.weight"),fontStyle:O("hoverlabel.font.style"),fontVariant:O("hoverlabel.font.variant"),nameLength:O("hoverlabel.namelength"),textAlign:O("hoverlabel.align"),hovertemplate:V,hovertemplateLabels:te,eventData:G};g&&(q.x0=Y-L.rInscribed*L.rpx1,q.x1=Y+L.rInscribed*L.rpx1,q.idealAlign=L.pxmid[0]<0?"left":"right"),b&&(q.x=Y,q.idealAlign=Y<0?"left":"right");var le=[];C.loneHover(q,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:l,inOut_bbox:le}),G[0].bbox=le[0],h._hasHoverLabel=!0}if(b){var $=u.select("path.surface");c.styleOne($,L,s,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:G||[o(L,s,c.eventDataKeys)],event:d.event})}},R=function(L){var M=l._fullLayout,s=l._fullData[h.index],S=d.select(this).datum();if(h._hasHoverEvent&&(L.originalEvent=d.event,l.emit("plotly_unhover",{points:[o(S,s,c.eventDataKeys)],event:d.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(C.loneUnhover(M._hoverlayer.node()),h._hasHoverLabel=!1),b){var w=u.select("path.surface");c.styleOne(w,S,s,l,{hovered:!1})}},m=function(L){var M=l._fullLayout,s=l._fullData[h.index],S=g&&(p.isHierarchyRoot(L)||p.isLeaf(L)),w=p.getPtId(L),_=p.isEntry(L)?p.findEntryWithChild(i,w):p.findEntryWithLevel(i,w),I=p.getPtId(_),H={points:[o(L,s,c.eventDataKeys)],event:d.event};S||(H.nextLevel=I);var O=v.triggerHandler(l,"plotly_"+h.type+"click",H);if(O!==!1&&M.hovermode&&(l._hoverdata=[o(L,s,c.eventDataKeys)],C.click(l,d.event)),!S&&O!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",s,M._tracePreGUI[s.uid],{level:s.level});var V={data:[{level:I}],traces:[h.index]},B={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(M._hoverlayer.node()),P.call("animate",l,V,B)}};u.on("mouseover",A),u.on("mouseout",R),u.on("click",m)};function o(a,u,f){for(var l=a.data.data,y={curveNumber:u.index,pointNumber:l.i,data:u._input,fullData:u},c=0;c<f.length;c++){var T=f[c];T in a&&(y[T]=a[T])}return"parentString"in a&&!p.isHierarchyRoot(a)&&(y.parent=a.parentString),n(y,u,l.i),y}},78176:function(U,N,e){var d=e(3400),P=e(76308),n=e(93972),C=e(69656);N.findEntryWithLevel=function(r,t){var o;return t&&r.eachAfter(function(a){if(N.getPtId(a)===t)return o=a.copy()}),o||r},N.findEntryWithChild=function(r,t){var o;return r.eachAfter(function(a){for(var u=a.children||[],f=0;f<u.length;f++){var l=u[f];if(N.getPtId(l)===t)return o=a.copy()}}),o||r},N.isEntry=function(r){return!r.parent},N.isLeaf=function(r){return!r.children},N.getPtId=function(r){return r.data.data.id},N.getPtLabel=function(r){return r.data.data.label},N.getValue=function(r){return r.value},N.isHierarchyRoot=function(r){return p(r)===""},N.setSliceCursor=function(r,t,o){var a=o.isTransitioning;if(!a){var u=r.datum();a=o.hideOnRoot&&N.isHierarchyRoot(u)||o.hideOnLeaves&&N.isLeaf(u)}n(r,a?null:"pointer")};function x(r,t,o){return{color:N.getOutsideTextFontKey("color",r,t,o),family:N.getOutsideTextFontKey("family",r,t,o),size:N.getOutsideTextFontKey("size",r,t,o),weight:N.getOutsideTextFontKey("weight",r,t,o),style:N.getOutsideTextFontKey("style",r,t,o),variant:N.getOutsideTextFontKey("variant",r,t,o),textcase:N.getOutsideTextFontKey("textcase",r,t,o),lineposition:N.getOutsideTextFontKey("lineposition",r,t,o),shadow:N.getOutsideTextFontKey("shadow",r,t,o)}}function v(r,t,o,a){var u=(a||{}).onPathbar,f=t.data.data,l=f.i,y=d.castOption(r,l,(u?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=d.castOption(r._input,l,"textfont.color")),{color:y||P.contrast(f.color),family:N.getInsideTextFontKey("family",r,t,o,a),size:N.getInsideTextFontKey("size",r,t,o,a),weight:N.getInsideTextFontKey("weight",r,t,o,a),style:N.getInsideTextFontKey("style",r,t,o,a),variant:N.getInsideTextFontKey("variant",r,t,o,a),textcase:N.getInsideTextFontKey("textcase",r,t,o,a),lineposition:N.getInsideTextFontKey("lineposition",r,t,o,a),shadow:N.getInsideTextFontKey("shadow",r,t,o,a)}}N.getInsideTextFontKey=function(r,t,o,a,u){var f=(u||{}).onPathbar,l=f?"pathbar.textfont":"insidetextfont",y=o.data.data.i;return d.castOption(t,y,l+"."+r)||d.castOption(t,y,"textfont."+r)||a.size},N.getOutsideTextFontKey=function(r,t,o,a){var u=o.data.data.i;return d.castOption(t,u,"outsidetextfont."+r)||d.castOption(t,u,"textfont."+r)||a.size},N.isOutsideText=function(r,t){return!r._hasColorscale&&N.isHierarchyRoot(t)},N.determineTextFont=function(r,t,o,a){return N.isOutsideText(r,t)?x(r,t,o):v(r,t,o,a)},N.hasTransition=function(r){return!!(r&&r.duration>0)},N.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},N.isHeader=function(r,t){return!(N.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}N.getParent=function(r,t){return N.findEntryWithLevel(r,p(t))},N.listPath=function(r,t){var o=r.parent;if(!o)return[];var a=t?[o.data[t]]:[o];return N.listPath(o,t).concat(a)},N.getPath=function(r){return N.listPath(r,"label").join("/")+"/"},N.formatValue=C.formatPieValue,N.formatPercent=function(r,t){var o=d.formatPercent(r,0);return o==="0%"&&(o=C.formatPiePercent(r,t)),o}},5621:function(U,N,e){U.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(U){U.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(U,N,e){var d=e(3400),P=e(84920);U.exports=function(C,x){function v(p,r){return d.coerce(C,x,P,p,r)}v("sunburstcolorway",x.colorway),v("extendsunburstcolors")}},96488:function(U,N,e){var d=e(33428),P=e(74148),n=e(67756).qy,C=e(43616),x=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,o=e(37820),a=e(69656).getRotationAngle,u=o.computeTransform,f=o.transformInsideText,l=e(85676).styleOne,y=e(60100).resizeText,c=e(45716),T=e(27328),h=e(78176);N.plot=function(m,L,M,s){var S=m._fullLayout,w=S._sunburstlayer,_,I,H=!M,O=!S.uniformtext.mode&&h.hasTransition(M);if(t("sunburst",S),_=w.selectAll("g.trace.sunburst").data(L,function(B){return B[0].trace.uid}),_.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),_.order(),O){s&&(I=s());var V=d.transition().duration(M.duration).ease(M.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});V.each(function(){w.selectAll("g.trace").each(function(B){i(m,B,this,M)})})}else _.each(function(B){i(m,B,this,M)}),S.uniformtext.mode&&y(m,S._sunburstlayer.selectAll(".trace"),"sunburst");H&&_.exit().remove()};function i(m,L,M,s){var S=m._context.staticPlot,w=m._fullLayout,_=!w.uniformtext.mode&&h.hasTransition(s),I=d.select(M),H=I.selectAll("g.slice"),O=L[0],V=O.trace,B=O.hierarchy,F=h.findEntryWithLevel(B,V.level),G=h.getMaxDepth(V),Y=w._size,Q=V.domain,te=Y.w*(Q.x[1]-Q.x[0]),ae=Y.h*(Q.y[1]-Q.y[0]),fe=.5*Math.min(te,ae),oe=O.cx=Y.l+Y.w*(Q.x[1]+Q.x[0])/2,J=O.cy=Y.t+Y.h*(1-Q.y[0])-ae/2;if(!F)return H.remove();var ee=null,X={};_&&H.each(function(Ge){X[h.getPtId(Ge)]={rpx0:Ge.rpx0,rpx1:Ge.rpx1,x0:Ge.x0,x1:Ge.x1,transform:Ge.transform},!ee&&h.isEntry(Ge)&&(ee=Ge)});var q=g(F).descendants(),le=F.height+1,$=0,j=G;O.hasMultipleRoots&&h.isHierarchyRoot(F)&&(q=q.slice(1),le-=1,$=1,j+=1),q=q.filter(function(Ge){return Ge.y1<=j});var se=a(V.rotation);se&&q.forEach(function(Ge){Ge.x0+=se,Ge.x1+=se});var ne=Math.min(le,G),he=function(Ge){return(Ge-$)/ne*fe},me=function(Ge,Ze){return[Ge*Math.cos(Ze),-Ge*Math.sin(Ze)]},we=function(Ge){return x.pathAnnulus(Ge.rpx0,Ge.rpx1,Ge.x0,Ge.x1,oe,J)},Te=function(Ge){return oe+A(Ge)[0]*(Ge.transform.rCenter||0)+(Ge.transform.x||0)},Le=function(Ge){return J+A(Ge)[1]*(Ge.transform.rCenter||0)+(Ge.transform.y||0)};H=H.data(q,h.getPtId),H.enter().append("g").classed("slice",!0),_?H.exit().transition().each(function(){var Ge=d.select(this),Ze=Ge.select("path.surface");Ze.transition().attrTween("d",function(Je){var et=_e(Je);return function(ft){return we(et(ft))}});var it=Ge.select("g.slicetext");it.attr("opacity",0)}).remove():H.exit().remove(),H.order();var Ie=null;if(_&&ee){var ze=h.getPtId(ee);H.each(function(Ge){Ie===null&&h.getPtId(Ge)===ze&&(Ie=Ge.x1)})}var Me=H;_&&(Me=Me.transition().each("end",function(){var Ge=d.select(this);h.setSliceCursor(Ge,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Me.each(function(Ge){var Ze=d.select(this),it=x.ensureSingle(Ze,"path","surface",function(xt){xt.style("pointer-events",S?"none":"all")});Ge.rpx0=he(Ge.y0),Ge.rpx1=he(Ge.y1),Ge.xmid=(Ge.x0+Ge.x1)/2,Ge.pxmid=me(Ge.rpx1,Ge.xmid),Ge.midangle=-(Ge.xmid-Math.PI/2),Ge.startangle=-(Ge.x0-Math.PI/2),Ge.stopangle=-(Ge.x1-Math.PI/2),Ge.halfangle=.5*Math.min(x.angleDelta(Ge.x0,Ge.x1)||Math.PI,Math.PI),Ge.ring=1-Ge.rpx0/Ge.rpx1,Ge.rInscribed=b(Ge),_?it.transition().attrTween("d",function(xt){var Mt=Ce(xt);return function(nt){return we(Mt(nt))}}):it.attr("d",we),Ze.call(c,F,m,L,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),it.call(l,Ge,V,m);var Je=x.ensureSingle(Ze,"g","slicetext"),et=x.ensureSingle(Je,"text","",function(xt){xt.attr("data-notex",1)}),ft=x.ensureUniformFontSize(m,h.determineTextFont(V,Ge,w.font));et.text(N.formatSliceLabel(Ge,F,V,L,w)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ft).call(v.convertToTspans,m);var vt=C.bBox(et.node());Ge.transform=f(vt,Ge,O),Ge.transform.targetX=Te(Ge),Ge.transform.targetY=Le(Ge);var dt=function(xt,Mt){var nt=xt.transform;return u(nt,Mt),nt.fontSize=ft.size,r(V.type,nt,w),x.getTextTransform(nt)};_?et.transition().attrTween("transform",function(xt){var Mt=Oe(xt);return function(nt){return dt(Mt(nt),vt)}}):et.attr("transform",dt(Ge,vt))});function _e(Ge){var Ze=h.getPtId(Ge),it=X[Ze],Je=X[h.getPtId(F)],et;if(Je){var ft=(Ge.x1>Je.x1?2*Math.PI:0)+se;et=Ge.rpx1<Je.rpx1?{x0:Ge.x0,x1:Ge.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:Ge.rpx0,rpx1:Ge.rpx1}}else{var vt,dt=h.getPtId(Ge.parent);H.each(function(We){if(h.getPtId(We)===dt)return vt=We});var xt=vt.children,Mt;xt.forEach(function(We,je){if(h.getPtId(We)===Ze)return Mt=je});var nt=xt.length,Fe=n(vt.x0,vt.x1);et={rpx0:fe,rpx1:fe,x0:Fe(Mt/nt),x1:Fe((Mt+1)/nt)}}return n(it,et)}function Ce(Ge){var Ze=X[h.getPtId(Ge)],it,Je={x0:Ge.x0,x1:Ge.x1,rpx0:Ge.rpx0,rpx1:Ge.rpx1};if(Ze)it=Ze;else if(ee)if(Ge.parent)if(Ie){var et=(Ge.x1>Ie?2*Math.PI:0)+se;it={x0:et,x1:et}}else it={rpx0:fe,rpx1:fe},x.extendFlat(it,Pe(Ge));else it={rpx0:0,rpx1:0};else it={x0:se,x1:se};return n(it,Je)}function Oe(Ge){var Ze=X[h.getPtId(Ge)],it,Je=Ge.transform;if(Ze)it=Ze;else if(it={rpx1:Ge.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},ee)if(Ge.parent)if(Ie){var et=Ge.x1>Ie?2*Math.PI:0;it.x0=it.x1=et}else x.extendFlat(it,Pe(Ge));else it.x0=it.x1=se;else it.x0=it.x1=se;var ft=n(it.transform.textPosAngle,Ge.transform.textPosAngle),vt=n(it.rpx1,Ge.rpx1),dt=n(it.x0,Ge.x0),xt=n(it.x1,Ge.x1),Mt=n(it.transform.scale,Je.scale),nt=n(it.transform.rotate,Je.rotate),Fe=Je.rCenter===0?3:it.transform.rCenter===0?1/3:1,We=n(it.transform.rCenter,Je.rCenter),je=function(Ke){return We(Math.pow(Ke,Fe))};return function(Ke){var ke=vt(Ke),Ue=dt(Ke),Ve=xt(Ke),Re=je(Ke),de=me(ke,(Ue+Ve)/2),be=ft(Ke),Ne={pxmid:de,rpx1:ke,transform:{textPosAngle:be,rCenter:Re,x:Je.x,y:Je.y}};return r(V.type,Je,w),{transform:{targetX:Te(Ne),targetY:Le(Ne),scale:Mt(Ke),rotate:nt(Ke),rCenter:Re}}}}function Pe(Ge){var Ze=Ge.parent,it=X[h.getPtId(Ze)],Je={};if(it){var et=Ze.children,ft=et.indexOf(Ge),vt=et.length,dt=n(it.x0,it.x1);Je.x0=dt(ft/vt),Je.x1=dt(ft/vt)}else Je.x0=Je.x1=0;return Je}}function g(m){return P.partition().size([2*Math.PI,m.height+1])(m)}N.formatSliceLabel=function(m,L,M,s,S){var w=M.texttemplate,_=M.textinfo;if(!w&&(!_||_==="none"))return"";var I=S.separators,H=s[0],O=m.data.data,V=H.hierarchy,B=h.isHierarchyRoot(m),F=h.getParent(V,m),G=h.getValue(m);if(!w){var Y=_.split("+"),Q=function($){return Y.indexOf($)!==-1},te=[],ae;if(Q("label")&&O.label&&te.push(O.label),O.hasOwnProperty("v")&&Q("value")&&te.push(h.formatValue(O.v,I)),!B){Q("current path")&&te.push(h.getPath(m.data));var fe=0;Q("percent parent")&&fe++,Q("percent entry")&&fe++,Q("percent root")&&fe++;var oe=fe>1;if(fe){var J,ee=function($){ae=h.formatPercent(J,I),oe&&(ae+=" of "+$),te.push(ae)};Q("percent parent")&&!B&&(J=G/h.getValue(F),ee("parent")),Q("percent entry")&&(J=G/h.getValue(L),ee("entry")),Q("percent root")&&(J=G/h.getValue(V),ee("root"))}}return Q("text")&&(ae=x.castOption(M,O.i,"text"),x.isValidTextValue(ae)&&te.push(ae)),te.join("<br>")}var X=x.castOption(M,O.i,"texttemplate");if(!X)return"";var q={};O.label&&(q.label=O.label),O.hasOwnProperty("v")&&(q.value=O.v,q.valueLabel=h.formatValue(O.v,I)),q.currentPath=h.getPath(m.data),B||(q.percentParent=G/h.getValue(F),q.percentParentLabel=h.formatPercent(q.percentParent,I),q.parent=h.getPtLabel(F)),q.percentEntry=G/h.getValue(L),q.percentEntryLabel=h.formatPercent(q.percentEntry,I),q.entry=h.getPtLabel(L),q.percentRoot=G/h.getValue(V),q.percentRootLabel=h.formatPercent(q.percentRoot,I),q.root=h.getPtLabel(V),O.hasOwnProperty("color")&&(q.color=O.color);var le=x.castOption(M,O.i,"text");return(x.isValidTextValue(le)||le==="")&&(q.text=le),q.customdata=x.castOption(M,O.i,"customdata"),x.texttemplateString(X,q,S._d3locale,q,M._meta||{})};function b(m){return m.rpx0===0&&x.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function A(m){return R(m.rpx1,m.transform.textPosAngle)}function R(m,L){return[m*Math.sin(L),-m*Math.cos(L)]}},85676:function(U,N,e){var d=e(33428),P=e(76308),n=e(3400),C=e(82744).resizeText,x=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(o){var a=d.select(this),u=o[0],f=u.trace;a.style("opacity",f.opacity),a.selectAll("path.surface").each(function(l){d.select(this).call(p,l,f,r)})})}function p(r,t,o,a){var u=t.data.data,f=!t.children,l=u.i,y=n.castOption(o,l,"marker.line.color")||P.defaultLine,c=n.castOption(o,l,"marker.line.width")||0;r.call(x,t,o,a).style("stroke-width",c).call(P.stroke,y).style("opacity",f?o.leaf.opacity:null)}U.exports={style:v,styleOne:p}},16716:function(U,N,e){var d=e(76308),P=e(49084),n=e(29736).axisHoverFormat,C=e(21776).Ks,x=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(a){return{valType:"boolean",dflt:!1}}function t(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:d.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:d.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=U.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},x.hoverinfo),showlegend:v({},x.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},56576:function(U,N,e){var d=e(47128);U.exports=function(n,C){C.surfacecolor?d(n,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):d(n,C,{vals:C.z,containerStr:"",cLetter:"c"})}},79164:function(U,N,e){var d=e(67792).gl_surface3d,P=e(67792).ndarray,n=e(67792).ndarray_linear_interpolate.d2,C=e(70448),x=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function o(s,S,w){this.scene=s,this.uid=w,this.surface=S,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=o.prototype;a.getXat=function(s,S,w,_){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[S][s]:this.data.x[s]:s;return w===void 0?I:_.d2l(I,0,w)},a.getYat=function(s,S,w,_){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[S][s]:this.data.y[S]:S;return w===void 0?I:_.d2l(I,0,w)},a.getZat=function(s,S,w,_){var I=this.data.z[S][s];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[S][s]),w===void 0?I:_.d2l(I,0,w)},a.handlePick=function(s){if(s.object===this.surface){var S=(s.data.index[0]-1)/this.dataScaleX-1,w=(s.data.index[1]-1)/this.dataScaleY-1,_=Math.max(Math.min(Math.round(S),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(w),this.data._ylength-1),0);s.index=[_,I],s.traceCoordinate=[this.getXat(_,I),this.getYat(_,I),this.getZat(_,I)],s.dataCoordinate=[this.getXat(_,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(_,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(_,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var H=0;H<3;H++){var O=s.dataCoordinate[H];O!=null&&(s.dataCoordinate[H]*=this.scene.dataScale[H])}var V=this.data.hovertext||this.data.text;return v(V)&&V[I]&&V[I][_]!==void 0?s.textLabel=V[I][_]:V?s.textLabel=V:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function u(s){var S=s[0].rgb,w=s[s.length-1].rgb;return S[0]===w[0]&&S[1]===w[1]&&S[2]===w[2]&&S[3]===w[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,S){if(s<S)return 0;for(var w=0;Math.floor(s%S)===0;)s/=S,w++;return w}function y(s){for(var S=[],w=0;w<f.length;w++){var _=f[w];S.push(l(s,_))}return S}function c(s){for(var S=y(s),w=s,_=0;_<f.length;_++)if(S[_]>0){w=f[_];break}return w}function T(s,S){if(!(s<1||S<1)){for(var w=y(s),_=y(S),I=1,H=0;H<f.length;H++)I*=Math.pow(f[H],Math.max(w[H],_[H]));return I}}function h(s){if(s.length!==0){for(var S=1,w=0;w<s.length;w++)S=T(S,s[w]);return S}}a.calcXnums=function(s){var S,w=[];for(S=1;S<s;S++){var _=this.getXat(S-1,0),I=this.getXat(S,0);I!==_&&_!==void 0&&_!==null&&I!==void 0&&I!==null?w[S-1]=Math.abs(I-_):w[S-1]=0}var H=0;for(S=1;S<s;S++)H+=w[S-1];for(S=1;S<s;S++)w[S-1]===0?w[S-1]=1:w[S-1]=Math.round(H/w[S-1]);return w},a.calcYnums=function(s){var S,w=[];for(S=1;S<s;S++){var _=this.getYat(0,S-1),I=this.getYat(0,S);I!==_&&_!==void 0&&_!==null&&I!==void 0&&I!==null?w[S-1]=Math.abs(I-_):w[S-1]=0}var H=0;for(S=1;S<s;S++)H+=w[S-1];for(S=1;S<s;S++)w[S-1]===0?w[S-1]=1:w[S-1]=Math.round(H/w[S-1]);return w};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=i[9],b=i[13];a.estimateScale=function(s,S){for(var w=S===0?this.calcXnums(s):this.calcYnums(s),_=1+h(w);_<g;)_*=2;for(;_>b;)_--,_/=c(_),_++,_<g&&(_=b);var I=Math.round(_/s);return I>1?I:1};function A(s,S,w){var _=w[8]+w[2]*S[0]+w[5]*S[1];return s[0]=(w[6]+w[0]*S[0]+w[3]*S[1])/_,s[1]=(w[7]+w[1]*S[0]+w[4]*S[1])/_,s}function R(s,S,w){return m(s,S,A,w),s}function m(s,S,w,_){for(var I=[0,0],H=s.shape[0],O=s.shape[1],V=0;V<H;V++)for(var B=0;B<O;B++)w(I,[V,B],_),s.set(V,B,n(S,I[0],I[1]));return s}a.refineCoords=function(s){for(var S=this.dataScaleX,w=this.dataScaleY,_=s[0].shape[0],I=s[0].shape[1],H=Math.floor(s[0].shape[0]*S+1)|0,O=Math.floor(s[0].shape[1]*w+1)|0,V=1+_+1,B=1+I+1,F=P(new Float32Array(V*B),[V,B]),G=[1/S,0,0,0,1/w,0,0,0,1],Y=0;Y<s.length;++Y){this.surface.padField(F,s[Y]);var Q=P(new Float32Array(H*O),[H,O]);R(Q,F,G),s[Y]=Q}};function L(s,S){for(var w=!1,_=0;_<s.length;_++)if(S===s[_]){w=!0;break}w===!1&&s.push(S)}a.setContourLevels=function(){var s=[[],[],[]],S=[!1,!1,!1],w=!1,_,I,H;for(_=0;_<3;++_)if(this.showContour[_]&&(w=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(S[_]=!0,I=this.contourStart[_];I<this.contourEnd[_];I+=this.contourSize[_])H=I*this.scene.dataScale[_],L(s[_],H);if(w){var O=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(O[_]=S[_]?s[_]:this.scene.contourLevels[_]);this.surface.update({levels:O})}},a.update=function(s){var S=this.scene,w=S.fullSceneLayout,_=this.surface,I=p(s),H=S.dataScale,O=s.z[0].length,V=s._ylength,B=S.contourLevels;this.data=s;var F,G,Y,Q,te=[];for(F=0;F<3;F++)for(te[F]=[],G=0;G<O;G++)te[F][G]=[];for(G=0;G<O;G++)for(Y=0;Y<V;Y++)te[0][G][Y]=this.getXat(G,Y,s.xcalendar,w.xaxis),te[1][G][Y]=this.getYat(G,Y,s.ycalendar,w.yaxis),te[2][G][Y]=this.getZat(G,Y,s.zcalendar,w.zaxis);if(s.connectgaps)for(s._emptypoints=x(te[2]),C(te[2],s._emptypoints),s._interpolatedZ=[],G=0;G<O;G++)for(s._interpolatedZ[G]=[],Y=0;Y<V;Y++)s._interpolatedZ[G][Y]=te[2][G][Y];for(F=0;F<3;F++)for(G=0;G<O;G++)for(Y=0;Y<V;Y++)Q=te[F][G][Y],Q==null?te[F][G][Y]=NaN:Q=te[F][G][Y]*=H[F];for(F=0;F<3;F++)for(G=0;G<O;G++)for(Y=0;Y<V;Y++)Q=te[F][G][Y],Q!=null&&(this.minValues[F]>Q&&(this.minValues[F]=Q),this.maxValues[F]<Q&&(this.maxValues[F]=Q));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(G=0;G<O;G++)for(Y=0;Y<V;Y++)Q=te[F][G][Y],Q!=null&&(te[F][G][Y]-=this.objectOffset[F]);var ae=[P(new Float32Array(O*V),[O,V]),P(new Float32Array(O*V),[O,V]),P(new Float32Array(O*V),[O,V])];for(F=0;F<3;F++)for(G=0;G<O;G++)for(Y=0;Y<V;Y++)ae[F].set(G,Y,te[F][G][Y]);te=[];var fe={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},oe=t(s);if(fe.intensityBounds=[oe.min,oe.max],s.surfacecolor){var J=P(new Float32Array(O*V),[O,V]);for(G=0;G<O;G++)for(Y=0;Y<V;Y++)J.set(G,Y,s.surfacecolor[Y][G]);ae.push(J)}else fe.intensityBounds[0]*=H[2],fe.intensityBounds[1]*=H[2];(b<ae[0].shape[0]||b<ae[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ae[0].shape[0],0),this.dataScaleY=this.estimateScale(ae[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ae)),s.surfacecolor&&(fe.intensity=ae.pop());var ee=[!0,!0,!0],X=["x","y","z"];for(F=0;F<3;++F){var q=s.contours[X[F]];ee[F]=q.highlight,fe.showContour[F]=q.show||q.highlight,fe.showContour[F]&&(fe.contourProject[F]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[F]=!0,fe.levels[F]=B[F],_.highlightColor[F]=fe.contourColor[F]=r(q.color),q.usecolormap?_.highlightTint[F]=fe.contourTint[F]=0:_.highlightTint[F]=fe.contourTint[F]=1,fe.contourWidth[F]=q.width,this.contourStart[F]=q.start,this.contourEnd[F]=q.end,this.contourSize[F]=q.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),q.highlight&&(fe.dynamicColor[F]=r(q.highlightcolor),fe.dynamicWidth[F]=q.highlightwidth))}u(I)&&(fe.vertexColor=!0),fe.objectOffset=this.objectOffset,fe.coords=ae,_.update(fe),_.visible=s.visible,_.enableDynamic=ee,_.enableHighlight=ee,_.snapToData=!0,"lighting"in s&&(_.ambientLight=s.lighting.ambient,_.diffuseLight=s.lighting.diffuse,_.specularLight=s.lighting.specular,_.roughness=s.lighting.roughness,_.fresnel=s.lighting.fresnel),"lightposition"in s&&(_.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function M(s,S){var w=s.glplot.gl,_=d({gl:w}),I=new o(s,_,S.uid);return _._trace=I,I.update(S),s.glplot.add(_),I}U.exports=M},60192:function(U,N,e){var d=e(24040),P=e(3400),n=e(27260),C=e(16716),x=.1;function v(a,u){for(var f=[],l=32,y=0;y<l;y++){var c=y/(l-1),T=u+(1-u)*(1-Math.pow(Math.sin(a*c*Math.PI),2));f.push([c,Math.max(0,Math.min(1,T))])}return f}function p(a){var u=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var f=0;f<a.length;f++){var l=a[f];if(l.length!==2||+l[0]<u)return!1;u=+l[0]}return!0}function r(a,u,f,l){var y,c;function T(s,S){return P.coerce(a,u,C,s,S)}var h=T("x"),i=T("y"),g=T("z");if(!g||!g.length||h&&h.length<1||i&&i.length<1){u.visible=!1;return}u._xlength=Array.isArray(h)&&P.isArrayOrTypedArray(h[0])?g.length:g[0].length,u._ylength=g.length;var b=d.getComponentMethod("calendars","handleTraceDefaults");b(a,u,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){T(s)});var A=T("surfacecolor"),R=["x","y","z"];for(y=0;y<3;++y){var m="contours."+R[y],L=T(m+".show"),M=T(m+".highlight");if(L||M)for(c=0;c<3;++c)T(m+".project."+R[c]);L&&(T(m+".color"),T(m+".width"),T(m+".usecolormap")),M&&(T(m+".highlightcolor"),T(m+".highlightwidth")),T(m+".start"),T(m+".end"),T(m+".size")}A||(o(a,"zmin","cmin"),o(a,"zmax","cmax"),o(a,"zauto","cauto")),n(a,u,l,T,{prefix:"",cLetter:"c"}),t(a,u,l,T),u._length=null}function t(a,u,f,l){var y=l("opacityscale");y==="max"?u.opacityscale=[[0,x],[1,1]]:y==="min"?u.opacityscale=[[0,1],[1,x]]:y==="extremes"?u.opacityscale=v(1,x):p(y)||(u.opacityscale=void 0)}function o(a,u,f){u in a&&!(f in a)&&(a[f]=a[u])}U.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(U,N,e){U.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(U,N,e){var d=e(13916),P=e(92880).extendFlat,n=e(67824).overrideAll,C=e(25376),x=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=U.exports=n({domain:x({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},d.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},d.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},C({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(U,N,e){var d=e(84888)._M,P=e(24752),n="table";N.name=n,N.plot=function(C){var x=d(C.calcdata,n)[0];x.length&&P(C,x)},N.clean=function(C,x,v,p){var r=p._has&&p._has(n),t=x._has&&x._has(n);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(U,N,e){var d=e(71688).wrap;U.exports=function(){return d({})}},23536:function(U){U.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(U,N,e){var d=e(23536),P=e(92880).extendFlat,n=e(38248),C=e(38116).isTypedArray,x=e(38116).isArrayOrTypedArray;U.exports=function(y,c){var T=r(c.cells.values),h=function(Q){return Q.slice(c.header.values.length,Q.length)},i=r(c.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var g=i.concat(h(T).map(function(){return t((i[0]||[""]).length)})),b=c.domain,A=Math.floor(y._fullLayout._size.w*(b.x[1]-b.x[0])),R=Math.floor(y._fullLayout._size.h*(b.y[1]-b.y[0])),m=c.header.values.length?g[0].map(function(){return c.header.height}):[d.emptyHeaderHeight],L=T.length?T[0].map(function(){return c.cells.height}):[],M=m.reduce(p,0),s=R-M,S=s+d.uplift,w=u(L,S),_=u(m,M),I=a(_,[]),H=a(w,I),O={},V=c._fullInput.columnorder;x(V)&&(V=Array.from(V)),V=V.concat(h(T.map(function(Q,te){return te})));var B=g.map(function(Q,te){var ae=x(c.columnwidth)?c.columnwidth[Math.min(te,c.columnwidth.length-1)]:c.columnwidth;return n(ae)?Number(ae):1}),F=B.reduce(p,0);B=B.map(function(Q){return Q/F*A});var G=Math.max(v(c.header.line.width),v(c.cells.line.width)),Y={key:c.uid+y._context.staticPlot,translateX:b.x[0]*y._fullLayout._size.w,translateY:y._fullLayout._size.h*(1-b.y[1]),size:y._fullLayout._size,width:A,maxLineWidth:G,height:R,columnOrder:V,groupHeight:R,rowBlocks:H,headerRowBlocks:I,scrollY:0,cells:P({},c.cells,{values:T}),headerCells:P({},c.header,{values:g}),gdColumns:g.map(function(Q){return Q[0]}),gdColumnsOriginalOrder:g.map(function(Q){return Q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(Q,te){var ae=O[Q];O[Q]=(ae||0)+1;var fe=Q+"__"+O[Q];return{key:fe,label:Q,specIndex:te,xIndex:V[te],xScale:o,x:void 0,calcdata:void 0,columnWidth:B[te]}})};return Y.columns.forEach(function(Q){Q.calcdata=Y,Q.x=o(Q)}),Y};function v(l){if(x(l)){for(var y=0,c=0;c<l.length;c++)y=Math.max(y,v(l[c]));return y}return l}function p(l,y){return l+y}function r(l){var y=l.slice(),c=1/0,T=0,h;for(h=0;h<y.length;h++)C(y[h])?y[h]=Array.from(y[h]):x(y[h])||(y[h]=[y[h]]),c=Math.min(c,y[h].length),T=Math.max(T,y[h].length);if(c!==T)for(h=0;h<y.length;h++){var i=T-y[h].length;i&&(y[h]=y[h].concat(t(i)))}return y}function t(l){for(var y=new Array(l),c=0;c<l;c++)y[c]="";return y}function o(l){return l.calcdata.columns.reduce(function(y,c){return c.xIndex<l.xIndex?y+c.columnWidth:y},0)}function a(l,y){var c=Object.keys(l);return c.map(function(T){return P({},l[T],{auxiliaryBlocks:y})})}function u(l,y){for(var c={},T,h=0,i=0,g=f(),b=0,A=0,R=0;R<l.length;R++)T=l[R],g.rows.push({rowIndex:R,rowHeight:T}),i+=T,(i>=y||R===l.length-1)&&(c[h]=g,g.key=A++,g.firstRowIndex=b,g.lastRowIndex=R,g=f(),h+=i,b=R+1,i=0);return c}function f(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(U,N,e){var d=e(92880).extendFlat;N.splitToPanels=function(n){var C=[0,0],x=d({},n,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:d({},n.calcdata,{cells:n.calcdata.headerCells})}),v=d({},n,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),p=d({},n,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[v,p,x]},N.splitToCells=function(n){var C=P(n);return(n.values||[]).slice(C[0],C[1]).map(function(x,v){var p=typeof x=="string"&&x.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:C[0]+v,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:x}})};function P(n){var C=n.rowBlocks[n.page],x=C?C.rows[0].rowIndex:0,v=C?x+C.rows.length:0;return[x,v]}},53212:function(U,N,e){var d=e(3400),P=e(60520),n=e(86968).Q;function C(x,v){for(var p=x.columnorder||[],r=x.header.values.length,t=p.slice(0,r),o=t.slice().sort(function(f,l){return f-l}),a=t.map(function(f){return o.indexOf(f)}),u=a.length;u<r;u++)a.push(u);v("columnorder",a)}U.exports=function(v,p,r,t){function o(a,u){return d.coerce(v,p,P,a,u)}n(p,t,o),o("columnwidth"),o("header.values"),o("header.format"),o("header.align"),o("header.prefix"),o("header.suffix"),o("header.height"),o("header.line.width"),o("header.line.color"),o("header.fill.color"),d.coerceFont(o,"header.font",t.font),C(p,o),o("cells.values"),o("cells.format"),o("cells.align"),o("cells.prefix"),o("cells.suffix"),o("cells.height"),o("cells.line.width"),o("cells.line.color"),o("cells.fill.color"),d.coerceFont(o,"cells.font",t.font),p._length=null}},41724:function(U,N,e){U.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(U,N,e){var d=e(23536),P=e(33428),n=e(3400),C=n.numberFormat,x=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,o=e(3400).cancelTransition,a=e(55992),u=e(53056),f=e(76308);U.exports=function(se,ne){var he=!se._context.staticPlot,me=se._fullLayout._paper.selectAll("."+d.cn.table).data(ne.map(function(Je){var et=x.unwrap(Je),ft=et.trace;return a(se,ft)}),x.keyFun);me.exit().remove(),me.enter().append("g").classed(d.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(Je){return Je.width+Je.size.l+Je.size.r}).attr("height",function(Je){return Je.height+Je.size.t+Je.size.b}).attr("transform",function(Je){return t(Je.translateX,Je.translateY)});var we=me.selectAll("."+d.cn.tableControlView).data(x.repeat,x.keyFun),Te=we.enter().append("g").classed(d.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Le="onwheel"in document?"wheel":"mousewheel";Te.on("mousemove",function(Je){we.filter(function(et){return Je===et}).call(h,se)}).on(Le,function(Je){if(!Je.scrollbarState.wheeling){Je.scrollbarState.wheeling=!0;var et=Je.scrollY+P.event.deltaY,ft=Q(se,we,null,et)(Je);ft||(P.event.stopPropagation(),P.event.preventDefault()),Je.scrollbarState.wheeling=!1}}).call(h,se,!0)}we.attr("transform",function(Je){return t(Je.size.l,Je.size.t)});var Ie=we.selectAll("."+d.cn.scrollBackground).data(x.repeat,x.keyFun);Ie.enter().append("rect").classed(d.cn.scrollBackground,!0).attr("fill","none"),Ie.attr("width",function(Je){return Je.width}).attr("height",function(Je){return Je.height}),we.each(function(Je){v.setClipUrl(P.select(this),y(se,Je),se)});var ze=we.selectAll("."+d.cn.yColumn).data(function(Je){return Je.columns},x.keyFun);ze.enter().append("g").classed(d.cn.yColumn,!0),ze.exit().remove(),ze.attr("transform",function(Je){return t(Je.x,0)}),he&&ze.call(P.behavior.drag().origin(function(Je){var et=P.select(this);return O(et,Je,-d.uplift),r(this),Je.calcdata.columnDragInProgress=!0,h(we.filter(function(ft){return Je.calcdata.key===ft.key}),se),Je}).on("drag",function(Je){var et=P.select(this),ft=function(xt){return(Je===xt?P.event.x:xt.x)+xt.columnWidth/2};Je.x=Math.max(-d.overdrag,Math.min(Je.calcdata.width+d.overdrag-Je.columnWidth,P.event.x));var vt=T(ze).filter(function(xt){return xt.calcdata.key===Je.calcdata.key}),dt=vt.sort(function(xt,Mt){return ft(xt)-ft(Mt)});dt.forEach(function(xt,Mt){xt.xIndex=Mt,xt.x=Je===xt?xt.x:xt.xScale(xt)}),ze.filter(function(xt){return Je!==xt}).transition().ease(d.transitionEase).duration(d.transitionDuration).attr("transform",function(xt){return t(xt.x,0)}),et.call(o).attr("transform",t(Je.x,-d.uplift))}).on("dragend",function(Je){var et=P.select(this),ft=Je.calcdata;Je.x=Je.xScale(Je),Je.calcdata.columnDragInProgress=!1,O(et,Je,0),I(se,ft,ft.columns.map(function(vt){return vt.xIndex}))})),ze.each(function(Je){v.setClipUrl(P.select(this),c(se,Je),se)});var Me=ze.selectAll("."+d.cn.columnBlock).data(u.splitToPanels,x.keyFun);Me.enter().append("g").classed(d.cn.columnBlock,!0).attr("id",function(Je){return Je.key}),Me.style("cursor",function(Je){return Je.dragHandle?"ew-resize":Je.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var _e=Me.filter(B),Ce=Me.filter(V);he&&Ce.call(P.behavior.drag().origin(function(Je){return P.event.stopPropagation(),Je}).on("drag",Q(se,we,-1)).on("dragend",function(){})),i(se,we,_e,Me),i(se,we,Ce,Me);var Oe=we.selectAll("."+d.cn.scrollAreaClip).data(x.repeat,x.keyFun);Oe.enter().append("clipPath").classed(d.cn.scrollAreaClip,!0).attr("id",function(Je){return y(se,Je)});var Pe=Oe.selectAll("."+d.cn.scrollAreaClipRect).data(x.repeat,x.keyFun);Pe.enter().append("rect").classed(d.cn.scrollAreaClipRect,!0).attr("x",-d.overdrag).attr("y",-d.uplift).attr("fill","none"),Pe.attr("width",function(Je){return Je.width+2*d.overdrag}).attr("height",function(Je){return Je.height+d.uplift});var Ge=ze.selectAll("."+d.cn.columnBoundary).data(x.repeat,x.keyFun);Ge.enter().append("g").classed(d.cn.columnBoundary,!0);var Ze=ze.selectAll("."+d.cn.columnBoundaryClippath).data(x.repeat,x.keyFun);Ze.enter().append("clipPath").classed(d.cn.columnBoundaryClippath,!0),Ze.attr("id",function(Je){return c(se,Je)});var it=Ze.selectAll("."+d.cn.columnBoundaryRect).data(x.repeat,x.keyFun);it.enter().append("rect").classed(d.cn.columnBoundaryRect,!0).attr("fill","none"),it.attr("width",function(Je){return Je.columnWidth+2*l(Je)}).attr("height",function(Je){return Je.calcdata.height+2*l(Je)+d.uplift}).attr("x",function(Je){return-l(Je)}).attr("y",function(Je){return-l(Je)}),Y(null,Ce,we)};function l(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function y(j,se){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function c(j,se){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(j){return[].concat.apply([],j.map(function(se){return se})).map(function(se){return se.__data__})}function h(j,se,ne){function he(ze){var Me=ze.rowBlocks;return ee(Me,Me.length-1)+(Me.length?X(Me[Me.length-1],1/0):1)}var me=j.selectAll("."+d.cn.scrollbarKit).data(x.repeat,x.keyFun);me.enter().append("g").classed(d.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(ze){var Me=ze.scrollbarState;Me.totalHeight=he(ze),Me.scrollableAreaHeight=ze.groupHeight-F(ze),Me.currentlyVisibleHeight=Math.min(Me.totalHeight,Me.scrollableAreaHeight),Me.ratio=Me.currentlyVisibleHeight/Me.totalHeight,Me.barLength=Math.max(Me.ratio*Me.currentlyVisibleHeight,d.goldenRatio*d.scrollbarWidth),Me.barWiggleRoom=Me.currentlyVisibleHeight-Me.barLength,Me.wiggleRoom=Math.max(0,Me.totalHeight-Me.scrollableAreaHeight),Me.topY=Me.barWiggleRoom===0?0:ze.scrollY/Me.wiggleRoom*Me.barWiggleRoom,Me.bottomY=Me.topY+Me.barLength,Me.dragMultiplier=Me.wiggleRoom/Me.barWiggleRoom}).attr("transform",function(ze){var Me=ze.width+d.scrollbarWidth/2+d.scrollbarOffset;return t(Me,F(ze))});var we=me.selectAll("."+d.cn.scrollbar).data(x.repeat,x.keyFun);we.enter().append("g").classed(d.cn.scrollbar,!0);var Te=we.selectAll("."+d.cn.scrollbarSlider).data(x.repeat,x.keyFun);Te.enter().append("g").classed(d.cn.scrollbarSlider,!0),Te.attr("transform",function(ze){return t(0,ze.scrollbarState.topY||0)});var Le=Te.selectAll("."+d.cn.scrollbarGlyph).data(x.repeat,x.keyFun);Le.enter().append("line").classed(d.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",d.scrollbarWidth).attr("stroke-linecap","round").attr("y1",d.scrollbarWidth/2),Le.attr("y2",function(ze){return ze.scrollbarState.barLength-d.scrollbarWidth/2}).attr("stroke-opacity",function(ze){return ze.columnDragInProgress||!ze.scrollbarState.barWiggleRoom||ne?0:.4}),Le.transition().delay(0).duration(0),Le.transition().delay(d.scrollbarHideDelay).duration(d.scrollbarHideDuration).attr("stroke-opacity",0);var Ie=we.selectAll("."+d.cn.scrollbarCaptureZone).data(x.repeat,x.keyFun);Ie.enter().append("line").classed(d.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",d.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ze){var Me=P.event.y,_e=this.getBoundingClientRect(),Ce=ze.scrollbarState,Oe=Me-_e.top,Pe=P.scale.linear().domain([0,Ce.scrollableAreaHeight]).range([0,Ce.totalHeight]).clamp(!0);Ce.topY<=Oe&&Oe<=Ce.bottomY||Q(se,j,null,Pe(Oe-Ce.barLength/2))(ze)}).call(P.behavior.drag().origin(function(ze){return P.event.stopPropagation(),ze.scrollbarState.scrollbarScrollInProgress=!0,ze}).on("drag",Q(se,j)).on("dragend",function(){})),Ie.attr("y2",function(ze){return ze.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(Le.remove(),Ie.remove())}function i(j,se,ne,he){var me=g(ne),we=b(me);L(we);var Te=A(we);s(Te);var Le=m(we),Ie=R(Le);M(Ie),S(Ie,se,he,j),J(we)}function g(j){var se=j.selectAll("."+d.cn.columnCells).data(x.repeat,x.keyFun);return se.enter().append("g").classed(d.cn.columnCells,!0),se.exit().remove(),se}function b(j){var se=j.selectAll("."+d.cn.columnCell).data(u.splitToCells,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(d.cn.columnCell,!0),se.exit().remove(),se}function A(j){var se=j.selectAll("."+d.cn.cellRect).data(x.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("rect").classed(d.cn.cellRect,!0),se}function R(j){var se=j.selectAll("."+d.cn.cellText).data(x.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("text").classed(d.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function m(j){var se=j.selectAll("."+d.cn.cellTextHolder).data(x.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(d.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function L(j){j.each(function(se,ne){var he=se.calcdata.cells.font,me=se.column.specIndex,we={size:H(he.size,me,ne),color:H(he.color,me,ne),family:H(he.family,me,ne),weight:H(he.weight,me,ne),style:H(he.style,me,ne),variant:H(he.variant,me,ne),textcase:H(he.textcase,me,ne),lineposition:H(he.lineposition,me,ne),shadow:H(he.shadow,me,ne)};se.rowNumber=se.key,se.align=H(se.calcdata.cells.align,me,ne),se.cellBorderWidth=H(se.calcdata.cells.line.width,me,ne),se.font=we})}function M(j){j.each(function(se){v.font(P.select(this),se.font)})}function s(j){j.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ne=P.select(this);f.stroke(ne,H(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),f.fill(ne,H(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function S(j,se,ne,he){j.text(function(me){var we=me.column.specIndex,Te=me.rowNumber,Le=me.value,Ie=typeof Le=="string",ze=Ie&&Le.match(/<br>/i),Me=!Ie||ze;me.mayHaveMarkup=Ie&&Le.match(/[<&>]/);var _e=w(Le);me.latex=_e;var Ce=_e?"":H(me.calcdata.cells.prefix,we,Te)||"",Oe=_e?"":H(me.calcdata.cells.suffix,we,Te)||"",Pe=_e?null:H(me.calcdata.cells.format,we,Te)||null,Ge=Ce+(Pe?C(Pe)(me.value):me.value)+Oe,Ze;me.wrappingNeeded=!me.wrapped&&!Me&&!_e&&(Ze=_(Ge)),me.cellHeightMayIncrease=ze||_e||me.mayHaveMarkup||(Ze===void 0?_(Ge):Ze),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var it;if(me.wrappingNeeded){var Je=d.wrapSplitCharacter===" "?Ge.replace(/<a href=/ig,"<a_href="):Ge,et=Je.split(d.wrapSplitCharacter),ft=d.wrapSplitCharacter===" "?et.map(function(vt){return vt.replace(/<a_href=/ig,"<a href=")}):et;me.fragments=ft.map(function(vt){return{text:vt,width:null}}),me.fragments.push({fragment:d.wrapSpacer,width:null}),it=ft.join(d.lineBreaker)+d.lineBreaker+d.wrapSpacer}else delete me.fragments,it=Ge;return it}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var we=this,Te=P.select(we),Le=me.wrappingNeeded?ae:fe;me.needsConvertToTspans?p.convertToTspans(Te,he,Le(ne,we,se,he,me)):P.select(we.parentNode).attr("transform",function(Ie){return t(oe(Ie),d.cellPad)}).attr("text-anchor",function(Ie){return{left:"start",center:"middle",right:"end"}[Ie.align]})})}function w(j){return typeof j=="string"&&j.match(d.latexCheck)}function _(j){return j.indexOf(d.wrapSplitCharacter)!==-1}function I(j,se,ne){var he=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(me,we){return ne[he.indexOf(me)]-ne[he.indexOf(we)]}),se.columnorder=ne,j.emit("plotly_restyle")}function H(j,se,ne){if(n.isArrayOrTypedArray(j)){var he=j[Math.min(se,j.length-1)];return n.isArrayOrTypedArray(he)?he[Math.min(ne,he.length-1)]:he}else return j}function O(j,se,ne){j.transition().ease(d.releaseTransitionEase).duration(d.releaseTransitionDuration).attr("transform",t(se.x,ne))}function V(j){return j.type==="cells"}function B(j){return j.type==="header"}function F(j){var se=j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ne,he){return ne+X(he,1/0)},0)}function G(j,se,ne){for(var he=[],me=0,we=0;we<j.length;we++){for(var Te=j[we],Le=Te.rows,Ie=0,ze=0;ze<Le.length;ze++)Ie+=Le[ze].rowHeight;Te.allRowsHeight=Ie;var Me=me+Ie,_e=se,Ce=_e+ne;_e<Me&&Ce>me&&he.push(we),me+=Ie}return he}function Y(j,se,ne){var he=T(se)[0];if(he!==void 0){var me=he.rowBlocks,we=he.calcdata,Te=ee(me,me.length),Le=he.calcdata.groupHeight-F(he),Ie=we.scrollY=Math.max(0,Math.min(Te-Le,we.scrollY)),ze=G(me,Ie,Le);ze.length===1&&(ze[0]===me.length-1?ze.unshift(ze[0]-1):ze.push(ze[0]+1)),ze[0]%2&&ze.reverse(),se.each(function(Me,_e){Me.page=ze[_e],Me.scrollY=Ie}),se.attr("transform",function(Me){var _e=ee(Me.rowBlocks,Me.page)-Me.scrollY;return t(0,_e)}),j&&(te(j,ne,se,ze,he.prevPages,he,0),te(j,ne,se,ze,he.prevPages,he,1),h(ne,j))}}function Q(j,se,ne,he){return function(we){var Te=we.calcdata?we.calcdata:we,Le=se.filter(function(_e){return Te.key===_e.key}),Ie=ne||Te.scrollbarState.dragMultiplier,ze=Te.scrollY;Te.scrollY=he===void 0?Te.scrollY+Ie*P.event.dy:he;var Me=Le.selectAll("."+d.cn.yColumn).selectAll("."+d.cn.columnBlock).filter(V);return Y(j,Me,Le),Te.scrollY===ze}}function te(j,se,ne,he,me,we,Te){var Le=he[Te]!==me[Te];Le&&(clearTimeout(we.currentRepaint[Te]),we.currentRepaint[Te]=setTimeout(function(){var Ie=ne.filter(function(ze,Me){return Me===Te&&he[Me]!==me[Me]});i(j,se,Ie,ne),me[Te]=he[Te]}))}function ae(j,se,ne,he){return function(){var we=P.select(se.parentNode);we.each(function(Te){var Le=Te.fragments;we.selectAll("tspan.line").each(function(Ge,Ze){Le[Ze].width=this.getComputedTextLength()});var Ie=Le[Le.length-1].width,ze=Le.slice(0,-1),Me=[],_e,Ce,Oe=0,Pe=Te.column.columnWidth-2*d.cellPad;for(Te.value="";ze.length;)_e=ze.shift(),Ce=_e.width+Ie,Oe+Ce>Pe&&(Te.value+=Me.join(d.wrapSpacer)+d.lineBreaker,Me=[],Oe=0),Me.push(_e.text),Oe+=Ce;Oe&&(Te.value+=Me.join(d.wrapSpacer)),Te.wrapped=!0}),we.selectAll("tspan.line").remove(),S(we.select("."+d.cn.cellText),ne,j,he),P.select(se.parentNode.parentNode).call(J)}}function fe(j,se,ne,he,me){return function(){if(!me.settledY){var Te=P.select(se.parentNode),Le=le(me),Ie=me.key-Le.firstRowIndex,ze=Le.rows[Ie].rowHeight,Me=me.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*d.cellPad:ze,_e=Math.max(Me,ze),Ce=_e-Le.rows[Ie].rowHeight;Ce&&(Le.rows[Ie].rowHeight=_e,j.selectAll("."+d.cn.columnCell).call(J),Y(null,j.filter(V),0),h(ne,he,!0)),Te.attr("transform",function(){var Oe=this,Pe=Oe.parentNode,Ge=Pe.getBoundingClientRect(),Ze=P.select(Oe.parentNode).select("."+d.cn.cellRect).node().getBoundingClientRect(),it=Oe.transform.baseVal.consolidate(),Je=Ze.top-Ge.top+(it?it.matrix.f:d.cellPad);return t(oe(me,P.select(Oe.parentNode).select("."+d.cn.cellTextHolder).node().getBoundingClientRect().width),Je)}),me.settledY=!0}}}function oe(j,se){switch(j.align){case"left":return d.cellPad;case"right":return j.column.columnWidth-(se||0)-d.cellPad;case"center":return(j.column.columnWidth-(se||0))/2;default:return d.cellPad}}function J(j){j.attr("transform",function(se){var ne=se.rowBlocks[0].auxiliaryBlocks.reduce(function(Te,Le){return Te+X(Le,1/0)},0),he=le(se),me=X(he,se.key),we=me+ne;return t(0,we)}).selectAll("."+d.cn.cellRect).attr("height",function(se){return $(le(se),se.key).rowHeight})}function ee(j,se){for(var ne=0,he=se-1;he>=0;he--)ne+=q(j[he]);return ne}function X(j,se){for(var ne=0,he=0;he<j.rows.length&&j.rows[he].rowIndex<se;he++)ne+=j.rows[he].rowHeight;return ne}function q(j){var se=j.allRowsHeight;if(se!==void 0)return se;for(var ne=0,he=0;he<j.rows.length;he++)ne+=j.rows[he].rowHeight;return j.allRowsHeight=ne,ne}function le(j){return j.rowBlocks[j.page]}function $(j,se){return j.rows[se-j.firstRowIndex]}},40516:function(U,N,e){var d=e(21776).Ks,P=e(21776).Gw,n=e(49084),C=e(86968).u,x=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;U.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},x.textfont,{}),editType:"calc"},text:x.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:x.hovertext,hoverinfo:v.hoverinfo,hovertemplate:d({},{keys:p.eventDataKeys}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:r({},x.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:x.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},79516:function(U,N,e){var d=e(7316);N.name="treemap",N.plot=function(P,n,C,x){d.plotBasePlot(N.name,P,n,C,x)},N.clean=function(P,n,C,x){d.cleanBasePlot(N.name,P,n,C,x)}},97840:function(U,N,e){var d=e(3776);N.r=function(P,n){return d.calc(P,n)},N.q=function(P){return d._runCrossTraceCalc("treemap",P)}},32984:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(U,N,e){var d=e(3400),P=e(40516),n=e(76308),C=e(86968).Q,x=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,o=r.handleDefaults;U.exports=function(u,f,l,y){function c(s,S){return d.coerce(u,f,P,s,S)}var T=c("labels"),h=c("parents");if(!T||!T.length||!h||!h.length){f.visible=!1;return}var i=c("values");i&&i.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var g=c("tiling.packing");g==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var b=c("text");c("texttemplate"),f.texttemplate||c("textinfo",d.isArrayOrTypedArray(b)?"text+label":"label"),c("hovertext"),c("hovertemplate");var A=c("pathbar.visible"),R="auto";x(u,f,y,c,R,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var m=f.textposition.indexOf("bottom")!==-1;p(u,f,y,c);var L=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;L?o(u,f,y,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(f.marker.colors||[]).length);var M=f.textfont.size*2;c("marker.pad.t",m?M/4:M),c("marker.pad.l",M/4),c("marker.pad.r",M/4),c("marker.pad.b",m?M:M/4),c("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:n.contrast(y.paper_bgcolor)}}},A&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(f,y,c),f._length=null}},95808:function(U,N,e){var d=e(33428),P=e(78176),n=e(82744),C=n.clearMinTextSize,x=e(60100).resizeText,v=e(52960);U.exports=function(r,t,o,a,u){var f=u.type,l=u.drawDescendants,y=r._fullLayout,c=y["_"+f+"layer"],T,h,i=!o;if(C(f,y),T=c.selectAll("g.trace."+f).data(t,function(b){return b[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(f,!0),T.order(),!y.uniformtext.mode&&P.hasTransition(o)){a&&(h=a());var g=d.transition().duration(o.duration).ease(o.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});g.each(function(){c.selectAll("g.trace").each(function(b){v(r,b,this,o,l)})})}else T.each(function(b){v(r,b,this,o,l)}),y.uniformtext.mode&&x(r,c.selectAll(".trace"),f);i&&T.exit().remove()}},27336:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(72736),x=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=!0;U.exports=function(u,f,l,y,c){var T=c.barDifY,h=c.width,i=c.height,g=c.viewX,b=c.viewY,A=c.pathSlice,R=c.toMoveInsideSlice,m=c.strTransform,L=c.hasTransition,M=c.handleSlicesExit,s=c.makeUpdateSliceInterpolator,S=c.makeUpdateTextInterpolator,w={},_=u._context.staticPlot,I=u._fullLayout,H=f[0],O=H.trace,V=H.hierarchy,B=h/O._entryDepth,F=r.listPath(l.data,"id"),G=x(V.copy(),[h,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();G=G.filter(function(Q){var te=F.indexOf(Q.data.id);return te===-1?!1:(Q.x0=B*te,Q.x1=B*(te+1),Q.y0=T,Q.y1=T+i,Q.onPathbar=!0,!0)}),G.reverse(),y=y.data(G,r.getPtId),y.enter().append("g").classed("pathbar",!0),M(y,o,w,[h,i],A),y.order();var Y=y;L&&(Y=Y.transition().each("end",function(){var Q=d.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(Q){Q._x0=g(Q.x0),Q._x1=g(Q.x1),Q._y0=b(Q.y0),Q._y1=b(Q.y1),Q._hoverX=g(Q.x1-Math.min(h,i)/2),Q._hoverY=b(Q.y1-i/2);var te=d.select(this),ae=P.ensureSingle(te,"path","surface",function(ee){ee.style("pointer-events",_?"none":"all")});L?ae.transition().attrTween("d",function(ee){var X=s(ee,o,w,[h,i]);return function(q){return A(X(q))}}):ae.attr("d",A),te.call(t,l,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),ae.call(v,Q,O,u,{hovered:!1}),Q._text=(r.getPtLabel(Q)||"").split("<br>").join(" ")||"";var fe=P.ensureSingle(te,"g","slicetext"),oe=P.ensureSingle(fe,"text","",function(ee){ee.attr("data-notex",1)}),J=P.ensureUniformFontSize(u,r.determineTextFont(O,Q,I.font,{onPathbar:!0}));oe.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,J).call(C.convertToTspans,u),Q.textBB=n.bBox(oe.node()),Q.transform=R(Q,{fontSize:J.size,onPathbar:!0}),Q.transform.fontSize=J.size,L?oe.transition().attrTween("transform",function(ee){var X=S(ee,o,w,[h,i]);return function(q){return m(X(q))}}):oe.attr("transform",m(Q))})}},76477:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(72736),x=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=e(96488).formatSliceLabel,a=!1;U.exports=function(f,l,y,c,T){var h=T.width,i=T.height,g=T.viewX,b=T.viewY,A=T.pathSlice,R=T.toMoveInsideSlice,m=T.strTransform,L=T.hasTransition,M=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,S=T.makeUpdateTextInterpolator,w=T.prevEntry,_={},I=f._context.staticPlot,H=f._fullLayout,O=l[0],V=O.trace,B=V.textposition.indexOf("left")!==-1,F=V.textposition.indexOf("right")!==-1,G=V.textposition.indexOf("bottom")!==-1,Y=!G&&!V.marker.pad.t||G&&!V.marker.pad.b,Q=x(y,[h,i],{packing:V.tiling.packing,squarifyratio:V.tiling.squarifyratio,flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1,pad:{inner:V.tiling.pad,top:V.marker.pad.t,left:V.marker.pad.l,right:V.marker.pad.r,bottom:V.marker.pad.b}}),te=Q.descendants(),ae=1/0,fe=-1/0;te.forEach(function(q){var le=q.depth;le>=V._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(ae=Math.min(ae,le),fe=Math.max(fe,le))}),c=c.data(te,r.getPtId),V._maxVisibleLayers=isFinite(fe)?fe-ae+1:0,c.enter().append("g").classed("slice",!0),M(c,a,_,[h,i],A),c.order();var oe=null;if(L&&w){var J=r.getPtId(w);c.each(function(q){oe===null&&r.getPtId(q)===J&&(oe={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var ee=function(){return oe||{x0:0,x1:h,y0:0,y1:i}},X=c;return L&&(X=X.transition().each("end",function(){var q=d.select(this);r.setSliceCursor(q,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(q){var le=r.isHeader(q,V);q._x0=g(q.x0),q._x1=g(q.x1),q._y0=b(q.y0),q._y1=b(q.y1),q._hoverX=g(q.x1-V.marker.pad.r),q._hoverY=b(G?q.y1-V.marker.pad.b/2:q.y0+V.marker.pad.t/2);var $=d.select(this),j=P.ensureSingle($,"path","surface",function(Te){Te.style("pointer-events",I?"none":"all")});L?j.transition().attrTween("d",function(Te){var Le=s(Te,a,ee(),[h,i]);return function(Ie){return A(Le(Ie))}}):j.attr("d",A),$.call(t,y,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),j.call(v,q,V,f,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":le?q._text=Y?"":r.getPtLabel(q)||"":q._text=o(q,y,V,l,H)||"";var se=P.ensureSingle($,"g","slicetext"),ne=P.ensureSingle(se,"text","",function(Te){Te.attr("data-notex",1)}),he=P.ensureUniformFontSize(f,r.determineTextFont(V,q,H.font)),me=q._text||" ",we=le&&me.indexOf("<br>")===-1;ne.text(me).classed("slicetext",!0).attr("text-anchor",F?"end":B||we?"start":"middle").call(n.font,he).call(C.convertToTspans,f),q.textBB=n.bBox(ne.node()),q.transform=R(q,{fontSize:he.size,isHeader:le}),q.transform.fontSize=he.size,L?ne.transition().attrTween("transform",function(Te){var Le=S(Te,a,ee(),[h,i]);return function(Ie){return m(Le(Ie))}}):ne.attr("transform",m(q))}),oe}},83024:function(U){U.exports=function N(e,d,P){var n;P.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),P.flipX&&(n=e.x0,e.x0=d[0]-e.x1,e.x1=d[0]-n),P.flipY&&(n=e.y0,e.y0=d[1]-e.y1,e.y1=d[1]-n);var C=e.children;if(C)for(var x=0;x<C.length;x++)N(C[x],d,P)}},31991:function(U,N,e){U.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(U){U.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(U,N,e){var d=e(3400),P=e(45392);U.exports=function(C,x){function v(p,r){return d.coerce(C,x,P,p,r)}v("treemapcolorway",x.colorway),v("extendtreemapcolors")}},13832:function(U,N,e){var d=e(74148),P=e(83024);U.exports=function(x,v,p){var r=p.flipX,t=p.flipY,o=p.packing==="dice-slice",a=p.pad[t?"bottom":"top"],u=p.pad[r?"right":"left"],f=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],y;o&&(y=u,u=a,a=y,y=f,f=l,l=y);var c=d.treemap().tile(n(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(a).paddingBottom(l).size(o?[v[1],v[0]]:v)(x);return(o||r||t)&&P(c,v,{swapXY:o,flipX:r,flipY:t}),c};function n(C,x){switch(C){case"squarify":return d.treemapSquarify.ratio(x);case"binary":return d.treemapBinary;case"dice":return d.treemapDice;case"slice":return d.treemapSlice;default:return d.treemapSliceDice}}},53264:function(U,N,e){var d=e(95808),P=e(76477);U.exports=function(C,x,v,p){return d(C,x,v,p,{type:"treemap",drawDescendants:P})}},52960:function(U,N,e){var d=e(33428),P=e(67756).qy,n=e(78176),C=e(3400),x=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,o=e(32984),a=e(27336);function u(f){return n.isHierarchyRoot(f)?"":n.getPtId(f)}U.exports=function(l,y,c,T,h){var i=l._fullLayout,g=y[0],b=g.trace,A=b.type,R=A==="icicle",m=g.hierarchy,L=n.findEntryWithLevel(m,b.level),M=d.select(c),s=M.selectAll("g.pathbar"),S=M.selectAll("g.slice");if(!L){s.remove(),S.remove();return}var w=n.isHierarchyRoot(L),_=!i.uniformtext.mode&&n.hasTransition(T),I=n.getMaxDepth(b),H=function(Fe){return Fe.data.depth-L.data.depth<I},O=i._size,V=b.domain,B=O.w*(V.x[1]-V.x[0]),F=O.h*(V.y[1]-V.y[0]),G=B,Y=b.pathbar.thickness,Q=b.marker.line.width+o.gapWithPathbar,te=b.pathbar.visible?b.pathbar.side.indexOf("bottom")>-1?F+Q:-(Y+Q):0,ae={x0:G,x1:G,y0:te,y1:te+Y},fe=function(Fe,We,je){var Ke=b.tiling.pad,ke=function(de){return de-Ke<=We.x0},Ue=function(de){return de+Ke>=We.x1},Ve=function(de){return de-Ke<=We.y0},Re=function(de){return de+Ke>=We.y1};return Fe.x0===We.x0&&Fe.x1===We.x1&&Fe.y0===We.y0&&Fe.y1===We.y1?{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1}:{x0:ke(Fe.x0-Ke)?0:Ue(Fe.x0-Ke)?je[0]:Fe.x0,x1:ke(Fe.x1+Ke)?0:Ue(Fe.x1+Ke)?je[0]:Fe.x1,y0:Ve(Fe.y0-Ke)?0:Re(Fe.y0-Ke)?je[1]:Fe.y0,y1:Ve(Fe.y1+Ke)?0:Re(Fe.y1+Ke)?je[1]:Fe.y1}},oe=null,J={},ee={},X=null,q=function(Fe,We){return We?J[u(Fe)]:ee[u(Fe)]},le=function(Fe,We,je,Ke){if(We)return J[u(m)]||ae;var ke=ee[b.level]||je;return H(Fe)?fe(Fe,ke,Ke):{}};g.hasMultipleRoots&&w&&I++,b._maxDepth=I,b._backgroundColor=i.paper_bgcolor,b._entryDepth=L.data.depth,b._atRootLevel=w;var $=-B/2+O.l+O.w*(V.x[1]+V.x[0])/2,j=-F/2+O.t+O.h*(1-(V.y[1]+V.y[0])/2),se=function(Fe){return $+Fe},ne=function(Fe){return j+Fe},he=ne(0),me=se(0),we=function(Fe){return me+Fe},Te=function(Fe){return he+Fe};function Le(Fe,We){return Fe+","+We}var Ie=we(0),ze=function(Fe){Fe.x=Math.max(Ie,Fe.x)},Me=b.pathbar.edgeshape,_e=function(Fe){var We=we(Math.max(Math.min(Fe.x0,Fe.x0),0)),je=we(Math.min(Math.max(Fe.x1,Fe.x1),G)),Ke=Te(Fe.y0),ke=Te(Fe.y1),Ue=Y/2,Ve={},Re={};Ve.x=We,Re.x=je,Ve.y=Re.y=(Ke+ke)/2;var de={x:We,y:Ke},be={x:je,y:Ke},Ne={x:je,y:ke},Ye={x:We,y:ke};return Me===">"?(de.x-=Ue,be.x-=Ue,Ne.x-=Ue,Ye.x-=Ue):Me==="/"?(Ne.x-=Ue,Ye.x-=Ue,Ve.x-=Ue/2,Re.x-=Ue/2):Me==="\\"?(de.x-=Ue,be.x-=Ue,Ve.x-=Ue/2,Re.x-=Ue/2):Me==="<"&&(Ve.x-=Ue,Re.x-=Ue),ze(de),ze(Ye),ze(Ve),ze(be),ze(Ne),ze(Re),"M"+Le(de.x,de.y)+"L"+Le(be.x,be.y)+"L"+Le(Re.x,Re.y)+"L"+Le(Ne.x,Ne.y)+"L"+Le(Ye.x,Ye.y)+"L"+Le(Ve.x,Ve.y)+"Z"},Ce=b[R?"tiling":"marker"].pad,Oe=function(Fe){return b.textposition.indexOf(Fe)!==-1},Pe=Oe("top"),Ge=Oe("left"),Ze=Oe("right"),it=Oe("bottom"),Je=function(Fe){var We=se(Fe.x0),je=se(Fe.x1),Ke=ne(Fe.y0),ke=ne(Fe.y1),Ue=je-We,Ve=ke-Ke;if(!Ue||!Ve)return"";var Re=b.marker.cornerradius||0,de=Math.min(Re,Ue/2,Ve/2);de&&Fe.data&&Fe.data.data&&Fe.data.data.label&&(Pe&&(de=Math.min(de,Ce.t)),Ge&&(de=Math.min(de,Ce.l)),Ze&&(de=Math.min(de,Ce.r)),it&&(de=Math.min(de,Ce.b)));var be=function(Ne,Ye){return de?"a"+Le(de,de)+" 0 0 1 "+Le(Ne,Ye):""};return"M"+Le(We,Ke+de)+be(de,-de)+"L"+Le(je-de,Ke)+be(de,de)+"L"+Le(je,ke-de)+be(-de,de)+"L"+Le(We+de,ke)+be(-de,-de)+"Z"},et=function(Fe,We){var je=Fe.x0,Ke=Fe.x1,ke=Fe.y0,Ue=Fe.y1,Ve=Fe.textBB,Re=Pe||We.isHeader&&!it,de=Re?"start":it?"end":"middle",be=Oe("right"),Ne=Oe("left")||We.onPathbar,Ye=Ne?-1:be?1:0;if(We.isHeader){if(je+=(R?Ce:Ce.l)-x,Ke-=(R?Ce:Ce.r)-x,je>=Ke){var at=(je+Ke)/2;je=at,Ke=at}var lt;it?(lt=Ue-(R?Ce:Ce.b),ke<lt&&lt<Ue&&(ke=lt)):(lt=ke+(R?Ce:Ce.t),ke<lt&&lt<Ue&&(Ue=lt))}var Ht=p(je,Ke,ke,Ue,Ve,{isHorizontal:!1,constrained:!0,angle:0,anchor:de,leftToRight:Ye});return Ht.fontSize=We.fontSize,Ht.targetX=se(Ht.targetX),Ht.targetY=ne(Ht.targetY),isNaN(Ht.targetX)||isNaN(Ht.targetY)?{}:(je!==Ke&&ke!==Ue&&t(b.type,Ht,i),{scale:Ht.scale,rotate:Ht.rotate,textX:Ht.textX,textY:Ht.textY,anchorX:Ht.anchorX,anchorY:Ht.anchorY,targetX:Ht.targetX,targetY:Ht.targetY})},ft=function(Fe,We){for(var je,Ke=0,ke=Fe;!je&&Ke<I;)Ke++,ke=ke.parent,ke?je=q(ke,We):Ke=I;return je||{}},vt=function(Fe,We,je,Ke){var ke=q(Fe,We),Ue;if(We)Ue=ae;else{var Ve=q(L,We);Ve?Ue=fe(Fe,Ve,Ke):Ue={}}return P(ke,Ue)},dt=function(Fe,We,je,Ke,ke){var Ue=q(Fe,We),Ve;if(Ue)Ve=Ue;else if(We)Ve=ae;else if(oe)if(Fe.parent){var Re=X||je;Re&&!We?Ve=fe(Fe,Re,Ke):(Ve={},C.extendFlat(Ve,ft(Fe,We)))}else Ve=C.extendFlat({},Fe),R&&(ke.orientation==="h"?ke.flipX?Ve.x0=Fe.x1:Ve.x1=0:ke.flipY?Ve.y0=Fe.y1:Ve.y1=0);else Ve={};return P(Ve,{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1})},xt=function(Fe,We,je,Ke){var ke=q(Fe,We),Ue={},Ve=le(Fe,We,je,Ke);C.extendFlat(Ue,{transform:et({x0:Ve.x0,x1:Ve.x1,y0:Ve.y0,y1:Ve.y1,textBB:Fe.textBB,_text:Fe._text},{isHeader:n.isHeader(Fe,b)})}),ke?Ue=ke:Fe.parent&&C.extendFlat(Ue,ft(Fe,We));var Re=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&t(b.type,Re,i),P(Ue,{transform:{scale:Re.scale,rotate:Re.rotate,textX:Re.textX,textY:Re.textY,anchorX:Re.anchorX,anchorY:Re.anchorY,targetX:Re.targetX,targetY:Re.targetY}})},Mt=function(Fe,We,je,Ke,ke){var Ue=Ke[0],Ve=Ke[1];_?Fe.exit().transition().each(function(){var Re=d.select(this),de=Re.select("path.surface");de.transition().attrTween("d",function(Ne){var Ye=vt(Ne,We,je,[Ue,Ve]);return function(at){return ke(Ye(at))}});var be=Re.select("g.slicetext");be.attr("opacity",0)}).remove():Fe.exit().remove()},nt=function(Fe){var We=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&t(b.type,We,i),C.getTextTransform({textX:We.textX,textY:We.textY,anchorX:We.anchorX,anchorY:We.anchorY,targetX:We.targetX,targetY:We.targetY,scale:We.scale,rotate:We.rotate})};_&&(s.each(function(Fe){J[u(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(J[u(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate})}),S.each(function(Fe){ee[u(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(ee[u(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate}),!oe&&n.isEntry(Fe)&&(oe=Fe)})),X=h(l,y,L,S,{width:B,height:F,viewX:se,viewY:ne,pathSlice:Je,toMoveInsideSlice:et,prevEntry:oe,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:_,strTransform:nt}),b.pathbar.visible?a(l,y,L,s,{barDifY:te,width:G,height:Y,viewX:we,viewY:Te,pathSlice:_e,toMoveInsideSlice:et,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:_,strTransform:nt}):s.remove()}},66192:function(U,N,e){var d=e(33428),P=e(76308),n=e(3400),C=e(78176),x=e(82744).resizeText,v=e(60404);function p(t){var o=t._fullLayout._treemaplayer.selectAll(".trace");x(t,o,"treemap"),o.each(function(a){var u=d.select(this),f=a[0],l=f.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(y){d.select(this).call(r,y,l,t,{hovered:!1})})})}function r(t,o,a,u,f){var l=(f||{}).hovered,y=o.data.data,c=y.i,T,h,i=y.color,g=C.isHierarchyRoot(o),b=1;if(l)T=a._hovered.marker.line.color,h=a._hovered.marker.line.width;else if(g&&i===a.root.color)b=100,T="rgba(0,0,0,0)",h=0;else if(T=n.castOption(a,c,"marker.line.color")||P.defaultLine,h=n.castOption(a,c,"marker.line.width")||0,!a._hasColorscale&&!o.onPathbar){var A=a.marker.depthfade;if(A){var R=P.combine(P.addOpacity(a._backgroundColor,.75),i),m;if(A===!0){var L=C.getMaxDepth(a);isFinite(L)?C.isLeaf(o)?m=0:m=a._maxVisibleLayers-(o.data.depth-a._entryDepth):m=o.data.height+1}else m=o.data.depth-a._entryDepth,a._atRootLevel||m++;if(m>0)for(var M=0;M<m;M++){var s=.5*M/m;i=P.combine(P.addOpacity(R,s),i)}}}t.call(v,o,a,u,i).style("stroke-width",h).call(P.stroke,T).style("opacity",b)}U.exports={style:p,styleOne:r}},13988:function(U,N,e){var d=e(63188),P=e(92880).extendFlat,n=e(29736).axisHoverFormat;U.exports={y:d.y,x:d.x,x0:d.x0,y0:d.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:P({},d.name,{}),orientation:P({},d.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:d.fillcolor,points:P({},d.boxpoints,{}),jitter:P({},d.jitter,{}),pointpos:P({},d.pointpos,{}),width:P({},d.width,{}),marker:d.marker,text:d.text,hovertext:d.hovertext,hovertemplate:d.hovertemplate,quartilemethod:d.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,selected:d.selected,unselected:d.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:d.zorder}},67064:function(U,N,e){var d=e(3400),P=e(54460),n=e(62555),C=e(63800),x=e(39032).BADNUM;U.exports=function(o,a){var u=n(o,a);if(u[0].t.empty)return u;for(var f=o._fullLayout,l=P.getFromId(o,a[a.orientation==="h"?"xaxis":"yaxis"]),y=1/0,c=-1/0,T=0,h=0,i=0;i<u.length;i++){var g=u[i],b=g.pts.map(C.extractVal),A=g.bandwidth=p(a,g,b),R=g.span=r(a,g,l,A);if(g.min===g.max&&A===0)R=g.span=[g.min,g.max],g.density=[{v:1,t:R[0]}],g.bandwidth=A,T=Math.max(T,1);else{var m=R[1]-R[0],L=Math.ceil(m/(A/3)),M=m/L;if(!isFinite(M)||!isFinite(L))return d.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var s=C.makeKDE(g,a,b);g.density=new Array(L);for(var S=0,w=R[0];w<R[1]+M/2;S++,w+=M){var _=s(w);g.density[S]={v:_,t:w},T=Math.max(T,_)}}h=Math.max(h,b.length),y=Math.min(y,R[0]),c=Math.max(c,R[1])}var I=P.findExtremes(l,[y,c],{padded:!0});if(a._extremes[l._id]=I,a.width)u[0].t.maxKDE=T;else{var H=f._violinScaleGroupStats,O=a.scalegroup,V=H[O];V?(V.maxKDE=Math.max(V.maxKDE,T),V.maxCount=Math.max(V.maxCount,h)):H[O]={maxKDE:T,maxCount:h}}return u[0].t.labels.kde=d._(o,"kde:"),u};function v(t,o,a){var u=Math.min(o,a/1.349);return 1.059*u*Math.pow(t,-.2)}function p(t,o,a){var u=o.max-o.min;if(!u)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,u/1e4);var f=a.length,l=d.stdev(a,f-1,o.mean);return Math.max(v(f,l,o.q3-o.q1),u/100)}function r(t,o,a,u){var f=t.spanmode,l=t.span||[],y=[o.min,o.max],c=[o.min-2*u,o.max+2*u],T;function h(g){var b=l[g],A=a.type==="multicategory"?a.r2c(b):a.d2c(b,0,t[o.valLetter+"calendar"]);return A===x?c[g]:A}f==="soft"?T=c:f==="hard"?T=y:T=[h(0),h(1)];var i={type:"linear",range:T};return P.setConvert(i),i.cleanRange(),T}},14348:function(U,N,e){var d=e(96404).setPositionOffset,P=["v","h"];U.exports=function(C,x){for(var v=C.calcdata,p=x.xaxis,r=x.yaxis,t=0;t<P.length;t++){for(var o=P[t],a=o==="h"?r:p,u=[],f=0;f<v.length;f++){var l=v[f],y=l[0].t,c=l[0].trace;c.visible===!0&&c.type==="violin"&&!y.empty&&c.orientation===o&&c.xaxis===p._id&&c.yaxis===r._id&&u.push(f)}d("violin",C,u,a)}}},36240:function(U,N,e){var d=e(3400),P=e(76308),n=e(90624),C=e(13988);U.exports=function(v,p,r,t){function o(M,s){return d.coerce(v,p,C,M,s)}function a(M,s){return d.coerce2(v,p,C,M,s)}if(n.handleSampleDefaults(v,p,o,t),p.visible!==!1){o("bandwidth"),o("side");var u=o("width");u||(o("scalegroup",p.name),o("scalemode"));var f=o("span"),l;Array.isArray(f)&&(l="manual"),o("spanmode",l);var y=o("line.color",(v.marker||{}).color||r),c=o("line.width"),T=o("fillcolor",P.addOpacity(p.line.color,.5));n.handlePointsDefaults(v,p,o,{prefix:""});var h=a("box.width"),i=a("box.fillcolor",T),g=a("box.line.color",y),b=a("box.line.width",c),A=o("box.visible",!!(h||i||g||b));A||(p.box={visible:!1});var R=a("meanline.color",y),m=a("meanline.width",c),L=o("meanline.visible",!!(R||m));L||(p.meanline={visible:!1}),o("quartilemethod"),o("zorder")}}},63800:function(U,N,e){var d=e(3400),P={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};N.makeKDE=function(n,C,x){var v=x.length,p=P.gaussian,r=n.bandwidth,t=1/(v*r);return function(o){for(var a=0,u=0;u<v;u++)a+=p((o-x[u])/r);return t*a}},N.getPositionOnKdePath=function(n,C,x){var v,p;C.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=d.findPointOnPath(n.path,x,p,{pathLength:n.pathLength}),t=n.posCenterPx,o=r[v],a=C.side==="both"?2*t-o:t;return[o,a]},N.getKdeValue=function(n,C,x){var v=n.pts.map(N.extractVal),p=N.makeKDE(n,C,v);return p(x)/n.posDensityScale},N.extractVal=function(n){return n.v}},78e3:function(U,N,e){var d=e(76308),P=e(3400),n=e(54460),C=e(27576),x=e(63800);U.exports=function(p,r,t,o,a){a||(a={});var u=a.hoverLayer,f=p.cd,l=f[0].trace,y=l.hoveron,c=y.indexOf("violins")!==-1,T=y.indexOf("kde")!==-1,h=[],i,g;if(c||T){var b=C.hoverOnBoxes(p,r,t,o);if(T&&b.length>0){var A=p.xa,R=p.ya,m,L,M,s,S;l.orientation==="h"?(S=r,m="y",M=R,L="x",s=A):(S=t,m="x",M=A,L="y",s=R);var w=f[p.index];if(S>=w.span[0]&&S<=w.span[1]){var _=P.extendFlat({},p),I=s.c2p(S,!0),H=x.getKdeValue(w,l,S),O=x.getPositionOnKdePath(w,l,I),V=M._offset,B=M._length;_[m+"0"]=O[0],_[m+"1"]=O[1],_[L+"0"]=_[L+"1"]=I,_[L+"Label"]=L+": "+n.hoverLabelText(s,S,l[L+"hoverformat"])+", "+f[0].t.labels.kde+" "+H.toFixed(3);for(var F=0,G=0;G<b.length;G++)if(b[G].attr==="med"){F=G;break}_.spikeDistance=b[F].spikeDistance;var Y=m+"Spike";_[Y]=b[F][Y],b[F].spikeDistance=void 0,b[F][Y]=void 0,_.hovertemplate=!1,h.push(_),g={},g[m+"1"]=P.constrain(V+O[0],V,V+B),g[m+"2"]=P.constrain(V+O[1],V,V+B),g[L+"1"]=g[L+"2"]=s._offset+I}}c&&(h=h.concat(b))}y.indexOf("points")!==-1&&(i=C.hoverOnPoints(p,r,t));var Q=u.selectAll(".violinline-"+l.uid).data(g?[0]:[]);return Q.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),Q.exit().remove(),Q.attr(g).call(d.stroke,p.color),o==="closest"?i?[i]:h:(i&&h.push(i),h)}},22869:function(U,N,e){U.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(U,N,e){var d=e(16560),P=e(3400).extendFlat;U.exports={violinmode:P({},d.boxmode,{}),violingap:P({},d.boxgap,{}),violingroupgap:P({},d.boxgroupgap,{})}},8939:function(U,N,e){var d=e(3400),P=e(98228),n=e(68832);U.exports=function(x,v,p){function r(t,o){return d.coerce(x,v,P,t,o)}n._supply(x,v,p,r,"violin")}},5140:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(18728),x=e(52340),v=e(63800);U.exports=function(r,t,o,a){var u=r._context.staticPlot,f=r._fullLayout,l=t.xaxis,y=t.yaxis;function c(T,h){var i=x(T,{xaxis:l,yaxis:y,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(i[0],1)}P.makeTraceGroups(a,o,"trace violins").each(function(T){var h=d.select(this),i=T[0],g=i.t,b=i.trace;if(b.visible!==!0||g.empty){h.remove();return}var A=g.bPos,R=g.bdPos,m=t[g.valLetter+"axis"],L=t[g.posLetter+"axis"],M=b.side==="both",s=M||b.side==="positive",S=M||b.side==="negative",w=h.selectAll("path.violin").data(P.identity);w.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each(function(G){var Y=d.select(this),Q=G.density,te=Q.length,ae=L.c2l(G.pos+A,!0),fe=L.l2p(ae),oe;if(b.width)oe=g.maxKDE/R;else{var J=f._violinScaleGroupStats[b.scalegroup];oe=b.scalemode==="count"?J.maxKDE/R*(J.maxCount/G.pts.length):J.maxKDE/R}var ee,X,q,le,$,j,se;if(s){for(j=new Array(te),le=0;le<te;le++)se=j[le]={},se[g.posLetter]=ae+Q[le].v/oe,se[g.valLetter]=m.c2l(Q[le].t,!0);ee=c(j,b)}if(S){for(j=new Array(te),$=0,le=te-1;$<te;$++,le--)se=j[$]={},se[g.posLetter]=ae-Q[le].v/oe,se[g.valLetter]=m.c2l(Q[le].t,!0);X=c(j,b)}if(M)q=ee+"L"+X.substr(1)+"Z";else{var ne=[fe,m.c2p(Q[0].t)],he=[fe,m.c2p(Q[te-1].t)];b.orientation==="h"&&(ne.reverse(),he.reverse()),s?q="M"+ne+"L"+ee.substr(1)+"L"+he:q="M"+he+"L"+X.substr(1)+"L"+ne}Y.attr("d",q),G.posCenterPx=fe,G.posDensityScale=oe*R,G.path=Y.node(),G.pathLength=G.path.getTotalLength()/(M?2:1)});var _=b.box,I=_.width,H=(_.line||{}).width,O,V;M?(O=R*I,V=0):s?(O=[0,R*I/2],V=H*{x:1,y:-1}[g.posLetter]):(O=[R*I/2,0],V=H*{x:-1,y:1}[g.posLetter]),C.plotBoxAndWhiskers(h,{pos:L,val:m},b,{bPos:A,bdPos:O,bPosPxOffset:V}),C.plotBoxMean(h,{pos:L,val:m},b,{bPos:A,bdPos:O,bPosPxOffset:V});var B;!b.box.visible&&b.meanline.visible&&(B=P.identity);var F=h.selectAll("path.meanline").data(B||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(G){var Y=m.c2p(G.mean,!0),Q=v.getPositionOnKdePath(G,b,Y);d.select(this).attr("d",b.orientation==="h"?"M"+Y+","+Q[0]+"V"+Q[1]:"M"+Q[0]+","+Y+"H"+Q[1])}),C.plotPoints(h,{x:l,y},b,g)})}},95908:function(U,N,e){var d=e(33428),P=e(76308),n=e(49224).stylePoints;U.exports=function(x){var v=d.select(x).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=d.select(this),o=r.box||{},a=o.line||{},u=r.meanline||{},f=u.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",a.width+"px").call(P.stroke,a.color).call(P.fill,o.fillcolor);var l={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};t.selectAll("path.mean").style(l).call(P.stroke,u.color),t.selectAll("path.meanline").style(l).call(P.stroke,u.color),n(t,r,x)})}},58168:function(U,N,e){var d=e(49084),P=e(50048),n=e(16716),C=e(45464),x=e(92880).extendFlat,v=e(67824).overrideAll,p=U.exports=v(x({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},d("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:n.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:x({},C.hoverinfo),showlegend:x({},C.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(U,N,e){var d=e(67792).gl_mesh3d,P=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,C=e(43080),x=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(u,f,l){this.scene=u,this.uid=l,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var o=t.prototype;o.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,l=this.data._meshX[f],y=this.data._meshY[f],c=this.data._meshZ[f],T=this.data._Ys.length,h=this.data._Zs.length,i=p(l,this.data._Xs).id,g=p(y,this.data._Ys).id,b=p(c,this.data._Zs).id,A=u.index=b+h*g+h*T*i;u.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var R=this.data.hovertext||this.data.text;return n(R)&&R[A]!==void 0?u.textLabel=R[A]:R&&(u.textLabel=R),!0}},o.update=function(u){var f=this.scene,l=f.fullSceneLayout;this.data=r(u);function y(g,b,A,R){return b.map(function(m){return g.d2l(m,0,R)*A})}var c=v(y(l.xaxis,u._meshX,f.dataScale[0],u.xcalendar),y(l.yaxis,u._meshY,f.dataScale[1],u.ycalendar),y(l.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),T=v(u._meshI,u._meshJ,u._meshK),h={positions:c,cells:T,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},i=x(u);h.vertexIntensity=u._meshIntensity,h.vertexIntensityBounds=[i.min,i.max],h.colormap=P(u),this.mesh.update(h)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function a(u,f){var l=u.glplot.gl,y=d({gl:l}),c=new t(u,y,f.uid);return y._trace=c,c.update(f),u.glplot.add(y),c}U.exports=a},12448:function(U,N,e){var d=e(3400),P=e(58168),n=e(70548).supplyIsoDefaults,C=e(60192).opacityscaleDefaults;U.exports=function(v,p,r,t){function o(a,u){return d.coerce(v,p,P,a,u)}n(v,p,r,t,o),C(v,p,t,o)}},67776:function(U,N,e){U.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(U,N,e){var d=e(20832),P=e(52904).line,n=e(45464),C=e(29736).axisHoverFormat,x=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function o(a){return{marker:{color:r({},d.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},d.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},d.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}U.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:d.xperiod0,yperiod0:d.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:d.hovertext,hovertemplate:x({},{keys:p.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:d.text,textposition:d.textposition,insidetextanchor:d.insidetextanchor,textangle:d.textangle,textfont:d.textfont,insidetextfont:d.insidetextfont,outsidetextfont:d.outsidetextfont,constraintext:d.constraintext,cliponaxis:d.cliponaxis,orientation:d.orientation,offset:d.offset,width:d.width,increasing:o(),decreasing:o(),totals:o(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,zorder:d.zorder}},73540:function(U,N,e){var d=e(54460),P=e(1220),n=e(3400).mergeArray,C=e(4500),x=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}U.exports=function(t,o){var a=d.getFromId(t,o.xaxis||"x"),u=d.getFromId(t,o.yaxis||"y"),f,l,y,c,T,h;o.orientation==="h"?(f=a.makeCalcdata(o,"x"),y=u.makeCalcdata(o,"y"),c=P(o,u,"y",y),T=!!o.yperiodalignment,h="y"):(f=u.makeCalcdata(o,"y"),y=a.makeCalcdata(o,"x"),c=P(o,a,"x",y),T=!!o.xperiodalignment,h="x"),l=c.vals;for(var i=Math.min(l.length,f.length),g=new Array(i),b=0,A,R=!1,m=0;m<i;m++){var L=f[m]||0,M=!1;(f[m]!==x||p(o.measure[m])||v(o.measure[m]))&&m+1<i&&(f[m+1]!==x||p(o.measure[m+1])||v(o.measure[m+1]))&&(M=!0);var s=g[m]={i:m,p:l[m],s:L,rawS:L,cNext:M};v(o.measure[m])?(b=s.s,s.isSum=!0,s.dir="totals",s.s=b):p(o.measure[m])?(s.isSum=!0,s.dir="totals",s.s=b):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",A=s.s,s.s=b+A,b+=A),s.dir==="totals"&&(R=!0),T&&(g[m].orig_p=y[m],g[m][h+"End"]=c.ends[m],g[m][h+"Start"]=c.starts[m]),o.ids&&(s.id=String(o.ids[m])),s.v=(o.base||0)+b}return g.length&&(g[0].hasTotals=R),n(o.text,g,"tx"),n(o.hovertext,g,"htx"),C(g,o),g}},10213:function(U){U.exports={eventDataKeys:["initial","delta","final"]}},50152:function(U,N,e){var d=e(96376).setGroupPositions;U.exports=function(n,C){var x=n._fullLayout,v=n._fullData,p=n.calcdata,r=C.xaxis,t=C.yaxis,o=[],a=[],u=[],f,l;for(l=0;l<v.length;l++){var y=v[l];y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="waterfall"&&(f=p[l],y.orientation==="h"?u.push(f):a.push(f),o.push(f))}var c={mode:x.waterfallmode,norm:x.waterfallnorm,gap:x.waterfallgap,groupgap:x.waterfallgroupgap};for(d(n,r,t,a,c),d(n,t,r,u,c),l=0;l<o.length;l++){f=o[l];for(var T=0;T<f.length;T++){var h=f[T];h.isSum===!1&&(h.s0+=T===0?0:f[T-1].s),T+1<f.length&&(f[T].nextP0=f[T+1].p0,f[T].nextS0=f[T+1].s0)}}}},24224:function(U,N,e){var d=e(3400),P=e(20011),n=e(31508).handleText,C=e(43980),x=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,o=r.DECREASING.COLOR,a="#4499FF";function u(y,c,T){y(c+".marker.color",T),y(c+".marker.line.color",p.defaultLine),y(c+".marker.line.width")}function f(y,c,T,h){function i(m,L){return d.coerce(y,c,v,m,L)}var g=C(y,c,h,i);if(!g){c.visible=!1;return}x(y,c,h,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",c.x&&!c.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var b=i("textposition");n(y,c,h,i,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(i("texttemplate"),c.texttemplate||i("textinfo")),u(i,"increasing",t),u(i,"decreasing",o),u(i,"totals",a);var A=i("connector.visible");if(A){i("connector.mode");var R=i("connector.line.width");R&&(i("connector.line.color"),i("connector.line.dash"))}i("zorder")}function l(y,c){var T,h;function i(b){return d.coerce(h._input,h,v,b)}if(c.waterfallmode==="group")for(var g=0;g<y.length;g++)h=y[g],T=h._input,P(T,h,c,i)}U.exports={supplyDefaults:f,crossTraceDefaults:l}},53256:function(U){U.exports=function(e,d){return e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,"initial"in d&&(e.initial=d.initial),"delta"in d&&(e.delta=d.delta),"final"in d&&(e.final=d.final),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e}},94196:function(U,N,e){var d=e(54460).hoverLabelText,P=e(76308).opacity,n=e(63400).hoverOnBars,C=e(48164),x={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};U.exports=function(r,t,o,a,u){var f=n(r,t,o,a,u);if(!f)return;var l=f.cd,y=l[0].trace,c=y.orientation==="h",T=c?"x":"y",h=c?r.xa:r.ya;function i(w){return d(h,w,y[T+"hoverformat"])}var g=f.index,b=l[g],A=b.isSum?b.b+b.s:b.rawS;f.initial=b.b+b.s-A,f.delta=A,f.final=f.initial+f.delta;var R=i(Math.abs(f.delta));f.deltaLabel=A<0?"("+R+")":R,f.finalLabel=i(f.final),f.initialLabel=i(f.initial);var m=b.hi||y.hoverinfo,L=[];if(m&&m!=="none"&&m!=="skip"){var M=m==="all",s=m.split("+"),S=function(w){return M||s.indexOf(w)!==-1};b.isSum||(S("final")&&(c?!S("x"):!S("y"))&&L.push(f.finalLabel),S("delta")&&(A<0?L.push(f.deltaLabel+" "+x.decreasing):L.push(f.deltaLabel+" "+x.increasing)),S("initial")&&L.push("Initial: "+f.initialLabel))}return L.length&&(f.extraText=L.join("<br>")),f.color=v(y,b),[f]};function v(p,r){var t=p[r.dir].marker,o=t.color,a=t.line.color,u=t.line.width;if(P(o))return o;if(P(a)&&u)return a}},95952:function(U,N,e){U.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(U){U.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(U,N,e){var d=e(3400),P=e(91352);U.exports=function(n,C,x){var v=!1;function p(o,a){return d.coerce(n,C,P,o,a)}for(var r=0;r<x.length;r++){var t=x[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(U,N,e){var d=e(33428),P=e(3400),n=e(43616),C=e(39032).BADNUM,x=e(98184),v=e(82744).clearMinTextSize;U.exports=function(o,a,u,f){var l=o._fullLayout;v("waterfall",l),x.plot(o,a,u,f,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(o,a,u,f)};function p(t,o,a,u){var f=o.xaxis,l=o.yaxis;P.makeTraceGroups(u,a,"trace bars").each(function(y){var c=d.select(this),T=y[0].trace,h=P.ensureSingle(c,"g","lines");if(!T.connector||!T.connector.visible){h.remove();return}var i=T.orientation==="h",g=T.connector.mode,b=h.selectAll("g.line").data(P.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var A=b.size();b.each(function(R,m){if(!(m!==A-1&&!R.cNext)){var L=r(R,f,l,i),M=L[0],s=L[1],S="";M[0]!==C&&s[0]!==C&&M[1]!==C&&s[1]!==C&&(g==="spanning"&&!R.isSum&&m>0&&(i?S+="M"+M[0]+","+s[1]+"V"+s[0]:S+="M"+M[1]+","+s[0]+"H"+M[0]),g!=="between"&&(R.isSum||m<A-1)&&(i?S+="M"+M[1]+","+s[0]+"V"+s[1]:S+="M"+M[0]+","+s[1]+"H"+M[1]),M[2]!==C&&s[2]!==C&&(i?S+="M"+M[1]+","+s[1]+"V"+s[2]:S+="M"+M[1]+","+s[1]+"H"+M[2])),S===""&&(S="M0,0Z"),P.ensureSingle(d.select(this),"path").attr("d",S).call(n.setClipUrl,o.layerClipId,t)}})})}function r(t,o,a,u){var f=[],l=[],y=u?o:a,c=u?a:o;return f[0]=y.c2p(t.s0,!0),l[0]=c.c2p(t.p0,!0),f[1]=y.c2p(t.s1,!0),l[1]=c.c2p(t.p1,!0),f[2]=y.c2p(t.nextS0,!0),l[2]=c.c2p(t.nextP0,!0),u?[f,l]:[l,f]}},12252:function(U,N,e){var d=e(33428),P=e(43616),n=e(76308),C=e(13448).DESELECTDIM,x=e(60100),v=e(82744).resizeText,p=x.styleTextPoints;function r(t,o,a){var u=a||d.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,u,"waterfall"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=d.select(this),y=f[0].trace;l.selectAll(".point > path").each(function(c){if(!c.isBlank){var T=y[c.dir].marker;d.select(this).call(n.fill,T.color).call(n.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",y.selectedpoints&&!c.selected?C:1)}}),p(l,y,t),l.selectAll(".lines").each(function(){var c=y.connector.line;P.lineGroupStyle(d.select(this).selectAll("path"),c.width,c.color,c.dash)})})}U.exports={style:r}},84224:function(U,N,e){var d=e(54460),P=e(3400),n=e(73060),C=e(60468).W,x=e(39032).BADNUM;N.moduleType="transform",N.name="aggregate";var v=N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;N.supplyDefaults=function(f,l){var y={},c;function T(w,_){return P.coerce(f,y,v,w,_)}var h=T("enabled");if(!h)return y;var i=n.findArrayAttributes(l),g={};for(c=0;c<i.length;c++)g[i[c]]=1;var b=T("groups");if(!Array.isArray(b)){if(!g[b])return y.enabled=!1,y;g[b]=0}var A=f.aggregations||[],R=y.aggregations=new Array(A.length),m;function L(w,_){return P.coerce(A[c],m,p,w,_)}for(c=0;c<A.length;c++){m={_index:c};var M=L("target"),s=L("func"),S=L("enabled");S&&M&&(g[M]||s==="count"&&g[M]===void 0)?(s==="stddev"&&L("funcmode"),g[M]=0,R[c]=m):R[c]={enabled:!1,_index:c}}for(c=0;c<i.length;c++)g[i[c]]&&R.push({target:i[c],func:p.func.dflt,enabled:!0,_index:-1});return y},N.calcTransform=function(f,l,y){if(y.enabled){var c=y.groups,T=P.getTargetArray(l,{target:c});if(T){var h,i,g,b,A={},R={},m=[],L=C(l.transforms,y),M=T.length;for(l._length&&(M=Math.min(M,l._length)),h=0;h<M;h++)i=T[h],g=A[i],g===void 0?(A[i]=m.length,b=[h],m.push(b),R[A[i]]=L(h)):(m[g].push(h),R[A[i]]=(R[A[i]]||[]).concat(L(h)));y._indexToPoints=R;var s=y.aggregations;for(h=0;h<s.length;h++)r(f,l,m,s[h]);typeof c=="string"&&r(f,l,m,{target:c,func:"first",enabled:!0}),l._length=m.length}}};function r(f,l,y,c){if(c.enabled){for(var T=c.target,h=P.nestedProperty(l,T),i=h.get(),g=d.getDataConversions(f,l,T,i),b=t(c,g),A=new Array(y.length),R=0;R<y.length;R++)A[R]=b(i,y[R]);h.set(A),c.func==="count"&&P.pushUnique(l._arrayAttrs,T)}}function t(f,l){var y=f.func,c=l.d2c,T=l.c2d;switch(y){case"count":return o;case"first":return a;case"last":return u;case"sum":return function(h,i){for(var g=0,b=0;b<i.length;b++){var A=c(h[i[b]]);A!==x&&(g+=A)}return T(g)};case"avg":return function(h,i){for(var g=0,b=0,A=0;A<i.length;A++){var R=c(h[i[A]]);R!==x&&(g+=R,b++)}return b?T(g/b):x};case"min":return function(h,i){for(var g=1/0,b=0;b<i.length;b++){var A=c(h[i[b]]);A!==x&&(g=Math.min(g,A))}return g===1/0?x:T(g)};case"max":return function(h,i){for(var g=-1/0,b=0;b<i.length;b++){var A=c(h[i[b]]);A!==x&&(g=Math.max(g,A))}return g===-1/0?x:T(g)};case"range":return function(h,i){for(var g=1/0,b=-1/0,A=0;A<i.length;A++){var R=c(h[i[A]]);R!==x&&(g=Math.min(g,R),b=Math.max(b,R))}return b===-1/0||g===1/0?x:T(b-g)};case"change":return function(h,i){var g=c(h[i[0]]),b=c(h[i[i.length-1]]);return g===x||b===x?x:T(b-g)};case"median":return function(h,i){for(var g=[],b=0;b<i.length;b++){var A=c(h[i[b]]);A!==x&&g.push(A)}if(!g.length)return x;g.sort(P.sorterAsc);var R=(g.length-1)/2;return T((g[Math.floor(R)]+g[Math.ceil(R)])/2)};case"mode":return function(h,i){for(var g={},b=0,A=x,R=0;R<i.length;R++){var m=c(h[i[R]]);if(m!==x){var L=g[m]=(g[m]||0)+1;L>b&&(b=L,A=m)}}return b?T(A):x};case"rms":return function(h,i){for(var g=0,b=0,A=0;A<i.length;A++){var R=c(h[i[A]]);R!==x&&(g+=R*R,b++)}return b?T(Math.sqrt(g/b)):x};case"stddev":return function(h,i){var g=0,b=0,A=1,R=x,m;for(m=0;m<i.length&&R===x;m++)R=c(h[i[m]]);if(R===x)return x;for(;m<i.length;m++){var L=c(h[i[m]]);if(L!==x){var M=L-R;g+=M,b+=M*M,A++}}var s=f.funcmode==="sample"?A-1:A;return s?Math.sqrt((b-g*g/A)/s):0}}}function o(f,l){return l.length}function a(f,l){return f[l[0]]}function u(f,l){return f[l[l.length-1]]}},76744:function(U,N,e){var d=e(3400),P=e(24040),n=e(54460),C=e(60468).W,x=e(69104),v=x.COMPARISON_OPS,p=x.INTERVAL_OPS,r=x.SET_OPS;N.moduleType="transform",N.name="filter",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},N.supplyDefaults=function(o){var a={};function u(c,T){return d.coerce(o,a,N.attributes,c,T)}var f=u("enabled");if(f){var l=u("target");if(d.isArrayOrTypedArray(l)&&l.length===0)return a.enabled=!1,a;u("preservegaps"),u("operation"),u("value");var y=P.getComponentMethod("calendars","handleDefaults");y(o,a,"valuecalendar",null),y(o,a,"targetcalendar",null)}return a},N.calcTransform=function(o,a,u){if(!u.enabled)return;var f=d.getTargetArray(a,u);if(!f)return;var l=u.target,y=f.length;a._length&&(y=Math.min(y,a._length));var c=u.targetcalendar,T=a._arrayAttrs,h=u.preservegaps;if(typeof l=="string"){var i=d.nestedProperty(a,l+"calendar").get();i&&(c=i)}var g=n.getDataToCoordFunc(o,a,l,f),b=t(u,g,c),A={},R={},m=0;function L(I,H){for(var O=0;O<T.length;O++){var V=d.nestedProperty(a,T[O]);I(V,H)}}var M,s;h?(M=function(I){A[I.astr]=d.extendDeep([],I.get()),I.set(new Array(y))},s=function(I,H){var O=A[I.astr][H];I.get()[H]=O}):(M=function(I){A[I.astr]=d.extendDeep([],I.get()),I.set([])},s=function(I,H){var O=A[I.astr][H];I.get().push(O)}),L(M);for(var S=C(a.transforms,u),w=0;w<y;w++){var _=b(f[w]);_?(L(s,w),R[m++]=S(w)):h&&m++}u._indexToPoints=R,a._length=m};function t(o,a,u){var f=o.operation,l=o.value,y=d.isArrayOrTypedArray(l);function c(g){return g.indexOf(f)!==-1}var T=function(g){return a(g,0,o.valuecalendar)},h=function(g){return a(g,0,u)},i;switch(c(v)?i=T(y?l[0]:l):c(p)?i=y?[T(l[0]),T(l[1])]:[T(l),T(l)]:c(r)&&(i=y?l.map(T):[T(l)]),f){case"=":return function(g){return h(g)===i};case"!=":return function(g){return h(g)!==i};case"<":return function(g){return h(g)<i};case"<=":return function(g){return h(g)<=i};case">":return function(g){return h(g)>i};case">=":return function(g){return h(g)>=i};case"[]":return function(g){var b=h(g);return b>=i[0]&&b<=i[1]};case"()":return function(g){var b=h(g);return b>i[0]&&b<i[1]};case"[)":return function(g){var b=h(g);return b>=i[0]&&b<i[1]};case"(]":return function(g){var b=h(g);return b>i[0]&&b<=i[1]};case"][":return function(g){var b=h(g);return b<=i[0]||b>=i[1]};case")(":return function(g){var b=h(g);return b<i[0]||b>i[1]};case"](":return function(g){var b=h(g);return b<=i[0]||b>i[1]};case")[":return function(g){var b=h(g);return b<i[0]||b>=i[1]};case"{}":return function(g){return i.indexOf(h(g))!==-1};case"}{":return function(g){return i.indexOf(h(g))===-1}}}},32028:function(U,N,e){var d=e(3400),P=e(73060),n=e(7316),C=e(60468).W;N.moduleType="transform",N.name="groupby",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},N.supplyDefaults=function(v,p,r){var t,o={};function a(T,h){return d.coerce(v,o,N.attributes,T,h)}var u=a("enabled");if(!u)return o;a("groups"),a("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,l=o.styles=[];if(f)for(t=0;t<f.length;t++){var y=l[t]={};d.coerce(f[t],l[t],N.attributes.styles,"target");var c=d.coerce(f[t],l[t],N.attributes.styles,"value");d.isPlainObject(c)?y.value=d.extendDeep({},c):c&&delete y.value}return o},N.transform=function(v,p){var r,t,o,a=[];for(t=0;t<v.length;t++)for(r=x(v[t],p),o=0;o<r.length;o++)a.push(r[o]);return a};function x(v,p){var r,t,o,a,u,f,l,y,c,T,h=p.transform,i=p.transformIndex,g=v.transforms[i].groups,b=C(v.transforms,h);if(!d.isArrayOrTypedArray(g)||g.length===0)return[v];var A=d.filterUnique(g),R=new Array(A.length),m=g.length,L=P.findArrayAttributes(v),M=h.styles||[],s={};for(r=0;r<M.length;r++)s[M[r].target]=M[r].value;h.styles&&(T=d.keyedContainer(h,"styles","target","value.name"));var S={},w={};for(r=0;r<A.length;r++){f=A[r],S[f]=r,w[f]=0,l=R[r]=d.extendDeepNoArrays({},v),l._group=f,l.transforms[i]._indexToPoints={};var _=null;for(T&&(_=T.get(f)),_||_===""?l.name=_:l.name=d.templateString(h.nameformat,{trace:v.name,group:f}),y=l.transforms,l.transforms=[],t=0;t<y.length;t++)l.transforms[t]=d.extendDeepNoArrays({},y[t]);for(t=0;t<L.length;t++)d.nestedProperty(l,L[t]).set([])}for(o=0;o<L.length;o++){for(a=L[o],t=0,c=[];t<A.length;t++)c[t]=d.nestedProperty(R[t],a).get();for(u=d.nestedProperty(v,a).get(),t=0;t<m;t++)c[S[g[t]]].push(u[t])}for(t=0;t<m;t++){l=R[S[g[t]]];var I=l.transforms[i]._indexToPoints;I[w[g[t]]]=b(t),w[g[t]]++}for(r=0;r<A.length;r++)f=A[r],l=R[r],n.clearExpandedTraceDefaultColors(l),l=d.extendDeepNoArrays(l,s[f]||{});return R}},60468:function(U,N){N.W=function(e,d){for(var P,n,C=0;C<e.length&&(P=e[C],P!==d);C++)!P._indexToPoints||P.enabled===!1||(n=P._indexToPoints);var x=n?function(v){return n[v]}:function(v){return[v]};return x}},76272:function(U,N,e){var d=e(3400),P=e(54460),n=e(60468).W,C=e(39032).BADNUM;N.moduleType="transform",N.name="sort",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},N.supplyDefaults=function(p){var r={};function t(a,u){return d.coerce(p,r,N.attributes,a,u)}var o=t("enabled");return o&&(t("target"),t("order")),r},N.calcTransform=function(p,r,t){if(t.enabled){var o=d.getTargetArray(r,t);if(o){var a=t.target,u=o.length;r._length&&(u=Math.min(u,r._length));var f=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,a,o),y=x(t,o,l,u),c=n(r.transforms,t),T={},h,i;for(h=0;h<f.length;h++){var g=d.nestedProperty(r,f[h]),b=g.get(),A=new Array(u);for(i=0;i<u;i++)A[i]=b[y[i]];g.set(A)}for(i=0;i<u;i++)T[i]=c(y[i]);t._indexToPoints=T,r._length=u}}};function x(p,r,t,o){var a=new Array(o),u=new Array(o),f;for(f=0;f<o;f++)a[f]={v:r[f],i:f};for(a.sort(v(p,t)),f=0;f<o;f++)u[f]=a[f].i;return u}function v(p,r){switch(p.order){case"ascending":return function(t,o){var a=r(t.v),u=r(o.v);return a===C?1:u===C?-1:a-u};case"descending":return function(t,o){var a=r(t.v),u=r(o.v);return a===C?1:u===C?-1:u-a}}}},25788:function(U,N){N.version="2.34.0"},67792:function(U,N,e){var d=e(4168);(function(){var P={1964:function(v,p,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Re,de){if(!(Re instanceof de))throw new TypeError("Cannot call a class as a function")}function o(Re,de){for(var be=0;be<de.length;be++){var Ne=de[be];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Re,u(Ne.key),Ne)}}function a(Re,de,be){return de&&o(Re.prototype,de),Object.defineProperty(Re,"prototype",{writable:!1}),Re}function u(Re){var de=f(Re,"string");return b(de)=="symbol"?de:de+""}function f(Re,de){if(b(Re)!="object"||!Re)return Re;var be=Re[Symbol.toPrimitive];if(be!==void 0){var Ne=be.call(Re,de);if(b(Ne)!="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Re)}function l(Re,de,be){return de=h(de),y(Re,T()?Reflect.construct(de,[],h(Re).constructor):de.apply(Re,be))}function y(Re,de){if(de&&(b(de)==="object"||typeof de=="function"))return de;if(de!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(Re)}function c(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function T(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Re})()}function h(Re){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(be){return be.__proto__||Object.getPrototypeOf(be)},h(Re)}function i(Re,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(de&&de.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),de&&g(Re,de)}function g(Re,de){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,Ye){return Ne.__proto__=Ye,Ne},g(Re,de)}function b(Re){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},b(Re)}var A=r(7507),R=r(3778),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.hp=S,p.IS=50;var L=2147483647;S.TYPED_ARRAY_SUPPORT=M(),!S.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var Re=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(Re,de),Re.foo()===42}catch{return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}});function s(Re){if(Re>L)throw new RangeError('The value "'+Re+'" is invalid for option "size"');var de=new Uint8Array(Re);return Object.setPrototypeOf(de,S.prototype),de}function S(Re,de,be){if(typeof Re=="number"){if(typeof de=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return H(Re)}return w(Re,de,be)}S.poolSize=8192;function w(Re,de,be){if(typeof Re=="string")return O(Re,de);if(ArrayBuffer.isView(Re))return B(Re);if(Re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(Re));if(je(Re,ArrayBuffer)||Re&&je(Re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(Re,SharedArrayBuffer)||Re&&je(Re.buffer,SharedArrayBuffer)))return F(Re,de,be);if(typeof Re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ne=Re.valueOf&&Re.valueOf();if(Ne!=null&&Ne!==Re)return S.from(Ne,de,be);var Ye=G(Re);if(Ye)return Ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Re[Symbol.toPrimitive]=="function")return S.from(Re[Symbol.toPrimitive]("string"),de,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(Re))}S.from=function(Re,de,be){return w(Re,de,be)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array);function _(Re){if(typeof Re!="number")throw new TypeError('"size" argument must be of type number');if(Re<0)throw new RangeError('The value "'+Re+'" is invalid for option "size"')}function I(Re,de,be){return _(Re),Re<=0?s(Re):de!==void 0?typeof be=="string"?s(Re).fill(de,be):s(Re).fill(de):s(Re)}S.alloc=function(Re,de,be){return I(Re,de,be)};function H(Re){return _(Re),s(Re<0?0:Y(Re)|0)}S.allocUnsafe=function(Re){return H(Re)},S.allocUnsafeSlow=function(Re){return H(Re)};function O(Re,de){if((typeof de!="string"||de==="")&&(de="utf8"),!S.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var be=Q(Re,de)|0,Ne=s(be),Ye=Ne.write(Re,de);return Ye!==be&&(Ne=Ne.slice(0,Ye)),Ne}function V(Re){for(var de=Re.length<0?0:Y(Re.length)|0,be=s(de),Ne=0;Ne<de;Ne+=1)be[Ne]=Re[Ne]&255;return be}function B(Re){if(je(Re,Uint8Array)){var de=new Uint8Array(Re);return F(de.buffer,de.byteOffset,de.byteLength)}return V(Re)}function F(Re,de,be){if(de<0||Re.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(Re.byteLength<de+(be||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return de===void 0&&be===void 0?Ne=new Uint8Array(Re):be===void 0?Ne=new Uint8Array(Re,de):Ne=new Uint8Array(Re,de,be),Object.setPrototypeOf(Ne,S.prototype),Ne}function G(Re){if(S.isBuffer(Re)){var de=Y(Re.length)|0,be=s(de);return be.length===0||Re.copy(be,0,0,de),be}if(Re.length!==void 0)return typeof Re.length!="number"||Ke(Re.length)?s(0):V(Re);if(Re.type==="Buffer"&&Array.isArray(Re.data))return V(Re.data)}function Y(Re){if(Re>=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");return Re|0}S.isBuffer=function(de){return de!=null&&de._isBuffer===!0&&de!==S.prototype},S.compare=function(de,be){if(je(de,Uint8Array)&&(de=S.from(de,de.offset,de.byteLength)),je(be,Uint8Array)&&(be=S.from(be,be.offset,be.byteLength)),!S.isBuffer(de)||!S.isBuffer(be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(de===be)return 0;for(var Ne=de.length,Ye=be.length,at=0,lt=Math.min(Ne,Ye);at<lt;++at)if(de[at]!==be[at]){Ne=de[at],Ye=be[at];break}return Ne<Ye?-1:Ye<Ne?1:0},S.isEncoding=function(de){switch(String(de).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(de,be){if(!Array.isArray(de))throw new TypeError('"list" argument must be an Array of Buffers');if(de.length===0)return S.alloc(0);var Ne;if(be===void 0)for(be=0,Ne=0;Ne<de.length;++Ne)be+=de[Ne].length;var Ye=S.allocUnsafe(be),at=0;for(Ne=0;Ne<de.length;++Ne){var lt=de[Ne];if(je(lt,Uint8Array))at+lt.length>Ye.length?(S.isBuffer(lt)||(lt=S.from(lt)),lt.copy(Ye,at)):Uint8Array.prototype.set.call(Ye,lt,at);else if(S.isBuffer(lt))lt.copy(Ye,at);else throw new TypeError('"list" argument must be an Array of Buffers');at+=lt.length}return Ye};function Q(Re,de){if(S.isBuffer(Re))return Re.length;if(ArrayBuffer.isView(Re)||je(Re,ArrayBuffer))return Re.byteLength;if(typeof Re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(Re));var be=Re.length,Ne=arguments.length>2&&arguments[2]===!0;if(!Ne&&be===0)return 0;for(var Ye=!1;;)switch(de){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return xt(Re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be*2;case"hex":return be>>>1;case"base64":return Fe(Re).length;default:if(Ye)return Ne?-1:xt(Re).length;de=(""+de).toLowerCase(),Ye=!0}}S.byteLength=Q;function te(Re,de,be){var Ne=!1;if((de===void 0||de<0)&&(de=0),de>this.length||((be===void 0||be>this.length)&&(be=this.length),be<=0)||(be>>>=0,de>>>=0,be<=de))return"";for(Re||(Re="utf8");;)switch(Re){case"hex":return we(this,de,be);case"utf8":case"utf-8":return j(this,de,be);case"ascii":return he(this,de,be);case"latin1":case"binary":return me(this,de,be);case"base64":return $(this,de,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,de,be);default:if(Ne)throw new TypeError("Unknown encoding: "+Re);Re=(Re+"").toLowerCase(),Ne=!0}}S.prototype._isBuffer=!0;function ae(Re,de,be){var Ne=Re[de];Re[de]=Re[be],Re[be]=Ne}S.prototype.swap16=function(){var de=this.length;if(de%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var be=0;be<de;be+=2)ae(this,be,be+1);return this},S.prototype.swap32=function(){var de=this.length;if(de%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var be=0;be<de;be+=4)ae(this,be,be+3),ae(this,be+1,be+2);return this},S.prototype.swap64=function(){var de=this.length;if(de%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var be=0;be<de;be+=8)ae(this,be,be+7),ae(this,be+1,be+6),ae(this,be+2,be+5),ae(this,be+3,be+4);return this},S.prototype.toString=function(){var de=this.length;return de===0?"":arguments.length===0?j(this,0,de):te.apply(this,arguments)},S.prototype.toLocaleString=S.prototype.toString,S.prototype.equals=function(de){if(!S.isBuffer(de))throw new TypeError("Argument must be a Buffer");return this===de?!0:S.compare(this,de)===0},S.prototype.inspect=function(){var de="",be=p.IS;return de=this.toString("hex",0,be).replace(/(.{2})/g,"$1 ").trim(),this.length>be&&(de+=" ... "),"<Buffer "+de+">"},m&&(S.prototype[m]=S.prototype.inspect),S.prototype.compare=function(de,be,Ne,Ye,at){if(je(de,Uint8Array)&&(de=S.from(de,de.offset,de.byteLength)),!S.isBuffer(de))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(de));if(be===void 0&&(be=0),Ne===void 0&&(Ne=de?de.length:0),Ye===void 0&&(Ye=0),at===void 0&&(at=this.length),be<0||Ne>de.length||Ye<0||at>this.length)throw new RangeError("out of range index");if(Ye>=at&&be>=Ne)return 0;if(Ye>=at)return-1;if(be>=Ne)return 1;if(be>>>=0,Ne>>>=0,Ye>>>=0,at>>>=0,this===de)return 0;for(var lt=at-Ye,Ht=Ne-be,Yt=Math.min(lt,Ht),Tt=this.slice(Ye,at),Lt=de.slice(be,Ne),Kt=0;Kt<Yt;++Kt)if(Tt[Kt]!==Lt[Kt]){lt=Tt[Kt],Ht=Lt[Kt];break}return lt<Ht?-1:Ht<lt?1:0};function fe(Re,de,be,Ne,Ye){if(Re.length===0)return-1;if(typeof be=="string"?(Ne=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),be=+be,Ke(be)&&(be=Ye?0:Re.length-1),be<0&&(be=Re.length+be),be>=Re.length){if(Ye)return-1;be=Re.length-1}else if(be<0)if(Ye)be=0;else return-1;if(typeof de=="string"&&(de=S.from(de,Ne)),S.isBuffer(de))return de.length===0?-1:oe(Re,de,be,Ne,Ye);if(typeof de=="number")return de=de&255,typeof Uint8Array.prototype.indexOf=="function"?Ye?Uint8Array.prototype.indexOf.call(Re,de,be):Uint8Array.prototype.lastIndexOf.call(Re,de,be):oe(Re,[de],be,Ne,Ye);throw new TypeError("val must be string, number or Buffer")}function oe(Re,de,be,Ne,Ye){var at=1,lt=Re.length,Ht=de.length;if(Ne!==void 0&&(Ne=String(Ne).toLowerCase(),Ne==="ucs2"||Ne==="ucs-2"||Ne==="utf16le"||Ne==="utf-16le")){if(Re.length<2||de.length<2)return-1;at=2,lt/=2,Ht/=2,be/=2}function Yt(gt,Xt){return at===1?gt[Xt]:gt.readUInt16BE(Xt*at)}var Tt;if(Ye){var Lt=-1;for(Tt=be;Tt<lt;Tt++)if(Yt(Re,Tt)===Yt(de,Lt===-1?0:Tt-Lt)){if(Lt===-1&&(Lt=Tt),Tt-Lt+1===Ht)return Lt*at}else Lt!==-1&&(Tt-=Tt-Lt),Lt=-1}else for(be+Ht>lt&&(be=lt-Ht),Tt=be;Tt>=0;Tt--){for(var Kt=!0,vr=0;vr<Ht;vr++)if(Yt(Re,Tt+vr)!==Yt(de,vr)){Kt=!1;break}if(Kt)return Tt}return-1}S.prototype.includes=function(de,be,Ne){return this.indexOf(de,be,Ne)!==-1},S.prototype.indexOf=function(de,be,Ne){return fe(this,de,be,Ne,!0)},S.prototype.lastIndexOf=function(de,be,Ne){return fe(this,de,be,Ne,!1)};function J(Re,de,be,Ne){be=Number(be)||0;var Ye=Re.length-be;Ne?(Ne=Number(Ne),Ne>Ye&&(Ne=Ye)):Ne=Ye;var at=de.length;Ne>at/2&&(Ne=at/2);var lt;for(lt=0;lt<Ne;++lt){var Ht=parseInt(de.substr(lt*2,2),16);if(Ke(Ht))return lt;Re[be+lt]=Ht}return lt}function ee(Re,de,be,Ne){return We(xt(de,Re.length-be),Re,be,Ne)}function X(Re,de,be,Ne){return We(Mt(de),Re,be,Ne)}function q(Re,de,be,Ne){return We(Fe(de),Re,be,Ne)}function le(Re,de,be,Ne){return We(nt(de,Re.length-be),Re,be,Ne)}S.prototype.write=function(de,be,Ne,Ye){if(be===void 0)Ye="utf8",Ne=this.length,be=0;else if(Ne===void 0&&typeof be=="string")Ye=be,Ne=this.length,be=0;else if(isFinite(be))be=be>>>0,isFinite(Ne)?(Ne=Ne>>>0,Ye===void 0&&(Ye="utf8")):(Ye=Ne,Ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var at=this.length-be;if((Ne===void 0||Ne>at)&&(Ne=at),de.length>0&&(Ne<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ye||(Ye="utf8");for(var lt=!1;;)switch(Ye){case"hex":return J(this,de,be,Ne);case"utf8":case"utf-8":return ee(this,de,be,Ne);case"ascii":case"latin1":case"binary":return X(this,de,be,Ne);case"base64":return q(this,de,be,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,de,be,Ne);default:if(lt)throw new TypeError("Unknown encoding: "+Ye);Ye=(""+Ye).toLowerCase(),lt=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(Re,de,be){return de===0&&be===Re.length?A.fromByteArray(Re):A.fromByteArray(Re.slice(de,be))}function j(Re,de,be){be=Math.min(Re.length,be);for(var Ne=[],Ye=de;Ye<be;){var at=Re[Ye],lt=null,Ht=at>239?4:at>223?3:at>191?2:1;if(Ye+Ht<=be){var Yt=void 0,Tt=void 0,Lt=void 0,Kt=void 0;switch(Ht){case 1:at<128&&(lt=at);break;case 2:Yt=Re[Ye+1],(Yt&192)===128&&(Kt=(at&31)<<6|Yt&63,Kt>127&&(lt=Kt));break;case 3:Yt=Re[Ye+1],Tt=Re[Ye+2],(Yt&192)===128&&(Tt&192)===128&&(Kt=(at&15)<<12|(Yt&63)<<6|Tt&63,Kt>2047&&(Kt<55296||Kt>57343)&&(lt=Kt));break;case 4:Yt=Re[Ye+1],Tt=Re[Ye+2],Lt=Re[Ye+3],(Yt&192)===128&&(Tt&192)===128&&(Lt&192)===128&&(Kt=(at&15)<<18|(Yt&63)<<12|(Tt&63)<<6|Lt&63,Kt>65535&&Kt<1114112&&(lt=Kt))}}lt===null?(lt=65533,Ht=1):lt>65535&&(lt-=65536,Ne.push(lt>>>10&1023|55296),lt=56320|lt&1023),Ne.push(lt),Ye+=Ht}return ne(Ne)}var se=4096;function ne(Re){var de=Re.length;if(de<=se)return String.fromCharCode.apply(String,Re);for(var be="",Ne=0;Ne<de;)be+=String.fromCharCode.apply(String,Re.slice(Ne,Ne+=se));return be}function he(Re,de,be){var Ne="";be=Math.min(Re.length,be);for(var Ye=de;Ye<be;++Ye)Ne+=String.fromCharCode(Re[Ye]&127);return Ne}function me(Re,de,be){var Ne="";be=Math.min(Re.length,be);for(var Ye=de;Ye<be;++Ye)Ne+=String.fromCharCode(Re[Ye]);return Ne}function we(Re,de,be){var Ne=Re.length;(!de||de<0)&&(de=0),(!be||be<0||be>Ne)&&(be=Ne);for(var Ye="",at=de;at<be;++at)Ye+=ke[Re[at]];return Ye}function Te(Re,de,be){for(var Ne=Re.slice(de,be),Ye="",at=0;at<Ne.length-1;at+=2)Ye+=String.fromCharCode(Ne[at]+Ne[at+1]*256);return Ye}S.prototype.slice=function(de,be){var Ne=this.length;de=~~de,be=be===void 0?Ne:~~be,de<0?(de+=Ne,de<0&&(de=0)):de>Ne&&(de=Ne),be<0?(be+=Ne,be<0&&(be=0)):be>Ne&&(be=Ne),be<de&&(be=de);var Ye=this.subarray(de,be);return Object.setPrototypeOf(Ye,S.prototype),Ye};function Le(Re,de,be){if(Re%1!==0||Re<0)throw new RangeError("offset is not uint");if(Re+de>be)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(de,be,Ne){de=de>>>0,be=be>>>0,Ne||Le(de,be,this.length);for(var Ye=this[de],at=1,lt=0;++lt<be&&(at*=256);)Ye+=this[de+lt]*at;return Ye},S.prototype.readUintBE=S.prototype.readUIntBE=function(de,be,Ne){de=de>>>0,be=be>>>0,Ne||Le(de,be,this.length);for(var Ye=this[de+--be],at=1;be>0&&(at*=256);)Ye+=this[de+--be]*at;return Ye},S.prototype.readUint8=S.prototype.readUInt8=function(de,be){return de=de>>>0,be||Le(de,1,this.length),this[de]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(de,be){return de=de>>>0,be||Le(de,2,this.length),this[de]|this[de+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(de,be){return de=de>>>0,be||Le(de,2,this.length),this[de]<<8|this[de+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(de,be){return de=de>>>0,be||Le(de,4,this.length),(this[de]|this[de+1]<<8|this[de+2]<<16)+this[de+3]*16777216},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(de,be){return de=de>>>0,be||Le(de,4,this.length),this[de]*16777216+(this[de+1]<<16|this[de+2]<<8|this[de+3])},S.prototype.readBigUInt64LE=Ue(function(de){de=de>>>0,et(de,"offset");var be=this[de],Ne=this[de+7];(be===void 0||Ne===void 0)&&ft(de,this.length-8);var Ye=be+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,24),at=this[++de]+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+Ne*Math.pow(2,24);return BigInt(Ye)+(BigInt(at)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(de){de=de>>>0,et(de,"offset");var be=this[de],Ne=this[de+7];(be===void 0||Ne===void 0)&&ft(de,this.length-8);var Ye=be*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+this[++de],at=this[++de]*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+Ne;return(BigInt(Ye)<<BigInt(32))+BigInt(at)}),S.prototype.readIntLE=function(de,be,Ne){de=de>>>0,be=be>>>0,Ne||Le(de,be,this.length);for(var Ye=this[de],at=1,lt=0;++lt<be&&(at*=256);)Ye+=this[de+lt]*at;return at*=128,Ye>=at&&(Ye-=Math.pow(2,8*be)),Ye},S.prototype.readIntBE=function(de,be,Ne){de=de>>>0,be=be>>>0,Ne||Le(de,be,this.length);for(var Ye=be,at=1,lt=this[de+--Ye];Ye>0&&(at*=256);)lt+=this[de+--Ye]*at;return at*=128,lt>=at&&(lt-=Math.pow(2,8*be)),lt},S.prototype.readInt8=function(de,be){return de=de>>>0,be||Le(de,1,this.length),this[de]&128?(255-this[de]+1)*-1:this[de]},S.prototype.readInt16LE=function(de,be){de=de>>>0,be||Le(de,2,this.length);var Ne=this[de]|this[de+1]<<8;return Ne&32768?Ne|4294901760:Ne},S.prototype.readInt16BE=function(de,be){de=de>>>0,be||Le(de,2,this.length);var Ne=this[de+1]|this[de]<<8;return Ne&32768?Ne|4294901760:Ne},S.prototype.readInt32LE=function(de,be){return de=de>>>0,be||Le(de,4,this.length),this[de]|this[de+1]<<8|this[de+2]<<16|this[de+3]<<24},S.prototype.readInt32BE=function(de,be){return de=de>>>0,be||Le(de,4,this.length),this[de]<<24|this[de+1]<<16|this[de+2]<<8|this[de+3]},S.prototype.readBigInt64LE=Ue(function(de){de=de>>>0,et(de,"offset");var be=this[de],Ne=this[de+7];(be===void 0||Ne===void 0)&&ft(de,this.length-8);var Ye=this[de+4]+this[de+5]*Math.pow(2,8)+this[de+6]*Math.pow(2,16)+(Ne<<24);return(BigInt(Ye)<<BigInt(32))+BigInt(be+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,24))}),S.prototype.readBigInt64BE=Ue(function(de){de=de>>>0,et(de,"offset");var be=this[de],Ne=this[de+7];(be===void 0||Ne===void 0)&&ft(de,this.length-8);var Ye=(be<<24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+this[++de];return(BigInt(Ye)<<BigInt(32))+BigInt(this[++de]*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+Ne)}),S.prototype.readFloatLE=function(de,be){return de=de>>>0,be||Le(de,4,this.length),R.read(this,de,!0,23,4)},S.prototype.readFloatBE=function(de,be){return de=de>>>0,be||Le(de,4,this.length),R.read(this,de,!1,23,4)},S.prototype.readDoubleLE=function(de,be){return de=de>>>0,be||Le(de,8,this.length),R.read(this,de,!0,52,8)},S.prototype.readDoubleBE=function(de,be){return de=de>>>0,be||Le(de,8,this.length),R.read(this,de,!1,52,8)};function Ie(Re,de,be,Ne,Ye,at){if(!S.isBuffer(Re))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>Ye||de<at)throw new RangeError('"value" argument is out of bounds');if(be+Ne>Re.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(de,be,Ne,Ye){if(de=+de,be=be>>>0,Ne=Ne>>>0,!Ye){var at=Math.pow(2,8*Ne)-1;Ie(this,de,be,Ne,at,0)}var lt=1,Ht=0;for(this[be]=de&255;++Ht<Ne&&(lt*=256);)this[be+Ht]=de/lt&255;return be+Ne},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(de,be,Ne,Ye){if(de=+de,be=be>>>0,Ne=Ne>>>0,!Ye){var at=Math.pow(2,8*Ne)-1;Ie(this,de,be,Ne,at,0)}var lt=Ne-1,Ht=1;for(this[be+lt]=de&255;--lt>=0&&(Ht*=256);)this[be+lt]=de/Ht&255;return be+Ne},S.prototype.writeUint8=S.prototype.writeUInt8=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,1,255,0),this[be]=de&255,be+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,2,65535,0),this[be]=de&255,this[be+1]=de>>>8,be+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,2,65535,0),this[be]=de>>>8,this[be+1]=de&255,be+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,4,4294967295,0),this[be+3]=de>>>24,this[be+2]=de>>>16,this[be+1]=de>>>8,this[be]=de&255,be+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,4,4294967295,0),this[be]=de>>>24,this[be+1]=de>>>16,this[be+2]=de>>>8,this[be+3]=de&255,be+4};function ze(Re,de,be,Ne,Ye){Je(de,Ne,Ye,Re,be,7);var at=Number(de&BigInt(4294967295));Re[be++]=at,at=at>>8,Re[be++]=at,at=at>>8,Re[be++]=at,at=at>>8,Re[be++]=at;var lt=Number(de>>BigInt(32)&BigInt(4294967295));return Re[be++]=lt,lt=lt>>8,Re[be++]=lt,lt=lt>>8,Re[be++]=lt,lt=lt>>8,Re[be++]=lt,be}function Me(Re,de,be,Ne,Ye){Je(de,Ne,Ye,Re,be,7);var at=Number(de&BigInt(4294967295));Re[be+7]=at,at=at>>8,Re[be+6]=at,at=at>>8,Re[be+5]=at,at=at>>8,Re[be+4]=at;var lt=Number(de>>BigInt(32)&BigInt(4294967295));return Re[be+3]=lt,lt=lt>>8,Re[be+2]=lt,lt=lt>>8,Re[be+1]=lt,lt=lt>>8,Re[be]=lt,be+8}S.prototype.writeBigUInt64LE=Ue(function(de){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,de,be,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(de){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Me(this,de,be,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(de,be,Ne,Ye){if(de=+de,be=be>>>0,!Ye){var at=Math.pow(2,8*Ne-1);Ie(this,de,be,Ne,at-1,-at)}var lt=0,Ht=1,Yt=0;for(this[be]=de&255;++lt<Ne&&(Ht*=256);)de<0&&Yt===0&&this[be+lt-1]!==0&&(Yt=1),this[be+lt]=(de/Ht>>0)-Yt&255;return be+Ne},S.prototype.writeIntBE=function(de,be,Ne,Ye){if(de=+de,be=be>>>0,!Ye){var at=Math.pow(2,8*Ne-1);Ie(this,de,be,Ne,at-1,-at)}var lt=Ne-1,Ht=1,Yt=0;for(this[be+lt]=de&255;--lt>=0&&(Ht*=256);)de<0&&Yt===0&&this[be+lt+1]!==0&&(Yt=1),this[be+lt]=(de/Ht>>0)-Yt&255;return be+Ne},S.prototype.writeInt8=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,1,127,-128),de<0&&(de=255+de+1),this[be]=de&255,be+1},S.prototype.writeInt16LE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,2,32767,-32768),this[be]=de&255,this[be+1]=de>>>8,be+2},S.prototype.writeInt16BE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,2,32767,-32768),this[be]=de>>>8,this[be+1]=de&255,be+2},S.prototype.writeInt32LE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,4,2147483647,-2147483648),this[be]=de&255,this[be+1]=de>>>8,this[be+2]=de>>>16,this[be+3]=de>>>24,be+4},S.prototype.writeInt32BE=function(de,be,Ne){return de=+de,be=be>>>0,Ne||Ie(this,de,be,4,2147483647,-2147483648),de<0&&(de=4294967295+de+1),this[be]=de>>>24,this[be+1]=de>>>16,this[be+2]=de>>>8,this[be+3]=de&255,be+4},S.prototype.writeBigInt64LE=Ue(function(de){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,de,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(de){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Me(this,de,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(Re,de,be,Ne,Ye,at){if(be+Ne>Re.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function Ce(Re,de,be,Ne,Ye){return de=+de,be=be>>>0,Ye||_e(Re,de,be,4),R.write(Re,de,be,Ne,23,4),be+4}S.prototype.writeFloatLE=function(de,be,Ne){return Ce(this,de,be,!0,Ne)},S.prototype.writeFloatBE=function(de,be,Ne){return Ce(this,de,be,!1,Ne)};function Oe(Re,de,be,Ne,Ye){return de=+de,be=be>>>0,Ye||_e(Re,de,be,8),R.write(Re,de,be,Ne,52,8),be+8}S.prototype.writeDoubleLE=function(de,be,Ne){return Oe(this,de,be,!0,Ne)},S.prototype.writeDoubleBE=function(de,be,Ne){return Oe(this,de,be,!1,Ne)},S.prototype.copy=function(de,be,Ne,Ye){if(!S.isBuffer(de))throw new TypeError("argument should be a Buffer");if(Ne||(Ne=0),!Ye&&Ye!==0&&(Ye=this.length),be>=de.length&&(be=de.length),be||(be=0),Ye>0&&Ye<Ne&&(Ye=Ne),Ye===Ne||de.length===0||this.length===0)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(Ne<0||Ne>=this.length)throw new RangeError("Index out of range");if(Ye<0)throw new RangeError("sourceEnd out of bounds");Ye>this.length&&(Ye=this.length),de.length-be<Ye-Ne&&(Ye=de.length-be+Ne);var at=Ye-Ne;return this===de&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(be,Ne,Ye):Uint8Array.prototype.set.call(de,this.subarray(Ne,Ye),be),at},S.prototype.fill=function(de,be,Ne,Ye){if(typeof de=="string"){if(typeof be=="string"?(Ye=be,be=0,Ne=this.length):typeof Ne=="string"&&(Ye=Ne,Ne=this.length),Ye!==void 0&&typeof Ye!="string")throw new TypeError("encoding must be a string");if(typeof Ye=="string"&&!S.isEncoding(Ye))throw new TypeError("Unknown encoding: "+Ye);if(de.length===1){var at=de.charCodeAt(0);(Ye==="utf8"&&at<128||Ye==="latin1")&&(de=at)}}else typeof de=="number"?de=de&255:typeof de=="boolean"&&(de=Number(de));if(be<0||this.length<be||this.length<Ne)throw new RangeError("Out of range index");if(Ne<=be)return this;be=be>>>0,Ne=Ne===void 0?this.length:Ne>>>0,de||(de=0);var lt;if(typeof de=="number")for(lt=be;lt<Ne;++lt)this[lt]=de;else{var Ht=S.isBuffer(de)?de:S.from(de,Ye),Yt=Ht.length;if(Yt===0)throw new TypeError('The value "'+de+'" is invalid for argument "value"');for(lt=0;lt<Ne-be;++lt)this[lt+be]=Ht[lt%Yt]}return this};var Pe={};function Ge(Re,de,be){Pe[Re]=function(Ne){function Ye(){var at;return t(this,Ye),at=l(this,Ye),Object.defineProperty(at,"message",{value:de.apply(at,arguments),writable:!0,configurable:!0}),at.name="".concat(at.name," [").concat(Re,"]"),at.stack,delete at.name,at}return i(Ye,Ne),a(Ye,[{key:"code",get:function(){return Re},set:function(lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:lt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Re,"]: ").concat(this.message)}}])}(be)}Ge("ERR_BUFFER_OUT_OF_BOUNDS",function(Re){return Re?"".concat(Re," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ge("ERR_INVALID_ARG_TYPE",function(Re,de){return'The "'.concat(Re,'" argument must be of type number. Received type ').concat(b(de))},TypeError),Ge("ERR_OUT_OF_RANGE",function(Re,de,be){var Ne='The value of "'.concat(Re,'" is out of range.'),Ye=be;return Number.isInteger(be)&&Math.abs(be)>Math.pow(2,32)?Ye=Ze(String(be)):typeof be=="bigint"&&(Ye=String(be),(be>Math.pow(BigInt(2),BigInt(32))||be<-Math.pow(BigInt(2),BigInt(32)))&&(Ye=Ze(Ye)),Ye+="n"),Ne+=" It must be ".concat(de,". Received ").concat(Ye),Ne},RangeError);function Ze(Re){for(var de="",be=Re.length,Ne=Re[0]==="-"?1:0;be>=Ne+4;be-=3)de="_".concat(Re.slice(be-3,be)).concat(de);return"".concat(Re.slice(0,be)).concat(de)}function it(Re,de,be){et(de,"offset"),(Re[de]===void 0||Re[de+be]===void 0)&&ft(de,Re.length-(be+1))}function Je(Re,de,be,Ne,Ye,at){if(Re>be||Re<de){var lt=typeof de=="bigint"?"n":"",Ht;throw de===0||de===BigInt(0)?Ht=">= 0".concat(lt," and < 2").concat(lt," ** ").concat((at+1)*8).concat(lt):Ht=">= -(2".concat(lt," ** ").concat((at+1)*8-1).concat(lt,") and < 2 ** ")+"".concat((at+1)*8-1).concat(lt),new Pe.ERR_OUT_OF_RANGE("value",Ht,Re)}it(Ne,Ye,at)}function et(Re,de){if(typeof Re!="number")throw new Pe.ERR_INVALID_ARG_TYPE(de,"number",Re)}function ft(Re,de,be){throw Math.floor(Re)!==Re?(et(Re,be),new Pe.ERR_OUT_OF_RANGE("offset","an integer",Re)):de<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(de),Re)}var vt=/[^+/0-9A-Za-z-_]/g;function dt(Re){if(Re=Re.split("=")[0],Re=Re.trim().replace(vt,""),Re.length<2)return"";for(;Re.length%4!==0;)Re=Re+"=";return Re}function xt(Re,de){de=de||1/0;for(var be,Ne=Re.length,Ye=null,at=[],lt=0;lt<Ne;++lt){if(be=Re.charCodeAt(lt),be>55295&&be<57344){if(!Ye){if(be>56319){(de-=3)>-1&&at.push(239,191,189);continue}else if(lt+1===Ne){(de-=3)>-1&&at.push(239,191,189);continue}Ye=be;continue}if(be<56320){(de-=3)>-1&&at.push(239,191,189),Ye=be;continue}be=(Ye-55296<<10|be-56320)+65536}else Ye&&(de-=3)>-1&&at.push(239,191,189);if(Ye=null,be<128){if((de-=1)<0)break;at.push(be)}else if(be<2048){if((de-=2)<0)break;at.push(be>>6|192,be&63|128)}else if(be<65536){if((de-=3)<0)break;at.push(be>>12|224,be>>6&63|128,be&63|128)}else if(be<1114112){if((de-=4)<0)break;at.push(be>>18|240,be>>12&63|128,be>>6&63|128,be&63|128)}else throw new Error("Invalid code point")}return at}function Mt(Re){for(var de=[],be=0;be<Re.length;++be)de.push(Re.charCodeAt(be)&255);return de}function nt(Re,de){for(var be,Ne,Ye,at=[],lt=0;lt<Re.length&&!((de-=2)<0);++lt)be=Re.charCodeAt(lt),Ne=be>>8,Ye=be%256,at.push(Ye),at.push(Ne);return at}function Fe(Re){return A.toByteArray(dt(Re))}function We(Re,de,be,Ne){var Ye;for(Ye=0;Ye<Ne&&!(Ye+be>=de.length||Ye>=Re.length);++Ye)de[Ye+be]=Re[Ye];return Ye}function je(Re,de){return Re instanceof de||Re!=null&&Re.constructor!=null&&Re.constructor.name!=null&&Re.constructor.name===de.name}function Ke(Re){return Re!==Re}var ke=function(){for(var Re="0123456789abcdef",de=new Array(256),be=0;be<16;++be)for(var Ne=be*16,Ye=0;Ye<16;++Ye)de[Ne+Ye]=Re[be]+Re[Ye];return de}();function Ue(Re){return typeof BigInt>"u"?Ve:Re}function Ve(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=o,v.exports.isMobile=o,v.exports.default=o;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function o(a){a||(a={});var u=a.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var f=p.test(u)&&!r.test(u)||!!a.tablet&&t.test(u);return!f&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(f=!0),f}},6296:function(v,p,r){v.exports=l;var t=r(7261),o=r(9977),a=r(4192);function u(y,c){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(T){return y[T]}),this._mode=c,this._active=y[c],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(y){for(var c=this._controllerList,T=0;T<c.length;++T)c[T].flush(y)},f.idle=function(y){for(var c=this._controllerList,T=0;T<c.length;++T)c[T].idle(y)},f.lookAt=function(y,c,T,h){for(var i=this._controllerList,g=0;g<i.length;++g)i[g].lookAt(y,c,T,h)},f.rotate=function(y,c,T,h){for(var i=this._controllerList,g=0;g<i.length;++g)i[g].rotate(y,c,T,h)},f.pan=function(y,c,T,h){for(var i=this._controllerList,g=0;g<i.length;++g)i[g].pan(y,c,T,h)},f.translate=function(y,c,T,h){for(var i=this._controllerList,g=0;g<i.length;++g)i[g].translate(y,c,T,h)},f.setMatrix=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setMatrix(y,c)},f.setDistanceLimits=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistanceLimits(y,c)},f.setDistance=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistance(y,c)},f.recalcMatrix=function(y){this._active.recalcMatrix(y)},f.getDistance=function(y){return this._active.getDistance(y)},f.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},f.lastT=function(){return this._active.lastT()},f.setMode=function(y){if(y!==this._mode){var c=this._controllerNames.indexOf(y);if(!(c<0)){var T=this._active,h=this._controllerList[c],i=Math.max(T.lastT(),h.lastT());T.recalcMatrix(i),h.setMatrix(i,T.computedMatrix),this._active=h,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function l(y){y=y||{};var c=y.eye||[0,0,1],T=y.center||[0,0,0],h=y.up||[0,1,0],i=y.distanceLimits||[0,1/0],g=y.mode||"turntable",b=t(),A=o(),R=a();return b.setDistanceLimits(i[0],i[1]),b.lookAt(0,c,T,h),A.setDistanceLimits(i[0],i[1]),A.lookAt(0,c,T,h),R.setDistanceLimits(i[0],i[1]),R.lookAt(0,c,T,h),new u({turntable:b,orbit:A,matrix:R},g)}},7169:function(v,p,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,o=r(2762),a=r(8116),u=new t;function f(l){var y=u.get(l),c=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!c||!l.isBuffer(c)){var T=o(l,new Float32Array([-1,-1,-1,4,4,-1]));y=a(l,[{buffer:T,type:l.FLOAT,size:2}]),y._triangleBuffer=T,u.set(l,y)}y.bind(),l.drawArrays(l.TRIANGLES,0,3),y.unbind()}v.exports=f},1085:function(v,p,r){var t=r(1371);v.exports=o;function o(a,u,f){u=typeof u=="number"?u:1,f=f||": ";var l=a.split(/\r?\n/),y=String(l.length+u-1).length;return l.map(function(c,T){var h=T+u,i=String(h).length,g=t(h,y-i);return g+f+c}).join(`
`)}},3952:function(v,p,r){v.exports=a;var t=r(3250);function o(u,f){for(var l=new Array(f+1),y=0;y<u.length;++y)l[y]=u[y];for(var y=0;y<=u.length;++y){for(var c=u.length;c<=f;++c){for(var T=new Array(f),h=0;h<f;++h)T[h]=Math.pow(c+1-y,h);l[c]=T}var i=t.apply(void 0,l);if(i)return!0}return!1}function a(u){var f=u.length;if(f===0)return[];if(f===1)return[0];for(var l=u[0].length,y=[u[0]],c=[0],T=1;T<f;++T){if(y.push(u[T]),!o(y,l)){y.pop();continue}if(c.push(T),c.length===l+1)return c}return c}},5995:function(v,p,r){v.exports=a;var t=r(7642),o=r(6037);function a(u,f){return t(f).filter(function(l){for(var y=new Array(l.length),c=0;c<l.length;++c)y[c]=f[l[c]];return o(y)*u<1})}},3502:function(v,p,r){v.exports=a;var t=r(5995),o=r(9127);function a(u,f){return o(t(u,f))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,p,r){v.exports=a;var t=r(727);function o(u){for(var f=0,l=0;l<u.length;++l)f+=u[l];return f}function a(u,f){for(var l=f.length,y=new Array(l+1),c=0;c<l;++c){for(var T=new Array(l+1),h=0;h<=l;++h)T[h]=u[h][c];y[c]=T}y[l]=new Array(l+1);for(var c=0;c<=l;++c)y[l][c]=1;for(var i=new Array(l+1),c=0;c<l;++c)i[c]=f[c];i[l]=1;var g=t(y,i),b=o(g[l+1]);b===0&&(b=1);for(var A=new Array(l+1),c=0;c<=l;++c)A[c]=o(g[c])/b;return A}},7507:function(v,p){p.byteLength=y,p.toByteArray=T,p.fromByteArray=g;for(var r=[],t=[],o=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=a.length;u<f;++u)r[u]=a[u],t[a.charCodeAt(u)]=u;t[45]=62,t[95]=63;function l(b){var A=b.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=b.indexOf("=");R===-1&&(R=A);var m=R===A?0:4-R%4;return[R,m]}function y(b){var A=l(b),R=A[0],m=A[1];return(R+m)*3/4-m}function c(b,A,R){return(A+R)*3/4-R}function T(b){var A,R=l(b),m=R[0],L=R[1],M=new o(c(b,m,L)),s=0,S=L>0?m-4:m,w;for(w=0;w<S;w+=4)A=t[b.charCodeAt(w)]<<18|t[b.charCodeAt(w+1)]<<12|t[b.charCodeAt(w+2)]<<6|t[b.charCodeAt(w+3)],M[s++]=A>>16&255,M[s++]=A>>8&255,M[s++]=A&255;return L===2&&(A=t[b.charCodeAt(w)]<<2|t[b.charCodeAt(w+1)]>>4,M[s++]=A&255),L===1&&(A=t[b.charCodeAt(w)]<<10|t[b.charCodeAt(w+1)]<<4|t[b.charCodeAt(w+2)]>>2,M[s++]=A>>8&255,M[s++]=A&255),M}function h(b){return r[b>>18&63]+r[b>>12&63]+r[b>>6&63]+r[b&63]}function i(b,A,R){for(var m,L=[],M=A;M<R;M+=3)m=(b[M]<<16&16711680)+(b[M+1]<<8&65280)+(b[M+2]&255),L.push(h(m));return L.join("")}function g(b){for(var A,R=b.length,m=R%3,L=[],M=16383,s=0,S=R-m;s<S;s+=M)L.push(i(b,s,s+M>S?S:s+M));return m===1?(A=b[R-1],L.push(r[A>>2]+r[A<<4&63]+"==")):m===2&&(A=(b[R-2]<<8)+b[R-1],L.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),L.join("")}},3865:function(v,p,r){var t=r(869);v.exports=o;function o(a,u){return t(a[0].mul(u[1]).add(u[0].mul(a[1])),a[1].mul(u[1]))}},1318:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,p,r){var t=r(869);v.exports=o;function o(a,u){return t(a[0].mul(u[1]),a[1].mul(u[0]))}},7842:function(v,p,r){var t=r(6330),o=r(1533),a=r(2651),u=r(4387),f=r(869),l=r(8697);v.exports=y;function y(c,T){if(t(c))return T?l(c,y(T)):[c[0].clone(),c[1].clone()];var h=0,i,g;if(o(c))i=c.clone();else if(typeof c=="string")i=u(c);else{if(c===0)return[a(0),a(1)];if(c===Math.floor(c))i=a(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;i=a(c)}}if(t(T))i.mul(T[1]),g=T[0].clone();else if(o(T))g=T.clone();else if(typeof T=="string")g=u(T);else if(!T)g=a(1);else if(T===Math.floor(T))g=a(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),h+=256;g=a(T)}return h>0?i=i.ushln(h):h<0&&(g=g.ushln(-h)),f(i,g)}},6330:function(v,p,r){var t=r(1533);v.exports=o;function o(a){return Array.isArray(a)&&a.length===2&&t(a[0])&&t(a[1])}},5716:function(v,p,r){var t=r(6859);v.exports=o;function o(a){return a.cmp(new t(0))}},1369:function(v,p,r){var t=r(5716);v.exports=o;function o(a){var u=a.length,f=a.words,l=0;if(u===1)l=f[0];else if(u===2)l=f[0]+f[1]*67108864;else for(var y=0;y<u;y++){var c=f[y];l+=c*Math.pow(67108864,y)}return t(a)*l}},4025:function(v,p,r){var t=r(2361),o=r(8828).countTrailingZeros;v.exports=a;function a(u){var f=o(t.lo(u));if(f<32)return f;var l=o(t.hi(u));return l>20?52:l+32}},1533:function(v,p,r){r(6859),v.exports=t;function t(o){return o&&typeof o=="object"&&!!o.words}},2651:function(v,p,r){var t=r(6859),o=r(2361);v.exports=a;function a(u){var f=o.exponent(u);return f<52?new t(u):new t(u*Math.pow(2,52-f)).ushln(f-52)}},869:function(v,p,r){var t=r(2651),o=r(5716);v.exports=a;function a(u,f){var l=o(u),y=o(f);if(l===0)return[t(0),t(1)];if(y===0)return[t(0),t(0)];y<0&&(u=u.neg(),f=f.neg());var c=u.gcd(f);return c.cmpn(1)?[u.div(c),f.div(c)]:[u,f]}},4387:function(v,p,r){var t=r(6859);v.exports=o;function o(a){return new t(a)}},6504:function(v,p,r){var t=r(869);v.exports=o;function o(a,u){return t(a[0].mul(u[0]),a[1].mul(u[1]))}},7721:function(v,p,r){var t=r(5716);v.exports=o;function o(a){return t(a[0])*t(a[1])}},5572:function(v,p,r){var t=r(869);v.exports=o;function o(a,u){return t(a[0].mul(u[1]).sub(a[1].mul(u[0])),a[1].mul(u[1]))}},946:function(v,p,r){var t=r(1369),o=r(4025);v.exports=a;function a(u){var f=u[0],l=u[1];if(f.cmpn(0)===0)return 0;var y=f.abs().divmod(l.abs()),c=y.div,T=t(c),h=y.mod,i=f.negative!==l.negative?-1:1;if(h.cmpn(0)===0)return i*T;if(T){var g=o(T)+4,b=t(h.ushln(g).divRound(l));return i*(T+b*Math.pow(2,-g))}else{var A=l.bitLength()-h.bitLength()+53,b=t(h.ushln(A).divRound(l));return A<1023?i*b*Math.pow(2,-A):(b*=Math.pow(2,-1023),i*b*Math.pow(2,1023-A))}}},2478:function(v){function p(f,l,y,c,T){for(var h=T+1;c<=T;){var i=c+T>>>1,g=f[i],b=y!==void 0?y(g,l):g-l;b>=0?(h=i,T=i-1):c=i+1}return h}function r(f,l,y,c,T){for(var h=T+1;c<=T;){var i=c+T>>>1,g=f[i],b=y!==void 0?y(g,l):g-l;b>0?(h=i,T=i-1):c=i+1}return h}function t(f,l,y,c,T){for(var h=c-1;c<=T;){var i=c+T>>>1,g=f[i],b=y!==void 0?y(g,l):g-l;b<0?(h=i,c=i+1):T=i-1}return h}function o(f,l,y,c,T){for(var h=c-1;c<=T;){var i=c+T>>>1,g=f[i],b=y!==void 0?y(g,l):g-l;b<=0?(h=i,c=i+1):T=i-1}return h}function a(f,l,y,c,T){for(;c<=T;){var h=c+T>>>1,i=f[h],g=y!==void 0?y(i,l):i-l;if(g===0)return h;g<=0?c=h+1:T=h-1}return-1}function u(f,l,y,c,T,h){return typeof y=="function"?h(f,l,y,c===void 0?0:c|0,T===void 0?f.length-1:T|0):h(f,l,void 0,y===void 0?0:y|0,c===void 0?f.length-1:c|0)}v.exports={ge:function(f,l,y,c,T){return u(f,l,y,c,T,p)},gt:function(f,l,y,c,T){return u(f,l,y,c,T,r)},lt:function(f,l,y,c,T){return u(f,l,y,c,T,t)},le:function(f,l,y,c,T){return u(f,l,y,c,T,o)},eq:function(f,l,y,c,T){return u(f,l,y,c,T,a)}}},8828:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(a){return(a>0)-(a<0)},p.abs=function(a){var u=a>>r-1;return(a^u)-u},p.min=function(a,u){return u^(a^u)&-(a<u)},p.max=function(a,u){return a^(a^u)&-(a<u)},p.isPow2=function(a){return!(a&a-1)&&!!a},p.log2=function(a){var u,f;return u=(a>65535)<<4,a>>>=u,f=(a>255)<<3,a>>>=f,u|=f,f=(a>15)<<2,a>>>=f,u|=f,f=(a>3)<<1,a>>>=f,u|=f,u|a>>1},p.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},p.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var u=32;return a&=-a,a&&u--,a&65535&&(u-=16),a&16711935&&(u-=8),a&252645135&&(u-=4),a&858993459&&(u-=2),a&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},p.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},p.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var o=new Array(256);(function(a){for(var u=0;u<256;++u){var f=u,l=u,y=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--y;a[u]=l<<y&255}})(o),p.reverse=function(a){return o[a&255]<<24|o[a>>>8&255]<<16|o[a>>>16&255]<<8|o[a>>>24&255]},p.interleave2=function(a,u){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,a|u<<1},p.deinterleave2=function(a,u){return a=a>>>u&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},p.interleave3=function(a,u,f){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|f<<2},p.deinterleave3=function(a,u){return a=a>>>u&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},p.nextCombination=function(a){var u=a|a-1;return u+1|(~u&-~u)-1>>>t(a)+1}},6859:function(v,p,r){v=r.nmd(v),function(t,o){function a(B,F){if(!B)throw new Error(F||"Assertion failed")}function u(B,F){B.super_=F;var G=function(){};G.prototype=F.prototype,B.prototype=new G,B.prototype.constructor=B}function f(B,F,G){if(f.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((F==="le"||F==="be")&&(G=F,F=10),this._init(B||0,F||10,G||"be"))}typeof t=="object"?t.exports=f:o.BN=f,f.BN=f,f.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}f.isBN=function(F){return F instanceof f?!0:F!==null&&typeof F=="object"&&F.constructor.wordSize===f.wordSize&&Array.isArray(F.words)},f.max=function(F,G){return F.cmp(G)>0?F:G},f.min=function(F,G){return F.cmp(G)<0?F:G},f.prototype._init=function(F,G,Y){if(typeof F=="number")return this._initNumber(F,G,Y);if(typeof F=="object")return this._initArray(F,G,Y);G==="hex"&&(G=16),a(G===(G|0)&&G>=2&&G<=36),F=F.toString().replace(/\s+/g,"");var Q=0;F[0]==="-"&&(Q++,this.negative=1),Q<F.length&&(G===16?this._parseHex(F,Q,Y):(this._parseBase(F,G,Q),Y==="le"&&this._initArray(this.toArray(),G,Y)))},f.prototype._initNumber=function(F,G,Y){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[F&67108863],this.length=1):F<4503599627370496?(this.words=[F&67108863,F/67108864&67108863],this.length=2):(a(F<9007199254740992),this.words=[F&67108863,F/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),G,Y)},f.prototype._initArray=function(F,G,Y){if(a(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var te,ae,fe=0;if(Y==="be")for(Q=F.length-1,te=0;Q>=0;Q-=3)ae=F[Q]|F[Q-1]<<8|F[Q-2]<<16,this.words[te]|=ae<<fe&67108863,this.words[te+1]=ae>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,te++);else if(Y==="le")for(Q=0,te=0;Q<F.length;Q+=3)ae=F[Q]|F[Q+1]<<8|F[Q+2]<<16,this.words[te]|=ae<<fe&67108863,this.words[te+1]=ae>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,te++);return this.strip()};function y(B,F){var G=B.charCodeAt(F);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function c(B,F,G){var Y=y(B,G);return G-1>=F&&(Y|=y(B,G-1)<<4),Y}f.prototype._parseHex=function(F,G,Y){this.length=Math.ceil((F.length-G)/6),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var te=0,ae=0,fe;if(Y==="be")for(Q=F.length-1;Q>=G;Q-=2)fe=c(F,G,Q)<<te,this.words[ae]|=fe&67108863,te>=18?(te-=18,ae+=1,this.words[ae]|=fe>>>26):te+=8;else{var oe=F.length-G;for(Q=oe%2===0?G+1:G;Q<F.length;Q+=2)fe=c(F,G,Q)<<te,this.words[ae]|=fe&67108863,te>=18?(te-=18,ae+=1,this.words[ae]|=fe>>>26):te+=8}this.strip()};function T(B,F,G,Y){for(var Q=0,te=Math.min(B.length,G),ae=F;ae<te;ae++){var fe=B.charCodeAt(ae)-48;Q*=Y,fe>=49?Q+=fe-49+10:fe>=17?Q+=fe-17+10:Q+=fe}return Q}f.prototype._parseBase=function(F,G,Y){this.words=[0],this.length=1;for(var Q=0,te=1;te<=67108863;te*=G)Q++;Q--,te=te/G|0;for(var ae=F.length-Y,fe=ae%Q,oe=Math.min(ae,ae-fe)+Y,J=0,ee=Y;ee<oe;ee+=Q)J=T(F,ee,ee+Q,G),this.imuln(te),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(fe!==0){var X=1;for(J=T(F,ee,F.length,G),ee=0;ee<fe;ee++)X*=G;this.imuln(X),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this.strip()},f.prototype.copy=function(F){F.words=new Array(this.length);for(var G=0;G<this.length;G++)F.words[G]=this.words[G];F.length=this.length,F.negative=this.negative,F.red=this.red},f.prototype.clone=function(){var F=new f(null);return this.copy(F),F},f.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(F,G){F=F||10,G=G|0||1;var Y;if(F===16||F==="hex"){Y="";for(var Q=0,te=0,ae=0;ae<this.length;ae++){var fe=this.words[ae],oe=((fe<<Q|te)&16777215).toString(16);te=fe>>>24-Q&16777215,te!==0||ae!==this.length-1?Y=h[6-oe.length]+oe+Y:Y=oe+Y,Q+=2,Q>=26&&(Q-=26,ae--)}for(te!==0&&(Y=te.toString(16)+Y);Y.length%G!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(F===(F|0)&&F>=2&&F<=36){var J=i[F],ee=g[F];Y="";var X=this.clone();for(X.negative=0;!X.isZero();){var q=X.modn(ee).toString(F);X=X.idivn(ee),X.isZero()?Y=q+Y:Y=h[J-q.length]+q+Y}for(this.isZero()&&(Y="0"+Y);Y.length%G!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}a(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=this.words[1]*67108864:this.length===3&&this.words[2]===1?F+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(F,G){return a(typeof l<"u"),this.toArrayLike(l,F,G)},f.prototype.toArray=function(F,G){return this.toArrayLike(Array,F,G)},f.prototype.toArrayLike=function(F,G,Y){var Q=this.byteLength(),te=Y||Math.max(1,Q);a(Q<=te,"byte array longer than desired length"),a(te>0,"Requested array length <= 0"),this.strip();var ae=G==="le",fe=new F(te),oe,J,ee=this.clone();if(ae){for(J=0;!ee.isZero();J++)oe=ee.andln(255),ee.iushrn(8),fe[J]=oe;for(;J<te;J++)fe[J]=0}else{for(J=0;J<te-Q;J++)fe[J]=0;for(J=0;!ee.isZero();J++)oe=ee.andln(255),ee.iushrn(8),fe[te-J-1]=oe}return fe},Math.clz32?f.prototype._countBits=function(F){return 32-Math.clz32(F)}:f.prototype._countBits=function(F){var G=F,Y=0;return G>=4096&&(Y+=13,G>>>=13),G>=64&&(Y+=7,G>>>=7),G>=8&&(Y+=4,G>>>=4),G>=2&&(Y+=2,G>>>=2),Y+G},f.prototype._zeroBits=function(F){if(F===0)return 26;var G=F,Y=0;return G&8191||(Y+=13,G>>>=13),G&127||(Y+=7,G>>>=7),G&15||(Y+=4,G>>>=4),G&3||(Y+=2,G>>>=2),G&1||Y++,Y},f.prototype.bitLength=function(){var F=this.words[this.length-1],G=this._countBits(F);return(this.length-1)*26+G};function b(B){for(var F=new Array(B.bitLength()),G=0;G<F.length;G++){var Y=G/26|0,Q=G%26;F[G]=(B.words[Y]&1<<Q)>>>Q}return F}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,G=0;G<this.length;G++){var Y=this._zeroBits(this.words[G]);if(F+=Y,Y!==26)break}return F},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},f.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var G=0;G<F.length;G++)this.words[G]=this.words[G]|F.words[G];return this.strip()},f.prototype.ior=function(F){return a((this.negative|F.negative)===0),this.iuor(F)},f.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},f.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},f.prototype.iuand=function(F){var G;this.length>F.length?G=F:G=this;for(var Y=0;Y<G.length;Y++)this.words[Y]=this.words[Y]&F.words[Y];return this.length=G.length,this.strip()},f.prototype.iand=function(F){return a((this.negative|F.negative)===0),this.iuand(F)},f.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},f.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},f.prototype.iuxor=function(F){var G,Y;this.length>F.length?(G=this,Y=F):(G=F,Y=this);for(var Q=0;Q<Y.length;Q++)this.words[Q]=G.words[Q]^Y.words[Q];if(this!==G)for(;Q<G.length;Q++)this.words[Q]=G.words[Q];return this.length=G.length,this.strip()},f.prototype.ixor=function(F){return a((this.negative|F.negative)===0),this.iuxor(F)},f.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},f.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},f.prototype.inotn=function(F){a(typeof F=="number"&&F>=0);var G=Math.ceil(F/26)|0,Y=F%26;this._expand(G),Y>0&&G--;for(var Q=0;Q<G;Q++)this.words[Q]=~this.words[Q]&67108863;return Y>0&&(this.words[Q]=~this.words[Q]&67108863>>26-Y),this.strip()},f.prototype.notn=function(F){return this.clone().inotn(F)},f.prototype.setn=function(F,G){a(typeof F=="number"&&F>=0);var Y=F/26|0,Q=F%26;return this._expand(Y+1),G?this.words[Y]=this.words[Y]|1<<Q:this.words[Y]=this.words[Y]&~(1<<Q),this.strip()},f.prototype.iadd=function(F){var G;if(this.negative!==0&&F.negative===0)return this.negative=0,G=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,G=this.isub(F),F.negative=1,G._normSign();var Y,Q;this.length>F.length?(Y=this,Q=F):(Y=F,Q=this);for(var te=0,ae=0;ae<Q.length;ae++)G=(Y.words[ae]|0)+(Q.words[ae]|0)+te,this.words[ae]=G&67108863,te=G>>>26;for(;te!==0&&ae<Y.length;ae++)G=(Y.words[ae]|0)+te,this.words[ae]=G&67108863,te=G>>>26;if(this.length=Y.length,te!==0)this.words[this.length]=te,this.length++;else if(Y!==this)for(;ae<Y.length;ae++)this.words[ae]=Y.words[ae];return this},f.prototype.add=function(F){var G;return F.negative!==0&&this.negative===0?(F.negative=0,G=this.sub(F),F.negative^=1,G):F.negative===0&&this.negative!==0?(this.negative=0,G=F.sub(this),this.negative=1,G):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},f.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var G=this.iadd(F);return F.negative=1,G._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var Y=this.cmp(F);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Q,te;Y>0?(Q=this,te=F):(Q=F,te=this);for(var ae=0,fe=0;fe<te.length;fe++)G=(Q.words[fe]|0)-(te.words[fe]|0)+ae,ae=G>>26,this.words[fe]=G&67108863;for(;ae!==0&&fe<Q.length;fe++)G=(Q.words[fe]|0)+ae,ae=G>>26,this.words[fe]=G&67108863;if(ae===0&&fe<Q.length&&Q!==this)for(;fe<Q.length;fe++)this.words[fe]=Q.words[fe];return this.length=Math.max(this.length,fe),Q!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(F){return this.clone().isub(F)};function A(B,F,G){G.negative=F.negative^B.negative;var Y=B.length+F.length|0;G.length=Y,Y=Y-1|0;var Q=B.words[0]|0,te=F.words[0]|0,ae=Q*te,fe=ae&67108863,oe=ae/67108864|0;G.words[0]=fe;for(var J=1;J<Y;J++){for(var ee=oe>>>26,X=oe&67108863,q=Math.min(J,F.length-1),le=Math.max(0,J-B.length+1);le<=q;le++){var $=J-le|0;Q=B.words[$]|0,te=F.words[le]|0,ae=Q*te+X,ee+=ae/67108864|0,X=ae&67108863}G.words[J]=X|0,oe=ee|0}return oe!==0?G.words[J]=oe|0:G.length--,G.strip()}var R=function(F,G,Y){var Q=F.words,te=G.words,ae=Y.words,fe=0,oe,J,ee,X=Q[0]|0,q=X&8191,le=X>>>13,$=Q[1]|0,j=$&8191,se=$>>>13,ne=Q[2]|0,he=ne&8191,me=ne>>>13,we=Q[3]|0,Te=we&8191,Le=we>>>13,Ie=Q[4]|0,ze=Ie&8191,Me=Ie>>>13,_e=Q[5]|0,Ce=_e&8191,Oe=_e>>>13,Pe=Q[6]|0,Ge=Pe&8191,Ze=Pe>>>13,it=Q[7]|0,Je=it&8191,et=it>>>13,ft=Q[8]|0,vt=ft&8191,dt=ft>>>13,xt=Q[9]|0,Mt=xt&8191,nt=xt>>>13,Fe=te[0]|0,We=Fe&8191,je=Fe>>>13,Ke=te[1]|0,ke=Ke&8191,Ue=Ke>>>13,Ve=te[2]|0,Re=Ve&8191,de=Ve>>>13,be=te[3]|0,Ne=be&8191,Ye=be>>>13,at=te[4]|0,lt=at&8191,Ht=at>>>13,Yt=te[5]|0,Tt=Yt&8191,Lt=Yt>>>13,Kt=te[6]|0,vr=Kt&8191,gt=Kt>>>13,Xt=te[7]|0,$t=Xt&8191,mr=Xt>>>13,or=te[8]|0,yt=or&8191,ut=or>>>13,bt=te[9]|0,Et=bt&8191,It=bt>>>13;Y.negative=F.negative^G.negative,Y.length=19,oe=Math.imul(q,We),J=Math.imul(q,je),J=J+Math.imul(le,We)|0,ee=Math.imul(le,je);var Ft=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,oe=Math.imul(j,We),J=Math.imul(j,je),J=J+Math.imul(se,We)|0,ee=Math.imul(se,je),oe=oe+Math.imul(q,ke)|0,J=J+Math.imul(q,Ue)|0,J=J+Math.imul(le,ke)|0,ee=ee+Math.imul(le,Ue)|0;var Ot=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,oe=Math.imul(he,We),J=Math.imul(he,je),J=J+Math.imul(me,We)|0,ee=Math.imul(me,je),oe=oe+Math.imul(j,ke)|0,J=J+Math.imul(j,Ue)|0,J=J+Math.imul(se,ke)|0,ee=ee+Math.imul(se,Ue)|0,oe=oe+Math.imul(q,Re)|0,J=J+Math.imul(q,de)|0,J=J+Math.imul(le,Re)|0,ee=ee+Math.imul(le,de)|0;var Nt=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,oe=Math.imul(Te,We),J=Math.imul(Te,je),J=J+Math.imul(Le,We)|0,ee=Math.imul(Le,je),oe=oe+Math.imul(he,ke)|0,J=J+Math.imul(he,Ue)|0,J=J+Math.imul(me,ke)|0,ee=ee+Math.imul(me,Ue)|0,oe=oe+Math.imul(j,Re)|0,J=J+Math.imul(j,de)|0,J=J+Math.imul(se,Re)|0,ee=ee+Math.imul(se,de)|0,oe=oe+Math.imul(q,Ne)|0,J=J+Math.imul(q,Ye)|0,J=J+Math.imul(le,Ne)|0,ee=ee+Math.imul(le,Ye)|0;var Jt=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,oe=Math.imul(ze,We),J=Math.imul(ze,je),J=J+Math.imul(Me,We)|0,ee=Math.imul(Me,je),oe=oe+Math.imul(Te,ke)|0,J=J+Math.imul(Te,Ue)|0,J=J+Math.imul(Le,ke)|0,ee=ee+Math.imul(Le,Ue)|0,oe=oe+Math.imul(he,Re)|0,J=J+Math.imul(he,de)|0,J=J+Math.imul(me,Re)|0,ee=ee+Math.imul(me,de)|0,oe=oe+Math.imul(j,Ne)|0,J=J+Math.imul(j,Ye)|0,J=J+Math.imul(se,Ne)|0,ee=ee+Math.imul(se,Ye)|0,oe=oe+Math.imul(q,lt)|0,J=J+Math.imul(q,Ht)|0,J=J+Math.imul(le,lt)|0,ee=ee+Math.imul(le,Ht)|0;var hr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(hr>>>26)|0,hr&=67108863,oe=Math.imul(Ce,We),J=Math.imul(Ce,je),J=J+Math.imul(Oe,We)|0,ee=Math.imul(Oe,je),oe=oe+Math.imul(ze,ke)|0,J=J+Math.imul(ze,Ue)|0,J=J+Math.imul(Me,ke)|0,ee=ee+Math.imul(Me,Ue)|0,oe=oe+Math.imul(Te,Re)|0,J=J+Math.imul(Te,de)|0,J=J+Math.imul(Le,Re)|0,ee=ee+Math.imul(Le,de)|0,oe=oe+Math.imul(he,Ne)|0,J=J+Math.imul(he,Ye)|0,J=J+Math.imul(me,Ne)|0,ee=ee+Math.imul(me,Ye)|0,oe=oe+Math.imul(j,lt)|0,J=J+Math.imul(j,Ht)|0,J=J+Math.imul(se,lt)|0,ee=ee+Math.imul(se,Ht)|0,oe=oe+Math.imul(q,Tt)|0,J=J+Math.imul(q,Lt)|0,J=J+Math.imul(le,Tt)|0,ee=ee+Math.imul(le,Lt)|0;var cr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(cr>>>26)|0,cr&=67108863,oe=Math.imul(Ge,We),J=Math.imul(Ge,je),J=J+Math.imul(Ze,We)|0,ee=Math.imul(Ze,je),oe=oe+Math.imul(Ce,ke)|0,J=J+Math.imul(Ce,Ue)|0,J=J+Math.imul(Oe,ke)|0,ee=ee+Math.imul(Oe,Ue)|0,oe=oe+Math.imul(ze,Re)|0,J=J+Math.imul(ze,de)|0,J=J+Math.imul(Me,Re)|0,ee=ee+Math.imul(Me,de)|0,oe=oe+Math.imul(Te,Ne)|0,J=J+Math.imul(Te,Ye)|0,J=J+Math.imul(Le,Ne)|0,ee=ee+Math.imul(Le,Ye)|0,oe=oe+Math.imul(he,lt)|0,J=J+Math.imul(he,Ht)|0,J=J+Math.imul(me,lt)|0,ee=ee+Math.imul(me,Ht)|0,oe=oe+Math.imul(j,Tt)|0,J=J+Math.imul(j,Lt)|0,J=J+Math.imul(se,Tt)|0,ee=ee+Math.imul(se,Lt)|0,oe=oe+Math.imul(q,vr)|0,J=J+Math.imul(q,gt)|0,J=J+Math.imul(le,vr)|0,ee=ee+Math.imul(le,gt)|0;var dr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(dr>>>26)|0,dr&=67108863,oe=Math.imul(Je,We),J=Math.imul(Je,je),J=J+Math.imul(et,We)|0,ee=Math.imul(et,je),oe=oe+Math.imul(Ge,ke)|0,J=J+Math.imul(Ge,Ue)|0,J=J+Math.imul(Ze,ke)|0,ee=ee+Math.imul(Ze,Ue)|0,oe=oe+Math.imul(Ce,Re)|0,J=J+Math.imul(Ce,de)|0,J=J+Math.imul(Oe,Re)|0,ee=ee+Math.imul(Oe,de)|0,oe=oe+Math.imul(ze,Ne)|0,J=J+Math.imul(ze,Ye)|0,J=J+Math.imul(Me,Ne)|0,ee=ee+Math.imul(Me,Ye)|0,oe=oe+Math.imul(Te,lt)|0,J=J+Math.imul(Te,Ht)|0,J=J+Math.imul(Le,lt)|0,ee=ee+Math.imul(Le,Ht)|0,oe=oe+Math.imul(he,Tt)|0,J=J+Math.imul(he,Lt)|0,J=J+Math.imul(me,Tt)|0,ee=ee+Math.imul(me,Lt)|0,oe=oe+Math.imul(j,vr)|0,J=J+Math.imul(j,gt)|0,J=J+Math.imul(se,vr)|0,ee=ee+Math.imul(se,gt)|0,oe=oe+Math.imul(q,$t)|0,J=J+Math.imul(q,mr)|0,J=J+Math.imul(le,$t)|0,ee=ee+Math.imul(le,mr)|0;var fr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(fr>>>26)|0,fr&=67108863,oe=Math.imul(vt,We),J=Math.imul(vt,je),J=J+Math.imul(dt,We)|0,ee=Math.imul(dt,je),oe=oe+Math.imul(Je,ke)|0,J=J+Math.imul(Je,Ue)|0,J=J+Math.imul(et,ke)|0,ee=ee+Math.imul(et,Ue)|0,oe=oe+Math.imul(Ge,Re)|0,J=J+Math.imul(Ge,de)|0,J=J+Math.imul(Ze,Re)|0,ee=ee+Math.imul(Ze,de)|0,oe=oe+Math.imul(Ce,Ne)|0,J=J+Math.imul(Ce,Ye)|0,J=J+Math.imul(Oe,Ne)|0,ee=ee+Math.imul(Oe,Ye)|0,oe=oe+Math.imul(ze,lt)|0,J=J+Math.imul(ze,Ht)|0,J=J+Math.imul(Me,lt)|0,ee=ee+Math.imul(Me,Ht)|0,oe=oe+Math.imul(Te,Tt)|0,J=J+Math.imul(Te,Lt)|0,J=J+Math.imul(Le,Tt)|0,ee=ee+Math.imul(Le,Lt)|0,oe=oe+Math.imul(he,vr)|0,J=J+Math.imul(he,gt)|0,J=J+Math.imul(me,vr)|0,ee=ee+Math.imul(me,gt)|0,oe=oe+Math.imul(j,$t)|0,J=J+Math.imul(j,mr)|0,J=J+Math.imul(se,$t)|0,ee=ee+Math.imul(se,mr)|0,oe=oe+Math.imul(q,yt)|0,J=J+Math.imul(q,ut)|0,J=J+Math.imul(le,yt)|0,ee=ee+Math.imul(le,ut)|0;var Lr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,oe=Math.imul(Mt,We),J=Math.imul(Mt,je),J=J+Math.imul(nt,We)|0,ee=Math.imul(nt,je),oe=oe+Math.imul(vt,ke)|0,J=J+Math.imul(vt,Ue)|0,J=J+Math.imul(dt,ke)|0,ee=ee+Math.imul(dt,Ue)|0,oe=oe+Math.imul(Je,Re)|0,J=J+Math.imul(Je,de)|0,J=J+Math.imul(et,Re)|0,ee=ee+Math.imul(et,de)|0,oe=oe+Math.imul(Ge,Ne)|0,J=J+Math.imul(Ge,Ye)|0,J=J+Math.imul(Ze,Ne)|0,ee=ee+Math.imul(Ze,Ye)|0,oe=oe+Math.imul(Ce,lt)|0,J=J+Math.imul(Ce,Ht)|0,J=J+Math.imul(Oe,lt)|0,ee=ee+Math.imul(Oe,Ht)|0,oe=oe+Math.imul(ze,Tt)|0,J=J+Math.imul(ze,Lt)|0,J=J+Math.imul(Me,Tt)|0,ee=ee+Math.imul(Me,Lt)|0,oe=oe+Math.imul(Te,vr)|0,J=J+Math.imul(Te,gt)|0,J=J+Math.imul(Le,vr)|0,ee=ee+Math.imul(Le,gt)|0,oe=oe+Math.imul(he,$t)|0,J=J+Math.imul(he,mr)|0,J=J+Math.imul(me,$t)|0,ee=ee+Math.imul(me,mr)|0,oe=oe+Math.imul(j,yt)|0,J=J+Math.imul(j,ut)|0,J=J+Math.imul(se,yt)|0,ee=ee+Math.imul(se,ut)|0,oe=oe+Math.imul(q,Et)|0,J=J+Math.imul(q,It)|0,J=J+Math.imul(le,Et)|0,ee=ee+Math.imul(le,It)|0;var xr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(xr>>>26)|0,xr&=67108863,oe=Math.imul(Mt,ke),J=Math.imul(Mt,Ue),J=J+Math.imul(nt,ke)|0,ee=Math.imul(nt,Ue),oe=oe+Math.imul(vt,Re)|0,J=J+Math.imul(vt,de)|0,J=J+Math.imul(dt,Re)|0,ee=ee+Math.imul(dt,de)|0,oe=oe+Math.imul(Je,Ne)|0,J=J+Math.imul(Je,Ye)|0,J=J+Math.imul(et,Ne)|0,ee=ee+Math.imul(et,Ye)|0,oe=oe+Math.imul(Ge,lt)|0,J=J+Math.imul(Ge,Ht)|0,J=J+Math.imul(Ze,lt)|0,ee=ee+Math.imul(Ze,Ht)|0,oe=oe+Math.imul(Ce,Tt)|0,J=J+Math.imul(Ce,Lt)|0,J=J+Math.imul(Oe,Tt)|0,ee=ee+Math.imul(Oe,Lt)|0,oe=oe+Math.imul(ze,vr)|0,J=J+Math.imul(ze,gt)|0,J=J+Math.imul(Me,vr)|0,ee=ee+Math.imul(Me,gt)|0,oe=oe+Math.imul(Te,$t)|0,J=J+Math.imul(Te,mr)|0,J=J+Math.imul(Le,$t)|0,ee=ee+Math.imul(Le,mr)|0,oe=oe+Math.imul(he,yt)|0,J=J+Math.imul(he,ut)|0,J=J+Math.imul(me,yt)|0,ee=ee+Math.imul(me,ut)|0,oe=oe+Math.imul(j,Et)|0,J=J+Math.imul(j,It)|0,J=J+Math.imul(se,Et)|0,ee=ee+Math.imul(se,It)|0;var Qe=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,oe=Math.imul(Mt,Re),J=Math.imul(Mt,de),J=J+Math.imul(nt,Re)|0,ee=Math.imul(nt,de),oe=oe+Math.imul(vt,Ne)|0,J=J+Math.imul(vt,Ye)|0,J=J+Math.imul(dt,Ne)|0,ee=ee+Math.imul(dt,Ye)|0,oe=oe+Math.imul(Je,lt)|0,J=J+Math.imul(Je,Ht)|0,J=J+Math.imul(et,lt)|0,ee=ee+Math.imul(et,Ht)|0,oe=oe+Math.imul(Ge,Tt)|0,J=J+Math.imul(Ge,Lt)|0,J=J+Math.imul(Ze,Tt)|0,ee=ee+Math.imul(Ze,Lt)|0,oe=oe+Math.imul(Ce,vr)|0,J=J+Math.imul(Ce,gt)|0,J=J+Math.imul(Oe,vr)|0,ee=ee+Math.imul(Oe,gt)|0,oe=oe+Math.imul(ze,$t)|0,J=J+Math.imul(ze,mr)|0,J=J+Math.imul(Me,$t)|0,ee=ee+Math.imul(Me,mr)|0,oe=oe+Math.imul(Te,yt)|0,J=J+Math.imul(Te,ut)|0,J=J+Math.imul(Le,yt)|0,ee=ee+Math.imul(Le,ut)|0,oe=oe+Math.imul(he,Et)|0,J=J+Math.imul(he,It)|0,J=J+Math.imul(me,Et)|0,ee=ee+Math.imul(me,It)|0;var rt=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(rt>>>26)|0,rt&=67108863,oe=Math.imul(Mt,Ne),J=Math.imul(Mt,Ye),J=J+Math.imul(nt,Ne)|0,ee=Math.imul(nt,Ye),oe=oe+Math.imul(vt,lt)|0,J=J+Math.imul(vt,Ht)|0,J=J+Math.imul(dt,lt)|0,ee=ee+Math.imul(dt,Ht)|0,oe=oe+Math.imul(Je,Tt)|0,J=J+Math.imul(Je,Lt)|0,J=J+Math.imul(et,Tt)|0,ee=ee+Math.imul(et,Lt)|0,oe=oe+Math.imul(Ge,vr)|0,J=J+Math.imul(Ge,gt)|0,J=J+Math.imul(Ze,vr)|0,ee=ee+Math.imul(Ze,gt)|0,oe=oe+Math.imul(Ce,$t)|0,J=J+Math.imul(Ce,mr)|0,J=J+Math.imul(Oe,$t)|0,ee=ee+Math.imul(Oe,mr)|0,oe=oe+Math.imul(ze,yt)|0,J=J+Math.imul(ze,ut)|0,J=J+Math.imul(Me,yt)|0,ee=ee+Math.imul(Me,ut)|0,oe=oe+Math.imul(Te,Et)|0,J=J+Math.imul(Te,It)|0,J=J+Math.imul(Le,Et)|0,ee=ee+Math.imul(Le,It)|0;var er=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(er>>>26)|0,er&=67108863,oe=Math.imul(Mt,lt),J=Math.imul(Mt,Ht),J=J+Math.imul(nt,lt)|0,ee=Math.imul(nt,Ht),oe=oe+Math.imul(vt,Tt)|0,J=J+Math.imul(vt,Lt)|0,J=J+Math.imul(dt,Tt)|0,ee=ee+Math.imul(dt,Lt)|0,oe=oe+Math.imul(Je,vr)|0,J=J+Math.imul(Je,gt)|0,J=J+Math.imul(et,vr)|0,ee=ee+Math.imul(et,gt)|0,oe=oe+Math.imul(Ge,$t)|0,J=J+Math.imul(Ge,mr)|0,J=J+Math.imul(Ze,$t)|0,ee=ee+Math.imul(Ze,mr)|0,oe=oe+Math.imul(Ce,yt)|0,J=J+Math.imul(Ce,ut)|0,J=J+Math.imul(Oe,yt)|0,ee=ee+Math.imul(Oe,ut)|0,oe=oe+Math.imul(ze,Et)|0,J=J+Math.imul(ze,It)|0,J=J+Math.imul(Me,Et)|0,ee=ee+Math.imul(Me,It)|0;var tr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(tr>>>26)|0,tr&=67108863,oe=Math.imul(Mt,Tt),J=Math.imul(Mt,Lt),J=J+Math.imul(nt,Tt)|0,ee=Math.imul(nt,Lt),oe=oe+Math.imul(vt,vr)|0,J=J+Math.imul(vt,gt)|0,J=J+Math.imul(dt,vr)|0,ee=ee+Math.imul(dt,gt)|0,oe=oe+Math.imul(Je,$t)|0,J=J+Math.imul(Je,mr)|0,J=J+Math.imul(et,$t)|0,ee=ee+Math.imul(et,mr)|0,oe=oe+Math.imul(Ge,yt)|0,J=J+Math.imul(Ge,ut)|0,J=J+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ze,ut)|0,oe=oe+Math.imul(Ce,Et)|0,J=J+Math.imul(Ce,It)|0,J=J+Math.imul(Oe,Et)|0,ee=ee+Math.imul(Oe,It)|0;var jt=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(jt>>>26)|0,jt&=67108863,oe=Math.imul(Mt,vr),J=Math.imul(Mt,gt),J=J+Math.imul(nt,vr)|0,ee=Math.imul(nt,gt),oe=oe+Math.imul(vt,$t)|0,J=J+Math.imul(vt,mr)|0,J=J+Math.imul(dt,$t)|0,ee=ee+Math.imul(dt,mr)|0,oe=oe+Math.imul(Je,yt)|0,J=J+Math.imul(Je,ut)|0,J=J+Math.imul(et,yt)|0,ee=ee+Math.imul(et,ut)|0,oe=oe+Math.imul(Ge,Et)|0,J=J+Math.imul(Ge,It)|0,J=J+Math.imul(Ze,Et)|0,ee=ee+Math.imul(Ze,It)|0;var Pt=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,oe=Math.imul(Mt,$t),J=Math.imul(Mt,mr),J=J+Math.imul(nt,$t)|0,ee=Math.imul(nt,mr),oe=oe+Math.imul(vt,yt)|0,J=J+Math.imul(vt,ut)|0,J=J+Math.imul(dt,yt)|0,ee=ee+Math.imul(dt,ut)|0,oe=oe+Math.imul(Je,Et)|0,J=J+Math.imul(Je,It)|0,J=J+Math.imul(et,Et)|0,ee=ee+Math.imul(et,It)|0;var Zt=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,oe=Math.imul(Mt,yt),J=Math.imul(Mt,ut),J=J+Math.imul(nt,yt)|0,ee=Math.imul(nt,ut),oe=oe+Math.imul(vt,Et)|0,J=J+Math.imul(vt,It)|0,J=J+Math.imul(dt,Et)|0,ee=ee+Math.imul(dt,It)|0;var nr=(fe+oe|0)+((J&8191)<<13)|0;fe=(ee+(J>>>13)|0)+(nr>>>26)|0,nr&=67108863,oe=Math.imul(Mt,Et),J=Math.imul(Mt,It),J=J+Math.imul(nt,Et)|0,ee=Math.imul(nt,It);var Qt=(fe+oe|0)+((J&8191)<<13)|0;return fe=(ee+(J>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,ae[0]=Ft,ae[1]=Ot,ae[2]=Nt,ae[3]=Jt,ae[4]=hr,ae[5]=cr,ae[6]=dr,ae[7]=fr,ae[8]=Lr,ae[9]=xr,ae[10]=Qe,ae[11]=rt,ae[12]=er,ae[13]=tr,ae[14]=jt,ae[15]=Pt,ae[16]=Zt,ae[17]=nr,ae[18]=Qt,fe!==0&&(ae[19]=fe,Y.length++),Y};Math.imul||(R=A);function m(B,F,G){G.negative=F.negative^B.negative,G.length=B.length+F.length;for(var Y=0,Q=0,te=0;te<G.length-1;te++){var ae=Q;Q=0;for(var fe=Y&67108863,oe=Math.min(te,F.length-1),J=Math.max(0,te-B.length+1);J<=oe;J++){var ee=te-J,X=B.words[ee]|0,q=F.words[J]|0,le=X*q,$=le&67108863;ae=ae+(le/67108864|0)|0,$=$+fe|0,fe=$&67108863,ae=ae+($>>>26)|0,Q+=ae>>>26,ae&=67108863}G.words[te]=fe,Y=ae,ae=Q}return Y!==0?G.words[te]=Y:G.length--,G.strip()}function L(B,F,G){var Y=new M;return Y.mulp(B,F,G)}f.prototype.mulTo=function(F,G){var Y,Q=this.length+F.length;return this.length===10&&F.length===10?Y=R(this,F,G):Q<63?Y=A(this,F,G):Q<1024?Y=m(this,F,G):Y=L(this,F,G),Y};function M(B,F){this.x=B,this.y=F}M.prototype.makeRBT=function(F){for(var G=new Array(F),Y=f.prototype._countBits(F)-1,Q=0;Q<F;Q++)G[Q]=this.revBin(Q,Y,F);return G},M.prototype.revBin=function(F,G,Y){if(F===0||F===Y-1)return F;for(var Q=0,te=0;te<G;te++)Q|=(F&1)<<G-te-1,F>>=1;return Q},M.prototype.permute=function(F,G,Y,Q,te,ae){for(var fe=0;fe<ae;fe++)Q[fe]=G[F[fe]],te[fe]=Y[F[fe]]},M.prototype.transform=function(F,G,Y,Q,te,ae){this.permute(ae,F,G,Y,Q,te);for(var fe=1;fe<te;fe<<=1)for(var oe=fe<<1,J=Math.cos(2*Math.PI/oe),ee=Math.sin(2*Math.PI/oe),X=0;X<te;X+=oe)for(var q=J,le=ee,$=0;$<fe;$++){var j=Y[X+$],se=Q[X+$],ne=Y[X+$+fe],he=Q[X+$+fe],me=q*ne-le*he;he=q*he+le*ne,ne=me,Y[X+$]=j+ne,Q[X+$]=se+he,Y[X+$+fe]=j-ne,Q[X+$+fe]=se-he,$!==oe&&(me=J*q-ee*le,le=J*le+ee*q,q=me)}},M.prototype.guessLen13b=function(F,G){var Y=Math.max(G,F)|1,Q=Y&1,te=0;for(Y=Y/2|0;Y;Y=Y>>>1)te++;return 1<<te+1+Q},M.prototype.conjugate=function(F,G,Y){if(!(Y<=1))for(var Q=0;Q<Y/2;Q++){var te=F[Q];F[Q]=F[Y-Q-1],F[Y-Q-1]=te,te=G[Q],G[Q]=-G[Y-Q-1],G[Y-Q-1]=-te}},M.prototype.normalize13b=function(F,G){for(var Y=0,Q=0;Q<G/2;Q++){var te=Math.round(F[2*Q+1]/G)*8192+Math.round(F[2*Q]/G)+Y;F[Q]=te&67108863,te<67108864?Y=0:Y=te/67108864|0}return F},M.prototype.convert13b=function(F,G,Y,Q){for(var te=0,ae=0;ae<G;ae++)te=te+(F[ae]|0),Y[2*ae]=te&8191,te=te>>>13,Y[2*ae+1]=te&8191,te=te>>>13;for(ae=2*G;ae<Q;++ae)Y[ae]=0;a(te===0),a((te&-8192)===0)},M.prototype.stub=function(F){for(var G=new Array(F),Y=0;Y<F;Y++)G[Y]=0;return G},M.prototype.mulp=function(F,G,Y){var Q=2*this.guessLen13b(F.length,G.length),te=this.makeRBT(Q),ae=this.stub(Q),fe=new Array(Q),oe=new Array(Q),J=new Array(Q),ee=new Array(Q),X=new Array(Q),q=new Array(Q),le=Y.words;le.length=Q,this.convert13b(F.words,F.length,fe,Q),this.convert13b(G.words,G.length,ee,Q),this.transform(fe,ae,oe,J,Q,te),this.transform(ee,ae,X,q,Q,te);for(var $=0;$<Q;$++){var j=oe[$]*X[$]-J[$]*q[$];J[$]=oe[$]*q[$]+J[$]*X[$],oe[$]=j}return this.conjugate(oe,J,Q),this.transform(oe,J,le,ae,Q,te),this.conjugate(le,ae,Q),this.normalize13b(le,Q),Y.negative=F.negative^G.negative,Y.length=F.length+G.length,Y.strip()},f.prototype.mul=function(F){var G=new f(null);return G.words=new Array(this.length+F.length),this.mulTo(F,G)},f.prototype.mulf=function(F){var G=new f(null);return G.words=new Array(this.length+F.length),L(this,F,G)},f.prototype.imul=function(F){return this.clone().mulTo(F,this)},f.prototype.imuln=function(F){a(typeof F=="number"),a(F<67108864);for(var G=0,Y=0;Y<this.length;Y++){var Q=(this.words[Y]|0)*F,te=(Q&67108863)+(G&67108863);G>>=26,G+=Q/67108864|0,G+=te>>>26,this.words[Y]=te&67108863}return G!==0&&(this.words[Y]=G,this.length++),this},f.prototype.muln=function(F){return this.clone().imuln(F)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(F){var G=b(F);if(G.length===0)return new f(1);for(var Y=this,Q=0;Q<G.length&&G[Q]===0;Q++,Y=Y.sqr());if(++Q<G.length)for(var te=Y.sqr();Q<G.length;Q++,te=te.sqr())G[Q]!==0&&(Y=Y.mul(te));return Y},f.prototype.iushln=function(F){a(typeof F=="number"&&F>=0);var G=F%26,Y=(F-G)/26,Q=67108863>>>26-G<<26-G,te;if(G!==0){var ae=0;for(te=0;te<this.length;te++){var fe=this.words[te]&Q,oe=(this.words[te]|0)-fe<<G;this.words[te]=oe|ae,ae=fe>>>26-G}ae&&(this.words[te]=ae,this.length++)}if(Y!==0){for(te=this.length-1;te>=0;te--)this.words[te+Y]=this.words[te];for(te=0;te<Y;te++)this.words[te]=0;this.length+=Y}return this.strip()},f.prototype.ishln=function(F){return a(this.negative===0),this.iushln(F)},f.prototype.iushrn=function(F,G,Y){a(typeof F=="number"&&F>=0);var Q;G?Q=(G-G%26)/26:Q=0;var te=F%26,ae=Math.min((F-te)/26,this.length),fe=67108863^67108863>>>te<<te,oe=Y;if(Q-=ae,Q=Math.max(0,Q),oe){for(var J=0;J<ae;J++)oe.words[J]=this.words[J];oe.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,J=0;J<this.length;J++)this.words[J]=this.words[J+ae];else this.words[0]=0,this.length=1;var ee=0;for(J=this.length-1;J>=0&&(ee!==0||J>=Q);J--){var X=this.words[J]|0;this.words[J]=ee<<26-te|X>>>te,ee=X&fe}return oe&&ee!==0&&(oe.words[oe.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(F,G,Y){return a(this.negative===0),this.iushrn(F,G,Y)},f.prototype.shln=function(F){return this.clone().ishln(F)},f.prototype.ushln=function(F){return this.clone().iushln(F)},f.prototype.shrn=function(F){return this.clone().ishrn(F)},f.prototype.ushrn=function(F){return this.clone().iushrn(F)},f.prototype.testn=function(F){a(typeof F=="number"&&F>=0);var G=F%26,Y=(F-G)/26,Q=1<<G;if(this.length<=Y)return!1;var te=this.words[Y];return!!(te&Q)},f.prototype.imaskn=function(F){a(typeof F=="number"&&F>=0);var G=F%26,Y=(F-G)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(G!==0&&Y++,this.length=Math.min(Y,this.length),G!==0){var Q=67108863^67108863>>>G<<G;this.words[this.length-1]&=Q}return this.strip()},f.prototype.maskn=function(F){return this.clone().imaskn(F)},f.prototype.iaddn=function(F){return a(typeof F=="number"),a(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(this.words[0]|0)<F?(this.words[0]=F-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},f.prototype._iaddn=function(F){this.words[0]+=F;for(var G=0;G<this.length&&this.words[G]>=67108864;G++)this.words[G]-=67108864,G===this.length-1?this.words[G+1]=1:this.words[G+1]++;return this.length=Math.max(this.length,G+1),this},f.prototype.isubn=function(F){if(a(typeof F=="number"),a(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var G=0;G<this.length&&this.words[G]<0;G++)this.words[G]+=67108864,this.words[G+1]-=1;return this.strip()},f.prototype.addn=function(F){return this.clone().iaddn(F)},f.prototype.subn=function(F){return this.clone().isubn(F)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(F,G,Y){var Q=F.length+Y,te;this._expand(Q);var ae,fe=0;for(te=0;te<F.length;te++){ae=(this.words[te+Y]|0)+fe;var oe=(F.words[te]|0)*G;ae-=oe&67108863,fe=(ae>>26)-(oe/67108864|0),this.words[te+Y]=ae&67108863}for(;te<this.length-Y;te++)ae=(this.words[te+Y]|0)+fe,fe=ae>>26,this.words[te+Y]=ae&67108863;if(fe===0)return this.strip();for(a(fe===-1),fe=0,te=0;te<this.length;te++)ae=-(this.words[te]|0)+fe,fe=ae>>26,this.words[te]=ae&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(F,G){var Y=this.length-F.length,Q=this.clone(),te=F,ae=te.words[te.length-1]|0,fe=this._countBits(ae);Y=26-fe,Y!==0&&(te=te.ushln(Y),Q.iushln(Y),ae=te.words[te.length-1]|0);var oe=Q.length-te.length,J;if(G!=="mod"){J=new f(null),J.length=oe+1,J.words=new Array(J.length);for(var ee=0;ee<J.length;ee++)J.words[ee]=0}var X=Q.clone()._ishlnsubmul(te,1,oe);X.negative===0&&(Q=X,J&&(J.words[oe]=1));for(var q=oe-1;q>=0;q--){var le=(Q.words[te.length+q]|0)*67108864+(Q.words[te.length+q-1]|0);for(le=Math.min(le/ae|0,67108863),Q._ishlnsubmul(te,le,q);Q.negative!==0;)le--,Q.negative=0,Q._ishlnsubmul(te,1,q),Q.isZero()||(Q.negative^=1);J&&(J.words[q]=le)}return J&&J.strip(),Q.strip(),G!=="div"&&Y!==0&&Q.iushrn(Y),{div:J||null,mod:Q}},f.prototype.divmod=function(F,G,Y){if(a(!F.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var Q,te,ae;return this.negative!==0&&F.negative===0?(ae=this.neg().divmod(F,G),G!=="mod"&&(Q=ae.div.neg()),G!=="div"&&(te=ae.mod.neg(),Y&&te.negative!==0&&te.iadd(F)),{div:Q,mod:te}):this.negative===0&&F.negative!==0?(ae=this.divmod(F.neg(),G),G!=="mod"&&(Q=ae.div.neg()),{div:Q,mod:ae.mod}):this.negative&F.negative?(ae=this.neg().divmod(F.neg(),G),G!=="div"&&(te=ae.mod.neg(),Y&&te.negative!==0&&te.isub(F)),{div:ae.div,mod:te}):F.length>this.length||this.cmp(F)<0?{div:new f(0),mod:this}:F.length===1?G==="div"?{div:this.divn(F.words[0]),mod:null}:G==="mod"?{div:null,mod:new f(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new f(this.modn(F.words[0]))}:this._wordDiv(F,G)},f.prototype.div=function(F){return this.divmod(F,"div",!1).div},f.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},f.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},f.prototype.divRound=function(F){var G=this.divmod(F);if(G.mod.isZero())return G.div;var Y=G.div.negative!==0?G.mod.isub(F):G.mod,Q=F.ushrn(1),te=F.andln(1),ae=Y.cmp(Q);return ae<0||te===1&&ae===0?G.div:G.div.negative!==0?G.div.isubn(1):G.div.iaddn(1)},f.prototype.modn=function(F){a(F<=67108863);for(var G=(1<<26)%F,Y=0,Q=this.length-1;Q>=0;Q--)Y=(G*Y+(this.words[Q]|0))%F;return Y},f.prototype.idivn=function(F){a(F<=67108863);for(var G=0,Y=this.length-1;Y>=0;Y--){var Q=(this.words[Y]|0)+G*67108864;this.words[Y]=Q/F|0,G=Q%F}return this.strip()},f.prototype.divn=function(F){return this.clone().idivn(F)},f.prototype.egcd=function(F){a(F.negative===0),a(!F.isZero());var G=this,Y=F.clone();G.negative!==0?G=G.umod(F):G=G.clone();for(var Q=new f(1),te=new f(0),ae=new f(0),fe=new f(1),oe=0;G.isEven()&&Y.isEven();)G.iushrn(1),Y.iushrn(1),++oe;for(var J=Y.clone(),ee=G.clone();!G.isZero();){for(var X=0,q=1;!(G.words[0]&q)&&X<26;++X,q<<=1);if(X>0)for(G.iushrn(X);X-- >0;)(Q.isOdd()||te.isOdd())&&(Q.iadd(J),te.isub(ee)),Q.iushrn(1),te.iushrn(1);for(var le=0,$=1;!(Y.words[0]&$)&&le<26;++le,$<<=1);if(le>0)for(Y.iushrn(le);le-- >0;)(ae.isOdd()||fe.isOdd())&&(ae.iadd(J),fe.isub(ee)),ae.iushrn(1),fe.iushrn(1);G.cmp(Y)>=0?(G.isub(Y),Q.isub(ae),te.isub(fe)):(Y.isub(G),ae.isub(Q),fe.isub(te))}return{a:ae,b:fe,gcd:Y.iushln(oe)}},f.prototype._invmp=function(F){a(F.negative===0),a(!F.isZero());var G=this,Y=F.clone();G.negative!==0?G=G.umod(F):G=G.clone();for(var Q=new f(1),te=new f(0),ae=Y.clone();G.cmpn(1)>0&&Y.cmpn(1)>0;){for(var fe=0,oe=1;!(G.words[0]&oe)&&fe<26;++fe,oe<<=1);if(fe>0)for(G.iushrn(fe);fe-- >0;)Q.isOdd()&&Q.iadd(ae),Q.iushrn(1);for(var J=0,ee=1;!(Y.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(Y.iushrn(J);J-- >0;)te.isOdd()&&te.iadd(ae),te.iushrn(1);G.cmp(Y)>=0?(G.isub(Y),Q.isub(te)):(Y.isub(G),te.isub(Q))}var X;return G.cmpn(1)===0?X=Q:X=te,X.cmpn(0)<0&&X.iadd(F),X},f.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var G=this.clone(),Y=F.clone();G.negative=0,Y.negative=0;for(var Q=0;G.isEven()&&Y.isEven();Q++)G.iushrn(1),Y.iushrn(1);do{for(;G.isEven();)G.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var te=G.cmp(Y);if(te<0){var ae=G;G=Y,Y=ae}else if(te===0||Y.cmpn(1)===0)break;G.isub(Y)}while(!0);return Y.iushln(Q)},f.prototype.invm=function(F){return this.egcd(F).a.umod(F)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(F){return this.words[0]&F},f.prototype.bincn=function(F){a(typeof F=="number");var G=F%26,Y=(F-G)/26,Q=1<<G;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=Q,this;for(var te=Q,ae=Y;te!==0&&ae<this.length;ae++){var fe=this.words[ae]|0;fe+=te,te=fe>>>26,fe&=67108863,this.words[ae]=fe}return te!==0&&(this.words[ae]=te,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(F){var G=F<0;if(this.negative!==0&&!G)return-1;if(this.negative===0&&G)return 1;this.strip();var Y;if(this.length>1)Y=1;else{G&&(F=-F),a(F<=67108863,"Number is too big");var Q=this.words[0]|0;Y=Q===F?0:Q<F?-1:1}return this.negative!==0?-Y|0:Y},f.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var G=this.ucmp(F);return this.negative!==0?-G|0:G},f.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var G=0,Y=this.length-1;Y>=0;Y--){var Q=this.words[Y]|0,te=F.words[Y]|0;if(Q!==te){Q<te?G=-1:Q>te&&(G=1);break}}return G},f.prototype.gtn=function(F){return this.cmpn(F)===1},f.prototype.gt=function(F){return this.cmp(F)===1},f.prototype.gten=function(F){return this.cmpn(F)>=0},f.prototype.gte=function(F){return this.cmp(F)>=0},f.prototype.ltn=function(F){return this.cmpn(F)===-1},f.prototype.lt=function(F){return this.cmp(F)===-1},f.prototype.lten=function(F){return this.cmpn(F)<=0},f.prototype.lte=function(F){return this.cmp(F)<=0},f.prototype.eqn=function(F){return this.cmpn(F)===0},f.prototype.eq=function(F){return this.cmp(F)===0},f.red=function(F){return new O(F)},f.prototype.toRed=function(F){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},f.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(F){return this.red=F,this},f.prototype.forceRed=function(F){return a(!this.red,"Already a number in reduction context"),this._forceRed(F)},f.prototype.redAdd=function(F){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},f.prototype.redIAdd=function(F){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},f.prototype.redSub=function(F){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},f.prototype.redISub=function(F){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},f.prototype.redShl=function(F){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},f.prototype.redMul=function(F){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},f.prototype.redIMul=function(F){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},f.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(F){return a(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var s={k256:null,p224:null,p192:null,p25519:null};function S(B,F){this.name=B,this.p=new f(F,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var F=new f(null);return F.words=new Array(Math.ceil(this.n/13)),F},S.prototype.ireduce=function(F){var G=F,Y;do this.split(G,this.tmp),G=this.imulK(G),G=G.iadd(this.tmp),Y=G.bitLength();while(Y>this.n);var Q=Y<this.n?-1:G.ucmp(this.p);return Q===0?(G.words[0]=0,G.length=1):Q>0?G.isub(this.p):G.strip!==void 0?G.strip():G._strip(),G},S.prototype.split=function(F,G){F.iushrn(this.n,0,G)},S.prototype.imulK=function(F){return F.imul(this.k)};function w(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(w,S),w.prototype.split=function(F,G){for(var Y=4194303,Q=Math.min(F.length,9),te=0;te<Q;te++)G.words[te]=F.words[te];if(G.length=Q,F.length<=9){F.words[0]=0,F.length=1;return}var ae=F.words[9];for(G.words[G.length++]=ae&Y,te=10;te<F.length;te++){var fe=F.words[te]|0;F.words[te-10]=(fe&Y)<<4|ae>>>22,ae=fe}ae>>>=22,F.words[te-10]=ae,ae===0&&F.length>10?F.length-=10:F.length-=9},w.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var G=0,Y=0;Y<F.length;Y++){var Q=F.words[Y]|0;G+=Q*977,F.words[Y]=G&67108863,G=Q*64+(G/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F};function _(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(_,S);function I(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(I,S);function H(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(H,S),H.prototype.imulK=function(F){for(var G=0,Y=0;Y<F.length;Y++){var Q=(F.words[Y]|0)*19+G,te=Q&67108863;Q>>>=26,F.words[Y]=te,G=Q}return G!==0&&(F.words[F.length++]=G),F},f._prime=function(F){if(s[F])return s[F];var G;if(F==="k256")G=new w;else if(F==="p224")G=new _;else if(F==="p192")G=new I;else if(F==="p25519")G=new H;else throw new Error("Unknown prime "+F);return s[F]=G,G};function O(B){if(typeof B=="string"){var F=f._prime(B);this.m=F.p,this.prime=F}else a(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}O.prototype._verify1=function(F){a(F.negative===0,"red works only with positives"),a(F.red,"red works only with red numbers")},O.prototype._verify2=function(F,G){a((F.negative|G.negative)===0,"red works only with positives"),a(F.red&&F.red===G.red,"red works only with red numbers")},O.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},O.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},O.prototype.add=function(F,G){this._verify2(F,G);var Y=F.add(G);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},O.prototype.iadd=function(F,G){this._verify2(F,G);var Y=F.iadd(G);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},O.prototype.sub=function(F,G){this._verify2(F,G);var Y=F.sub(G);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},O.prototype.isub=function(F,G){this._verify2(F,G);var Y=F.isub(G);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},O.prototype.shl=function(F,G){return this._verify1(F),this.imod(F.ushln(G))},O.prototype.imul=function(F,G){return this._verify2(F,G),this.imod(F.imul(G))},O.prototype.mul=function(F,G){return this._verify2(F,G),this.imod(F.mul(G))},O.prototype.isqr=function(F){return this.imul(F,F.clone())},O.prototype.sqr=function(F){return this.mul(F,F)},O.prototype.sqrt=function(F){if(F.isZero())return F.clone();var G=this.m.andln(3);if(a(G%2===1),G===3){var Y=this.m.add(new f(1)).iushrn(2);return this.pow(F,Y)}for(var Q=this.m.subn(1),te=0;!Q.isZero()&&Q.andln(1)===0;)te++,Q.iushrn(1);a(!Q.isZero());var ae=new f(1).toRed(this),fe=ae.redNeg(),oe=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new f(2*J*J).toRed(this);this.pow(J,oe).cmp(fe)!==0;)J.redIAdd(fe);for(var ee=this.pow(J,Q),X=this.pow(F,Q.addn(1).iushrn(1)),q=this.pow(F,Q),le=te;q.cmp(ae)!==0;){for(var $=q,j=0;$.cmp(ae)!==0;j++)$=$.redSqr();a(j<le);var se=this.pow(ee,new f(1).iushln(le-j-1));X=X.redMul(se),ee=se.redSqr(),q=q.redMul(ee),le=j}return X},O.prototype.invm=function(F){var G=F._invmp(this.m);return G.negative!==0?(G.negative=0,this.imod(G).redNeg()):this.imod(G)},O.prototype.pow=function(F,G){if(G.isZero())return new f(1).toRed(this);if(G.cmpn(1)===0)return F.clone();var Y=4,Q=new Array(1<<Y);Q[0]=new f(1).toRed(this),Q[1]=F;for(var te=2;te<Q.length;te++)Q[te]=this.mul(Q[te-1],F);var ae=Q[0],fe=0,oe=0,J=G.bitLength()%26;for(J===0&&(J=26),te=G.length-1;te>=0;te--){for(var ee=G.words[te],X=J-1;X>=0;X--){var q=ee>>X&1;if(ae!==Q[0]&&(ae=this.sqr(ae)),q===0&&fe===0){oe=0;continue}fe<<=1,fe|=q,oe++,!(oe!==Y&&(te!==0||X!==0))&&(ae=this.mul(ae,Q[fe]),oe=0,fe=0)}J=26}return ae},O.prototype.convertTo=function(F){var G=F.umod(this.m);return G===F?G.clone():G},O.prototype.convertFrom=function(F){var G=F.clone();return G.red=null,G},f.mont=function(F){return new V(F)};function V(B){O.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(V,O),V.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},V.prototype.convertFrom=function(F){var G=this.imod(F.mul(this.rinv));return G.red=null,G},V.prototype.imul=function(F,G){if(F.isZero()||G.isZero())return F.words[0]=0,F.length=1,F;var Y=F.imul(G),Q=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=Y.isub(Q).iushrn(this.shift),ae=te;return te.cmp(this.m)>=0?ae=te.isub(this.m):te.cmpn(0)<0&&(ae=te.iadd(this.m)),ae._forceRed(this)},V.prototype.mul=function(F,G){if(F.isZero()||G.isZero())return new f(0)._forceRed(this);var Y=F.mul(G),Q=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=Y.isub(Q).iushrn(this.shift),ae=te;return te.cmp(this.m)>=0?ae=te.isub(this.m):te.cmpn(0)<0&&(ae=te.iadd(this.m)),ae._forceRed(this)},V.prototype.invm=function(F){var G=this.imod(F._invmp(this.m).mul(this.r2));return G._forceRed(this)}}(v,this)},6204:function(v){v.exports=p;function p(r){var t,o,a,u=r.length,f=0;for(t=0;t<u;++t)f+=r[t].length;var l=new Array(f),y=0;for(t=0;t<u;++t){var c=r[t],T=c.length;for(o=0;o<T;++o){var h=l[y++]=new Array(T-1),i=0;for(a=0;a<T;++a)a!==o&&(h[i++]=c[a]);if(o&1){var g=h[1];h[1]=h[0],h[0]=g}}}return l}},6867:function(v,p,r){v.exports=i;var t=r(1888),o=r(855),a=r(7150);function u(g,b){for(var A=0;A<g;++A)if(!(b[A]<=b[A+g]))return!0;return!1}function f(g,b,A,R){for(var m=0,L=0,M=0,s=g.length;M<s;++M){var S=g[M];if(!u(b,S)){for(var w=0;w<2*b;++w)A[m++]=S[w];R[L++]=M}}return L}function l(g,b,A,R){var m=g.length,L=b.length;if(!(m<=0||L<=0)){var M=g[0].length>>>1;if(!(M<=0)){var s,S=t.mallocDouble(2*M*m),w=t.mallocInt32(m);if(m=f(g,M,S,w),m>0){if(M===1&&R)o.init(m),s=o.sweepComplete(M,A,0,m,S,w,0,m,S,w);else{var _=t.mallocDouble(2*M*L),I=t.mallocInt32(L);L=f(b,M,_,I),L>0&&(o.init(m+L),M===1?s=o.sweepBipartite(M,A,0,m,S,w,0,L,_,I):s=a(M,A,R,m,S,w,L,_,I),t.free(_),t.free(I))}t.free(S),t.free(w)}return s}}}var y;function c(g,b){y.push([g,b])}function T(g){return y=[],l(g,g,c,!0),y}function h(g,b){return y=[],l(g,b,c,!1),y}function i(g,b,A){switch(arguments.length){case 1:return T(g);case 2:return typeof b=="function"?l(g,g,b,!0):h(g,b);case 3:return l(g,b,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,p){function r(){function a(l,y,c,T,h,i,g,b,A,R,m){for(var L=2*l,M=T,s=L*T;M<h;++M,s+=L){var S=i[y+s],w=i[y+s+l],_=g[M];e:for(var I=b,H=L*b;I<A;++I,H+=L){var O=R[y+H],V=R[y+H+l],B=m[I];if(!(V<S||w<O)){for(var F=y+1;F<l;++F){var G=i[F+s],Y=i[F+l+s],Q=R[F+H],te=R[F+l+H];if(Y<Q||te<G)continue e}var ae=c(_,B);if(ae!==void 0)return ae}}}}function u(l,y,c,T,h,i,g,b,A,R,m){for(var L=2*l,M=b,s=L*b;M<A;++M,s+=L){var S=R[y+s],w=R[y+s+l],_=m[M];e:for(var I=T,H=L*T;I<h;++I,H+=L){var O=i[y+H],V=i[y+H+l],B=g[I];if(!(w<O||V<S)){for(var F=y+1;F<l;++F){var G=i[F+H],Y=i[F+l+H],Q=R[F+s],te=R[F+l+s];if(Y<Q||te<G)continue e}var ae=c(B,_);if(ae!==void 0)return ae}}}}function f(l,y,c,T,h,i,g,b,A,R,m){return h-T>A-b?a(l,y,c,T,h,i,g,b,A,R,m):u(l,y,c,T,h,i,g,b,A,R,m)}return f}function t(){function a(c,T,h,i,g,b,A,R,m,L,M){for(var s=2*c,S=i,w=s*i;S<g;++S,w+=s){var _=b[T+w],I=b[T+w+c],H=A[S];e:for(var O=R,V=s*R;O<m;++O,V+=s){var B=L[T+V],F=M[O];if(!(B<=_||I<B)){for(var G=T+1;G<c;++G){var Y=b[G+w],Q=b[G+c+w],te=L[G+V],ae=L[G+c+V];if(Q<te||ae<Y)continue e}var fe=h(F,H);if(fe!==void 0)return fe}}}}function u(c,T,h,i,g,b,A,R,m,L,M){for(var s=2*c,S=i,w=s*i;S<g;++S,w+=s){var _=b[T+w],I=b[T+w+c],H=A[S];e:for(var O=R,V=s*R;O<m;++O,V+=s){var B=L[T+V],F=M[O];if(!(B<_||I<B)){for(var G=T+1;G<c;++G){var Y=b[G+w],Q=b[G+c+w],te=L[G+V],ae=L[G+c+V];if(Q<te||ae<Y)continue e}var fe=h(H,F);if(fe!==void 0)return fe}}}}function f(c,T,h,i,g,b,A,R,m,L,M){for(var s=2*c,S=R,w=s*R;S<m;++S,w+=s){var _=L[T+w],I=M[S];e:for(var H=i,O=s*i;H<g;++H,O+=s){var V=b[T+O],B=b[T+O+c],F=A[H];if(!(_<=V||B<_)){for(var G=T+1;G<c;++G){var Y=b[G+O],Q=b[G+c+O],te=L[G+w],ae=L[G+c+w];if(Q<te||ae<Y)continue e}var fe=h(I,F);if(fe!==void 0)return fe}}}}function l(c,T,h,i,g,b,A,R,m,L,M){for(var s=2*c,S=R,w=s*R;S<m;++S,w+=s){var _=L[T+w],I=M[S];e:for(var H=i,O=s*i;H<g;++H,O+=s){var V=b[T+O],B=b[T+O+c],F=A[H];if(!(_<V||B<_)){for(var G=T+1;G<c;++G){var Y=b[G+O],Q=b[G+c+O],te=L[G+w],ae=L[G+c+w];if(Q<te||ae<Y)continue e}var fe=h(F,I);if(fe!==void 0)return fe}}}}function y(c,T,h,i,g,b,A,R,m,L,M,s){return b-g>L-m?i?a(c,T,h,g,b,A,R,m,L,M,s):u(c,T,h,g,b,A,R,m,L,M,s):i?f(c,T,h,g,b,A,R,m,L,M,s):l(c,T,h,g,b,A,R,m,L,M,s)}return y}function o(a){return a?r():t()}p.partial=o(!1),p.full=o(!0)},7150:function(v,p,r){v.exports=B;var t=r(1888),o=r(8828),a=r(2455),u=a.partial,f=a.full,l=r(855),y=r(3545),c=r(8105),T=128,h=1<<22,i=1<<22,g=c("!(lo>=p0)&&!(p1>=hi)"),b=c("lo===p0"),A=c("lo<p0"),R=c("hi<=p0"),m=c("lo<=p0&&p0<=hi"),L=c("lo<p0&&p0<=hi"),M=6,s=2,S=1024,w=t.mallocInt32(S),_=t.mallocDouble(S);function I(F,G){var Y=8*o.log2(G+1)*(F+1)|0,Q=o.nextPow2(M*Y);w.length<Q&&(t.free(w),w=t.mallocInt32(Q));var te=o.nextPow2(s*Y);_.length<te&&(t.free(_),_=t.mallocDouble(te))}function H(F,G,Y,Q,te,ae,fe,oe,J){var ee=M*F;w[ee]=G,w[ee+1]=Y,w[ee+2]=Q,w[ee+3]=te,w[ee+4]=ae,w[ee+5]=fe;var X=s*F;_[X]=oe,_[X+1]=J}function O(F,G,Y,Q,te,ae,fe,oe,J,ee,X){var q=2*F,le=J*q,$=ee[le+G];e:for(var j=te,se=te*q;j<ae;++j,se+=q){var ne=fe[se+G],he=fe[se+G+F];if(!($<ne||he<$)&&!(Q&&$===ne)){for(var me=oe[j],we=G+1;we<F;++we){var ne=fe[se+we],he=fe[se+we+F],Te=ee[le+we],Le=ee[le+we+F];if(he<Te||Le<ne)continue e}var Ie;if(Q?Ie=Y(X,me):Ie=Y(me,X),Ie!==void 0)return Ie}}}function V(F,G,Y,Q,te,ae,fe,oe,J,ee){var X=2*F,q=oe*X,le=J[q+G];e:for(var $=Q,j=Q*X;$<te;++$,j+=X){var se=fe[$];if(se!==ee){var ne=ae[j+G],he=ae[j+G+F];if(!(le<ne||he<le)){for(var me=G+1;me<F;++me){var ne=ae[j+me],he=ae[j+me+F],we=J[q+me],Te=J[q+me+F];if(he<we||Te<ne)continue e}var Le=Y(se,ee);if(Le!==void 0)return Le}}}}function B(F,G,Y,Q,te,ae,fe,oe,J){I(F,Q+fe);var ee=0,X=2*F,q;for(H(ee++,0,0,Q,0,fe,Y?16:0,-1/0,1/0),Y||H(ee++,0,0,fe,0,Q,1,-1/0,1/0);ee>0;){ee-=1;var le=ee*M,$=w[le],j=w[le+1],se=w[le+2],ne=w[le+3],he=w[le+4],me=w[le+5],we=ee*s,Te=_[we],Le=_[we+1],Ie=me&1,ze=!!(me&16),Me=te,_e=ae,Ce=oe,Oe=J;if(Ie&&(Me=oe,_e=J,Ce=te,Oe=ae),!(me&2&&(se=A(F,$,j,se,Me,_e,Le),j>=se))&&!(me&4&&(j=R(F,$,j,se,Me,_e,Te),j>=se))){var Pe=se-j,Ge=he-ne;if(ze){if(F*Pe*(Pe+Ge)<i){if(q=l.scanComplete(F,$,G,j,se,Me,_e,ne,he,Ce,Oe),q!==void 0)return q;continue}}else if(F*Math.min(Pe,Ge)<T){if(q=u(F,$,G,Ie,j,se,Me,_e,ne,he,Ce,Oe),q!==void 0)return q;continue}else if(F*Pe*Ge<h){if(q=l.scanBipartite(F,$,G,Ie,j,se,Me,_e,ne,he,Ce,Oe),q!==void 0)return q;continue}var Ze=g(F,$,j,se,Me,_e,Te,Le);if(j<Ze)if(F*(Ze-j)<T){if(q=f(F,$+1,G,j,Ze,Me,_e,ne,he,Ce,Oe),q!==void 0)return q}else if($===F-2){if(Ie?q=l.sweepBipartite(F,G,ne,he,Ce,Oe,j,Ze,Me,_e):q=l.sweepBipartite(F,G,j,Ze,Me,_e,ne,he,Ce,Oe),q!==void 0)return q}else H(ee++,$+1,j,Ze,ne,he,Ie,-1/0,1/0),H(ee++,$+1,ne,he,j,Ze,Ie^1,-1/0,1/0);if(Ze<se){var it=y(F,$,ne,he,Ce,Oe),Je=Ce[X*it+$],et=b(F,$,it,he,Ce,Oe,Je);if(et<he&&H(ee++,$,Ze,se,et,he,(Ie|4)+(ze?16:0),Je,Le),ne<it&&H(ee++,$,Ze,se,ne,it,(Ie|2)+(ze?16:0),Te,Je),it+1===et){if(ze?q=V(F,$,G,Ze,se,Me,_e,it,Ce,Oe[it]):q=O(F,$,G,Ie,Ze,se,Me,_e,it,Ce,Oe[it]),q!==void 0)return q}else if(it<et){var ft;if(ze){if(ft=m(F,$,Ze,se,Me,_e,Je),Ze<ft){var vt=b(F,$,Ze,ft,Me,_e,Je);if($===F-2){if(Ze<vt&&(q=l.sweepComplete(F,G,Ze,vt,Me,_e,it,et,Ce,Oe),q!==void 0)||vt<ft&&(q=l.sweepBipartite(F,G,vt,ft,Me,_e,it,et,Ce,Oe),q!==void 0))return q}else Ze<vt&&H(ee++,$+1,Ze,vt,it,et,16,-1/0,1/0),vt<ft&&(H(ee++,$+1,vt,ft,it,et,0,-1/0,1/0),H(ee++,$+1,it,et,vt,ft,1,-1/0,1/0))}}else Ie?ft=L(F,$,Ze,se,Me,_e,Je):ft=m(F,$,Ze,se,Me,_e,Je),Ze<ft&&($===F-2?Ie?q=l.sweepBipartite(F,G,it,et,Ce,Oe,Ze,ft,Me,_e):q=l.sweepBipartite(F,G,Ze,ft,Me,_e,it,et,Ce,Oe):(H(ee++,$+1,Ze,ft,it,et,Ie,-1/0,1/0),H(ee++,$+1,it,et,Ze,ft,Ie^1,-1/0,1/0)))}}}}}},3545:function(v,p,r){v.exports=f;var t=r(8105),o=t("lo<p0"),a=8;function u(l,y,c,T,h,i){for(var g=2*l,b=g*(c+1)+y,A=c+1;A<T;++A,b+=g)for(var R=h[b],m=A,L=g*(A-1);m>c&&h[L+y]>R;--m,L-=g){for(var M=L,s=L+g,S=0;S<g;++S,++M,++s){var w=h[M];h[M]=h[s],h[s]=w}var _=i[m];i[m]=i[m-1],i[m-1]=_}}function f(l,y,c,T,h,i){if(T<=c+1)return c;for(var g=c,b=T,A=T+c>>>1,R=2*l,m=A,L=h[R*A+y];g<b;){if(b-g<a){u(l,y,g,b,h,i),L=h[R*A+y];break}var M=b-g,s=Math.random()*M+g|0,S=h[R*s+y],w=Math.random()*M+g|0,_=h[R*w+y],I=Math.random()*M+g|0,H=h[R*I+y];S<=_?H>=_?(m=w,L=_):S>=H?(m=s,L=S):(m=I,L=H):_>=H?(m=w,L=_):H>=S?(m=s,L=S):(m=I,L=H);for(var B=R*(b-1),F=R*m,O=0;O<R;++O,++B,++F){var V=h[B];h[B]=h[F],h[F]=V}var G=i[b-1];i[b-1]=i[m],i[m]=G,m=o(l,y,g,b-1,h,i,L);for(var B=R*(b-1),F=R*m,O=0;O<R;++O,++B,++F){var V=h[B];h[B]=h[F],h[F]=V}var G=i[b-1];if(i[b-1]=i[m],i[m]=G,A<m){for(b=m-1;g<b&&h[R*(b-1)+y]===L;)b-=1;b+=1}else if(m<A)for(g=m+1;g<b&&h[R*g+y]===L;)g+=1;else break}return o(l,y,c,A,h,i,h[R*A+y])}},8105:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":o,"lo<=p0":a,"hi<=p0":u,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":y};function r(c){return p[c]}function t(c,T,h,i,g,b,A){for(var R=2*c,m=R*h,L=m,M=h,s=T,S=c+T,w=h;i>w;++w,m+=R){var _=g[m+s];if(_===A)if(M===w)M+=1,L+=R;else{for(var I=0;R>I;++I){var H=g[m+I];g[m+I]=g[L],g[L++]=H}var O=b[w];b[w]=b[M],b[M++]=O}}return M}function o(c,T,h,i,g,b,A){for(var R=2*c,m=R*h,L=m,M=h,s=T,S=c+T,w=h;i>w;++w,m+=R){var _=g[m+s];if(_<A)if(M===w)M+=1,L+=R;else{for(var I=0;R>I;++I){var H=g[m+I];g[m+I]=g[L],g[L++]=H}var O=b[w];b[w]=b[M],b[M++]=O}}return M}function a(c,T,h,i,g,b,A){for(var R=2*c,m=R*h,L=m,M=h,s=T,S=c+T,w=h;i>w;++w,m+=R){var _=g[m+S];if(_<=A)if(M===w)M+=1,L+=R;else{for(var I=0;R>I;++I){var H=g[m+I];g[m+I]=g[L],g[L++]=H}var O=b[w];b[w]=b[M],b[M++]=O}}return M}function u(c,T,h,i,g,b,A){for(var R=2*c,m=R*h,L=m,M=h,s=T,S=c+T,w=h;i>w;++w,m+=R){var _=g[m+S];if(_<=A)if(M===w)M+=1,L+=R;else{for(var I=0;R>I;++I){var H=g[m+I];g[m+I]=g[L],g[L++]=H}var O=b[w];b[w]=b[M],b[M++]=O}}return M}function f(c,T,h,i,g,b,A){for(var R=2*c,m=R*h,L=m,M=h,s=T,S=c+T,w=h;i>w;++w,m+=R){var _=g[m+s],I=g[m+S];if(_<=A&&A<=I)if(M===w)M+=1,L+=R;else{for(var H=0;R>H;++H){var O=g[m+H];g[m+H]=g[L],g[L++]=O}var V=b[w];b[w]=b[M],b[M++]=V}}return M}function l(c,T,h,i,g,b,A){for(var R=2*c,m=R*h,L=m,M=h,s=T,S=c+T,w=h;i>w;++w,m+=R){var _=g[m+s],I=g[m+S];if(_<A&&A<=I)if(M===w)M+=1,L+=R;else{for(var H=0;R>H;++H){var O=g[m+H];g[m+H]=g[L],g[L++]=O}var V=b[w];b[w]=b[M],b[M++]=V}}return M}function y(c,T,h,i,g,b,A,R){for(var m=2*c,L=m*h,M=L,s=h,S=T,w=c+T,_=h;i>_;++_,L+=m){var I=g[L+S],H=g[L+w];if(!(I>=A)&&!(R>=H))if(s===_)s+=1,M+=m;else{for(var O=0;m>O;++O){var V=g[L+O];g[L+O]=g[M],g[M++]=V}var B=b[_];b[_]=b[s],b[s++]=B}}return s}},1811:function(v){v.exports=r;var p=32;function r(T,h){h<=4*p?t(0,h-1,T):c(0,h-1,T)}function t(T,h,i){for(var g=2*(T+1),b=T+1;b<=h;++b){for(var A=i[g++],R=i[g++],m=b,L=g-2;m-- >T;){var M=i[L-2],s=i[L-1];if(M<A)break;if(M===A&&s<R)break;i[L]=M,i[L+1]=s,L-=2}i[L]=A,i[L+1]=R}}function o(T,h,i){T*=2,h*=2;var g=i[T],b=i[T+1];i[T]=i[h],i[T+1]=i[h+1],i[h]=g,i[h+1]=b}function a(T,h,i){T*=2,h*=2,i[T]=i[h],i[T+1]=i[h+1]}function u(T,h,i,g){T*=2,h*=2,i*=2;var b=g[T],A=g[T+1];g[T]=g[h],g[T+1]=g[h+1],g[h]=g[i],g[h+1]=g[i+1],g[i]=b,g[i+1]=A}function f(T,h,i,g,b){T*=2,h*=2,b[T]=b[h],b[h]=i,b[T+1]=b[h+1],b[h+1]=g}function l(T,h,i){T*=2,h*=2;var g=i[T],b=i[h];return g<b?!1:g===b?i[T+1]>i[h+1]:!0}function y(T,h,i,g){T*=2;var b=g[T];return b<h?!0:b===h?g[T+1]<i:!1}function c(T,h,i){var g=(h-T+1)/6|0,b=T+g,A=h-g,R=T+h>>1,m=R-g,L=R+g,M=b,s=m,S=R,w=L,_=A,I=T+1,H=h-1,O=0;l(M,s,i)&&(O=M,M=s,s=O),l(w,_,i)&&(O=w,w=_,_=O),l(M,S,i)&&(O=M,M=S,S=O),l(s,S,i)&&(O=s,s=S,S=O),l(M,w,i)&&(O=M,M=w,w=O),l(S,w,i)&&(O=S,S=w,w=O),l(s,_,i)&&(O=s,s=_,_=O),l(s,S,i)&&(O=s,s=S,S=O),l(w,_,i)&&(O=w,w=_,_=O);for(var V=i[2*s],B=i[2*s+1],F=i[2*w],G=i[2*w+1],Y=2*M,Q=2*S,te=2*_,ae=2*b,fe=2*R,oe=2*A,J=0;J<2;++J){var ee=i[Y+J],X=i[Q+J],q=i[te+J];i[ae+J]=ee,i[fe+J]=X,i[oe+J]=q}a(m,T,i),a(L,h,i);for(var le=I;le<=H;++le)if(y(le,V,B,i))le!==I&&o(le,I,i),++I;else if(!y(le,F,G,i))for(;;)if(y(H,F,G,i)){y(H,V,B,i)?(u(le,I,H,i),++I,--H):(o(le,H,i),--H);break}else{if(--H<le)break;continue}f(T,I-1,V,B,i),f(h,H+1,F,G,i),I-2-T<=p?t(T,I-2,i):c(T,I-2,i),h-(H+2)<=p?t(H+2,h,i):c(H+2,h,i),H-I<=p?t(I,H,i):c(I,H,i)}},855:function(v,p,r){v.exports={init:b,sweepBipartite:m,sweepComplete:L,scanBipartite:M,scanComplete:s};var t=r(1888),o=r(8828),a=r(1811),u=1<<28,f=1024,l=t.mallocInt32(f),y=t.mallocInt32(f),c=t.mallocInt32(f),T=t.mallocInt32(f),h=t.mallocInt32(f),i=t.mallocInt32(f),g=t.mallocDouble(f*8);function b(S){var w=o.nextPow2(S);l.length<w&&(t.free(l),l=t.mallocInt32(w)),y.length<w&&(t.free(y),y=t.mallocInt32(w)),c.length<w&&(t.free(c),c=t.mallocInt32(w)),T.length<w&&(t.free(T),T=t.mallocInt32(w)),h.length<w&&(t.free(h),h=t.mallocInt32(w)),i.length<w&&(t.free(i),i=t.mallocInt32(w));var _=8*w;g.length<_&&(t.free(g),g=t.mallocDouble(_))}function A(S,w,_,I){var H=w[I],O=S[_-1];S[H]=O,w[O]=H}function R(S,w,_,I){S[_]=I,w[I]=_}function m(S,w,_,I,H,O,V,B,F,G){for(var Y=0,Q=2*S,te=S-1,ae=Q-1,fe=_;fe<I;++fe){var oe=O[fe],J=Q*fe;g[Y++]=H[J+te],g[Y++]=-(oe+1),g[Y++]=H[J+ae],g[Y++]=oe}for(var fe=V;fe<B;++fe){var oe=G[fe]+u,ee=Q*fe;g[Y++]=F[ee+te],g[Y++]=-oe,g[Y++]=F[ee+ae],g[Y++]=oe}var X=Y>>>1;a(g,X);for(var q=0,le=0,fe=0;fe<X;++fe){var $=g[2*fe+1]|0;if($>=u)$=$-u|0,A(c,T,le--,$);else if($>=0)A(l,y,q--,$);else if($<=-u){$=-$-u|0;for(var j=0;j<q;++j){var se=w(l[j],$);if(se!==void 0)return se}R(c,T,le++,$)}else{$=-$-1|0;for(var j=0;j<le;++j){var se=w($,c[j]);if(se!==void 0)return se}R(l,y,q++,$)}}}function L(S,w,_,I,H,O,V,B,F,G){for(var Y=0,Q=2*S,te=S-1,ae=Q-1,fe=_;fe<I;++fe){var oe=O[fe]+1<<1,J=Q*fe;g[Y++]=H[J+te],g[Y++]=-oe,g[Y++]=H[J+ae],g[Y++]=oe}for(var fe=V;fe<B;++fe){var oe=G[fe]+1<<1,ee=Q*fe;g[Y++]=F[ee+te],g[Y++]=-oe|1,g[Y++]=F[ee+ae],g[Y++]=oe|1}var X=Y>>>1;a(g,X);for(var q=0,le=0,$=0,fe=0;fe<X;++fe){var j=g[2*fe+1]|0,se=j&1;if(fe<X-1&&j>>1===g[2*fe+3]>>1&&(se=2,fe+=1),j<0){for(var ne=-(j>>1)-1,he=0;he<$;++he){var me=w(h[he],ne);if(me!==void 0)return me}if(se!==0)for(var he=0;he<q;++he){var me=w(l[he],ne);if(me!==void 0)return me}if(se!==1)for(var he=0;he<le;++he){var me=w(c[he],ne);if(me!==void 0)return me}se===0?R(l,y,q++,ne):se===1?R(c,T,le++,ne):se===2&&R(h,i,$++,ne)}else{var ne=(j>>1)-1;se===0?A(l,y,q--,ne):se===1?A(c,T,le--,ne):se===2&&A(h,i,$--,ne)}}}function M(S,w,_,I,H,O,V,B,F,G,Y,Q){var te=0,ae=2*S,fe=w,oe=w+S,J=1,ee=1;I?ee=u:J=u;for(var X=H;X<O;++X){var q=X+J,le=ae*X;g[te++]=V[le+fe],g[te++]=-q,g[te++]=V[le+oe],g[te++]=q}for(var X=F;X<G;++X){var q=X+ee,$=ae*X;g[te++]=Y[$+fe],g[te++]=-q}var j=te>>>1;a(g,j);for(var se=0,X=0;X<j;++X){var ne=g[2*X+1]|0;if(ne<0){var q=-ne,he=!1;if(q>=u?(he=!I,q-=u):(he=!!I,q-=1),he)R(l,y,se++,q);else{var me=Q[q],we=ae*q,Te=Y[we+w+1],Le=Y[we+w+1+S];e:for(var Ie=0;Ie<se;++Ie){var ze=l[Ie],Me=ae*ze;if(!(Le<V[Me+w+1]||V[Me+w+1+S]<Te)){for(var _e=w+2;_e<S;++_e)if(Y[we+_e+S]<V[Me+_e]||V[Me+_e+S]<Y[we+_e])continue e;var Ce=B[ze],Oe;if(I?Oe=_(me,Ce):Oe=_(Ce,me),Oe!==void 0)return Oe}}}}else A(l,y,se--,ne-J)}}function s(S,w,_,I,H,O,V,B,F,G,Y){for(var Q=0,te=2*S,ae=w,fe=w+S,oe=I;oe<H;++oe){var J=oe+u,ee=te*oe;g[Q++]=O[ee+ae],g[Q++]=-J,g[Q++]=O[ee+fe],g[Q++]=J}for(var oe=B;oe<F;++oe){var J=oe+1,X=te*oe;g[Q++]=G[X+ae],g[Q++]=-J}var q=Q>>>1;a(g,q);for(var le=0,oe=0;oe<q;++oe){var $=g[2*oe+1]|0;if($<0){var J=-$;if(J>=u)l[le++]=J-u;else{J-=1;var j=Y[J],se=te*J,ne=G[se+w+1],he=G[se+w+1+S];e:for(var me=0;me<le;++me){var we=l[me],Te=V[we];if(Te===j)break;var Le=te*we;if(!(he<O[Le+w+1]||O[Le+w+1+S]<ne)){for(var Ie=w+2;Ie<S;++Ie)if(G[se+Ie+S]<O[Le+Ie]||O[Le+Ie+S]<G[se+Ie])continue e;var ze=_(Te,j);if(ze!==void 0)return ze}}}}else{for(var J=$-u,me=le-1;me>=0;--me)if(l[me]===J){for(var Ie=me+1;Ie<le;++Ie)l[Ie-1]=l[Ie];break}--le}}}},2538:function(v,p,r){var t=r(8902),o=r(5542),a=r(2272),u=r(5023);v.exports=T;function f(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function l(h,i){return h[0]-i[0]||h[1]-i[1]}function y(h){return h.map(f).sort(l)}function c(h,i,g){return i in h?h[i]:g}function T(h,i,g){Array.isArray(i)?(g=g||{},i=i||[]):(g=i||{},i=[]);var b=!!c(g,"delaunay",!0),A=!!c(g,"interior",!0),R=!!c(g,"exterior",!0),m=!!c(g,"infinity",!1);if(!A&&!R||h.length===0)return[];var L=t(h,i);if(b||A!==R||m){for(var M=o(h.length,y(i)),s=0;s<L.length;++s){var S=L[s];M.addTriangle(S[0],S[1],S[2])}return b&&a(h,M),R?A?m?u(M,0,m):M.cells():u(M,1,m):u(M,-1)}else return L}},2272:function(v,p,r){var t=r(2646)[4];r(2478),v.exports=a;function o(u,f,l,y,c,T){var h=f.opposite(y,c);if(!(h<0)){if(c<y){var i=y;y=c,c=i,i=T,T=h,h=i}f.isConstraint(y,c)||t(u[y],u[c],u[T],u[h])<0&&l.push(y,c)}}function a(u,f){for(var l=[],y=u.length,c=f.stars,T=0;T<y;++T)for(var h=c[T],i=1;i<h.length;i+=2){var g=h[i];if(!(g<T)&&!f.isConstraint(T,g)){for(var b=h[i-1],A=-1,R=1;R<h.length;R+=2)if(h[R-1]===g){A=h[R];break}A<0||t(u[T],u[g],u[b],u[A])<0&&l.push(T,g)}}for(;l.length>0;){for(var g=l.pop(),T=l.pop(),b=-1,A=-1,h=c[T],m=1;m<h.length;m+=2){var L=h[m-1],M=h[m];L===g?A=M:M===g&&(b=L)}b<0||A<0||t(u[T],u[g],u[b],u[A])>=0||(f.flip(T,g),o(u,f,l,b,T,A),o(u,f,l,T,A,b),o(u,f,l,A,g,b),o(u,f,l,g,b,A))}}},5023:function(v,p,r){var t=r(2478);v.exports=y;function o(c,T,h,i,g,b,A){this.cells=c,this.neighbor=T,this.flags=i,this.constraint=h,this.active=g,this.next=b,this.boundary=A}var a=o.prototype;function u(c,T){return c[0]-T[0]||c[1]-T[1]||c[2]-T[2]}a.locate=function(){var c=[0,0,0];return function(T,h,i){var g=T,b=h,A=i;return h<i?h<T&&(g=h,b=i,A=T):i<T&&(g=i,b=T,A=h),g<0?-1:(c[0]=g,c[1]=b,c[2]=A,t.eq(this.cells,c,u))}}();function f(c,T){for(var h=c.cells(),i=h.length,g=0;g<i;++g){var b=h[g],A=b[0],R=b[1],m=b[2];R<m?R<A&&(b[0]=R,b[1]=m,b[2]=A):m<A&&(b[0]=m,b[1]=A,b[2]=R)}h.sort(u);for(var L=new Array(i),g=0;g<L.length;++g)L[g]=0;var M=[],s=[],S=new Array(3*i),w=new Array(3*i),_=null;T&&(_=[]);for(var I=new o(h,S,w,L,M,s,_),g=0;g<i;++g)for(var b=h[g],H=0;H<3;++H){var A=b[H],R=b[(H+1)%3],O=S[3*g+H]=I.locate(R,A,c.opposite(R,A)),V=w[3*g+H]=c.isConstraint(A,R);O<0&&(V?s.push(g):(M.push(g),L[g]=1),T&&_.push([R,A,-1]))}return I}function l(c,T,h){for(var i=0,g=0;g<c.length;++g)T[g]===h&&(c[i++]=c[g]);return c.length=i,c}function y(c,T,h){var i=f(c,h);if(T===0)return h?i.cells.concat(i.boundary):i.cells;for(var g=1,b=i.active,A=i.next,R=i.flags,m=i.cells,L=i.constraint,M=i.neighbor;b.length>0||A.length>0;){for(;b.length>0;){var s=b.pop();if(R[s]!==-g){R[s]=g,m[s];for(var S=0;S<3;++S){var w=M[3*s+S];w>=0&&R[w]===0&&(L[3*s+S]?A.push(w):(b.push(w),R[w]=g))}}}var _=A;A=b,b=_,A.length=0,g=-g}var I=l(m,R,T);return h?I.concat(i.boundary):I}},8902:function(v,p,r){var t=r(2478),o=r(3250)[3],a=0,u=1,f=2;v.exports=A;function l(R,m,L,M,s){this.a=R,this.b=m,this.idx=L,this.lowerIds=M,this.upperIds=s}function y(R,m,L,M){this.a=R,this.b=m,this.type=L,this.idx=M}function c(R,m){var L=R.a[0]-m.a[0]||R.a[1]-m.a[1]||R.type-m.type;return L||R.type!==a&&(L=o(R.a,R.b,m.b),L)?L:R.idx-m.idx}function T(R,m){return o(R.a,R.b,m)}function h(R,m,L,M,s){for(var S=t.lt(m,M,T),w=t.gt(m,M,T),_=S;_<w;++_){for(var I=m[_],H=I.lowerIds,V=H.length;V>1&&o(L[H[V-2]],L[H[V-1]],M)>0;)R.push([H[V-1],H[V-2],s]),V-=1;H.length=V,H.push(s);for(var O=I.upperIds,V=O.length;V>1&&o(L[O[V-2]],L[O[V-1]],M)<0;)R.push([O[V-2],O[V-1],s]),V-=1;O.length=V,O.push(s)}}function i(R,m){var L;return R.a[0]<m.a[0]?L=o(R.a,R.b,m.a):L=o(m.b,m.a,R.a),L||(m.b[0]<R.b[0]?L=o(R.a,R.b,m.b):L=o(m.b,m.a,R.b),L||R.idx-m.idx)}function g(R,m,L){var M=t.le(R,L,i),s=R[M],S=s.upperIds,w=S[S.length-1];s.upperIds=[w],R.splice(M+1,0,new l(L.a,L.b,L.idx,[w],S))}function b(R,m,L){var M=L.a;L.a=L.b,L.b=M;var s=t.eq(R,L,i),S=R[s],w=R[s-1];w.upperIds=S.upperIds,R.splice(s,1)}function A(R,m){for(var L=R.length,M=m.length,s=[],S=0;S<L;++S)s.push(new y(R[S],null,a,S));for(var S=0;S<M;++S){var w=m[S],_=R[w[0]],I=R[w[1]];_[0]<I[0]?s.push(new y(_,I,f,S),new y(I,_,u,S)):_[0]>I[0]&&s.push(new y(I,_,f,S),new y(_,I,u,S))}s.sort(c);for(var H=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),O=[new l([H,1],[H,0],-1,[],[])],V=[],S=0,B=s.length;S<B;++S){var F=s[S],G=F.type;G===a?h(V,O,R,F.a,F.idx):G===f?g(O,R,F):b(O,R,F)}return V}},5542:function(v,p,r){var t=r(2478);v.exports=f;function o(l,y){this.stars=l,this.edges=y}var a=o.prototype;function u(l,y,c){for(var T=1,h=l.length;T<h;T+=2)if(l[T-1]===y&&l[T]===c){l[T-1]=l[h-2],l[T]=l[h-1],l.length=h-2;return}}a.isConstraint=function(){var l=[0,0];function y(c,T){return c[0]-T[0]||c[1]-T[1]}return function(c,T){return l[0]=Math.min(c,T),l[1]=Math.max(c,T),t.eq(this.edges,l,y)>=0}}(),a.removeTriangle=function(l,y,c){var T=this.stars;u(T[l],y,c),u(T[y],c,l),u(T[c],l,y)},a.addTriangle=function(l,y,c){var T=this.stars;T[l].push(y,c),T[y].push(c,l),T[c].push(l,y)},a.opposite=function(l,y){for(var c=this.stars[y],T=1,h=c.length;T<h;T+=2)if(c[T]===l)return c[T-1];return-1},a.flip=function(l,y){var c=this.opposite(l,y),T=this.opposite(y,l);this.removeTriangle(l,y,c),this.removeTriangle(y,l,T),this.addTriangle(l,T,c),this.addTriangle(y,c,T)},a.edges=function(){for(var l=this.stars,y=[],c=0,T=l.length;c<T;++c)for(var h=l[c],i=0,g=h.length;i<g;i+=2)y.push([h[i],h[i+1]]);return y},a.cells=function(){for(var l=this.stars,y=[],c=0,T=l.length;c<T;++c)for(var h=l[c],i=0,g=h.length;i<g;i+=2){var b=h[i],A=h[i+1];c<Math.min(b,A)&&y.push([c,b,A])}return y};function f(l,y){for(var c=new Array(l),T=0;T<l;++T)c[T]=[];return new o(c,y)}},2419:function(v){v.exports=p;function p(r){for(var t=1,o=1;o<r.length;++o)for(var a=0;a<o;++a)if(r[o]<r[a])t=-t;else if(r[a]===r[o])return 0;return t}},3628:function(v,p,r){var t=r(1338),o=r(727);function a(l,y){for(var c=0,T=l.length,h=0;h<T;++h)c+=l[h]*y[h];return c}function u(l){var y=l.length;if(y===0)return[];l[0].length;var c=t([l.length+1,l.length+1],1),T=t([l.length+1],1);c[y][y]=0;for(var h=0;h<y;++h){for(var i=0;i<=h;++i)c[i][h]=c[h][i]=2*a(l[h],l[i]);T[h]=a(l[h],l[h])}for(var g=o(c,T),b=0,A=g[y+1],h=0;h<A.length;++h)b+=A[h];for(var R=new Array(y),h=0;h<y;++h){for(var A=g[h],m=0,i=0;i<A.length;++i)m+=A[i];R[h]=m/b}return R}function f(l){if(l.length===0)return[];for(var y=l[0].length,c=t([y]),T=u(l),h=0;h<l.length;++h)for(var i=0;i<y;++i)c[i]+=l[h][i]*T[h];return c}f.barycenetric=u,v.exports=f},6037:function(v,p,r){v.exports=o;var t=r(3628);function o(a){for(var u=t(a),f=0,l=0;l<a.length;++l)for(var y=a[l],c=0;c<u.length;++c)f+=Math.pow(y[c]-u[c],2);return Math.sqrt(f/a.length)}},332:function(v,p,r){v.exports=_;var t=r(1755),o=r(6867),a=r(1125),u=r(7842),f=r(1318),l=r(946),y=r(5838),c=r(1278),T=r(3637);function h(I){var H=l(I);return[c(H,-1/0),c(H,1/0)]}function i(I,H){for(var O=new Array(H.length),V=0;V<H.length;++V){var B=H[V],F=I[B[0]],G=I[B[1]];O[V]=[c(Math.min(F[0],G[0]),-1/0),c(Math.min(F[1],G[1]),-1/0),c(Math.max(F[0],G[0]),1/0),c(Math.max(F[1],G[1]),1/0)]}return O}function g(I){for(var H=new Array(I.length),O=0;O<I.length;++O){var V=I[O];H[O]=[c(V[0],-1/0),c(V[1],-1/0),c(V[0],1/0),c(V[1],1/0)]}return H}function b(I,H,O){var V=[];return o(O,function(B,F){var G=H[B],Y=H[F];if(!(G[0]===Y[0]||G[0]===Y[1]||G[1]===Y[0]||G[1]===Y[1])){var Q=I[G[0]],te=I[G[1]],ae=I[Y[0]],fe=I[Y[1]];a(Q,te,ae,fe)&&V.push([B,F])}}),V}function A(I,H,O,V){var B=[];return o(O,V,function(F,G){var Y=H[F];if(!(Y[0]===G||Y[1]===G)){var Q=I[G],te=I[Y[0]],ae=I[Y[1]];a(te,ae,Q,Q)&&B.push([F,G])}}),B}function R(I,H,O,V,B){var F,G,Y=I.map(function(we){return[u(we[0]),u(we[1])]});for(F=0;F<O.length;++F){var Q=O[F];G=Q[0];var te=Q[1],ae=H[G],fe=H[te],oe=T(y(I[ae[0]]),y(I[ae[1]]),y(I[fe[0]]),y(I[fe[1]]));if(oe){var J=I.length;I.push([l(oe[0]),l(oe[1])]),Y.push(oe),V.push([G,J],[te,J])}}for(V.sort(function(we,Te){if(we[0]!==Te[0])return we[0]-Te[0];var Le=Y[we[1]],Ie=Y[Te[1]];return f(Le[0],Ie[0])||f(Le[1],Ie[1])}),F=V.length-1;F>=0;--F){var ee=V[F];G=ee[0];var X=H[G],q=X[0],le=X[1],$=I[q],j=I[le];if(($[0]-j[0]||$[1]-j[1])<0){var se=q;q=le,le=se}X[0]=q;var ne=X[1]=ee[1],he;for(B&&(he=X[2]);F>0&&V[F-1][0]===G;){var ee=V[--F],me=ee[1];B?H.push([ne,me,he]):H.push([ne,me]),ne=me}B?H.push([ne,le,he]):H.push([ne,le])}return Y}function m(I,H,O){for(var V=H.length,B=new t(V),F=[],G=0;G<H.length;++G){var Y=H[G],Q=h(Y[0]),te=h(Y[1]);F.push([c(Q[0],-1/0),c(te[0],-1/0),c(Q[1],1/0),c(te[1],1/0)])}o(F,function(ee,X){B.link(ee,X)});for(var ae=!0,fe=new Array(V),G=0;G<V;++G){var oe=B.find(G);oe!==G&&(ae=!1,I[oe]=[Math.min(I[G][0],I[oe][0]),Math.min(I[G][1],I[oe][1])])}if(ae)return null;for(var J=0,G=0;G<V;++G){var oe=B.find(G);oe===G?(fe[G]=J,I[J++]=I[G]):fe[G]=-1}I.length=J;for(var G=0;G<V;++G)fe[G]<0&&(fe[G]=fe[B.find(G)]);return fe}function L(I,H){return I[0]-H[0]||I[1]-H[1]}function M(I,H){var O=I[0]-H[0]||I[1]-H[1];return O||(I[2]<H[2]?-1:I[2]>H[2]?1:0)}function s(I,H,O){if(I.length!==0){if(H)for(var V=0;V<I.length;++V){var B=I[V],F=H[B[0]],G=H[B[1]];B[0]=Math.min(F,G),B[1]=Math.max(F,G)}else for(var V=0;V<I.length;++V){var B=I[V],F=B[0],G=B[1];B[0]=Math.min(F,G),B[1]=Math.max(F,G)}O?I.sort(M):I.sort(L);for(var Y=1,V=1;V<I.length;++V){var Q=I[V-1],te=I[V];te[0]===Q[0]&&te[1]===Q[1]&&(!O||te[2]===Q[2])||(I[Y++]=te)}I.length=Y}}function S(I,H,O){var V=m(I,[],g(I));return s(H,V,O),!!V}function w(I,H,O){var V=i(I,H),B=b(I,H,V),F=g(I),G=A(I,H,V,F),Y=R(I,H,B,G,O),Q=m(I,Y);return s(H,Q,O),Q?!0:B.length>0||G.length>0}function _(I,H,O){var V;if(O){V=H;for(var B=new Array(H.length),F=0;F<H.length;++F){var G=H[F];B[F]=[G[0],G[1],O[F]]}H=B}for(var Y=S(I,H,!!O);w(I,H,!!O);)Y=!0;if(O&&Y){V.length=0,O.length=0;for(var F=0;F<H.length;++F){var G=H[F];V.push([G[0],G[1]]),O.push(G[2])}}return Y}},3637:function(v,p,r){v.exports=T;var t=r(6504),o=r(8697),a=r(5572),u=r(7721),f=r(544),l=r(2653),y=r(8987);function c(h,i){return a(t(h[0],i[1]),t(h[1],i[0]))}function T(h,i,g,b){var A=f(i,h),R=f(b,g),m=c(A,R);if(u(m)===0)return null;var L=f(h,g),M=c(R,L),s=o(M,m),S=y(A,s),w=l(h,S);return w}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,p,r){var t=r(3642),o=r(395);v.exports=a;function a(y){var c,T,h,i,g,b,A,R,s,m,L;if(y||(y={}),R=(y.nshades||72)-1,A=y.format||"hex",b=y.colormap,b||(b="jet"),typeof b=="string"){if(b=b.toLowerCase(),!t[b])throw Error(b+" not a supported colorscale");g=t[b]}else if(Array.isArray(b))g=b.slice();else throw Error("unsupported colormap option",b);if(g.length>R+1)throw new Error(b+" map requires nshades to be at least size "+g.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],c=g.map(function(_){return Math.round(_.index*R)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var M=g.map(function(_,I){var H=g[I].index,O=g[I].rgb.slice();return O.length===4&&O[3]>=0&&O[3]<=1||(O[3]=m[0]+(m[1]-m[0])*H),O}),s=[];for(L=0;L<c.length-1;++L){i=c[L+1]-c[L],T=M[L],h=M[L+1];for(var S=0;S<i;S++){var w=S/i;s.push([Math.round(o(T[0],h[0],w)),Math.round(o(T[1],h[1],w)),Math.round(o(T[2],h[2],w)),o(T[3],h[3],w)])}}return s.push(g[g.length-1].rgb.concat(m[1])),A==="hex"?s=s.map(f):A==="rgbaString"?s=s.map(l):A==="float"&&(s=s.map(u)),s}function u(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function f(y){for(var c,T="#",h=0;h<3;++h)c=y[h],c=c.toString(16),T+=("00"+c).substr(c.length);return T}function l(y){return"rgba("+y.join(",")+")"}},3140:function(v,p,r){v.exports=y;var t=r(3250),o=r(8572),a=r(9362),u=r(5382),f=r(8210);function l(c,T,h){var i=a(c[0],-T[0]),g=a(c[1],-T[1]),b=a(h[0],-T[0]),A=a(h[1],-T[1]),R=f(u(i,b),u(g,A));return R[R.length-1]>=0}function y(c,T,h,i){var g=t(T,h,i);if(g===0){var b=o(t(c,T,h)),A=o(t(c,T,i));if(b===A){if(b===0){var R=l(c,T,h),m=l(c,T,i);return R===m?0:R?1:-1}return 0}else{if(A===0)return b>0||l(c,T,i)?-1:1;if(b===0)return A>0||l(c,T,h)?1:-1}return o(A-b)}var L=t(c,T,h);if(L>0)return g>0&&t(c,T,i)>0?1:-1;if(L<0)return g>0||t(c,T,i)>0?1:-1;var M=t(c,T,i);return M>0||l(c,T,h)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var p=Math.min;function r(o,a){return o-a}function t(o,a){var u=o.length,f=o.length-a.length;if(f)return f;switch(u){case 0:return 0;case 1:return o[0]-a[0];case 2:return o[0]+o[1]-a[0]-a[1]||p(o[0],o[1])-p(a[0],a[1]);case 3:var l=o[0]+o[1],y=a[0]+a[1];if(f=l+o[2]-(y+a[2]),f)return f;var c=p(o[0],o[1]),T=p(a[0],a[1]);return p(c,o[2])-p(T,a[2])||p(c+o[2],l)-p(T+a[2],y);case 4:var h=o[0],i=o[1],g=o[2],b=o[3],A=a[0],R=a[1],m=a[2],L=a[3];return h+i+g+b-(A+R+m+L)||p(h,i,g,b)-p(A,R,m,L,A)||p(h+i,h+g,h+b,i+g,i+b,g+b)-p(A+R,A+m,A+L,R+m,R+L,m+L)||p(h+i+g,h+i+b,h+g+b,i+g+b)-p(A+R+m,A+R+L,A+m+L,R+m+L);default:for(var M=o.slice().sort(r),s=a.slice().sort(r),S=0;S<u;++S)if(f=M[S]-s[S],f)return f;return 0}}},3788:function(v,p,r){var t=r(8507),o=r(2419);v.exports=a;function a(u,f){return t(u,f)||o(u)-o(f)}},7352:function(v,p,r){var t=r(5721),o=r(4750),a=r(2690);v.exports=u;function u(f){var l=f.length;if(l===0)return[];if(l===1)return[[0]];var y=f[0].length;return y===0?[]:y===1?t(f):y===2?o(f):a(f,y)}},5721:function(v){v.exports=p;function p(r){for(var t=0,o=0,a=1;a<r.length;++a)r[a][0]<r[t][0]&&(t=a),r[a][0]>r[o][0]&&(o=a);return t<o?[[t],[o]]:t>o?[[o],[t]]:[[t]]}},4750:function(v,p,r){v.exports=o;var t=r(3090);function o(a){var u=t(a),f=u.length;if(f<=2)return[];for(var l=new Array(f),y=u[f-1],c=0;c<f;++c){var T=u[c];l[c]=[y,T],y=T}return l}},2690:function(v,p,r){v.exports=f;var t=r(8954),o=r(3952);function a(l,y){for(var c=l.length,T=new Array(c),h=0;h<y.length;++h)T[h]=l[y[h]];for(var i=y.length,h=0;h<c;++h)y.indexOf(h)<0&&(T[i++]=l[h]);return T}function u(l,y){for(var c=l.length,T=y.length,h=0;h<c;++h)for(var i=l[h],g=0;g<i.length;++g){var b=i[g];if(b<T)i[g]=y[b];else{b=b-T;for(var A=0;A<T;++A)b>=y[A]&&(b+=1);i[g]=b}}return l}function f(l,y){try{return t(l,!0)}catch{var c=o(l);if(c.length<=y)return[];var T=a(l,c),h=t(T,!0);return u(h,c)}}},4769:function(v){function p(t,o,a,u,f,l){var y=6*f*f-6*f,c=3*f*f-4*f+1,T=-6*f*f+6*f,h=3*f*f-2*f;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=y*t[i]+c*o[i]+T*a[i]+h*u[i];return l}return y*t+c*o+T*a[i]+h*u}function r(t,o,a,u,f,l){var y=f-1,c=f*f,T=y*y,h=(1+2*f)*T,i=f*T,g=c*(3-2*f),b=c*y;if(t.length){l||(l=new Array(t.length));for(var A=t.length-1;A>=0;--A)l[A]=h*t[A]+i*o[A]+g*a[A]+b*u[A];return l}return h*t+i*o+g*a+b*u}v.exports=r,v.exports.derivative=p},7642:function(v,p,r){var t=r(8954),o=r(1682);v.exports=l;function a(y,c){this.point=y,this.index=c}function u(y,c){for(var T=y.point,h=c.point,i=T.length,g=0;g<i;++g){var b=h[g]-T[g];if(b)return b}return 0}function f(y,c,T){if(y===1)return T?[[-1,0]]:[];var h=c.map(function(R,m){return[R[0],m]});h.sort(function(R,m){return R[0]-m[0]});for(var i=new Array(y-1),g=1;g<y;++g){var b=h[g-1],A=h[g];i[g-1]=[b[1],A[1]]}return T&&i.push([-1,i[0][1]],[i[y-1][1],-1]),i}function l(y,c){var T=y.length;if(T===0)return[];var h=y[0].length;if(h<1)return[];if(h===1)return f(T,y,c);for(var i=new Array(T),g=1,b=0;b<T;++b){for(var A=y[b],R=new Array(h+1),m=0,L=0;L<h;++L){var M=A[L];R[L]=M,m+=M*M}R[h]=m,i[b]=new a(R,b),g=Math.max(m,g)}o(i,u),T=i.length;for(var s=new Array(T+h+1),S=new Array(T+h+1),w=(h+1)*(h+1)*g,_=new Array(h+1),b=0;b<=h;++b)_[b]=0;_[h]=w,s[0]=_.slice(),S[0]=-1;for(var b=0;b<=h;++b){var R=_.slice();R[b]=1,s[b+1]=R,S[b+1]=-1}for(var b=0;b<T;++b){var I=i[b];s[b+h+1]=I.point,S[b+h+1]=I.index}var H=t(s,!1);if(c?H=H.filter(function(O){for(var V=0,B=0;B<=h;++B){var F=S[O[B]];if(F<0&&++V>=2)return!1;O[B]=F}return!0}):H=H.filter(function(O){for(var V=0;V<=h;++V){var B=S[O[V]];if(B<0)return!1;O[V]=B}return!0}),h&1)for(var b=0;b<H.length;++b){var I=H[b],R=I[0];I[0]=I[1],I[1]=R}return H}},2361:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let a=function(l,y){return t[0]=l,t[1]=y,r[0]},u=function(l){return r[0]=l,t[0]},f=function(l){return r[0]=l,t[1]};v.exports=function(y){return r[0]=y,[t[0],t[1]]},v.exports.pack=a,v.exports.lo=u,v.exports.hi=f}else if(t[0]===1072693248){let a=function(l,y){return t[1]=l,t[0]=y,r[0]},u=function(l){return r[0]=l,t[1]},f=function(l){return r[0]=l,t[0]};v.exports=function(y){return r[0]=y,[t[1],t[0]]},v.exports.pack=a,v.exports.lo=u,v.exports.hi=f}else p=!1}if(!p){let a=function(l,y){return o.writeUInt32LE(l,0,!0),o.writeUInt32LE(y,4,!0),o.readDoubleLE(0,!0)},u=function(l){return o.writeDoubleLE(l,0,!0),o.readUInt32LE(0,!0)},f=function(l){return o.writeDoubleLE(l,0,!0),o.readUInt32LE(4,!0)};var o=new Buffer(8);v.exports=function(y){return o.writeDoubleLE(y,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},v.exports.pack=a,v.exports.lo=u,v.exports.hi=f}v.exports.sign=function(a){return v.exports.hi(a)>>>31},v.exports.exponent=function(a){var u=v.exports.hi(a);return(u<<1>>>21)-1023},v.exports.fraction=function(a){var u=v.exports.lo(a),f=v.exports.hi(a),l=f&(1<<20)-1;return f&2146435072&&(l+=1048576),[u,l]},v.exports.denormalized=function(a){var u=v.exports.hi(a);return!(u&2146435072)}},1338:function(v){function p(o,a,u){var f=o[u]|0;if(f<=0)return[];var l=new Array(f),y;if(u===o.length-1)for(y=0;y<f;++y)l[y]=a;else for(y=0;y<f;++y)l[y]=p(o,a,u+1);return l}function r(o,a){var u,f;for(u=new Array(o),f=0;f<o;++f)u[f]=a;return u}function t(o,a){switch(typeof a>"u"&&(a=0),typeof o){case"number":if(o>0)return r(o|0,a);break;case"object":if(typeof o.length=="number")return p(o,a,0);break}return[]}v.exports=t},3134:function(v,p,r){v.exports=o;var t=r(1682);function o(a,u){var f=a.length;if(typeof u!="number"){u=0;for(var l=0;l<f;++l){var y=a[l];u=Math.max(u,y[0],y[1])}u=(u|0)+1}u=u|0;for(var c=new Array(u),l=0;l<u;++l)c[l]=[];for(var l=0;l<f;++l){var y=a[l];c[y[0]].push(y[1]),c[y[1]].push(y[0])}for(var T=0;T<u;++T)t(c[T],function(h,i){return h-i});return c}},5033:function(v){v.exports=p;function p(r,t,o){var a=t||0,u=o||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[a*r[12]+r[8],a*r[13]+r[9],a*r[14]+r[10],a*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},9215:function(v,p,r){v.exports=y;var t=r(4769),o=r(2478);function a(c,T,h){return Math.min(T,Math.max(c,h))}function u(c,T,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=c.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var f=u.prototype;f.flush=function(c){var T=o.gt(this._time,c)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},f.curve=function(c){var T=this._time,h=T.length,i=o.le(T,c),g=this._scratch[0],b=this._state,A=this._velocity,R=this.dimension,m=this.bounds;if(i<0)for(var L=R-1,M=0;M<R;++M,--L)g[M]=b[L];else if(i>=h-1)for(var L=b.length-1,s=c-T[h-1],M=0;M<R;++M,--L)g[M]=b[L]+s*A[L];else{for(var L=R*(i+1)-1,S=T[i],w=T[i+1],_=w-S||1,I=this._scratch[1],H=this._scratch[2],O=this._scratch[3],V=this._scratch[4],B=!0,M=0;M<R;++M,--L)I[M]=b[L],O[M]=A[L]*_,H[M]=b[L+R],V[M]=A[L+R]*_,B=B&&I[M]===H[M]&&O[M]===V[M]&&O[M]===0;if(B)for(var M=0;M<R;++M)g[M]=I[M];else t(I,O,H,V,(c-S)/_,g)}for(var F=m[0],G=m[1],M=0;M<R;++M)g[M]=a(F[M],G[M],g[M]);return g},f.dcurve=function(c){var T=this._time,h=T.length,i=o.le(T,c),g=this._scratch[0],b=this._state,A=this._velocity,R=this.dimension;if(i>=h-1){var m=b.length-1;c-T[h-1];for(var L=0;L<R;++L,--m)g[L]=A[m]}else{for(var m=R*(i+1)-1,M=T[i],s=T[i+1],S=s-M||1,w=this._scratch[1],_=this._scratch[2],I=this._scratch[3],H=this._scratch[4],O=!0,L=0;L<R;++L,--m)w[L]=b[m],I[L]=A[m]*S,_[L]=b[m+R],H[L]=A[m+R]*S,O=O&&w[L]===_[L]&&I[L]===H[L]&&I[L]===0;if(O)for(var L=0;L<R;++L)g[L]=0;else{t.derivative(w,I,_,H,(c-M)/S,g);for(var L=0;L<R;++L)g[L]/=S}}return g},f.lastT=function(){var c=this._time;return c[c.length-1]},f.stable=function(){for(var c=this._velocity,T=c.length,h=this.dimension-1;h>=0;--h)if(c[--T])return!1;return!0},f.jump=function(c){var T=this.lastT(),h=this.dimension;if(!(c<T||arguments.length!==h+1)){var i=this._state,g=this._velocity,b=i.length-this.dimension,A=this.bounds,R=A[0],m=A[1];this._time.push(T,c);for(var L=0;L<2;++L)for(var M=0;M<h;++M)i.push(i[b++]),g.push(0);this._time.push(c);for(var M=h;M>0;--M)i.push(a(R[M-1],m[M-1],arguments[M])),g.push(0)}},f.push=function(c){var T=this.lastT(),h=this.dimension;if(!(c<T||arguments.length!==h+1)){var i=this._state,g=this._velocity,b=i.length-this.dimension,A=c-T,R=this.bounds,m=R[0],L=R[1],M=A>1e-6?1/A:0;this._time.push(c);for(var s=h;s>0;--s){var S=a(m[s-1],L[s-1],arguments[s]);i.push(S),g.push((S-i[b++])*M)}}},f.set=function(c){var T=this.dimension;if(!(c<this.lastT()||arguments.length!==T+1)){var h=this._state,i=this._velocity,g=this.bounds,b=g[0],A=g[1];this._time.push(c);for(var R=T;R>0;--R)h.push(a(b[R-1],A[R-1],arguments[R])),i.push(0)}},f.move=function(c){var T=this.lastT(),h=this.dimension;if(!(c<=T||arguments.length!==h+1)){var i=this._state,g=this._velocity,b=i.length-this.dimension,A=this.bounds,R=A[0],m=A[1],L=c-T,M=L>1e-6?1/L:0;this._time.push(c);for(var s=h;s>0;--s){var S=arguments[s];i.push(a(R[s-1],m[s-1],i[b++]+S)),g.push(S*M)}}},f.idle=function(c){var T=this.lastT();if(!(c<T)){var h=this.dimension,i=this._state,g=this._velocity,b=i.length-h,A=this.bounds,R=A[0],m=A[1],L=c-T;this._time.push(c);for(var M=h-1;M>=0;--M)i.push(a(R[M],m[M],i[b]+L*g[b])),g.push(0),b+=1}};function l(c){for(var T=new Array(c),h=0;h<c;++h)T[h]=0;return T}function y(c,T,h){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof c=="number"){var i=l(c);return new u(i,i,0)}else return new u(c,l(c.length),0);case 2:if(typeof T=="number"){var i=l(c.length);return new u(c,i,+T)}else h=0;case 3:if(c.length!==T.length)throw new Error("state and velocity lengths must match");return new u(c,T,h)}}},3840:function(v){v.exports=R;var p=0,r=1;function t(m,L,M,s,S,w){this._color=m,this.key=L,this.value=M,this.left=s,this.right=S,this._count=w}function o(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function a(m,L){return new t(m,L.key,L.value,L.left,L.right,L._count)}function u(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function f(m,L){this._compare=m,this.root=L}var l=f.prototype;Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(L,M){m.push(L)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(L,M){m.push(M)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,L){for(var M=this._compare,s=this.root,S=[],w=[];s;){var _=M(m,s.key);S.push(s),w.push(_),_<=0?s=s.left:s=s.right}S.push(new t(p,m,L,null,null,1));for(var I=S.length-2;I>=0;--I){var s=S[I];w[I]<=0?S[I]=new t(s._color,s.key,s.value,S[I+1],s.right,s._count+1):S[I]=new t(s._color,s.key,s.value,s.left,S[I+1],s._count+1)}for(var I=S.length-1;I>1;--I){var H=S[I-1],s=S[I];if(H._color===r||s._color===r)break;var O=S[I-2];if(O.left===H)if(H.left===s){var V=O.right;if(V&&V._color===p)H._color=r,O.right=a(r,V),O._color=p,I-=1;else{if(O._color=p,O.left=H.right,H._color=r,H.right=O,S[I-2]=H,S[I-1]=s,u(O),u(H),I>=3){var B=S[I-3];B.left===O?B.left=H:B.right=H}break}}else{var V=O.right;if(V&&V._color===p)H._color=r,O.right=a(r,V),O._color=p,I-=1;else{if(H.right=s.left,O._color=p,O.left=s.right,s._color=r,s.left=H,s.right=O,S[I-2]=s,S[I-1]=H,u(O),u(H),u(s),I>=3){var B=S[I-3];B.left===O?B.left=s:B.right=s}break}}else if(H.right===s){var V=O.left;if(V&&V._color===p)H._color=r,O.left=a(r,V),O._color=p,I-=1;else{if(O._color=p,O.right=H.left,H._color=r,H.left=O,S[I-2]=H,S[I-1]=s,u(O),u(H),I>=3){var B=S[I-3];B.right===O?B.right=H:B.left=H}break}}else{var V=O.left;if(V&&V._color===p)H._color=r,O.left=a(r,V),O._color=p,I-=1;else{if(H.left=s.right,O._color=p,O.right=s.left,s._color=r,s.right=H,s.left=O,S[I-2]=s,S[I-1]=H,u(O),u(H),u(s),I>=3){var B=S[I-3];B.right===O?B.right=s:B.left=s}break}}}return S[0]._color=r,new f(M,S[0])};function y(m,L){if(L.left){var M=y(m,L.left);if(M)return M}var M=m(L.key,L.value);if(M)return M;if(L.right)return y(m,L.right)}function c(m,L,M,s){var S=L(m,s.key);if(S<=0){if(s.left){var w=c(m,L,M,s.left);if(w)return w}var w=M(s.key,s.value);if(w)return w}if(s.right)return c(m,L,M,s.right)}function T(m,L,M,s,S){var w=M(m,S.key),_=M(L,S.key),I;if(w<=0&&(S.left&&(I=T(m,L,M,s,S.left),I)||_>0&&(I=s(S.key,S.value),I)))return I;if(_>0&&S.right)return T(m,L,M,s,S.right)}l.forEach=function(L,M,s){if(this.root)switch(arguments.length){case 1:return y(L,this.root);case 2:return c(M,this._compare,L,this.root);case 3:return this._compare(M,s)>=0?void 0:T(M,s,this._compare,L,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],L=this.root;L;)m.push(L),L=L.left;return new h(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],L=this.root;L;)m.push(L),L=L.right;return new h(this,m)}}),l.at=function(m){if(m<0)return new h(this,[]);for(var L=this.root,M=[];;){if(M.push(L),L.left){if(m<L.left._count){L=L.left;continue}m-=L.left._count}if(!m)return new h(this,M);if(m-=1,L.right){if(m>=L.right._count)break;L=L.right}else break}return new h(this,[])},l.ge=function(m){for(var L=this._compare,M=this.root,s=[],S=0;M;){var w=L(m,M.key);s.push(M),w<=0&&(S=s.length),w<=0?M=M.left:M=M.right}return s.length=S,new h(this,s)},l.gt=function(m){for(var L=this._compare,M=this.root,s=[],S=0;M;){var w=L(m,M.key);s.push(M),w<0&&(S=s.length),w<0?M=M.left:M=M.right}return s.length=S,new h(this,s)},l.lt=function(m){for(var L=this._compare,M=this.root,s=[],S=0;M;){var w=L(m,M.key);s.push(M),w>0&&(S=s.length),w<=0?M=M.left:M=M.right}return s.length=S,new h(this,s)},l.le=function(m){for(var L=this._compare,M=this.root,s=[],S=0;M;){var w=L(m,M.key);s.push(M),w>=0&&(S=s.length),w<0?M=M.left:M=M.right}return s.length=S,new h(this,s)},l.find=function(m){for(var L=this._compare,M=this.root,s=[];M;){var S=L(m,M.key);if(s.push(M),S===0)return new h(this,s);S<=0?M=M.left:M=M.right}return new h(this,[])},l.remove=function(m){var L=this.find(m);return L?L.remove():this},l.get=function(m){for(var L=this._compare,M=this.root;M;){var s=L(m,M.key);if(s===0)return M.value;s<=0?M=M.left:M=M.right}};function h(m,L){this.tree=m,this._stack=L}var i=h.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new h(this.tree,this._stack.slice())};function g(m,L){m.key=L.key,m.value=L.value,m.left=L.left,m.right=L.right,m._color=L._color,m._count=L._count}function b(m){for(var L,M,s,S,w=m.length-1;w>=0;--w){if(L=m[w],w===0){L._color=r;return}if(M=m[w-1],M.left===L){if(s=M.right,s.right&&s.right._color===p){if(s=M.right=o(s),S=s.right=o(s.right),M.right=s.left,s.left=M,s.right=S,s._color=M._color,L._color=r,M._color=r,S._color=r,u(M),u(s),w>1){var _=m[w-2];_.left===M?_.left=s:_.right=s}m[w-1]=s;return}else if(s.left&&s.left._color===p){if(s=M.right=o(s),S=s.left=o(s.left),M.right=S.left,s.left=S.right,S.left=M,S.right=s,S._color=M._color,M._color=r,s._color=r,L._color=r,u(M),u(s),u(S),w>1){var _=m[w-2];_.left===M?_.left=S:_.right=S}m[w-1]=S;return}if(s._color===r)if(M._color===p){M._color=r,M.right=a(p,s);return}else{M.right=a(p,s);continue}else{if(s=o(s),M.right=s.left,s.left=M,s._color=M._color,M._color=p,u(M),u(s),w>1){var _=m[w-2];_.left===M?_.left=s:_.right=s}m[w-1]=s,m[w]=M,w+1<m.length?m[w+1]=L:m.push(L),w=w+2}}else{if(s=M.left,s.left&&s.left._color===p){if(s=M.left=o(s),S=s.left=o(s.left),M.left=s.right,s.right=M,s.left=S,s._color=M._color,L._color=r,M._color=r,S._color=r,u(M),u(s),w>1){var _=m[w-2];_.right===M?_.right=s:_.left=s}m[w-1]=s;return}else if(s.right&&s.right._color===p){if(s=M.left=o(s),S=s.right=o(s.right),M.left=S.right,s.right=S.left,S.right=M,S.left=s,S._color=M._color,M._color=r,s._color=r,L._color=r,u(M),u(s),u(S),w>1){var _=m[w-2];_.right===M?_.right=S:_.left=S}m[w-1]=S;return}if(s._color===r)if(M._color===p){M._color=r,M.left=a(p,s);return}else{M.left=a(p,s);continue}else{if(s=o(s),M.left=s.right,s.right=M,s._color=M._color,M._color=p,u(M),u(s),w>1){var _=m[w-2];_.right===M?_.right=s:_.left=s}m[w-1]=s,m[w]=M,w+1<m.length?m[w+1]=L:m.push(L),w=w+2}}}}i.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var L=new Array(m.length),M=m[m.length-1];L[L.length-1]=new t(M._color,M.key,M.value,M.left,M.right,M._count);for(var s=m.length-2;s>=0;--s){var M=m[s];M.left===m[s+1]?L[s]=new t(M._color,M.key,M.value,L[s+1],M.right,M._count):L[s]=new t(M._color,M.key,M.value,M.left,L[s+1],M._count)}if(M=L[L.length-1],M.left&&M.right){var S=L.length;for(M=M.left;M.right;)L.push(M),M=M.right;var w=L[S-1];L.push(new t(M._color,w.key,w.value,M.left,M.right,M._count)),L[S-1].key=M.key,L[S-1].value=M.value;for(var s=L.length-2;s>=S;--s)M=L[s],L[s]=new t(M._color,M.key,M.value,M.left,L[s+1],M._count);L[S-1].left=L[S]}if(M=L[L.length-1],M._color===p){var _=L[L.length-2];_.left===M?_.left=null:_.right===M&&(_.right=null),L.pop();for(var s=0;s<L.length;++s)L[s]._count--;return new f(this.tree._compare,L[0])}else if(M.left||M.right){M.left?g(M,M.left):M.right&&g(M,M.right),M._color=r;for(var s=0;s<L.length-1;++s)L[s]._count--;return new f(this.tree._compare,L[0])}else{if(L.length===1)return new f(this.tree._compare,null);for(var s=0;s<L.length;++s)L[s]._count--;var I=L[L.length-2];b(L),I.left===M?I.left=null:I.right=null}return new f(this.tree._compare,L[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var m=0,L=this._stack;if(L.length===0){var M=this.tree.root;return M?M._count:0}else L[L.length-1].left&&(m=L[L.length-1].left._count);for(var s=L.length-2;s>=0;--s)L[s+1]===L[s].right&&(++m,L[s].left&&(m+=L[s].left._count));return m},enumerable:!0}),i.next=function(){var m=this._stack;if(m.length!==0){var L=m[m.length-1];if(L.right)for(L=L.right;L;)m.push(L),L=L.left;else for(m.pop();m.length>0&&m[m.length-1].right===L;)L=m[m.length-1],m.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var L=m.length-1;L>0;--L)if(m[L-1].left===m[L])return!0;return!1}}),i.update=function(m){var L=this._stack;if(L.length===0)throw new Error("Can't update empty node!");var M=new Array(L.length),s=L[L.length-1];M[M.length-1]=new t(s._color,s.key,m,s.left,s.right,s._count);for(var S=L.length-2;S>=0;--S)s=L[S],s.left===L[S+1]?M[S]=new t(s._color,s.key,s.value,M[S+1],s.right,s._count):M[S]=new t(s._color,s.key,s.value,s.left,M[S+1],s._count);return new f(this.tree._compare,M[0])},i.prev=function(){var m=this._stack;if(m.length!==0){var L=m[m.length-1];if(L.left)for(L=L.left;L;)m.push(L),L=L.right;else for(m.pop();m.length>0&&m[m.length-1].left===L;)L=m[m.length-1],m.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var L=m.length-1;L>0;--L)if(m[L-1].right===m[L])return!0;return!1}});function A(m,L){return m<L?-1:m>L?1:0}function R(m){return new f(m||A,null)}},3837:function(v,p,r){v.exports=I;var t=r(4935),o=r(501),a=r(5304),u=r(6429),f=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=ArrayBuffer,c=DataView;function T(H){return y.isView(H)&&!(H instanceof c)}function h(H){return Array.isArray(H)||T(H)}function i(H,O){return H[0]=O[0],H[1]=O[1],H[2]=O[2],H}function g(H){this.gl=H,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(H)}var b=g.prototype;b.update=function(H){H=H||{};function O(q,le,$){if($ in H){var j=H[$],se=this[$],ne;(q?h(j)&&h(j[0]):h(j))?this[$]=ne=[le(j[0]),le(j[1]),le(j[2])]:this[$]=ne=[le(j),le(j),le(j)];for(var he=0;he<3;++he)if(ne[he]!==se[he])return!0}return!1}var V=O.bind(this,!1,Number),B=O.bind(this,!1,Boolean),F=O.bind(this,!1,String),G=O.bind(this,!0,function(q){if(h(q)){if(q.length===3)return[+q[0],+q[1],+q[2],1];if(q.length===4)return[+q[0],+q[1],+q[2],+q[3]]}return[0,0,0,1]}),Y,Q=!1,te=!1;if("bounds"in H)for(var ae=H.bounds,fe=0;fe<2;++fe)for(var oe=0;oe<3;++oe)ae[fe][oe]!==this.bounds[fe][oe]&&(te=!0),this.bounds[fe][oe]=ae[fe][oe];if("ticks"in H){Y=H.ticks,Q=!0,this.autoTicks=!1;for(var fe=0;fe<3;++fe)this.tickSpacing[fe]=0}else V("tickSpacing")&&(this.autoTicks=!0,te=!0);if(this._firstInit&&("ticks"in H||"tickSpacing"in H||(this.autoTicks=!0),te=!0,Q=!0,this._firstInit=!1),te&&this.autoTicks&&(Y=f.create(this.bounds,this.tickSpacing),Q=!0),Q){for(var fe=0;fe<3;++fe)Y[fe].sort(function(le,$){return le.x-$.x});f.equal(Y,this.ticks)?Q=!1:this.ticks=Y}B("tickEnable"),F("tickFont")&&(Q=!0),F("tickFontStyle")&&(Q=!0),F("tickFontWeight")&&(Q=!0),F("tickFontVariant")&&(Q=!0),V("tickSize"),V("tickAngle"),V("tickPad"),G("tickColor");var J=F("labels");F("labelFont")&&(J=!0),F("labelFontStyle")&&(J=!0),F("labelFontWeight")&&(J=!0),F("labelFontVariant")&&(J=!0),B("labelEnable"),V("labelSize"),V("labelPad"),G("labelColor"),B("lineEnable"),B("lineMirror"),V("lineWidth"),G("lineColor"),B("lineTickEnable"),B("lineTickMirror"),V("lineTickLength"),V("lineTickWidth"),G("lineTickColor"),B("gridEnable"),V("gridWidth"),G("gridColor"),B("zeroEnable"),G("zeroLineColor"),V("zeroLineWidth"),B("backgroundEnable"),G("backgroundColor");var ee=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],X=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(J||Q)&&this._text.update(this.bounds,this.labels,ee,this.ticks,X):this._text=t(this.gl,this.bounds,this.labels,ee,this.ticks,X),this._lines&&Q&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};function A(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var R=[new A,new A,new A];function m(H,O,V,B,F){for(var G=H.primalOffset,Y=H.primalMinor,Q=H.mirrorOffset,te=H.mirrorMinor,ae=B[O],fe=0;fe<3;++fe)if(O!==fe){var oe=G,J=Q,ee=Y,X=te;ae&1<<fe&&(oe=Q,J=G,ee=te,X=Y),oe[fe]=V[0][fe],J[fe]=V[1][fe],F[fe]>0?(ee[fe]=-1,X[fe]=0):(ee[fe]=0,X[fe]=1)}}var L=[0,0,0],M={model:l,view:l,projection:l,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(H){};var s=0,S=[0,0,0],w=[0,0,0],_=[0,0,0];b.draw=function(H){H=H||M;for(var $=this.gl,O=H.model||l,V=H.view||l,B=H.projection||l,F=this.bounds,G=H._ortho||!1,Y=u(O,V,B,F,G),Q=Y.cubeEdges,te=Y.axis,ae=V[12],fe=V[13],oe=V[14],J=V[15],ee=G?2:1,X=ee*this.pixelRatio*(B[3]*ae+B[7]*fe+B[11]*oe+B[15]*J)/$.drawingBufferHeight,q=0;q<3;++q)this.lastCubeProps.cubeEdges[q]=Q[q],this.lastCubeProps.axis[q]=te[q];for(var le=R,q=0;q<3;++q)m(R[q],q,this.bounds,Q,te);for(var $=this.gl,j=L,q=0;q<3;++q)this.backgroundEnable[q]?j[q]=te[q]:j[q]=0;this._background.draw(O,V,B,F,j,this.backgroundColor),this._lines.bind(O,V,B,this);for(var q=0;q<3;++q){var se=[0,0,0];te[q]>0?se[q]=F[1][q]:se[q]=F[0][q];for(var ne=0;ne<2;++ne){var he=(q+1+ne)%3,me=(q+1+(ne^1))%3;this.gridEnable[he]&&this._lines.drawGrid(he,me,this.bounds,se,this.gridColor[he],this.gridWidth[he]*this.pixelRatio)}for(var ne=0;ne<2;++ne){var he=(q+1+ne)%3,me=(q+1+(ne^1))%3;this.zeroEnable[me]&&Math.min(F[0][me],F[1][me])<=0&&Math.max(F[0][me],F[1][me])>=0&&this._lines.drawZero(he,me,this.bounds,se,this.zeroLineColor[me],this.zeroLineWidth[me]*this.pixelRatio)}}for(var q=0;q<3;++q){this.lineEnable[q]&&this._lines.drawAxisLine(q,this.bounds,le[q].primalOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio),this.lineMirror[q]&&this._lines.drawAxisLine(q,this.bounds,le[q].mirrorOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio);for(var we=i(S,le[q].primalMinor),Te=i(w,le[q].mirrorMinor),Le=this.lineTickLength,ne=0;ne<3;++ne){var Ie=X/O[5*ne];we[ne]*=Le[ne]*Ie,Te[ne]*=Le[ne]*Ie}this.lineTickEnable[q]&&this._lines.drawAxisTicks(q,le[q].primalOffset,we,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio),this.lineTickMirror[q]&&this._lines.drawAxisTicks(q,le[q].mirrorOffset,Te,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(O,V,B,this.pixelRatio);var ze,Me=.5,_e,Ce;function Oe(et){Ce=[0,0,0],Ce[et]=1}function Pe(et,ft,vt){var dt=(et+1)%3,xt=(et+2)%3,Mt=ft[dt],nt=ft[xt],Fe=vt[dt],We=vt[xt];if(Mt>0&&We>0){Oe(dt);return}else if(Mt>0&&We<0){Oe(dt);return}else if(Mt<0&&We>0){Oe(dt);return}else if(Mt<0&&We<0){Oe(dt);return}else if(nt>0&&Fe>0){Oe(xt);return}else if(nt>0&&Fe<0){Oe(xt);return}else if(nt<0&&Fe>0){Oe(xt);return}else if(nt<0&&Fe<0){Oe(xt);return}}for(var q=0;q<3;++q){for(var Ge=le[q].primalMinor,Ze=le[q].mirrorMinor,it=i(_,le[q].primalOffset),ne=0;ne<3;++ne)this.lineTickEnable[q]&&(it[ne]+=X*Ge[ne]*Math.max(this.lineTickLength[ne],0)/O[5*ne]);var Je=[0,0,0];if(Je[q]=1,this.tickEnable[q]){this.tickAngle[q]===-3600?(this.tickAngle[q]=0,this.tickAlign[q]="auto"):this.tickAlign[q]=-1,_e=1,ze=[this.tickAlign[q],Me,_e],ze[0]==="auto"?ze[0]=s:ze[0]=parseInt(""+ze[0]),Ce=[0,0,0],Pe(q,Ge,Ze);for(var ne=0;ne<3;++ne)it[ne]+=X*Ge[ne]*this.tickPad[ne]/O[5*ne];this._text.drawTicks(q,this.tickSize[q],this.tickAngle[q],it,this.tickColor[q],Je,Ce,ze)}if(this.labelEnable[q]){_e=0,Ce=[0,0,0],this.labels[q].length>4&&(Oe(q),_e=1),ze=[this.labelAlign[q],Me,_e],ze[0]==="auto"?ze[0]=s:ze[0]=parseInt(""+ze[0]);for(var ne=0;ne<3;++ne)it[ne]+=X*Ge[ne]*this.labelPad[ne]/O[5*ne];it[q]+=.5*(F[0][q]+F[1][q]),this._text.drawLabel(q,this.labelSize[q],this.labelAngle[q],it,this.labelColor[q],[0,0,0],Ce,ze)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function I(H,O){var V=new g(H);return V.update(O),V}},5304:function(v,p,r){v.exports=l;var t=r(2762),o=r(8116),a=r(1879).bg;function u(y,c,T,h){this.gl=y,this.buffer=c,this.vao=T,this.shader=h}var f=u.prototype;f.draw=function(y,c,T,h,i,g){for(var b=!1,A=0;A<3;++A)b=b||i[A];if(b){var R=this.gl;R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:c,projection:T,bounds:h,enable:i,colors:g},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),R.disable(R.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(y){for(var c=[],T=[],h=0,i=0;i<3;++i)for(var g=(i+1)%3,b=(i+2)%3,A=[0,0,0],R=[0,0,0],m=-1;m<=1;m+=2){T.push(h,h+2,h+1,h+1,h+2,h+3),A[i]=m,R[i]=m;for(var L=-1;L<=1;L+=2){A[g]=L;for(var M=-1;M<=1;M+=2)A[b]=M,c.push(A[0],A[1],A[2],R[0],R[1],R[2]),h+=1}var s=g;g=b,b=s}var S=t(y,new Float32Array(c)),w=t(y,new Uint16Array(T),y.ELEMENT_ARRAY_BUFFER),_=o(y,[{buffer:S,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:S,type:y.FLOAT,size:3,offset:12,stride:24}],w),I=a(y);return I.attributes.position.location=0,I.attributes.normal.location=1,new u(y,S,_,I)}},6429:function(v,p,r){v.exports=m;var t=r(8828),o=r(6760),a=r(5202),u=r(3250),f=new Array(16),l=new Array(8),y=new Array(8),c=new Array(3),T=[0,0,0];(function(){for(var L=0;L<8;++L)l[L]=[1,1,1,1],y[L]=[1,1,1]})();function h(L,M,s){for(var S=0;S<4;++S){L[S]=s[12+S];for(var w=0;w<3;++w)L[S]+=M[w]*s[4*w+S]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function g(L){for(var M=0;M<i.length;++M)if(L=a.positive(L,i[M]),L.length<3)return 0;for(var s=L[0],S=s[0]/s[3],w=s[1]/s[3],_=0,M=1;M+1<L.length;++M){var I=L[M],H=L[M+1],O=I[0]/I[3],V=I[1]/I[3],B=H[0]/H[3],F=H[1]/H[3],G=O-S,Y=V-w,Q=B-S,te=F-w;_+=Math.abs(G*te-Y*Q)}return _}var b=[1,1,1],A=[0,0,0],R={cubeEdges:b,axis:A};function m(L,M,s,S,w){o(f,M,L),o(f,s,f);for(var _=0,I=0;I<2;++I){c[2]=S[I][2];for(var H=0;H<2;++H){c[1]=S[H][1];for(var O=0;O<2;++O)c[0]=S[O][0],h(l[_],c,f),_+=1}}for(var V=-1,I=0;I<8;++I){for(var B=l[I][3],F=0;F<3;++F)y[I][F]=l[I][F]/B;w&&(y[I][2]*=-1),B<0&&(V<0||y[I][2]<y[V][2])&&(V=I)}if(V<0){V=0;for(var G=0;G<3;++G){for(var Y=(G+2)%3,Q=(G+1)%3,te=-1,ae=-1,fe=0;fe<2;++fe){var oe=fe<<G,J=oe+(fe<<Y)+(1-fe<<Q),ee=oe+(1-fe<<Y)+(fe<<Q);u(y[oe],y[J],y[ee],T)<0||(fe?te=1:ae=1)}if(te<0||ae<0){ae>te&&(V|=1<<G);continue}for(var fe=0;fe<2;++fe){var oe=fe<<G,J=oe+(fe<<Y)+(1-fe<<Q),ee=oe+(1-fe<<Y)+(fe<<Q),X=g([l[oe],l[J],l[ee],l[oe+(1<<Y)+(1<<Q)]]);fe?te=X:ae=X}if(ae>te){V|=1<<G;continue}}}for(var q=7^V,le=-1,I=0;I<8;++I)I===V||I===q||(le<0||y[le][1]>y[I][1])&&(le=I);for(var $=-1,I=0;I<3;++I){var j=le^1<<I;if(!(j===V||j===q)){$<0&&($=j);var Q=y[j];Q[0]<y[$][0]&&($=j)}}for(var se=-1,I=0;I<3;++I){var j=le^1<<I;if(!(j===V||j===q||j===$)){se<0&&(se=j);var Q=y[j];Q[0]>y[se][0]&&(se=j)}}var ne=b;ne[0]=ne[1]=ne[2]=0,ne[t.log2($^le)]=le&$,ne[t.log2(le^se)]=le&se;var he=se^7;he===V||he===q?(he=$^7,ne[t.log2(se^he)]=he&se):ne[t.log2($^he)]=he&$;for(var me=A,we=V,G=0;G<3;++G)we&1<<G?me[G]=-1:me[G]=1;return R}},501:function(v,p,r){v.exports=b;var t=r(2762),o=r(8116),a=r(1879).n,u=[0,0,0],f=[0,0,0],l=[0,0,0],y=[0,0,0],c=[1,1];function T(A){return A[0]=A[1]=A[2]=0,A}function h(A,R){return A[0]=R[0],A[1]=R[1],A[2]=R[2],A}function i(A,R,m,L,M,s,S,w){this.gl=A,this.vertBuffer=R,this.vao=m,this.shader=L,this.tickCount=M,this.tickOffset=s,this.gridCount=S,this.gridOffset=w}var g=i.prototype;g.bind=function(A,R,m){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=R,this.shader.uniforms.projection=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},g.unbind=function(){this.vao.unbind()},g.drawAxisLine=function(A,R,m,L,M){var s=T(f);this.shader.uniforms.majorAxis=f,s[A]=R[1][A]-R[0][A],this.shader.uniforms.minorAxis=s;var S=h(y,m);S[A]+=R[0][A],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=L;var w=T(l);w[(A+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6);var w=T(l);w[(A+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},g.drawAxisTicks=function(A,R,m,L,M){if(this.tickCount[A]){var s=T(u);s[A]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=R,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=L,this.shader.uniforms.lineWidth=M;var S=T(l);S[A]=1,this.shader.uniforms.screenAxis=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},g.drawGrid=function(A,R,m,L,M,s){if(this.gridCount[A]){var S=T(f);S[R]=m[1][R]-m[0][R],this.shader.uniforms.minorAxis=S;var w=h(y,L);w[R]+=m[0][R],this.shader.uniforms.offset=w;var _=T(u);_[A]=1,this.shader.uniforms.majorAxis=_;var I=T(l);I[A]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},g.drawZero=function(A,R,m,L,M,s){var S=T(f);this.shader.uniforms.majorAxis=S,S[A]=m[1][A]-m[0][A],this.shader.uniforms.minorAxis=S;var w=h(y,L);w[A]+=m[0][A],this.shader.uniforms.offset=w;var _=T(l);_[R]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,6)},g.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function b(A,R,m){var L=[],M=[0,0,0],s=[0,0,0],S=[0,0,0],w=[0,0,0];L.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var _=0;_<3;++_){for(var O=L.length/3|0,I=0;I<m[_].length;++I){var H=+m[_][I].x;L.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var B=L.length/3|0;M[_]=O,s[_]=B-O;for(var O=L.length/3|0,V=0;V<m[_].length;++V){var H=+m[_][V].x;L.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var B=L.length/3|0;S[_]=O,w[_]=B-O}var F=t(A,new Float32Array(L)),G=o(A,[{buffer:F,type:A.FLOAT,size:3,stride:0,offset:0}]),Y=a(A);return Y.attributes.position.location=0,new i(A,F,G,Y,s,M,w,S)}},1879:function(v,p,r){var t=r(3236),o=r(9405),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.n=function(T){return o(T,a,u,null,[{name:"position",type:"vec3"}])};var f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.Q=function(T){return o(T,f,l,null,[{name:"position",type:"vec3"}])};var y=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return o(T,y,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,p,r){v.exports=g;var t=r(2762),o=r(8116),a=r(4359),u=r(1879).Q,f=window||d.global||{},l=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var y=3;function c(b,A,R,m){this.gl=b,this.shader=A,this.buffer=R,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=c.prototype,h=[0,0];T.bind=function(b,A,R,m){this.vao.bind(),this.shader.bind();var L=this.shader.uniforms;L.model=b,L.view=A,L.projection=R,L.pixelScale=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},T.unbind=function(){this.vao.unbind()},T.update=function(b,A,R,m,L){var M=[];function s(G,Y,Q,te,ae,fe){var oe=[Q.style,Q.weight,Q.variant,Q.family].join("_"),J=l[oe];J||(J=l[oe]={});var ee=J[Y];ee||(ee=J[Y]=i(Y,{triangles:!0,font:Q.family,fontStyle:Q.style,fontWeight:Q.weight,fontVariant:Q.variant,textAlign:"center",textBaseline:"middle",lineSpacing:ae,styletags:fe}));for(var X=(te||12)/12,q=ee.positions,le=ee.cells,$=0,j=le.length;$<j;++$)for(var se=le[$],ne=2;ne>=0;--ne){var he=q[se[ne]];M.push(X*he[0],-X*he[1],G)}}for(var S=[0,0,0],w=[0,0,0],_=[0,0,0],I=[0,0,0],H=1.25,O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},V=0;V<3;++V){_[V]=M.length/y|0,s(.5*(b[0][V]+b[1][V]),A[V],R[V],12,H,O),I[V]=(M.length/y|0)-_[V],S[V]=M.length/y|0;for(var B=0;B<m[V].length;++B)if(m[V][B].text){var F={family:m[V][B].font||L[V].family,style:L[V].fontStyle||L[V].style,weight:L[V].fontWeight||L[V].weight,variant:L[V].fontVariant||L[V].variant};s(m[V][B].x,m[V][B].text,F,m[V][B].fontSize||12,H,O)}w[V]=(M.length/y|0)-S[V]}this.buffer.update(M),this.tickOffset=S,this.tickCount=w,this.labelOffset=_,this.labelCount=I},T.drawTicks=function(b,A,R,m,L,M,s,S){this.tickCount[b]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=L,this.shader.uniforms.angle=R,this.shader.uniforms.scale=A,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b]))},T.drawLabel=function(b,A,R,m,L,M,s,S){this.labelCount[b]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=L,this.shader.uniforms.angle=R,this.shader.uniforms.scale=A,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[b],this.labelOffset[b]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(b,A){try{return a(b,A)}catch(R){return console.warn('error vectorizing text:"'+b+'" error:',R),{cells:[],positions:[]}}}function g(b,A,R,m,L,M){var s=t(b),S=o(b,[{buffer:s,size:3}]),w=u(b);w.attributes.position.location=0;var _=new c(b,w,s,S);return _.update(A,R,m,L,M),_}},6444:function(v,p){p.create=t,p.equal=o;function r(a,u){var f=a+"",l=f.indexOf("."),y=0;l>=0&&(y=f.length-l-1);var c=Math.pow(10,y),T=Math.round(a*u*c),h=T+"";if(h.indexOf("e")>=0)return h;var i=T/c,g=T%c;T<0?(i=-Math.ceil(i)|0,g=-g|0):(i=Math.floor(i)|0,g=g|0);var b=""+i;if(T<0&&(b="-"+b),y){for(var A=""+g;A.length<y;)A="0"+A;return b+"."+A}else return b}function t(a,u){for(var f=[],l=0;l<3;++l){var y=[];.5*(a[0][l]+a[1][l]);for(var c=0;c*u[l]<=a[1][l];++c)y.push({x:c*u[l],text:r(u[l],c)});for(var c=-1;c*u[l]>=a[0][l];--c)y.push({x:c*u[l],text:r(u[l],c)});f.push(y)}return f}function o(a,u){for(var f=0;f<3;++f){if(a[f].length!==u[f].length)return!1;for(var l=0;l<a[f].length;++l){var y=a[f][l],c=u[f][l];if(y.x!==c.x||y.text!==c.text||y.font!==c.font||y.fontColor!==c.fontColor||y.fontSize!==c.fontSize||y.dx!==c.dx||y.dy!==c.dy)return!1}}return!0}},5445:function(v,p,r){v.exports=R;var t=r(5033),o=r(5202),a=r(6429),u=r(6760),f=r(5665),l=r(5352),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function T(m,L,M){this.lo=m,this.hi=L,this.pixelsPerDataUnit=M}var h=[0,0,0,1],i=[0,0,0,1];function g(m,L,M,s,S){for(var w=0;w<3;++w){for(var _=h,I=i,H=0;H<3;++H)I[H]=_[H]=M[H];I[3]=_[3]=1,I[w]+=1,l(I,I,L),I[3]<0&&(m[w]=1/0),_[w]-=1,l(_,_,L),_[3]<0&&(m[w]=1/0);var O=(_[0]/_[3]-I[0]/I[3])*s,V=(_[1]/_[3]-I[1]/I[3])*S;m[w]=.25*Math.sqrt(O*O+V*V)}return m}var b=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],A=[0,0,0];function R(m,L,M,s,V){var w=L.model||y,_=L.view||y,I=L.projection||y,H=L._ortho||!1,O=m.bounds,V=V||a(w,_,I,O,H),B=V.axis;u(c,_,w),u(c,I,c);for(var F=b,G=0;G<3;++G)F[G].lo=1/0,F[G].hi=-1/0,F[G].pixelsPerDataUnit=1/0;var Y=t(f(c,c));f(c,c);for(var Q=0;Q<3;++Q){var te=(Q+1)%3,ae=(Q+2)%3,fe=A;e:for(var G=0;G<2;++G){var oe=[];if(B[Q]<0!=!!G){fe[Q]=O[G][Q];for(var J=0;J<2;++J){fe[te]=O[J^G][te];for(var ee=0;ee<2;++ee)fe[ae]=O[ee^J^G][ae],oe.push(fe.slice())}for(var X=H?5:4,J=X;J===X;++J){if(oe.length===0)continue e;oe=o.positive(oe,Y[J])}for(var J=0;J<oe.length;++J)for(var ae=oe[J],q=g(A,c,ae,M,s),ee=0;ee<3;++ee)F[ee].lo=Math.min(F[ee].lo,ae[ee]),F[ee].hi=Math.max(F[ee].hi,ae[ee]),ee!==Q&&(F[ee].pixelsPerDataUnit=Math.min(F[ee].pixelsPerDataUnit,Math.abs(q[ee])))}}}return F}},2762:function(v,p,r){var t=r(1888),o=r(5298),a=r(9618),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(i,g,b,A,R){this.gl=i,this.type=g,this.handle=b,this.length=A,this.usage=R}var l=f.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(i,g,b,A,R,m){var L=R.length*R.BYTES_PER_ELEMENT;if(m<0)return i.bufferData(g,R,A),L;if(L+m>b)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(g,m,R),b}function c(i,g){for(var b=t.malloc(i.length,g),A=i.length,R=0;R<A;++R)b[R]=i[R];return b}function T(i,g){for(var b=1,A=g.length-1;A>=0;--A){if(g[A]!==b)return!1;b*=i[A]}return!0}l.update=function(i,g){if(typeof g!="number"&&(g=-1),this.bind(),typeof i=="object"&&typeof i.shape<"u"){var b=i.dtype;if(u.indexOf(b)<0&&(b="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&b!=="uint16"?b="uint32":b="uint16"}if(b===i.dtype&&T(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,i.data,g):this.length=y(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),g);else{var R=t.malloc(i.size,b),m=a(R,i.shape);o.assign(m,i),g<0?this.length=y(this.gl,this.type,this.length,this.usage,R,g):this.length=y(this.gl,this.type,this.length,this.usage,R.subarray(0,i.size),g),t.free(R)}}else if(Array.isArray(i)){var L;this.type===this.gl.ELEMENT_ARRAY_BUFFER?L=c(i,"uint16"):L=c(i,"float32"),g<0?this.length=y(this.gl,this.type,this.length,this.usage,L,g):this.length=y(this.gl,this.type,this.length,this.usage,L.subarray(0,i.length),g),t.free(L)}else if(typeof i=="object"&&typeof i.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,i,g);else if(typeof i=="number"||i===void 0){if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function h(i,g,b,A){if(b=b||i.ARRAY_BUFFER,A=A||i.DYNAMIC_DRAW,b!==i.ARRAY_BUFFER&&b!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==i.DYNAMIC_DRAW&&A!==i.STATIC_DRAW&&A!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var R=i.createBuffer(),m=new f(i,b,R,0,A);return m.update(g),m}v.exports=h},6405:function(v,p,r){var t=r(2931);v.exports=function(a,u){var f=a.positions,l=a.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(a.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),y;for(var c=0,T=1/0,h=-1/0,i=1/0,g=-1/0,b=1/0,A=-1/0,R=null,m=null,L=[],M=1/0,s=!1,S=a.coneSizemode==="raw",w=0;w<f.length;w++){var _=f[w];T=Math.min(_[0],T),h=Math.max(_[0],h),i=Math.min(_[1],i),g=Math.max(_[1],g),b=Math.min(_[2],b),A=Math.max(_[2],A);var I=l[w];if(t.length(I)>c&&(c=t.length(I)),w&&!S){var H=2*t.distance(R,_)/(t.length(m)+t.length(I));H?(M=Math.min(M,H),s=!1):s=!0}s||(R=_,m=I),L.push(I)}var O=[T,i,b],V=[h,g,A];u&&(u[0]=O,u[1]=V),c===0&&(c=1);var B=1/c;isFinite(M)||(M=1),y.vectorScale=M;var F=a.coneSize||(S?1:.5);a.absoluteConeSize&&(F=a.absoluteConeSize*B),y.coneScale=F;for(var w=0,G=0;w<f.length;w++)for(var _=f[w],Y=_[0],Q=_[1],te=_[2],ae=L[w],fe=t.length(ae)*B,oe=0,J=8;oe<J;oe++){y.positions.push([Y,Q,te,G++]),y.positions.push([Y,Q,te,G++]),y.positions.push([Y,Q,te,G++]),y.positions.push([Y,Q,te,G++]),y.positions.push([Y,Q,te,G++]),y.positions.push([Y,Q,te,G++]),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vertexIntensity.push(fe,fe,fe),y.vertexIntensity.push(fe,fe,fe);var ee=y.positions.length;y.cells.push([ee-6,ee-5,ee-4],[ee-3,ee-2,ee-1])}return y};var o=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(a,u){return v.exports.createMesh(a,u,{shaders:o,traceType:"cone"})}},9060:function(v,p,r){var t=r(9405),o=r(2762),a=r(8116),u=r(7766),f=r(6760),l=r(7608),y=r(9618),c=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(L,M,s,S,w,_,I,H,O,V,B){this.gl=L,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=M,this.dirty=!0,this.triShader=s,this.pickShader=S,this.trianglePositions=w,this.triangleVectors=_,this.triangleColors=H,this.triangleUVs=O,this.triangleIds=I,this.triangleVAO=V,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var i=h.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(L){this.pickId=L};function g(L){for(var M=c({colormap:L,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),S=0;S<256;++S){for(var w=M[S],_=0;_<3;++_)s[4*S+_]=w[_];s[4*S+3]=w[3]*255}return y(s,[256,256,4],[4,0,1])}function b(L){for(var M=L.length,s=new Array(M),S=0;S<M;++S)s[S]=L[S][2];return s}i.update=function(L){L=L||{};var M=this.gl;this.dirty=!0,"lightPosition"in L&&(this.lightPosition=L.lightPosition),"opacity"in L&&(this.opacity=L.opacity),"ambient"in L&&(this.ambientLight=L.ambient),"diffuse"in L&&(this.diffuseLight=L.diffuse),"specular"in L&&(this.specularLight=L.specular),"roughness"in L&&(this.roughness=L.roughness),"fresnel"in L&&(this.fresnel=L.fresnel),L.tubeScale!==void 0&&(this.tubeScale=L.tubeScale),L.vectorScale!==void 0&&(this.vectorScale=L.vectorScale),L.coneScale!==void 0&&(this.coneScale=L.coneScale),L.coneOffset!==void 0&&(this.coneOffset=L.coneOffset),L.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=M.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=M.LINEAR,this.texture.setPixels(g(L.colormap)),this.texture.generateMipmap());var s=L.cells,S=L.positions,w=L.vectors;if(!(!S||!s||!w)){var _=[],I=[],H=[],O=[],V=[];this.cells=s,this.positions=S,this.vectors=w;var B=L.meshColor||[1,1,1,1],F=L.vertexIntensity,G=1/0,Y=-1/0;if(F)if(L.vertexIntensityBounds)G=+L.vertexIntensityBounds[0],Y=+L.vertexIntensityBounds[1];else for(var Q=0;Q<F.length;++Q){var te=F[Q];G=Math.min(G,te),Y=Math.max(Y,te)}else for(var Q=0;Q<S.length;++Q){var te=S[Q][2];G=Math.min(G,te),Y=Math.max(Y,te)}F?this.intensity=F:this.intensity=b(S),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Q=0;Q<S.length;++Q)for(var ae=S[Q],fe=0;fe<3;++fe)isNaN(ae[fe])||!isFinite(ae[fe])||(this.bounds[0][fe]=Math.min(this.bounds[0][fe],ae[fe]),this.bounds[1][fe]=Math.max(this.bounds[1][fe],ae[fe]));var oe=0;e:for(var Q=0;Q<s.length;++Q){var J=s[Q];switch(J.length){case 3:for(var fe=0;fe<3;++fe)for(var ee=J[fe],ae=S[ee],X=0;X<3;++X)if(isNaN(ae[X])||!isFinite(ae[X]))continue e;for(var fe=0;fe<3;++fe){var ee=J[2-fe],ae=S[ee];_.push(ae[0],ae[1],ae[2],ae[3]);var q=w[ee];I.push(q[0],q[1],q[2],q[3]||0);var le=B;le.length===3?H.push(le[0],le[1],le[2],1):H.push(le[0],le[1],le[2],le[3]);var $;F?$=[(F[ee]-G)/(Y-G),0]:$=[(ae[2]-G)/(Y-G),0],O.push($[0],$[1]),V.push(Q)}oe+=1;break}}this.triangleCount=oe,this.trianglePositions.update(_),this.triangleVectors.update(I),this.triangleColors.update(H),this.triangleUVs.update(O),this.triangleIds.update(new Uint32Array(V))}},i.drawTransparent=i.draw=function(L){L=L||{};for(var M=this.gl,s=L.model||T,S=L.view||T,w=L.projection||T,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)_[0][I]=Math.max(_[0][I],this.clipBounds[0][I]),_[1][I]=Math.min(_[1][I],this.clipBounds[1][I]);var H={model:s,view:S,projection:w,inverseModel:T.slice(),clipBounds:_,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};H.inverseModel=l(H.inverseModel,H.model),M.disable(M.CULL_FACE),this.texture.bind(0);var O=new Array(16);f(O,H.view,H.model),f(O,H.projection,O),l(O,O);for(var I=0;I<3;++I)H.eyePosition[I]=O[12+I]/O[15];for(var V=O[15],I=0;I<3;++I)V+=this.lightPosition[I]*O[4*I+3];for(var I=0;I<3;++I){for(var B=O[12+I],F=0;F<3;++F)B+=O[4*F+I]*this.lightPosition[F];H.lightPosition[I]=B/V}if(this.triangleCount>0){var G=this.triShader;G.bind(),G.uniforms=H,this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(L){L=L||{};for(var M=this.gl,s=L.model||T,S=L.view||T,w=L.projection||T,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)_[0][I]=Math.max(_[0][I],this.clipBounds[0][I]),_[1][I]=Math.min(_[1][I],this.clipBounds[1][I]);this._model=[].slice.call(s),this._view=[].slice.call(S),this._projection=[].slice.call(w),this._resolution=[M.drawingBufferWidth,M.drawingBufferHeight];var H={model:s,view:S,projection:w,clipBounds:_,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},O=this.pickShader;O.bind(),O.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(L){if(!L||L.id!==this.pickId)return null;var M=L.value[0]+256*L.value[1]+65536*L.value[2],s=this.cells[M],S=this.positions[s[1]].slice(0,3),w={position:S,dataCoordinate:S,index:Math.floor(s[1]/48)};return this.traceType==="cone"?w.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(w.intensity=this.intensity[s[1]],w.velocity=this.vectors[s[1]].slice(0,3),w.divergence=this.vectors[s[1]][3],w.index=M),w},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(L,M){var s=t(L,M.meshShader.vertex,M.meshShader.fragment,null,M.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function R(L,M){var s=t(L,M.pickShader.vertex,M.pickShader.fragment,null,M.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function m(L,M,s){var S=s.shaders;arguments.length===1&&(M=L,L=M.gl);var w=A(L,S),_=R(L,S),I=u(L,y(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=L.LINEAR_MIPMAP_LINEAR,I.magFilter=L.LINEAR;var H=o(L),O=o(L),V=o(L),B=o(L),F=o(L),G=a(L,[{buffer:H,type:L.FLOAT,size:4},{buffer:F,type:L.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:V,type:L.FLOAT,size:4},{buffer:B,type:L.FLOAT,size:2},{buffer:O,type:L.FLOAT,size:4}]),Y=new h(L,I,w,_,H,O,F,V,B,G,s.traceType||"cone");return Y.update(M),Y}v.exports=m},614:function(v,p,r){var t=r(3236),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,p,r){var t=r(737);v.exports=function(a){return t[a]}},9165:function(v,p,r){v.exports=h;var t=r(2762),o=r(8116),a=r(3436),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(i,g,b,A){this.gl=i,this.shader=A,this.buffer=g,this.vao=b,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=f.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(i){var g=this.gl,b=this.shader.uniforms;this.shader.bind();var A=b.view=i.view||u,R=b.projection=i.projection||u;b.model=i.model||u,b.clipBounds=this.clipBounds,b.opacity=this.opacity;var m=A[12],L=A[13],M=A[14],s=A[15],S=i._ortho||!1,w=S?2:1,_=w*this.pixelRatio*(R[3]*m+R[7]*L+R[11]*M+R[15]*s)/g.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)g.lineWidth(this.lineWidth[I]*this.pixelRatio),b.capSize=this.capSize[I]*_,this.lineCount[I]&&g.drawArrays(g.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function y(i,g){for(var b=0;b<3;++b)i[0][b]=Math.min(i[0][b],g[b]),i[1][b]=Math.max(i[1][b],g[b])}var c=function(){for(var i=new Array(3),g=0;g<3;++g){for(var b=[],A=1;A<=2;++A)for(var R=-1;R<=1;R+=2){var m=(A+g)%3,L=[0,0,0];L[m]=R,b.push(L)}i[g]=b}return i}();function T(i,g,b,A){for(var R=c[A],m=0;m<R.length;++m){var L=R[m];i.push(g[0],g[1],g[2],b[0],b[1],b[2],b[3],L[0],L[1],L[2])}return R.length}l.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var g=i.color||[[0,0,0],[0,0,0],[0,0,0]],b=i.position,A=i.error;if(Array.isArray(g[0])||(g=[g,g,g]),b&&A){var R=[],m=b.length,L=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var M=0;M<3;++M){this.lineOffset[M]=L;e:for(var s=0;s<m;++s){for(var S=b[s],w=0;w<3;++w)if(isNaN(S[w])||!isFinite(S[w]))continue e;var _=A[s],I=g[M];if(Array.isArray(I[0])&&(I=g[s]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(_[0][M])||isNaN(_[1][M]))){if(_[0][M]<0){var H=S.slice();H[M]+=_[0][M],R.push(S[0],S[1],S[2],I[0],I[1],I[2],I[3],0,0,0,H[0],H[1],H[2],I[0],I[1],I[2],I[3],0,0,0),y(this.bounds,H),L+=2+T(R,H,I,M)}if(_[1][M]>0){var H=S.slice();H[M]+=_[1][M],R.push(S[0],S[1],S[2],I[0],I[1],I[2],I[3],0,0,0,H[0],H[1],H[2],I[0],I[1],I[2],I[3],0,0,0),y(this.bounds,H),L+=2+T(R,H,I,M)}}}this.lineCount[M]=L-this.lineOffset[M]}this.buffer.update(R)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(i){var g=i.gl,b=t(g),A=o(g,[{buffer:b,type:g.FLOAT,size:3,offset:0,stride:40},{buffer:b,type:g.FLOAT,size:4,offset:12,stride:40},{buffer:b,type:g.FLOAT,size:3,offset:28,stride:40}]),R=a(g);R.attributes.position.location=0,R.attributes.color.location=1,R.attributes.offset.location=2;var m=new f(g,b,A,R);return m.update(i),m}},3436:function(v,p,r){var t=r(3236),o=r(9405),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return o(f,a,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,p,r){var t=r(7766);v.exports=L;var o=null,a,u,f,l;function y(M){var s=M.getParameter(M.FRAMEBUFFER_BINDING),S=M.getParameter(M.RENDERBUFFER_BINDING),w=M.getParameter(M.TEXTURE_BINDING_2D);return[s,S,w]}function c(M,s){M.bindFramebuffer(M.FRAMEBUFFER,s[0]),M.bindRenderbuffer(M.RENDERBUFFER,s[1]),M.bindTexture(M.TEXTURE_2D,s[2])}function T(M,s){var S=M.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);o=new Array(S+1);for(var w=0;w<=S;++w){for(var _=new Array(S),I=0;I<w;++I)_[I]=M.COLOR_ATTACHMENT0+I;for(var I=w;I<S;++I)_[I]=M.NONE;o[w]=_}}function h(M){switch(M){case a:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(M,s,S,w,_,I){if(!w)return null;var H=t(M,s,S,_,w);return H.magFilter=M.NEAREST,H.minFilter=M.NEAREST,H.mipSamples=1,H.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,I,M.TEXTURE_2D,H.handle,0),H}function g(M,s,S,w,_){var I=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,I),M.renderbufferStorage(M.RENDERBUFFER,w,s,S),M.framebufferRenderbuffer(M.FRAMEBUFFER,_,M.RENDERBUFFER,I),I}function b(M){var s=y(M.gl),S=M.gl,w=M.handle=S.createFramebuffer(),_=M._shape[0],I=M._shape[1],H=M.color.length,O=M._ext,V=M._useStencil,B=M._useDepth,F=M._colorType;S.bindFramebuffer(S.FRAMEBUFFER,w);for(var G=0;G<H;++G)M.color[G]=i(S,_,I,F,S.RGBA,S.COLOR_ATTACHMENT0+G);H===0?(M._color_rb=g(S,_,I,S.RGBA4,S.COLOR_ATTACHMENT0),O&&O.drawBuffersWEBGL(o[0])):H>1&&O.drawBuffersWEBGL(o[H]);var Y=S.getExtension("WEBGL_depth_texture");Y?V?M.depth=i(S,_,I,Y.UNSIGNED_INT_24_8_WEBGL,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):B&&(M.depth=i(S,_,I,S.UNSIGNED_SHORT,S.DEPTH_COMPONENT,S.DEPTH_ATTACHMENT)):B&&V?M._depth_rb=g(S,_,I,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):B?M._depth_rb=g(S,_,I,S.DEPTH_COMPONENT16,S.DEPTH_ATTACHMENT):V&&(M._depth_rb=g(S,_,I,S.STENCIL_INDEX,S.STENCIL_ATTACHMENT));var Q=S.checkFramebufferStatus(S.FRAMEBUFFER);if(Q!==S.FRAMEBUFFER_COMPLETE){M._destroyed=!0,S.bindFramebuffer(S.FRAMEBUFFER,null),S.deleteFramebuffer(M.handle),M.handle=null,M.depth&&(M.depth.dispose(),M.depth=null),M._depth_rb&&(S.deleteRenderbuffer(M._depth_rb),M._depth_rb=null);for(var G=0;G<M.color.length;++G)M.color[G].dispose(),M.color[G]=null;M._color_rb&&(S.deleteRenderbuffer(M._color_rb),M._color_rb=null),c(S,s),h(Q)}c(S,s)}function A(M,s,S,w,_,I,H,O){this.gl=M,this._shape=[s|0,S|0],this._destroyed=!1,this._ext=O,this.color=new Array(_);for(var V=0;V<_;++V)this.color[V]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=I,this._useStencil=H;var B=this,F=[s|0,S|0];Object.defineProperties(F,{0:{get:function(){return B._shape[0]},set:function(G){return B.width=G}},1:{get:function(){return B._shape[1]},set:function(G){return B.height=G}}}),this._shapeVector=F,b(this)}var R=A.prototype;function m(M,s,S){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(M._shape[0]===s&&M._shape[1]===S)){var w=M.gl,_=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(s<0||s>_||S<0||S>_)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=s,M._shape[1]=S;for(var I=y(w),H=0;H<M.color.length;++H)M.color[H].shape=M._shape;M._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,M._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,M._shape[0],M._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,M.handle);var O=w.checkFramebufferStatus(w.FRAMEBUFFER);O!==w.FRAMEBUFFER_COMPLETE&&(M.dispose(),c(w,I),h(O)),c(w,I)}}Object.defineProperties(R,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[M|0,M|0]),M.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=M[0]|0,S=M[1]|0;return m(this,s,S),[s,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return M=M|0,m(this,M,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return M=M|0,m(this,this._shape[0],M),M},enumerable:!1}}),R.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},R.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function L(M,s,S,w){a||(a=M.FRAMEBUFFER_UNSUPPORTED,u=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var _=M.getExtension("WEBGL_draw_buffers");if(!o&&_&&T(M,_),Array.isArray(s)&&(w=S,S=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var I=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(s<0||s>I||S<0||S>I)throw new Error("gl-fbo: Parameters are too large for FBO");w=w||{};var H=1;if("color"in w){if(H=Math.max(w.color|0,0),H<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(H>1)if(_){if(H>M.getParameter(_.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+H+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var O=M.UNSIGNED_BYTE,V=M.getExtension("OES_texture_float");if(w.float&&H>0){if(!V)throw new Error("gl-fbo: Context does not support floating point textures");O=M.FLOAT}else w.preferFloat&&H>0&&V&&(O=M.FLOAT);var B=!0;"depth"in w&&(B=!!w.depth);var F=!1;return"stencil"in w&&(F=!!w.stencil),new A(M,s,S,O,H,B,F,_)}},2992:function(v,p,r){var t=r(3387).sprintf,o=r(5171),a=r(1848),u=r(1085);v.exports=f;function f(l,y,c){var T=a(y)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===o.FRAGMENT_SHADER?"fragment":"vertex");for(var i=t(`Error compiling %s shader %s:
`,h,T),g=t("%s%s",i,l),b=l.split(`
`),A={},R=0;R<b.length;R++){var m=b[R];if(!(m===""||m==="\0")){var L=parseInt(m.split(":")[2]);if(isNaN(L))throw new Error(t("Could not parse error: %s",m));A[L]=m}}for(var M=u(y).split(`
`),R=0;R<M.length;R++)if(!(!A[R+3]&&!A[R+2]&&!A[R+1])){var s=M[R];if(i+=s+`
`,A[R+1]){var S=A[R+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),i+=t(`^^^ %s

`,S)}}return{long:i.trim(),short:g.trim()}}},2510:function(v,p,r){v.exports=h;var t=r(2478),o=r(7762),a=r(1888),u=r(9405),f=r(2762),l=r(6768);function y(i,g,b,A,R,m,L){this.plot=i,this.shader=g,this.pickShader=b,this.positionBuffer=A,this.weightBuffer=R,this.colorBuffer=m,this.idBuffer=L,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=y.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var g=this.plot,b=this.shader,A=this.bounds,R=this.numVertices;if(!(R<=0)){var m=g.gl,L=g.dataBox,M=A[2]-A[0],s=A[3]-A[1],S=L[2]-L[0],w=L[3]-L[1];i[0]=2*M/S,i[4]=2*s/w,i[6]=2*(A[0]-L[0])/S-1,i[7]=2*(A[1]-L[1])/w-1,b.bind();var _=b.uniforms;_.viewTransform=i,_.shape=this.shape;var I=b.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,R)}}}(),c.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0];return function(b){var A=this.plot,R=this.pickShader,m=this.bounds,L=this.numVertices;if(!(L<=0)){var M=A.gl,s=A.dataBox,S=m[2]-m[0],w=m[3]-m[1],_=s[2]-s[0],I=s[3]-s[1];i[0]=2*S/_,i[4]=2*w/I,i[6]=2*(m[0]-s[0])/_-1,i[7]=2*(m[1]-s[1])/I-1;for(var H=0;H<4;++H)g[H]=b>>H*8&255;this.pickOffset=b,R.bind();var O=R.uniforms;O.viewTransform=i,O.pickOffset=g,O.shape=this.shape;var V=R.attributes;return this.positionBuffer.bind(),V.position.pointer(),this.weightBuffer.bind(),V.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),V.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,L),b+this.shape[0]*this.shape[1]}}}(),c.pick=function(i,g,b){var A=this.pickOffset,R=this.shape[0]*this.shape[1];if(b<A||b>=A+R)return null;var m=b-A,L=this.xData,M=this.yData;return{object:this,pointId:m,dataCoord:[L[m%this.shape[0]],M[m/this.shape[0]|0]]}},c.update=function(i){i=i||{};var g=i.shape||[0,0],b=i.x||o(g[0]),A=i.y||o(g[1]),R=i.z||new Float32Array(g[0]*g[1]),m=i.zsmooth!==!1;this.xData=b,this.yData=A;var L=i.colorLevels||[0],M=i.colorValues||[0,0,0,1],s=L.length,S=this.bounds,w,_,I,H;m?(w=S[0]=b[0],_=S[1]=A[0],I=S[2]=b[b.length-1],H=S[3]=A[A.length-1]):(w=S[0]=b[0]+(b[1]-b[0])/2,_=S[1]=A[0]+(A[1]-A[0])/2,I=S[2]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2,H=S[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var O=1/(I-w),V=1/(H-_),B=g[0],F=g[1];this.shape=[B,F];var G=(m?(B-1)*(F-1):B*F)*(T.length>>>1);this.numVertices=G;for(var Y=a.mallocUint8(G*4),Q=a.mallocFloat32(G*2),te=a.mallocUint8(G*2),ae=a.mallocUint32(G),fe=0,oe=m?B-1:B,J=m?F-1:F,ee=0;ee<J;++ee){var X,q;m?(X=V*(A[ee]-_),q=V*(A[ee+1]-_)):(X=ee<F-1?V*(A[ee]-(A[ee+1]-A[ee])/2-_):V*(A[ee]-(A[ee]-A[ee-1])/2-_),q=ee<F-1?V*(A[ee]+(A[ee+1]-A[ee])/2-_):V*(A[ee]+(A[ee]-A[ee-1])/2-_));for(var le=0;le<oe;++le){var $,j;m?($=O*(b[le]-w),j=O*(b[le+1]-w)):($=le<B-1?O*(b[le]-(b[le+1]-b[le])/2-w):O*(b[le]-(b[le]-b[le-1])/2-w),j=le<B-1?O*(b[le]+(b[le+1]-b[le])/2-w):O*(b[le]+(b[le]-b[le-1])/2-w));for(var se=0;se<T.length;se+=2){var ne=T[se],he=T[se+1],me=m?(ee+he)*B+(le+ne):ee*B+le,we=R[me],Te=t.le(L,we),Le,Ie,ze,Me;if(Te<0)Le=M[0],Ie=M[1],ze=M[2],Me=M[3];else if(Te===s-1)Le=M[4*s-4],Ie=M[4*s-3],ze=M[4*s-2],Me=M[4*s-1];else{var _e=(we-L[Te])/(L[Te+1]-L[Te]),Ce=1-_e,Oe=4*Te,Pe=4*(Te+1);Le=Ce*M[Oe]+_e*M[Pe],Ie=Ce*M[Oe+1]+_e*M[Pe+1],ze=Ce*M[Oe+2]+_e*M[Pe+2],Me=Ce*M[Oe+3]+_e*M[Pe+3]}Y[4*fe]=255*Le,Y[4*fe+1]=255*Ie,Y[4*fe+2]=255*ze,Y[4*fe+3]=255*Me,Q[2*fe]=$*.5+j*.5,Q[2*fe+1]=X*.5+q*.5,te[2*fe]=ne,te[2*fe+1]=he,ae[fe]=ee*B+le,fe+=1}}}this.positionBuffer.update(Q),this.weightBuffer.update(te),this.colorBuffer.update(Y),this.idBuffer.update(ae),a.free(Q),a.free(Y),a.free(te),a.free(ae)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(i,g){var b=i.gl,A=u(b,l.vertex,l.fragment),R=u(b,l.pickVertex,l.pickFragment),m=f(b),L=f(b),M=f(b),s=f(b),S=new y(i,A,R,m,L,M,s);return S.update(g),i.addObject(S),S}},6768:function(v,p,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,p,r){var t=r(3236),o=r(9405),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(y){return o(y,a,u,null,l)},p.createPickShader=function(y){return o(y,a,f,null,l)}},5714:function(v,p,r){v.exports=M;var t=r(2762),o=r(8116),a=r(7766),u=new Uint8Array(4),f=new Float32Array(u.buffer);function l(s,S,w,_){return u[0]=_,u[1]=w,u[2]=S,u[3]=s,f[0]}var y=r(2478),c=r(9618),T=r(7319),h=T.createShader,i=T.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function b(s,S){for(var w=0,_=0;_<3;++_){var I=s[_]-S[_];w+=I*I}return Math.sqrt(w)}function A(s){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(s[0][w],S[0][w]),S[1][w]=Math.min(s[1][w],S[1][w]);return S}function R(s,S,w,_){this.arcLength=s,this.position=S,this.index=w,this.dataCoordinate=_}function m(s,S,w,_,I,H){this.gl=s,this.shader=S,this.pickShader=w,this.buffer=_,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=H,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var L=m.prototype;L.isTransparent=function(){return this.hasAlpha},L.isOpaque=function(){return!this.hasAlpha},L.pickSlots=1,L.setPickBase=function(s){this.pickId=s},L.drawTransparent=L.draw=function(s){if(this.vertexCount){var S=this.gl,w=this.shader,_=this.vao;w.bind(),w.uniforms={model:s.model||g,view:s.view||g,projection:s.projection||g,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(S.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},L.drawPick=function(s){if(this.vertexCount){var S=this.gl,w=this.pickShader,_=this.vao;w.bind(),w.uniforms={model:s.model||g,view:s.view||g,projection:s.projection||g,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(S.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},L.update=function(s){var S,w;this.dirty=!0;var _=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],H=[],O=[],V=0,B=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=s.position||s.positions;if(G){var Y=s.color||s.colors||[0,0,0,1],Q=s.lineWidth||1,te=!1;e:for(S=1;S<G.length;++S){var ae=G[S-1],fe=G[S];for(H.push(V),O.push(ae.slice()),w=0;w<3;++w){if(isNaN(ae[w])||isNaN(fe[w])||!isFinite(ae[w])||!isFinite(fe[w])){if(!_&&I.length>0){for(var oe=0;oe<24;++oe)I.push(I[I.length-12]);B+=2,te=!0}continue e}F[0][w]=Math.min(F[0][w],ae[w],fe[w]),F[1][w]=Math.max(F[1][w],ae[w],fe[w])}var J,ee;Array.isArray(Y[0])?(J=Y.length>S-1?Y[S-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],ee=Y.length>S?Y[S]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):J=ee=Y,J.length===3&&(J=[J[0],J[1],J[2],1]),ee.length===3&&(ee=[ee[0],ee[1],ee[2],1]),!this.hasAlpha&&J[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(Q)?X=Q.length>S-1?Q[S-1]:Q.length>0?Q[Q.length-1]:[0,0,0,1]:X=Q;var q=V;if(V+=b(ae,fe),te){for(w=0;w<2;++w)I.push(ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],q,X,J[0],J[1],J[2],J[3]);B+=2,te=!1}I.push(ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],q,X,J[0],J[1],J[2],J[3],ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],q,-X,J[0],J[1],J[2],J[3],fe[0],fe[1],fe[2],ae[0],ae[1],ae[2],V,-X,ee[0],ee[1],ee[2],ee[3],fe[0],fe[1],fe[2],ae[0],ae[1],ae[2],V,X,ee[0],ee[1],ee[2],ee[3]),B+=4}}if(this.buffer.update(I),H.push(V),O.push(G[G.length-1].slice()),this.bounds=F,this.vertexCount=B,this.points=O,this.arcLength=H,"dashes"in s){var le=s.dashes,$=le.slice();for($.unshift(0),S=1;S<$.length;++S)$[S]=$[S-1]+$[S];var j=c(new Array(256*4),[256,1,4]);for(S=0;S<256;++S){for(w=0;w<4;++w)j.set(S,0,w,0);y.le($,$[$.length-1]*S/255)&1?j.set(S,0,0,0):j.set(S,0,0,255)}this.texture.setPixels(j)}},L.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},L.pick=function(s){if(!s||s.id!==this.pickId)return null;var S=l(s.value[0],s.value[1],s.value[2],0),w=y.le(this.arcLength,S);if(w<0)return null;if(w===this.arcLength.length-1)return new R(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var _=this.points[w],I=this.points[Math.min(w+1,this.points.length-1)],H=(S-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),O=1-H,V=[0,0,0],B=0;B<3;++B)V[B]=O*_[B]+H*I[B];var F=Math.min(H<.5?w:w+1,this.points.length-1);return new R(S,V,F,this.points[F])};function M(s){var S=s.gl||s.scene&&s.scene.gl,w=h(S);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var _=i(S);_.attributes.position.location=0,_.attributes.nextPosition.location=1,_.attributes.arcLength.location=2,_.attributes.lineWidth.location=3,_.attributes.color.location=4;for(var I=t(S),H=o(S,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),O=c(new Array(256*4),[256,1,4]),V=0;V<1024;++V)O.data[V]=255;var B=a(S,O);B.wrap=S.REPEAT;var F=new m(S,w,_,I,H,B);return F.update(s),F}},1903:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],a=r[2],u=r[3],f=r[4],l=r[5],y=r[6],c=r[7],T=r[8],h=r[9],i=r[10],g=r[11],b=r[12],A=r[13],R=r[14],m=r[15],L=t*l-o*f,M=t*y-a*f,s=t*c-u*f,S=o*y-a*l,w=o*c-u*l,_=a*c-u*y,I=T*A-h*b,H=T*R-i*b,O=T*m-g*b,V=h*R-i*A,B=h*m-g*A,F=i*m-g*R;return L*F-M*B+s*V+S*O-w*H+_*I}},7399:function(v){v.exports=p;function p(r,t){var o=t[0],a=t[1],u=t[2],f=t[3],l=o+o,y=a+a,c=u+u,T=o*l,h=a*l,i=a*y,g=u*l,b=u*y,A=u*c,R=f*l,m=f*y,L=f*c;return r[0]=1-i-A,r[1]=h+L,r[2]=g-m,r[3]=0,r[4]=h-L,r[5]=1-T-A,r[6]=b+R,r[7]=0,r[8]=g+m,r[9]=b-R,r[10]=1-T-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=t[3],y=a+a,c=u+u,T=f+f,h=a*y,i=a*c,g=a*T,b=u*c,A=u*T,R=f*T,m=l*y,L=l*c,M=l*T;return r[0]=1-(b+R),r[1]=i+M,r[2]=g-L,r[3]=0,r[4]=i-M,r[5]=1-(h+R),r[6]=A+m,r[7]=0,r[8]=g+L,r[9]=A-m,r[10]=1-(h+b),r[11]=0,r[12]=o[0],r[13]=o[1],r[14]=o[2],r[15]=1,r}},7894:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=p;function p(r,t){var o=t[0],a=t[1],u=t[2],f=t[3],l=t[4],y=t[5],c=t[6],T=t[7],h=t[8],i=t[9],g=t[10],b=t[11],A=t[12],R=t[13],m=t[14],L=t[15],M=o*y-a*l,s=o*c-u*l,S=o*T-f*l,w=a*c-u*y,_=a*T-f*y,I=u*T-f*c,H=h*R-i*A,O=h*m-g*A,V=h*L-b*A,B=i*m-g*R,F=i*L-b*R,G=g*L-b*m,Y=M*G-s*F+S*B+w*V-_*O+I*H;return Y?(Y=1/Y,r[0]=(y*G-c*F+T*B)*Y,r[1]=(u*F-a*G-f*B)*Y,r[2]=(R*I-m*_+L*w)*Y,r[3]=(g*_-i*I-b*w)*Y,r[4]=(c*V-l*G-T*O)*Y,r[5]=(o*G-u*V+f*O)*Y,r[6]=(m*S-A*I-L*s)*Y,r[7]=(h*I-g*S+b*s)*Y,r[8]=(l*F-y*V+T*H)*Y,r[9]=(a*V-o*F-f*H)*Y,r[10]=(A*_-R*S+L*M)*Y,r[11]=(i*S-h*_-b*M)*Y,r[12]=(y*O-l*B-c*H)*Y,r[13]=(o*B-a*O+u*H)*Y,r[14]=(R*s-A*w-m*M)*Y,r[15]=(h*w-i*s+g*M)*Y,r):null}},6582:function(v,p,r){var t=r(7894);v.exports=o;function o(a,u,f,l){var y,c,T,h,i,g,b,A,R,m,L=u[0],M=u[1],s=u[2],S=l[0],w=l[1],_=l[2],I=f[0],H=f[1],O=f[2];return Math.abs(L-I)<1e-6&&Math.abs(M-H)<1e-6&&Math.abs(s-O)<1e-6?t(a):(b=L-I,A=M-H,R=s-O,m=1/Math.sqrt(b*b+A*A+R*R),b*=m,A*=m,R*=m,y=w*R-_*A,c=_*b-S*R,T=S*A-w*b,m=Math.sqrt(y*y+c*c+T*T),m?(m=1/m,y*=m,c*=m,T*=m):(y=0,c=0,T=0),h=A*T-R*c,i=R*y-b*T,g=b*c-A*y,m=Math.sqrt(h*h+i*i+g*g),m?(m=1/m,h*=m,i*=m,g*=m):(h=0,i=0,g=0),a[0]=y,a[1]=h,a[2]=b,a[3]=0,a[4]=c,a[5]=i,a[6]=A,a[7]=0,a[8]=T,a[9]=g,a[10]=R,a[11]=0,a[12]=-(y*L+c*M+T*s),a[13]=-(h*L+i*M+g*s),a[14]=-(b*L+A*M+R*s),a[15]=1,a)}},6760:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=t[3],y=t[4],c=t[5],T=t[6],h=t[7],i=t[8],g=t[9],b=t[10],A=t[11],R=t[12],m=t[13],L=t[14],M=t[15],s=o[0],S=o[1],w=o[2],_=o[3];return r[0]=s*a+S*y+w*i+_*R,r[1]=s*u+S*c+w*g+_*m,r[2]=s*f+S*T+w*b+_*L,r[3]=s*l+S*h+w*A+_*M,s=o[4],S=o[5],w=o[6],_=o[7],r[4]=s*a+S*y+w*i+_*R,r[5]=s*u+S*c+w*g+_*m,r[6]=s*f+S*T+w*b+_*L,r[7]=s*l+S*h+w*A+_*M,s=o[8],S=o[9],w=o[10],_=o[11],r[8]=s*a+S*y+w*i+_*R,r[9]=s*u+S*c+w*g+_*m,r[10]=s*f+S*T+w*b+_*L,r[11]=s*l+S*h+w*A+_*M,s=o[12],S=o[13],w=o[14],_=o[15],r[12]=s*a+S*y+w*i+_*R,r[13]=s*u+S*c+w*g+_*m,r[14]=s*f+S*T+w*b+_*L,r[15]=s*l+S*h+w*A+_*M,r}},4040:function(v){v.exports=p;function p(r,t,o,a,u,f,l){var y=1/(t-o),c=1/(a-u),T=1/(f-l);return r[0]=-2*y,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+o)*y,r[13]=(u+a)*c,r[14]=(l+f)*T,r[15]=1,r}},4772:function(v){v.exports=p;function p(r,t,o,a,u){var f=1/Math.tan(t/2),l=1/(a-u);return r[0]=f/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+a)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*a*l,r[15]=0,r}},6079:function(v){v.exports=p;function p(r,t,o,a){var u=a[0],f=a[1],l=a[2],y=Math.sqrt(u*u+f*f+l*l),c,T,h,i,g,b,A,R,m,L,M,s,S,w,_,I,H,O,V,B,F,G,Y,Q;return Math.abs(y)<1e-6?null:(y=1/y,u*=y,f*=y,l*=y,c=Math.sin(o),T=Math.cos(o),h=1-T,i=t[0],g=t[1],b=t[2],A=t[3],R=t[4],m=t[5],L=t[6],M=t[7],s=t[8],S=t[9],w=t[10],_=t[11],I=u*u*h+T,H=f*u*h+l*c,O=l*u*h-f*c,V=u*f*h-l*c,B=f*f*h+T,F=l*f*h+u*c,G=u*l*h+f*c,Y=f*l*h-u*c,Q=l*l*h+T,r[0]=i*I+R*H+s*O,r[1]=g*I+m*H+S*O,r[2]=b*I+L*H+w*O,r[3]=A*I+M*H+_*O,r[4]=i*V+R*B+s*F,r[5]=g*V+m*B+S*F,r[6]=b*V+L*B+w*F,r[7]=A*V+M*B+_*F,r[8]=i*G+R*Y+s*Q,r[9]=g*G+m*Y+S*Q,r[10]=b*G+L*Y+w*Q,r[11]=A*G+M*Y+_*Q,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=p;function p(r,t,o){var a=Math.sin(o),u=Math.cos(o),f=t[4],l=t[5],y=t[6],c=t[7],T=t[8],h=t[9],i=t[10],g=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=f*u+T*a,r[5]=l*u+h*a,r[6]=y*u+i*a,r[7]=c*u+g*a,r[8]=T*u-f*a,r[9]=h*u-l*a,r[10]=i*u-y*a,r[11]=g*u-c*a,r}},2408:function(v){v.exports=p;function p(r,t,o){var a=Math.sin(o),u=Math.cos(o),f=t[0],l=t[1],y=t[2],c=t[3],T=t[8],h=t[9],i=t[10],g=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u-T*a,r[1]=l*u-h*a,r[2]=y*u-i*a,r[3]=c*u-g*a,r[8]=f*a+T*u,r[9]=l*a+h*u,r[10]=y*a+i*u,r[11]=c*a+g*u,r}},7089:function(v){v.exports=p;function p(r,t,o){var a=Math.sin(o),u=Math.cos(o),f=t[0],l=t[1],y=t[2],c=t[3],T=t[4],h=t[5],i=t[6],g=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u+T*a,r[1]=l*u+h*a,r[2]=y*u+i*a,r[3]=c*u+g*a,r[4]=T*u-f*a,r[5]=h*u-l*a,r[6]=i*u-y*a,r[7]=g*u-c*a,r}},2504:function(v){v.exports=p;function p(r,t,o){var a=o[0],u=o[1],f=o[2];return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r[4]=t[4]*u,r[5]=t[5]*u,r[6]=t[6]*u,r[7]=t[7]*u,r[8]=t[8]*f,r[9]=t[9]*f,r[10]=t[10]*f,r[11]=t[11]*f,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=p;function p(r,t,o){var a=o[0],u=o[1],f=o[2],l,y,c,T,h,i,g,b,A,R,m,L;return t===r?(r[12]=t[0]*a+t[4]*u+t[8]*f+t[12],r[13]=t[1]*a+t[5]*u+t[9]*f+t[13],r[14]=t[2]*a+t[6]*u+t[10]*f+t[14],r[15]=t[3]*a+t[7]*u+t[11]*f+t[15]):(l=t[0],y=t[1],c=t[2],T=t[3],h=t[4],i=t[5],g=t[6],b=t[7],A=t[8],R=t[9],m=t[10],L=t[11],r[0]=l,r[1]=y,r[2]=c,r[3]=T,r[4]=h,r[5]=i,r[6]=g,r[7]=b,r[8]=A,r[9]=R,r[10]=m,r[11]=L,r[12]=l*a+h*u+A*f+t[12],r[13]=y*a+i*u+R*f+t[13],r[14]=c*a+g*u+m*f+t[14],r[15]=T*a+b*u+L*f+t[15]),r}},5665:function(v){v.exports=p;function p(r,t){if(r===t){var o=t[1],a=t[2],u=t[3],f=t[6],l=t[7],y=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=o,r[6]=t[9],r[7]=t[13],r[8]=a,r[9]=f,r[11]=t[14],r[12]=u,r[13]=l,r[14]=y}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,p,r){var t=r(2642),o=r(9346);v.exports=y;function a(c,T){for(var h=[0,0,0,0],i=0;i<4;++i)for(var g=0;g<4;++g)h[g]+=c[4*i+g]*T[i];return h}function u(c,T,h,i,g){for(var b=a(i,a(h,a(T,[c[0],c[1],c[2],1]))),A=0;A<3;++A)b[A]/=b[3];return[.5*g[0]*(1+b[0]),.5*g[1]*(1-b[1])]}function f(c,T){if(c.length===2){for(var h=0,i=0,g=0;g<2;++g)h+=Math.pow(T[g]-c[0][g],2),i+=Math.pow(T[g]-c[1][g],2);return h=Math.sqrt(h),i=Math.sqrt(i),h+i<1e-6?[1,0]:[i/(h+i),h/(i+h)]}else if(c.length===3){var b=[0,0];return o(c[0],c[1],c[2],T,b),t(c,b)}return[]}function l(c,T){for(var h=[0,0,0],i=0;i<c.length;++i)for(var g=c[i],b=T[i],A=0;A<3;++A)h[A]+=b*g[A];return h}function y(c,T,h,i,g,b){if(c.length===1)return[0,c[0].slice()];for(var A=new Array(c.length),R=0;R<c.length;++R)A[R]=u(c[R],h,i,g,b);for(var m=0,L=1/0,R=0;R<A.length;++R){for(var M=0,s=0;s<2;++s)M+=Math.pow(A[R][s]-T[s],2);M<L&&(L=M,m=R)}for(var S=f(A,T),w=0,R=0;R<3;++R){if(S[R]<-.001||S[R]>1.0001)return null;w+=S[R]}return Math.abs(w-1)>.001?null:[m,l(c,S),S]}},840:function(v,p,r){var t=r(3236),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:o,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:i,fragment:g,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,p,r){var t=1e-6,o=1e-6,a=r(9405),u=r(2762),f=r(8116),l=r(7766),y=r(8406),c=r(6760),T=r(7608),h=r(9618),i=r(6729),g=r(7765),b=r(1888),A=r(840),R=r(7626),m=A.meshShader,L=A.wireShader,M=A.pointShader,s=A.pickShader,S=A.pointPickShader,w=A.contourShader,_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(oe,J,ee,X,q,le,$,j,se,ne,he,me,we,Te,Le,Ie,ze,Me,_e,Ce,Oe,Pe,Ge,Ze,it,Je,et){this.gl=oe,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=J,this.dirty=!0,this.triShader=ee,this.lineShader=X,this.pointShader=q,this.pickShader=le,this.pointPickShader=$,this.contourShader=j,this.trianglePositions=se,this.triangleColors=he,this.triangleNormals=we,this.triangleUVs=me,this.triangleIds=ne,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Le,this.edgeColors=ze,this.edgeUVs=Me,this.edgeIds=Ie,this.edgeVAO=_e,this.edgeCount=0,this.pointPositions=Ce,this.pointColors=Pe,this.pointUVs=Ge,this.pointSizes=Ze,this.pointIds=Oe,this.pointVAO=it,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Je,this.contourVAO=et,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var H=I.prototype;H.isOpaque=function(){return!this.hasAlpha},H.isTransparent=function(){return this.hasAlpha},H.pickSlots=1,H.setPickBase=function(oe){this.pickId=oe};function O(oe,J){if(!J||!J.length)return 1;for(var ee=0;ee<J.length;++ee){if(J.length<2)return 1;if(J[ee][0]===oe)return J[ee][1];if(J[ee][0]>oe&&ee>0){var X=(J[ee][0]-oe)/(J[ee][0]-J[ee-1][0]);return J[ee][1]*(1-X)+X*J[ee-1][1]}}return 1}function V(oe,J){for(var ee=i({colormap:oe,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),q=0;q<256;++q){for(var le=ee[q],$=0;$<3;++$)X[4*q+$]=le[$];J?X[4*q+3]=255*O(q/255,J):X[4*q+3]=255*le[3]}return h(X,[256,256,4],[4,0,1])}function B(oe){for(var J=oe.length,ee=new Array(J),X=0;X<J;++X)ee[X]=oe[X][2];return ee}H.highlight=function(oe){if(!oe||!this.contourEnable){this.contourCount=0;return}for(var J=g(this.cells,this.intensity,oe.intensity),ee=J.cells,X=J.vertexIds,q=J.vertexWeights,le=ee.length,$=b.mallocFloat32(2*3*le),j=0,se=0;se<le;++se)for(var ne=ee[se],he=0;he<2;++he){var me=ne[0];ne.length===2&&(me=ne[he]);for(var we=X[me][0],Te=X[me][1],Le=q[me],Ie=1-Le,ze=this.positions[we],Me=this.positions[Te],_e=0;_e<3;++_e)$[j++]=Le*ze[_e]+Ie*Me[_e]}this.contourCount=j/3|0,this.contourPositions.update($.subarray(0,j)),b.free($)},H.update=function(oe){oe=oe||{};var J=this.gl;this.dirty=!0,"contourEnable"in oe&&(this.contourEnable=oe.contourEnable),"contourColor"in oe&&(this.contourColor=oe.contourColor),"lineWidth"in oe&&(this.lineWidth=oe.lineWidth),"lightPosition"in oe&&(this.lightPosition=oe.lightPosition),this.hasAlpha=!1,"opacity"in oe&&(this.opacity=oe.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in oe&&(this.opacityscale=oe.opacityscale,this.hasAlpha=!0),"ambient"in oe&&(this.ambientLight=oe.ambient),"diffuse"in oe&&(this.diffuseLight=oe.diffuse),"specular"in oe&&(this.specularLight=oe.specular),"roughness"in oe&&(this.roughness=oe.roughness),"fresnel"in oe&&(this.fresnel=oe.fresnel),oe.texture?(this.texture.dispose(),this.texture=l(J,oe.texture)):oe.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=J.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=J.LINEAR,this.texture.setPixels(V(oe.colormap,this.opacityscale)),this.texture.generateMipmap());var ee=oe.cells,X=oe.positions;if(!(!X||!ee)){var q=[],le=[],$=[],j=[],se=[],ne=[],he=[],me=[],we=[],Te=[],Le=[],Ie=[],ze=[],Me=[];this.cells=ee,this.positions=X;var _e=oe.vertexNormals,Ce=oe.cellNormals,Oe=oe.vertexNormalsEpsilon===void 0?t:oe.vertexNormalsEpsilon,Pe=oe.faceNormalsEpsilon===void 0?o:oe.faceNormalsEpsilon;oe.useFacetNormals&&!Ce&&(Ce=y.faceNormals(ee,X,Pe)),!Ce&&!_e&&(_e=y.vertexNormals(ee,X,Oe));var Ge=oe.vertexColors,Ze=oe.cellColors,it=oe.meshColor||[1,1,1,1],Je=oe.vertexUVs,et=oe.vertexIntensity,ft=oe.cellUVs,vt=oe.cellIntensity,dt=1/0,xt=-1/0;if(!Je&&!ft)if(et)if(oe.vertexIntensityBounds)dt=+oe.vertexIntensityBounds[0],xt=+oe.vertexIntensityBounds[1];else for(var Mt=0;Mt<et.length;++Mt){var nt=et[Mt];dt=Math.min(dt,nt),xt=Math.max(xt,nt)}else if(vt)if(oe.cellIntensityBounds)dt=+oe.cellIntensityBounds[0],xt=+oe.cellIntensityBounds[1];else for(var Mt=0;Mt<vt.length;++Mt){var nt=vt[Mt];dt=Math.min(dt,nt),xt=Math.max(xt,nt)}else for(var Mt=0;Mt<X.length;++Mt){var nt=X[Mt][2];dt=Math.min(dt,nt),xt=Math.max(xt,nt)}et?this.intensity=et:vt?this.intensity=vt:this.intensity=B(X),this.pickVertex=!(vt||Ze);var Fe=oe.pointSizes,We=oe.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<X.length;++Mt)for(var je=X[Mt],Ke=0;Ke<3;++Ke)isNaN(je[Ke])||!isFinite(je[Ke])||(this.bounds[0][Ke]=Math.min(this.bounds[0][Ke],je[Ke]),this.bounds[1][Ke]=Math.max(this.bounds[1][Ke],je[Ke]));var ke=0,Ue=0,Ve=0;e:for(var Mt=0;Mt<ee.length;++Mt){var Re=ee[Mt];switch(Re.length){case 1:for(var de=Re[0],je=X[de],Ke=0;Ke<3;++Ke)if(isNaN(je[Ke])||!isFinite(je[Ke]))continue e;Te.push(je[0],je[1],je[2]);var be;Ge?be=Ge[de]:Ze?be=Ze[Mt]:be=it,this.opacityscale&&et?le.push(be[0],be[1],be[2],this.opacity*O((et[de]-dt)/(xt-dt),this.opacityscale)):be.length===3?Le.push(be[0],be[1],be[2],this.opacity):(Le.push(be[0],be[1],be[2],be[3]*this.opacity),be[3]<1&&(this.hasAlpha=!0));var Ne;Je?Ne=Je[de]:et?Ne=[(et[de]-dt)/(xt-dt),0]:ft?Ne=ft[Mt]:vt?Ne=[(vt[Mt]-dt)/(xt-dt),0]:Ne=[(je[2]-dt)/(xt-dt),0],Ie.push(Ne[0],Ne[1]),Fe?ze.push(Fe[de]):ze.push(We),Me.push(Mt),Ve+=1;break;case 2:for(var Ke=0;Ke<2;++Ke)for(var de=Re[Ke],je=X[de],Ye=0;Ye<3;++Ye)if(isNaN(je[Ye])||!isFinite(je[Ye]))continue e;for(var Ke=0;Ke<2;++Ke){var de=Re[Ke],je=X[de];ne.push(je[0],je[1],je[2]);var be;Ge?be=Ge[de]:Ze?be=Ze[Mt]:be=it,this.opacityscale&&et?le.push(be[0],be[1],be[2],this.opacity*O((et[de]-dt)/(xt-dt),this.opacityscale)):be.length===3?he.push(be[0],be[1],be[2],this.opacity):(he.push(be[0],be[1],be[2],be[3]*this.opacity),be[3]<1&&(this.hasAlpha=!0));var Ne;Je?Ne=Je[de]:et?Ne=[(et[de]-dt)/(xt-dt),0]:ft?Ne=ft[Mt]:vt?Ne=[(vt[Mt]-dt)/(xt-dt),0]:Ne=[(je[2]-dt)/(xt-dt),0],me.push(Ne[0],Ne[1]),we.push(Mt)}Ue+=1;break;case 3:for(var Ke=0;Ke<3;++Ke)for(var de=Re[Ke],je=X[de],Ye=0;Ye<3;++Ye)if(isNaN(je[Ye])||!isFinite(je[Ye]))continue e;for(var Ke=0;Ke<3;++Ke){var de=Re[2-Ke],je=X[de];q.push(je[0],je[1],je[2]);var be;Ge?be=Ge[de]:Ze?be=Ze[Mt]:be=it,be?this.opacityscale&&et?le.push(be[0],be[1],be[2],this.opacity*O((et[de]-dt)/(xt-dt),this.opacityscale)):be.length===3?le.push(be[0],be[1],be[2],this.opacity):(le.push(be[0],be[1],be[2],be[3]*this.opacity),be[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var Ne;Je?Ne=Je[de]:et?Ne=[(et[de]-dt)/(xt-dt),0]:ft?Ne=ft[Mt]:vt?Ne=[(vt[Mt]-dt)/(xt-dt),0]:Ne=[(je[2]-dt)/(xt-dt),0],j.push(Ne[0],Ne[1]);var at;_e?at=_e[de]:at=Ce[Mt],$.push(at[0],at[1],at[2]),se.push(Mt)}ke+=1;break}}this.pointCount=Ve,this.edgeCount=Ue,this.triangleCount=ke,this.pointPositions.update(Te),this.pointColors.update(Le),this.pointUVs.update(Ie),this.pointSizes.update(ze),this.pointIds.update(new Uint32Array(Me)),this.edgePositions.update(ne),this.edgeColors.update(he),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update(q),this.triangleColors.update(le),this.triangleUVs.update(j),this.triangleNormals.update($),this.triangleIds.update(new Uint32Array(se))}},H.drawTransparent=H.draw=function(oe){oe=oe||{};for(var J=this.gl,ee=oe.model||_,X=oe.view||_,q=oe.projection||_,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)le[0][$]=Math.max(le[0][$],this.clipBounds[0][$]),le[1][$]=Math.min(le[1][$],this.clipBounds[1][$]);var j={model:ee,view:X,projection:q,inverseModel:_.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};j.inverseModel=T(j.inverseModel,j.model),J.disable(J.CULL_FACE),this.texture.bind(0);var se=new Array(16);c(se,j.view,j.model),c(se,j.projection,se),T(se,se);for(var $=0;$<3;++$)j.eyePosition[$]=se[12+$]/se[15];for(var ne=se[15],$=0;$<3;++$)ne+=this.lightPosition[$]*se[4*$+3];for(var $=0;$<3;++$){for(var he=se[12+$],me=0;me<3;++me)he+=se[4*me+$]*this.lightPosition[me];j.lightPosition[$]=he/ne}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=j,this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=j,this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=j,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=j,this.contourVAO.bind(),J.drawArrays(J.LINES,0,this.contourCount),this.contourVAO.unbind()}},H.drawPick=function(oe){oe=oe||{};for(var J=this.gl,ee=oe.model||_,X=oe.view||_,q=oe.projection||_,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)le[0][$]=Math.max(le[0][$],this.clipBounds[0][$]),le[1][$]=Math.min(le[1][$],this.clipBounds[1][$]);this._model=[].slice.call(ee),this._view=[].slice.call(X),this._projection=[].slice.call(q),this._resolution=[J.drawingBufferWidth,J.drawingBufferHeight];var j={model:ee,view:X,projection:q,clipBounds:le,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=j,this.triangleCount>0&&(this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=j,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}},H.pick=function(oe){if(!oe||oe.id!==this.pickId)return null;for(var J=oe.value[0]+256*oe.value[1]+65536*oe.value[2],ee=this.cells[J],X=this.positions,q=new Array(ee.length),le=0;le<ee.length;++le)q[le]=X[ee[le]];var $=oe.coord[0],j=oe.coord[1];if(!this.pickVertex){var se=this.positions[ee[0]],ne=this.positions[ee[1]],he=this.positions[ee[2]],me=[(se[0]+ne[0]+he[0])/3,(se[1]+ne[1]+he[1])/3,(se[2]+ne[2]+he[2])/3];return{_cellCenter:!0,position:[$,j],index:J,cell:ee,cellId:J,intensity:this.intensity[J],dataCoordinate:me}}var we=R(q,[$*this.pixelRatio,this._resolution[1]-j*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var Te=we[2],Le=0,le=0;le<ee.length;++le)Le+=Te[le]*this.intensity[ee[le]];return{position:we[1],index:ee[we[0]],cell:ee,cellId:J,intensity:Le,dataCoordinate:this.positions[ee[we[0]]]}},H.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function F(oe){var J=a(oe,m.vertex,m.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.normal.location=4,J}function G(oe){var J=a(oe,L.vertex,L.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J}function Y(oe){var J=a(oe,M.vertex,M.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.pointSize.location=4,J}function Q(oe){var J=a(oe,s.vertex,s.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J}function te(oe){var J=a(oe,S.vertex,S.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J.attributes.pointSize.location=4,J}function ae(oe){var J=a(oe,w.vertex,w.fragment);return J.attributes.position.location=0,J}function fe(oe,J){arguments.length===1&&(J=oe,oe=J.gl);var ee=oe.getExtension("OES_standard_derivatives")||oe.getExtension("MOZ_OES_standard_derivatives")||oe.getExtension("WEBKIT_OES_standard_derivatives");if(!ee)throw new Error("derivatives not supported");var X=F(oe),q=G(oe),le=Y(oe),$=Q(oe),j=te(oe),se=ae(oe),ne=l(oe,h(new Uint8Array([255,255,255,255]),[1,1,4]));ne.generateMipmap(),ne.minFilter=oe.LINEAR_MIPMAP_LINEAR,ne.magFilter=oe.LINEAR;var he=u(oe),me=u(oe),we=u(oe),Te=u(oe),Le=u(oe),Ie=f(oe,[{buffer:he,type:oe.FLOAT,size:3},{buffer:Le,type:oe.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:oe.FLOAT,size:4},{buffer:we,type:oe.FLOAT,size:2},{buffer:Te,type:oe.FLOAT,size:3}]),ze=u(oe),Me=u(oe),_e=u(oe),Ce=u(oe),Oe=f(oe,[{buffer:ze,type:oe.FLOAT,size:3},{buffer:Ce,type:oe.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Me,type:oe.FLOAT,size:4},{buffer:_e,type:oe.FLOAT,size:2}]),Pe=u(oe),Ge=u(oe),Ze=u(oe),it=u(oe),Je=u(oe),et=f(oe,[{buffer:Pe,type:oe.FLOAT,size:3},{buffer:Je,type:oe.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ge,type:oe.FLOAT,size:4},{buffer:Ze,type:oe.FLOAT,size:2},{buffer:it,type:oe.FLOAT,size:1}]),ft=u(oe),vt=f(oe,[{buffer:ft,type:oe.FLOAT,size:3}]),dt=new I(oe,ne,X,q,le,$,j,se,he,Le,me,we,Te,Ie,ze,Ce,Me,_e,Oe,Pe,Je,Ge,Ze,it,et,ft,vt);return dt.update(J),dt}v.exports=fe},8120:function(v,p,r){v.exports=l;var t=r(2762),o=r(9405),a=r(3603);function u(y,c,T){this.plot=y,this.vbo=c,this.shader=T}var f=u.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var y=[0,0],c=[0,0];return function(T,h,i,g,b){var A=this.plot,R=this.shader,m=A.gl;y[0]=T,y[1]=h,c[0]=i,c[1]=g,R.uniforms.lo=y,R.uniforms.hi=c,R.uniforms.color=b,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var c=y.gl,T=t(c,[0,0,0,1,1,0,1,1]),h=o(c,a.boxVert,a.lineFrag);return new u(y,T,h)}},1913:function(v,p,r){v.exports=c;var t=r(2762),o=r(9405),a=r(2478),u=r(3603);function f(T,h,i,g){this.plot=T,this.vbo=h,this.shader=i,this.tickShader=g,this.ticks=[[],[]]}function l(T,h){return T-h}var y=f.prototype;y.draw=function(){var T=[0,0],h=[0,0],i=[0,0];return function(){for(var g=this.plot,b=this.vbo,A=this.shader,R=this.ticks,m=g.gl,L=g._tickBounds,M=g.dataBox,s=g.viewBox,S=g.gridLineWidth,w=g.gridLineColor,_=g.gridLineEnable,I=g.pixelRatio,H=0;H<2;++H){var O=L[H],V=L[H+2],B=V-O,F=.5*(M[H+2]+M[H]),G=M[H+2]-M[H];h[H]=2*B/G,T[H]=2*(O-F)/G}A.bind(),b.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=T,A.uniforms.dataScale=h;for(var Y=0,H=0;H<2;++H){i[0]=i[1]=0,i[H]=1,A.uniforms.dataAxis=i,A.uniforms.lineWidth=S[H]/(s[H+2]-s[H])*I,A.uniforms.color=w[H];var Q=R[H].length*6;_[H]&&Q&&m.drawArrays(m.TRIANGLES,Y,Q),Y+=Q}}}(),y.drawTickMarks=function(){var T=[0,0],h=[0,0],i=[1,0],g=[0,1],b=[0,0],A=[0,0];return function(){for(var R=this.plot,m=this.vbo,L=this.tickShader,M=this.ticks,s=R.gl,S=R._tickBounds,w=R.dataBox,_=R.viewBox,I=R.pixelRatio,H=R.screenBox,O=H[2]-H[0],V=H[3]-H[1],B=_[2]-_[0],F=_[3]-_[1],G=0;G<2;++G){var Y=S[G],Q=S[G+2],te=Q-Y,ae=.5*(w[G+2]+w[G]),fe=w[G+2]-w[G];h[G]=2*te/fe,T[G]=2*(Y-ae)/fe}h[0]*=B/O,T[0]*=B/O,h[1]*=F/V,T[1]*=F/V,L.bind(),m.bind(),L.attributes.dataCoord.pointer();var oe=L.uniforms;oe.dataShift=T,oe.dataScale=h;var J=R.tickMarkLength,ee=R.tickMarkWidth,X=R.tickMarkColor,q=0,le=M[0].length*6,$=Math.min(a.ge(M[0],(w[0]-S[0])/(S[2]-S[0]),l),M[0].length),j=Math.min(a.gt(M[0],(w[2]-S[0])/(S[2]-S[0]),l),M[0].length),se=q+6*$,ne=6*Math.max(0,j-$),he=Math.min(a.ge(M[1],(w[1]-S[1])/(S[3]-S[1]),l),M[1].length),me=Math.min(a.gt(M[1],(w[3]-S[1])/(S[3]-S[1]),l),M[1].length),we=le+6*he,Te=6*Math.max(0,me-he);b[0]=2*(_[0]-J[1])/O-1,b[1]=(_[3]+_[1])/V-1,A[0]=J[1]*I/O,A[1]=ee[1]*I/V,Te&&(oe.color=X[1],oe.tickScale=A,oe.dataAxis=g,oe.screenOffset=b,s.drawArrays(s.TRIANGLES,we,Te)),b[0]=(_[2]+_[0])/O-1,b[1]=2*(_[1]-J[0])/V-1,A[0]=ee[0]*I/O,A[1]=J[0]*I/V,ne&&(oe.color=X[0],oe.tickScale=A,oe.dataAxis=i,oe.screenOffset=b,s.drawArrays(s.TRIANGLES,se,ne)),b[0]=2*(_[2]+J[3])/O-1,b[1]=(_[3]+_[1])/V-1,A[0]=J[3]*I/O,A[1]=ee[3]*I/V,Te&&(oe.color=X[3],oe.tickScale=A,oe.dataAxis=g,oe.screenOffset=b,s.drawArrays(s.TRIANGLES,we,Te)),b[0]=(_[2]+_[0])/O-1,b[1]=2*(_[3]+J[2])/V-1,A[0]=ee[2]*I/O,A[1]=J[2]*I/V,ne&&(oe.color=X[2],oe.tickScale=A,oe.dataAxis=i,oe.screenOffset=b,s.drawArrays(s.TRIANGLES,se,ne))}}(),y.update=function(){var T=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(i){var g=i.ticks,b=i.bounds,A=new Float32Array(6*3*(g[0].length+g[1].length));this.plot.zeroLineEnable;for(var R=0,m=[[],[]],L=0;L<2;++L)for(var M=m[L],s=g[L],S=b[L],w=b[L+2],_=0;_<s.length;++_){var I=(s[_].x-S)/(w-S);M.push(I);for(var H=0;H<6;++H)A[R++]=I,A[R++]=T[H],A[R++]=h[H]}this.ticks=m,this.vbo.update(A)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(T){var h=T.gl,i=t(h),g=o(h,u.gridVert,u.gridFrag),b=o(h,u.tickVert,u.gridFrag),A=new f(T,i,g,b);return A}},4747:function(v,p,r){v.exports=l;var t=r(2762),o=r(9405),a=r(3603);function u(y,c,T){this.plot=y,this.vbo=c,this.shader=T}var f=u.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var y=[0,0],c=[0,0];return function(T,h,i,g,b,A){var R=this.plot,m=this.shader,L=R.gl;y[0]=T,y[1]=h,c[0]=i,c[1]=g,m.uniforms.start=y,m.uniforms.end=c,m.uniforms.width=b*R.pixelRatio,m.uniforms.color=A,L.drawArrays(L.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var c=y.gl,T=t(c,[-1,-1,-1,1,1,-1,1,1]),h=o(c,a.lineVert,a.lineFrag),i=new u(y,T,h);return i}},3603:function(v,p,r){var t=r(3236),o=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:o,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:o,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:o,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,p,r){v.exports=c;var t=r(2762),o=r(9405),a=r(529),u=r(2478),f=r(3603);function l(T,h,i){this.plot=T,this.vbo=h,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=l.prototype;y.drawTicks=function(){var T=[0,0],h=[0,0],i=[0,0];return function(g){var b=this.plot,A=this.shader,R=this.tickX[g],m=this.tickOffset[g],L=b.gl,M=b.viewBox,s=b.dataBox,S=b.screenBox,w=b.pixelRatio,_=b.tickEnable,I=b.tickPad,H=b.tickColor,O=b.tickAngle,V=b.labelEnable,B=b.labelPad,F=b.labelColor,G=b.labelAngle,Y=this.labelOffset[g],Q=this.labelCount[g],te=u.lt(R,s[g]),ae=u.le(R,s[g+2]);T[0]=T[1]=0,T[g]=1,h[g]=(M[2+g]+M[g])/(S[2+g]-S[g])-1;var fe=2/S[2+(g^1)]-S[g^1];h[g^1]=fe*M[g^1]-1,_[g]&&(h[g^1]-=fe*w*I[g],te<ae&&m[ae]>m[te]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=h,A.uniforms.color=H[g],A.uniforms.angle=O[g],L.drawArrays(L.TRIANGLES,m[te],m[ae]-m[te]))),V[g]&&Q&&(h[g^1]-=fe*w*B[g],A.uniforms.dataAxis=i,A.uniforms.screenOffset=h,A.uniforms.color=F[g],A.uniforms.angle=G[g],L.drawArrays(L.TRIANGLES,Y,Q)),h[g^1]=fe*M[2+(g^1)]-1,_[g+2]&&(h[g^1]+=fe*w*I[g+2],te<ae&&m[ae]>m[te]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=h,A.uniforms.color=H[g+2],A.uniforms.angle=O[g+2],L.drawArrays(L.TRIANGLES,m[te],m[ae]-m[te]))),V[g+2]&&Q&&(h[g^1]+=fe*w*B[g+2],A.uniforms.dataAxis=i,A.uniforms.screenOffset=h,A.uniforms.color=F[g+2],A.uniforms.angle=G[g+2],L.drawArrays(L.TRIANGLES,Y,Q))}}(),y.drawTitle=function(){var T=[0,0],h=[0,0];return function(){var i=this.plot,g=this.shader,b=i.gl,A=i.screenBox,R=i.titleCenter,m=i.titleAngle,L=i.titleColor,M=i.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)h[s]=2*(R[s]*M-A[s])/(A[2+s]-A[s])-1;g.bind(),g.uniforms.dataAxis=T,g.uniforms.screenOffset=h,g.uniforms.angle=m,g.uniforms.color=L,b.drawArrays(b.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var T=[0,0],h=[0,0],i=[0,0];return function(){var g=this.plot,b=this.shader,A=g._tickBounds,R=g.dataBox,m=g.screenBox,L=g.viewBox;b.bind();for(var M=0;M<2;++M){var s=A[M],S=A[M+2],w=S-s,_=.5*(R[M+2]+R[M]),I=R[M+2]-R[M],H=L[M],O=L[M+2],V=O-H,B=m[M],F=m[M+2],G=F-B;h[M]=2*w/I*V/G,T[M]=2*(s-_)/I*V/G}i[1]=2*g.pixelRatio/(m[3]-m[1]),i[0]=i[1]*(m[3]-m[1])/(m[2]-m[0]),b.uniforms.dataScale=h,b.uniforms.dataShift=T,b.uniforms.textScale=i,this.vbo.bind(),b.attributes.textCoordinate.pointer()}}(),y.update=function(T){var h=[],i=T.ticks,g=T.bounds,b,A,R,m,L;for(L=0;L<2;++L){var M=[Math.floor(h.length/3)],s=[-1/0],S=i[L];for(b=0;b<S.length;++b){var w=S[b],_=w.x,I=w.text,H=w.font||"sans-serif",O=w.fontStyle||"normal",V=w.fontWeight||"normal",B=w.fontVariant||"normal";m=w.fontSize||12;for(var F=1/(g[L+2]-g[L]),G=g[L],Y=I.split(`
`),Q=0;Q<Y.length;Q++)for(R=a(H,Y[Q],{fontStyle:O,fontWeight:V,fontVariant:B}).data,A=0;A<R.length;A+=2)h.push(R[A]*m,-R[A+1]*m-Q*m*1.2,(_-G)*F);M.push(Math.floor(h.length/3)),s.push(_)}this.tickOffset[L]=M,this.tickX[L]=s}for(L=0;L<2;++L){for(this.labelOffset[L]=Math.floor(h.length/3),R=a(T.labelFont[L],T.labels[L],{fontStyle:T.labelFontStyle[L],fontWeight:T.labelFontWeight[L],fontVariant:T.labelFontVariant[L],textAlign:"center"}).data,m=T.labelSize[L],b=0;b<R.length;b+=2)h.push(R[b]*m,-R[b+1]*m,0);this.labelCount[L]=Math.floor(h.length/3)-this.labelOffset[L]}for(this.titleOffset=Math.floor(h.length/3),R=a(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,m=T.titleSize,b=0;b<R.length;b+=2)h.push(R[b]*m,-R[b+1]*m,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(T){var h=T.gl,i=t(h),g=o(h,f.textVert,f.textFrag),b=new l(T,i,g);return b}},1850:function(v,p,r){v.exports=h;var t=r(3589),o=r(1913),a=r(2142),u=r(4747),f=r(8120);function l(i,g){this.gl=i,this.pickBuffer=g,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=l.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var i=this.gl,g=this.screenBox,b=this.viewBox,A=this.dataBox,R=this.pixelRatio,m=this.grid,L=this.line,M=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]);var S=this.borderColor;i.clearColor(S[0]*S[3],S[1]*S[3],S[2]*S[3],S[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),i.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]);var w=this.backgroundColor;i.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),i.clear(i.COLOR_BUFFER_BIT),m.draw();var _=this.zeroLineEnable,I=this.zeroLineColor,H=this.zeroLineWidth;if(_[0]||_[1]){L.bind();for(var O=0;O<2;++O)if(!(!_[O]||!(A[O]<=0&&A[O+2]>=0))){var V=g[O]-A[O]*(g[O+2]-g[O])/(A[O+2]-A[O]);O===0?L.drawLine(V,g[1],V,g[3],H[O],I[O]):L.drawLine(g[0],V,g[2],V,H[O],I[O])}}for(var O=0;O<s.length;++O)s[O].draw();i.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]),i.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),this.grid.drawTickMarks(),L.bind();var B=this.borderLineEnable,F=this.borderLineWidth,G=this.borderLineColor;B[1]&&L.drawLine(b[0],b[1]-.5*F[1]*R,b[0],b[3]+.5*F[3]*R,F[1],G[1]),B[0]&&L.drawLine(b[0]-.5*F[0]*R,b[1],b[2]+.5*F[2]*R,b[1],F[0],G[0]),B[3]&&L.drawLine(b[2],b[1]-.5*F[1]*R,b[2],b[3]+.5*F[3]*R,F[3],G[3]),B[2]&&L.drawLine(b[0]-.5*F[0]*R,b[3],b[2]+.5*F[2]*R,b[3],F[2],G[2]),M.bind();for(var O=0;O<2;++O)M.drawTicks(O);this.titleEnable&&M.drawTitle();for(var Y=this.overlays,O=0;O<Y.length;++O)Y[O].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var g=1,b=this.objects,A=0;A<b.length;++A)g=b[A].drawPick(g);i.end()}}}(),y.pick=function(){return function(i,g){if(!this.static){var b=this.pixelRatio,A=this.pickPixelRatio,R=this.viewBox,m=Math.round((i-R[0]/b)*A)|0,L=Math.round((g-R[1]/b)*A)|0,M=this.pickBuffer.query(m,L,this.pickRadius);if(!M)return null;for(var s=M.id+(M.value[0]<<8)+(M.value[1]<<16)+(M.value[2]<<24),S=this.objects,w=0;w<S.length;++w){var _=S[w].pick(m,L,s);if(_)return _}return null}}}();function c(i){for(var g=i.slice(),b=0;b<g.length;++b)g[b]=g[b].slice();return g}function T(i,g){return i.x-g.x}y.setScreenBox=function(i){var g=this.screenBox,b=this.pixelRatio;g[0]=Math.round(i[0]*b)|0,g[1]=Math.round(i[1]*b)|0,g[2]=Math.round(i[2]*b)|0,g[3]=Math.round(i[3]*b)|0,this.setDirty()},y.setDataBox=function(i){var g=this.dataBox,b=g[0]!==i[0]||g[1]!==i[1]||g[2]!==i[2]||g[3]!==i[3];b&&(g[0]=i[0],g[1]=i[1],g[2]=i[2],g[3]=i[3],this.setDirty())},y.setViewBox=function(i){var g=this.pixelRatio,b=this.viewBox;b[0]=Math.round(i[0]*g)|0,b[1]=Math.round(i[1]*g)|0,b[2]=Math.round(i[2]*g)|0,b[3]=Math.round(i[3]*g)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*A)|0,Math.round((i[3]-i[1])*A)|0],this.setDirty()},y.update=function(i){i=i||{};var g=this.gl;this.pixelRatio=i.pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(i.screenBox||[0,0,g.drawingBufferWidth/b,g.drawingBufferHeight/b]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var A=this.viewBox,R=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(i.dataBox||[-10,-10/R,10,10/R]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(A[0]+A[2])/b,(A[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=i.ticks||[[],[]],L=this._tickBounds;L[0]=L[1]=1/0,L[2]=L[3]=-1/0;for(var M=0;M<2;++M){var s=m[M].slice(0);s.length!==0&&(s.sort(T),L[M]=Math.min(L[M],s[0].x),L[M+2]=Math.max(L[M+2],s[s.length-1].x))}this.grid.update({bounds:L,ticks:m}),this.text.update({bounds:L,ticks:m,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],labelFontStyle:i.labelFontStyle||["normal","normal"],labelFontWeight:i.labelFontWeight||["normal","normal"],labelFontVariant:i.labelFontVariant||["normal","normal"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif",titleFontStyle:i.titleFontStyle||"normal",titleFontWeight:i.titleFontWeight||"normal",titleFontVariant:i.titleFontVariant||"normal"}),this.static=!!i.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},y.removeObject=function(i){for(var g=this.objects,b=0;b<g.length;++b)if(g[b]===i){g.splice(b,1),this.setDirty();break}},y.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},y.removeOverlay=function(i){for(var g=this.overlays,b=0;b<g.length;++b)if(g[b]===i){g.splice(b,1),this.setOverlayDirty();break}};function h(i){var g=i.gl,b=t(g,[g.drawingBufferWidth,g.drawingBufferHeight]),A=new l(g,b);return A.grid=o(A),A.text=a(A),A.line=u(A),A.box=f(A),A.update(i),A}},4437:function(v,p,r){v.exports=y;var t=r(3025),o=r(6296),a=r(351),u=r(8512),f=r(24),l=r(7520);function y(c,T){c=c||document.body,T=T||{};var h=[.01,1/0];"distanceLimits"in T&&(h[0]=T.distanceLimits[0],h[1]=T.distanceLimits[1]),"zoomMin"in T&&(h[0]=T.zoomMin),"zoomMax"in T&&(h[1]=T.zoomMax);var i=o({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:h}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0,A=c.clientWidth,R=c.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:i,element:c,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:i.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var L=t(),M=this.delay,s=L-2*M;i.idle(L-M),i.recalcMatrix(s),i.flush(L-(100+M*2));for(var S=!0,w=i.computedMatrix,_=0;_<16;++_)S=S&&g[_]===w[_],g[_]=w[_];var I=c.clientWidth===A&&c.clientHeight===R;return A=c.clientWidth,R=c.clientHeight,S?!I:(b=Math.exp(i.computedRadius[0]),!0)},lookAt:function(L,M,s){i.lookAt(i.lastT(),L,M,s)},rotate:function(L,M,s){i.rotate(i.lastT(),L,M,s)},pan:function(L,M,s){i.pan(i.lastT(),L,M,s)},translate:function(L,M,s){i.translate(i.lastT(),L,M,s)}};return Object.defineProperties(m,{matrix:{get:function(){return i.computedMatrix},set:function(L){return i.setMatrix(i.lastT(),L),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(L){var M=i.computedUp.slice(),s=i.computedEye.slice(),S=i.computedCenter.slice();if(i.setMode(L),L==="turntable"){var w=t();i._active.lookAt(w,s,S,M),i._active.lookAt(w+500,s,S,[0,0,1]),i._active.flush(w)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(L){return i.lookAt(i.lastT(),null,L),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(L){return i.lookAt(i.lastT(),L),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(L){return i.lookAt(i.lastT(),null,null,L),i.computedUp},enumerable:!0},distance:{get:function(){return b},set:function(L){return i.setDistance(i.lastT(),L),L},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(h)},set:function(L){return i.setDistanceLimits(L),L},enumerable:!0}}),c.addEventListener("contextmenu",function(L){return L.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=a(c,L),c.addEventListener("touchstart",function(M){var s=f(M.changedTouches[0],c);L(0,s[0],s[1],m._lastMods),L(1,s[0],s[1],m._lastMods)},l?{passive:!0}:!1),c.addEventListener("touchmove",function(M){var s=f(M.changedTouches[0],c);L(1,s[0],s[1],m._lastMods),M.preventDefault()},l?{passive:!1}:!1),c.addEventListener("touchend",function(M){L(0,m._lastX,m._lastY,m._lastMods)},l?{passive:!0}:!1);function L(M,s,S,w){var _=m.keyBindingMode;if(_!==!1){var I=_==="rotate",H=_==="pan",O=_==="zoom",V=!!w.control,B=!!w.alt,F=!!w.shift,G=!!(M&1),Y=!!(M&2),Q=!!(M&4),te=1/c.clientHeight,ae=te*(s-m._lastX),fe=te*(S-m._lastY),oe=m.flipX?1:-1,J=m.flipY?1:-1,ee=Math.PI*m.rotateSpeed,X=t();if(m._lastX!==-1&&m._lastY!==-1&&((I&&G&&!V&&!B&&!F||G&&!V&&!B&&F)&&i.rotate(X,oe*ee*ae,-J*ee*fe,0),(H&&G&&!V&&!B&&!F||Y||G&&V&&!B&&!F)&&i.pan(X,-m.translateSpeed*ae*b,m.translateSpeed*fe*b,0),O&&G&&!V&&!B&&!F||Q||G&&!V&&B&&!F)){var q=-m.zoomSpeed*fe/window.innerHeight*(X-i.lastT())*100;i.pan(X,0,0,b*(Math.exp(q)-1))}return m._lastX=s,m._lastY=S,m._lastMods=w,!0}}m.wheelListener=u(c,function(M,s){if(m.keyBindingMode!==!1&&m.enableWheel){var S=m.flipX?1:-1,w=m.flipY?1:-1,_=t();if(Math.abs(M)>Math.abs(s))i.rotate(_,0,0,-M*S*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var I=-m.zoomSpeed*w*s/window.innerHeight*(_-i.lastT())/20;i.pan(_,0,0,b*(Math.exp(I)-1))}}},!0)},m.enableMouseListeners(),m}},799:function(v,p,r){var t=r(3236),o=r(9405),a=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return o(f,a,u,null,[{name:"position",type:"vec2"}])}},4100:function(v,p,r){var t=r(4437),o=r(3837),a=r(5445),u=r(4449),f=r(3589),l=r(2260),y=r(7169),c=r(351),T=r(4772),h=r(4040),i=r(799),g=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:L,createCamera:t};function b(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(s,S){var w=null;try{w=s.getContext("webgl",S),w||(w=s.getContext("experimental-webgl",S))}catch{return null}return w}function R(s){var S=Math.round(Math.log(Math.abs(s))/Math.log(10));if(S<0){var w=Math.round(Math.pow(10,-S));return Math.ceil(s*w)/w}else if(S>0){var w=Math.round(Math.pow(10,S));return Math.ceil(s/w)*w}return Math.ceil(s)}function m(s){return typeof s=="boolean"?s:!0}function L(s){s=s||{},s.camera=s.camera||{};var S=s.canvas;if(!S)if(S=document.createElement("canvas"),s.container){var w=s.container;w.appendChild(S)}else document.body.appendChild(S);var _=s.gl;if(_||(s.glOptions&&(g=!!s.glOptions.preserveDrawingBuffer),_=A(S,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:g})),!_)throw new Error("webgl not supported");var I=s.bounds||[[-10,-10,-10],[10,10,10]],H=new b,O=l(_,_.drawingBufferWidth,_.drawingBufferHeight,{preferFloat:!g}),V=i(_),B=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,F={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:B},G=s.axes||{},Y=o(_,G);Y.enable=!G.disable;var Q=s.spikes||{},te=u(_,Q),ae=[],fe=[],oe=[],J=[],ee=!0,$=!0,X=new Array(16),q=new Array(16),le={view:null,projection:X,model:q,_ortho:!1},$=!0,j=[_.drawingBufferWidth,_.drawingBufferHeight],se=s.cameraObject||t(S,F),ne={gl:_,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:S,selection:H,camera:se,axes:Y,axesPixels:null,spikes:te,bounds:I,objects:ae,shape:j,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:m(s.autoResize),autoBounds:m(s.autoBounds),autoScale:!!s.autoScale,autoCenter:m(s.autoCenter),clipToBounds:m(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ce){this.aspect[0]=Ce.x,this.aspect[1]=Ce.y,this.aspect[2]=Ce.z,$=!0},setBounds:function(Ce,Oe){this.bounds[0][Ce]=Oe.min,this.bounds[1][Ce]=Oe.max},setClearColor:function(Ce){this.clearColor=Ce},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[_.drawingBufferWidth/ne.pixelRatio|0,_.drawingBufferHeight/ne.pixelRatio|0];function me(){if(!ne._stopped&&ne.autoResize){var Ce=S.parentNode,Oe=1,Pe=1;Ce&&Ce!==document.body?(Oe=Ce.clientWidth,Pe=Ce.clientHeight):(Oe=window.innerWidth,Pe=window.innerHeight);var Ge=Math.ceil(Oe*ne.pixelRatio)|0,Ze=Math.ceil(Pe*ne.pixelRatio)|0;if(Ge!==S.width||Ze!==S.height){S.width=Ge,S.height=Ze;var it=S.style;it.position=it.position||"absolute",it.left="0px",it.top="0px",it.width=Oe+"px",it.height=Pe+"px",ee=!0}}}ne.autoResize&&me(),window.addEventListener("resize",me);function we(){for(var Ce=ae.length,Oe=J.length,Pe=0;Pe<Oe;++Pe)oe[Pe]=0;e:for(var Pe=0;Pe<Ce;++Pe){var Ge=ae[Pe],Ze=Ge.pickSlots;if(!Ze){fe[Pe]=-1;continue}for(var it=0;it<Oe;++it)if(oe[it]+Ze<255){fe[Pe]=it,Ge.setPickBase(oe[it]+1),oe[it]+=Ze;continue e}var Je=f(_,j);fe[Pe]=Oe,J.push(Je),oe.push(Ze),Ge.setPickBase(1),Oe+=1}for(;Oe>0&&oe[Oe-1]===0;)oe.pop(),J.pop().dispose()}ne.update=function(Ce){ne._stopped||(ee=!0,$=!0)},ne.add=function(Ce){ne._stopped||(Ce.axes=Y,ae.push(Ce),fe.push(-1),ee=!0,$=!0,we())},ne.remove=function(Ce){if(!ne._stopped){var Oe=ae.indexOf(Ce);Oe<0||(ae.splice(Oe,1),fe.pop(),ee=!0,$=!0,we())}},ne.dispose=function(){if(!ne._stopped&&(ne._stopped=!0,window.removeEventListener("resize",me),S.removeEventListener("webglcontextlost",Te),ne.mouseListener.enabled=!1,!ne.contextLost)){Y.dispose(),te.dispose();for(var Ce=0;Ce<ae.length;++Ce)ae[Ce].dispose();O.dispose();for(var Ce=0;Ce<J.length;++Ce)J[Ce].dispose();V.dispose(),_=null,Y=null,te=null,ae=[]}},ne._mouseRotating=!1,ne._prevButtons=0,ne.enableMouseListeners=function(){ne.mouseListener=c(S,function(Ce,Oe,Pe){if(!ne._stopped){var Ge=J.length,Ze=ae.length,it=H.object;H.distance=1/0,H.mouse[0]=Oe,H.mouse[1]=Pe,H.object=null,H.screen=null,H.dataCoordinate=H.dataPosition=null;var Je=!1;if(Ce&&ne._prevButtons)ne._mouseRotating=!0;else{ne._mouseRotating&&($=!0),ne._mouseRotating=!1;for(var et=0;et<Ge;++et){var ft=J[et].query(Oe,he[1]-Pe-1,ne.pickRadius);if(ft){if(ft.distance>H.distance)continue;for(var vt=0;vt<Ze;++vt){var dt=ae[vt];if(fe[vt]===et){var xt=dt.pick(ft);xt&&(H.buttons=Ce,H.screen=ft.coord,H.distance=ft.distance,H.object=dt,H.index=xt.distance,H.dataPosition=xt.position,H.dataCoordinate=xt.dataCoordinate,H.data=xt,Je=!0)}}}}}it&&it!==H.object&&(it.highlight&&it.highlight(null),ee=!0),H.object&&(H.object.highlight&&H.object.highlight(H.data),ee=!0),Je=Je||H.object!==it,Je&&ne.onselect&&ne.onselect(H),Ce&1&&!(ne._prevButtons&1)&&ne.onclick&&ne.onclick(H),ne._prevButtons=Ce}})};function Te(){if(ne.contextLost)return!0;_.isContextLost()&&(ne.contextLost=!0,ne.mouseListener.enabled=!1,ne.selection.object=null,ne.oncontextloss&&ne.oncontextloss())}S.addEventListener("webglcontextlost",Te);function Le(){if(!Te()){_.colorMask(!0,!0,!0,!0),_.depthMask(!0),_.disable(_.BLEND),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL);for(var Ce=ae.length,Oe=J.length,Pe=0;Pe<Oe;++Pe){var Ge=J[Pe];Ge.shape=he,Ge.begin();for(var Ze=0;Ze<Ce;++Ze)if(fe[Ze]===Pe){var it=ae[Ze];it.drawPick&&(it.pixelRatio=1,it.drawPick(le))}Ge.end()}}}var Ie=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ze=[Ie[0].slice(),Ie[1].slice()];function Me(){if(!Te()){me();var Ce=ne.camera.tick();le.view=ne.camera.matrix,ee=ee||Ce,$=$||Ce,Y.pixelRatio=ne.pixelRatio,te.pixelRatio=ne.pixelRatio;var Oe=ae.length,Pe=Ie[0],Ge=Ie[1];Pe[0]=Pe[1]=Pe[2]=1/0,Ge[0]=Ge[1]=Ge[2]=-1/0;for(var Ze=0;Ze<Oe;++Ze){var it=ae[Ze];it.pixelRatio=ne.pixelRatio,it.axes=ne.axes,ee=ee||!!it.dirty,$=$||!!it.dirty;var Je=it.bounds;if(Je)for(var et=Je[0],ft=Je[1],vt=0;vt<3;++vt)Pe[vt]=Math.min(Pe[vt],et[vt]),Ge[vt]=Math.max(Ge[vt],ft[vt])}var dt=ne.bounds;if(ne.autoBounds)for(var vt=0;vt<3;++vt){if(Ge[vt]<Pe[vt])Pe[vt]=-1,Ge[vt]=1;else{Pe[vt]===Ge[vt]&&(Pe[vt]-=1,Ge[vt]+=1);var xt=.05*(Ge[vt]-Pe[vt]);Pe[vt]=Pe[vt]-xt,Ge[vt]=Ge[vt]+xt}dt[0][vt]=Pe[vt],dt[1][vt]=Ge[vt]}for(var Mt=!1,vt=0;vt<3;++vt)Mt=Mt||ze[0][vt]!==dt[0][vt]||ze[1][vt]!==dt[1][vt],ze[0][vt]=dt[0][vt],ze[1][vt]=dt[1][vt];if($=$||Mt,ee=ee||Mt,!!ee){if(Mt){for(var nt=[0,0,0],Ze=0;Ze<3;++Ze)nt[Ze]=R((dt[1][Ze]-dt[0][Ze])/10);Y.autoTicks?Y.update({bounds:dt,tickSpacing:nt}):Y.update({bounds:dt})}var Fe=_.drawingBufferWidth,We=_.drawingBufferHeight;j[0]=Fe,j[1]=We,he[0]=Math.max(Fe/ne.pixelRatio,1)|0,he[1]=Math.max(We/ne.pixelRatio,1)|0,M(ne,B);for(var Ze=0;Ze<Oe;++Ze){var it=ae[Ze];it.axesBounds=dt,ne.clipToBounds&&(it.clipBounds=dt)}H.object&&(ne.snapToData?te.position=H.dataCoordinate:te.position=H.dataPosition,te.bounds=dt),$&&($=!1,Le()),ne.axesPixels=a(ne.axes,le,Fe,We),ne.onrender&&ne.onrender(),_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,Fe,We),ne.clearRGBA(),_.depthMask(!0),_.colorMask(!0,!0,!0,!0),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL),_.disable(_.BLEND),_.disable(_.CULL_FACE);var je=!1;Y.enable&&(je=je||Y.isTransparent(),Y.draw(le)),te.axes=Y,H.object&&te.draw(le),_.disable(_.CULL_FACE);for(var Ze=0;Ze<Oe;++Ze){var it=ae[Ze];it.axes=Y,it.pixelRatio=ne.pixelRatio,it.isOpaque&&it.isOpaque()&&it.draw(le),it.isTransparent&&it.isTransparent()&&(je=!0)}if(je){O.shape=j,O.bind(),_.clear(_.DEPTH_BUFFER_BIT),_.colorMask(!1,!1,!1,!1),_.depthMask(!0),_.depthFunc(_.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(le);for(var Ze=0;Ze<Oe;++Ze){var it=ae[Ze];it.isOpaque&&it.isOpaque()&&it.draw(le)}_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.colorMask(!0,!0,!0,!0),_.depthMask(!1),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(le);for(var Ze=0;Ze<Oe;++Ze){var it=ae[Ze];it.isTransparent&&it.isTransparent()&&it.drawTransparent(le)}_.bindFramebuffer(_.FRAMEBUFFER,null),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.disable(_.DEPTH_TEST),V.bind(),O.color[0].bind(0),V.uniforms.accumBuffer=0,y(_),_.disable(_.BLEND)}ee=!1;for(var Ze=0;Ze<Oe;++Ze)ae[Ze].dirty=!1}}}function _e(){ne._stopped||ne.contextLost||(Me(),requestAnimationFrame(_e))}return ne.enableMouseListeners(),_e(),ne.redraw=function(){ne._stopped||(ee=!0,Me())},ne}function M(s,S){var w=s.bounds,_=s.cameraParams,I=_.projection,H=_.model,O=s.gl.drawingBufferWidth,V=s.gl.drawingBufferHeight,B=s.zNear,F=s.zFar,G=s.fovy,Y=O/V;S?(h(I,-Y,Y,-1,1,B,F),_._ortho=!0):(T(I,G,Y,B,F),_._ortho=!1);for(var Q=0;Q<16;++Q)H[Q]=0;H[15]=1;for(var te=0,Q=0;Q<3;++Q)te=Math.max(te,w[1][Q]-w[0][Q]);for(var Q=0;Q<3;++Q)s.autoScale?H[5*Q]=s.aspect[Q]/(w[1][Q]-w[0][Q]):H[5*Q]=1/te,s.autoCenter&&(H[12+Q]=-H[5*Q]*.5*(w[0][Q]+w[1][Q]))}},6640:function(v,p,r){var t=r(3236);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,p,r){var t=r(9405),o=r(2762),a=r(1888),u=r(6640);v.exports=c;function f(T,h,i,g,b){this.plot=T,this.offsetBuffer=h,this.pickBuffer=i,this.shader=g,this.pickShader=b,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=f.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var h;T=T||{};function i(M,s){return M in T?T[M]:s}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var g=T.positions.length>>>1,b=T.positions instanceof Float32Array,A=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=g,R=T.positions,m=b?R:a.mallocFloat32(R.length),L=A?T.idToIndex:a.mallocInt32(g);if(b||m.set(R),!A)for(m.set(R),h=0;h<g;h++)L[h]=h;this.points=R,this.offsetBuffer.update(m),this.pickBuffer.update(L),b||a.free(m),A||a.free(L),this.pointCount=g,this.pickOffset=0};function y(T,h){var i=0,g=T.length>>>1,b;for(b=0;b<g;b++){var A=T[b*2],R=T[b*2+1];A>=h[0]&&A<=h[2]&&R>=h[1]&&R<=h[3]&&i++}return i}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(i){var g=i!==void 0,b=g?this.pickShader:this.shader,A=this.plot.gl,R=this.plot.dataBox;if(this.pointCount===0)return i;var m=R[2]-R[0],L=R[3]-R[1],M=y(this.points,R),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(M,.33333)));T[0]=2/m,T[4]=2/L,T[6]=-2*R[0]/m-1,T[7]=-2*R[1]/L-1,this.offsetBuffer.bind(),b.bind(),b.attributes.position.pointer(),b.uniforms.matrix=T,b.uniforms.color=this.color,b.uniforms.borderColor=this.borderColor,b.uniforms.pointCloud=s<5,b.uniforms.pointSize=s,b.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(h[0]=i&255,h[1]=i>>8&255,h[2]=i>>16&255,h[3]=i>>24&255,this.pickBuffer.bind(),b.attributes.pickId.pointer(A.UNSIGNED_BYTE),b.uniforms.pickOffset=h,this.pickOffset=i);var S=A.getParameter(A.BLEND),w=A.getParameter(A.DITHER);return S&&!this.blend&&A.disable(A.BLEND),w&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),S&&!this.blend&&A.enable(A.BLEND),w&&A.enable(A.DITHER),i+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,h,i){var g=this.pickOffset,b=this.pointCount;if(i<g||i>=g+b)return null;var A=i-g,R=this.points;return{object:this,pointId:A,dataCoord:[R[2*A],R[2*A+1]]}};function c(T,h){var i=T.gl,g=o(i),b=o(i),A=t(i,u.pointVertex,u.pointFragment),R=t(i,u.pickVertex,u.pickFragment),m=new f(T,g,b,A,R);return m.update(h),T.addObject(m),m}},783:function(v){v.exports=p;function p(r,t,o,a){var u=t[0],f=t[1],l=t[2],y=t[3],c=o[0],T=o[1],h=o[2],i=o[3],g,b,A,R,m;return b=u*c+f*T+l*h+y*i,b<0&&(b=-b,c=-c,T=-T,h=-h,i=-i),1-b>1e-6?(g=Math.acos(b),A=Math.sin(g),R=Math.sin((1-a)*g)/A,m=Math.sin(a*g)/A):(R=1-a,m=a),r[0]=R*u+m*c,r[1]=R*f+m*T,r[2]=R*l+m*h,r[3]=R*y+m*i,r}},5964:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},9366:function(v,p,r){var t=r(4359);v.exports=a;var o={};function a(u,f,l){var y=[f.style,f.weight,f.variant,f.family].join("_"),c=o[y];if(c||(c=o[y]={}),u in c)return c[u];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f.family,fontStyle:f.style,fontWeight:f.weight,fontVariant:f.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var h=t(u,T);T.triangles=!1;var i=t(u,T),g,b;if(l&&l!==1){for(g=0;g<h.positions.length;++g)for(b=0;b<h.positions[g].length;++b)h.positions[g][b]/=l;for(g=0;g<i.positions.length;++g)for(b=0;b<i.positions[g].length;++b)i.positions[g][b]/=l}var A=[[1/0,1/0],[-1/0,-1/0]],R=i.positions.length;for(g=0;g<R;++g){var m=i.positions[g];for(b=0;b<2;++b)A[0][b]=Math.min(A[0][b],m[b]),A[1][b]=Math.max(A[1][b],m[b])}return c[u]=[h,i,A]}},1283:function(v,p,r){var t=r(9405),o=r(3236),a=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:a,fragment:l,attributes:c},h={vertex:u,fragment:l,attributes:c},i={vertex:f,fragment:l,attributes:c},g={vertex:a,fragment:y,attributes:c},b={vertex:u,fragment:y,attributes:c},A={vertex:f,fragment:y,attributes:c};function R(m,L){var M=t(m,L),s=M.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,M}p.createPerspective=function(m){return R(m,T)},p.createOrtho=function(m){return R(m,h)},p.createProject=function(m){return R(m,i)},p.createPickPerspective=function(m){return R(m,g)},p.createPickOrtho=function(m){return R(m,b)},p.createPickProject=function(m){return R(m,A)}},8418:function(v,p,r){var t=r(5219),o=r(2762),a=r(8116),u=r(1888),f=r(6760),l=r(1283),y=r(9366),c=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h=ArrayBuffer,i=DataView;function g(q){return h.isView(q)&&!(q instanceof i)}function b(q){return Array.isArray(q)||g(q)}v.exports=X;function A(q,le){var $=q[0],j=q[1],se=q[2],ne=q[3];return q[0]=le[0]*$+le[4]*j+le[8]*se+le[12]*ne,q[1]=le[1]*$+le[5]*j+le[9]*se+le[13]*ne,q[2]=le[2]*$+le[6]*j+le[10]*se+le[14]*ne,q[3]=le[3]*$+le[7]*j+le[11]*se+le[15]*ne,q}function R(q,le,$,j){return A(j,j),A(j,j),A(j,j)}function m(q,le){this.index=q,this.dataCoordinate=this.position=le}function L(q){return q===!0||q>1?1:q}function M(q,le,$,j,se,ne,he,me,we,Te,Le,Ie){this.gl=q,this.pixelRatio=1,this.shader=le,this.orthoShader=$,this.projectShader=j,this.pointBuffer=se,this.colorBuffer=ne,this.glyphBuffer=he,this.idBuffer=me,this.vao=we,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=Te,this.pickOrthoShader=Le,this.pickProjectShader=Ie,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var s=M.prototype;s.pickSlots=1,s.setPickBase=function(q){this.pickId=q},s.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},s.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var S=[0,0],w=[0,0,0],_=[0,0,0],I=[0,0,0,1],H=[0,0,0,1],O=T.slice(),V=[0,0,0],B=[[0,0,0],[0,0,0]];function F(q){return q[0]=q[1]=q[2]=0,q}function G(q,le){return q[0]=le[0],q[1]=le[1],q[2]=le[2],q[3]=1,q}function Y(q,le,$,j){return q[0]=le[0],q[1]=le[1],q[2]=le[2],q[$]=j,q}function Q(q){for(var le=B,$=0;$<2;++$)for(var j=0;j<3;++j)le[$][j]=Math.max(Math.min(q[$][j],1e8),-1e8);return le}function te(q,le,$,j){var se=le.axesProject,ne=le.gl,he=q.uniforms,me=$.model||T,we=$.view||T,Te=$.projection||T,Le=le.axesBounds,Ie=Q(le.clipBounds),ze;le.axes&&le.axes.lastCubeProps?ze=le.axes.lastCubeProps.axis:ze=[1,1,1],S[0]=2/ne.drawingBufferWidth,S[1]=2/ne.drawingBufferHeight,q.bind(),he.view=we,he.projection=Te,he.screenSize=S,he.highlightId=le.highlightId,he.highlightScale=le.highlightScale,he.clipBounds=Ie,he.pickGroup=le.pickId/255,he.pixelRatio=j;for(var Me=0;Me<3;++Me)if(se[Me]){he.scale=le.projectScale[Me],he.opacity=le.projectOpacity[Me];for(var _e=O,Ce=0;Ce<16;++Ce)_e[Ce]=0;for(var Ce=0;Ce<4;++Ce)_e[5*Ce]=1;_e[5*Me]=0,ze[Me]<0?_e[12+Me]=Le[0][Me]:_e[12+Me]=Le[1][Me],f(_e,me,_e),he.model=_e;var Oe=(Me+1)%3,Pe=(Me+2)%3,Ge=F(w),Ze=F(_);Ge[Oe]=1,Ze[Pe]=1;var it=R(Te,we,me,G(I,Ge)),Je=R(Te,we,me,G(H,Ze));if(Math.abs(it[1])>Math.abs(Je[1])){var et=it;it=Je,Je=et,et=Ge,Ge=Ze,Ze=et;var ft=Oe;Oe=Pe,Pe=ft}it[0]<0&&(Ge[Oe]=-1),Je[1]>0&&(Ze[Pe]=-1);for(var vt=0,dt=0,Ce=0;Ce<4;++Ce)vt+=Math.pow(me[4*Oe+Ce],2),dt+=Math.pow(me[4*Pe+Ce],2);Ge[Oe]/=Math.sqrt(vt),Ze[Pe]/=Math.sqrt(dt),he.axes[0]=Ge,he.axes[1]=Ze,he.fragClipBounds[0]=Y(V,Ie[0],Me,-1e8),he.fragClipBounds[1]=Y(V,Ie[1],Me,1e8),le.vao.bind(),le.vao.draw(ne.TRIANGLES,le.vertexCount),le.lineWidth>0&&(ne.lineWidth(le.lineWidth*j),le.vao.draw(ne.LINES,le.lineVertexCount,le.vertexCount)),le.vao.unbind()}}var ae=[-1e8,-1e8,-1e8],fe=[1e8,1e8,1e8],oe=[ae,fe];function J(q,le,$,j,se,ne,he){var me=$.gl;if((ne===$.projectHasAlpha||he)&&te(le,$,j,se),ne===$.hasAlpha||he){q.bind();var we=q.uniforms;we.model=j.model||T,we.view=j.view||T,we.projection=j.projection||T,S[0]=2/me.drawingBufferWidth,S[1]=2/me.drawingBufferHeight,we.screenSize=S,we.highlightId=$.highlightId,we.highlightScale=$.highlightScale,we.fragClipBounds=oe,we.clipBounds=$.axes.bounds,we.opacity=$.opacity,we.pickGroup=$.pickId/255,we.pixelRatio=se,$.vao.bind(),$.vao.draw(me.TRIANGLES,$.vertexCount),$.lineWidth>0&&(me.lineWidth($.lineWidth*se),$.vao.draw(me.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}s.draw=function(q){var le=this.useOrtho?this.orthoShader:this.shader;J(le,this.projectShader,this,q,this.pixelRatio,!1,!1)},s.drawTransparent=function(q){var le=this.useOrtho?this.orthoShader:this.shader;J(le,this.projectShader,this,q,this.pixelRatio,!0,!1)},s.drawPick=function(q){var le=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;J(le,this.pickProjectShader,this,q,1,!0,!0)},s.pick=function(q){if(!q||q.id!==this.pickId)return null;var le=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(le>=this.pointCount||le<0)return null;var $=this.points[le],j=this._selectResult;j.index=le;for(var se=0;se<3;++se)j.position[se]=j.dataCoordinate[se]=$[se];return j},s.highlight=function(q){if(!q)this.highlightId=[1,1,1,1];else{var le=q.index,$=le&255,j=le>>8&255,se=le>>16&255;this.highlightId=[$/255,j/255,se/255,0]}};function ee(q,le,$,j){var se;b(q)?le<q.length?se=q[le]:se=void 0:se=q,se=c(se);var ne=!0;t(se)&&(se="▼",ne=!1),$||($={});var he=$.family;b(he)&&(he=he[le]),he||(he="normal");var me=$.weight;b(me)&&(me=me[le]),me||(me="normal");var we=$.style;b(we)&&(we=we[le]),we||(we="normal");var Te=$.variant;b(Te)&&(Te=Te[le]),Te||(Te="normal");var Le=y(se,{family:he,weight:me,style:we,variant:Te},j),Le=y(se,$,j);return{mesh:Le[0],lines:Le[1],bounds:Le[2],visible:ne}}s.update=function(q){if(q=q||{},"perspective"in q&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(b(q.project))this.axesProject=q.project;else{var le=!!q.project;this.axesProject=[le,le,le]}if("projectScale"in q)if(b(q.projectScale))this.projectScale=q.projectScale.slice();else{var $=+q.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in q){if(b(q.projectOpacity))this.projectOpacity=q.projectOpacity.slice();else{var $=+q.projectOpacity;this.projectOpacity=[$,$,$]}for(var j=0;j<3;++j)this.projectOpacity[j]=L(this.projectOpacity[j]),this.projectOpacity[j]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=L(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var se=q.position,ne={family:q.font||"normal",style:q.fontStyle||"normal",weight:q.fontWeight||"normal",variant:q.fontVariant||"normal"},he=q.alignment||[0,0],me,we;if(he.length===2)me=he[0],we=he[1];else{me=[],we=[];for(var j=0;j<he.length;++j)me[j]=he[j][0],we[j]=he[j][1]}var Te=[1/0,1/0,1/0],Le=[-1/0,-1/0,-1/0],Ie=q.glyph,ze=q.color,Me=q.size,_e=q.angle,Ce=q.lineColor,Oe=-1,Pe=0,Ge=0,Ze=0;if(se.length){Ze=se.length;e:for(var j=0;j<Ze;++j){for(var it=se[j],Je=0;Je<3;++Je)if(isNaN(it[Je])||!isFinite(it[Je]))continue e;var et=ee(Ie,j,ne,this.pixelRatio),ft=et.mesh,vt=et.lines,dt=et.bounds;Pe+=ft.cells.length*3,Ge+=vt.edges.length*2}}var xt=Pe+Ge,Mt=u.mallocFloat(3*xt),nt=u.mallocFloat(4*xt),Fe=u.mallocFloat(2*xt),We=u.mallocUint32(xt);if(xt>0){var je=0,Ke=Pe,ke=[0,0,0,1],Ue=[0,0,0,1],Ve=b(ze)&&b(ze[0]),Re=b(Ce)&&b(Ce[0]);e:for(var j=0;j<Ze;++j){Oe+=1;for(var it=se[j],Je=0;Je<3;++Je){if(isNaN(it[Je])||!isFinite(it[Je]))continue e;Le[Je]=Math.max(Le[Je],it[Je]),Te[Je]=Math.min(Te[Je],it[Je])}var et=ee(Ie,j,ne,this.pixelRatio),ft=et.mesh,vt=et.lines,dt=et.bounds,de=et.visible;if(!de)ke=[1,1,1,0];else if(b(ze)){var be;if(Ve?j<ze.length?be=ze[j]:be=[0,0,0,0]:be=ze,be.length===3){for(var Je=0;Je<3;++Je)ke[Je]=be[Je];ke[3]=1}else if(be.length===4){for(var Je=0;Je<4;++Je)ke[Je]=be[Je];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else ke[0]=ke[1]=ke[2]=0,ke[3]=1;if(!de)Ue=[1,1,1,0];else if(b(Ce)){var be;if(Re?j<Ce.length?be=Ce[j]:be=[0,0,0,0]:be=Ce,be.length===3){for(var Je=0;Je<3;++Je)Ue[Je]=be[Je];Ue[Je]=1}else if(be.length===4){for(var Je=0;Je<4;++Je)Ue[Je]=be[Je];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Ue[0]=Ue[1]=Ue[2]=0,Ue[3]=1;var Ne=.5;de?b(Me)?j<Me.length?Ne=+Me[j]:Ne=12:Me?Ne=+Me:this.useOrtho&&(Ne=12):Ne=0;var Ye=0;b(_e)?j<_e.length?Ye=+_e[j]:Ye=0:_e&&(Ye=+_e);for(var at=Math.cos(Ye),lt=Math.sin(Ye),it=se[j],Je=0;Je<3;++Je)Le[Je]=Math.max(Le[Je],it[Je]),Te[Je]=Math.min(Te[Je],it[Je]);var Ht=me,Yt=we,Ht=0;b(me)?j<me.length?Ht=me[j]:Ht=0:me&&(Ht=me);var Yt=0;b(we)?j<we.length?Yt=we[j]:Yt=0:we&&(Yt=we),Ht*=Ht>0?1-dt[0][0]:Ht<0?1+dt[1][0]:1,Yt*=Yt>0?1-dt[0][1]:Yt<0?1+dt[1][1]:1;for(var Tt=[Ht,Yt],Xt=ft.cells||[],$t=ft.positions||[],Je=0;Je<Xt.length;++Je)for(var Lt=Xt[Je],Kt=0;Kt<3;++Kt){for(var vr=0;vr<3;++vr)Mt[3*je+vr]=it[vr];for(var vr=0;vr<4;++vr)nt[4*je+vr]=ke[vr];We[je]=Oe;var gt=$t[Lt[Kt]];Fe[2*je]=Ne*(at*gt[0]-lt*gt[1]+Tt[0]),Fe[2*je+1]=Ne*(lt*gt[0]+at*gt[1]+Tt[1]),je+=1}for(var Xt=vt.edges,$t=vt.positions,Je=0;Je<Xt.length;++Je)for(var Lt=Xt[Je],Kt=0;Kt<2;++Kt){for(var vr=0;vr<3;++vr)Mt[3*Ke+vr]=it[vr];for(var vr=0;vr<4;++vr)nt[4*Ke+vr]=Ue[vr];We[Ke]=Oe;var gt=$t[Lt[Kt]];Fe[2*Ke]=Ne*(at*gt[0]-lt*gt[1]+Tt[0]),Fe[2*Ke+1]=Ne*(lt*gt[0]+at*gt[1]+Tt[1]),Ke+=1}}}this.bounds=[Te,Le],this.points=se,this.pointCount=se.length,this.vertexCount=Pe,this.lineVertexCount=Ge,this.pointBuffer.update(Mt),this.colorBuffer.update(nt),this.glyphBuffer.update(Fe),this.idBuffer.update(We),u.free(Mt),u.free(nt),u.free(Fe),u.free(We)},s.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function X(q){var le=q.gl,$=l.createPerspective(le),j=l.createOrtho(le),se=l.createProject(le),ne=l.createPickPerspective(le),he=l.createPickOrtho(le),me=l.createPickProject(le),we=o(le),Te=o(le),Le=o(le),Ie=o(le),ze=a(le,[{buffer:we,size:3,type:le.FLOAT},{buffer:Te,size:4,type:le.FLOAT},{buffer:Le,size:2,type:le.FLOAT},{buffer:Ie,size:4,type:le.UNSIGNED_BYTE,normalized:!0}]),Me=new M(le,$,j,se,we,Te,Le,Ie,ze,ne,he,me);return Me.update(q),Me}},4298:function(v,p,r){var t=r(3236);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,p,r){var t=r(9405),o=r(2762),a=r(4298);v.exports=l;function u(y,c,T){this.plot=y,this.boxBuffer=c,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=u.prototype;f.draw=function(){if(this.enabled){var y=this.plot,c=this.selectBox,T=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var i=this.outerColor,g=this.borderColor,b=y.box,A=y.screenBox,R=y.dataBox,m=y.viewBox,L=y.pixelRatio,M=(c[0]-R[0])*(m[2]-m[0])/(R[2]-R[0])+m[0],s=(c[1]-R[1])*(m[3]-m[1])/(R[3]-R[1])+m[1],S=(c[2]-R[0])*(m[2]-m[0])/(R[2]-R[0])+m[0],w=(c[3]-R[1])*(m[3]-m[1])/(R[3]-R[1])+m[1];if(M=Math.max(M,m[0]),s=Math.max(s,m[1]),S=Math.min(S,m[2]),w=Math.min(w,m[3]),!(S<M||w<s)){b.bind();var _=A[2]-A[0],I=A[3]-A[1];if(this.outerFill&&(b.drawBox(0,0,_,s,i),b.drawBox(0,s,M,w,i),b.drawBox(0,w,_,I,i),b.drawBox(S,s,_,w,i)),this.innerFill&&b.drawBox(M,s,S,w,h),T>0){var H=T*L;b.drawBox(M-H,s-H,S+H,s+H,g),b.drawBox(M-H,w-H,S+H,w+H,g),b.drawBox(M-H,s-H,M+H,w+H,g),b.drawBox(S-H,s-H,S+H,w+H,g)}}}},f.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(y,c){var T=y.gl,h=o(T,[0,0,0,1,1,0,1,1]),i=t(T,a.boxVertex,a.boxFragment),g=new u(y,h,i);return g.update(c),y.addOverlay(g),g}},3589:function(v,p,r){v.exports=T;var t=r(2260),o=r(1888),a=r(9618),u=r(8828).nextPow2,f=function(h,i,g){for(var b=1e8,A=-1,R=-1,m=h.shape[0],L=h.shape[1],M=0;M<m;M++)for(var s=0;s<L;s++){var S=h.get(M,s,0),w=h.get(M,s,1),_=h.get(M,s,2),I=h.get(M,s,3);if(S<255||w<255||_<255||I<255){var H=i-M,O=g-s,V=H*H+O*O;V<b&&(b=V,A=M,R=s)}}return[A,R,b]};function l(h,i,g,b,A){this.coord=[h,i],this.id=g,this.value=b,this.distance=A}function y(h,i,g){this.gl=h,this.fbo=i,this.buffer=g,this._readTimeout=null;var b=this;this._readCallback=function(){b.gl&&(i.bind(),h.readPixels(0,0,i.shape[0],i.shape[1],h.RGBA,h.UNSIGNED_BYTE,b.buffer),b._readTimeout=null)}}var c=y.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var i=this.fbo.shape[0],g=this.fbo.shape[1];if(g*i*4>this.buffer.length){o.free(this.buffer);for(var b=this.buffer=o.mallocUint8(u(g*i*4)),A=0;A<g*i*4;++A)b[A]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,i,g){if(!this.gl)return null;var b=this.fbo.shape.slice();h=h|0,i=i|0,typeof g!="number"&&(g=1);var A=Math.min(Math.max(h-g,0),b[0])|0,R=Math.min(Math.max(h+g,0),b[0])|0,m=Math.min(Math.max(i-g,0),b[1])|0,L=Math.min(Math.max(i+g,0),b[1])|0;if(R<=A||L<=m)return null;var M=[R-A,L-m],s=a(this.buffer,[M[0],M[1],4],[4,b[0]*4,1],4*(A+b[0]*m)),S=f(s.hi(M[0],M[1],1),g,g),w=S[0],_=S[1];if(w<0||Math.pow(this.radius,2)<S[2])return null;var I=s.get(w,_,0),H=s.get(w,_,1),O=s.get(w,_,2),V=s.get(w,_,3);return new l(w+A|0,_+m|0,I,[H,O,V],Math.sqrt(S[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(h,i){var g=i[0],b=i[1],A={},R=t(h,g,b,A),m=o.mallocUint8(g*b*4);return new y(h,R,m)}},9405:function(v,p,r){var t=r(3327),o=r(8731),a=r(216),u=r(5091),f=r(2145),l=r(8866);function y(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=y.prototype;c.bind=function(){this.program||this._relink();var i,g=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),b=this.gl.lastAttribCount;if(g>b)for(i=b;i<g;i++)this.gl.enableVertexAttribArray(i);else if(b>g)for(i=g;i<b;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=g,this.gl.useProgram(this.program)},c.dispose=function(){for(var i=this.gl.lastAttribCount,g=0;g<i;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(i,g){return i.name<g.name?-1:1}c.update=function(i,g,b,A){if(!g||arguments.length===1){var R=i;i=R.vertex,g=R.fragment,b=R.uniforms,A=R.attributes}var m=this,L=m.gl,M=m._vref;m._vref=u.shader(L,L.VERTEX_SHADER,i),M&&M.dispose(),m.vertShader=m._vref.shader;var s=this._fref;if(m._fref=u.shader(L,L.FRAGMENT_SHADER,g),s&&s.dispose(),m.fragShader=m._fref.shader,!b||!A){var S=L.createProgram();if(L.attachShader(S,m.fragShader),L.attachShader(S,m.vertShader),L.linkProgram(S),!L.getProgramParameter(S,L.LINK_STATUS)){var w=L.getProgramInfoLog(S);throw new l(w,"Error linking program:"+w)}b=b||f.uniforms(L,S),A=A||f.attributes(L,S),L.deleteProgram(S)}A=A.slice(),A.sort(T);var _=[],I=[],H=[],O;for(O=0;O<A.length;++O){var V=A[O];if(V.type.indexOf("mat")>=0){for(var B=V.type.charAt(V.type.length-1)|0,F=new Array(B),G=0;G<B;++G)F[G]=H.length,I.push(V.name+"["+G+"]"),typeof V.location=="number"?H.push(V.location+G):Array.isArray(V.location)&&V.location.length===B&&typeof V.location[G]=="number"?H.push(V.location[G]|0):H.push(-1);_.push({name:V.name,type:V.type,locations:F})}else _.push({name:V.name,type:V.type,locations:[H.length]}),I.push(V.name),typeof V.location=="number"?H.push(V.location|0):H.push(-1)}var Y=0;for(O=0;O<H.length;++O)if(H[O]<0){for(;H.indexOf(Y)>=0;)Y+=1;H[O]=Y}var Q=new Array(b.length);function te(){m.program=u.program(L,m._vref,m._fref,I,H);for(var ae=0;ae<b.length;++ae)Q[ae]=L.getUniformLocation(m.program,b[ae].name)}te(),m._relink=te,m.types={uniforms:a(b),attributes:a(A)},m.attributes=o(L,m,_,H),Object.defineProperty(m,"uniforms",t(L,m,b,Q))};function h(i,g,b,A,R){var m=new y(i);return m.update(g,b,A,R),m}v.exports=h},8866:function(v){function p(r,t,o){this.shortMessage=t||"",this.longMessage=o||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(o?`
`+o:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},8731:function(v,p,r){v.exports=y;var t=r(8866);function o(c,T,h,i,g,b){this._gl=c,this._wrapper=T,this._index=h,this._locations=i,this._dimension=g,this._constFunc=b}var a=o.prototype;a.pointer=function(T,h,i,g){var b=this,A=b._gl,R=b._locations[b._index];A.vertexAttribPointer(R,b._dimension,T||A.FLOAT,!!h,i||0,g||0),A.enableVertexAttribArray(R)},a.set=function(c,T,h,i){return this._constFunc(this._locations[this._index],c,T,h,i)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var u=[function(c,T,h){return h.length===void 0?c.vertexAttrib1f(T,h):c.vertexAttrib1fv(T,h)},function(c,T,h,i){return h.length===void 0?c.vertexAttrib2f(T,h,i):c.vertexAttrib2fv(T,h)},function(c,T,h,i,g){return h.length===void 0?c.vertexAttrib3f(T,h,i,g):c.vertexAttrib3fv(T,h)},function(c,T,h,i,g,b){return h.length===void 0?c.vertexAttrib4f(T,h,i,g,b):c.vertexAttrib4fv(T,h)}];function f(c,T,h,i,g,b,A){var R=u[g],m=new o(c,T,h,i,g,R);Object.defineProperty(b,A,{set:function(L){return c.disableVertexAttribArray(i[h]),R(c,i[h],L),L},get:function(){return m},enumerable:!0})}function l(c,T,h,i,g,b,A){for(var R=new Array(g),m=new Array(g),L=0;L<g;++L)f(c,T,h[L],i,g,R,L),m[L]=R[L];Object.defineProperty(R,"location",{set:function(S){if(Array.isArray(S))for(var w=0;w<g;++w)m[w].location=S[w];else for(var w=0;w<g;++w)m[w].location=S+w;return S},get:function(){for(var S=new Array(g),w=0;w<g;++w)S[w]=i[h[w]];return S},enumerable:!0}),R.pointer=function(S,w,_,I){S=S||c.FLOAT,w=!!w,_=_||g*g,I=I||0;for(var H=0;H<g;++H){var O=i[h[H]];c.vertexAttribPointer(O,g,S,w,_,I+H*g),c.enableVertexAttribArray(O)}};var M=new Array(g),s=c["vertexAttrib"+g+"fv"];Object.defineProperty(b,A,{set:function(S){for(var w=0;w<g;++w){var _=i[h[w]];if(c.disableVertexAttribArray(_),Array.isArray(S[0]))s.call(c,_,S[w]);else{for(var I=0;I<g;++I)M[I]=S[g*w+I];s.call(c,_,M)}}return S},get:function(){return R},enumerable:!0})}function y(c,T,h,i){for(var g={},b=0,A=h.length;b<A;++b){var R=h[b],m=R.name,L=R.type,M=R.locations;switch(L){case"bool":case"int":case"float":f(c,T,M[0],i,1,g,m);break;default:if(L.indexOf("vec")>=0){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+L);f(c,T,M[0],i,s,g,m)}else if(L.indexOf("mat")>=0){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+L);l(c,T,M,i,s,g,m)}else throw new t("","Unknown data type for attribute "+m+": "+L);break}}return g}},3327:function(v,p,r){var t=r(216),o=r(8866);v.exports=f;function a(l){return function(){return l}}function u(l,y){for(var c=new Array(l),T=0;T<l;++T)c[T]=y;return c}function f(l,y,c,T){function h(L){return function(M,s,S){return M.getUniform(s.program,S[L])}}function i(L){return function(s){for(var S=g("",L),w=0;w<S.length;++w){var _=S[w],I=_[0],H=_[1];if(T[H]){var O=s;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var V=I;if(I.indexOf(".")===0&&(V=I.slice(1)),V.indexOf("]")===V.length-1){var B=V.indexOf("["),F=V.slice(0,B),G=V.slice(B+1,V.length-1);O=F?s[F][G]:s[G]}else O=s[V]}var Y=c[H].type,Q;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[H],O);break;case"float":l.uniform1f(T[H],O);break;default:var te=Y.indexOf("vec");if(0<=te&&te<=1&&Y.length===4+te){if(Q=Y.charCodeAt(Y.length-1)-48,Q<2||Q>4)throw new o("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":l["uniform"+Q+"iv"](T[H],O);break;case"v":l["uniform"+Q+"fv"](T[H],O);break;default:throw new o("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if(Q=Y.charCodeAt(Y.length-1)-48,Q<2||Q>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+Y);l["uniformMatrix"+Q+"fv"](T[H],!1,O);break}else throw new o("","Unknown uniform data type for "+name+": "+Y)}}}}}function g(L,M){if(typeof M!="object")return[[L,M]];var s=[];for(var S in M){var w=M[S],_=L;parseInt(S)+""===S?_+="["+S+"]":_+="."+S,typeof w=="object"?s.push.apply(s,g(_,w)):s.push([_,w])}return s}function b(L){switch(L){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var M=L.indexOf("vec");if(0<=M&&M<=1&&L.length===4+M){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new o("","Invalid data type");return L.charAt(0)==="b"?u(s,!1):u(s,0)}else if(L.indexOf("mat")===0&&L.length===4){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+L);return u(s*s,0)}else throw new o("","Unknown uniform data type for "+name+": "+L)}}function A(L,M,s){if(typeof s=="object"){var S=R(s);Object.defineProperty(L,M,{get:a(S),set:i(s),enumerable:!0,configurable:!1})}else T[s]?Object.defineProperty(L,M,{get:h(s),set:i(s),enumerable:!0,configurable:!1}):L[M]=b(c[s].type)}function R(L){var M;if(Array.isArray(L)){M=new Array(L.length);for(var s=0;s<L.length;++s)A(M,s,L[s])}else{M={};for(var S in L)A(M,S,L[S])}return M}var m=t(c,!0);return{get:a(R(m)),set:i(m),enumerable:!0,configurable:!0}}},216:function(v){v.exports=p;function p(r,t){for(var o={},a=0;a<r.length;++a)for(var u=r[a].name,f=u.split("."),l=o,y=0;y<f.length;++y){var c=f[y].split("[");if(c.length>1){c[0]in l||(l[c[0]]=[]),l=l[c[0]];for(var T=1;T<c.length;++T){var h=parseInt(c[T]);T<c.length-1||y<f.length-1?(h in l||(T<c.length-1?l[h]=[]:l[h]={}),l=l[h]):t?l[h]=a:l[h]=r[a].type}}else y<f.length-1?(c[0]in l||(l[c[0]]={}),l=l[c[0]]):t?l[c[0]]=a:l[c[0]]=r[a].type}return o}},2145:function(v,p){p.uniforms=a,p.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function o(f,l){if(!t){var y=Object.keys(r);t={};for(var c=0;c<y.length;++c){var T=y[c];t[f[T]]=r[T]}}return t[l]}function a(f,l){for(var y=f.getProgramParameter(l,f.ACTIVE_UNIFORMS),c=[],T=0;T<y;++T){var h=f.getActiveUniform(l,T);if(h){var i=o(f,h.type);if(h.size>1)for(var g=0;g<h.size;++g)c.push({name:h.name.replace("[0]","["+g+"]"),type:i});else c.push({name:h.name,type:i})}}return c}function u(f,l){for(var y=f.getProgramParameter(l,f.ACTIVE_ATTRIBUTES),c=[],T=0;T<y;++T){var h=f.getActiveAttrib(l,T);h&&c.push({name:h.name,type:o(f,h.type)})}return c}},5091:function(v,p,r){p.shader=g,p.program=b;var t=r(8866),o=r(2992),a=typeof WeakMap>"u"?r(606):WeakMap,u=new a,f=0;function l(A,R,m,L,M,s,S){this.id=A,this.src=R,this.type=m,this.shader=L,this.count=s,this.programs=[],this.cache=S}l.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,R=A.gl,m=this.programs,L=0,M=m.length;L<M;++L){var s=A.programs[m[L]];s&&(delete A.programs[L],R.deleteProgram(s))}R.deleteShader(this.shader),delete A.shaders[this.type===R.FRAGMENT_SHADER|0][this.src]}};function y(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var c=y.prototype;function T(A,R,m){var L=A.createShader(R);if(A.shaderSource(L,m),A.compileShader(L),!A.getShaderParameter(L,A.COMPILE_STATUS)){var M=A.getShaderInfoLog(L);try{var s=o(M,m,R)}catch(S){throw console.warn("Failed to format compiler error: "+S),new t(M,`Error compiling shader:
`+M)}throw new t(M,s.short,s.long)}return L}c.getShaderReference=function(A,R){var m=this.gl,L=this.shaders[A===m.FRAGMENT_SHADER|0],M=L[R];if(!M||!m.isShader(M.shader)){var s=T(m,A,R);M=L[R]=new l(f++,R,A,s,[],1,this)}else M.count+=1;return M};function h(A,R,m,L,M){var s=A.createProgram();A.attachShader(s,R),A.attachShader(s,m);for(var S=0;S<L.length;++S)A.bindAttribLocation(s,M[S],L[S]);if(A.linkProgram(s),!A.getProgramParameter(s,A.LINK_STATUS)){var w=A.getProgramInfoLog(s);throw new t(w,"Error linking program: "+w)}return s}c.getProgram=function(A,R,m,L){var M=[A.id,R.id,m.join(":"),L.join(":")].join("@"),s=this.programs[M];return(!s||!this.gl.isProgram(s))&&(this.programs[M]=s=h(this.gl,A.shader,R.shader,m,L),A.programs.push(M),R.programs.push(M)),s};function i(A){var R=u.get(A);return R||(R=new y(A),u.set(A,R)),R}function g(A,R,m){return i(A).getShaderReference(R,m)}function b(A,R,m,L,M){return i(A).getProgram(R,m,L,M)}},4098:function(v){v.exports=t;function p(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(o){o=o||{},this.enable=(o.enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var o=this.enable,a=this.width,u=this.color,f=this.center,l=this.plot,y=l.line,c=l.dataBox,T=l.viewBox;if(y.bind(),c[0]<=f[0]&&f[0]<=c[2]&&c[1]<=f[1]&&f[1]<=c[3]){var h=T[0]+(f[0]-c[0])/(c[2]-c[0])*(T[2]-T[0]),i=T[1]+(f[1]-c[1])/(c[3]-c[1])*(T[3]-T[1]);o[0]&&y.drawLine(h,i,T[0],i,a[0],u[0]),o[1]&&y.drawLine(h,i,h,T[1],a[1],u[1]),o[2]&&y.drawLine(h,i,T[2],i,a[2],u[2]),o[3]&&y.drawLine(h,i,h,T[3],a[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(o,a){var u=new p(o);return u.update(a),o.addOverlay(u),u}},1493:function(v,p,r){var t=r(3236),o=r(9405),a=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return o(f,a,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,p,r){var t=r(2762),o=r(8116),a=r(1493);v.exports=h;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(i,g,b,A){this.gl=i,this.buffer=g,this.vao=b,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=f.prototype,y=[0,0,0],c=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(i){},l.draw=function(i){var g=this.gl,b=this.vao,A=this.shader;b.bind(),A.bind();var R=i.model||u,m=i.view||u,L=i.projection||u,M;this.axes&&(M=this.axes.lastCubeProps.axis);for(var s=y,S=c,w=0;w<3;++w)M&&M[w]<0?(s[w]=this.bounds[0][w],S[w]=this.bounds[1][w]):(s[w]=this.bounds[1][w],S[w]=this.bounds[0][w]);T[0]=g.drawingBufferWidth,T[1]=g.drawingBufferHeight,A.uniforms.model=R,A.uniforms.view=m,A.uniforms.projection=L,A.uniforms.coordinates=[this.position,s,S],A.uniforms.colors=this.colors,A.uniforms.screenShape=T;for(var w=0;w<3;++w)A.uniforms.lineWidth=this.lineWidth[w]*this.pixelRatio,this.enabled[w]&&(b.draw(g.TRIANGLES,6,6*w),this.drawSides[w]&&b.draw(g.TRIANGLES,12,18+12*w));b.unbind()},l.update=function(i){i&&("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(i,g){var b=[];function A(s,S,w,_,I,H){var O=[s,S,w,0,0,0,1];O[_+3]=1,O[_]=I,b.push.apply(b,O),O[6]=-1,b.push.apply(b,O),O[_]=H,b.push.apply(b,O),b.push.apply(b,O),O[6]=1,b.push.apply(b,O),O[_]=I,b.push.apply(b,O)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var R=t(i,b),m=o(i,[{type:i.FLOAT,buffer:R,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:R,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:R,size:1,offset:24,stride:28}]),L=a(i);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.weight.location=2;var M=new f(i,R,m,L);return M.update(g),M}},6740:function(v,p,r){var t=r(3236),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,p,r){var t=r(2931),o=r(9970),a=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(b,A,R,m){for(var L=b.points,M=b.velocities,s=b.divergences,S=[],w=[],_=[],I=[],H=[],O=[],V=0,B=0,F=o.create(),G=o.create(),Y=8,Q=0;Q<L.length;Q++){var te=L[Q],ae=M[Q],fe=s[Q];A===0&&(fe=R*.05),B=t.length(ae)/m,F=o.create(),t.copy(F,ae),F[3]=fe;for(var oe=0;oe<Y;oe++)H[oe]=[te[0],te[1],te[2],oe];if(I.length>0)for(var oe=0;oe<Y;oe++){var J=(oe+1)%Y;S.push(I[oe],H[oe],H[J],H[J],I[J],I[oe]),_.push(G,F,F,F,G,G),O.push(V,B,B,B,V,V);var ee=S.length;w.push([ee-6,ee-5,ee-4],[ee-3,ee-2,ee-1])}var X=I;I=H,H=X;var q=G;G=F,F=q;var le=V;V=B,B=le}return{positions:S,cells:w,vectors:_,vertexIntensity:O}},f=function(b,A,R,m){for(var L=0,M=0;M<b.length;M++)for(var s=b[M].velocities,S=0;S<s.length;S++)L=Math.max(L,t.length(s[S]));for(var w=b.map(function(Q){return u(Q,R,m,L)}),_=[],I=[],H=[],O=[],M=0;M<w.length;M++){var V=w[M],B=_.length;_=_.concat(V.positions),H=H.concat(V.vectors),O=O.concat(V.vertexIntensity);for(var S=0;S<V.cells.length;S++){var F=V.cells[S],G=[];I.push(G);for(var Y=0;Y<F.length;Y++)G.push(F[Y]+B)}}return{positions:_,cells:I,vectors:H,vertexIntensity:O,colormap:A}},l=function(b,A){var R=b.length,m;for(m=0;m<R;m++){var L=b[m];if(L===A)return m;if(L>A)return m-1}return m},y=function(b,A,R){return b<A?A:b>R?R:b},c=function(b,A,R){var m=A.vectors,L=A.meshgrid,M=b[0],s=b[1],S=b[2],w=L[0].length,_=L[1].length,I=L[2].length,H=l(L[0],M),O=l(L[1],s),V=l(L[2],S),B=H+1,F=O+1,G=V+1;if(H=y(H,0,w-1),B=y(B,0,w-1),O=y(O,0,_-1),F=y(F,0,_-1),V=y(V,0,I-1),G=y(G,0,I-1),H<0||O<0||V<0||B>w-1||F>_-1||G>I-1)return t.create();var Y=L[0][H],Q=L[0][B],te=L[1][O],ae=L[1][F],fe=L[2][V],oe=L[2][G],J=(M-Y)/(Q-Y),ee=(s-te)/(ae-te),X=(S-fe)/(oe-fe);isFinite(J)||(J=.5),isFinite(ee)||(ee=.5),isFinite(X)||(X=.5);var q,le,$,j,se,ne;switch(R.reversedX&&(H=w-1-H,B=w-1-B),R.reversedY&&(O=_-1-O,F=_-1-F),R.reversedZ&&(V=I-1-V,G=I-1-G),R.filled){case 5:se=V,ne=G,$=O*I,j=F*I,q=H*I*_,le=B*I*_;break;case 4:se=V,ne=G,q=H*I,le=B*I,$=O*I*w,j=F*I*w;break;case 3:$=O,j=F,se=V*_,ne=G*_,q=H*_*I,le=B*_*I;break;case 2:$=O,j=F,q=H*_,le=B*_,se=V*_*w,ne=G*_*w;break;case 1:q=H,le=B,se=V*w,ne=G*w,$=O*w*I,j=F*w*I;break;default:q=H,le=B,$=O*w,j=F*w,se=V*w*_,ne=G*w*_;break}var he=m[q+$+se],me=m[q+$+ne],we=m[q+j+se],Te=m[q+j+ne],Le=m[le+$+se],Ie=m[le+$+ne],ze=m[le+j+se],Me=m[le+j+ne],_e=t.create(),Ce=t.create(),Oe=t.create(),Pe=t.create();t.lerp(_e,he,Le,J),t.lerp(Ce,me,Ie,J),t.lerp(Oe,we,ze,J),t.lerp(Pe,Te,Me,J);var Ge=t.create(),Ze=t.create();t.lerp(Ge,_e,Oe,ee),t.lerp(Ze,Ce,Pe,ee);var it=t.create();return t.lerp(it,Ge,Ze,X),it},T=function(b){var A=1/0;b.sort(function(M,s){return M-s});for(var R=b.length,m=1;m<R;m++){var L=Math.abs(b[m]-b[m-1]);L<A&&(A=L)}return A},h=function(b){for(var A=[],R=[],m=[],L={},M={},s={},S=b.length,w=0;w<S;w++){var _=b[w],I=_[0],H=_[1],O=_[2];L[I]||(A.push(I),L[I]=!0),M[H]||(R.push(H),M[H]=!0),s[O]||(m.push(O),s[O]=!0)}var V=T(A),B=T(R),F=T(m),G=Math.min(V,B,F);return isFinite(G)?G:1};v.exports=function(b,A){var R=b.startingPositions,m=b.maxLength||1e3,L=b.tubeSize||1,M=b.absoluteTubeSize,s=b.gridFill||"+x+y+z",S={};s.indexOf("-x")!==-1&&(S.reversedX=!0),s.indexOf("-y")!==-1&&(S.reversedY=!0),s.indexOf("-z")!==-1&&(S.reversedZ=!0),S.filled=a.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var w=b.getVelocity||function(Ie){return c(Ie,b,S)},_=b.getDivergence||function(Ie,ze){var Me=t.create(),_e=1e-4;t.add(Me,Ie,[_e,0,0]);var Ce=w(Me);t.subtract(Ce,Ce,ze),t.scale(Ce,Ce,1/_e),t.add(Me,Ie,[0,_e,0]);var Oe=w(Me);t.subtract(Oe,Oe,ze),t.scale(Oe,Oe,1/_e),t.add(Me,Ie,[0,0,_e]);var Pe=w(Me);return t.subtract(Pe,Pe,ze),t.scale(Pe,Pe,1/_e),t.add(Me,Ce,Oe),t.add(Me,Me,Pe),Me},I=[],H=A[0][0],O=A[0][1],V=A[0][2],B=A[1][0],F=A[1][1],G=A[1][2],Y=function(Ie){var ze=Ie[0],Me=Ie[1],_e=Ie[2];return!(ze<H||ze>B||Me<O||Me>F||_e<V||_e>G)},Q=t.distance(A[0],A[1]),te=10*Q/m,ae=te*te,fe=1,oe=0,J=R.length;J>1&&(fe=h(R));for(var ee=0;ee<J;ee++){var X=t.create();t.copy(X,R[ee]);var q=[X],le=[],$=w(X),j=X;le.push($);var se=[],ne=_(X,$),he=t.length(ne);isFinite(he)&&he>oe&&(oe=he),se.push(he),I.push({points:q,velocities:le,divergences:se});for(var me=0;me<m*100&&q.length<m&&Y(X);){me++;var we=t.clone($),Te=t.squaredLength(we);if(Te===0)break;if(Te>ae&&t.scale(we,we,te/Math.sqrt(Te)),t.add(we,we,X),$=w(we),t.squaredDistance(j,we)-ae>-1e-4*ae){q.push(we),j=we,le.push($);var ne=_(we,$),he=t.length(ne);isFinite(he)&&he>oe&&(oe=he),se.push(he)}X=we}}var Le=f(I,b.colormap,oe,fe);return M?Le.tubeScale=M:(oe===0&&(oe=1),Le.tubeScale=L*.5*fe/oe),Le};var i=r(6740),g=r(6405).createMesh;v.exports.createTubeMesh=function(b,A){return g(b,A,{shaders:i,traceType:"streamtube"})}},990:function(v,p,r){var t=r(9405),o=r(3236),a=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(y){var c=t(y,a,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createPickShader=function(y){var c=t(y,a,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createContourShader=function(y){var c=t(y,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},p.createPickContourShader=function(y){var c=t(y,f,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(v,p,r){v.exports=le;var t=r(8828),o=r(2762),a=r(8116),u=r(7766),f=r(1888),l=r(6729),y=r(5298),c=r(9994),T=r(9618),h=r(3711),i=r(6760),g=r(7608),b=r(2478),A=r(6199),R=r(990),m=R.createShader,L=R.createContourShader,M=R.createPickShader,s=R.createPickContourShader,S=4*10,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var $=0;$<3;++$){var j=I[$],se=($+1)%3,ne=($+2)%3;j[se+0]=1,j[ne+3]=1,j[$+6]=1}})();function H($,j,se,ne,he){this.position=$,this.index=j,this.uv=se,this.level=ne,this.dataCoordinate=he}var O=256;function V($,j,se,ne,he,me,we,Te,Le,Ie,ze,Me,_e,Ce,Oe){this.gl=$,this.shape=j,this.bounds=se,this.objectOffset=Oe,this.intensityBounds=[],this._shader=ne,this._pickShader=he,this._coordinateBuffer=me,this._vao=we,this._colorMap=Te,this._contourShader=Le,this._contourPickShader=Ie,this._contourBuffer=ze,this._contourVAO=Me,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new H([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=_e,this._dynamicVAO=Ce,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=V.prototype;B.genColormap=function($,j){var se=!1,ne=c([l({colormap:$,nshades:O,format:"rgba"}).map(function(he,me){var we=j?F(me/255,j):he[3];return we<1&&(se=!0),[he[0],he[1],he[2],255*we]})]);return y.divseq(ne,255),this.hasAlphaScale=se,ne},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function($){this.pickId=$};function F($,j){if(!j||!j.length)return 1;for(var se=0;se<j.length;++se){if(j.length<2)return 1;if(j[se][0]===$)return j[se][1];if(j[se][0]>$&&se>0){var ne=(j[se][0]-$)/(j[se][0]-j[se-1][0]);return j[se][1]*(1-ne)+ne*j[se-1][1]}}return 1}var G=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Q($,j){var se,ne,he,me=j.axes&&j.axes.lastCubeProps.axis||G,we=j.showSurface,Te=j.showContour;for(se=0;se<3;++se)for(we=we||j.surfaceProject[se],ne=0;ne<3;++ne)Te=Te||j.contourProject[se][ne];for(se=0;se<3;++se){var Le=Y.projections[se];for(ne=0;ne<16;++ne)Le[ne]=0;for(ne=0;ne<4;++ne)Le[5*ne]=1;Le[5*se]=0,Le[12+se]=j.axesBounds[+(me[se]>0)][se],i(Le,$.model,Le);var Ie=Y.clipBounds[se];for(he=0;he<2;++he)for(ne=0;ne<3;++ne)Ie[he][ne]=$.clipBounds[he][ne];Ie[0][se]=-1e8,Ie[1][se]=1e8}return Y.showSurface=we,Y.showContour=Te,Y}var te={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ae=w.slice(),fe=[1,0,0,0,1,0,0,0,1];function oe($,j){$=$||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ne=te;ne.model=$.model||w,ne.view=$.view||w,ne.projection=$.projection||w,ne.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ne.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ne.objectOffset=this.objectOffset,ne.contourColor=this.contourColor[0],ne.inverseModel=g(ne.inverseModel,ne.model);for(var he=0;he<2;++he)for(var me=ne.clipBounds[he],we=0;we<3;++we)me[we]=Math.min(Math.max(this.clipBounds[he][we],-1e8),1e8);ne.kambient=this.ambientLight,ne.kdiffuse=this.diffuseLight,ne.kspecular=this.specularLight,ne.roughness=this.roughness,ne.fresnel=this.fresnel,ne.opacity=this.opacity,ne.height=0,ne.permutation=fe,ne.vertexColor=this.vertexColor;var Te=ae;for(i(Te,ne.view,ne.model),i(Te,ne.projection,Te),g(Te,Te),he=0;he<3;++he)ne.eyePosition[he]=Te[12+he]/Te[15];var Le=Te[15];for(he=0;he<3;++he)Le+=this.lightPosition[he]*Te[4*he+3];for(he=0;he<3;++he){var Ie=Te[12+he];for(we=0;we<3;++we)Ie+=Te[4*we+he]*this.lightPosition[we];ne.lightPosition[he]=Ie/Le}var ze=Q(ne,this);if(ze.showSurface){for(this._shader.bind(),this._shader.uniforms=ne,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=ze.projections[he],this._shader.uniforms.clipBounds=ze.clipBounds[he],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ze.showContour){var Me=this._contourShader;ne.kambient=1,ne.kdiffuse=0,ne.kspecular=0,ne.opacity=1,Me.bind(),Me.uniforms=ne;var _e=this._contourVAO;for(_e.bind(),he=0;he<3;++he)for(Me.uniforms.permutation=I[he],se.lineWidth(this.contourWidth[he]*this.pixelRatio),we=0;we<this.contourLevels[he].length;++we)we===this.highlightLevel[he]?(Me.uniforms.contourColor=this.highlightColor[he],Me.uniforms.contourTint=this.highlightTint[he]):(we===0||we-1===this.highlightLevel[he])&&(Me.uniforms.contourColor=this.contourColor[he],Me.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][we]&&(Me.uniforms.height=this.contourLevels[he][we],_e.draw(se.LINES,this._contourCounts[he][we],this._contourOffsets[he][we]));for(he=0;he<3;++he)for(Me.uniforms.model=ze.projections[he],Me.uniforms.clipBounds=ze.clipBounds[he],we=0;we<3;++we)if(this.contourProject[he][we]){Me.uniforms.permutation=I[we],se.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[we].length;++Ce)Ce===this.highlightLevel[we]?(Me.uniforms.contourColor=this.highlightColor[we],Me.uniforms.contourTint=this.highlightTint[we]):(Ce===0||Ce-1===this.highlightLevel[we])&&(Me.uniforms.contourColor=this.contourColor[we],Me.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ce]&&(Me.uniforms.height=this.contourLevels[we][Ce],_e.draw(se.LINES,this._contourCounts[we][Ce],this._contourOffsets[we][Ce]))}for(_e.unbind(),_e=this._dynamicVAO,_e.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(Me.uniforms.model=ne.model,Me.uniforms.clipBounds=ne.clipBounds,Me.uniforms.permutation=I[he],se.lineWidth(this.dynamicWidth[he]*this.pixelRatio),Me.uniforms.contourColor=this.dynamicColor[he],Me.uniforms.contourTint=this.dynamicTint[he],Me.uniforms.height=this.dynamicLevel[he],_e.draw(se.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),we=0;we<3;++we)this.contourProject[we][he]&&(Me.uniforms.model=ze.projections[we],Me.uniforms.clipBounds=ze.clipBounds[we],_e.draw(se.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));_e.unbind()}}B.draw=function($){return oe.call(this,$,!1)},B.drawTransparent=function($){return oe.call(this,$,!0)};var J={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function($){$=$||{};var j=this.gl;j.disable(j.CULL_FACE);var se=J;se.model=$.model||w,se.view=$.view||w,se.projection=$.projection||w,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=fe;for(var ne=0;ne<2;++ne)for(var he=se.clipBounds[ne],me=0;me<3;++me)he[me]=Math.min(Math.max(this.clipBounds[ne][me],-1e8),1e8);var we=Q(se,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(j.TRIANGLES,this._vertexCount),ne=0;ne<3;++ne)this.surfaceProject[ne]&&(this._pickShader.uniforms.model=we.projections[ne],this._pickShader.uniforms.clipBounds=we.clipBounds[ne],this._vao.draw(j.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var Te=this._contourPickShader;Te.bind(),Te.uniforms=se;var Le=this._contourVAO;for(Le.bind(),me=0;me<3;++me)for(j.lineWidth(this.contourWidth[me]*this.pixelRatio),Te.uniforms.permutation=I[me],ne=0;ne<this.contourLevels[me].length;++ne)this._contourCounts[me][ne]&&(Te.uniforms.height=this.contourLevels[me][ne],Le.draw(j.LINES,this._contourCounts[me][ne],this._contourOffsets[me][ne]));for(ne=0;ne<3;++ne)for(Te.uniforms.model=we.projections[ne],Te.uniforms.clipBounds=we.clipBounds[ne],me=0;me<3;++me)if(this.contourProject[ne][me]){Te.uniforms.permutation=I[me],j.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Ie=0;Ie<this.contourLevels[me].length;++Ie)this._contourCounts[me][Ie]&&(Te.uniforms.height=this.contourLevels[me][Ie],Le.draw(j.LINES,this._contourCounts[me][Ie],this._contourOffsets[me][Ie]))}Le.unbind()}},B.pick=function($){if(!$||$.id!==this.pickId)return null;var j=this._field[2].shape,se=this._pickResult,ne=j[0]*($.value[0]+($.value[2]>>4)/16)/255,he=Math.floor(ne),me=ne-he,we=j[1]*($.value[1]+($.value[2]&15)/16)/255,Te=Math.floor(we),Le=we-Te;he+=1,Te+=1;var Ie=se.position;Ie[0]=Ie[1]=Ie[2]=0;for(var ze=0;ze<2;++ze)for(var Me=ze?me:1-me,_e=0;_e<2;++_e)for(var Ce=_e?Le:1-Le,Oe=he+ze,Pe=Te+_e,Ge=Me*Ce,Ze=0;Ze<3;++Ze)Ie[Ze]+=this._field[Ze].get(Oe,Pe)*Ge;for(var it=this._pickResult.level,Je=0;Je<3;++Je)if(it[Je]=b.le(this.contourLevels[Je],Ie[Je]),it[Je]<0)this.contourLevels[Je].length>0&&(it[Je]=0);else if(it[Je]<this.contourLevels[Je].length-1){var et=this.contourLevels[Je][it[Je]],ft=this.contourLevels[Je][it[Je]+1];Math.abs(et-Ie[Je])>Math.abs(ft-Ie[Je])&&(it[Je]+=1)}for(se.index[0]=me<.5?he:he+1,se.index[1]=Le<.5?Te:Te+1,se.uv[0]=ne/j[0],se.uv[1]=we/j[1],Ze=0;Ze<3;++Ze)se.dataCoordinate[Ze]=this._field[Ze].get(se.index[0],se.index[1]);return se},B.padField=function($,j){var se=j.shape.slice(),ne=$.shape.slice();y.assign($.lo(1,1).hi(se[0],se[1]),j),y.assign($.lo(1).hi(se[0],1),j.hi(se[0],1)),y.assign($.lo(1,ne[1]-1).hi(se[0],1),j.lo(0,se[1]-1).hi(se[0],1)),y.assign($.lo(0,1).hi(1,se[1]),j.hi(1)),y.assign($.lo(ne[0]-1,1).hi(1,se[1]),j.lo(se[0]-1)),$.set(0,0,j.get(0,0)),$.set(0,ne[1]-1,j.get(0,se[1]-1)),$.set(ne[0]-1,0,j.get(se[0]-1,0)),$.set(ne[0]-1,ne[1]-1,j.get(se[0]-1,se[1]-1))};function ee($,j){return Array.isArray($)?[j($[0]),j($[1]),j($[2])]:[j($),j($),j($)]}function X($){return Array.isArray($)?$.length===3?[$[0],$[1],$[2],1]:[$[0],$[1],$[2],$[3]]:[0,0,0,1]}function q($){if(Array.isArray($)){if(Array.isArray($))return[X($[0]),X($[1]),X($[2])];var j=X($);return[j.slice(),j.slice(),j.slice()]}}B.update=function($){$=$||{},this.objectOffset=$.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in $&&(this.contourWidth=ee($.contourWidth,Number)),"showContour"in $&&(this.showContour=ee($.showContour,Boolean)),"showSurface"in $&&(this.showSurface=!!$.showSurface),"contourTint"in $&&(this.contourTint=ee($.contourTint,Boolean)),"contourColor"in $&&(this.contourColor=q($.contourColor)),"contourProject"in $&&(this.contourProject=ee($.contourProject,function(Qe){return ee(Qe,Boolean)})),"surfaceProject"in $&&(this.surfaceProject=$.surfaceProject),"dynamicColor"in $&&(this.dynamicColor=q($.dynamicColor)),"dynamicTint"in $&&(this.dynamicTint=ee($.dynamicTint,Number)),"dynamicWidth"in $&&(this.dynamicWidth=ee($.dynamicWidth,Number)),"opacity"in $&&(this.opacity=$.opacity),"opacityscale"in $&&(this.opacityscale=$.opacityscale),"colorBounds"in $&&(this.colorBounds=$.colorBounds),"vertexColor"in $&&(this.vertexColor=$.vertexColor?1:0),"colormap"in $&&this._colorMap.setPixels(this.genColormap($.colormap,this.opacityscale));var j=$.field||$.coords&&$.coords[2]||null,se=!1;if(j||(this._field[2].shape[0]||this._field[2].shape[2]?j=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):j=this._field[2].hi(0,0)),"field"in $||"coords"in $){var ne=(j.shape[0]+2)*(j.shape[1]+2);ne>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(t.nextPow2(ne))),this._field[2]=T(this._field[2].data,[j.shape[0]+2,j.shape[1]+2]),this.padField(this._field[2],j),this.shape=j.shape.slice();for(var he=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(f.freeFloat(this._field[me].data),this._field[me].data=f.mallocFloat(this._field[2].size)),this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2]);if($.coords){var we=$.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Te=we[me];for(_e=0;_e<2;++_e)if(Te.shape[_e]!==he[_e])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Te)}}else if($.ticks){var Le=$.ticks;if(!Array.isArray(Le)||Le.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var Ie=Le[me];if((Array.isArray(Ie)||Ie.length)&&(Ie=T(Ie)),Ie.shape[0]!==he[me])throw new Error("gl-surface: invalid tick length");var ze=T(Ie.data,he);ze.stride[me]=Ie.stride[0],ze.stride[me^1]=0,this.padField(this._field[me],ze)}}else{for(me=0;me<2;++me){var Me=[0,0];Me[me]=1,this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2],Me,0)}this._field[0].set(0,0,0);for(var _e=0;_e<he[0];++_e)this._field[0].set(_e+1,0,_e);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),_e=0;_e<he[1];++_e)this._field[1].set(0,_e+1,_e);this._field[1].set(0,he[1]+1,he[1]-1)}var Ce=this._field,Oe=T(f.mallocFloat(Ce[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(me=0;me<3;++me)A(Oe.pick(me),Ce[me],"mirror");var Pe=T(f.mallocFloat(Ce[2].size*3),[he[0]+2,he[1]+2,3]);for(me=0;me<he[0]+2;++me)for(_e=0;_e<he[1]+2;++_e){var Ge=Oe.get(0,me,_e,0),Ze=Oe.get(0,me,_e,1),it=Oe.get(1,me,_e,0),Je=Oe.get(1,me,_e,1),et=Oe.get(2,me,_e,0),ft=Oe.get(2,me,_e,1),vt=it*ft-Je*et,dt=et*Ze-ft*Ge,xt=Ge*Je-Ze*it,Mt=Math.sqrt(vt*vt+dt*dt+xt*xt);Mt<1e-8?(Mt=Math.max(Math.abs(vt),Math.abs(dt),Math.abs(xt)),Mt<1e-8?(xt=1,dt=vt=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),Pe.set(me,_e,0,vt*Mt),Pe.set(me,_e,1,dt*Mt),Pe.set(me,_e,2,xt*Mt)}f.free(Oe.data);var nt=[1/0,1/0,1/0],Fe=[-1/0,-1/0,-1/0],We=1/0,je=-1/0,Ke=(he[0]-1)*(he[1]-1)*6,ke=f.mallocFloat(t.nextPow2(10*Ke)),Ue=0,Ve=0;for(me=0;me<he[0]-1;++me)e:for(_e=0;_e<he[1]-1;++_e){for(var Re=0;Re<2;++Re)for(var de=0;de<2;++de)for(var be=0;be<3;++be){var Ne=this._field[be].get(1+me+Re,1+_e+de);if(isNaN(Ne)||!isFinite(Ne))continue e}for(be=0;be<6;++be){var Ye=me+_[be][0],at=_e+_[be][1],lt=this._field[0].get(Ye+1,at+1),Ht=this._field[1].get(Ye+1,at+1);Ne=this._field[2].get(Ye+1,at+1),vt=Pe.get(Ye+1,at+1,0),dt=Pe.get(Ye+1,at+1,1),xt=Pe.get(Ye+1,at+1,2),$.intensity&&(Yt=$.intensity.get(Ye,at));var Yt=$.intensity?$.intensity.get(Ye,at):Ne+this.objectOffset[2];ke[Ue++]=Ye,ke[Ue++]=at,ke[Ue++]=lt,ke[Ue++]=Ht,ke[Ue++]=Ne,ke[Ue++]=0,ke[Ue++]=Yt,ke[Ue++]=vt,ke[Ue++]=dt,ke[Ue++]=xt,nt[0]=Math.min(nt[0],lt+this.objectOffset[0]),nt[1]=Math.min(nt[1],Ht+this.objectOffset[1]),nt[2]=Math.min(nt[2],Ne+this.objectOffset[2]),We=Math.min(We,Yt),Fe[0]=Math.max(Fe[0],lt+this.objectOffset[0]),Fe[1]=Math.max(Fe[1],Ht+this.objectOffset[1]),Fe[2]=Math.max(Fe[2],Ne+this.objectOffset[2]),je=Math.max(je,Yt),Ve+=1}}for($.intensityBounds&&(We=+$.intensityBounds[0],je=+$.intensityBounds[1]),me=6;me<Ue;me+=10)ke[me]=(ke[me]-We)/(je-We);this._vertexCount=Ve,this._coordinateBuffer.update(ke.subarray(0,Ue)),f.freeFloat(ke),f.free(Pe.data),this.bounds=[nt,Fe],this.intensity=$.intensity||this._field[2],(this.intensityBounds[0]!==We||this.intensityBounds[1]!==je)&&(se=!0),this.intensityBounds=[We,je]}if("levels"in $){var Tt=$.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],me=0;me<3;++me)Tt[me]=Tt[me].slice(),Tt[me].sort(function(Qe,rt){return Qe-rt});for(me=0;me<3;++me)for(_e=0;_e<Tt[me].length;++_e)Tt[me][_e]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(Tt[me].length!==this.contourLevels[me].length){se=!0;break}for(_e=0;_e<Tt[me].length;++_e)if(Tt[me][_e]!==this.contourLevels[me][_e]){se=!0;break e}}this.contourLevels=Tt}if(se){Ce=this._field,he=this.shape;for(var Lt=[],Kt=0;Kt<3;++Kt){var vr=this.contourLevels[Kt],gt=[],Xt=[],$t=[0,0,0];for(me=0;me<vr.length;++me){var mr=h(this._field[Kt],vr[me]);gt.push(Lt.length/5|0),Ve=0;e:for(_e=0;_e<mr.cells.length;++_e){var or=mr.cells[_e];for(be=0;be<2;++be){var yt=mr.positions[or[be]],ut=yt[0],bt=Math.floor(ut)|0,Et=ut-bt,It=yt[1],Ft=Math.floor(It)|0,Ot=It-Ft,Nt=!1;t:for(var Jt=0;Jt<3;++Jt){$t[Jt]=0;var hr=(Kt+Jt+1)%3;for(Re=0;Re<2;++Re){var cr=Re?Et:1-Et;for(Ye=Math.min(Math.max(bt+Re,0),he[0])|0,de=0;de<2;++de){var dr=de?Ot:1-Ot;if(at=Math.min(Math.max(Ft+de,0),he[1])|0,Jt<2?Ne=this._field[hr].get(Ye,at):Ne=(this.intensity.get(Ye,at)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ne)||isNaN(Ne)){Nt=!0;break t}var fr=cr*dr;$t[Jt]+=fr*Ne}}}if(!Nt)Lt.push($t[0],$t[1],yt[0],yt[1],$t[2]),Ve+=1;else{if(be>0){for(var Lr=0;Lr<5;++Lr)Lt.pop();Ve-=1}continue e}}}Xt.push(Ve)}this._contourOffsets[Kt]=gt,this._contourCounts[Kt]=Xt}var xr=f.mallocFloat(Lt.length);for(me=0;me<Lt.length;++me)xr[me]=Lt[me];this._contourBuffer.update(xr),f.freeFloat(xr)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var $=0;$<3;++$)f.freeFloat(this._field[$].data)},B.highlight=function($){var j;if(!$){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(j=0;j<3;++j)this.enableHighlight[j]?this.highlightLevel[j]=$.level[j]:this.highlightLevel[j]=-1;var se;for(this.snapToData?se=$.dataCoordinate:se=$.position,j=0;j<3;++j)se[j]-=this.objectOffset[j];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ne=0,he=this.shape,me=f.mallocFloat(12*he[0]*he[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=se[we];var Te=(we+1)%3,Le=(we+2)%3,Ie=this._field[we],ze=this._field[Te],Me=this._field[Le],_e=h(Ie,se[we]),Ce=_e.cells,Oe=_e.positions;for(this._dynamicOffsets[we]=ne,j=0;j<Ce.length;++j)for(var Pe=Ce[j],Ge=0;Ge<2;++Ge){var Ze=Oe[Pe[Ge]],it=+Ze[0],Je=it|0,et=Math.min(Je+1,he[0])|0,ft=it-Je,vt=1-ft,dt=+Ze[1],xt=dt|0,Mt=Math.min(xt+1,he[1])|0,nt=dt-xt,Fe=1-nt,We=vt*Fe,je=vt*nt,Ke=ft*Fe,ke=ft*nt,Ue=We*ze.get(Je,xt)+je*ze.get(Je,Mt)+Ke*ze.get(et,xt)+ke*ze.get(et,Mt),Ve=We*Me.get(Je,xt)+je*Me.get(Je,Mt)+Ke*Me.get(et,xt)+ke*Me.get(et,Mt);if(isNaN(Ue)||isNaN(Ve)){Ge&&(ne-=1);break}me[2*ne+0]=Ue,me[2*ne+1]=Ve,ne+=1}this._dynamicCounts[we]=ne-this._dynamicOffsets[we]}this._dynamicBuffer.update(me.subarray(0,2*ne)),f.freeFloat(me)}};function le($){var j=$.gl,se=m(j),ne=M(j),he=L(j),me=s(j),we=o(j),Te=a(j,[{buffer:we,size:4,stride:S,offset:0},{buffer:we,size:3,stride:S,offset:16},{buffer:we,size:3,stride:S,offset:28}]),Le=o(j),Ie=a(j,[{buffer:Le,size:4,stride:20,offset:0},{buffer:Le,size:1,stride:20,offset:16}]),ze=o(j),Me=a(j,[{buffer:ze,size:2,type:j.FLOAT}]),_e=u(j,1,O,j.RGBA,j.UNSIGNED_BYTE);_e.minFilter=j.LINEAR,_e.magFilter=j.LINEAR;var Ce=new V(j,[0,0],[[0,0,0],[0,0,0]],se,ne,we,Te,_e,he,me,Le,Ie,ze,Me,[0,0,0]),Oe={levels:[[],[],[]]};for(var Pe in $)Oe[Pe]=$[Pe];return Oe.colormap=Oe.colormap||"jet",Ce.update(Oe),Ce}},7766:function(v,p,r){var t=r(9618),o=r(5298),a=r(1888);v.exports=s;var u=null,f=null,l=null;function y(S){u=[S.LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],f=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],l=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]}function c(S){return typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&S instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&S instanceof HTMLVideoElement||typeof ImageData<"u"&&S instanceof ImageData}var T=function(S,w){o.muls(S,w,255)};function h(S,w,_){var I=S.gl,H=I.getParameter(I.MAX_TEXTURE_SIZE);if(w<0||w>H||_<0||_>H)throw new Error("gl-texture2d: Invalid texture size");return S._shape=[w,_],S.bind(),I.texImage2D(I.TEXTURE_2D,0,S.format,w,_,0,S.format,S.type,null),S._mipLevels=[0],S}function i(S,w,_,I,H,O){this.gl=S,this.handle=w,this.format=H,this.type=O,this._shape=[_,I],this._mipLevels=[0],this._magFilter=S.NEAREST,this._minFilter=S.NEAREST,this._wrapS=S.CLAMP_TO_EDGE,this._wrapT=S.CLAMP_TO_EDGE,this._anisoSamples=1;var V=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return V._wrapS},set:function(G){return V.wrapS=G}},{get:function(){return V._wrapT},set:function(G){return V.wrapT=G}}]),this._wrapVector=B;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return V._shape[0]},set:function(G){return V.width=G}},{get:function(){return V._shape[1]},set:function(G){return V.height=G}}]),this._shapeVector=F}var g=i.prototype;Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(S){this.bind();var w=this.gl;if(this.type===w.FLOAT&&u.indexOf(S)>=0&&(w.getExtension("OES_texture_float_linear")||(S=w.NEAREST)),f.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,S),this._minFilter=S}},magFilter:{get:function(){return this._magFilter},set:function(S){this.bind();var w=this.gl;if(this.type===w.FLOAT&&u.indexOf(S)>=0&&(w.getExtension("OES_texture_float_linear")||(S=w.NEAREST)),f.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,S),this._magFilter=S}},mipSamples:{get:function(){return this._anisoSamples},set:function(S){var w=this._anisoSamples;if(this._anisoSamples=Math.max(S,1)|0,w!==this._anisoSamples){var _=this.gl.getExtension("EXT_texture_filter_anisotropic");_&&this.gl.texParameterf(this.gl.TEXTURE_2D,_.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(S){if(this.bind(),l.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,S),this._wrapS=S}},wrapT:{get:function(){return this._wrapT},set:function(S){if(this.bind(),l.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,S),this._wrapT=S}},wrap:{get:function(){return this._wrapVector},set:function(S){if(Array.isArray(S)||(S=[S,S]),S.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var w=0;w<2;++w)if(l.indexOf(S[w])<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);this._wrapS=S[0],this._wrapT=S[1];var _=this.gl;return this.bind(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,this._wrapS),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,this._wrapT),S}},shape:{get:function(){return this._shapeVector},set:function(S){if(!Array.isArray(S))S=[S|0,S|0];else if(S.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,S[0]|0,S[1]|0),[S[0]|0,S[1]|0]}},width:{get:function(){return this._shape[0]},set:function(S){return S=S|0,h(this,S,this._shape[1]),S}},height:{get:function(){return this._shape[1]},set:function(S){return S=S|0,h(this,this._shape[0],S),S}}}),g.bind=function(S){var w=this.gl;return S!==void 0&&w.activeTexture(w.TEXTURE0+(S|0)),w.bindTexture(w.TEXTURE_2D,this.handle),S!==void 0?S|0:w.getParameter(w.ACTIVE_TEXTURE)-w.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var S=Math.min(this._shape[0],this._shape[1]),w=0;S>0;++w,S>>>=1)this._mipLevels.indexOf(w)<0&&this._mipLevels.push(w)},g.setPixels=function(S,w,_,I){var H=this.gl;this.bind(),Array.isArray(w)?(I=_,_=w[1]|0,w=w[0]|0):(w=w||0,_=_||0),I=I||0;var O=c(S)?S:S.raw;if(O){var V=this._mipLevels.indexOf(I)<0;V?(H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,this.type,O),this._mipLevels.push(I)):H.texSubImage2D(H.TEXTURE_2D,I,w,_,this.format,this.type,O)}else if(S.shape&&S.stride&&S.data){if(S.shape.length<2||w+S.shape[1]>this._shape[1]>>>I||_+S.shape[0]>this._shape[0]>>>I||w<0||_<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(H,w,_,I,this.format,this.type,this._mipLevels,S)}else throw new Error("gl-texture2d: Unsupported data type")};function b(S,w){return S.length===3?w[2]===1&&w[1]===S[0]*S[2]&&w[0]===S[2]:w[0]===1&&w[1]===S[0]}function A(S,w,_,I,H,O,V,B){var F=B.dtype,G=B.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,Q=0,te=b(G,B.stride.slice());if(F==="float32"?Y=S.FLOAT:F==="float64"?(Y=S.FLOAT,te=!1,F="float32"):F==="uint8"?Y=S.UNSIGNED_BYTE:(Y=S.UNSIGNED_BYTE,te=!1,F="uint8"),G.length===2)Q=S.LUMINANCE,G=[G[0],G[1],1],B=t(B.data,G,[B.stride[0],B.stride[1],1],B.offset);else if(G.length===3){if(G[2]===1)Q=S.ALPHA;else if(G[2]===2)Q=S.LUMINANCE_ALPHA;else if(G[2]===3)Q=S.RGB;else if(G[2]===4)Q=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");G[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((Q===S.LUMINANCE||Q===S.ALPHA)&&(H===S.LUMINANCE||H===S.ALPHA)&&(Q=H),Q!==H)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ae=B.size,fe=V.indexOf(I)<0;if(fe&&V.push(I),Y===O&&te)B.offset===0&&B.data.length===ae?fe?S.texImage2D(S.TEXTURE_2D,I,H,G[0],G[1],0,H,O,B.data):S.texSubImage2D(S.TEXTURE_2D,I,w,_,G[0],G[1],H,O,B.data):fe?S.texImage2D(S.TEXTURE_2D,I,H,G[0],G[1],0,H,O,B.data.subarray(B.offset,B.offset+ae)):S.texSubImage2D(S.TEXTURE_2D,I,w,_,G[0],G[1],H,O,B.data.subarray(B.offset,B.offset+ae));else{var oe;O===S.FLOAT?oe=a.mallocFloat32(ae):oe=a.mallocUint8(ae);var J=t(oe,G,[G[2],G[2]*G[0],1]);Y===S.FLOAT&&O===S.UNSIGNED_BYTE?T(J,B):o.assign(J,B),fe?S.texImage2D(S.TEXTURE_2D,I,H,G[0],G[1],0,H,O,oe.subarray(0,ae)):S.texSubImage2D(S.TEXTURE_2D,I,w,_,G[0],G[1],H,O,oe.subarray(0,ae)),O===S.FLOAT?a.freeFloat32(oe):a.freeUint8(oe)}}function R(S){var w=S.createTexture();return S.bindTexture(S.TEXTURE_2D,w),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),w}function m(S,w,_,I,H){var O=S.getParameter(S.MAX_TEXTURE_SIZE);if(w<0||w>O||_<0||_>O)throw new Error("gl-texture2d: Invalid texture shape");if(H===S.FLOAT&&!S.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var V=R(S);return S.texImage2D(S.TEXTURE_2D,0,I,w,_,0,I,H,null),new i(S,V,w,_,I,H)}function L(S,w,_,I,H,O){var V=R(S);return S.texImage2D(S.TEXTURE_2D,0,H,H,O,w),new i(S,V,_,I,H,O)}function M(S,w){var _=w.dtype,I=w.shape.slice(),H=S.getParameter(S.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>H||I[1]<0||I[1]>H)throw new Error("gl-texture2d: Invalid texture size");var O=b(I,w.stride.slice()),V=0;_==="float32"?V=S.FLOAT:_==="float64"?(V=S.FLOAT,O=!1,_="float32"):_==="uint8"?V=S.UNSIGNED_BYTE:(V=S.UNSIGNED_BYTE,O=!1,_="uint8");var B=0;if(I.length===2)B=S.LUMINANCE,I=[I[0],I[1],1],w=t(w.data,I,[w.stride[0],w.stride[1],1],w.offset);else if(I.length===3)if(I[2]===1)B=S.ALPHA;else if(I[2]===2)B=S.LUMINANCE_ALPHA;else if(I[2]===3)B=S.RGB;else if(I[2]===4)B=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");V===S.FLOAT&&!S.getExtension("OES_texture_float")&&(V=S.UNSIGNED_BYTE,O=!1);var F,G,Y=w.size;if(O)w.offset===0&&w.data.length===Y?F=w.data:F=w.data.subarray(w.offset,w.offset+Y);else{var Q=[I[2],I[2]*I[0],1];G=a.malloc(Y,_);var te=t(G,I,Q,0);(_==="float32"||_==="float64")&&V===S.UNSIGNED_BYTE?T(te,w):o.assign(te,w),F=G.subarray(0,Y)}var ae=R(S);return S.texImage2D(S.TEXTURE_2D,0,B,I[0],I[1],0,B,V,F),O||a.free(G),new i(S,ae,I[0],I[1],B,V)}function s(S){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||y(S),typeof arguments[1]=="number")return m(S,arguments[1],arguments[2],arguments[3]||S.RGBA,arguments[4]||S.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(S,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var w=arguments[1],_=c(w)?w:w.raw;if(_)return L(S,_,w.width|0,w.height|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(w.shape&&w.data&&w.stride)return M(S,w)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function p(r,t,o){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var a=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(o){if(o.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<o.length;++u){var f=o[u];if(f.buffer){var l=f.buffer,y=f.size||4,c=f.type||r.FLOAT,T=!!f.normalized,h=f.stride||0,i=f.offset||0;l.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,y,c,T,h,i)}else{if(typeof f=="number")r.vertexAttrib1f(u,f);else if(f.length===1)r.vertexAttrib1f(u,f[0]);else if(f.length===2)r.vertexAttrib2f(u,f[0],f[1]);else if(f.length===3)r.vertexAttrib3f(u,f[0],f[1],f[2]);else if(f.length===4)r.vertexAttrib4f(u,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<a;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<a;++u)r.disableVertexAttribArray(u)}}v.exports=p},870:function(v,p,r){var t=r(1433);function o(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}o.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},o.prototype.update=function(u,f,l){this._elements=f,this._attributes=u,this._elementsType=l||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(u,f,l){l=l||0;var y=this.gl;this._elements?y.drawElements(u,f,this._elementsType,l):y.drawArrays(u,l,f)};function a(u){return new o(u)}v.exports=a},7518:function(v,p,r){var t=r(1433);function o(f,l,y,c,T,h){this.location=f,this.dimension=l,this.a=y,this.b=c,this.c=T,this.d=h}o.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(f,l,y){this.gl=f,this._ext=l,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(f,l,y){if(this.bind(),t(this.gl,l,f),this.unbind(),this._attribs.length=0,f)for(var c=0;c<f.length;++c){var T=f[c];typeof T=="number"?this._attribs.push(new o(c,1,T)):Array.isArray(T)&&this._attribs.push(new o(c,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=y||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(f,l,y){y=y||0;var c=this.gl;this._useElements?c.drawElements(f,l,this._elementsType,y):c.drawArrays(f,y,l)};function u(f,l){return new a(f,l,l.createVertexArrayOES())}v.exports=u},8116:function(v,p,r){var t=r(7518),o=r(870);function a(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function u(f,l,y,c){var T=f.createVertexArray?new a(f):f.getExtension("OES_vertex_array_object"),h;return T?h=t(f,T):h=o(f),h.update(l,y,c),h}v.exports=u},5632:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r}},8192:function(v,p,r){v.exports=u;var t=r(2825),o=r(3536),a=r(244);function u(f,l){var y=t(f[0],f[1],f[2]),c=t(l[0],l[1],l[2]);o(y,y),o(c,c);var T=a(y,c);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=o[0],y=o[1],c=o[2];return r[0]=u*c-f*y,r[1]=f*l-a*c,r[2]=a*y-u*l,r}},5455:function(v,p,r){v.exports=r(7056)},7056:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2];return Math.sqrt(o*o+a*a+u*u)}},4008:function(v,p,r){v.exports=r(6690)},6690:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r}},244:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,p,r){v.exports=o;var t=r(2613);function o(a,u){var f=a[0],l=a[1],y=a[2],c=u[0],T=u[1],h=u[2];return Math.abs(f-c)<=t*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(y-h)<=t*Math.max(1,Math.abs(y),Math.abs(h))}},9265:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,p,r){v.exports=o;var t=r(1091)();function o(a,u,f,l,y,c){var T,h;for(u||(u=3),f||(f=0),l?h=Math.min(l*u+f,a.length):h=a.length,T=f;T<h;T+=u)t[0]=a[T],t[1]=a[T+1],t[2]=a[T+2],y(t,t,c),a[T]=t[0],a[T+1]=t[1],a[T+2]=t[2];return a}},2825:function(v){v.exports=p;function p(r,t,o){var a=new Float32Array(3);return a[0]=r,a[1]=t,a[2]=o,a}},2931:function(v,p,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,p,r){v.exports=r(1387)},1387:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],a=r[2];return Math.sqrt(t*t+o*o+a*a)}},6658:function(v){v.exports=p;function p(r,t,o,a){var u=t[0],f=t[1],l=t[2];return r[0]=u+a*(o[0]-u),r[1]=f+a*(o[1]-f),r[2]=l+a*(o[2]-l),r}},7417:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r}},8107:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r}},4505:function(v,p,r){v.exports=r(5847)},5847:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r}},5093:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=p;function p(r,t){var o=t[0],a=t[1],u=t[2],f=o*o+a*a+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=t[0]*f,r[1]=t[1]*f,r[2]=t[2]*f),r}},7636:function(v){v.exports=p;function p(r,t){t=t||1;var o=Math.random()*2*Math.PI,a=Math.random()*2-1,u=Math.sqrt(1-a*a)*t;return r[0]=Math.cos(o)*u,r[1]=Math.sin(o)*u,r[2]=a*t,r}},6894:function(v){v.exports=p;function p(r,t,o,a){var u=o[1],f=o[2],l=t[1]-u,y=t[2]-f,c=Math.sin(a),T=Math.cos(a);return r[0]=t[0],r[1]=u+l*T-y*c,r[2]=f+l*c+y*T,r}},109:function(v){v.exports=p;function p(r,t,o,a){var u=o[0],f=o[2],l=t[0]-u,y=t[2]-f,c=Math.sin(a),T=Math.cos(a);return r[0]=u+y*c+l*T,r[1]=t[1],r[2]=f+y*T-l*c,r}},8692:function(v){v.exports=p;function p(r,t,o,a){var u=o[0],f=o[1],l=t[0]-u,y=t[1]-f,c=Math.sin(a),T=Math.cos(a);return r[0]=u+l*T-y*c,r[1]=f+l*c+y*T,r[2]=t[2],r}},2447:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r}},8489:function(v){v.exports=p;function p(r,t,o,a){return r[0]=t[0]+o[0]*a,r[1]=t[1]+o[1]*a,r[2]=t[2]+o[2]*a,r}},1463:function(v){v.exports=p;function p(r,t,o,a){return r[0]=t,r[1]=o,r[2]=a,r}},6141:function(v,p,r){v.exports=r(2953)},5486:function(v,p,r){v.exports=r(3066)},2953:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2];return o*o+a*a+u*u}},3066:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],a=r[2];return t*t+o*o+a*a}},2229:function(v,p,r){v.exports=r(6843)},6843:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r}},492:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2];return r[0]=a*o[0]+u*o[3]+f*o[6],r[1]=a*o[1]+u*o[4]+f*o[7],r[2]=a*o[2]+u*o[5]+f*o[8],r}},5673:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=o[3]*a+o[7]*u+o[11]*f+o[15];return l=l||1,r[0]=(o[0]*a+o[4]*u+o[8]*f+o[12])/l,r[1]=(o[1]*a+o[5]*u+o[9]*f+o[13])/l,r[2]=(o[2]*a+o[6]*u+o[10]*f+o[14])/l,r}},264:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=o[0],y=o[1],c=o[2],T=o[3],h=T*a+y*f-c*u,i=T*u+c*a-l*f,g=T*f+l*u-y*a,b=-l*a-y*u-c*f;return r[0]=h*T+b*-l+i*-c-g*-y,r[1]=i*T+b*-y+g*-l-h*-c,r[2]=g*T+b*-c+h*-y-i*-l,r}},4361:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r[3]=t[3]+o[3],r}},2335:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return Math.sqrt(o*o+a*a+u*u+f*f)}},1373:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r[3]=t[3]/o[3],r}},3750:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=p;function p(r,t,o,a){var u=new Float32Array(4);return u[0]=r,u[1]=t,u[2]=o,u[3]=a,u}},9970:function(v,p,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],a=r[2],u=r[3];return Math.sqrt(t*t+o*o+a*a+u*u)}},2573:function(v){v.exports=p;function p(r,t,o,a){var u=t[0],f=t[1],l=t[2],y=t[3];return r[0]=u+a*(o[0]-u),r[1]=f+a*(o[1]-f),r[2]=l+a*(o[2]-l),r[3]=y+a*(o[3]-y),r}},160:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r[3]=Math.max(t[3],o[3]),r}},2334:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r[3]=Math.min(t[3],o[3]),r}},3576:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r[3]=t[3]*o[3],r}},1498:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=p;function p(r,t){var o=t[0],a=t[1],u=t[2],f=t[3],l=o*o+a*a+u*u+f*f;return l>0&&(l=1/Math.sqrt(l),r[0]=o*l,r[1]=a*l,r[2]=u*l,r[3]=f*l),r}},9131:function(v,p,r){var t=r(5177),o=r(9288);v.exports=a;function a(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),t(u,u),o(u,u,f),u}},9288:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=t[3]*o,r}},4844:function(v){v.exports=p;function p(r,t,o,a){return r[0]=t[0]+o[0]*a,r[1]=t[1]+o[1]*a,r[2]=t[2]+o[2]*a,r[3]=t[3]+o[3]*a,r}},4578:function(v){v.exports=p;function p(r,t,o,a,u){return r[0]=t,r[1]=o,r[2]=a,r[3]=u,r}},7960:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return o*o+a*a+u*u+f*f}},483:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],a=r[2],u=r[3];return t*t+o*o+a*a+u*u}},6860:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r[3]=t[3]-o[3],r}},5352:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=t[3];return r[0]=o[0]*a+o[4]*u+o[8]*f+o[12]*l,r[1]=o[1]*a+o[5]*u+o[9]*f+o[13]*l,r[2]=o[2]*a+o[6]*u+o[10]*f+o[14]*l,r[3]=o[3]*a+o[7]*u+o[11]*f+o[15]*l,r}},4041:function(v){v.exports=p;function p(r,t,o){var a=t[0],u=t[1],f=t[2],l=o[0],y=o[1],c=o[2],T=o[3],h=T*a+y*f-c*u,i=T*u+c*a-l*f,g=T*f+l*u-y*a,b=-l*a-y*u-c*f;return r[0]=h*T+b*-l+i*-c-g*-y,r[1]=i*T+b*-y+g*-l-h*-c,r[2]=g*T+b*-c+h*-y-i*-l,r[3]=t[3],r}},1848:function(v,p,r){var t=r(4905),o=r(6468);v.exports=a;function a(u){for(var f=Array.isArray(u)?u:t(u),l=0;l<f.length;l++){var y=f[l];if(y.type==="preprocessor"){var c=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var T=c[1],h=c[2];return(T?o(h):h).trim()}}}}},5874:function(v,p,r){v.exports=w;var t=r(620),o=r(7827),a=r(6852),u=r(7932),f=r(3508),l=999,y=9999,c=0,T=1,h=2,i=3,g=4,b=5,A=6,R=7,m=8,L=9,M=10,s=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function w(_){var I=0,H=0,O=l,V,B,F=[],G=[],Y=1,Q=0,te=0,ae=!1,fe=!1,oe="",J;_=_||{};var ee=a,X=t;_.version==="300 es"&&(ee=f,X=u);for(var q={},le={},I=0;I<ee.length;I++)q[ee[I]]=!0;for(var I=0;I<X.length;I++)le[X[I]]=!0;return function(Oe){return G=[],Oe!==null?j(Oe):se()};function $(Oe){Oe.length&&G.push({type:S[O],data:Oe,position:te,line:Y,column:Q})}function j(Oe){I=0,Oe.toString&&(Oe=Oe.toString()),oe+=Oe.replace(/\r\n/g,`
`),J=oe.length;for(var Pe;V=oe[I],I<J;){switch(Pe=I,O){case c:I=Te();break;case T:I=we();break;case h:I=me();break;case i:I=Le();break;case g:I=Me();break;case s:I=ze();break;case b:I=_e();break;case y:I=Ce();break;case L:I=he();break;case l:I=ne();break}if(Pe!==I)switch(oe[Pe]){case`
`:Q=0,++Y;break;default:++Q;break}}return H+=I,oe=oe.slice(I),G}function se(Oe){return F.length&&$(F.join("")),O=M,$("(eof)"),G}function ne(){return F=F.length?[]:F,B==="/"&&V==="*"?(te=H+I-1,O=c,B=V,I+1):B==="/"&&V==="/"?(te=H+I-1,O=T,B=V,I+1):V==="#"?(O=h,te=H+I,I):/\s/.test(V)?(O=L,te=H+I,I):(ae=/\d/.test(V),fe=/[^\w_]/.test(V),te=H+I,O=ae?g:fe?i:y,I)}function he(){return/[^\s]/g.test(V)?($(F.join("")),O=l,I):(F.push(V),B=V,I+1)}function me(){return(V==="\r"||V===`
`)&&B!=="\\"?($(F.join("")),O=l,I):(F.push(V),B=V,I+1)}function we(){return me()}function Te(){return V==="/"&&B==="*"?(F.push(V),$(F.join("")),O=l,I+1):(F.push(V),B=V,I+1)}function Le(){if(B==="."&&/\d/.test(V))return O=b,I;if(B==="/"&&V==="*")return O=c,I;if(B==="/"&&V==="/")return O=T,I;if(V==="."&&F.length){for(;Ie(F););return O=b,I}if(V===";"||V===")"||V==="("){if(F.length)for(;Ie(F););return $(V),O=l,I+1}var Oe=F.length===2&&V!=="=";if(/[\w_\d\s]/.test(V)||Oe){for(;Ie(F););return O=l,I}return F.push(V),B=V,I+1}function Ie(Oe){var Pe=0,Ge,Ze;do{if(Ge=o.indexOf(Oe.slice(0,Oe.length+Pe).join("")),Ze=o[Ge],Ge===-1){if(Pe--+Oe.length>0)continue;Ze=Oe.slice(0,1).join("")}return $(Ze),te+=Ze.length,F=F.slice(Ze.length),F.length}while(!0)}function ze(){return/[^a-fA-F0-9]/.test(V)?($(F.join("")),O=l,I):(F.push(V),B=V,I+1)}function Me(){return V==="."||/[eE]/.test(V)?(F.push(V),O=b,B=V,I+1):V==="x"&&F.length===1&&F[0]==="0"?(O=s,F.push(V),B=V,I+1):/[^\d]/.test(V)?($(F.join("")),O=l,I):(F.push(V),B=V,I+1)}function _e(){return V==="f"&&(F.push(V),B=V,I+=1),/[eE]/.test(V)||(V==="-"||V==="+")&&/[eE]/.test(B)?(F.push(V),B=V,I+1):/[^\d]/.test(V)?($(F.join("")),O=l,I):(F.push(V),B=V,I+1)}function Ce(){if(/[^\d\w_]/.test(V)){var Oe=F.join("");return le[Oe]?O=m:q[Oe]?O=R:O=A,$(F.join("")),O=l,I}return F.push(V),B=V,I+1}}},3508:function(v,p,r){var t=r(6852);t=t.slice().filter(function(o){return!/^(gl\_|texture)/.test(o)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,p,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,p,r){var t=r(5874);v.exports=o;function o(a,u){var f=t(u),l=[];return l=l.concat(f(a)),l=l.concat(f(null)),l}},3236:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],o=0;o<p.length-1;o++)t.push(p[o],r[o]||"");return t.push(p[o]),t.join("")}},7520:function(v,p,r){var t=r(9507);function o(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{a=!1}return a}v.exports=t&&o()},3778:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,o,a,u){var f,l,y=u*8-a-1,c=(1<<y)-1,T=c>>1,h=-7,i=o?u-1:0,g=o?-1:1,b=r[t+i];for(i+=g,f=b&(1<<-h)-1,b>>=-h,h+=y;h>0;f=f*256+r[t+i],i+=g,h-=8);for(l=f&(1<<-h)-1,f>>=-h,h+=a;h>0;l=l*256+r[t+i],i+=g,h-=8);if(f===0)f=1-T;else{if(f===c)return l?NaN:(b?-1:1)*(1/0);l=l+Math.pow(2,a),f=f-T}return(b?-1:1)*l*Math.pow(2,f-a)},p.write=function(r,t,o,a,u,f){var l,y,c,T=f*8-u-1,h=(1<<T)-1,i=h>>1,g=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=a?0:f-1,A=a?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,l=h):(l=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+i>=1?t+=g/c:t+=g*Math.pow(2,1-i),t*c>=2&&(l++,c/=2),l+i>=h?(y=0,l=h):l+i>=1?(y=(t*c-1)*Math.pow(2,u),l=l+i):(y=t*Math.pow(2,i-1)*Math.pow(2,u),l=0));u>=8;r[o+b]=y&255,b+=A,y/=256,u-=8);for(l=l<<u|y,T+=u;T>0;r[o+b]=l&255,b+=A,l/=256,T-=8);r[o+b-A]|=R*128}},8954:function(v,p,r){v.exports=i;var t=r(3250),o=r(6803).Fw;function a(g,b,A){this.vertices=g,this.adjacent=b,this.boundary=A,this.lastVisited=-1}a.prototype.flip=function(){var g=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=g;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};function u(g,b,A){this.vertices=g,this.cell=b,this.index=A}function f(g,b){return o(g.vertices,b.vertices)}function l(g){return function(){var b=this.tuple;return g.apply(this,b)}}function y(g){var b=t[g+1];return b||(b=t),l(b)}var c=[];function T(g,b,A){this.dimension=g,this.vertices=b,this.simplices=A,this.interior=A.filter(function(L){return!L.boundary}),this.tuple=new Array(g+1);for(var R=0;R<=g;++R)this.tuple[R]=this.vertices[R];var m=c[g];m||(m=c[g]=y(g)),this.orient=m}var h=T.prototype;h.handleBoundaryDegeneracy=function(g,b){var A=this.dimension,R=this.vertices.length-1,m=this.tuple,L=this.vertices,M=[g];for(g.lastVisited=-R;M.length>0;){g=M.pop();for(var s=g.adjacent,S=0;S<=A;++S){var w=s[S];if(!(!w.boundary||w.lastVisited<=-R)){for(var _=w.vertices,I=0;I<=A;++I){var H=_[I];H<0?m[I]=b:m[I]=L[H]}var O=this.orient();if(O>0)return w;w.lastVisited=-R,O===0&&M.push(w)}}}return null},h.walk=function(g,b){var A=this.vertices.length-1,R=this.dimension,m=this.vertices,L=this.tuple,M=b?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[M];e:for(;!s.boundary;){for(var S=s.vertices,w=s.adjacent,_=0;_<=R;++_)L[_]=m[S[_]];s.lastVisited=A;for(var _=0;_<=R;++_){var I=w[_];if(!(I.lastVisited>=A)){var H=L[_];L[_]=g;var O=this.orient();if(L[_]=H,O<0){s=I;continue e}else I.boundary?I.lastVisited=-A:I.lastVisited=A}}return}return s},h.addPeaks=function(g,b){var A=this.vertices.length-1,R=this.dimension,m=this.vertices,L=this.tuple,M=this.interior,s=this.simplices,S=[b];b.lastVisited=A,b.vertices[b.vertices.indexOf(-1)]=A,b.boundary=!1,M.push(b);for(var w=[];S.length>0;){var b=S.pop(),_=b.vertices,I=b.adjacent,H=_.indexOf(A);if(!(H<0)){for(var O=0;O<=R;++O)if(O!==H){var V=I[O];if(!(!V.boundary||V.lastVisited>=A)){var B=V.vertices;if(V.lastVisited!==-A){for(var F=0,G=0;G<=R;++G)B[G]<0?(F=G,L[G]=g):L[G]=m[B[G]];var Y=this.orient();if(Y>0){B[F]=A,V.boundary=!1,M.push(V),S.push(V),V.lastVisited=A;continue}else V.lastVisited=-A}var Q=V.adjacent,te=_.slice(),ae=I.slice(),fe=new a(te,ae,!0);s.push(fe);var oe=Q.indexOf(b);if(!(oe<0)){Q[oe]=fe,ae[H]=V,te[O]=-1,ae[O]=b,I[O]=fe,fe.flip();for(var G=0;G<=R;++G){var J=te[G];if(!(J<0||J===A)){for(var ee=new Array(R-1),X=0,q=0;q<=R;++q){var le=te[q];le<0||q===G||(ee[X++]=le)}w.push(new u(ee,fe,G))}}}}}}}w.sort(f);for(var O=0;O+1<w.length;O+=2){var $=w[O],j=w[O+1],se=$.index,ne=j.index;se<0||ne<0||($.cell.adjacent[$.index]=j.cell,j.cell.adjacent[j.index]=$.cell)}},h.insert=function(g,b){var A=this.vertices;A.push(g);var R=this.walk(g,b);if(R){for(var m=this.dimension,L=this.tuple,M=0;M<=m;++M){var s=R.vertices[M];s<0?L[M]=g:L[M]=A[s]}var S=this.orient(L);S<0||S===0&&(R=this.handleBoundaryDegeneracy(R,g),!R)||this.addPeaks(g,R)}},h.boundary=function(){for(var g=this.dimension,b=[],A=this.simplices,R=A.length,m=0;m<R;++m){var L=A[m];if(L.boundary){for(var M=new Array(g),s=L.vertices,S=0,w=0,_=0;_<=g;++_)s[_]>=0?M[S++]=s[_]:w=_&1;if(w===(g&1)){var I=M[0];M[0]=M[1],M[1]=I}b.push(M)}}return b};function i(g,b){var A=g.length;if(A===0)throw new Error("Must have at least d+1 points");var R=g[0].length;if(A<=R)throw new Error("Must input at least d+1 points");var m=g.slice(0,R+1),L=t.apply(void 0,m);if(L===0)throw new Error("Input not in general position");for(var M=new Array(R+1),s=0;s<=R;++s)M[s]=s;L<0&&(M[0]=1,M[1]=0);for(var S=new a(M,new Array(R+1),!1),w=S.adjacent,_=new Array(R+2),s=0;s<=R;++s){for(var I=M.slice(),H=0;H<=R;++H)H===s&&(I[H]=-1);var O=I[0];I[0]=I[1],I[1]=O;var V=new a(I,new Array(R+1),!0);w[s]=V,_[s]=V}_[R+1]=S;for(var s=0;s<=R;++s)for(var I=w[s].vertices,B=w[s].adjacent,H=0;H<=R;++H){var F=I[H];if(F<0){B[H]=S;continue}for(var G=0;G<=R;++G)w[G].vertices.indexOf(F)<0&&(B[H]=w[G])}for(var Y=new T(R,m,_),Q=!!b,s=R+1;s<A;++s)Y.insert(g[s],Q);return Y.boundary()}},3352:function(v,p,r){var t=r(2478),o=0,a=1,u=2;v.exports=S;function f(w,_,I,H,O){this.mid=w,this.left=_,this.right=I,this.leftPoints=H,this.rightPoints=O,this.count=(_?_.count:0)+(I?I.count:0)+H.length}var l=f.prototype;function y(w,_){w.mid=_.mid,w.left=_.left,w.right=_.right,w.leftPoints=_.leftPoints,w.rightPoints=_.rightPoints,w.count=_.count}function c(w,_){var I=L(_);w.mid=I.mid,w.left=I.left,w.right=I.right,w.leftPoints=I.leftPoints,w.rightPoints=I.rightPoints,w.count=I.count}function T(w,_){var I=w.intervals([]);I.push(_),c(w,I)}function h(w,_){var I=w.intervals([]),H=I.indexOf(_);return H<0?o:(I.splice(H,1),c(w,I),a)}l.intervals=function(w){return w.push.apply(w,this.leftPoints),this.left&&this.left.intervals(w),this.right&&this.right.intervals(w),w},l.insert=function(w){var _=this.count-this.leftPoints.length;if(this.count+=1,w[1]<this.mid)this.left?4*(this.left.count+1)>3*(_+1)?T(this,w):this.left.insert(w):this.left=L([w]);else if(w[0]>this.mid)this.right?4*(this.right.count+1)>3*(_+1)?T(this,w):this.right.insert(w):this.right=L([w]);else{var I=t.ge(this.leftPoints,w,R),H=t.ge(this.rightPoints,w,m);this.leftPoints.splice(I,0,w),this.rightPoints.splice(H,0,w)}},l.remove=function(w){var _=this.count-this.leftPoints;if(w[1]<this.mid){if(!this.left)return o;var I=this.right?this.right.count:0;if(4*I>3*(_-1))return h(this,w);var H=this.left.remove(w);return H===u?(this.left=null,this.count-=1,a):(H===a&&(this.count-=1),H)}else if(w[0]>this.mid){if(!this.right)return o;var O=this.left?this.left.count:0;if(4*O>3*(_-1))return h(this,w);var H=this.right.remove(w);return H===u?(this.right=null,this.count-=1,a):(H===a&&(this.count-=1),H)}else{if(this.count===1)return this.leftPoints[0]===w?u:o;if(this.leftPoints.length===1&&this.leftPoints[0]===w){if(this.left&&this.right){for(var V=this,B=this.left;B.right;)V=B,B=B.right;if(V===this)B.right=this.right;else{var F=this.left,H=this.right;V.count-=B.count,V.right=B.left,B.left=F,B.right=H}y(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return a}for(var F=t.ge(this.leftPoints,w,R);F<this.leftPoints.length&&this.leftPoints[F][0]===w[0];++F)if(this.leftPoints[F]===w){this.count-=1,this.leftPoints.splice(F,1);for(var H=t.ge(this.rightPoints,w,m);H<this.rightPoints.length&&this.rightPoints[H][1]===w[1];++H)if(this.rightPoints[H]===w)return this.rightPoints.splice(H,1),a}return o}};function i(w,_,I){for(var H=0;H<w.length&&w[H][0]<=_;++H){var O=I(w[H]);if(O)return O}}function g(w,_,I){for(var H=w.length-1;H>=0&&w[H][1]>=_;--H){var O=I(w[H]);if(O)return O}}function b(w,_){for(var I=0;I<w.length;++I){var H=_(w[I]);if(H)return H}}l.queryPoint=function(w,_){if(w<this.mid){if(this.left){var I=this.left.queryPoint(w,_);if(I)return I}return i(this.leftPoints,w,_)}else if(w>this.mid){if(this.right){var I=this.right.queryPoint(w,_);if(I)return I}return g(this.rightPoints,w,_)}else return b(this.leftPoints,_)},l.queryInterval=function(w,_,I){if(w<this.mid&&this.left){var H=this.left.queryInterval(w,_,I);if(H)return H}if(_>this.mid&&this.right){var H=this.right.queryInterval(w,_,I);if(H)return H}return _<this.mid?i(this.leftPoints,_,I):w>this.mid?g(this.rightPoints,w,I):b(this.leftPoints,I)};function A(w,_){return w-_}function R(w,_){var I=w[0]-_[0];return I||w[1]-_[1]}function m(w,_){var I=w[1]-_[1];return I||w[0]-_[0]}function L(w){if(w.length===0)return null;for(var _=[],I=0;I<w.length;++I)_.push(w[I][0],w[I][1]);_.sort(A);for(var H=_[_.length>>1],O=[],V=[],B=[],I=0;I<w.length;++I){var F=w[I];F[1]<H?O.push(F):H<F[0]?V.push(F):B.push(F)}var G=B,Y=B.slice();return G.sort(R),Y.sort(m),new f(H,L(O),L(V),G,Y)}function M(w){this.root=w}var s=M.prototype;s.insert=function(w){this.root?this.root.insert(w):this.root=new f(w[0],null,null,[w],[w])},s.remove=function(w){if(this.root){var _=this.root.remove(w);return _===u&&(this.root=null),_!==o}return!1},s.queryPoint=function(w,_){if(this.root)return this.root.queryPoint(w,_)},s.queryInterval=function(w,_,I){if(w<=_&&this.root)return this.root.queryInterval(w,_,I)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function S(w){return!w||w.length===0?new M(null):new M(L(w))}},7762:function(v){function p(r){for(var t=new Array(r),o=0;o<r;++o)t[o]=o;return t}v.exports=p},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},5219:function(v){v.exports=function(p){for(var r=p.length,t,o=0;o<r;o++)if(t=p.charCodeAt(o),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function p(r,t,o){return r*(1-o)+t*o}v.exports=p},2652:function(v,p,r){var t=r(4335),o=r(6864),a=r(1903),u=r(9921),f=r(7608),l=r(5665),y={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},c=o(),T=o(),h=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],g=[0,0,0];v.exports=function(L,M,s,S,w,_){if(M||(M=[0,0,0]),s||(s=[0,0,0]),S||(S=[0,0,0]),w||(w=[0,0,0,1]),_||(_=[0,0,0,1]),!t(c,L)||(a(T,c),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(u(T)<1e-8)))return!1;var I=c[3],H=c[7],O=c[11],V=c[12],B=c[13],F=c[14],G=c[15];if(I!==0||H!==0||O!==0){h[0]=I,h[1]=H,h[2]=O,h[3]=G;var Y=f(T,T);if(!Y)return!1;l(T,T),b(w,h,T)}else w[0]=w[1]=w[2]=0,w[3]=1;if(M[0]=V,M[1]=B,M[2]=F,A(i,c),s[0]=y.length(i[0]),y.normalize(i[0],i[0]),S[0]=y.dot(i[0],i[1]),R(i[1],i[1],i[0],1,-S[0]),s[1]=y.length(i[1]),y.normalize(i[1],i[1]),S[0]/=s[1],S[1]=y.dot(i[0],i[2]),R(i[2],i[2],i[0],1,-S[1]),S[2]=y.dot(i[1],i[2]),R(i[2],i[2],i[1],1,-S[2]),s[2]=y.length(i[2]),y.normalize(i[2],i[2]),S[1]/=s[2],S[2]/=s[2],y.cross(g,i[1],i[2]),y.dot(i[0],g)<0)for(var Q=0;Q<3;Q++)s[Q]*=-1,i[Q][0]*=-1,i[Q][1]*=-1,i[Q][2]*=-1;return _[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),_[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),_[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),_[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(_[0]=-_[0]),i[0][2]>i[2][0]&&(_[1]=-_[1]),i[1][0]>i[0][1]&&(_[2]=-_[2]),!0};function b(m,L,M){var s=L[0],S=L[1],w=L[2],_=L[3];return m[0]=M[0]*s+M[4]*S+M[8]*w+M[12]*_,m[1]=M[1]*s+M[5]*S+M[9]*w+M[13]*_,m[2]=M[2]*s+M[6]*S+M[10]*w+M[14]*_,m[3]=M[3]*s+M[7]*S+M[11]*w+M[15]*_,m}function A(m,L){m[0][0]=L[0],m[0][1]=L[1],m[0][2]=L[2],m[1][0]=L[4],m[1][1]=L[5],m[1][2]=L[6],m[2][0]=L[8],m[2][1]=L[9],m[2][2]=L[10]}function R(m,L,M,s,S){m[0]=L[0]*s+M[0]*S,m[1]=L[1]*s+M[1]*S,m[2]=L[2]*s+M[2]*S}},4335:function(v){v.exports=function(r,t){var o=t[15];if(o===0)return!1;for(var a=1/o,u=0;u<16;u++)r[u]=t[u]*a;return!0}},7442:function(v,p,r){var t=r(6658),o=r(7182),a=r(2652),u=r(9921),f=r(8648),l=h(),y=h(),c=h();v.exports=T;function T(b,A,R,m){if(u(A)===0||u(R)===0)return!1;var L=a(A,l.translate,l.scale,l.skew,l.perspective,l.quaternion),M=a(R,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!L||!M?!1:(t(c.translate,l.translate,y.translate,m),t(c.skew,l.skew,y.skew,m),t(c.scale,l.scale,y.scale,m),t(c.perspective,l.perspective,y.perspective,m),f(c.quaternion,l.quaternion,y.quaternion,m),o(b,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:i(),scale:i(1),skew:i(),perspective:g(),quaternion:g()}}function i(b){return[b||0,b||0,b||0]}function g(){return[0,0,0,1]}},7182:function(v,p,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var o=t.create();v.exports=function(u,f,l,y,c,T){return t.identity(u),t.fromRotationTranslation(u,T,f),u[3]=c[0],u[7]=c[1],u[11]=c[2],u[15]=c[3],t.identity(o),y[2]!==0&&(o[9]=y[2],t.multiply(u,u,o)),y[1]!==0&&(o[9]=0,o[8]=y[1],t.multiply(u,u,o)),y[0]!==0&&(o[8]=0,o[4]=y[0],t.multiply(u,u,o)),t.scale(u,u,l),u}},4192:function(v,p,r){var t=r(2478),o=r(7442),a=r(7608),u=r(5567),f=r(2408),l=r(7089),y=r(6582),c=r(7656);r(2504);var T=r(3536),h=[0,0,0];v.exports=A;function i(R){this._components=R.slice(),this._time=[0],this.prevMatrix=R.slice(),this.nextMatrix=R.slice(),this.computedMatrix=R.slice(),this.computedInverse=R.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var g=i.prototype;g.recalcMatrix=function(R){var m=this._time,L=t.le(m,R),M=this.computedMatrix;if(!(L<0)){var s=this._components;if(L===m.length-1)for(var S=16*L,w=0;w<16;++w)M[w]=s[S++];else{for(var _=m[L+1]-m[L],S=16*L,I=this.prevMatrix,H=!0,w=0;w<16;++w)I[w]=s[S++];for(var O=this.nextMatrix,w=0;w<16;++w)O[w]=s[S++],H=H&&I[w]===O[w];if(_<1e-6||H)for(var w=0;w<16;++w)M[w]=I[w];else o(M,I,O,(R-m[L])/_)}var V=this.computedUp;V[0]=M[1],V[1]=M[5],V[2]=M[9],T(V,V);var B=this.computedInverse;a(B,M);var F=this.computedEye,G=B[15];F[0]=B[12]/G,F[1]=B[13]/G,F[2]=B[14]/G;for(var Y=this.computedCenter,Q=Math.exp(this.computedRadius[0]),w=0;w<3;++w)Y[w]=F[w]-M[2+4*w]*Q}},g.idle=function(R){if(!(R<this.lastT())){for(var m=this._components,L=m.length-16,M=0;M<16;++M)m.push(m[L++]);this._time.push(R)}},g.flush=function(R){var m=t.gt(this._time,R)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},g.lastT=function(){return this._time[this._time.length-1]},g.lookAt=function(R,m,L,M){this.recalcMatrix(R),m=m||this.computedEye,L=L||h,M=M||this.computedUp,this.setMatrix(R,y(this.computedMatrix,m,L,M));for(var s=0,S=0;S<3;++S)s+=Math.pow(L[S]-m[S],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},g.rotate=function(R,m,L,M){this.recalcMatrix(R);var s=this.computedInverse;m&&f(s,s,m),L&&u(s,s,L),M&&l(s,s,M),this.setMatrix(R,a(this.computedMatrix,s))};var b=[0,0,0];g.pan=function(R,m,L,M){b[0]=-(m||0),b[1]=-(L||0),b[2]=-(M||0),this.recalcMatrix(R);var s=this.computedInverse;c(s,s,b),this.setMatrix(R,a(s,s))},g.translate=function(R,m,L,M){b[0]=m||0,b[1]=L||0,b[2]=M||0,this.recalcMatrix(R);var s=this.computedMatrix;c(s,s,b),this.setMatrix(R,s)},g.setMatrix=function(R,m){if(!(R<this.lastT())){this._time.push(R);for(var L=0;L<16;++L)this._components.push(m[L])}},g.setDistance=function(R,m){this.computedRadius[0]=m},g.setDistanceLimits=function(R,m){var L=this._limits;L[0]=R,L[1]=m},g.getDistanceLimits=function(R){var m=this._limits;return R?(R[0]=m[0],R[1]=m[1],R):m};function A(R){R=R||{};var m=R.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(m)}},3090:function(v,p,r){v.exports=o;var t=r(3250)[3];function o(a){var u=a.length;if(u<3){for(var g=new Array(u),f=0;f<u;++f)g[f]=f;return u===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:g}for(var l=new Array(u),f=0;f<u;++f)l[f]=f;l.sort(function(m,L){var M=a[m][0]-a[L][0];return M||a[m][1]-a[L][1]});for(var y=[l[0],l[1]],c=[l[0],l[1]],f=2;f<u;++f){for(var T=l[f],h=a[T],i=y.length;i>1&&t(a[y[i-2]],a[y[i-1]],h)<=0;)i-=1,y.pop();for(y.push(T),i=c.length;i>1&&t(a[c[i-2]],a[c[i-1]],h)>=0;)i-=1,c.pop();c.push(T)}for(var g=new Array(c.length+y.length-2),b=0,f=0,A=y.length;f<A;++f)g[b++]=y[f];for(var R=c.length-2;R>0;--R)g[b++]=c[R];return g}},351:function(v,p,r){v.exports=o;var t=r(4687);function o(a,u){u||(u=a,a=window);var f=0,l=0,y=0,c={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function h(w){var _=!1;return"altKey"in w&&(_=_||w.altKey!==c.alt,c.alt=!!w.altKey),"shiftKey"in w&&(_=_||w.shiftKey!==c.shift,c.shift=!!w.shiftKey),"ctrlKey"in w&&(_=_||w.ctrlKey!==c.control,c.control=!!w.ctrlKey),"metaKey"in w&&(_=_||w.metaKey!==c.meta,c.meta=!!w.metaKey),_}function i(w,_){var I=t.x(_),H=t.y(_);"buttons"in _&&(w=_.buttons|0),(w!==f||I!==l||H!==y||h(_))&&(f=w|0,l=I||0,y=H||0,u&&u(f,l,y,c))}function g(w){i(0,w)}function b(){(f||l||y||c.shift||c.alt||c.meta||c.control)&&(l=y=0,f=0,c.shift=c.alt=c.control=c.meta=!1,u&&u(0,0,0,c))}function A(w){h(w)&&u&&u(f,l,y,c)}function R(w){t.buttons(w)===0?i(0,w):i(f,w)}function m(w){i(f|t.buttons(w),w)}function L(w){i(f&~t.buttons(w),w)}function M(){T||(T=!0,a.addEventListener("mousemove",R),a.addEventListener("mousedown",m),a.addEventListener("mouseup",L),a.addEventListener("mouseleave",g),a.addEventListener("mouseenter",g),a.addEventListener("mouseout",g),a.addEventListener("mouseover",g),a.addEventListener("blur",b),a.addEventListener("keyup",A),a.addEventListener("keydown",A),a.addEventListener("keypress",A),a!==window&&(window.addEventListener("blur",b),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function s(){T&&(T=!1,a.removeEventListener("mousemove",R),a.removeEventListener("mousedown",m),a.removeEventListener("mouseup",L),a.removeEventListener("mouseleave",g),a.removeEventListener("mouseenter",g),a.removeEventListener("mouseout",g),a.removeEventListener("mouseover",g),a.removeEventListener("blur",b),a.removeEventListener("keyup",A),a.removeEventListener("keydown",A),a.removeEventListener("keypress",A),a!==window&&(window.removeEventListener("blur",b),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}M();var S={element:a};return Object.defineProperties(S,{enabled:{get:function(){return T},set:function(w){w?M():s()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),S}},24:function(v){var p={left:0,top:0};v.exports=r;function r(o,a,u){a=a||o.currentTarget||o.srcElement,Array.isArray(u)||(u=[0,0]);var f=o.clientX||0,l=o.clientY||0,y=t(a);return u[0]=f-y.left,u[1]=l-y.top,u}function t(o){return o===window||o===document||o===document.body?p:o.getBoundingClientRect()}},4687:function(v,p){function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var f=u.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in u){var f=u.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}p.buttons=r;function t(u){return u.target||u.srcElement||window}p.element=t;function o(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var f=t(u),l=f.getBoundingClientRect();return u.clientX-l.left}return 0}p.x=o;function a(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var f=t(u),l=f.getBoundingClientRect();return u.clientY-l.top}return 0}p.y=a},8512:function(v,p,r){var t=r(665);v.exports=o;function o(a,u,f){typeof a=="function"&&(f=!!u,u=a,a=window);var l=t("ex",a),y=function(c){f&&c.preventDefault();var T=c.deltaX||0,h=c.deltaY||0,i=c.deltaZ||0,g=c.deltaMode,b=1;switch(g){case 1:b=l;break;case 2:b=window.innerHeight;break}if(T*=b,h*=b,i*=b,T||h||i)return u(T,h,i,c)};return a.addEventListener("wheel",y),y}},2640:function(v,p,r){var t=r(1888);v.exports=u;var o={"false,0,1":function(l,y,c,T,h){return function(g,b,A,R){var m=g.shape[0]|0,L=g.shape[1]|0,M=g.data,s=g.offset|0,S=g.stride[0]|0,w=g.stride[1]|0,_=s,I,H=-S|0,O=0,V=-w|0,B=0,F=-S-w|0,G=0,Y=S|0,Q=w-S*m|0,te=0,ae=0,fe=0,oe=2*m|0,J=T(oe),ee=T(oe),X=0,q=0,le=-1,$=-1,j=0,se=-m|0,ne=m|0,he=0,me=-m-1|0,we=m-1|0,Te=0,Le=0,Ie=0;for(te=0;te<m;++te)J[X++]=c(M[_],b,A,R),_+=Y;if(_+=Q,L>0){if(ae=1,J[X++]=c(M[_],b,A,R),_+=Y,m>0)for(te=1,I=M[_],q=J[X]=c(I,b,A,R),j=J[X+le],he=J[X+se],Te=J[X+me],(q!==j||q!==he||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,j,he,Te,b,A,R),Le=ee[X]=fe++),X+=1,_+=Y,te=2;te<m;++te)I=M[_],q=J[X]=c(I,b,A,R),j=J[X+le],he=J[X+se],Te=J[X+me],(q!==j||q!==he||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,j,he,Te,b,A,R),Le=ee[X]=fe++,Te!==j&&y(ee[X+le],Le,G,O,Te,j,b,A,R)),X+=1,_+=Y;for(_+=Q,X=0,Ie=le,le=$,$=Ie,Ie=se,se=ne,ne=Ie,Ie=me,me=we,we=Ie,ae=2;ae<L;++ae){if(J[X++]=c(M[_],b,A,R),_+=Y,m>0)for(te=1,I=M[_],q=J[X]=c(I,b,A,R),j=J[X+le],he=J[X+se],Te=J[X+me],(q!==j||q!==he||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,j,he,Te,b,A,R),Le=ee[X]=fe++,Te!==he&&y(ee[X+se],Le,B,G,he,Te,b,A,R)),X+=1,_+=Y,te=2;te<m;++te)I=M[_],q=J[X]=c(I,b,A,R),j=J[X+le],he=J[X+se],Te=J[X+me],(q!==j||q!==he||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,j,he,Te,b,A,R),Le=ee[X]=fe++,Te!==he&&y(ee[X+se],Le,B,G,he,Te,b,A,R),Te!==j&&y(ee[X+le],Le,G,O,Te,j,b,A,R)),X+=1,_+=Y;ae&1&&(X=0),Ie=le,le=$,$=Ie,Ie=se,se=ne,ne=Ie,Ie=me,me=we,we=Ie,_+=Q}}h(ee),h(J)}},"false,1,0":function(l,y,c,T,h){return function(g,b,A,R){var m=g.shape[0]|0,L=g.shape[1]|0,M=g.data,s=g.offset|0,S=g.stride[0]|0,w=g.stride[1]|0,_=s,I,H=-S|0,O=0,V=-w|0,B=0,F=-S-w|0,G=0,Y=w|0,Q=S-w*L|0,te=0,ae=0,fe=0,oe=2*L|0,J=T(oe),ee=T(oe),X=0,q=0,le=-1,$=-1,j=0,se=-L|0,ne=L|0,he=0,me=-L-1|0,we=L-1|0,Te=0,Le=0,Ie=0;for(ae=0;ae<L;++ae)J[X++]=c(M[_],b,A,R),_+=Y;if(_+=Q,m>0){if(te=1,J[X++]=c(M[_],b,A,R),_+=Y,L>0)for(ae=1,I=M[_],q=J[X]=c(I,b,A,R),he=J[X+se],j=J[X+le],Te=J[X+me],(q!==he||q!==j||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,he,j,Te,b,A,R),Le=ee[X]=fe++),X+=1,_+=Y,ae=2;ae<L;++ae)I=M[_],q=J[X]=c(I,b,A,R),he=J[X+se],j=J[X+le],Te=J[X+me],(q!==he||q!==j||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,he,j,Te,b,A,R),Le=ee[X]=fe++,Te!==j&&y(ee[X+le],Le,B,G,j,Te,b,A,R)),X+=1,_+=Y;for(_+=Q,X=0,Ie=se,se=ne,ne=Ie,Ie=le,le=$,$=Ie,Ie=me,me=we,we=Ie,te=2;te<m;++te){if(J[X++]=c(M[_],b,A,R),_+=Y,L>0)for(ae=1,I=M[_],q=J[X]=c(I,b,A,R),he=J[X+se],j=J[X+le],Te=J[X+me],(q!==he||q!==j||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,he,j,Te,b,A,R),Le=ee[X]=fe++,Te!==he&&y(ee[X+se],Le,G,O,Te,he,b,A,R)),X+=1,_+=Y,ae=2;ae<L;++ae)I=M[_],q=J[X]=c(I,b,A,R),he=J[X+se],j=J[X+le],Te=J[X+me],(q!==he||q!==j||q!==Te)&&(O=M[_+H],B=M[_+V],G=M[_+F],l(te,ae,I,O,B,G,q,he,j,Te,b,A,R),Le=ee[X]=fe++,Te!==j&&y(ee[X+le],Le,B,G,j,Te,b,A,R),Te!==he&&y(ee[X+se],Le,G,O,Te,he,b,A,R)),X+=1,_+=Y;te&1&&(X=0),Ie=se,se=ne,ne=Ie,Ie=le,le=$,$=Ie,Ie=me,me=we,we=Ie,_+=Q}}h(ee),h(J)}}};function a(f,l,y,c,T,h){var i=[h,T].join(","),g=o[i];return g(f,l,y,t.mallocUint32,t.freeUint32)}function u(f){function l(b){throw new Error("ndarray-extract-contour: "+b)}typeof f!="object"&&l("Must specify arguments");var y=f.order;Array.isArray(y)||l("Must specify order");var c=f.arrayArguments||1;c<1&&l("Must have at least one array argument");var T=f.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof f.vertex!="function"&&l("Must specify vertex creation function"),typeof f.cell!="function"&&l("Must specify cell creation function"),typeof f.phase!="function"&&l("Must specify phase function");for(var h=f.getters||[],i=new Array(c),g=0;g<c;++g)h.indexOf(g)>=0?i[g]=!0:i[g]=!1;return a(f.vertex,f.cell,f.phase,T,y,i)}},6199:function(v,p,r){var t=r(1338),o={zero:function(A,R,m,L){var M=A[0],s=m[0];L|=0;var S=0,w=s;for(S=0;S<M;++S)R[L]=0,L+=w},fdTemplate1:function(A,R,m,L,M,s,S){var w=A[0],_=m[0],I=s[0],H=-1*_,O=_;L|=0,S|=0;var V=0,B=_,F=I;for(V=0;V<w;++V)M[S]=.5*(R[L+H]-R[L+O]),L+=B,S+=F},fdTemplate2:function(A,R,m,L,M,s,S,w,_,I){var H=A[0],O=A[1],V=m[0],B=m[1],F=s[0],G=s[1],Y=_[0],Q=_[1],te=-1*V,ae=V,fe=-1*B,oe=B;L|=0,S|=0,I|=0;var J=0,ee=0,X=B,q=V-O*B,le=G,$=F-O*G,j=Q,se=Y-O*Q;for(ee=0;ee<H;++ee){for(J=0;J<O;++J)M[S]=.5*(R[L+te]-R[L+ae]),w[I]=.5*(R[L+fe]-R[L+oe]),L+=X,S+=le,I+=j;L+=q,S+=$,I+=se}}},a={cdiff:function(A){var R={};return function(L,M,s){var S=L.dtype,w=L.order,_=M.dtype,I=M.order,H=s.dtype,O=s.order,V=[S,w.join(),_,I.join(),H,O.join()].join(),B=R[V];return B||(R[V]=B=A([S,w,_,I,H,O])),B(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}},zero:function(A){var R={};return function(L){var M=L.dtype,s=L.order,S=[M,s.join()].join(),w=R[S];return w||(R[S]=w=A([M,s])),w(L.shape.slice(0),L.data,L.stride,L.offset|0)}},fdTemplate1:function(A){var R={};return function(L,M){var s=L.dtype,S=L.order,w=M.dtype,_=M.order,I=[s,S.join(),w,_.join()].join(),H=R[I];return H||(R[I]=H=A([s,S,w,_])),H(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0)}},fdTemplate2:function(A){var R={};return function(L,M,s){var S=L.dtype,w=L.order,_=M.dtype,I=M.order,H=s.dtype,O=s.order,V=[S,w.join(),_,I.join(),H,O.join()].join(),B=R[V];return B||(R[V]=B=A([S,w,_,I,H,O])),B(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}}};function u(A){var R=a[A.funcName];return R(f.bind(void 0,A))}function f(A){return o[A.funcName]}function l(A){return u({funcName:A.funcName})}var y={},c={},T=l({funcName:"cdiff"}),h=l({funcName:"zero"});function i(A){return A in y?y[A]:y[A]=l({funcName:"fdTemplate"+A})}function g(A,R,m,L){return function(M,s){var S=s.shape.slice();return S[0]>2&&S[1]>2&&L(s.pick(-1,-1).lo(1,1).hi(S[0]-2,S[1]-2),M.pick(-1,-1,0).lo(1,1).hi(S[0]-2,S[1]-2),M.pick(-1,-1,1).lo(1,1).hi(S[0]-2,S[1]-2)),S[1]>2&&(m(s.pick(0,-1).lo(1).hi(S[1]-2),M.pick(0,-1,1).lo(1).hi(S[1]-2)),R(M.pick(0,-1,0).lo(1).hi(S[1]-2))),S[1]>2&&(m(s.pick(S[0]-1,-1).lo(1).hi(S[1]-2),M.pick(S[0]-1,-1,1).lo(1).hi(S[1]-2)),R(M.pick(S[0]-1,-1,0).lo(1).hi(S[1]-2))),S[0]>2&&(m(s.pick(-1,0).lo(1).hi(S[0]-2),M.pick(-1,0,0).lo(1).hi(S[0]-2)),R(M.pick(-1,0,1).lo(1).hi(S[0]-2))),S[0]>2&&(m(s.pick(-1,S[1]-1).lo(1).hi(S[0]-2),M.pick(-1,S[1]-1,0).lo(1).hi(S[0]-2)),R(M.pick(-1,S[1]-1,1).lo(1).hi(S[0]-2))),M.set(0,0,0,0),M.set(0,0,1,0),M.set(S[0]-1,0,0,0),M.set(S[0]-1,0,1,0),M.set(0,S[1]-1,0,0),M.set(0,S[1]-1,1,0),M.set(S[0]-1,S[1]-1,0,0),M.set(S[0]-1,S[1]-1,1,0),M}}function b(A){var R=A.join(),S=c[R];if(S)return S;for(var m=A.length,L=[T,h],M=1;M<=m;++M)L.push(i(M));var s=g,S=s.apply(void 0,L);return c[R]=S,S}v.exports=function(R,m,L){if(Array.isArray(L)||(typeof L=="string"?L=t(m.dimension,L):L=t(m.dimension,"clamp")),m.size===0)return R;if(m.dimension===0)return R.set(0),R;var M=b(L);return M(R,m)}},4317:function(v){function p(u,f){var l=Math.floor(f),y=f-l,c=0<=l&&l<u.shape[0],T=0<=l+1&&l+1<u.shape[0],h=c?+u.get(l):0,i=T?+u.get(l+1):0;return(1-y)*h+y*i}function r(u,f,l){var y=Math.floor(f),c=f-y,T=0<=y&&y<u.shape[0],h=0<=y+1&&y+1<u.shape[0],i=Math.floor(l),g=l-i,b=0<=i&&i<u.shape[1],A=0<=i+1&&i+1<u.shape[1],R=T&&b?u.get(y,i):0,m=T&&A?u.get(y,i+1):0,L=h&&b?u.get(y+1,i):0,M=h&&A?u.get(y+1,i+1):0;return(1-g)*((1-c)*R+c*L)+g*((1-c)*m+c*M)}function t(u,f,l,y){var c=Math.floor(f),T=f-c,h=0<=c&&c<u.shape[0],i=0<=c+1&&c+1<u.shape[0],g=Math.floor(l),b=l-g,A=0<=g&&g<u.shape[1],R=0<=g+1&&g+1<u.shape[1],m=Math.floor(y),L=y-m,M=0<=m&&m<u.shape[2],s=0<=m+1&&m+1<u.shape[2],S=h&&A&&M?u.get(c,g,m):0,w=h&&R&&M?u.get(c,g+1,m):0,_=i&&A&&M?u.get(c+1,g,m):0,I=i&&R&&M?u.get(c+1,g+1,m):0,H=h&&A&&s?u.get(c,g,m+1):0,O=h&&R&&s?u.get(c,g+1,m+1):0,V=i&&A&&s?u.get(c+1,g,m+1):0,B=i&&R&&s?u.get(c+1,g+1,m+1):0;return(1-L)*((1-b)*((1-T)*S+T*_)+b*((1-T)*w+T*I))+L*((1-b)*((1-T)*H+T*V)+b*((1-T)*O+T*B))}function o(u){var f=u.shape.length|0,l=new Array(f),y=new Array(f),c=new Array(f),T=new Array(f),h,i;for(h=0;h<f;++h)i=+arguments[h+1],l[h]=Math.floor(i),y[h]=i-l[h],c[h]=0<=l[h]&&l[h]<u.shape[h],T[h]=0<=l[h]+1&&l[h]+1<u.shape[h];var g=0,b,A,R;e:for(h=0;h<1<<f;++h){for(A=1,R=u.offset,b=0;b<f;++b)if(h&1<<b){if(!T[b])continue e;A*=y[b],R+=u.stride[b]*(l[b]+1)}else{if(!c[b])continue e;A*=1-y[b],R+=u.stride[b]*l[b]}g+=A*u.data[R]}return g}function a(u,f,l,y){switch(u.shape.length){case 0:return 0;case 1:return p(u,f);case 2:return r(u,f,l);case 3:return t(u,f,l,y);default:return o.apply(void 0,arguments)}}v.exports=a,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},5298:function(v,p){var r={"float64,2,1,0":function(){return function(c,T,h,i,g){var b=c[0],A=c[1],R=c[2],m=h[0],L=h[1],M=h[2];i|=0;var s=0,S=0,w=0,_=M,I=L-R*M,H=m-A*L;for(w=0;w<b;++w){for(S=0;S<A;++S){for(s=0;s<R;++s)T[i]/=g,i+=_;i+=I}i+=H}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,T,h,i,g,b,A,R){var m=c[0],L=c[1],M=c[2],s=h[0],S=h[1],w=h[2],_=b[0],I=b[1],H=b[2];i|=0,A|=0;for(var O=i,V=A,B=c[0]|0;B>0;){B<64?(m=B,B=0):(m=64,B-=64);for(var F=c[1]|0;F>0;){F<64?(L=F,F=0):(L=64,F-=64),i=O+B*s+F*S,A=V+B*_+F*I;var G=0,Y=0,Q=0,te=w,ae=s-M*w,fe=S-m*s,oe=H,J=_-M*H,ee=I-m*_;for(Q=0;Q<L;++Q){for(Y=0;Y<m;++Y){for(G=0;G<M;++G)T[i]=g[A]*R,i+=te,A+=oe;i+=ae,A+=J}i+=fe,A+=ee}}}}},"float32,1,0,float32,1,0":function(){return function(c,T,h,i,g,b,A){var R=c[0],m=c[1],L=h[0],M=h[1],s=b[0],S=b[1];i|=0,A|=0;var w=0,_=0,I=M,H=L-m*M,O=S,V=s-m*S;for(_=0;_<R;++_){for(w=0;w<m;++w)T[i]=g[A],i+=I,A+=O;i+=H,A+=V}}},"float32,1,0,float32,0,1":function(){return function(c,T,h,i,g,b,A){var R=c[0],m=c[1],L=h[0],M=h[1],s=b[0],S=b[1];i|=0,A|=0;for(var w=i,_=A,I=c[1]|0;I>0;){I<64?(m=I,I=0):(m=64,I-=64);for(var H=c[0]|0;H>0;){H<64?(R=H,H=0):(R=64,H-=64),i=w+I*M+H*L,A=_+I*S+H*s;var O=0,V=0,B=M,F=L-m*M,G=S,Y=s-m*S;for(V=0;V<R;++V){for(O=0;O<m;++O)T[i]=g[A],i+=B,A+=G;i+=F,A+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,T,h,i,g,b,A){var R=c[0],m=c[1],L=c[2],M=h[0],s=h[1],S=h[2],w=b[0],_=b[1],I=b[2];i|=0,A|=0;for(var H=i,O=A,V=c[2]|0;V>0;){V<64?(L=V,V=0):(L=64,V-=64);for(var B=c[0]|0;B>0;){B<64?(R=B,B=0):(R=64,B-=64);for(var F=c[1]|0;F>0;){F<64?(m=F,F=0):(m=64,F-=64),i=H+V*S+B*M+F*s,A=O+V*I+B*w+F*_;var G=0,Y=0,Q=0,te=S,ae=M-L*S,fe=s-R*M,oe=I,J=w-L*I,ee=_-R*w;for(Q=0;Q<m;++Q){for(Y=0;Y<R;++Y){for(G=0;G<L;++G)T[i]=g[A],i+=te,A+=oe;i+=ae,A+=J}i+=fe,A+=ee}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,T,h,i,g,b,A){var R=c[0],m=c[1],L=c[2],M=h[0],s=h[1],S=h[2],w=b[0],_=b[1],I=b[2];i|=0,A|=0;var H=0,O=0,V=0,B=S,F=M-L*S,G=s-R*M,Y=I,Q=w-L*I,te=_-R*w;for(V=0;V<m;++V){for(O=0;O<R;++O){for(H=0;H<L;++H)T[i]=g[A],i+=B,A+=Y;i+=F,A+=Q}i+=G,A+=te}}}};function t(y,c){var T=c.join(","),h=r[T];return h()}var o=t,a={mul:function(y){var c={};return function(h,i,g){var b=h.dtype,A=h.order,R=i.dtype,m=i.order,L=g.dtype,M=g.order,s=[b,A.join(),R,m.join(),L,M.join()].join(),S=c[s];return S||(c[s]=S=y([b,A,R,m,L,M])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,g.data,g.stride,g.offset|0)}},muls:function(y){var c={};return function(h,i,g){var b=h.dtype,A=h.order,R=i.dtype,m=i.order,L=[b,A.join(),R,m.join()].join(),M=c[L];return M||(c[L]=M=y([b,A,R,m])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,g)}},mulseq:function(y){var c={};return function(h,i){var g=h.dtype,b=h.order,A=[g,b.join()].join(),R=c[A];return R||(c[A]=R=y([g,b])),R(h.shape.slice(0),h.data,h.stride,h.offset|0,i)}},div:function(y){var c={};return function(h,i,g){var b=h.dtype,A=h.order,R=i.dtype,m=i.order,L=g.dtype,M=g.order,s=[b,A.join(),R,m.join(),L,M.join()].join(),S=c[s];return S||(c[s]=S=y([b,A,R,m,L,M])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,g.data,g.stride,g.offset|0)}},divs:function(y){var c={};return function(h,i,g){var b=h.dtype,A=h.order,R=i.dtype,m=i.order,L=[b,A.join(),R,m.join()].join(),M=c[L];return M||(c[L]=M=y([b,A,R,m])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,g)}},divseq:function(y){var c={};return function(h,i){var g=h.dtype,b=h.order,A=[g,b.join()].join(),R=c[A];return R||(c[A]=R=y([g,b])),R(h.shape.slice(0),h.data,h.stride,h.offset|0,i)}},assign:function(y){var c={};return function(h,i){var g=h.dtype,b=h.order,A=i.dtype,R=i.order,m=[g,b.join(),A,R.join()].join(),L=c[m];return L||(c[m]=L=y([g,b,A,R])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0)}}};function u(y){var c=a[y.funcName];return c(o.bind(void 0,y))}function f(y){return u({funcName:y.funcName})}var l={mul:"*",div:"/"};(function(){for(var y in l)p[y]=f({funcName:y}),p[y+"s"]=f({funcName:y+"s"}),p[y+"seq"]=f({funcName:y+"seq"})})(),p.assign=f({funcName:"assign"})},9994:function(v,p,r){var t=r(9618),o=r(8277);v.exports=function(u,f){for(var l=[],y=u,c=1;Array.isArray(y);)l.push(y.length),c*=y.length,y=y[0];return l.length===0?t():(f||(f=t(new Float64Array(c),l)),o(f,u),f)}},8277:function(v){function p(){return function(f,l,y,c,T){var h=f[0],i=f[1],g=f[2],b=y[0],A=y[1],R=y[2],m=[0,0,0];c|=0;var L=0,M=0,s=0,S=R,w=A-g*R,_=b-i*A;for(s=0;s<h;++s){for(M=0;M<i;++M){for(L=0;L<g;++L){{var I=T,H;for(H=0;H<m.length-1;++H)I=I[m[H]];l[c]=I[m[m.length-1]]}c+=S,++m[2]}c+=w,m[2]-=g,++m[1]}c+=_,m[1]-=i,++m[0]}}}function r(){return p()}var t=r;function o(f){var l={};return function(c,T){var h=c.dtype,i=c.order,g=[h,i.join()].join(),b=l[g];return b||(l[g]=b=f([h,i])),b(c.shape.slice(0),c.data,c.stride,c.offset|0,T)}}function a(f){return o(t.bind(void 0,f))}function u(f){return a({funcName:f.funcName})}v.exports=u({funcName:"convert"})},7640:function(v,p,r){var t=r(1888);function o(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var a={"uint32,1,0":function(T,h){return function(g,b,A,R,m,L,M,s,S,w,_){var I,H,O,V=g*m+R,B,F=T(s),G,Y,Q,te;for(I=g+1;I<=b;++I){for(H=I,V+=m,O=V,G=0,Y=V,B=0;B<s;++B)F[G++]=A[Y],Y+=S;e:for(;H-- >g;){G=0,Y=O-m;t:for(B=0;B<s;++B){if(Q=A[Y],te=F[G],Q<te)break e;if(Q>te)break t;Y+=w,G+=_}for(G=O,Y=O-m,B=0;B<s;++B)A[G]=A[Y],G+=S,Y+=S;O-=m}for(G=O,Y=0,B=0;B<s;++B)A[G]=F[Y++],G+=S}h(F)}}};function u(T,h){var i=o(h),g=[h,T].join(","),b=a[g];return i?b(i[0],i[1]):b()}var f={"uint32,1,0":function(T,h,i){return function g(b,A,R,m,L,M,s,S,w,_,I){var H=(A-b+1)/6|0,O=b+H,V=A-H,B=b+A>>1,F=B-H,G=B+H,Y=O,Q=F,te=B,ae=G,fe=V,oe=b+1,J=A-1,ee=!0,X,q,le,$,j,se,ne,he,me,we=0,Te=0,Le=0,Ie,ze,Me,_e,Ce,Oe,Pe,Ge,Ze,it,Je,et,ft,vt,dt,xt,Mt=S,nt=h(Mt),Fe=h(Mt);ze=L*Y,Me=L*Q,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=Y,Y=Q,Q=q;break e}if(Le<0)break e;xt+=_}ze=L*ae,Me=L*fe,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=ae,ae=fe,fe=q;break e}if(Le<0)break e;xt+=_}ze=L*Y,Me=L*te,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=Y,Y=te,te=q;break e}if(Le<0)break e;xt+=_}ze=L*Q,Me=L*te,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=Q,Q=te,te=q;break e}if(Le<0)break e;xt+=_}ze=L*Y,Me=L*ae,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=Y,Y=ae,ae=q;break e}if(Le<0)break e;xt+=_}ze=L*te,Me=L*ae,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=te,te=ae,ae=q;break e}if(Le<0)break e;xt+=_}ze=L*Q,Me=L*fe,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=Q,Q=fe,fe=q;break e}if(Le<0)break e;xt+=_}ze=L*Q,Me=L*te,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=Q,Q=te,te=q;break e}if(Le<0)break e;xt+=_}ze=L*ae,Me=L*fe,xt=m;e:for(Ie=0;Ie<S;++Ie){if(ne=ze+xt,he=Me+xt,Le=R[ne]-R[he],Le>0){q=ae,ae=fe,fe=q;break e}if(Le<0)break e;xt+=_}for(ze=L*Y,Me=L*Q,_e=L*te,Ce=L*ae,Oe=L*fe,Pe=L*O,Ge=L*B,Ze=L*V,dt=0,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,me=_e+xt,it=Ce+xt,Je=Oe+xt,et=Pe+xt,ft=Ge+xt,vt=Ze+xt,nt[dt]=R[he],Fe[dt]=R[it],ee=ee&&nt[dt]===Fe[dt],le=R[ne],$=R[me],j=R[Je],R[et]=le,R[ft]=$,R[vt]=j,++dt,xt+=w;for(ze=L*F,Me=L*b,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,R[ne]=R[he],xt+=w;for(ze=L*G,Me=L*A,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,R[ne]=R[he],xt+=w;if(ee)for(se=oe;se<=J;++se){ne=m+se*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Le=R[ne]-nt[dt],Le!==0)break e;dt+=I,ne+=_}if(Le!==0)if(Le<0){if(se!==oe)for(ze=L*se,Me=L*oe,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,X=R[ne],R[ne]=R[he],R[he]=X,xt+=w;++oe}else for(;;){ne=m+J*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Le=R[ne]-nt[dt],Le!==0)break e;dt+=I,ne+=_}if(Le>0)J--;else if(Le<0){for(ze=L*se,Me=L*oe,_e=L*J,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,me=_e+xt,X=R[ne],R[ne]=R[he],R[he]=R[me],R[me]=X,xt+=w;++oe,--J;break}else{for(ze=L*se,Me=L*J,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,X=R[ne],R[ne]=R[he],R[he]=X,xt+=w;--J;break}}}else for(se=oe;se<=J;++se){ne=m+se*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(we=R[ne]-nt[dt],we!==0)break e;dt+=I,ne+=_}if(we<0){if(se!==oe)for(ze=L*se,Me=L*oe,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,X=R[ne],R[ne]=R[he],R[he]=X,xt+=w;++oe}else{ne=m+se*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Te=R[ne]-Fe[dt],Te!==0)break e;dt+=I,ne+=_}if(Te>0)for(;;){ne=m+J*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Le=R[ne]-Fe[dt],Le!==0)break e;dt+=I,ne+=_}if(Le>0){if(--J<se)break;continue}else{ne=m+J*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Le=R[ne]-nt[dt],Le!==0)break e;dt+=I,ne+=_}if(Le<0){for(ze=L*se,Me=L*oe,_e=L*J,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,me=_e+xt,X=R[ne],R[ne]=R[he],R[he]=R[me],R[me]=X,xt+=w;++oe,--J}else{for(ze=L*se,Me=L*J,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,X=R[ne],R[ne]=R[he],R[he]=X,xt+=w;--J}break}}}}for(ze=L*b,Me=L*(oe-1),dt=0,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,R[ne]=R[he],R[he]=nt[dt],++dt,xt+=w;for(ze=L*A,Me=L*(J+1),dt=0,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,R[ne]=R[he],R[he]=Fe[dt],++dt,xt+=w;if(oe-2-b<=32?T(b,oe-2,R,m,L,M,s,S,w,_,I):g(b,oe-2,R,m,L,M,s,S,w,_,I),A-(J+2)<=32?T(J+2,A,R,m,L,M,s,S,w,_,I):g(J+2,A,R,m,L,M,s,S,w,_,I),ee){i(nt),i(Fe);return}if(oe<O&&J>V){e:for(;;){for(ne=m+oe*L,dt=0,xt=m,Ie=0;Ie<S;++Ie){if(R[ne]!==nt[dt])break e;++dt,ne+=w}++oe}e:for(;;){for(ne=m+J*L,dt=0,xt=m,Ie=0;Ie<S;++Ie){if(R[ne]!==Fe[dt])break e;++dt,ne+=w}--J}for(se=oe;se<=J;++se){ne=m+se*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(we=R[ne]-nt[dt],we!==0)break e;dt+=I,ne+=_}if(we===0){if(se!==oe)for(ze=L*se,Me=L*oe,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,X=R[ne],R[ne]=R[he],R[he]=X,xt+=w;++oe}else{ne=m+se*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Te=R[ne]-Fe[dt],Te!==0)break e;dt+=I,ne+=_}if(Te===0)for(;;){ne=m+J*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Le=R[ne]-Fe[dt],Le!==0)break e;dt+=I,ne+=_}if(Le===0){if(--J<se)break;continue}else{ne=m+J*L,dt=0;e:for(Ie=0;Ie<S;++Ie){if(Le=R[ne]-nt[dt],Le!==0)break e;dt+=I,ne+=_}if(Le<0){for(ze=L*se,Me=L*oe,_e=L*J,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,me=_e+xt,X=R[ne],R[ne]=R[he],R[he]=R[me],R[me]=X,xt+=w;++oe,--J}else{for(ze=L*se,Me=L*J,xt=m,Ie=0;Ie<S;++Ie)ne=ze+xt,he=Me+xt,X=R[ne],R[ne]=R[he],R[he]=X,xt+=w;--J}break}}}}}i(nt),i(Fe),J-oe<=32?T(oe,J,R,m,L,M,s,S,w,_,I):g(oe,J,R,m,L,M,s,S,w,_,I)}}};function l(T,h,i){var g=o(h),b=[h,T].join(","),A=f[b];return T.length>1&&g?A(i,g[0],g[1]):A(i)}var y={"uint32,1,0":function(T,h){return function(i){var g=i.data,b=i.offset|0,A=i.shape,R=i.stride,m=R[0]|0,L=A[0]|0,M=R[1]|0,s=A[1]|0,S=M,w=M,_=1;L<=32?T(0,L-1,g,b,m,M,L,s,S,w,_):h(0,L-1,g,b,m,M,L,s,S,w,_)}}};function c(T,h){var i=[h,T].join(","),g=y[i],b=u(T,h),A=l(T,h,b);return g(b,A)}v.exports=c},446:function(v,p,r){var t=r(7640),o={};function a(u){var f=u.order,l=u.dtype,y=[f,l],c=y.join(":"),T=o[c];return T||(o[c]=T=t(f,l)),T(u),u}v.exports=a},9618:function(v,p,r){var t=r(7163),o=typeof Float64Array<"u";function a(h,i){return h[0]-i[0]}function u(){var h=this.stride,i=new Array(h.length),g;for(g=0;g<i.length;++g)i[g]=[Math.abs(h[g]),g];i.sort(a);var b=new Array(i.length);for(g=0;g<b.length;++g)b[g]=i[g][1];return b}var f={T:function(h){function i(b){this.data=b}var g=i.prototype;return g.dtype=h,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new i(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(A){return new i(A)}},0:function(h,i){function g(A,R){this.data=A,this.offset=R}var b=g.prototype;return b.dtype=h,b.index=function(){return this.offset},b.dimension=0,b.size=1,b.shape=b.stride=b.order=[],b.lo=b.hi=b.transpose=b.step=function(){return new g(this.data,this.offset)},b.pick=function(){return i(this.data)},b.valueOf=b.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},b.set=function(R){return h==="generic"?this.data.set(this.offset,R):this.data[this.offset]=R},function(R,m,L,M){return new g(R,M)}},1:function(h,i,g){function b(R,m,L,M){this.data=R,this.shape=[m],this.stride=[L],this.offset=M|0}var A=b.prototype;return A.dtype=h,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(m,L){return h==="generic"?this.data.set(this.offset+this.stride[0]*m,L):this.data[this.offset+this.stride[0]*m]=L},A.get=function(m){return h==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},A.index=function(m){return this.offset+this.stride[0]*m},A.hi=function(m){return new b(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},A.lo=function(m){var L=this.offset,M=0,s=this.shape[0],S=this.stride[0];return typeof m=="number"&&m>=0&&(M=m|0,L+=S*M,s-=M),new b(this.data,s,S,L)},A.step=function(m){var L=this.shape[0],M=this.stride[0],s=this.offset,S=0,w=Math.ceil;return typeof m=="number"&&(S=m|0,S<0?(s+=M*(L-1),L=w(-L/S)):L=w(L/S),M*=S),new b(this.data,L,M,s)},A.transpose=function(m){m=m===void 0?0:m|0;var L=this.shape,M=this.stride;return new b(this.data,L[m],M[m],this.offset)},A.pick=function(m){var L=[],M=[],s=this.offset;typeof m=="number"&&m>=0?s=s+this.stride[0]*m|0:(L.push(this.shape[0]),M.push(this.stride[0]));var S=i[L.length+1];return S(this.data,L,M,s)},function(m,L,M,s){return new b(m,L[0],M[0],s)}},2:function(h,i,g){function b(R,m,L,M,s,S){this.data=R,this.shape=[m,L],this.stride=[M,s],this.offset=S|0}var A=b.prototype;return A.dtype=h,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(m,L,M){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*L,M):this.data[this.offset+this.stride[0]*m+this.stride[1]*L]=M},A.get=function(m,L){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*L):this.data[this.offset+this.stride[0]*m+this.stride[1]*L]},A.index=function(m,L){return this.offset+this.stride[0]*m+this.stride[1]*L},A.hi=function(m,L){return new b(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof L!="number"||L<0?this.shape[1]:L|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(m,L){var M=this.offset,s=0,S=this.shape[0],w=this.shape[1],_=this.stride[0],I=this.stride[1];return typeof m=="number"&&m>=0&&(s=m|0,M+=_*s,S-=s),typeof L=="number"&&L>=0&&(s=L|0,M+=I*s,w-=s),new b(this.data,S,w,_,I,M)},A.step=function(m,L){var M=this.shape[0],s=this.shape[1],S=this.stride[0],w=this.stride[1],_=this.offset,I=0,H=Math.ceil;return typeof m=="number"&&(I=m|0,I<0?(_+=S*(M-1),M=H(-M/I)):M=H(M/I),S*=I),typeof L=="number"&&(I=L|0,I<0?(_+=w*(s-1),s=H(-s/I)):s=H(s/I),w*=I),new b(this.data,M,s,S,w,_)},A.transpose=function(m,L){m=m===void 0?0:m|0,L=L===void 0?1:L|0;var M=this.shape,s=this.stride;return new b(this.data,M[m],M[L],s[m],s[L],this.offset)},A.pick=function(m,L){var M=[],s=[],S=this.offset;typeof m=="number"&&m>=0?S=S+this.stride[0]*m|0:(M.push(this.shape[0]),s.push(this.stride[0])),typeof L=="number"&&L>=0?S=S+this.stride[1]*L|0:(M.push(this.shape[1]),s.push(this.stride[1]));var w=i[M.length+1];return w(this.data,M,s,S)},function(m,L,M,s){return new b(m,L[0],L[1],M[0],M[1],s)}},3:function(h,i,g){function b(R,m,L,M,s,S,w,_){this.data=R,this.shape=[m,L,M],this.stride=[s,S,w],this.offset=_|0}var A=b.prototype;return A.dtype=h,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var m=Math.abs(this.stride[0]),L=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return m>L?L>M?[2,1,0]:m>M?[1,2,0]:[1,0,2]:m>M?[2,0,1]:M>L?[0,1,2]:[0,2,1]}}),A.set=function(m,L,M,s){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M,s):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M]=s},A.get=function(m,L,M){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M]},A.index=function(m,L,M){return this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M},A.hi=function(m,L,M){return new b(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof L!="number"||L<0?this.shape[1]:L|0,typeof M!="number"||M<0?this.shape[2]:M|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(m,L,M){var s=this.offset,S=0,w=this.shape[0],_=this.shape[1],I=this.shape[2],H=this.stride[0],O=this.stride[1],V=this.stride[2];return typeof m=="number"&&m>=0&&(S=m|0,s+=H*S,w-=S),typeof L=="number"&&L>=0&&(S=L|0,s+=O*S,_-=S),typeof M=="number"&&M>=0&&(S=M|0,s+=V*S,I-=S),new b(this.data,w,_,I,H,O,V,s)},A.step=function(m,L,M){var s=this.shape[0],S=this.shape[1],w=this.shape[2],_=this.stride[0],I=this.stride[1],H=this.stride[2],O=this.offset,V=0,B=Math.ceil;return typeof m=="number"&&(V=m|0,V<0?(O+=_*(s-1),s=B(-s/V)):s=B(s/V),_*=V),typeof L=="number"&&(V=L|0,V<0?(O+=I*(S-1),S=B(-S/V)):S=B(S/V),I*=V),typeof M=="number"&&(V=M|0,V<0?(O+=H*(w-1),w=B(-w/V)):w=B(w/V),H*=V),new b(this.data,s,S,w,_,I,H,O)},A.transpose=function(m,L,M){m=m===void 0?0:m|0,L=L===void 0?1:L|0,M=M===void 0?2:M|0;var s=this.shape,S=this.stride;return new b(this.data,s[m],s[L],s[M],S[m],S[L],S[M],this.offset)},A.pick=function(m,L,M){var s=[],S=[],w=this.offset;typeof m=="number"&&m>=0?w=w+this.stride[0]*m|0:(s.push(this.shape[0]),S.push(this.stride[0])),typeof L=="number"&&L>=0?w=w+this.stride[1]*L|0:(s.push(this.shape[1]),S.push(this.stride[1])),typeof M=="number"&&M>=0?w=w+this.stride[2]*M|0:(s.push(this.shape[2]),S.push(this.stride[2]));var _=i[s.length+1];return _(this.data,s,S,w)},function(m,L,M,s){return new b(m,L[0],L[1],L[2],M[0],M[1],M[2],s)}},4:function(h,i,g){function b(R,m,L,M,s,S,w,_,I,H){this.data=R,this.shape=[m,L,M,s],this.stride=[S,w,_,I],this.offset=H|0}var A=b.prototype;return A.dtype=h,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:g}),A.set=function(m,L,M,s,S){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s,S):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s]=S},A.get=function(m,L,M,s){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s]},A.index=function(m,L,M,s){return this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s},A.hi=function(m,L,M,s){return new b(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof L!="number"||L<0?this.shape[1]:L|0,typeof M!="number"||M<0?this.shape[2]:M|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(m,L,M,s){var S=this.offset,w=0,_=this.shape[0],I=this.shape[1],H=this.shape[2],O=this.shape[3],V=this.stride[0],B=this.stride[1],F=this.stride[2],G=this.stride[3];return typeof m=="number"&&m>=0&&(w=m|0,S+=V*w,_-=w),typeof L=="number"&&L>=0&&(w=L|0,S+=B*w,I-=w),typeof M=="number"&&M>=0&&(w=M|0,S+=F*w,H-=w),typeof s=="number"&&s>=0&&(w=s|0,S+=G*w,O-=w),new b(this.data,_,I,H,O,V,B,F,G,S)},A.step=function(m,L,M,s){var S=this.shape[0],w=this.shape[1],_=this.shape[2],I=this.shape[3],H=this.stride[0],O=this.stride[1],V=this.stride[2],B=this.stride[3],F=this.offset,G=0,Y=Math.ceil;return typeof m=="number"&&(G=m|0,G<0?(F+=H*(S-1),S=Y(-S/G)):S=Y(S/G),H*=G),typeof L=="number"&&(G=L|0,G<0?(F+=O*(w-1),w=Y(-w/G)):w=Y(w/G),O*=G),typeof M=="number"&&(G=M|0,G<0?(F+=V*(_-1),_=Y(-_/G)):_=Y(_/G),V*=G),typeof s=="number"&&(G=s|0,G<0?(F+=B*(I-1),I=Y(-I/G)):I=Y(I/G),B*=G),new b(this.data,S,w,_,I,H,O,V,B,F)},A.transpose=function(m,L,M,s){m=m===void 0?0:m|0,L=L===void 0?1:L|0,M=M===void 0?2:M|0,s=s===void 0?3:s|0;var S=this.shape,w=this.stride;return new b(this.data,S[m],S[L],S[M],S[s],w[m],w[L],w[M],w[s],this.offset)},A.pick=function(m,L,M,s){var S=[],w=[],_=this.offset;typeof m=="number"&&m>=0?_=_+this.stride[0]*m|0:(S.push(this.shape[0]),w.push(this.stride[0])),typeof L=="number"&&L>=0?_=_+this.stride[1]*L|0:(S.push(this.shape[1]),w.push(this.stride[1])),typeof M=="number"&&M>=0?_=_+this.stride[2]*M|0:(S.push(this.shape[2]),w.push(this.stride[2])),typeof s=="number"&&s>=0?_=_+this.stride[3]*s|0:(S.push(this.shape[3]),w.push(this.stride[3]));var I=i[S.length+1];return I(this.data,S,w,_)},function(m,L,M,s){return new b(m,L[0],L[1],L[2],L[3],M[0],M[1],M[2],M[3],s)}},5:function(i,g,b){function A(m,L,M,s,S,w,_,I,H,O,V,B){this.data=m,this.shape=[L,M,s,S,w],this.stride=[_,I,H,O,V],this.offset=B|0}var R=A.prototype;return R.dtype=i,R.dimension=5,Object.defineProperty(R,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(R,"order",{get:b}),R.set=function(L,M,s,S,w,_){return i==="generic"?this.data.set(this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*w,_):this.data[this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*w]=_},R.get=function(L,M,s,S,w){return i==="generic"?this.data.get(this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*w):this.data[this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*w]},R.index=function(L,M,s,S,w){return this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*w},R.hi=function(L,M,s,S,w){return new A(this.data,typeof L!="number"||L<0?this.shape[0]:L|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof S!="number"||S<0?this.shape[3]:S|0,typeof w!="number"||w<0?this.shape[4]:w|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},R.lo=function(L,M,s,S,w){var _=this.offset,I=0,H=this.shape[0],O=this.shape[1],V=this.shape[2],B=this.shape[3],F=this.shape[4],G=this.stride[0],Y=this.stride[1],Q=this.stride[2],te=this.stride[3],ae=this.stride[4];return typeof L=="number"&&L>=0&&(I=L|0,_+=G*I,H-=I),typeof M=="number"&&M>=0&&(I=M|0,_+=Y*I,O-=I),typeof s=="number"&&s>=0&&(I=s|0,_+=Q*I,V-=I),typeof S=="number"&&S>=0&&(I=S|0,_+=te*I,B-=I),typeof w=="number"&&w>=0&&(I=w|0,_+=ae*I,F-=I),new A(this.data,H,O,V,B,F,G,Y,Q,te,ae,_)},R.step=function(L,M,s,S,w){var _=this.shape[0],I=this.shape[1],H=this.shape[2],O=this.shape[3],V=this.shape[4],B=this.stride[0],F=this.stride[1],G=this.stride[2],Y=this.stride[3],Q=this.stride[4],te=this.offset,ae=0,fe=Math.ceil;return typeof L=="number"&&(ae=L|0,ae<0?(te+=B*(_-1),_=fe(-_/ae)):_=fe(_/ae),B*=ae),typeof M=="number"&&(ae=M|0,ae<0?(te+=F*(I-1),I=fe(-I/ae)):I=fe(I/ae),F*=ae),typeof s=="number"&&(ae=s|0,ae<0?(te+=G*(H-1),H=fe(-H/ae)):H=fe(H/ae),G*=ae),typeof S=="number"&&(ae=S|0,ae<0?(te+=Y*(O-1),O=fe(-O/ae)):O=fe(O/ae),Y*=ae),typeof w=="number"&&(ae=w|0,ae<0?(te+=Q*(V-1),V=fe(-V/ae)):V=fe(V/ae),Q*=ae),new A(this.data,_,I,H,O,V,B,F,G,Y,Q,te)},R.transpose=function(L,M,s,S,w){L=L===void 0?0:L|0,M=M===void 0?1:M|0,s=s===void 0?2:s|0,S=S===void 0?3:S|0,w=w===void 0?4:w|0;var _=this.shape,I=this.stride;return new A(this.data,_[L],_[M],_[s],_[S],_[w],I[L],I[M],I[s],I[S],I[w],this.offset)},R.pick=function(L,M,s,S,w){var _=[],I=[],H=this.offset;typeof L=="number"&&L>=0?H=H+this.stride[0]*L|0:(_.push(this.shape[0]),I.push(this.stride[0])),typeof M=="number"&&M>=0?H=H+this.stride[1]*M|0:(_.push(this.shape[1]),I.push(this.stride[1])),typeof s=="number"&&s>=0?H=H+this.stride[2]*s|0:(_.push(this.shape[2]),I.push(this.stride[2])),typeof S=="number"&&S>=0?H=H+this.stride[3]*S|0:(_.push(this.shape[3]),I.push(this.stride[3])),typeof w=="number"&&w>=0?H=H+this.stride[4]*w|0:(_.push(this.shape[4]),I.push(this.stride[4]));var O=g[_.length+1];return O(this.data,_,I,H)},function(L,M,s,S){return new A(L,M[0],M[1],M[2],M[3],M[4],s[0],s[1],s[2],s[3],s[4],S)}}};function l(h,i){var g=i===-1?"T":String(i),b=f[g];return i===-1?b(h):i===0?b(h,c[h][0]):b(h,c[h],u)}function y(h){if(t(h))return"buffer";if(o)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(h,i,g,b){if(h===void 0){var s=c.array[0];return s([])}else typeof h=="number"&&(h=[h]);i===void 0&&(i=[h.length]);var A=i.length;if(g===void 0){g=new Array(A);for(var R=A-1,m=1;R>=0;--R)g[R]=m,m*=i[R]}if(b===void 0){b=0;for(var R=0;R<A;++R)g[R]<0&&(b-=(i[R]-1)*g[R])}for(var L=y(h),M=c[L];M.length<=A+1;)M.push(l(L,M.length-1));var s=M[A+1];return s(h,i,g,b)}v.exports=T},1278:function(v,p,r){var t=r(2361),o=Math.pow(2,-1074),a=-1>>>0;v.exports=u;function u(f,l){if(isNaN(f)||isNaN(l))return NaN;if(f===l)return f;if(f===0)return l<0?-o:o;var y=t.hi(f),c=t.lo(f);return l>f==f>0?c===a?(y+=1,c=0):c+=1:c===0?(c=a,y-=1):c-=1,t.pack(c,y)}},8406:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(o,a,u){for(var f=a.length,l=new Array(f),y=u===void 0?r:u,c=0;c<f;++c)l[c]=[0,0,0];for(var c=0;c<o.length;++c)for(var T=o[c],h=0,i=T[T.length-1],g=T[0],b=0;b<T.length;++b){h=i,i=g,g=T[(b+1)%T.length];for(var A=a[h],R=a[i],m=a[g],L=new Array(3),M=0,s=new Array(3),S=0,w=0;w<3;++w)L[w]=A[w]-R[w],M+=L[w]*L[w],s[w]=m[w]-R[w],S+=s[w]*s[w];if(M*S>y)for(var _=l[i],I=1/Math.sqrt(M*S),w=0;w<3;++w){var H=(w+1)%3,O=(w+2)%3;_[w]+=I*(s[H]*L[O]-s[O]*L[H])}}for(var c=0;c<f;++c){for(var _=l[c],V=0,w=0;w<3;++w)V+=_[w]*_[w];if(V>y)for(var I=1/Math.sqrt(V),w=0;w<3;++w)_[w]*=I;else for(var w=0;w<3;++w)_[w]=0}return l},p.faceNormals=function(o,a,u){for(var f=o.length,l=new Array(f),y=u===void 0?t:u,c=0;c<f;++c){for(var T=o[c],h=new Array(3),i=0;i<3;++i)h[i]=a[T[i]];for(var g=new Array(3),b=new Array(3),i=0;i<3;++i)g[i]=h[1][i]-h[0][i],b[i]=h[2][i]-h[0][i];for(var A=new Array(3),R=0,i=0;i<3;++i){var m=(i+1)%3,L=(i+2)%3;A[i]=g[m]*b[L]-g[L]*b[m],R+=A[i]*A[i]}R>y?R=1/Math.sqrt(R):R=0;for(var i=0;i<3;++i)A[i]*=R;l[c]=A}return l}},4081:function(v){v.exports=p;function p(r,t,o,a,u,f,l,y,c,T){var h=t+f+T;if(i>0){var i=Math.sqrt(h+1);r[0]=.5*(l-c)/i,r[1]=.5*(y-a)/i,r[2]=.5*(o-f)/i,r[3]=.5*i}else{var g=Math.max(t,f,T),i=Math.sqrt(2*g-h+1);t>=g?(r[0]=.5*i,r[1]=.5*(u+o)/i,r[2]=.5*(y+a)/i,r[3]=.5*(l-c)/i):f>=g?(r[0]=.5*(o+u)/i,r[1]=.5*i,r[2]=.5*(c+l)/i,r[3]=.5*(y-a)/i):(r[0]=.5*(a+y)/i,r[1]=.5*(l+c)/i,r[2]=.5*i,r[3]=.5*(o-u)/i)}return r}},9977:function(v,p,r){v.exports=i;var t=r(9215),o=r(6582),a=r(7399),u=r(7608),f=r(4081);function l(g,b,A){return Math.sqrt(Math.pow(g,2)+Math.pow(b,2)+Math.pow(A,2))}function y(g,b,A,R){return Math.sqrt(Math.pow(g,2)+Math.pow(b,2)+Math.pow(A,2)+Math.pow(R,2))}function c(g,b){var A=b[0],R=b[1],m=b[2],L=b[3],M=y(A,R,m,L);M>1e-6?(g[0]=A/M,g[1]=R/M,g[2]=m/M,g[3]=L/M):(g[0]=g[1]=g[2]=0,g[3]=1)}function T(g,b,A){this.radius=t([A]),this.center=t(b),this.rotation=t(g),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=T.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(g){this.radius.curve(g),this.center.curve(g),this.rotation.curve(g);var b=this.computedRotation;c(b,b);var A=this.computedMatrix;a(A,b);var R=this.computedCenter,m=this.computedEye,L=this.computedUp,M=Math.exp(this.computedRadius[0]);m[0]=R[0]+M*A[2],m[1]=R[1]+M*A[6],m[2]=R[2]+M*A[10],L[0]=A[1],L[1]=A[5],L[2]=A[9];for(var s=0;s<3;++s){for(var S=0,w=0;w<3;++w)S+=A[s+4*w]*m[w];A[12+s]=-S}},h.getMatrix=function(g,b){this.recalcMatrix(g);var A=this.computedMatrix;if(b){for(var R=0;R<16;++R)b[R]=A[R];return b}return A},h.idle=function(g){this.center.idle(g),this.radius.idle(g),this.rotation.idle(g)},h.flush=function(g){this.center.flush(g),this.radius.flush(g),this.rotation.flush(g)},h.pan=function(g,b,A,R){b=b||0,A=A||0,R=R||0,this.recalcMatrix(g);var m=this.computedMatrix,L=m[1],M=m[5],s=m[9],S=l(L,M,s);L/=S,M/=S,s/=S;var w=m[0],_=m[4],I=m[8],H=w*L+_*M+I*s;w-=L*H,_-=M*H,I-=s*H;var O=l(w,_,I);w/=O,_/=O,I/=O,m[2],m[6],m[10];var V=w*b+L*A,B=_*b+M*A,F=I*b+s*A;this.center.move(g,V,B,F);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+R),this.radius.set(g,Math.log(G))},h.rotate=function(g,b,A,R){this.recalcMatrix(g),b=b||0,A=A||0;var m=this.computedMatrix,L=m[0],M=m[4],s=m[8],S=m[1],w=m[5],_=m[9],I=m[2],H=m[6],O=m[10],V=b*L+A*S,B=b*M+A*w,F=b*s+A*_,G=-(H*F-O*B),Y=-(O*V-I*F),Q=-(I*B-H*V),te=Math.sqrt(Math.max(0,1-Math.pow(G,2)-Math.pow(Y,2)-Math.pow(Q,2))),ae=y(G,Y,Q,te);ae>1e-6?(G/=ae,Y/=ae,Q/=ae,te/=ae):(G=Y=Q=0,te=1);var fe=this.computedRotation,oe=fe[0],J=fe[1],ee=fe[2],X=fe[3],q=oe*te+X*G+J*Q-ee*Y,le=J*te+X*Y+ee*G-oe*Q,$=ee*te+X*Q+oe*Y-J*G,j=X*te-oe*G-J*Y-ee*Q;if(R){G=I,Y=H,Q=O;var se=Math.sin(R)/l(G,Y,Q);G*=se,Y*=se,Q*=se,te=Math.cos(b),q=q*te+j*G+le*Q-$*Y,le=le*te+j*Y+$*G-q*Q,$=$*te+j*Q+q*Y-le*G,j=j*te-q*G-le*Y-$*Q}var ne=y(q,le,$,j);ne>1e-6?(q/=ne,le/=ne,$/=ne,j/=ne):(q=le=$=0,j=1),this.rotation.set(g,q,le,$,j)},h.lookAt=function(g,b,A,R){this.recalcMatrix(g),A=A||this.computedCenter,b=b||this.computedEye,R=R||this.computedUp;var m=this.computedMatrix;o(m,b,A,R);var L=this.computedRotation;f(L,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),c(L,L),this.rotation.set(g,L[0],L[1],L[2],L[3]);for(var M=0,s=0;s<3;++s)M+=Math.pow(A[s]-b[s],2);this.radius.set(g,.5*Math.log(Math.max(M,1e-6))),this.center.set(g,A[0],A[1],A[2])},h.translate=function(g,b,A,R){this.center.move(g,b||0,A||0,R||0)},h.setMatrix=function(g,b){var A=this.computedRotation;f(A,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),c(A,A),this.rotation.set(g,A[0],A[1],A[2],A[3]);var R=this.computedMatrix;u(R,b);var m=R[15];if(Math.abs(m)>1e-6){var L=R[12]/m,M=R[13]/m,s=R[14]/m;this.recalcMatrix(g);var S=Math.exp(this.computedRadius[0]);this.center.set(g,L-R[2]*S,M-R[6]*S,s-R[10]*S),this.radius.idle(g)}else this.center.idle(g),this.radius.idle(g)},h.setDistance=function(g,b){b>0&&this.radius.set(g,Math.log(b))},h.setDistanceLimits=function(g,b){g>0?g=Math.log(g):g=-1/0,b>0?b=Math.log(b):b=1/0,b=Math.max(b,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=b},h.getDistanceLimits=function(g){var b=this.radius.bounds;return g?(g[0]=Math.exp(b[0][0]),g[1]=Math.exp(b[1][0]),g):[Math.exp(b[0][0]),Math.exp(b[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(g){var b=this.lastT(),A=g.center;A&&this.center.set(b,A[0],A[1],A[2]);var R=g.rotation;R&&this.rotation.set(b,R[0],R[1],R[2],R[3]);var m=g.distance;m&&m>0&&this.radius.set(b,Math.log(m)),this.setDistanceLimits(g.zoomMin,g.zoomMax)};function i(g){g=g||{};var b=g.center||[0,0,0],A=g.rotation||[0,0,0,1],R=g.radius||1;b=[].slice.call(b,0,3),A=[].slice.call(A,0,4),c(A,A);var m=new T(A,b,Math.log(R));return m.setDistanceLimits(g.zoomMin,g.zoomMax),("eye"in g||"up"in g)&&m.lookAt(0,g.eye,g.center,g.up),m}},1371:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(a,u,f){return f=typeof f<"u"?f+"":" ",t(f,u)+a}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var o=parseFloat(r,10);return t[0]=o,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,p,r){v.exports=o;var t=r(3140);function o(a,u){for(var f=u.length|0,l=a.length,y=[new Array(f),new Array(f)],c=0;c<f;++c)y[0][c]=[],y[1][c]=[];for(var c=0;c<l;++c){var T=a[c];y[0][T[0]].push(T),y[1][T[1]].push(T)}for(var h=[],c=0;c<f;++c)y[0][c].length+y[1][c].length===0&&h.push([c]);function i(M,s){var S=y[s][M[s]];S.splice(S.indexOf(M),1)}function g(M,s,S){for(var w,_,I,H=0;H<2;++H)if(y[H][s].length>0){w=y[H][s][0],I=H;break}_=w[I^1];for(var O=0;O<2;++O)for(var V=y[O][s],B=0;B<V.length;++B){var F=V[B],G=F[O^1],Y=t(u[M],u[s],u[_],u[G]);Y>0&&(w=F,_=G,I=O)}return S||w&&i(w,I),_}function b(M,s){var S=y[s][M][0],w=[M];i(S,s);for(var _=S[s^1];;){for(;_!==M;)w.push(_),_=g(w[w.length-2],_,!1);if(y[0][M].length+y[1][M].length===0)break;var I=w[w.length-1],H=M,O=w[1],V=g(I,H,!0);if(t(u[I],u[H],u[O],u[V])<0)break;w.push(M),_=g(I,H)}return w}function A(M,s){return s[1]===s[s.length-1]}for(var c=0;c<f;++c)for(var R=0;R<2;++R){for(var m=[];y[R][c].length>0;){y[0][c].length;var L=b(c,R);A(m,L)?m.push.apply(m,L):(m.length>0&&h.push(m),m=L)}m.length>0&&h.push(m)}return h}},5609:function(v,p,r){v.exports=o;var t=r(3134);function o(a,u){for(var f=t(a,u.length),l=new Array(u.length),y=new Array(u.length),c=[],T=0;T<u.length;++T){var h=f[T].length;y[T]=h,l[T]=!0,h<=1&&c.push(T)}for(;c.length>0;){var i=c.pop();l[i]=!1;for(var g=f[i],T=0;T<g.length;++T){var b=g[T];--y[b]===0&&c.push(b)}}for(var A=new Array(u.length),R=[],T=0;T<u.length;++T)if(l[T]){var i=R.length;A[T]=i,R.push(u[T])}else A[T]=-1;for(var m=[],T=0;T<a.length;++T){var L=a[T];l[L[0]]&&l[L[1]]&&m.push([A[L[0]],A[L[1]]])}return[m,R]}},2095:function(v,p,r){v.exports=h;var t=r(3134),o=r(3088),a=r(5085),u=r(5250),f=r(8210),l=r(1682),y=r(5609);function c(i,g){for(var b=new Array(i),A=0;A<i;++A)b[A]=g;return b}function T(i){for(var g=new Array(i),b=0;b<i;++b)g[b]=[];return g}function h(i,g){var j=y(i,g);i=j[0],g=j[1];var b=g.length;i.length;for(var A=t(i,g.length),R=0;R<b;++R)if(A[R].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=o(i,g);function L(Le){for(var Ie=Le.length,ze=[0],Me=0;Me<Ie;++Me){var _e=g[Le[Me]],Ce=g[Le[(Me+1)%Ie]],Oe=u(-_e[0],_e[1]),Pe=u(-_e[0],Ce[1]),Ge=u(Ce[0],_e[1]),Ze=u(Ce[0],Ce[1]);ze=f(ze,f(f(Oe,Pe),f(Ge,Ze)))}return ze[ze.length-1]>0}m=m.filter(L);for(var M=m.length,s=new Array(M),S=new Array(M),R=0;R<M;++R){s[R]=R;var w=new Array(M),_=m[R].map(function(Ie){return g[Ie]}),I=a([_]),H=0;e:for(var O=0;O<M;++O)if(w[O]=0,R!==O){for(var V=m[O],B=V.length,F=0;F<B;++F){var G=I(g[V[F]]);if(G!==0){G<0&&(w[O]=1,H+=1);continue e}}w[O]=1,H+=1}S[R]=[H,R,w]}S.sort(function(Le,Ie){return Ie[0]-Le[0]});for(var R=0;R<M;++R)for(var w=S[R],Y=w[1],Q=w[2],O=0;O<M;++O)Q[O]&&(s[O]=Y);for(var te=T(M),R=0;R<M;++R)te[R].push(s[R]),te[s[R]].push(R);for(var ae={},fe=c(b,!1),R=0;R<M;++R)for(var V=m[R],B=V.length,O=0;O<B;++O){var oe=V[O],J=V[(O+1)%B],ee=Math.min(oe,J)+":"+Math.max(oe,J);if(ee in ae){var X=ae[ee];te[X].push(R),te[R].push(X),fe[oe]=fe[J]=!0}else ae[ee]=R}function q(Le){for(var Ie=Le.length,ze=0;ze<Ie;++ze)if(!fe[Le[ze]])return!1;return!0}for(var le=[],$=c(M,-1),R=0;R<M;++R)s[R]===R&&!q(m[R])?(le.push(R),$[R]=0):$[R]=-1;for(var j=[];le.length>0;){var se=le.pop(),ne=te[se];l(ne,function(Le,Ie){return Le-Ie});var he=ne.length,me=$[se],we;if(me===0){var V=m[se];we=[V]}for(var R=0;R<he;++R){var Te=ne[R];if(!($[Te]>=0)&&($[Te]=me^1,le.push(Te),me===0)){var V=m[Te];q(V)||(V.reverse(),we.push(V))}}me===0&&j.push(we)}return j}},5085:function(v,p,r){v.exports=g;var t=r(3250)[3],o=r(4209),a=r(3352),u=r(2478);function f(){return!0}function l(b){return function(A,R){var m=b[A];return m?!!m.queryPoint(R,f):!1}}function y(b){for(var A={},R=0;R<b.length;++R){var m=b[R],L=m[0][0],M=m[0][1],s=m[1][1],S=[Math.min(M,s),Math.max(M,s)];L in A?A[L].push(S):A[L]=[S]}for(var w={},_=Object.keys(A),R=0;R<_.length;++R){var I=A[_[R]];w[_[R]]=a(I)}return l(w)}function c(b,A){return function(R){var m=u.le(A,R[0]);if(m<0)return 1;var L=b[m];if(!L)if(m>0&&A[m]===R[0])L=b[m-1];else return 1;for(var M=1;L;){var s=L.key,S=t(R,s[0],s[1]);if(s[0][0]<s[1][0])if(S<0)L=L.left;else if(S>0)M=-1,L=L.right;else return 0;else if(S>0)L=L.left;else if(S<0)M=1,L=L.right;else return 0}return M}}function T(b){return 1}function h(b){return function(R){return b(R[0],R[1])?0:1}}function i(b,A){return function(m){return b(m[0],m[1])?0:A(m)}}function g(b){for(var A=b.length,R=[],m=[],L=0;L<A;++L)for(var M=b[L],s=M.length,S=s-1,w=0;w<s;S=w++){var _=M[S],I=M[w];_[0]===I[0]?m.push([_,I]):R.push([_,I])}if(R.length===0)return m.length===0?T:h(y(m));var H=o(R),O=c(H.slabs,H.coordinates);return m.length===0?O:i(y(m),O)}},9346:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function o(a,u,f,l,y){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var c=0;c<l.length;++c)p[c]=a[c]-l[c],r[c]=u[c]-a[c],t[c]=f[c]-a[c];for(var T=0,h=0,i=0,g=0,b=0,A=0,c=0;c<l.length;++c){var R=r[c],m=t[c],L=p[c];T+=R*R,h+=R*m,i+=m*m,g+=L*R,b+=L*m,A+=L*L}var M=Math.abs(T*i-h*h),s=h*b-i*g,S=h*g-T*b,w;if(s+S<=M)if(s<0)S<0&&g<0?(S=0,-g>=T?(s=1,w=T+2*g+A):(s=-g/T,w=g*s+A)):(s=0,b>=0?(S=0,w=A):-b>=i?(S=1,w=i+2*b+A):(S=-b/i,w=b*S+A));else if(S<0)S=0,g>=0?(s=0,w=A):-g>=T?(s=1,w=T+2*g+A):(s=-g/T,w=g*s+A);else{var _=1/M;s*=_,S*=_,w=s*(T*s+h*S+2*g)+S*(h*s+i*S+2*b)+A}else{var I,H,O,V;s<0?(I=h+g,H=i+b,H>I?(O=H-I,V=T-2*h+i,O>=V?(s=1,S=0,w=T+2*g+A):(s=O/V,S=1-s,w=s*(T*s+h*S+2*g)+S*(h*s+i*S+2*b)+A)):(s=0,H<=0?(S=1,w=i+2*b+A):b>=0?(S=0,w=A):(S=-b/i,w=b*S+A))):S<0?(I=h+b,H=T+g,H>I?(O=H-I,V=T-2*h+i,O>=V?(S=1,s=0,w=i+2*b+A):(S=O/V,s=1-S,w=s*(T*s+h*S+2*g)+S*(h*s+i*S+2*b)+A)):(S=0,H<=0?(s=1,w=T+2*g+A):g>=0?(s=0,w=A):(s=-g/T,w=g*s+A))):(O=i+b-h-g,O<=0?(s=0,S=1,w=i+2*b+A):(V=T-2*h+i,O>=V?(s=1,S=0,w=T+2*g+A):(s=O/V,S=1-s,w=s*(T*s+h*S+2*g)+S*(h*s+i*S+2*b)+A)))}for(var B=1-s-S,c=0;c<l.length;++c)y[c]=B*a[c]+s*u[c]+S*f[c];return w<0?0:w}v.exports=o},8648:function(v,p,r){v.exports=r(783)},2653:function(v,p,r){var t=r(3865);v.exports=o;function o(a,u){for(var f=a.length,l=new Array(f),y=0;y<f;++y)l[y]=t(a[y],u[y]);return l}},5838:function(v,p,r){v.exports=o;var t=r(7842);function o(a){for(var u=new Array(a.length),f=0;f<a.length;++f)u[f]=t(a[f]);return u}},8987:function(v,p,r){var t=r(7842),o=r(6504);v.exports=a;function a(u,f){for(var l=t(f),y=u.length,c=new Array(y),T=0;T<y;++T)c[T]=o(u[T],l);return c}},544:function(v,p,r){var t=r(5572);v.exports=o;function o(a,u){for(var f=a.length,l=new Array(f),y=0;y<f;++y)l[y]=t(a[y],u[y]);return l}},5771:function(v,p,r){var t=r(8507),o=r(3788),a=r(2419);v.exports=u;function u(f){f.sort(o);for(var l=f.length,y=0,c=0;c<l;++c){var T=f[c],h=a(T);if(h!==0){if(y>0){var i=f[y-1];if(t(T,i)===0&&a(i)!==h){y-=1;continue}}f[y++]=T}}return f.length=y,f}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(o,a){if(typeof o!="string")throw new TypeError("expected a string");if(a===1)return o;if(a===2)return o+o;var u=o.length*a;if(r!==o||typeof r>"u")r=o,p="";else if(p.length>=u)return p.substr(0,u);for(;u>p.length&&a>1;)a&1&&(p+=o),a>>=1,o+=o;return p+=o,p=p.substr(0,u),p}},3025:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=p;function p(r){for(var t=r.length,o=r[r.length-1],a=t,u=t-2;u>=0;--u){var f=o,l=r[u];o=f+l;var y=o-f,c=l-y;c&&(r[--a]=o,o=c)}for(var T=0,u=a;u<t;++u){var f=r[u],l=o;o=f+l;var y=o-f,c=l-y;c&&(r[T++]=c)}return r[T++]=o,r.length=T,r}},2962:function(v,p,r){var t=r(5250),o=r(8210),a=r(3012),u=r(7004),f=6;function l(A,R,m,L){return function(s){return L(A(m(s[0][0],s[1][1]),m(-s[0][1],s[1][0])))}}function y(A,R,m,L){return function(s){return L(A(R(A(m(s[1][1],s[2][2]),m(-s[1][2],s[2][1])),s[0][0]),A(R(A(m(s[1][0],s[2][2]),m(-s[1][2],s[2][0])),-s[0][1]),R(A(m(s[1][0],s[2][1]),m(-s[1][1],s[2][0])),s[0][2]))))}}function c(A,R,m,L){return function(s){return L(A(A(R(A(R(A(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][1]),A(R(A(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),-s[1][2]),R(A(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),R(A(R(A(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][0]),A(R(A(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][2]),R(A(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),A(R(A(R(A(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),s[1][0]),A(R(A(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][1]),R(A(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),R(A(R(A(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][0]),A(R(A(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),-s[1][1]),R(A(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function T(A,R,m,L){return function(s){return L(A(A(R(A(A(R(A(R(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),A(R(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),R(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),R(A(R(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),A(R(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),R(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),A(R(A(R(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),A(R(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),R(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),R(A(R(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),A(R(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),R(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),R(A(A(R(A(R(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),A(R(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),R(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),R(A(R(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),A(R(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),R(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),A(R(A(R(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),A(R(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),R(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),R(A(R(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),A(R(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),R(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),A(R(A(A(R(A(R(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),A(R(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),R(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),R(A(R(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),A(R(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),R(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),A(R(A(R(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),A(R(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),R(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),R(A(R(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),A(R(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),R(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),A(R(A(A(R(A(R(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),A(R(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),R(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),R(A(R(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),A(R(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),R(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),A(R(A(R(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),A(R(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),R(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),R(A(R(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),A(R(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),R(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),R(A(A(R(A(R(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),A(R(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),R(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),R(A(R(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),A(R(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),R(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),A(R(A(R(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),A(R(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),R(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),R(A(R(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),A(R(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),R(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function h(A){var R=A===2?l:A===3?y:A===4?c:A===5?T:void 0;return R(o,a,t,u)}var i=[function(){return[0]},function(R){return[R[0][0]]}];function g(A,R,m,L,M,s,S,w){return function(I){switch(I.length){case 0:return A(I);case 1:return R(I);case 2:return m(I);case 3:return L(I);case 4:return M(I);case 5:return s(I)}var H=S[I.length];return H||(H=S[I.length]=w(I.length)),H(I)}}function b(){for(;i.length<f;)i.push(h(i.length));v.exports=g.apply(void 0,i.concat([i,h]));for(var A=0;A<i.length;++A)v.exports[A]=i[A]}b()},1944:function(v,p,r){var t=r(5250),o=r(8210);v.exports=a;function a(u,f){for(var l=t(u[0],f[0]),y=1;y<u.length;++y)l=o(l,t(u[y],f[y]));return l}},2646:function(v,p,r){var t=r(5250),o=r(8210),a=r(8545),u=r(3012),f=6;function l(M){var s=M===3?h:M===4?i:M===5?g:b;return s(o,a,t,u)}function y(){return 0}function c(){return 0}function T(){return 0}function h(M,s,S,w){function _(I,H,O){var V=S(I[0],I[0]),B=w(V,H[0]),F=w(V,O[0]),G=S(H[0],H[0]),Y=w(G,I[0]),Q=w(G,O[0]),te=S(O[0],O[0]),ae=w(te,I[0]),fe=w(te,H[0]),oe=M(s(fe,Q),s(Y,B)),J=s(ae,F),ee=s(oe,J);return ee[ee.length-1]}return _}function i(M,s,S,w){function _(I,H,O,V){var B=M(S(I[0],I[0]),S(I[1],I[1])),F=w(B,H[0]),G=w(B,O[0]),Y=w(B,V[0]),Q=M(S(H[0],H[0]),S(H[1],H[1])),te=w(Q,I[0]),ae=w(Q,O[0]),fe=w(Q,V[0]),oe=M(S(O[0],O[0]),S(O[1],O[1])),J=w(oe,I[0]),ee=w(oe,H[0]),X=w(oe,V[0]),q=M(S(V[0],V[0]),S(V[1],V[1])),le=w(q,I[0]),$=w(q,H[0]),j=w(q,O[0]),se=M(M(w(s(j,X),H[1]),M(w(s($,fe),-O[1]),w(s(ee,ae),V[1]))),M(w(s($,fe),I[1]),M(w(s(le,Y),-H[1]),w(s(te,F),V[1])))),ne=M(M(w(s(j,X),I[1]),M(w(s(le,Y),-O[1]),w(s(J,G),V[1]))),M(w(s(ee,ae),I[1]),M(w(s(J,G),-H[1]),w(s(te,F),O[1])))),he=s(se,ne);return he[he.length-1]}return _}function g(M,s,S,w){function _(I,H,O,V,B){var F=M(S(I[0],I[0]),M(S(I[1],I[1]),S(I[2],I[2]))),G=w(F,H[0]),Y=w(F,O[0]),Q=w(F,V[0]),te=w(F,B[0]),ae=M(S(H[0],H[0]),M(S(H[1],H[1]),S(H[2],H[2]))),fe=w(ae,I[0]),oe=w(ae,O[0]),J=w(ae,V[0]),ee=w(ae,B[0]),X=M(S(O[0],O[0]),M(S(O[1],O[1]),S(O[2],O[2]))),q=w(X,I[0]),le=w(X,H[0]),$=w(X,V[0]),j=w(X,B[0]),se=M(S(V[0],V[0]),M(S(V[1],V[1]),S(V[2],V[2]))),ne=w(se,I[0]),he=w(se,H[0]),me=w(se,O[0]),we=w(se,B[0]),Te=M(S(B[0],B[0]),M(S(B[1],B[1]),S(B[2],B[2]))),Le=w(Te,I[0]),Ie=w(Te,H[0]),ze=w(Te,O[0]),Me=w(Te,V[0]),_e=M(M(M(w(M(w(s(Me,we),O[1]),M(w(s(ze,j),-V[1]),w(s(me,$),B[1]))),H[2]),M(w(M(w(s(Me,we),H[1]),M(w(s(Ie,ee),-V[1]),w(s(he,J),B[1]))),-O[2]),w(M(w(s(ze,j),H[1]),M(w(s(Ie,ee),-O[1]),w(s(le,oe),B[1]))),V[2]))),M(w(M(w(s(me,$),H[1]),M(w(s(he,J),-O[1]),w(s(le,oe),V[1]))),-B[2]),M(w(M(w(s(Me,we),H[1]),M(w(s(Ie,ee),-V[1]),w(s(he,J),B[1]))),I[2]),w(M(w(s(Me,we),I[1]),M(w(s(Le,te),-V[1]),w(s(ne,Q),B[1]))),-H[2])))),M(M(w(M(w(s(Ie,ee),I[1]),M(w(s(Le,te),-H[1]),w(s(fe,G),B[1]))),V[2]),M(w(M(w(s(he,J),I[1]),M(w(s(ne,Q),-H[1]),w(s(fe,G),V[1]))),-B[2]),w(M(w(s(me,$),H[1]),M(w(s(he,J),-O[1]),w(s(le,oe),V[1]))),I[2]))),M(w(M(w(s(me,$),I[1]),M(w(s(ne,Q),-O[1]),w(s(q,Y),V[1]))),-H[2]),M(w(M(w(s(he,J),I[1]),M(w(s(ne,Q),-H[1]),w(s(fe,G),V[1]))),O[2]),w(M(w(s(le,oe),I[1]),M(w(s(q,Y),-H[1]),w(s(fe,G),O[1]))),-V[2]))))),Ce=M(M(M(w(M(w(s(Me,we),O[1]),M(w(s(ze,j),-V[1]),w(s(me,$),B[1]))),I[2]),w(M(w(s(Me,we),I[1]),M(w(s(Le,te),-V[1]),w(s(ne,Q),B[1]))),-O[2])),M(w(M(w(s(ze,j),I[1]),M(w(s(Le,te),-O[1]),w(s(q,Y),B[1]))),V[2]),w(M(w(s(me,$),I[1]),M(w(s(ne,Q),-O[1]),w(s(q,Y),V[1]))),-B[2]))),M(M(w(M(w(s(ze,j),H[1]),M(w(s(Ie,ee),-O[1]),w(s(le,oe),B[1]))),I[2]),w(M(w(s(ze,j),I[1]),M(w(s(Le,te),-O[1]),w(s(q,Y),B[1]))),-H[2])),M(w(M(w(s(Ie,ee),I[1]),M(w(s(Le,te),-H[1]),w(s(fe,G),B[1]))),O[2]),w(M(w(s(le,oe),I[1]),M(w(s(q,Y),-H[1]),w(s(fe,G),O[1]))),-B[2])))),Oe=s(_e,Ce);return Oe[Oe.length-1]}return _}function b(M,s,S,w){function _(I,H,O,V,B,F){var G=M(M(S(I[0],I[0]),S(I[1],I[1])),M(S(I[2],I[2]),S(I[3],I[3]))),Y=w(G,H[0]),Q=w(G,O[0]),te=w(G,V[0]),ae=w(G,B[0]),fe=w(G,F[0]),oe=M(M(S(H[0],H[0]),S(H[1],H[1])),M(S(H[2],H[2]),S(H[3],H[3]))),J=w(oe,I[0]),ee=w(oe,O[0]),X=w(oe,V[0]),q=w(oe,B[0]),le=w(oe,F[0]),$=M(M(S(O[0],O[0]),S(O[1],O[1])),M(S(O[2],O[2]),S(O[3],O[3]))),j=w($,I[0]),se=w($,H[0]),ne=w($,V[0]),he=w($,B[0]),me=w($,F[0]),we=M(M(S(V[0],V[0]),S(V[1],V[1])),M(S(V[2],V[2]),S(V[3],V[3]))),Te=w(we,I[0]),Le=w(we,H[0]),Ie=w(we,O[0]),ze=w(we,B[0]),Me=w(we,F[0]),_e=M(M(S(B[0],B[0]),S(B[1],B[1])),M(S(B[2],B[2]),S(B[3],B[3]))),Ce=w(_e,I[0]),Oe=w(_e,H[0]),Pe=w(_e,O[0]),Ge=w(_e,V[0]),Ze=w(_e,F[0]),it=M(M(S(F[0],F[0]),S(F[1],F[1])),M(S(F[2],F[2]),S(F[3],F[3]))),Je=w(it,I[0]),et=w(it,H[0]),ft=w(it,O[0]),vt=w(it,V[0]),dt=w(it,B[0]),xt=M(M(M(w(M(M(w(M(w(s(dt,Ze),V[1]),M(w(s(vt,Me),-B[1]),w(s(Ge,ze),F[1]))),O[2]),w(M(w(s(dt,Ze),O[1]),M(w(s(ft,me),-B[1]),w(s(Pe,he),F[1]))),-V[2])),M(w(M(w(s(vt,Me),O[1]),M(w(s(ft,me),-V[1]),w(s(Ie,ne),F[1]))),B[2]),w(M(w(s(Ge,ze),O[1]),M(w(s(Pe,he),-V[1]),w(s(Ie,ne),B[1]))),-F[2]))),H[3]),M(w(M(M(w(M(w(s(dt,Ze),V[1]),M(w(s(vt,Me),-B[1]),w(s(Ge,ze),F[1]))),H[2]),w(M(w(s(dt,Ze),H[1]),M(w(s(et,le),-B[1]),w(s(Oe,q),F[1]))),-V[2])),M(w(M(w(s(vt,Me),H[1]),M(w(s(et,le),-V[1]),w(s(Le,X),F[1]))),B[2]),w(M(w(s(Ge,ze),H[1]),M(w(s(Oe,q),-V[1]),w(s(Le,X),B[1]))),-F[2]))),-O[3]),w(M(M(w(M(w(s(dt,Ze),O[1]),M(w(s(ft,me),-B[1]),w(s(Pe,he),F[1]))),H[2]),w(M(w(s(dt,Ze),H[1]),M(w(s(et,le),-B[1]),w(s(Oe,q),F[1]))),-O[2])),M(w(M(w(s(ft,me),H[1]),M(w(s(et,le),-O[1]),w(s(se,ee),F[1]))),B[2]),w(M(w(s(Pe,he),H[1]),M(w(s(Oe,q),-O[1]),w(s(se,ee),B[1]))),-F[2]))),V[3]))),M(M(w(M(M(w(M(w(s(vt,Me),O[1]),M(w(s(ft,me),-V[1]),w(s(Ie,ne),F[1]))),H[2]),w(M(w(s(vt,Me),H[1]),M(w(s(et,le),-V[1]),w(s(Le,X),F[1]))),-O[2])),M(w(M(w(s(ft,me),H[1]),M(w(s(et,le),-O[1]),w(s(se,ee),F[1]))),V[2]),w(M(w(s(Ie,ne),H[1]),M(w(s(Le,X),-O[1]),w(s(se,ee),V[1]))),-F[2]))),-B[3]),w(M(M(w(M(w(s(Ge,ze),O[1]),M(w(s(Pe,he),-V[1]),w(s(Ie,ne),B[1]))),H[2]),w(M(w(s(Ge,ze),H[1]),M(w(s(Oe,q),-V[1]),w(s(Le,X),B[1]))),-O[2])),M(w(M(w(s(Pe,he),H[1]),M(w(s(Oe,q),-O[1]),w(s(se,ee),B[1]))),V[2]),w(M(w(s(Ie,ne),H[1]),M(w(s(Le,X),-O[1]),w(s(se,ee),V[1]))),-B[2]))),F[3])),M(w(M(M(w(M(w(s(dt,Ze),V[1]),M(w(s(vt,Me),-B[1]),w(s(Ge,ze),F[1]))),H[2]),w(M(w(s(dt,Ze),H[1]),M(w(s(et,le),-B[1]),w(s(Oe,q),F[1]))),-V[2])),M(w(M(w(s(vt,Me),H[1]),M(w(s(et,le),-V[1]),w(s(Le,X),F[1]))),B[2]),w(M(w(s(Ge,ze),H[1]),M(w(s(Oe,q),-V[1]),w(s(Le,X),B[1]))),-F[2]))),I[3]),w(M(M(w(M(w(s(dt,Ze),V[1]),M(w(s(vt,Me),-B[1]),w(s(Ge,ze),F[1]))),I[2]),w(M(w(s(dt,Ze),I[1]),M(w(s(Je,fe),-B[1]),w(s(Ce,ae),F[1]))),-V[2])),M(w(M(w(s(vt,Me),I[1]),M(w(s(Je,fe),-V[1]),w(s(Te,te),F[1]))),B[2]),w(M(w(s(Ge,ze),I[1]),M(w(s(Ce,ae),-V[1]),w(s(Te,te),B[1]))),-F[2]))),-H[3])))),M(M(M(w(M(M(w(M(w(s(dt,Ze),H[1]),M(w(s(et,le),-B[1]),w(s(Oe,q),F[1]))),I[2]),w(M(w(s(dt,Ze),I[1]),M(w(s(Je,fe),-B[1]),w(s(Ce,ae),F[1]))),-H[2])),M(w(M(w(s(et,le),I[1]),M(w(s(Je,fe),-H[1]),w(s(J,Y),F[1]))),B[2]),w(M(w(s(Oe,q),I[1]),M(w(s(Ce,ae),-H[1]),w(s(J,Y),B[1]))),-F[2]))),V[3]),w(M(M(w(M(w(s(vt,Me),H[1]),M(w(s(et,le),-V[1]),w(s(Le,X),F[1]))),I[2]),w(M(w(s(vt,Me),I[1]),M(w(s(Je,fe),-V[1]),w(s(Te,te),F[1]))),-H[2])),M(w(M(w(s(et,le),I[1]),M(w(s(Je,fe),-H[1]),w(s(J,Y),F[1]))),V[2]),w(M(w(s(Le,X),I[1]),M(w(s(Te,te),-H[1]),w(s(J,Y),V[1]))),-F[2]))),-B[3])),M(w(M(M(w(M(w(s(Ge,ze),H[1]),M(w(s(Oe,q),-V[1]),w(s(Le,X),B[1]))),I[2]),w(M(w(s(Ge,ze),I[1]),M(w(s(Ce,ae),-V[1]),w(s(Te,te),B[1]))),-H[2])),M(w(M(w(s(Oe,q),I[1]),M(w(s(Ce,ae),-H[1]),w(s(J,Y),B[1]))),V[2]),w(M(w(s(Le,X),I[1]),M(w(s(Te,te),-H[1]),w(s(J,Y),V[1]))),-B[2]))),F[3]),w(M(M(w(M(w(s(vt,Me),O[1]),M(w(s(ft,me),-V[1]),w(s(Ie,ne),F[1]))),H[2]),w(M(w(s(vt,Me),H[1]),M(w(s(et,le),-V[1]),w(s(Le,X),F[1]))),-O[2])),M(w(M(w(s(ft,me),H[1]),M(w(s(et,le),-O[1]),w(s(se,ee),F[1]))),V[2]),w(M(w(s(Ie,ne),H[1]),M(w(s(Le,X),-O[1]),w(s(se,ee),V[1]))),-F[2]))),I[3]))),M(M(w(M(M(w(M(w(s(vt,Me),O[1]),M(w(s(ft,me),-V[1]),w(s(Ie,ne),F[1]))),I[2]),w(M(w(s(vt,Me),I[1]),M(w(s(Je,fe),-V[1]),w(s(Te,te),F[1]))),-O[2])),M(w(M(w(s(ft,me),I[1]),M(w(s(Je,fe),-O[1]),w(s(j,Q),F[1]))),V[2]),w(M(w(s(Ie,ne),I[1]),M(w(s(Te,te),-O[1]),w(s(j,Q),V[1]))),-F[2]))),-H[3]),w(M(M(w(M(w(s(vt,Me),H[1]),M(w(s(et,le),-V[1]),w(s(Le,X),F[1]))),I[2]),w(M(w(s(vt,Me),I[1]),M(w(s(Je,fe),-V[1]),w(s(Te,te),F[1]))),-H[2])),M(w(M(w(s(et,le),I[1]),M(w(s(Je,fe),-H[1]),w(s(J,Y),F[1]))),V[2]),w(M(w(s(Le,X),I[1]),M(w(s(Te,te),-H[1]),w(s(J,Y),V[1]))),-F[2]))),O[3])),M(w(M(M(w(M(w(s(ft,me),H[1]),M(w(s(et,le),-O[1]),w(s(se,ee),F[1]))),I[2]),w(M(w(s(ft,me),I[1]),M(w(s(Je,fe),-O[1]),w(s(j,Q),F[1]))),-H[2])),M(w(M(w(s(et,le),I[1]),M(w(s(Je,fe),-H[1]),w(s(J,Y),F[1]))),O[2]),w(M(w(s(se,ee),I[1]),M(w(s(j,Q),-H[1]),w(s(J,Y),O[1]))),-F[2]))),-V[3]),w(M(M(w(M(w(s(Ie,ne),H[1]),M(w(s(Le,X),-O[1]),w(s(se,ee),V[1]))),I[2]),w(M(w(s(Ie,ne),I[1]),M(w(s(Te,te),-O[1]),w(s(j,Q),V[1]))),-H[2])),M(w(M(w(s(Le,X),I[1]),M(w(s(Te,te),-H[1]),w(s(J,Y),V[1]))),O[2]),w(M(w(s(se,ee),I[1]),M(w(s(j,Q),-H[1]),w(s(J,Y),O[1]))),-V[2]))),F[3]))))),Mt=M(M(M(w(M(M(w(M(w(s(dt,Ze),V[1]),M(w(s(vt,Me),-B[1]),w(s(Ge,ze),F[1]))),O[2]),w(M(w(s(dt,Ze),O[1]),M(w(s(ft,me),-B[1]),w(s(Pe,he),F[1]))),-V[2])),M(w(M(w(s(vt,Me),O[1]),M(w(s(ft,me),-V[1]),w(s(Ie,ne),F[1]))),B[2]),w(M(w(s(Ge,ze),O[1]),M(w(s(Pe,he),-V[1]),w(s(Ie,ne),B[1]))),-F[2]))),I[3]),M(w(M(M(w(M(w(s(dt,Ze),V[1]),M(w(s(vt,Me),-B[1]),w(s(Ge,ze),F[1]))),I[2]),w(M(w(s(dt,Ze),I[1]),M(w(s(Je,fe),-B[1]),w(s(Ce,ae),F[1]))),-V[2])),M(w(M(w(s(vt,Me),I[1]),M(w(s(Je,fe),-V[1]),w(s(Te,te),F[1]))),B[2]),w(M(w(s(Ge,ze),I[1]),M(w(s(Ce,ae),-V[1]),w(s(Te,te),B[1]))),-F[2]))),-O[3]),w(M(M(w(M(w(s(dt,Ze),O[1]),M(w(s(ft,me),-B[1]),w(s(Pe,he),F[1]))),I[2]),w(M(w(s(dt,Ze),I[1]),M(w(s(Je,fe),-B[1]),w(s(Ce,ae),F[1]))),-O[2])),M(w(M(w(s(ft,me),I[1]),M(w(s(Je,fe),-O[1]),w(s(j,Q),F[1]))),B[2]),w(M(w(s(Pe,he),I[1]),M(w(s(Ce,ae),-O[1]),w(s(j,Q),B[1]))),-F[2]))),V[3]))),M(M(w(M(M(w(M(w(s(vt,Me),O[1]),M(w(s(ft,me),-V[1]),w(s(Ie,ne),F[1]))),I[2]),w(M(w(s(vt,Me),I[1]),M(w(s(Je,fe),-V[1]),w(s(Te,te),F[1]))),-O[2])),M(w(M(w(s(ft,me),I[1]),M(w(s(Je,fe),-O[1]),w(s(j,Q),F[1]))),V[2]),w(M(w(s(Ie,ne),I[1]),M(w(s(Te,te),-O[1]),w(s(j,Q),V[1]))),-F[2]))),-B[3]),w(M(M(w(M(w(s(Ge,ze),O[1]),M(w(s(Pe,he),-V[1]),w(s(Ie,ne),B[1]))),I[2]),w(M(w(s(Ge,ze),I[1]),M(w(s(Ce,ae),-V[1]),w(s(Te,te),B[1]))),-O[2])),M(w(M(w(s(Pe,he),I[1]),M(w(s(Ce,ae),-O[1]),w(s(j,Q),B[1]))),V[2]),w(M(w(s(Ie,ne),I[1]),M(w(s(Te,te),-O[1]),w(s(j,Q),V[1]))),-B[2]))),F[3])),M(w(M(M(w(M(w(s(dt,Ze),O[1]),M(w(s(ft,me),-B[1]),w(s(Pe,he),F[1]))),H[2]),w(M(w(s(dt,Ze),H[1]),M(w(s(et,le),-B[1]),w(s(Oe,q),F[1]))),-O[2])),M(w(M(w(s(ft,me),H[1]),M(w(s(et,le),-O[1]),w(s(se,ee),F[1]))),B[2]),w(M(w(s(Pe,he),H[1]),M(w(s(Oe,q),-O[1]),w(s(se,ee),B[1]))),-F[2]))),I[3]),w(M(M(w(M(w(s(dt,Ze),O[1]),M(w(s(ft,me),-B[1]),w(s(Pe,he),F[1]))),I[2]),w(M(w(s(dt,Ze),I[1]),M(w(s(Je,fe),-B[1]),w(s(Ce,ae),F[1]))),-O[2])),M(w(M(w(s(ft,me),I[1]),M(w(s(Je,fe),-O[1]),w(s(j,Q),F[1]))),B[2]),w(M(w(s(Pe,he),I[1]),M(w(s(Ce,ae),-O[1]),w(s(j,Q),B[1]))),-F[2]))),-H[3])))),M(M(M(w(M(M(w(M(w(s(dt,Ze),H[1]),M(w(s(et,le),-B[1]),w(s(Oe,q),F[1]))),I[2]),w(M(w(s(dt,Ze),I[1]),M(w(s(Je,fe),-B[1]),w(s(Ce,ae),F[1]))),-H[2])),M(w(M(w(s(et,le),I[1]),M(w(s(Je,fe),-H[1]),w(s(J,Y),F[1]))),B[2]),w(M(w(s(Oe,q),I[1]),M(w(s(Ce,ae),-H[1]),w(s(J,Y),B[1]))),-F[2]))),O[3]),w(M(M(w(M(w(s(ft,me),H[1]),M(w(s(et,le),-O[1]),w(s(se,ee),F[1]))),I[2]),w(M(w(s(ft,me),I[1]),M(w(s(Je,fe),-O[1]),w(s(j,Q),F[1]))),-H[2])),M(w(M(w(s(et,le),I[1]),M(w(s(Je,fe),-H[1]),w(s(J,Y),F[1]))),O[2]),w(M(w(s(se,ee),I[1]),M(w(s(j,Q),-H[1]),w(s(J,Y),O[1]))),-F[2]))),-B[3])),M(w(M(M(w(M(w(s(Pe,he),H[1]),M(w(s(Oe,q),-O[1]),w(s(se,ee),B[1]))),I[2]),w(M(w(s(Pe,he),I[1]),M(w(s(Ce,ae),-O[1]),w(s(j,Q),B[1]))),-H[2])),M(w(M(w(s(Oe,q),I[1]),M(w(s(Ce,ae),-H[1]),w(s(J,Y),B[1]))),O[2]),w(M(w(s(se,ee),I[1]),M(w(s(j,Q),-H[1]),w(s(J,Y),O[1]))),-B[2]))),F[3]),w(M(M(w(M(w(s(Ge,ze),O[1]),M(w(s(Pe,he),-V[1]),w(s(Ie,ne),B[1]))),H[2]),w(M(w(s(Ge,ze),H[1]),M(w(s(Oe,q),-V[1]),w(s(Le,X),B[1]))),-O[2])),M(w(M(w(s(Pe,he),H[1]),M(w(s(Oe,q),-O[1]),w(s(se,ee),B[1]))),V[2]),w(M(w(s(Ie,ne),H[1]),M(w(s(Le,X),-O[1]),w(s(se,ee),V[1]))),-B[2]))),I[3]))),M(M(w(M(M(w(M(w(s(Ge,ze),O[1]),M(w(s(Pe,he),-V[1]),w(s(Ie,ne),B[1]))),I[2]),w(M(w(s(Ge,ze),I[1]),M(w(s(Ce,ae),-V[1]),w(s(Te,te),B[1]))),-O[2])),M(w(M(w(s(Pe,he),I[1]),M(w(s(Ce,ae),-O[1]),w(s(j,Q),B[1]))),V[2]),w(M(w(s(Ie,ne),I[1]),M(w(s(Te,te),-O[1]),w(s(j,Q),V[1]))),-B[2]))),-H[3]),w(M(M(w(M(w(s(Ge,ze),H[1]),M(w(s(Oe,q),-V[1]),w(s(Le,X),B[1]))),I[2]),w(M(w(s(Ge,ze),I[1]),M(w(s(Ce,ae),-V[1]),w(s(Te,te),B[1]))),-H[2])),M(w(M(w(s(Oe,q),I[1]),M(w(s(Ce,ae),-H[1]),w(s(J,Y),B[1]))),V[2]),w(M(w(s(Le,X),I[1]),M(w(s(Te,te),-H[1]),w(s(J,Y),V[1]))),-B[2]))),O[3])),M(w(M(M(w(M(w(s(Pe,he),H[1]),M(w(s(Oe,q),-O[1]),w(s(se,ee),B[1]))),I[2]),w(M(w(s(Pe,he),I[1]),M(w(s(Ce,ae),-O[1]),w(s(j,Q),B[1]))),-H[2])),M(w(M(w(s(Oe,q),I[1]),M(w(s(Ce,ae),-H[1]),w(s(J,Y),B[1]))),O[2]),w(M(w(s(se,ee),I[1]),M(w(s(j,Q),-H[1]),w(s(J,Y),O[1]))),-B[2]))),-V[3]),w(M(M(w(M(w(s(Ie,ne),H[1]),M(w(s(Le,X),-O[1]),w(s(se,ee),V[1]))),I[2]),w(M(w(s(Ie,ne),I[1]),M(w(s(Te,te),-O[1]),w(s(j,Q),V[1]))),-H[2])),M(w(M(w(s(Le,X),I[1]),M(w(s(Te,te),-H[1]),w(s(J,Y),V[1]))),O[2]),w(M(w(s(se,ee),I[1]),M(w(s(j,Q),-H[1]),w(s(J,Y),O[1]))),-V[2]))),B[3]))))),nt=s(xt,Mt);return nt[nt.length-1]}return _}var A=[y,c,T];function R(M){var s=A[M.length];return s||(s=A[M.length]=l(M.length)),s.apply(void 0,M)}function m(M,s,S,w,_,I,H,O){function V(B,F,G,Y,Q,te){switch(arguments.length){case 0:case 1:return 0;case 2:return w(B,F);case 3:return _(B,F,G);case 4:return I(B,F,G,Y);case 5:return H(B,F,G,Y,Q);case 6:return O(B,F,G,Y,Q,te)}for(var ae=new Array(arguments.length),fe=0;fe<arguments.length;++fe)ae[fe]=arguments[fe];return M(ae)}return V}function L(){for(;A.length<=f;)A.push(l(A.length));v.exports=m.apply(void 0,[R].concat(A));for(var M=0;M<=f;++M)v.exports[M]=A[M]}L()},727:function(v,p,r){var t=r(2962),o=6;function a(A){var R=A===2?l:A===3?y:A===4?c:A===5?T:h;return A<6?R(t[A]):R(t)}function u(){return[[0]]}function f(A,R){return[[R[0]],[A[0][0]]]}function l(A){return function(m,L){return[A([[+L[0],+m[0][1]],[+L[1],+m[1][1]]]),A([[+m[0][0],+L[0]],[+m[1][0],+L[1]]]),A(m)]}}function y(A){return function(m,L){return[A([[+L[0],+m[0][1],+m[0][2]],[+L[1],+m[1][1],+m[1][2]],[+L[2],+m[2][1],+m[2][2]]]),A([[+m[0][0],+L[0],+m[0][2]],[+m[1][0],+L[1],+m[1][2]],[+m[2][0],+L[2],+m[2][2]]]),A([[+m[0][0],+m[0][1],+L[0]],[+m[1][0],+m[1][1],+L[1]],[+m[2][0],+m[2][1],+L[2]]]),A(m)]}}function c(A){return function(m,L){return[A([[+L[0],+m[0][1],+m[0][2],+m[0][3]],[+L[1],+m[1][1],+m[1][2],+m[1][3]],[+L[2],+m[2][1],+m[2][2],+m[2][3]],[+L[3],+m[3][1],+m[3][2],+m[3][3]]]),A([[+m[0][0],+L[0],+m[0][2],+m[0][3]],[+m[1][0],+L[1],+m[1][2],+m[1][3]],[+m[2][0],+L[2],+m[2][2],+m[2][3]],[+m[3][0],+L[3],+m[3][2],+m[3][3]]]),A([[+m[0][0],+m[0][1],+L[0],+m[0][3]],[+m[1][0],+m[1][1],+L[1],+m[1][3]],[+m[2][0],+m[2][1],+L[2],+m[2][3]],[+m[3][0],+m[3][1],+L[3],+m[3][3]]]),A([[+m[0][0],+m[0][1],+m[0][2],+L[0]],[+m[1][0],+m[1][1],+m[1][2],+L[1]],[+m[2][0],+m[2][1],+m[2][2],+L[2]],[+m[3][0],+m[3][1],+m[3][2],+L[3]]]),A(m)]}}function T(A){return function(m,L){return[A([[+L[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+L[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+L[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+L[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+L[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),A([[+m[0][0],+L[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+L[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+L[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+L[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+L[4],+m[4][2],+m[4][3],+m[4][4]]]),A([[+m[0][0],+m[0][1],+L[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+L[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+L[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+L[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+L[4],+m[4][3],+m[4][4]]]),A([[+m[0][0],+m[0][1],+m[0][2],+L[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+L[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+L[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+L[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+L[4],+m[4][4]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+L[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+L[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+L[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+L[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+L[4]]]),A(m)]}}function h(A){return function(m,L){return[A([[+L[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+L[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+L[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+L[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+L[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+L[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+L[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+L[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+L[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+L[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+L[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+L[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+L[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+L[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+L[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+L[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+L[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+L[5],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+L[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+L[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+L[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+L[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+L[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+L[5],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+L[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+L[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+L[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+L[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+L[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+L[5],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+L[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+L[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+L[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+L[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+L[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+L[5]]]),A(m)]}}var i=[u,f];function g(A,R,m,L,M,s,S,w){return function(I,H){switch(I.length){case 0:return A(I,H);case 1:return R(I,H);case 2:return m(I,H);case 3:return L(I,H);case 4:return M(I,H);case 5:return s(I,H)}var O=S[I.length];return O||(O=S[I.length]=w(I.length)),O(I,H)}}function b(){for(;i.length<o;)i.push(a(i.length));v.exports=g.apply(void 0,i.concat([i,a]));for(var A=0;A<o;++A)v.exports[A]=i[A]}b()},3250:function(v,p,r){var t=r(5250),o=r(8210),a=r(3012),u=r(8545),f=5,l=11102230246251565e-32,y=(3+16*l)*l,c=(7+56*l)*l;function T(s,S,w,_){return function(H,O,V){var B=s(s(S(O[1],V[0]),S(-V[1],O[0])),s(S(H[1],O[0]),S(-O[1],H[0]))),F=s(S(H[1],V[0]),S(-V[1],H[0])),G=_(B,F);return G[G.length-1]}}function h(s,S,w,_){return function(H,O,V,B){var F=s(s(w(s(S(V[1],B[0]),S(-B[1],V[0])),O[2]),s(w(s(S(O[1],B[0]),S(-B[1],O[0])),-V[2]),w(s(S(O[1],V[0]),S(-V[1],O[0])),B[2]))),s(w(s(S(O[1],B[0]),S(-B[1],O[0])),H[2]),s(w(s(S(H[1],B[0]),S(-B[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),B[2])))),G=s(s(w(s(S(V[1],B[0]),S(-B[1],V[0])),H[2]),s(w(s(S(H[1],B[0]),S(-B[1],H[0])),-V[2]),w(s(S(H[1],V[0]),S(-V[1],H[0])),B[2]))),s(w(s(S(O[1],V[0]),S(-V[1],O[0])),H[2]),s(w(s(S(H[1],V[0]),S(-V[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),V[2])))),Y=_(F,G);return Y[Y.length-1]}}function i(s,S,w,_){return function(H,O,V,B,F){var G=s(s(s(w(s(w(s(S(B[1],F[0]),S(-F[1],B[0])),V[2]),s(w(s(S(V[1],F[0]),S(-F[1],V[0])),-B[2]),w(s(S(V[1],B[0]),S(-B[1],V[0])),F[2]))),O[3]),s(w(s(w(s(S(B[1],F[0]),S(-F[1],B[0])),O[2]),s(w(s(S(O[1],F[0]),S(-F[1],O[0])),-B[2]),w(s(S(O[1],B[0]),S(-B[1],O[0])),F[2]))),-V[3]),w(s(w(s(S(V[1],F[0]),S(-F[1],V[0])),O[2]),s(w(s(S(O[1],F[0]),S(-F[1],O[0])),-V[2]),w(s(S(O[1],V[0]),S(-V[1],O[0])),F[2]))),B[3]))),s(w(s(w(s(S(V[1],B[0]),S(-B[1],V[0])),O[2]),s(w(s(S(O[1],B[0]),S(-B[1],O[0])),-V[2]),w(s(S(O[1],V[0]),S(-V[1],O[0])),B[2]))),-F[3]),s(w(s(w(s(S(B[1],F[0]),S(-F[1],B[0])),O[2]),s(w(s(S(O[1],F[0]),S(-F[1],O[0])),-B[2]),w(s(S(O[1],B[0]),S(-B[1],O[0])),F[2]))),H[3]),w(s(w(s(S(B[1],F[0]),S(-F[1],B[0])),H[2]),s(w(s(S(H[1],F[0]),S(-F[1],H[0])),-B[2]),w(s(S(H[1],B[0]),S(-B[1],H[0])),F[2]))),-O[3])))),s(s(w(s(w(s(S(O[1],F[0]),S(-F[1],O[0])),H[2]),s(w(s(S(H[1],F[0]),S(-F[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),F[2]))),B[3]),s(w(s(w(s(S(O[1],B[0]),S(-B[1],O[0])),H[2]),s(w(s(S(H[1],B[0]),S(-B[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),B[2]))),-F[3]),w(s(w(s(S(V[1],B[0]),S(-B[1],V[0])),O[2]),s(w(s(S(O[1],B[0]),S(-B[1],O[0])),-V[2]),w(s(S(O[1],V[0]),S(-V[1],O[0])),B[2]))),H[3]))),s(w(s(w(s(S(V[1],B[0]),S(-B[1],V[0])),H[2]),s(w(s(S(H[1],B[0]),S(-B[1],H[0])),-V[2]),w(s(S(H[1],V[0]),S(-V[1],H[0])),B[2]))),-O[3]),s(w(s(w(s(S(O[1],B[0]),S(-B[1],O[0])),H[2]),s(w(s(S(H[1],B[0]),S(-B[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),B[2]))),V[3]),w(s(w(s(S(O[1],V[0]),S(-V[1],O[0])),H[2]),s(w(s(S(H[1],V[0]),S(-V[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),V[2]))),-B[3]))))),Y=s(s(s(w(s(w(s(S(B[1],F[0]),S(-F[1],B[0])),V[2]),s(w(s(S(V[1],F[0]),S(-F[1],V[0])),-B[2]),w(s(S(V[1],B[0]),S(-B[1],V[0])),F[2]))),H[3]),w(s(w(s(S(B[1],F[0]),S(-F[1],B[0])),H[2]),s(w(s(S(H[1],F[0]),S(-F[1],H[0])),-B[2]),w(s(S(H[1],B[0]),S(-B[1],H[0])),F[2]))),-V[3])),s(w(s(w(s(S(V[1],F[0]),S(-F[1],V[0])),H[2]),s(w(s(S(H[1],F[0]),S(-F[1],H[0])),-V[2]),w(s(S(H[1],V[0]),S(-V[1],H[0])),F[2]))),B[3]),w(s(w(s(S(V[1],B[0]),S(-B[1],V[0])),H[2]),s(w(s(S(H[1],B[0]),S(-B[1],H[0])),-V[2]),w(s(S(H[1],V[0]),S(-V[1],H[0])),B[2]))),-F[3]))),s(s(w(s(w(s(S(V[1],F[0]),S(-F[1],V[0])),O[2]),s(w(s(S(O[1],F[0]),S(-F[1],O[0])),-V[2]),w(s(S(O[1],V[0]),S(-V[1],O[0])),F[2]))),H[3]),w(s(w(s(S(V[1],F[0]),S(-F[1],V[0])),H[2]),s(w(s(S(H[1],F[0]),S(-F[1],H[0])),-V[2]),w(s(S(H[1],V[0]),S(-V[1],H[0])),F[2]))),-O[3])),s(w(s(w(s(S(O[1],F[0]),S(-F[1],O[0])),H[2]),s(w(s(S(H[1],F[0]),S(-F[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),F[2]))),V[3]),w(s(w(s(S(O[1],V[0]),S(-V[1],O[0])),H[2]),s(w(s(S(H[1],V[0]),S(-V[1],H[0])),-O[2]),w(s(S(H[1],O[0]),S(-O[1],H[0])),V[2]))),-F[3])))),Q=_(G,Y);return Q[Q.length-1]}}function g(s){var S=s===3?T:s===4?h:i;return S(o,t,a,u)}var b=g(3),A=g(4),R=[function(){return 0},function(){return 0},function(S,w){return w[0]-S[0]},function(S,w,_){var I=(S[1]-_[1])*(w[0]-_[0]),H=(S[0]-_[0])*(w[1]-_[1]),O=I-H,V;if(I>0){if(H<=0)return O;V=I+H}else if(I<0){if(H>=0)return O;V=-(I+H)}else return O;var B=y*V;return O>=B||O<=-B?O:b(S,w,_)},function(S,w,_,I){var H=S[0]-I[0],O=w[0]-I[0],V=_[0]-I[0],B=S[1]-I[1],F=w[1]-I[1],G=_[1]-I[1],Y=S[2]-I[2],Q=w[2]-I[2],te=_[2]-I[2],ae=O*G,fe=V*F,oe=V*B,J=H*G,ee=H*F,X=O*B,q=Y*(ae-fe)+Q*(oe-J)+te*(ee-X),le=(Math.abs(ae)+Math.abs(fe))*Math.abs(Y)+(Math.abs(oe)+Math.abs(J))*Math.abs(Q)+(Math.abs(ee)+Math.abs(X))*Math.abs(te),$=c*le;return q>$||-q>$?q:A(S,w,_,I)}];function m(s){var S=R[s.length];return S||(S=R[s.length]=g(s.length)),S.apply(void 0,s)}function L(s,S,w,_,I,H,O){return function(B,F,G,Y,Q){switch(arguments.length){case 0:case 1:return 0;case 2:return _(B,F);case 3:return I(B,F,G);case 4:return H(B,F,G,Y);case 5:return O(B,F,G,Y,Q)}for(var te=new Array(arguments.length),ae=0;ae<arguments.length;++ae)te[ae]=arguments[ae];return s(te)}}function M(){for(;R.length<=f;)R.push(g(R.length));v.exports=L.apply(void 0,[m].concat(R));for(var s=0;s<=f;++s)v.exports[s]=R[s]}M()},5382:function(v,p,r){var t=r(8210),o=r(3012);v.exports=a;function a(u,f){if(u.length===1)return o(f,u[0]);if(f.length===1)return o(u,f[0]);if(u.length===0||f.length===0)return[0];var l=[0];if(u.length<f.length)for(var y=0;y<u.length;++y)l=t(l,o(f,u[y]));else for(var y=0;y<f.length;++y)l=t(l,o(u,f[y]));return l}},3012:function(v,p,r){var t=r(5250),o=r(9362);v.exports=a;function a(u,f){var l=u.length;if(l===1){var y=t(u[0],f);return y[0]?y:[y[1]]}var c=new Array(2*l),T=[.1,.1],h=[.1,.1],i=0;t(u[0],f,T),T[0]&&(c[i++]=T[0]);for(var g=1;g<l;++g){t(u[g],f,h);var b=T[1];o(b,h[0],T),T[0]&&(c[i++]=T[0]);var A=h[1],R=T[1],m=A+R,L=m-A,M=R-L;T[1]=m,M&&(c[i++]=M)}return T[1]&&(c[i++]=T[1]),i===0&&(c[i++]=0),c.length=i,c}},1125:function(v,p,r){v.exports=a;var t=r(3250)[3];function o(u,f,l,y){for(var c=0;c<2;++c){var T=u[c],h=f[c],i=Math.min(T,h),g=Math.max(T,h),b=l[c],A=y[c],R=Math.min(b,A),m=Math.max(b,A);if(m<i||g<R)return!1}return!0}function a(u,f,l,y){var c=t(u,l,y),T=t(f,l,y);if(c>0&&T>0||c<0&&T<0)return!1;var h=t(l,u,f),i=t(y,u,f);return h>0&&i>0||h<0&&i<0?!1:c===0&&T===0&&h===0&&i===0?o(u,f,l,y):!0}},8545:function(v){v.exports=r;function p(t,o){var a=t+o,u=a-t,f=a-u,l=o-u,y=t-f,c=y+l;return c?[c,a]:[a]}function r(t,o){var a=t.length|0,u=o.length|0;if(a===1&&u===1)return p(t[0],-o[0]);var f=a+u,l=new Array(f),y=0,c=0,T=0,h=Math.abs,i=t[c],g=h(i),b=-o[T],A=h(b),R,m;g<A?(m=i,c+=1,c<a&&(i=t[c],g=h(i))):(m=b,T+=1,T<u&&(b=-o[T],A=h(b))),c<a&&g<A||T>=u?(R=i,c+=1,c<a&&(i=t[c],g=h(i))):(R=b,T+=1,T<u&&(b=-o[T],A=h(b)));for(var L=R+m,M=L-R,s=m-M,S=s,w=L,_,I,H,O,V;c<a&&T<u;)g<A?(R=i,c+=1,c<a&&(i=t[c],g=h(i))):(R=b,T+=1,T<u&&(b=-o[T],A=h(b))),m=S,L=R+m,M=L-R,s=m-M,s&&(l[y++]=s),_=w+L,I=_-w,H=_-I,O=L-I,V=w-H,S=V+O,w=_;for(;c<a;)R=i,m=S,L=R+m,M=L-R,s=m-M,s&&(l[y++]=s),_=w+L,I=_-w,H=_-I,O=L-I,V=w-H,S=V+O,w=_,c+=1,c<a&&(i=t[c]);for(;T<u;)R=b,m=S,L=R+m,M=L-R,s=m-M,s&&(l[y++]=s),_=w+L,I=_-w,H=_-I,O=L-I,V=w-H,S=V+O,w=_,T+=1,T<u&&(b=-o[T]);return S&&(l[y++]=S),w&&(l[y++]=w),y||(l[y++]=0),l.length=y,l}},8210:function(v){v.exports=r;function p(t,o){var a=t+o,u=a-t,f=a-u,l=o-u,y=t-f,c=y+l;return c?[c,a]:[a]}function r(t,o){var a=t.length|0,u=o.length|0;if(a===1&&u===1)return p(t[0],o[0]);var f=a+u,l=new Array(f),y=0,c=0,T=0,h=Math.abs,i=t[c],g=h(i),b=o[T],A=h(b),R,m;g<A?(m=i,c+=1,c<a&&(i=t[c],g=h(i))):(m=b,T+=1,T<u&&(b=o[T],A=h(b))),c<a&&g<A||T>=u?(R=i,c+=1,c<a&&(i=t[c],g=h(i))):(R=b,T+=1,T<u&&(b=o[T],A=h(b)));for(var L=R+m,M=L-R,s=m-M,S=s,w=L,_,I,H,O,V;c<a&&T<u;)g<A?(R=i,c+=1,c<a&&(i=t[c],g=h(i))):(R=b,T+=1,T<u&&(b=o[T],A=h(b))),m=S,L=R+m,M=L-R,s=m-M,s&&(l[y++]=s),_=w+L,I=_-w,H=_-I,O=L-I,V=w-H,S=V+O,w=_;for(;c<a;)R=i,m=S,L=R+m,M=L-R,s=m-M,s&&(l[y++]=s),_=w+L,I=_-w,H=_-I,O=L-I,V=w-H,S=V+O,w=_,c+=1,c<a&&(i=t[c]);for(;T<u;)R=b,m=S,L=R+m,M=L-R,s=m-M,s&&(l[y++]=s),_=w+L,I=_-w,H=_-I,O=L-I,V=w-H,S=V+O,w=_,T+=1,T<u&&(b=o[T]);return S&&(l[y++]=S),w&&(l[y++]=w),y||(l[y++]=0),l.length=y,l}},9127:function(v,p,r){v.exports=a;var t=r(6204),o=r(5771);function a(u){return o(t(u))}},7765:function(v,p,r){v.exports=i;var t=r(9618),o=r(1888),a=r(446),u=r(1570);function f(g){for(var b=g.length,A=0,R=0;R<b;++R)A=Math.max(A,g[R].length)|0;return A-1}function l(g,b){for(var A=g.length,R=o.mallocUint8(A),m=0;m<A;++m)R[m]=g[m]<b|0;return R}function y(g,b){for(var A=g.length,R=b*(b+1)/2*A|0,m=o.mallocUint32(R*2),L=0,M=0;M<A;++M)for(var s=g[M],b=s.length,S=0;S<b;++S)for(var w=0;w<S;++w){var _=s[w],I=s[S];m[L++]=Math.min(_,I)|0,m[L++]=Math.max(_,I)|0}var H=L/2|0;a(t(m,[H,2]));for(var O=2,M=2;M<L;M+=2)m[M-2]===m[M]&&m[M-1]===m[M+1]||(m[O++]=m[M],m[O++]=m[M+1]);return t(m,[O/2|0,2])}function c(g,b,A,R){for(var m=g.data,L=g.shape[0],M=o.mallocDouble(L),s=0,S=0;S<L;++S){var w=m[2*S],_=m[2*S+1];if(A[w]!==A[_]){var I=b[w],H=b[_];m[2*s]=w,m[2*s+1]=_,M[s++]=(H-R)/(H-I)}}return g.shape[0]=s,t(M,[s])}function T(g,b){var A=o.mallocInt32(b*2),R=g.shape[0],m=g.data;A[0]=0;for(var L=0,M=0;M<R;++M){var s=m[2*M];if(s!==L){for(A[2*L+1]=M;++L<s;)A[2*L]=M,A[2*L+1]=M;A[2*L]=M}}for(A[2*L+1]=R;++L<b;)A[2*L]=A[2*L+1]=R;return A}function h(g){for(var b=g.shape[0]|0,A=g.data,R=new Array(b),m=0;m<b;++m)R[m]=[A[2*m],A[2*m+1]];return R}function i(g,b,A,R){A=A||0,typeof R>"u"&&(R=f(g));var m=g.length;if(m===0||R<1)return{cells:[],vertexIds:[],vertexWeights:[]};var L=l(b,+A),M=y(g,R),s=c(M,b,L,+A),S=T(M,b.length|0),w=u(R)(g,M.data,S,L),_=h(M),I=[].slice.call(s.data,0,s.shape[0]);return o.free(L),o.free(M.data),o.free(s.data),o.free(S),{cells:w,vertexIds:_,vertexWeights:I}}},1570:function(v){v.exports=r;var p=[function(){function o(a,u,f,l){for(var y=a.length,c=[],T=0;T<y;++T){var h=a[T];h.length}return c}return o},function(){function o(u,f,l,y){for(var c=Math.min(l,y)|0,T=Math.max(l,y)|0,h=u[2*c],i=u[2*c+1];h<i;){var g=h+i>>1,b=f[2*g+1];if(b===T)return g;T<b?i=g:h=g+1}return h}function a(u,f,l,y){for(var c=u.length,T=[],h=0;h<c;++h){var i=u[h],g=i.length;if(g===2){var b=(y[i[0]]<<0)+(y[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:T.push([o(l,f,i[0],i[1])]);break;case 2:T.push([o(l,f,i[1],i[0])]);break}}}return T}return a},function(){function o(u,f,l,y){for(var c=Math.min(l,y)|0,T=Math.max(l,y)|0,h=u[2*c],i=u[2*c+1];h<i;){var g=h+i>>1,b=f[2*g+1];if(b===T)return g;T<b?i=g:h=g+1}return h}function a(u,f,l,y){for(var c=u.length,T=[],h=0;h<c;++h){var i=u[h],g=i.length;if(g===3){var b=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:T.push([o(l,f,i[0],i[2]),o(l,f,i[0],i[1])]);break;case 2:T.push([o(l,f,i[1],i[0]),o(l,f,i[1],i[2])]);break;case 3:T.push([o(l,f,i[0],i[2]),o(l,f,i[1],i[2])]);break;case 4:T.push([o(l,f,i[2],i[1]),o(l,f,i[2],i[0])]);break;case 5:T.push([o(l,f,i[2],i[1]),o(l,f,i[0],i[1])]);break;case 6:T.push([o(l,f,i[1],i[0]),o(l,f,i[2],i[0])]);break}}else if(g===2){var b=(y[i[0]]<<0)+(y[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:T.push([o(l,f,i[0],i[1])]);break;case 2:T.push([o(l,f,i[1],i[0])]);break}}}return T}return a},function(){function o(u,f,l,y){for(var c=Math.min(l,y)|0,T=Math.max(l,y)|0,h=u[2*c],i=u[2*c+1];h<i;){var g=h+i>>1,b=f[2*g+1];if(b===T)return g;T<b?i=g:h=g+1}return h}function a(u,f,l,y){for(var c=u.length,T=[],h=0;h<c;++h){var i=u[h],g=i.length;if(g===4){var b=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2)+(y[i[3]]<<3);if(b===0||b===15)continue;switch(b){case 0:break;case 1:T.push([o(l,f,i[0],i[1]),o(l,f,i[0],i[2]),o(l,f,i[0],i[3])]);break;case 2:T.push([o(l,f,i[1],i[2]),o(l,f,i[1],i[0]),o(l,f,i[1],i[3])]);break;case 3:T.push([o(l,f,i[1],i[2]),o(l,f,i[0],i[2]),o(l,f,i[0],i[3])],[o(l,f,i[1],i[3]),o(l,f,i[1],i[2]),o(l,f,i[0],i[3])]);break;case 4:T.push([o(l,f,i[2],i[0]),o(l,f,i[2],i[1]),o(l,f,i[2],i[3])]);break;case 5:T.push([o(l,f,i[0],i[1]),o(l,f,i[2],i[1]),o(l,f,i[0],i[3])],[o(l,f,i[2],i[1]),o(l,f,i[2],i[3]),o(l,f,i[0],i[3])]);break;case 6:T.push([o(l,f,i[2],i[0]),o(l,f,i[1],i[0]),o(l,f,i[1],i[3])],[o(l,f,i[2],i[3]),o(l,f,i[2],i[0]),o(l,f,i[1],i[3])]);break;case 7:T.push([o(l,f,i[0],i[3]),o(l,f,i[1],i[3]),o(l,f,i[2],i[3])]);break;case 8:T.push([o(l,f,i[3],i[1]),o(l,f,i[3],i[0]),o(l,f,i[3],i[2])]);break;case 9:T.push([o(l,f,i[3],i[1]),o(l,f,i[0],i[1]),o(l,f,i[0],i[2])],[o(l,f,i[3],i[2]),o(l,f,i[3],i[1]),o(l,f,i[0],i[2])]);break;case 10:T.push([o(l,f,i[1],i[0]),o(l,f,i[3],i[0]),o(l,f,i[1],i[2])],[o(l,f,i[3],i[0]),o(l,f,i[3],i[2]),o(l,f,i[1],i[2])]);break;case 11:T.push([o(l,f,i[1],i[2]),o(l,f,i[0],i[2]),o(l,f,i[3],i[2])]);break;case 12:T.push([o(l,f,i[3],i[0]),o(l,f,i[2],i[0]),o(l,f,i[2],i[1])],[o(l,f,i[3],i[1]),o(l,f,i[3],i[0]),o(l,f,i[2],i[1])]);break;case 13:T.push([o(l,f,i[0],i[1]),o(l,f,i[2],i[1]),o(l,f,i[3],i[1])]);break;case 14:T.push([o(l,f,i[2],i[0]),o(l,f,i[1],i[0]),o(l,f,i[3],i[0])]);break}}else if(g===3){var b=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:T.push([o(l,f,i[0],i[2]),o(l,f,i[0],i[1])]);break;case 2:T.push([o(l,f,i[1],i[0]),o(l,f,i[1],i[2])]);break;case 3:T.push([o(l,f,i[0],i[2]),o(l,f,i[1],i[2])]);break;case 4:T.push([o(l,f,i[2],i[1]),o(l,f,i[2],i[0])]);break;case 5:T.push([o(l,f,i[2],i[1]),o(l,f,i[0],i[1])]);break;case 6:T.push([o(l,f,i[1],i[0]),o(l,f,i[2],i[0])]);break}}else if(g===2){var b=(y[i[0]]<<0)+(y[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:T.push([o(l,f,i[0],i[1])]);break;case 2:T.push([o(l,f,i[1],i[0])]);break}}}return T}return a}];function r(t){return p[t]()}},6803:function(v,p,r){r(8828),r(1755);function t(o,a){var u=o.length,f=o.length-a.length,l=Math.min;if(f)return f;switch(u){case 0:return 0;case 1:return o[0]-a[0];case 2:var i=o[0]+o[1]-a[0]-a[1];return i||l(o[0],o[1])-l(a[0],a[1]);case 3:var y=o[0]+o[1],c=a[0]+a[1];if(i=y+o[2]-(c+a[2]),i)return i;var T=l(o[0],o[1]),h=l(a[0],a[1]),i=l(T,o[2])-l(h,a[2]);return i||l(T+o[2],y)-l(h+a[2],c);default:var g=o.slice(0);g.sort();var b=a.slice(0);b.sort();for(var A=0;A<u;++A)if(f=g[A]-b[A],f)return f;return 0}}p.Fw=t},3105:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(a){return(a>0)-(a<0)},p.abs=function(a){var u=a>>r-1;return(a^u)-u},p.min=function(a,u){return u^(a^u)&-(a<u)},p.max=function(a,u){return a^(a^u)&-(a<u)},p.isPow2=function(a){return!(a&a-1)&&!!a},p.log2=function(a){var u,f;return u=(a>65535)<<4,a>>>=u,f=(a>255)<<3,a>>>=f,u|=f,f=(a>15)<<2,a>>>=f,u|=f,f=(a>3)<<1,a>>>=f,u|=f,u|a>>1},p.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},p.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var u=32;return a&=-a,a&&u--,a&65535&&(u-=16),a&16711935&&(u-=8),a&252645135&&(u-=4),a&858993459&&(u-=2),a&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},p.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},p.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var o=new Array(256);(function(a){for(var u=0;u<256;++u){var f=u,l=u,y=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--y;a[u]=l<<y&255}})(o),p.reverse=function(a){return o[a&255]<<24|o[a>>>8&255]<<16|o[a>>>16&255]<<8|o[a>>>24&255]},p.interleave2=function(a,u){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,a|u<<1},p.deinterleave2=function(a,u){return a=a>>>u&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},p.interleave3=function(a,u,f){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|f<<2},p.deinterleave3=function(a,u){return a=a>>>u&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},p.nextCombination=function(a){var u=a|a-1;return u+1|(~u&-~u)-1>>>t(a)+1}},2014:function(v,p,r){"use restrict";var t=r(3105),o=r(4623);function a(s){for(var S=0,w=Math.max,_=0,I=s.length;_<I;++_)S=w(S,s[_].length);return S-1}p.dimension=a;function u(s){for(var S=-1,w=Math.max,_=0,I=s.length;_<I;++_)for(var H=s[_],O=0,V=H.length;O<V;++O)S=w(S,H[O]);return S+1}p.countVertices=u;function f(s){for(var S=new Array(s.length),w=0,_=s.length;w<_;++w)S[w]=s[w].slice(0);return S}p.cloneCells=f;function l(s,S){var w=s.length,_=s.length-S.length,I=Math.min;if(_)return _;switch(w){case 0:return 0;case 1:return s[0]-S[0];case 2:var F=s[0]+s[1]-S[0]-S[1];return F||I(s[0],s[1])-I(S[0],S[1]);case 3:var H=s[0]+s[1],O=S[0]+S[1];if(F=H+s[2]-(O+S[2]),F)return F;var V=I(s[0],s[1]),B=I(S[0],S[1]),F=I(V,s[2])-I(B,S[2]);return F||I(V+s[2],H)-I(B+S[2],O);default:var G=s.slice(0);G.sort();var Y=S.slice(0);Y.sort();for(var Q=0;Q<w;++Q)if(_=G[Q]-Y[Q],_)return _;return 0}}p.compareCells=l;function y(s,S){return l(s[0],S[0])}function c(s,S){if(S){for(var w=s.length,_=new Array(w),I=0;I<w;++I)_[I]=[s[I],S[I]];_.sort(y);for(var I=0;I<w;++I)s[I]=_[I][0],S[I]=_[I][1];return s}else return s.sort(l),s}p.normalize=c;function T(s){if(s.length===0)return[];for(var S=1,w=s.length,_=1;_<w;++_){var I=s[_];if(l(I,s[_-1])){if(_===S){S++;continue}s[S++]=I}}return s.length=S,s}p.unique=T;function h(s,S){for(var w=0,_=s.length-1,I=-1;w<=_;){var H=w+_>>1,O=l(s[H],S);O<=0?(O===0&&(I=H),w=H+1):O>0&&(_=H-1)}return I}p.findCell=h;function i(s,S){for(var w=new Array(s.length),_=0,I=w.length;_<I;++_)w[_]=[];for(var H=[],_=0,O=S.length;_<O;++_)for(var V=S[_],B=V.length,F=1,G=1<<B;F<G;++F){H.length=t.popCount(F);for(var Y=0,Q=0;Q<B;++Q)F&1<<Q&&(H[Y++]=V[Q]);var te=h(s,H);if(!(te<0))for(;w[te++].push(_),!(te>=s.length||l(s[te],H)!==0););}return w}p.incidence=i;function g(s,S){if(!S)return i(T(A(s,0)),s);for(var w=new Array(S),_=0;_<S;++_)w[_]=[];for(var _=0,I=s.length;_<I;++_)for(var H=s[_],O=0,V=H.length;O<V;++O)w[H[O]].push(_);return w}p.dual=g;function b(s){for(var S=[],w=0,_=s.length;w<_;++w)for(var I=s[w],H=I.length|0,O=1,V=1<<H;O<V;++O){for(var B=[],F=0;F<H;++F)O>>>F&1&&B.push(I[F]);S.push(B)}return c(S)}p.explode=b;function A(s,S){if(S<0)return[];for(var w=[],_=(1<<S+1)-1,I=0;I<s.length;++I)for(var H=s[I],O=_;O<1<<H.length;O=t.nextCombination(O)){for(var V=new Array(S+1),B=0,F=0;F<H.length;++F)O&1<<F&&(V[B++]=H[F]);w.push(V)}return c(w)}p.skeleton=A;function R(s){for(var S=[],w=0,_=s.length;w<_;++w)for(var I=s[w],H=0,O=I.length;H<O;++H){for(var V=new Array(I.length-1),B=0,F=0;B<O;++B)B!==H&&(V[F++]=I[B]);S.push(V)}return c(S)}p.boundary=R;function m(s,S){for(var w=new o(S),_=0;_<s.length;++_)for(var I=s[_],H=0;H<I.length;++H)for(var O=H+1;O<I.length;++O)w.link(I[H],I[O]);for(var V=[],B=w.ranks,_=0;_<B.length;++_)B[_]=-1;for(var _=0;_<s.length;++_){var F=w.find(s[_][0]);B[F]<0?(B[F]=V.length,V.push([s[_].slice(0)])):V[B[F]].push(s[_].slice(0))}return V}function L(s){for(var S=T(c(A(s,0))),w=new o(S.length),_=0;_<s.length;++_)for(var I=s[_],H=0;H<I.length;++H)for(var O=h(S,[I[H]]),V=H+1;V<I.length;++V)w.link(O,h(S,[I[V]]));for(var B=[],F=w.ranks,_=0;_<F.length;++_)F[_]=-1;for(var _=0;_<s.length;++_){var G=w.find(h(S,[s[_][0]]));F[G]<0?(F[G]=B.length,B.push([s[_].slice(0)])):B[F[G]].push(s[_].slice(0))}return B}function M(s,S){return S?m(s,S):L(s)}p.connectedComponents=M},4623:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var o=t[r];t[r]=t[o],r=o}return r},p.prototype.link=function(r,t){var o=this.find(r),a=this.find(t);if(o!==a){var u=this.ranks,f=this.roots,l=u[o],y=u[a];l<y?f[o]=a:y<l?f[a]=o:(f[a]=o,++u[o])}}},5878:function(v,p,r){v.exports=u;var t=r(3250),o=r(2014);function a(f,l,y){var c=Math.abs(t(f,l,y)),T=Math.sqrt(Math.pow(l[0]-y[0],2)+Math.pow(l[1]-y[1],2));return c/T}function u(f,l,y){for(var c=l.length,T=f.length,h=new Array(c),i=new Array(c),g=new Array(c),b=new Array(c),A=0;A<c;++A)h[A]=i[A]=-1,g[A]=1/0,b[A]=!1;for(var A=0;A<T;++A){var R=f[A];if(R.length!==2)throw new Error("Input must be a graph");var m=R[1],L=R[0];i[L]!==-1?i[L]=-2:i[L]=m,h[m]!==-1?h[m]=-2:h[m]=L}function M(oe){if(b[oe])return 1/0;var J=h[oe],ee=i[oe];return J<0||ee<0?1/0:a(l[oe],l[J],l[ee])}function s(oe,J){var ee=B[oe],X=B[J];B[oe]=X,B[J]=ee,F[ee]=J,F[X]=oe}function S(oe){return g[B[oe]]}function w(oe){return oe&1?oe-1>>1:(oe>>1)-1}function _(oe){for(var J=S(oe);;){var ee=J,X=2*oe+1,q=2*(oe+1),le=oe;if(X<Y){var $=S(X);$<ee&&(le=X,ee=$)}if(q<Y){var j=S(q);j<ee&&(le=q)}if(le===oe)return oe;s(oe,le),oe=le}}function I(oe){for(var J=S(oe);oe>0;){var ee=w(oe);if(ee>=0){var X=S(ee);if(J<X){s(oe,ee),oe=ee;continue}}return oe}}function H(){if(Y>0){var oe=B[0];return s(0,Y-1),Y-=1,_(0),oe}return-1}function O(oe,J){var ee=B[oe];return g[ee]===J?oe:(g[ee]=-1/0,I(oe),H(),g[ee]=J,Y+=1,I(Y-1))}function V(oe){if(!b[oe]){b[oe]=!0;var J=h[oe],ee=i[oe];h[ee]>=0&&(h[ee]=J),i[J]>=0&&(i[J]=ee),F[J]>=0&&O(F[J],M(J)),F[ee]>=0&&O(F[ee],M(ee))}}for(var B=[],F=new Array(c),A=0;A<c;++A){var G=g[A]=M(A);G<1/0?(F[A]=B.length,B.push(A)):F[A]=-1}for(var Y=B.length,A=Y>>1;A>=0;--A)_(A);for(;;){var Q=H();if(Q<0||g[Q]>y)break;V(Q)}for(var te=[],A=0;A<c;++A)b[A]||(F[A]=te.length,te.push(l[A].slice()));te.length;function ae(oe,J){if(oe[J]<0)return J;var ee=J,X=J;do{var q=oe[X];if(!b[X]||q<0||q===X||(X=q,q=oe[X],!b[X]||q<0||q===X))break;X=q,ee=oe[ee]}while(ee!==X);for(var le=J;le!==X;le=oe[le])oe[le]=X;return X}var fe=[];return f.forEach(function(oe){var J=ae(h,oe[0]),ee=ae(i,oe[1]);if(J>=0&&ee>=0&&J!==ee){var X=F[J],q=F[ee];X!==q&&fe.push([X,q])}}),o.unique(o.normalize(fe)),{positions:te,edges:fe}}},1303:function(v,p,r){v.exports=a;var t=r(3250);function o(u,f){var l,y;if(f[0][0]<f[1][0])l=f[0],y=f[1];else if(f[0][0]>f[1][0])l=f[1],y=f[0];else{var c=Math.min(u[0][1],u[1][1]),T=Math.max(u[0][1],u[1][1]),h=Math.min(f[0][1],f[1][1]),i=Math.max(f[0][1],f[1][1]);return T<h?T-h:c>i?c-i:T-i}var g,b;u[0][1]<u[1][1]?(g=u[0],b=u[1]):(g=u[1],b=u[0]);var A=t(y,l,g);return A||(A=t(y,l,b),A)?A:b-y}function a(u,f){var l,y;if(f[0][0]<f[1][0])l=f[0],y=f[1];else if(f[0][0]>f[1][0])l=f[1],y=f[0];else return o(f,u);var c,T;if(u[0][0]<u[1][0])c=u[0],T=u[1];else if(u[0][0]>u[1][0])c=u[1],T=u[0];else return-o(u,f);var h=t(l,y,T),i=t(l,y,c);if(h<0){if(i<=0)return h}else if(h>0){if(i>=0)return h}else if(i)return i;if(h=t(T,c,y),i=t(T,c,l),h<0){if(i<=0)return h}else if(h>0){if(i>=0)return h}else if(i)return i;return y[0]-T[0]}},4209:function(v,p,r){v.exports=i;var t=r(2478),o=r(3840),a=r(3250),u=r(1303);function f(g,b,A){this.slabs=g,this.coordinates=b,this.horizontal=A}var l=f.prototype;function y(g,b){return g.y-b}function c(g,b){for(var A=null;g;){var R=g.key,m,L;R[0][0]<R[1][0]?(m=R[0],L=R[1]):(m=R[1],L=R[0]);var M=a(m,L,b);if(M<0)g=g.left;else if(M>0)if(b[0]!==R[1][0])A=g,g=g.right;else{var s=c(g.right,b);if(s)return s;g=g.left}else{if(b[0]!==R[1][0])return g;var s=c(g.right,b);if(s)return s;g=g.left}}return A}l.castUp=function(g){var b=t.le(this.coordinates,g[0]);if(b<0)return-1;this.slabs[b];var A=c(this.slabs[b],g),R=-1;if(A&&(R=A.value),this.coordinates[b]===g[0]){var m=null;if(A&&(m=A.key),b>0){var L=c(this.slabs[b-1],g);L&&(m?u(L.key,m)>0&&(m=L.key,R=L.value):(R=L.value,m=L.key))}var M=this.horizontal[b];if(M.length>0){var s=t.ge(M,g[1],y);if(s<M.length){var S=M[s];if(g[1]===S.y){if(S.closed)return S.index;for(;s<M.length-1&&M[s+1].y===g[1];)if(s=s+1,S=M[s],S.closed)return S.index;if(S.y===g[1]&&!S.start){if(s=s+1,s>=M.length)return R;S=M[s]}}if(S.start)if(m){var w=a(m[0],m[1],[g[0],S.y]);m[0][0]>m[1][0]&&(w=-w),w>0&&(R=S.index)}else R=S.index;else S.y!==g[1]&&(R=S.index)}}}return R};function T(g,b,A,R){this.y=g,this.index=b,this.start=A,this.closed=R}function h(g,b,A,R){this.x=g,this.segment=b,this.create=A,this.index=R}function i(g){for(var b=g.length,A=2*b,R=new Array(A),m=0;m<b;++m){var L=g[m],M=L[0][0]<L[1][0];R[2*m]=new h(L[0][0],L,M,m),R[2*m+1]=new h(L[1][0],L,!M,m)}R.sort(function(V,B){var F=V.x-B.x;return F||(F=V.create-B.create,F)?F:Math.min(V.segment[0][1],V.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var s=o(u),S=[],w=[],_=[],m=0;m<A;){for(var I=R[m].x,H=[];m<A;){var O=R[m];if(O.x!==I)break;m+=1,O.segment[0][0]===O.x&&O.segment[1][0]===O.x?O.create&&(O.segment[0][1]<O.segment[1][1]?(H.push(new T(O.segment[0][1],O.index,!0,!0)),H.push(new T(O.segment[1][1],O.index,!1,!1))):(H.push(new T(O.segment[1][1],O.index,!0,!1)),H.push(new T(O.segment[0][1],O.index,!1,!0)))):O.create?s=s.insert(O.segment,O.index):s=s.remove(O.segment)}S.push(s.root),w.push(I),_.push(H)}return new f(S,w,_)}},5202:function(v,p,r){var t=r(1944),o=r(8210);v.exports=f,v.exports.positive=l,v.exports.negative=y;function a(c,T){var h=o(t(c,T),[T[T.length-1]]);return h[h.length-1]}function u(c,T,h,i){var g=i-T,b=-T/g;b<0?b=0:b>1&&(b=1);for(var A=1-b,R=c.length,m=new Array(R),L=0;L<R;++L)m[L]=b*c[L]+A*h[L];return m}function f(c,T){for(var h=[],i=[],g=a(c[c.length-1],T),b=c[c.length-1],A=c[0],R=0;R<c.length;++R,b=A){A=c[R];var m=a(A,T);if(g<0&&m>0||g>0&&m<0){var L=u(b,m,A,g);h.push(L),i.push(L.slice())}m<0?i.push(A.slice()):m>0?h.push(A.slice()):(h.push(A.slice()),i.push(A.slice())),g=m}return{positive:h,negative:i}}function l(c,T){for(var h=[],i=a(c[c.length-1],T),g=c[c.length-1],b=c[0],A=0;A<c.length;++A,g=b){b=c[A];var R=a(b,T);(i<0&&R>0||i>0&&R<0)&&h.push(u(g,R,b,i)),R>=0&&h.push(b.slice()),i=R}return h}function y(c,T){for(var h=[],i=a(c[c.length-1],T),g=c[c.length-1],b=c[0],A=0;A<c.length;++A,g=b){b=c[A];var R=a(b,T);(i<0&&R>0||i>0&&R<0)&&h.push(u(g,R,b,i)),R<=0&&h.push(b.slice()),i=R}return h}},3387:function(v,p,r){var t;(function(){var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(c){return f(y(c),arguments)}function u(c,T){return a.apply(null,[c].concat(T||[]))}function f(c,T){var h=1,i=c.length,g,b="",A,R,m,L,M,s,S,w;for(A=0;A<i;A++)if(typeof c[A]=="string")b+=c[A];else if(typeof c[A]=="object"){if(m=c[A],m.keys)for(g=T[h],R=0;R<m.keys.length;R++){if(g==null)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[R],m.keys[R-1]));g=g[m.keys[R]]}else m.param_no?g=T[m.param_no]:g=T[h++];if(o.not_type.test(m.type)&&o.not_primitive.test(m.type)&&g instanceof Function&&(g=g()),o.numeric_arg.test(m.type)&&typeof g!="number"&&isNaN(g))throw new TypeError(a("[sprintf] expecting number but found %T",g));switch(o.number.test(m.type)&&(S=g>=0),m.type){case"b":g=parseInt(g,10).toString(2);break;case"c":g=String.fromCharCode(parseInt(g,10));break;case"d":case"i":g=parseInt(g,10);break;case"j":g=JSON.stringify(g,null,m.width?parseInt(m.width):0);break;case"e":g=m.precision?parseFloat(g).toExponential(m.precision):parseFloat(g).toExponential();break;case"f":g=m.precision?parseFloat(g).toFixed(m.precision):parseFloat(g);break;case"g":g=m.precision?String(Number(g.toPrecision(m.precision))):parseFloat(g);break;case"o":g=(parseInt(g,10)>>>0).toString(8);break;case"s":g=String(g),g=m.precision?g.substring(0,m.precision):g;break;case"t":g=String(!!g),g=m.precision?g.substring(0,m.precision):g;break;case"T":g=Object.prototype.toString.call(g).slice(8,-1).toLowerCase(),g=m.precision?g.substring(0,m.precision):g;break;case"u":g=parseInt(g,10)>>>0;break;case"v":g=g.valueOf(),g=m.precision?g.substring(0,m.precision):g;break;case"x":g=(parseInt(g,10)>>>0).toString(16);break;case"X":g=(parseInt(g,10)>>>0).toString(16).toUpperCase();break}o.json.test(m.type)?b+=g:(o.number.test(m.type)&&(!S||m.sign)?(w=S?"+":"-",g=g.toString().replace(o.sign,"")):w="",M=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",s=m.width-(w+g).length,L=m.width&&s>0?M.repeat(s):"",b+=m.align?w+g+L:M==="0"?w+L+g:L+w+g)}return b}var l=Object.create(null);function y(c){if(l[c])return l[c];for(var T=c,h,i=[],g=0;T;){if((h=o.text.exec(T))!==null)i.push(h[0]);else if((h=o.modulo.exec(T))!==null)i.push("%");else if((h=o.placeholder.exec(T))!==null){if(h[2]){g|=1;var b=[],A=h[2],R=[];if((R=o.key.exec(A))!==null)for(b.push(R[1]);(A=A.substring(R[0].length))!=="";)if((R=o.key_access.exec(A))!==null)b.push(R[1]);else if((R=o.index_access.exec(A))!==null)b.push(R[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=b}else g|=2;if(g===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(h[0].length)}return l[c]=i}p.sprintf=a,p.vsprintf=u,typeof window<"u"&&(window.sprintf=a,window.vsprintf=u,t=(function(){return{sprintf:a,vsprintf:u}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},3711:function(v,p,r){v.exports=y;var t=r(2640),o=r(781),a={"2d":function(c,T,h){var i=c({order:T,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(b,A,R,m){return b>m|0},vertex:function(b,A,R,m,L,M,s,S,w,_,I,H,O){var V=(s<<0)+(S<<1)+(w<<2)+(_<<3)|0;if(!(V===0||V===15))switch(V){case 0:I.push([b-.5,A-.5]);break;case 1:I.push([b-.25-.25*(m+R-2*O)/(R-m),A-.25-.25*(L+R-2*O)/(R-L)]);break;case 2:I.push([b-.75-.25*(-m-R+2*O)/(m-R),A-.25-.25*(M+m-2*O)/(m-M)]);break;case 3:I.push([b-.5,A-.5-.5*(L+R+M+m-4*O)/(R-L+m-M)]);break;case 4:I.push([b-.25-.25*(M+L-2*O)/(L-M),A-.75-.25*(-L-R+2*O)/(L-R)]);break;case 5:I.push([b-.5-.5*(m+R+M+L-4*O)/(R-m+L-M),A-.5]);break;case 6:I.push([b-.5-.25*(-m-R+M+L)/(m-R+L-M),A-.5-.25*(-L-R+M+m)/(L-R+m-M)]);break;case 7:I.push([b-.75-.25*(M+L-2*O)/(L-M),A-.75-.25*(M+m-2*O)/(m-M)]);break;case 8:I.push([b-.75-.25*(-M-L+2*O)/(M-L),A-.75-.25*(-M-m+2*O)/(M-m)]);break;case 9:I.push([b-.5-.25*(m+R+-M-L)/(R-m+M-L),A-.5-.25*(L+R+-M-m)/(R-L+M-m)]);break;case 10:I.push([b-.5-.5*(-m-R+-M-L+4*O)/(m-R+M-L),A-.5]);break;case 11:I.push([b-.25-.25*(-M-L+2*O)/(M-L),A-.75-.25*(L+R-2*O)/(R-L)]);break;case 12:I.push([b-.5,A-.5-.5*(-L-R+-M-m+4*O)/(L-R+M-m)]);break;case 13:I.push([b-.75-.25*(m+R-2*O)/(R-m),A-.25-.25*(-M-m+2*O)/(M-m)]);break;case 14:I.push([b-.25-.25*(-m-R+2*O)/(m-R),A-.25-.25*(-L-R+2*O)/(L-R)]);break;case 15:I.push([b-.5,A-.5]);break}},cell:function(b,A,R,m,L,M,s,S,w){L?S.push([b,A]):S.push([A,b])}});return function(g,b){var A=[],R=[];return i(g,A,R,b),{positions:A,cells:R}}}};function u(c,T){var h=c.length+"d",i=a[h];if(i)return i(t,c,T)}function f(c,T){for(var h=o(c,T),i=h.length,g=new Array(i),b=new Array(i),A=0;A<i;++A)g[A]=[h[A]],b[A]=[A];return{positions:g,cells:b}}var l={};function y(c,g){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return f(c,g);var h=c.order.join()+"-"+c.dtype,i=l[h],g=+g||0;return i||(i=l[h]=u(c.order,c.dtype)),i(c,g)}},529:function(v,p,r){v.exports=f;var t=r(4359),o=window||d.global||{},a=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};function u(l){for(var y=l.cells,c=l.positions,T=new Float32Array(y.length*6),h=0,i=0,g=0;g<y.length;++g)for(var b=y[g],A=0;A<3;++A){var R=c[b[A]];T[h++]=R[0],T[h++]=R[1]+1.4,i=Math.max(R[0],i)}return{data:T,shape:i}}function f(l,y,T){var T=T||{},h=T.fontStyle||"normal",i=T.fontWeight||"normal",g=T.fontVariant||"normal",b=[h,i,g,l].join("_"),A=a[b];A||(A=a[b]={" ":{data:new Float32Array(0),shape:.2}});var R=A[y];if(!R)if(y.length<=1||!/\d/.test(y))R=A[y]=u(t(y,{triangles:!0,font:l,fontStyle:h,fontWeight:i,fontVariant:g,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=y.split(/(\d|\s)/),L=new Array(m.length),M=0,s=0,S=0;S<m.length;++S)L[S]=f(l,m[S]),M+=L[S].data.length,s+=L[S].shape,S>0&&(s+=.02);for(var w=new Float32Array(M),_=0,I=-.5*s,S=0;S<L.length;++S){for(var H=L[S].data,O=0;O<H.length;O+=2)w[_++]=H[O]+I,w[_++]=H[O+1];I+=L[S].shape+.02}R=A[y]={data:w,shape:s}}return R}},665:function(v,p,r){var t=r(3202);v.exports=f;var o=96;function a(l,y){var c=t(getComputedStyle(l).getPropertyValue(y));return c[0]*f(c[1],l)}function u(l,y){var c=document.createElement("div");c.style["font-size"]="128"+l,y.appendChild(c);var T=a(c,"font-size")/128;return y.removeChild(c),T}function f(l,y){switch(y=y||document.body,l=(l||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),l){case"%":return y.clientHeight/100;case"ch":case"ex":return u(l,y);case"em":return a(y,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},7261:function(v,p,r){v.exports=b;var t=r(9215),o=r(7608),a=r(6079),u=r(5911),f=r(3536),l=r(244);function y(A,R,m){return Math.sqrt(Math.pow(A,2)+Math.pow(R,2)+Math.pow(m,2))}function c(A){return Math.min(1,Math.max(-1,A))}function T(A){var R=Math.abs(A[0]),m=Math.abs(A[1]),L=Math.abs(A[2]),M=[0,0,0];R>Math.max(m,L)?M[2]=1:m>Math.max(R,L)?M[0]=1:M[1]=1;for(var s=0,S=0,w=0;w<3;++w)s+=A[w]*A[w],S+=M[w]*A[w];for(var w=0;w<3;++w)M[w]-=S/s*A[w];return f(M,M),M}function h(A,R,m,L,M,s,S,w){this.center=t(m),this.up=t(L),this.right=t(M),this.radius=t([s]),this.angle=t([S,w]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,R),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var _=0;_<16;++_)this.computedMatrix[_]=.5;this.recalcMatrix(0)}var i=h.prototype;i.setDistanceLimits=function(A,R){A>0?A=Math.log(A):A=-1/0,R>0?R=Math.log(R):R=1/0,R=Math.max(R,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=R},i.getDistanceLimits=function(A){var R=this.radius.bounds[0];return A?(A[0]=Math.exp(R[0][0]),A[1]=Math.exp(R[1][0]),A):[Math.exp(R[0][0]),Math.exp(R[1][0])]},i.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var R=this.computedUp,m=this.computedRight,L=0,M=0,s=0;s<3;++s)M+=R[s]*m[s],L+=R[s]*R[s];for(var S=Math.sqrt(L),w=0,s=0;s<3;++s)m[s]-=R[s]*M/L,w+=m[s]*m[s],R[s]/=S;for(var _=Math.sqrt(w),s=0;s<3;++s)m[s]/=_;var I=this.computedToward;u(I,R,m),f(I,I);for(var H=Math.exp(this.computedRadius[0]),O=this.computedAngle[0],V=this.computedAngle[1],B=Math.cos(O),F=Math.sin(O),G=Math.cos(V),Y=Math.sin(V),Q=this.computedCenter,te=B*G,ae=F*G,fe=Y,oe=-B*Y,J=-F*Y,ee=G,X=this.computedEye,q=this.computedMatrix,s=0;s<3;++s){var le=te*m[s]+ae*I[s]+fe*R[s];q[4*s+1]=oe*m[s]+J*I[s]+ee*R[s],q[4*s+2]=le,q[4*s+3]=0}var $=q[1],j=q[5],se=q[9],ne=q[2],he=q[6],me=q[10],we=j*me-se*he,Te=se*ne-$*me,Le=$*he-j*ne,Ie=y(we,Te,Le);we/=Ie,Te/=Ie,Le/=Ie,q[0]=we,q[4]=Te,q[8]=Le;for(var s=0;s<3;++s)X[s]=Q[s]+q[2+4*s]*H;for(var s=0;s<3;++s){for(var w=0,ze=0;ze<3;++ze)w+=q[s+4*ze]*X[ze];q[12+s]=-w}q[15]=1},i.getMatrix=function(A,R){this.recalcMatrix(A);var m=this.computedMatrix;if(R){for(var L=0;L<16;++L)R[L]=m[L];return R}return m};var g=[0,0,0];i.rotate=function(A,R,m,L){if(this.angle.move(A,R,m),L){this.recalcMatrix(A);var M=this.computedMatrix;g[0]=M[2],g[1]=M[6],g[2]=M[10];for(var s=this.computedUp,S=this.computedRight,w=this.computedToward,_=0;_<3;++_)M[4*_]=s[_],M[4*_+1]=S[_],M[4*_+2]=w[_];a(M,M,L,g);for(var _=0;_<3;++_)s[_]=M[4*_],S[_]=M[4*_+1];this.up.set(A,s[0],s[1],s[2]),this.right.set(A,S[0],S[1],S[2])}},i.pan=function(A,R,m,L){R=R||0,m=m||0,L=L||0,this.recalcMatrix(A);var M=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=M[1],S=M[5],w=M[9],_=y(s,S,w);s/=_,S/=_,w/=_;var I=M[0],H=M[4],O=M[8],V=I*s+H*S+O*w;I-=s*V,H-=S*V,O-=w*V;var B=y(I,H,O);I/=B,H/=B,O/=B;var F=I*R+s*m,G=H*R+S*m,Y=O*R+w*m;this.center.move(A,F,G,Y);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+L),this.radius.set(A,Math.log(Q))},i.translate=function(A,R,m,L){this.center.move(A,R||0,m||0,L||0)},i.setMatrix=function(A,R,m,L){var M=1;typeof m=="number"&&(M=m|0),(M<0||M>3)&&(M=1);var s=(M+2)%3;R||(this.recalcMatrix(A),R=this.computedMatrix);var S=R[M],w=R[M+4],_=R[M+8];if(L){var H=Math.abs(S),O=Math.abs(w),V=Math.abs(_),B=Math.max(H,O,V);H===B?(S=S<0?-1:1,w=_=0):V===B?(_=_<0?-1:1,S=w=0):(w=w<0?-1:1,S=_=0)}else{var I=y(S,w,_);S/=I,w/=I,_/=I}var F=R[s],G=R[s+4],Y=R[s+8],Q=F*S+G*w+Y*_;F-=S*Q,G-=w*Q,Y-=_*Q;var te=y(F,G,Y);F/=te,G/=te,Y/=te;var ae=w*Y-_*G,fe=_*F-S*Y,oe=S*G-w*F,J=y(ae,fe,oe);ae/=J,fe/=J,oe/=J,this.center.jump(A,Oe,Pe,Ge),this.radius.idle(A),this.up.jump(A,S,w,_),this.right.jump(A,F,G,Y);var ee,X;if(M===2){var q=R[1],le=R[5],$=R[9],j=q*F+le*G+$*Y,se=q*ae+le*fe+$*oe;we<0?ee=-Math.PI/2:ee=Math.PI/2,X=Math.atan2(se,j)}else{var ne=R[2],he=R[6],me=R[10],we=ne*S+he*w+me*_,Te=ne*F+he*G+me*Y,Le=ne*ae+he*fe+me*oe;ee=Math.asin(c(we)),X=Math.atan2(Le,Te)}this.angle.jump(A,X,ee),this.recalcMatrix(A);var Ie=R[2],ze=R[6],Me=R[10],_e=this.computedMatrix;o(_e,R);var Ce=_e[15],Oe=_e[12]/Ce,Pe=_e[13]/Ce,Ge=_e[14]/Ce,Ze=Math.exp(this.computedRadius[0]);this.center.jump(A,Oe-Ie*Ze,Pe-ze*Ze,Ge-Me*Ze)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},i.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},i.setDistance=function(A,R){R>0&&this.radius.set(A,Math.log(R))},i.lookAt=function(A,R,m,L){this.recalcMatrix(A),R=R||this.computedEye,m=m||this.computedCenter,L=L||this.computedUp;var M=L[0],s=L[1],S=L[2],w=y(M,s,S);if(!(w<1e-6)){M/=w,s/=w,S/=w;var _=R[0]-m[0],I=R[1]-m[1],H=R[2]-m[2],O=y(_,I,H);if(!(O<1e-6)){_/=O,I/=O,H/=O;var V=this.computedRight,B=V[0],F=V[1],G=V[2],Y=M*B+s*F+S*G;B-=Y*M,F-=Y*s,G-=Y*S;var Q=y(B,F,G);if(!(Q<.01&&(B=s*H-S*I,F=S*_-M*H,G=M*I-s*_,Q=y(B,F,G),Q<1e-6))){B/=Q,F/=Q,G/=Q,this.up.set(A,M,s,S),this.right.set(A,B,F,G),this.center.set(A,m[0],m[1],m[2]),this.radius.set(A,Math.log(O));var te=s*G-S*F,ae=S*B-M*G,fe=M*F-s*B,oe=y(te,ae,fe);te/=oe,ae/=oe,fe/=oe;var J=M*_+s*I+S*H,ee=B*_+F*I+G*H,X=te*_+ae*I+fe*H,q=Math.asin(c(J)),le=Math.atan2(X,ee),$=this.angle._state,j=$[$.length-1],se=$[$.length-2];j=j%(2*Math.PI);var ne=Math.abs(j+2*Math.PI-le),he=Math.abs(j-le),me=Math.abs(j-2*Math.PI-le);ne<he&&(j+=2*Math.PI),me<he&&(j-=2*Math.PI),this.angle.jump(this.angle.lastT(),j,se),this.angle.set(A,le,q)}}}};function b(A){A=A||{};var R=A.center||[0,0,0],m=A.up||[0,1,0],L=A.right||T(m),M=A.radius||1,s=A.theta||0,S=A.phi||0;if(R=[].slice.call(R,0,3),m=[].slice.call(m,0,3),f(m,m),L=[].slice.call(L,0,3),f(L,L),"eye"in A){var w=A.eye,_=[w[0]-R[0],w[1]-R[1],w[2]-R[2]];u(L,_,m),y(L[0],L[1],L[2])<1e-6?L=T(m):f(L,L),M=y(_[0],_[1],_[2]);var I=l(m,_)/M,H=l(L,_)/M;S=Math.acos(I),s=Math.acos(H)}return M=Math.log(M),new h(A.zoomMin,A.zoomMax,R,m,L,M,s,S)}},5250:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,o,a){var u=t*o,f=p*t,l=f-t,y=f-l,c=t-y,T=p*o,h=T-o,i=T-h,g=o-i,b=u-y*i,A=b-c*i,R=A-y*g,m=c*g-R;return a?(a[0]=m,a[1]=u,a):[m,u]}},9362:function(v){v.exports=p;function p(r,t,o){var a=r+t,u=a-r,f=a-u,l=t-u,y=r-f;return o?(o[0]=y+l,o[1]=a,o):[y+l,a]}},1888:function(v,p,r){var t=r(8828),o=r(1338),a=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var u=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",y=r.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=o([32,0])),y.BIGUINT64||(y.BIGUINT64=o([32,0])),y.BIGINT64||(y.BIGINT64=o([32,0])),y.BUFFER||(y.BUFFER=o([32,0]));var c=y.DATA,T=y.BUFFER;p.free=function(B){if(a.isBuffer(B))T[t.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var F=B.length||B.byteLength,G=t.log2(F)|0;c[G].push(B)}};function h(V){if(V){var B=V.length||V.byteLength,F=t.log2(B);c[F].push(V)}}function i(V){h(V.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=i,p.freeArrayBuffer=h,p.freeBuffer=function(B){T[t.log2(B.length)].push(B)},p.malloc=function(B,F){if(F===void 0||F==="arraybuffer")return g(B);switch(F){case"uint8":return b(B);case"uint16":return A(B);case"uint32":return R(B);case"int8":return m(B);case"int16":return L(B);case"int32":return M(B);case"float":case"float32":return s(B);case"double":case"float64":return S(B);case"uint8_clamped":return w(B);case"bigint64":return I(B);case"biguint64":return _(B);case"buffer":return O(B);case"data":case"dataview":return H(B);default:return null}return null};function g(B){var B=t.nextPow2(B),F=t.log2(B),G=c[F];return G.length>0?G.pop():new ArrayBuffer(B)}p.mallocArrayBuffer=g;function b(V){return new Uint8Array(g(V),0,V)}p.mallocUint8=b;function A(V){return new Uint16Array(g(2*V),0,V)}p.mallocUint16=A;function R(V){return new Uint32Array(g(4*V),0,V)}p.mallocUint32=R;function m(V){return new Int8Array(g(V),0,V)}p.mallocInt8=m;function L(V){return new Int16Array(g(2*V),0,V)}p.mallocInt16=L;function M(V){return new Int32Array(g(4*V),0,V)}p.mallocInt32=M;function s(V){return new Float32Array(g(4*V),0,V)}p.mallocFloat32=p.mallocFloat=s;function S(V){return new Float64Array(g(8*V),0,V)}p.mallocFloat64=p.mallocDouble=S;function w(V){return u?new Uint8ClampedArray(g(V),0,V):b(V)}p.mallocUint8Clamped=w;function _(V){return f?new BigUint64Array(g(8*V),0,V):null}p.mallocBigUint64=_;function I(V){return l?new BigInt64Array(g(8*V),0,V):null}p.mallocBigInt64=I;function H(V){return new DataView(g(V),0,V)}p.mallocDataView=H;function O(V){V=t.nextPow2(V);var B=t.log2(V),F=T[B];return F.length>0?F.pop():new a(V)}p.mallocBuffer=O,p.clearCache=function(){for(var B=0;B<32;++B)y.UINT8[B].length=0,y.UINT16[B].length=0,y.UINT32[B].length=0,y.INT8[B].length=0,y.INT16[B].length=0,y.INT32[B].length=0,y.FLOAT[B].length=0,y.DOUBLE[B].length=0,y.BIGUINT64[B].length=0,y.BIGINT64[B].length=0,y.UINT8C[B].length=0,c[B].length=0,T[B].length=0}},1755:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var o=0;o<t;++o)this.roots[o]=o,this.ranks[o]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var o=t,a=this.roots;a[t]!==t;)t=a[t];for(;a[o]!==t;){var u=a[o];a[o]=t,o=u}return t},r.link=function(t,o){var a=this.find(t),u=this.find(o);if(a!==u){var f=this.ranks,l=this.roots,y=f[a],c=f[u];y<c?l[a]=u:c<y?l[u]=a:(l[u]=a,++f[a])}}},1682:function(v){function p(o,a){for(var u=1,f=o.length,l=o[0],y=o[0],c=1;c<f;++c)if(y=l,l=o[c],a(l,y)){if(c===u){u++;continue}o[u++]=l}return o.length=u,o}function r(o){for(var a=1,u=o.length,f=o[0],l=o[0],y=1;y<u;++y,l=f)if(l=f,f=o[y],f!==l){if(y===a){a++;continue}o[a++]=f}return o.length=a,o}function t(o,a,u){return o.length===0?o:a?(u||o.sort(a),p(o,a)):(u||o.sort(),r(o))}v.exports=t},4359:function(v,p,r){v.exports=u;var t=r(7718),o=null,a=null;typeof document<"u"&&(o=document.createElement("canvas"),o.width=8192,o.height=1024,a=o.getContext("2d"));function u(f,l){return(typeof l!="object"||l===null)&&(l={}),t(f,l.canvas||o,l.context||a,l)}},7718:function(v,p,r){v.exports=I,v.exports.processPixels=_;var t=r(3711),o=r(9618),a=r(5878),u=r(332),f=r(2538),l=r(2095),y="b",c="b|",T="i",h="i|",i="sup",g="+",b="+1",A="sub",R="-",m="-1";function L(H,O,V,B){for(var F="<"+H+">",G="</"+H+">",Y=F.length,Q=G.length,te=O[0]===g||O[0]===R,ae=0,fe=-Q;ae>-1&&(ae=V.indexOf(F,ae),!(ae===-1||(fe=V.indexOf(G,ae+Y),fe===-1)||fe<=ae));){for(var oe=ae;oe<fe+Q;++oe)if(oe<ae+Y||oe>=fe)B[oe]=null,V=V.substr(0,oe)+" "+V.substr(oe+1);else if(B[oe]!==null){var J=B[oe].indexOf(O[0]);J===-1?B[oe]+=O:te&&(B[oe]=B[oe].substr(0,J+1)+(1+parseInt(B[oe][J+1]))+B[oe].substr(J+2))}var ee=ae+Y,X=V.substr(ee,fe-ee),q=X.indexOf(F);q!==-1?ae=q:ae=fe+Q}return B}function M(H,O,V){for(var B=O.textAlign||"start",F=O.textBaseline||"alphabetic",G=[1<<30,1<<30],Y=[0,0],Q=H.length,te=0;te<Q;++te)for(var ae=H[te],fe=0;fe<2;++fe)G[fe]=Math.min(G[fe],ae[fe])|0,Y[fe]=Math.max(Y[fe],ae[fe])|0;var oe=0;switch(B){case"center":oe=-.5*(G[0]+Y[0]);break;case"right":case"end":oe=-Y[0];break;case"left":case"start":oe=-G[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var J=0;switch(F){case"hanging":case"top":J=-G[1];break;case"middle":J=-.5*(G[1]+Y[1]);break;case"alphabetic":case"ideographic":J=-3*V;break;case"bottom":J=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var ee=1/V;return"lineHeight"in O?ee*=+O.lineHeight:"width"in O?ee=O.width/(Y[0]-G[0]):"height"in O&&(ee=O.height/(Y[1]-G[1])),H.map(function(X){return[ee*(X[0]+oe),ee*(X[1]+J)]})}function s(H,O,V,B,F,G){V=V.replace(/\n/g,""),G.breaklines===!0?V=V.replace(/\<br\>/g,`
`):V=V.replace(/\<br\>/g," ");var Y="",Q=[];for(j=0;j<V.length;++j)Q[j]=Y;G.bolds===!0&&(Q=L(y,c,V,Q)),G.italics===!0&&(Q=L(T,h,V,Q)),G.superscripts===!0&&(Q=L(i,b,V,Q)),G.subscripts===!0&&(Q=L(A,m,V,Q));var te=[],ae="";for(j=0;j<V.length;++j)Q[j]!==null&&(ae+=V[j],te.push(Q[j]));var fe=ae.split(`
`),oe=fe.length,J=Math.round(F*B),ee=B,X=B*2,q=0,le=oe*J+X;H.height<le&&(H.height=le),O.fillStyle="#000",O.fillRect(0,0,H.width,H.height),O.fillStyle="#fff";var $,j,se,ne,he,me=0,we="";function Te(){if(we!==""){var Ge=O.measureText(we).width;O.fillText(we,ee+se,X+ne),se+=Ge}}function Le(){return""+Math.round(he)+"px "}function Ie(Ge,Ze){var it=""+O.font;if(G.subscripts===!0){var Je=Ge.indexOf(R),et=Ze.indexOf(R),ft=Je>-1?parseInt(Ge[1+Je]):0,vt=et>-1?parseInt(Ze[1+et]):0;ft!==vt&&(it=it.replace(Le(),"?px "),he*=Math.pow(.75,vt-ft),it=it.replace("?px ",Le())),ne+=.25*J*(vt-ft)}if(G.superscripts===!0){var dt=Ge.indexOf(g),xt=Ze.indexOf(g),Mt=dt>-1?parseInt(Ge[1+dt]):0,nt=xt>-1?parseInt(Ze[1+xt]):0;Mt!==nt&&(it=it.replace(Le(),"?px "),he*=Math.pow(.75,nt-Mt),it=it.replace("?px ",Le())),ne-=.25*J*(nt-Mt)}if(G.bolds===!0){var Fe=Ge.indexOf(c)>-1,We=Ze.indexOf(c)>-1;!Fe&&We&&(je?it=it.replace("italic ","italic bold "):it="bold "+it),Fe&&!We&&(it=it.replace("bold ",""))}if(G.italics===!0){var je=Ge.indexOf(h)>-1,Ke=Ze.indexOf(h)>-1;!je&&Ke&&(it="italic "+it),je&&!Ke&&(it=it.replace("italic ",""))}O.font=it}for($=0;$<oe;++$){var ze=fe[$]+`
`;for(se=0,ne=$*J,he=B,we="",j=0;j<ze.length;++j){var Me=j+me<te.length?te[j+me]:te[te.length-1];Y===Me?we+=ze[j]:(Te(),we=ze[j],Me!==void 0&&(Ie(Y,Me),Y=Me))}Te(),me+=ze.length;var _e=Math.round(se+2*ee)|0;q<_e&&(q=_e)}var Ce=q,Oe=X+J*oe,Pe=o(O.getImageData(0,0,Ce,Oe).data,[Oe,Ce,4]);return Pe.pick(-1,-1,0).transpose(1,0)}function S(H,O){var V=t(H,128);return O?a(V.cells,V.positions,.25):{edges:V.cells,positions:V.positions}}function w(H,O,V,B){var F=S(H,B),G=M(F.positions,O,V),Y=F.edges,Q=O.orientation==="ccw";if(u(G,Y),O.polygons||O.polygon||O.polyline){for(var te=l(Y,G),ae=new Array(te.length),fe=0;fe<te.length;++fe){for(var oe=te[fe],J=new Array(oe.length),ee=0;ee<oe.length;++ee){for(var X=oe[ee],q=new Array(X.length),le=0;le<X.length;++le)q[le]=G[X[le]].slice();Q&&q.reverse(),J[ee]=q}ae[fe]=J}return ae}else return O.triangles||O.triangulate||O.triangle?{cells:f(G,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:G}:{edges:Y,positions:G}}function _(H,O,V){try{return w(H,O,V,!0)}catch{}try{return w(H,O,V,!1)}catch{}return O.polygons||O.polyline||O.polygon?[]:O.triangles||O.triangulate||O.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(H,O,V,B){var F=64,G=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(F=B.size),B.lineSpacing&&B.lineSpacing>0&&(G=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(Y.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(Y.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(Y.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(Y.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(Y.superscripts=!!B.styletags.superscripts)),V.font=[B.fontStyle,B.fontVariant,B.fontWeight,F+"px",B.font].filter(function(te){return te}).join(" "),V.textAlign="start",V.textBaseline="alphabetic",V.direction="ltr";var Q=s(O,V,H,F,G,Y);return _(Q,B,F)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(S){S.permitHostObjects___&&S.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var o=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new o,u=Object.freeze({});if(a.set(u,1),a.get(u)!==1)t=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,l=Object.defineProperty,y=Object.isExtensible,c="weakmap:",T=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),i=new Uint8Array(h);crypto.getRandomValues(i),T=c+"rand:"+Array.prototype.map.call(i,function(S){return(S%36).toString(36)}).join("")+"___"}function g(S){return!(S.substr(0,c.length)==c&&S.substr(S.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(w){return f(w).filter(g)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(w){return b(w).filter(g)}})}function A(S){if(S!==Object(S))throw new TypeError("Not an object: "+S);var w=S[T];if(w&&w.key===S)return w;if(y(S)){w={key:S};try{return l(S,T,{value:w,writable:!1,enumerable:!1,configurable:!1}),w}catch{return}}}(function(){var S=Object.freeze;l(Object,"freeze",{value:function(H){return A(H),S(H)}});var w=Object.seal;l(Object,"seal",{value:function(H){return A(H),w(H)}});var _=Object.preventExtensions;l(Object,"preventExtensions",{value:function(H){return A(H),_(H)}})})();function R(S){return S.prototype=null,Object.freeze(S)}var m=!1;function L(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var M=0,s=function(){this instanceof s||L();var S=[],w=[],_=M++;function I(B,F){var G,Y=A(B);return Y?_ in Y?Y[_]:F:(G=S.indexOf(B),G>=0?w[G]:F)}function H(B){var F=A(B);return F?_ in F:S.indexOf(B)>=0}function O(B,F){var G,Y=A(B);return Y?Y[_]=F:(G=S.indexOf(B),G>=0?w[G]=F:(G=S.length,w[G]=F,S[G]=B)),this}function V(B){var F=A(B),G,Y;return F?_ in F&&delete F[_]:(G=S.indexOf(B),G<0?!1:(Y=S.length-1,S[G]=void 0,w[G]=w[Y],S[G]=S[Y],S.length=Y,w.length=Y,!0))}return Object.create(s.prototype,{get___:{value:R(I)},has___:{value:R(H)},set___:{value:R(O)},delete___:{value:R(V)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(w,_){return this.get___(w,_)},writable:!0,configurable:!0},has:{value:function(w){return this.has___(w)},writable:!0,configurable:!0},set:{value:function(w,_){return this.set___(w,_)},writable:!0,configurable:!0},delete:{value:function(w){return this.delete___(w)},writable:!0,configurable:!0}}),typeof o=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function S(){this instanceof s||L();var w=new o,_=void 0,I=!1;function H(F,G){return _?w.has(F)?w.get(F):_.get___(F,G):w.get(F,G)}function O(F){return w.has(F)||(_?_.has___(F):!1)}var V;t?V=function(F,G){return w.set(F,G),w.has(F)||(_||(_=new s),_.set(F,G)),this}:V=function(F,G){if(I)try{w.set(F,G)}catch{_||(_=new s),_.set___(F,G)}else w.set(F,G);return this};function B(F){var G=!!w.delete(F);return _&&_.delete___(F)||G}return Object.create(s.prototype,{get___:{value:R(H)},has___:{value:R(O)},set___:{value:R(V)},delete___:{value:R(B)},permitHostObjects___:{value:R(function(F){if(F===r)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}S.prototype=s.prototype,v.exports=S,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,p,r){var t=r(8284);v.exports=o;function o(){var a={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(a);return f&&f.identity===a?f:t(u,a)}}},8284:function(v){v.exports=p;function p(r,t){var o={identity:t},a=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==t?a.apply(this,arguments):o},writable:!0}),o}},606:function(v,p,r){var t=r(236);v.exports=o;function o(){var a=t();return{get:function(u,f){var l=a(u);return l.hasOwnProperty("value")?l.value:f},set:function(u,f){return a(u).value=f,this},has:function(u){return"value"in a(u)},delete:function(u){return delete a(u).value}}}},3349:function(v){function p(){return function(f,l,y,c,T,h){var i=f[0],g=y[0],b=[0],A=g;c|=0;var R=0,m=g;for(R=0;R<i;++R){{var L=l[c]-h,M=l[c+A]-h;L>=0!=M>=0&&T.push(b[0]+.5+.5*(L+M)/(L-M))}c+=m,++b[0]}}}function r(){return p()}var t=r;function o(f){var l={};return function(c,T,h){var i=c.dtype,g=c.order,b=[i,g.join()].join(),A=l[b];return A||(l[b]=A=f([i,g])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,T,h)}}function a(f){return o(t.bind(void 0,f))}function u(f){return a({funcName:f.funcName})}v.exports=u({funcName:"zeroCrossings"})},781:function(v,p,r){v.exports=o;var t=r(3349);function o(a,u){var f=[];return u=+u||0,t(a.hi(a.shape[0]-1),f,u),f}},7790:function(){}},n={};function C(v){var p=n[v];if(p!==void 0)return p.exports;var r=n[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var x=C(1964);U.exports=x})()},33576:function(U,N,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function d(nt,Fe){if(!(nt instanceof Fe))throw new TypeError("Cannot call a class as a function")}function P(nt,Fe){for(var We=0;We<Fe.length;We++){var je=Fe[We];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(nt,C(je.key),je)}}function n(nt,Fe,We){return Fe&&P(nt.prototype,Fe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function C(nt){var Fe=x(nt,"string");return u(Fe)==="symbol"?Fe:String(Fe)}function x(nt,Fe){if(u(nt)!=="object"||nt===null)return nt;var We=nt[Symbol.toPrimitive];if(We!==void 0){var je=We.call(nt,Fe);if(u(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(nt)}function v(nt,Fe,We){function je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Fe=r(Fe),p(nt,je()?Reflect.construct(Fe,[],r(nt).constructor):Fe.apply(nt,We))}function p(nt,Fe){if(Fe&&(u(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(nt)}function r(nt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},r(nt)}function t(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function o(nt,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),Fe&&a(nt,Fe)}function a(nt,Fe){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(je,Ke){return je.__proto__=Ke,je},a(nt,Fe)}function u(nt){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},u(nt)}var f=e(59968),l=e(35984),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;N.Buffer=i,N.SlowBuffer=_,N.INSPECT_MAX_BYTES=50;var c=2147483647;N.kMaxLength=c,i.TYPED_ARRAY_SUPPORT=T(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var nt=new Uint8Array(1),Fe={foo:function(){return 42}};return Object.setPrototypeOf(Fe,Uint8Array.prototype),Object.setPrototypeOf(nt,Fe),nt.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function h(nt){if(nt>c)throw new RangeError('The value "'+nt+'" is invalid for option "size"');var Fe=new Uint8Array(nt);return Object.setPrototypeOf(Fe,i.prototype),Fe}function i(nt,Fe,We){if(typeof nt=="number"){if(typeof Fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(nt)}return g(nt,Fe,We)}i.poolSize=8192;function g(nt,Fe,We){if(typeof nt=="string")return m(nt,Fe);if(ArrayBuffer.isView(nt))return M(nt);if(nt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(nt));if(ft(nt,ArrayBuffer)||nt&&ft(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ft(nt,SharedArrayBuffer)||nt&&ft(nt.buffer,SharedArrayBuffer)))return s(nt,Fe,We);if(typeof nt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var je=nt.valueOf&&nt.valueOf();if(je!=null&&je!==nt)return i.from(je,Fe,We);var Ke=S(nt);if(Ke)return Ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nt[Symbol.toPrimitive]=="function")return i.from(nt[Symbol.toPrimitive]("string"),Fe,We);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(nt))}i.from=function(nt,Fe,We){return g(nt,Fe,We)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function b(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function A(nt,Fe,We){return b(nt),nt<=0?h(nt):Fe!==void 0?typeof We=="string"?h(nt).fill(Fe,We):h(nt).fill(Fe):h(nt)}i.alloc=function(nt,Fe,We){return A(nt,Fe,We)};function R(nt){return b(nt),h(nt<0?0:w(nt)|0)}i.allocUnsafe=function(nt){return R(nt)},i.allocUnsafeSlow=function(nt){return R(nt)};function m(nt,Fe){if((typeof Fe!="string"||Fe==="")&&(Fe="utf8"),!i.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);var We=I(nt,Fe)|0,je=h(We),Ke=je.write(nt,Fe);return Ke!==We&&(je=je.slice(0,Ke)),je}function L(nt){for(var Fe=nt.length<0?0:w(nt.length)|0,We=h(Fe),je=0;je<Fe;je+=1)We[je]=nt[je]&255;return We}function M(nt){if(ft(nt,Uint8Array)){var Fe=new Uint8Array(nt);return s(Fe.buffer,Fe.byteOffset,Fe.byteLength)}return L(nt)}function s(nt,Fe,We){if(Fe<0||nt.byteLength<Fe)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<Fe+(We||0))throw new RangeError('"length" is outside of buffer bounds');var je;return Fe===void 0&&We===void 0?je=new Uint8Array(nt):We===void 0?je=new Uint8Array(nt,Fe):je=new Uint8Array(nt,Fe,We),Object.setPrototypeOf(je,i.prototype),je}function S(nt){if(i.isBuffer(nt)){var Fe=w(nt.length)|0,We=h(Fe);return We.length===0||nt.copy(We,0,0,Fe),We}if(nt.length!==void 0)return typeof nt.length!="number"||vt(nt.length)?h(0):L(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return L(nt.data)}function w(nt){if(nt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return nt|0}function _(nt){return+nt!=nt&&(nt=0),i.alloc(+nt)}i.isBuffer=function(Fe){return Fe!=null&&Fe._isBuffer===!0&&Fe!==i.prototype},i.compare=function(Fe,We){if(ft(Fe,Uint8Array)&&(Fe=i.from(Fe,Fe.offset,Fe.byteLength)),ft(We,Uint8Array)&&(We=i.from(We,We.offset,We.byteLength)),!i.isBuffer(Fe)||!i.isBuffer(We))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Fe===We)return 0;for(var je=Fe.length,Ke=We.length,ke=0,Ue=Math.min(je,Ke);ke<Ue;++ke)if(Fe[ke]!==We[ke]){je=Fe[ke],Ke=We[ke];break}return je<Ke?-1:Ke<je?1:0},i.isEncoding=function(Fe){switch(String(Fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Fe,We){if(!Array.isArray(Fe))throw new TypeError('"list" argument must be an Array of Buffers');if(Fe.length===0)return i.alloc(0);var je;if(We===void 0)for(We=0,je=0;je<Fe.length;++je)We+=Fe[je].length;var Ke=i.allocUnsafe(We),ke=0;for(je=0;je<Fe.length;++je){var Ue=Fe[je];if(ft(Ue,Uint8Array))ke+Ue.length>Ke.length?(i.isBuffer(Ue)||(Ue=i.from(Ue)),Ue.copy(Ke,ke)):Uint8Array.prototype.set.call(Ke,Ue,ke);else if(i.isBuffer(Ue))Ue.copy(Ke,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=Ue.length}return Ke};function I(nt,Fe){if(i.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||ft(nt,ArrayBuffer))return nt.byteLength;if(typeof nt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(nt));var We=nt.length,je=arguments.length>2&&arguments[2]===!0;if(!je&&We===0)return 0;for(var Ke=!1;;)switch(Fe){case"ascii":case"latin1":case"binary":return We;case"utf8":case"utf-8":return Ge(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We*2;case"hex":return We>>>1;case"base64":return Je(nt).length;default:if(Ke)return je?-1:Ge(nt).length;Fe=(""+Fe).toLowerCase(),Ke=!0}}i.byteLength=I;function H(nt,Fe,We){var je=!1;if((Fe===void 0||Fe<0)&&(Fe=0),Fe>this.length||((We===void 0||We>this.length)&&(We=this.length),We<=0)||(We>>>=0,Fe>>>=0,We<=Fe))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return q(this,Fe,We);case"utf8":case"utf-8":return fe(this,Fe,We);case"ascii":return ee(this,Fe,We);case"latin1":case"binary":return X(this,Fe,We);case"base64":return ae(this,Fe,We);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,Fe,We);default:if(je)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),je=!0}}i.prototype._isBuffer=!0;function O(nt,Fe,We){var je=nt[Fe];nt[Fe]=nt[We],nt[We]=je}i.prototype.swap16=function(){var Fe=this.length;if(Fe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var We=0;We<Fe;We+=2)O(this,We,We+1);return this},i.prototype.swap32=function(){var Fe=this.length;if(Fe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var We=0;We<Fe;We+=4)O(this,We,We+3),O(this,We+1,We+2);return this},i.prototype.swap64=function(){var Fe=this.length;if(Fe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var We=0;We<Fe;We+=8)O(this,We,We+7),O(this,We+1,We+6),O(this,We+2,We+5),O(this,We+3,We+4);return this},i.prototype.toString=function(){var Fe=this.length;return Fe===0?"":arguments.length===0?fe(this,0,Fe):H.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(Fe){if(!i.isBuffer(Fe))throw new TypeError("Argument must be a Buffer");return this===Fe?!0:i.compare(this,Fe)===0},i.prototype.inspect=function(){var Fe="",We=N.INSPECT_MAX_BYTES;return Fe=this.toString("hex",0,We).replace(/(.{2})/g,"$1 ").trim(),this.length>We&&(Fe+=" ... "),"<Buffer "+Fe+">"},y&&(i.prototype[y]=i.prototype.inspect),i.prototype.compare=function(Fe,We,je,Ke,ke){if(ft(Fe,Uint8Array)&&(Fe=i.from(Fe,Fe.offset,Fe.byteLength)),!i.isBuffer(Fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(Fe));if(We===void 0&&(We=0),je===void 0&&(je=Fe?Fe.length:0),Ke===void 0&&(Ke=0),ke===void 0&&(ke=this.length),We<0||je>Fe.length||Ke<0||ke>this.length)throw new RangeError("out of range index");if(Ke>=ke&&We>=je)return 0;if(Ke>=ke)return-1;if(We>=je)return 1;if(We>>>=0,je>>>=0,Ke>>>=0,ke>>>=0,this===Fe)return 0;for(var Ue=ke-Ke,Ve=je-We,Re=Math.min(Ue,Ve),de=this.slice(Ke,ke),be=Fe.slice(We,je),Ne=0;Ne<Re;++Ne)if(de[Ne]!==be[Ne]){Ue=de[Ne],Ve=be[Ne];break}return Ue<Ve?-1:Ve<Ue?1:0};function V(nt,Fe,We,je,Ke){if(nt.length===0)return-1;if(typeof We=="string"?(je=We,We=0):We>2147483647?We=2147483647:We<-2147483648&&(We=-2147483648),We=+We,vt(We)&&(We=Ke?0:nt.length-1),We<0&&(We=nt.length+We),We>=nt.length){if(Ke)return-1;We=nt.length-1}else if(We<0)if(Ke)We=0;else return-1;if(typeof Fe=="string"&&(Fe=i.from(Fe,je)),i.isBuffer(Fe))return Fe.length===0?-1:B(nt,Fe,We,je,Ke);if(typeof Fe=="number")return Fe=Fe&255,typeof Uint8Array.prototype.indexOf=="function"?Ke?Uint8Array.prototype.indexOf.call(nt,Fe,We):Uint8Array.prototype.lastIndexOf.call(nt,Fe,We):B(nt,[Fe],We,je,Ke);throw new TypeError("val must be string, number or Buffer")}function B(nt,Fe,We,je,Ke){var ke=1,Ue=nt.length,Ve=Fe.length;if(je!==void 0&&(je=String(je).toLowerCase(),je==="ucs2"||je==="ucs-2"||je==="utf16le"||je==="utf-16le")){if(nt.length<2||Fe.length<2)return-1;ke=2,Ue/=2,Ve/=2,We/=2}function Re(at,lt){return ke===1?at[lt]:at.readUInt16BE(lt*ke)}var de;if(Ke){var be=-1;for(de=We;de<Ue;de++)if(Re(nt,de)===Re(Fe,be===-1?0:de-be)){if(be===-1&&(be=de),de-be+1===Ve)return be*ke}else be!==-1&&(de-=de-be),be=-1}else for(We+Ve>Ue&&(We=Ue-Ve),de=We;de>=0;de--){for(var Ne=!0,Ye=0;Ye<Ve;Ye++)if(Re(nt,de+Ye)!==Re(Fe,Ye)){Ne=!1;break}if(Ne)return de}return-1}i.prototype.includes=function(Fe,We,je){return this.indexOf(Fe,We,je)!==-1},i.prototype.indexOf=function(Fe,We,je){return V(this,Fe,We,je,!0)},i.prototype.lastIndexOf=function(Fe,We,je){return V(this,Fe,We,je,!1)};function F(nt,Fe,We,je){We=Number(We)||0;var Ke=nt.length-We;je?(je=Number(je),je>Ke&&(je=Ke)):je=Ke;var ke=Fe.length;je>ke/2&&(je=ke/2);var Ue;for(Ue=0;Ue<je;++Ue){var Ve=parseInt(Fe.substr(Ue*2,2),16);if(vt(Ve))return Ue;nt[We+Ue]=Ve}return Ue}function G(nt,Fe,We,je){return et(Ge(Fe,nt.length-We),nt,We,je)}function Y(nt,Fe,We,je){return et(Ze(Fe),nt,We,je)}function Q(nt,Fe,We,je){return et(Je(Fe),nt,We,je)}function te(nt,Fe,We,je){return et(it(Fe,nt.length-We),nt,We,je)}i.prototype.write=function(Fe,We,je,Ke){if(We===void 0)Ke="utf8",je=this.length,We=0;else if(je===void 0&&typeof We=="string")Ke=We,je=this.length,We=0;else if(isFinite(We))We=We>>>0,isFinite(je)?(je=je>>>0,Ke===void 0&&(Ke="utf8")):(Ke=je,je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ke=this.length-We;if((je===void 0||je>ke)&&(je=ke),Fe.length>0&&(je<0||We<0)||We>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ke||(Ke="utf8");for(var Ue=!1;;)switch(Ke){case"hex":return F(this,Fe,We,je);case"utf8":case"utf-8":return G(this,Fe,We,je);case"ascii":case"latin1":case"binary":return Y(this,Fe,We,je);case"base64":return Q(this,Fe,We,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,Fe,We,je);default:if(Ue)throw new TypeError("Unknown encoding: "+Ke);Ke=(""+Ke).toLowerCase(),Ue=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(nt,Fe,We){return Fe===0&&We===nt.length?f.fromByteArray(nt):f.fromByteArray(nt.slice(Fe,We))}function fe(nt,Fe,We){We=Math.min(nt.length,We);for(var je=[],Ke=Fe;Ke<We;){var ke=nt[Ke],Ue=null,Ve=ke>239?4:ke>223?3:ke>191?2:1;if(Ke+Ve<=We){var Re=void 0,de=void 0,be=void 0,Ne=void 0;switch(Ve){case 1:ke<128&&(Ue=ke);break;case 2:Re=nt[Ke+1],(Re&192)===128&&(Ne=(ke&31)<<6|Re&63,Ne>127&&(Ue=Ne));break;case 3:Re=nt[Ke+1],de=nt[Ke+2],(Re&192)===128&&(de&192)===128&&(Ne=(ke&15)<<12|(Re&63)<<6|de&63,Ne>2047&&(Ne<55296||Ne>57343)&&(Ue=Ne));break;case 4:Re=nt[Ke+1],de=nt[Ke+2],be=nt[Ke+3],(Re&192)===128&&(de&192)===128&&(be&192)===128&&(Ne=(ke&15)<<18|(Re&63)<<12|(de&63)<<6|be&63,Ne>65535&&Ne<1114112&&(Ue=Ne))}}Ue===null?(Ue=65533,Ve=1):Ue>65535&&(Ue-=65536,je.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),je.push(Ue),Ke+=Ve}return J(je)}var oe=4096;function J(nt){var Fe=nt.length;if(Fe<=oe)return String.fromCharCode.apply(String,nt);for(var We="",je=0;je<Fe;)We+=String.fromCharCode.apply(String,nt.slice(je,je+=oe));return We}function ee(nt,Fe,We){var je="";We=Math.min(nt.length,We);for(var Ke=Fe;Ke<We;++Ke)je+=String.fromCharCode(nt[Ke]&127);return je}function X(nt,Fe,We){var je="";We=Math.min(nt.length,We);for(var Ke=Fe;Ke<We;++Ke)je+=String.fromCharCode(nt[Ke]);return je}function q(nt,Fe,We){var je=nt.length;(!Fe||Fe<0)&&(Fe=0),(!We||We<0||We>je)&&(We=je);for(var Ke="",ke=Fe;ke<We;++ke)Ke+=dt[nt[ke]];return Ke}function le(nt,Fe,We){for(var je=nt.slice(Fe,We),Ke="",ke=0;ke<je.length-1;ke+=2)Ke+=String.fromCharCode(je[ke]+je[ke+1]*256);return Ke}i.prototype.slice=function(Fe,We){var je=this.length;Fe=~~Fe,We=We===void 0?je:~~We,Fe<0?(Fe+=je,Fe<0&&(Fe=0)):Fe>je&&(Fe=je),We<0?(We+=je,We<0&&(We=0)):We>je&&(We=je),We<Fe&&(We=Fe);var Ke=this.subarray(Fe,We);return Object.setPrototypeOf(Ke,i.prototype),Ke};function $(nt,Fe,We){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+Fe>We)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(Fe,We,je){Fe=Fe>>>0,We=We>>>0,je||$(Fe,We,this.length);for(var Ke=this[Fe],ke=1,Ue=0;++Ue<We&&(ke*=256);)Ke+=this[Fe+Ue]*ke;return Ke},i.prototype.readUintBE=i.prototype.readUIntBE=function(Fe,We,je){Fe=Fe>>>0,We=We>>>0,je||$(Fe,We,this.length);for(var Ke=this[Fe+--We],ke=1;We>0&&(ke*=256);)Ke+=this[Fe+--We]*ke;return Ke},i.prototype.readUint8=i.prototype.readUInt8=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,1,this.length),this[Fe]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,2,this.length),this[Fe]|this[Fe+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,2,this.length),this[Fe]<<8|this[Fe+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,4,this.length),(this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16)+this[Fe+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,4,this.length),this[Fe]*16777216+(this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3])},i.prototype.readBigUInt64LE=xt(function(Fe){Fe=Fe>>>0,_e(Fe,"offset");var We=this[Fe],je=this[Fe+7];(We===void 0||je===void 0)&&Ce(Fe,this.length-8);var Ke=We+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24),ke=this[++Fe]+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+je*Math.pow(2,24);return BigInt(Ke)+(BigInt(ke)<<BigInt(32))}),i.prototype.readBigUInt64BE=xt(function(Fe){Fe=Fe>>>0,_e(Fe,"offset");var We=this[Fe],je=this[Fe+7];(We===void 0||je===void 0)&&Ce(Fe,this.length-8);var Ke=We*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe],ke=this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+je;return(BigInt(Ke)<<BigInt(32))+BigInt(ke)}),i.prototype.readIntLE=function(Fe,We,je){Fe=Fe>>>0,We=We>>>0,je||$(Fe,We,this.length);for(var Ke=this[Fe],ke=1,Ue=0;++Ue<We&&(ke*=256);)Ke+=this[Fe+Ue]*ke;return ke*=128,Ke>=ke&&(Ke-=Math.pow(2,8*We)),Ke},i.prototype.readIntBE=function(Fe,We,je){Fe=Fe>>>0,We=We>>>0,je||$(Fe,We,this.length);for(var Ke=We,ke=1,Ue=this[Fe+--Ke];Ke>0&&(ke*=256);)Ue+=this[Fe+--Ke]*ke;return ke*=128,Ue>=ke&&(Ue-=Math.pow(2,8*We)),Ue},i.prototype.readInt8=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,1,this.length),this[Fe]&128?(255-this[Fe]+1)*-1:this[Fe]},i.prototype.readInt16LE=function(Fe,We){Fe=Fe>>>0,We||$(Fe,2,this.length);var je=this[Fe]|this[Fe+1]<<8;return je&32768?je|4294901760:je},i.prototype.readInt16BE=function(Fe,We){Fe=Fe>>>0,We||$(Fe,2,this.length);var je=this[Fe+1]|this[Fe]<<8;return je&32768?je|4294901760:je},i.prototype.readInt32LE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,4,this.length),this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16|this[Fe+3]<<24},i.prototype.readInt32BE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,4,this.length),this[Fe]<<24|this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3]},i.prototype.readBigInt64LE=xt(function(Fe){Fe=Fe>>>0,_e(Fe,"offset");var We=this[Fe],je=this[Fe+7];(We===void 0||je===void 0)&&Ce(Fe,this.length-8);var Ke=this[Fe+4]+this[Fe+5]*Math.pow(2,8)+this[Fe+6]*Math.pow(2,16)+(je<<24);return(BigInt(Ke)<<BigInt(32))+BigInt(We+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24))}),i.prototype.readBigInt64BE=xt(function(Fe){Fe=Fe>>>0,_e(Fe,"offset");var We=this[Fe],je=this[Fe+7];(We===void 0||je===void 0)&&Ce(Fe,this.length-8);var Ke=(We<<24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe];return(BigInt(Ke)<<BigInt(32))+BigInt(this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+je)}),i.prototype.readFloatLE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,4,this.length),l.read(this,Fe,!0,23,4)},i.prototype.readFloatBE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,4,this.length),l.read(this,Fe,!1,23,4)},i.prototype.readDoubleLE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,8,this.length),l.read(this,Fe,!0,52,8)},i.prototype.readDoubleBE=function(Fe,We){return Fe=Fe>>>0,We||$(Fe,8,this.length),l.read(this,Fe,!1,52,8)};function j(nt,Fe,We,je,Ke,ke){if(!i.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Fe>Ke||Fe<ke)throw new RangeError('"value" argument is out of bounds');if(We+je>nt.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(Fe,We,je,Ke){if(Fe=+Fe,We=We>>>0,je=je>>>0,!Ke){var ke=Math.pow(2,8*je)-1;j(this,Fe,We,je,ke,0)}var Ue=1,Ve=0;for(this[We]=Fe&255;++Ve<je&&(Ue*=256);)this[We+Ve]=Fe/Ue&255;return We+je},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(Fe,We,je,Ke){if(Fe=+Fe,We=We>>>0,je=je>>>0,!Ke){var ke=Math.pow(2,8*je)-1;j(this,Fe,We,je,ke,0)}var Ue=je-1,Ve=1;for(this[We+Ue]=Fe&255;--Ue>=0&&(Ve*=256);)this[We+Ue]=Fe/Ve&255;return We+je},i.prototype.writeUint8=i.prototype.writeUInt8=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,1,255,0),this[We]=Fe&255,We+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,2,65535,0),this[We]=Fe&255,this[We+1]=Fe>>>8,We+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,2,65535,0),this[We]=Fe>>>8,this[We+1]=Fe&255,We+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,4,4294967295,0),this[We+3]=Fe>>>24,this[We+2]=Fe>>>16,this[We+1]=Fe>>>8,this[We]=Fe&255,We+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,4,4294967295,0),this[We]=Fe>>>24,this[We+1]=Fe>>>16,this[We+2]=Fe>>>8,this[We+3]=Fe&255,We+4};function se(nt,Fe,We,je,Ke){Me(Fe,je,Ke,nt,We,7);var ke=Number(Fe&BigInt(4294967295));nt[We++]=ke,ke=ke>>8,nt[We++]=ke,ke=ke>>8,nt[We++]=ke,ke=ke>>8,nt[We++]=ke;var Ue=Number(Fe>>BigInt(32)&BigInt(4294967295));return nt[We++]=Ue,Ue=Ue>>8,nt[We++]=Ue,Ue=Ue>>8,nt[We++]=Ue,Ue=Ue>>8,nt[We++]=Ue,We}function ne(nt,Fe,We,je,Ke){Me(Fe,je,Ke,nt,We,7);var ke=Number(Fe&BigInt(4294967295));nt[We+7]=ke,ke=ke>>8,nt[We+6]=ke,ke=ke>>8,nt[We+5]=ke,ke=ke>>8,nt[We+4]=ke;var Ue=Number(Fe>>BigInt(32)&BigInt(4294967295));return nt[We+3]=Ue,Ue=Ue>>8,nt[We+2]=Ue,Ue=Ue>>8,nt[We+1]=Ue,Ue=Ue>>8,nt[We]=Ue,We+8}i.prototype.writeBigUInt64LE=xt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Fe,We,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=xt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Fe,We,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(Fe,We,je,Ke){if(Fe=+Fe,We=We>>>0,!Ke){var ke=Math.pow(2,8*je-1);j(this,Fe,We,je,ke-1,-ke)}var Ue=0,Ve=1,Re=0;for(this[We]=Fe&255;++Ue<je&&(Ve*=256);)Fe<0&&Re===0&&this[We+Ue-1]!==0&&(Re=1),this[We+Ue]=(Fe/Ve>>0)-Re&255;return We+je},i.prototype.writeIntBE=function(Fe,We,je,Ke){if(Fe=+Fe,We=We>>>0,!Ke){var ke=Math.pow(2,8*je-1);j(this,Fe,We,je,ke-1,-ke)}var Ue=je-1,Ve=1,Re=0;for(this[We+Ue]=Fe&255;--Ue>=0&&(Ve*=256);)Fe<0&&Re===0&&this[We+Ue+1]!==0&&(Re=1),this[We+Ue]=(Fe/Ve>>0)-Re&255;return We+je},i.prototype.writeInt8=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,1,127,-128),Fe<0&&(Fe=255+Fe+1),this[We]=Fe&255,We+1},i.prototype.writeInt16LE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,2,32767,-32768),this[We]=Fe&255,this[We+1]=Fe>>>8,We+2},i.prototype.writeInt16BE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,2,32767,-32768),this[We]=Fe>>>8,this[We+1]=Fe&255,We+2},i.prototype.writeInt32LE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,4,2147483647,-2147483648),this[We]=Fe&255,this[We+1]=Fe>>>8,this[We+2]=Fe>>>16,this[We+3]=Fe>>>24,We+4},i.prototype.writeInt32BE=function(Fe,We,je){return Fe=+Fe,We=We>>>0,je||j(this,Fe,We,4,2147483647,-2147483648),Fe<0&&(Fe=4294967295+Fe+1),this[We]=Fe>>>24,this[We+1]=Fe>>>16,this[We+2]=Fe>>>8,this[We+3]=Fe&255,We+4},i.prototype.writeBigInt64LE=xt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Fe,We,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=xt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Fe,We,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(nt,Fe,We,je,Ke,ke){if(We+je>nt.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("Index out of range")}function me(nt,Fe,We,je,Ke){return Fe=+Fe,We=We>>>0,Ke||he(nt,Fe,We,4),l.write(nt,Fe,We,je,23,4),We+4}i.prototype.writeFloatLE=function(Fe,We,je){return me(this,Fe,We,!0,je)},i.prototype.writeFloatBE=function(Fe,We,je){return me(this,Fe,We,!1,je)};function we(nt,Fe,We,je,Ke){return Fe=+Fe,We=We>>>0,Ke||he(nt,Fe,We,8),l.write(nt,Fe,We,je,52,8),We+8}i.prototype.writeDoubleLE=function(Fe,We,je){return we(this,Fe,We,!0,je)},i.prototype.writeDoubleBE=function(Fe,We,je){return we(this,Fe,We,!1,je)},i.prototype.copy=function(Fe,We,je,Ke){if(!i.isBuffer(Fe))throw new TypeError("argument should be a Buffer");if(je||(je=0),!Ke&&Ke!==0&&(Ke=this.length),We>=Fe.length&&(We=Fe.length),We||(We=0),Ke>0&&Ke<je&&(Ke=je),Ke===je||Fe.length===0||this.length===0)return 0;if(We<0)throw new RangeError("targetStart out of bounds");if(je<0||je>=this.length)throw new RangeError("Index out of range");if(Ke<0)throw new RangeError("sourceEnd out of bounds");Ke>this.length&&(Ke=this.length),Fe.length-We<Ke-je&&(Ke=Fe.length-We+je);var ke=Ke-je;return this===Fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(We,je,Ke):Uint8Array.prototype.set.call(Fe,this.subarray(je,Ke),We),ke},i.prototype.fill=function(Fe,We,je,Ke){if(typeof Fe=="string"){if(typeof We=="string"?(Ke=We,We=0,je=this.length):typeof je=="string"&&(Ke=je,je=this.length),Ke!==void 0&&typeof Ke!="string")throw new TypeError("encoding must be a string");if(typeof Ke=="string"&&!i.isEncoding(Ke))throw new TypeError("Unknown encoding: "+Ke);if(Fe.length===1){var ke=Fe.charCodeAt(0);(Ke==="utf8"&&ke<128||Ke==="latin1")&&(Fe=ke)}}else typeof Fe=="number"?Fe=Fe&255:typeof Fe=="boolean"&&(Fe=Number(Fe));if(We<0||this.length<We||this.length<je)throw new RangeError("Out of range index");if(je<=We)return this;We=We>>>0,je=je===void 0?this.length:je>>>0,Fe||(Fe=0);var Ue;if(typeof Fe=="number")for(Ue=We;Ue<je;++Ue)this[Ue]=Fe;else{var Ve=i.isBuffer(Fe)?Fe:i.from(Fe,Ke),Re=Ve.length;if(Re===0)throw new TypeError('The value "'+Fe+'" is invalid for argument "value"');for(Ue=0;Ue<je-We;++Ue)this[Ue+We]=Ve[Ue%Re]}return this};var Te={};function Le(nt,Fe,We){Te[nt]=function(je){o(Ke,je);function Ke(){var ke;return d(this,Ke),ke=v(this,Ke),Object.defineProperty(t(ke),"message",{value:Fe.apply(t(ke),arguments),writable:!0,configurable:!0}),ke.name="".concat(ke.name," [").concat(nt,"]"),ke.stack,delete ke.name,ke}return n(Ke,[{key:"code",get:function(){return nt},set:function(Ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ue,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(nt,"]: ").concat(this.message)}}]),Ke}(We)}Le("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?"".concat(nt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Le("ERR_INVALID_ARG_TYPE",function(nt,Fe){return'The "'.concat(nt,'" argument must be of type number. Received type ').concat(u(Fe))},TypeError),Le("ERR_OUT_OF_RANGE",function(nt,Fe,We){var je='The value of "'.concat(nt,'" is out of range.'),Ke=We;return Number.isInteger(We)&&Math.abs(We)>Math.pow(2,32)?Ke=Ie(String(We)):typeof We=="bigint"&&(Ke=String(We),(We>Math.pow(BigInt(2),BigInt(32))||We<-Math.pow(BigInt(2),BigInt(32)))&&(Ke=Ie(Ke)),Ke+="n"),je+=" It must be ".concat(Fe,". Received ").concat(Ke),je},RangeError);function Ie(nt){for(var Fe="",We=nt.length,je=nt[0]==="-"?1:0;We>=je+4;We-=3)Fe="_".concat(nt.slice(We-3,We)).concat(Fe);return"".concat(nt.slice(0,We)).concat(Fe)}function ze(nt,Fe,We){_e(Fe,"offset"),(nt[Fe]===void 0||nt[Fe+We]===void 0)&&Ce(Fe,nt.length-(We+1))}function Me(nt,Fe,We,je,Ke,ke){if(nt>We||nt<Fe){var Ue=typeof Fe=="bigint"?"n":"",Ve;throw Fe===0||Fe===BigInt(0)?Ve=">= 0".concat(Ue," and < 2").concat(Ue," ** ").concat((ke+1)*8).concat(Ue):Ve=">= -(2".concat(Ue," ** ").concat((ke+1)*8-1).concat(Ue,") and < 2 ** ")+"".concat((ke+1)*8-1).concat(Ue),new Te.ERR_OUT_OF_RANGE("value",Ve,nt)}ze(je,Ke,ke)}function _e(nt,Fe){if(typeof nt!="number")throw new Te.ERR_INVALID_ARG_TYPE(Fe,"number",nt)}function Ce(nt,Fe,We){throw Math.floor(nt)!==nt?(_e(nt,We),new Te.ERR_OUT_OF_RANGE("offset","an integer",nt)):Fe<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(Fe),nt)}var Oe=/[^+/0-9A-Za-z-_]/g;function Pe(nt){if(nt=nt.split("=")[0],nt=nt.trim().replace(Oe,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function Ge(nt,Fe){Fe=Fe||1/0;for(var We,je=nt.length,Ke=null,ke=[],Ue=0;Ue<je;++Ue){if(We=nt.charCodeAt(Ue),We>55295&&We<57344){if(!Ke){if(We>56319){(Fe-=3)>-1&&ke.push(239,191,189);continue}else if(Ue+1===je){(Fe-=3)>-1&&ke.push(239,191,189);continue}Ke=We;continue}if(We<56320){(Fe-=3)>-1&&ke.push(239,191,189),Ke=We;continue}We=(Ke-55296<<10|We-56320)+65536}else Ke&&(Fe-=3)>-1&&ke.push(239,191,189);if(Ke=null,We<128){if((Fe-=1)<0)break;ke.push(We)}else if(We<2048){if((Fe-=2)<0)break;ke.push(We>>6|192,We&63|128)}else if(We<65536){if((Fe-=3)<0)break;ke.push(We>>12|224,We>>6&63|128,We&63|128)}else if(We<1114112){if((Fe-=4)<0)break;ke.push(We>>18|240,We>>12&63|128,We>>6&63|128,We&63|128)}else throw new Error("Invalid code point")}return ke}function Ze(nt){for(var Fe=[],We=0;We<nt.length;++We)Fe.push(nt.charCodeAt(We)&255);return Fe}function it(nt,Fe){for(var We,je,Ke,ke=[],Ue=0;Ue<nt.length&&!((Fe-=2)<0);++Ue)We=nt.charCodeAt(Ue),je=We>>8,Ke=We%256,ke.push(Ke),ke.push(je);return ke}function Je(nt){return f.toByteArray(Pe(nt))}function et(nt,Fe,We,je){var Ke;for(Ke=0;Ke<je&&!(Ke+We>=Fe.length||Ke>=nt.length);++Ke)Fe[Ke+We]=nt[Ke];return Ke}function ft(nt,Fe){return nt instanceof Fe||nt!=null&&nt.constructor!=null&&nt.constructor.name!=null&&nt.constructor.name===Fe.name}function vt(nt){return nt!==nt}var dt=function(){for(var nt="0123456789abcdef",Fe=new Array(256),We=0;We<16;++We)for(var je=We*16,Ke=0;Ke<16;++Ke)Fe[je+Ke]=nt[We]+nt[Ke];return Fe}();function xt(nt){return typeof BigInt>"u"?Mt:nt}function Mt(){throw new Error("BigInt not supported")}},25928:function(U){U.exports=P,U.exports.isMobile=P,U.exports.default=P;var N=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,d=/android|ipad|playbook|silk/i;function P(n){n||(n={});var C=n.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var x=N.test(C)&&!e.test(C)||!!n.tablet&&d.test(C);return!x&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(x=!0),x}},48932:function(U,N,e){e.r(N),e.d(N,{sankeyCenter:function(){return o},sankeyCircular:function(){return S},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var d=e(84706),P=e(34712),n=e(10132),C=e(6688),x=e.n(C);function v(Te){return Te.target.depth}function p(Te){return Te.depth}function r(Te,Le){return Le-1-Te.height}function t(Te,Le){return Te.sourceLinks.length?Te.depth:Le-1}function o(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,d.SY)(Te.sourceLinks,v)-1:0}function a(Te){return function(){return Te}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function f(Te,Le){return y(Te.source,Le.source)||Te.index-Le.index}function l(Te,Le){return y(Te.target,Le.target)||Te.index-Le.index}function y(Te,Le){return Te.partOfCycle===Le.partOfCycle?Te.y0-Le.y0:Te.circularLinkType==="top"||Le.circularLinkType==="bottom"?-1:1}function c(Te){return Te.value}function T(Te){return(Te.y0+Te.y1)/2}function h(Te){return T(Te.source)}function i(Te){return T(Te.target)}function g(Te){return Te.index}function b(Te){return Te.nodes}function A(Te){return Te.links}function R(Te,Le){var Ie=Te.get(Le);if(!Ie)throw new Error("missing: "+Le);return Ie}function m(Te,Le){return Le(Te)}var L=25,M=10,s=.3;function S(){var Te=0,Le=0,Ie=1,ze=1,Me=24,_e,Ce=g,Oe=t,Pe=b,Ge=A,Ze=32,it=2,Je,et=null;function ft(){var je={nodes:Pe.apply(null,arguments),links:Ge.apply(null,arguments)};vt(je),w(je,Ce,et),dt(je),nt(je),_(je,Ce),Fe(je,Ze,Ce),We(je);for(var Ke=4,ke=0;ke<Ke;ke++)j(je,ze,Ce),se(je,ze,Ce),q(je,Le,ze,Ce),j(je,ze,Ce),se(je,ze,Ce);return we(je,Le,ze),F(je,it,ze,Ce),je}ft.nodeId=function(je){return arguments.length?(Ce=typeof je=="function"?je:a(je),ft):Ce},ft.nodeAlign=function(je){return arguments.length?(Oe=typeof je=="function"?je:a(je),ft):Oe},ft.nodeWidth=function(je){return arguments.length?(Me=+je,ft):Me},ft.nodePadding=function(je){return arguments.length?(_e=+je,ft):_e},ft.nodes=function(je){return arguments.length?(Pe=typeof je=="function"?je:a(je),ft):Pe},ft.links=function(je){return arguments.length?(Ge=typeof je=="function"?je:a(je),ft):Ge},ft.size=function(je){return arguments.length?(Te=Le=0,Ie=+je[0],ze=+je[1],ft):[Ie-Te,ze-Le]},ft.extent=function(je){return arguments.length?(Te=+je[0][0],Ie=+je[1][0],Le=+je[0][1],ze=+je[1][1],ft):[[Te,Le],[Ie,ze]]},ft.iterations=function(je){return arguments.length?(Ze=+je,ft):Ze},ft.circularLinkGap=function(je){return arguments.length?(it=+je,ft):it},ft.nodePaddingRatio=function(je){return arguments.length?(Je=+je,ft):Je},ft.sortNodes=function(je){return arguments.length?(et=je,ft):et},ft.update=function(je){return _(je,Ce),We(je),je.links.forEach(function(Ke){Ke.circular&&(Ke.circularLinkType=Ke.y0+Ke.y1<ze?"top":"bottom",Ke.source.circularLinkType=Ke.circularLinkType,Ke.target.circularLinkType=Ke.circularLinkType)}),j(je,ze,Ce,!1),se(je,ze,Ce),F(je,it,ze,Ce),je};function vt(je){je.nodes.forEach(function(ke,Ue){ke.index=Ue,ke.sourceLinks=[],ke.targetLinks=[]});var Ke=(0,P.kH)(je.nodes,Ce);return je.links.forEach(function(ke,Ue){ke.index=Ue;var Ve=ke.source,Re=ke.target;(typeof Ve>"u"?"undefined":u(Ve))!=="object"&&(Ve=ke.source=R(Ke,Ve)),(typeof Re>"u"?"undefined":u(Re))!=="object"&&(Re=ke.target=R(Ke,Re)),Ve.sourceLinks.push(ke),Re.targetLinks.push(ke)}),je}function dt(je){je.nodes.forEach(function(Ke){Ke.partOfCycle=!1,Ke.value=Math.max((0,d.oh)(Ke.sourceLinks,c),(0,d.oh)(Ke.targetLinks,c)),Ke.sourceLinks.forEach(function(ke){ke.circular&&(Ke.partOfCycle=!0,Ke.circularLinkType=ke.circularLinkType)}),Ke.targetLinks.forEach(function(ke){ke.circular&&(Ke.partOfCycle=!0,Ke.circularLinkType=ke.circularLinkType)})})}function xt(je){var Ke=0,ke=0,Ue=0,Ve=0,Re=(0,d.kv)(je.nodes,function(de){return de.column});return je.links.forEach(function(de){de.circular&&(de.circularLinkType=="top"?Ke=Ke+de.width:ke=ke+de.width,de.target.column==0&&(Ve=Ve+de.width),de.source.column==Re&&(Ue=Ue+de.width))}),Ke=Ke>0?Ke+L+M:Ke,ke=ke>0?ke+L+M:ke,Ue=Ue>0?Ue+L+M:Ue,Ve=Ve>0?Ve+L+M:Ve,{top:Ke,bottom:ke,left:Ve,right:Ue}}function Mt(je,Ke){var ke=(0,d.kv)(je.nodes,function(Ye){return Ye.column}),Ue=Ie-Te,Ve=ze-Le,Re=Ue+Ke.right+Ke.left,de=Ve+Ke.top+Ke.bottom,be=Ue/Re,Ne=Ve/de;return Te=Te*be+Ke.left,Ie=Ke.right==0?Ie:Ie*be,Le=Le*Ne+Ke.top,ze=ze*Ne,je.nodes.forEach(function(Ye){Ye.x0=Te+Ye.column*((Ie-Te-Me)/ke),Ye.x1=Ye.x0+Me}),Ne}function nt(je){var Ke,ke,Ue;for(Ke=je.nodes,ke=[],Ue=0;Ke.length;++Ue,Ke=ke,ke=[])Ke.forEach(function(Ve){Ve.depth=Ue,Ve.sourceLinks.forEach(function(Re){ke.indexOf(Re.target)<0&&!Re.circular&&ke.push(Re.target)})});for(Ke=je.nodes,ke=[],Ue=0;Ke.length;++Ue,Ke=ke,ke=[])Ke.forEach(function(Ve){Ve.height=Ue,Ve.targetLinks.forEach(function(Re){ke.indexOf(Re.source)<0&&!Re.circular&&ke.push(Re.source)})});je.nodes.forEach(function(Ve){Ve.column=Math.floor(Oe.call(null,Ve,Ue))})}function Fe(je,Ke,ke){var Ue=(0,P.UJ)().key(function(Ye){return Ye.column}).sortKeys(d.XE).entries(je.nodes).map(function(Ye){return Ye.values});de(ke),Ne();for(var Ve=1,Re=Ke;Re>0;--Re)be(Ve*=.99,ke),Ne();function de(Ye){if(Je){var at=1/0;Ue.forEach(function(Tt){var Lt=ze*Je/(Tt.length+1);at=Lt<at?Lt:at}),_e=at}var lt=(0,d.SY)(Ue,function(Tt){return(ze-Le-(Tt.length-1)*_e)/(0,d.oh)(Tt,c)});lt=lt*s,je.links.forEach(function(Tt){Tt.width=Tt.value*lt});var Ht=xt(je),Yt=Mt(je,Ht);lt=lt*Yt,je.links.forEach(function(Tt){Tt.width=Tt.value*lt}),Ue.forEach(function(Tt){var Lt=Tt.length;Tt.forEach(function(Kt,vr){Kt.depth==Ue.length-1&&Lt==1||Kt.depth==0&&Lt==1?(Kt.y0=ze/2-Kt.value*lt,Kt.y1=Kt.y0+Kt.value*lt):Kt.partOfCycle?O(Kt,Ye)==0?(Kt.y0=ze/2+vr,Kt.y1=Kt.y0+Kt.value*lt):Kt.circularLinkType=="top"?(Kt.y0=Le+vr,Kt.y1=Kt.y0+Kt.value*lt):(Kt.y0=ze-Kt.value*lt-vr,Kt.y1=Kt.y0+Kt.value*lt):Ht.top==0||Ht.bottom==0?(Kt.y0=(ze-Le)/Lt*vr,Kt.y1=Kt.y0+Kt.value*lt):(Kt.y0=(ze-Le)/2-Lt/2+vr,Kt.y1=Kt.y0+Kt.value*lt)})})}function be(Ye,at){var lt=Ue.length;Ue.forEach(function(Ht){var Yt=Ht.length,Tt=Ht[0].depth;Ht.forEach(function(Lt){var Kt;if((Lt.sourceLinks.length||Lt.targetLinks.length)&&!(Lt.partOfCycle&&O(Lt,at)>0))if(Tt==0&&Yt==1)Kt=Lt.y1-Lt.y0,Lt.y0=ze/2-Kt/2,Lt.y1=ze/2+Kt/2;else if(Tt==lt-1&&Yt==1)Kt=Lt.y1-Lt.y0,Lt.y0=ze/2-Kt/2,Lt.y1=ze/2+Kt/2;else{var vr=0,gt=(0,d.mo)(Lt.sourceLinks,i),Xt=(0,d.mo)(Lt.targetLinks,h);gt&&Xt?vr=(gt+Xt)/2:vr=gt||Xt;var $t=(vr-T(Lt))*Ye;Lt.y0+=$t,Lt.y1+=$t}})})}function Ne(){Ue.forEach(function(Ye){var at,lt,Ht=Le,Yt=Ye.length,Tt;for(Ye.sort(y),Tt=0;Tt<Yt;++Tt)at=Ye[Tt],lt=Ht-at.y0,lt>0&&(at.y0+=lt,at.y1+=lt),Ht=at.y1+_e;if(lt=Ht-_e-ze,lt>0)for(Ht=at.y0-=lt,at.y1-=lt,Tt=Yt-2;Tt>=0;--Tt)at=Ye[Tt],lt=at.y1+_e-Ht,lt>0&&(at.y0-=lt,at.y1-=lt),Ht=at.y0})}}function We(je){je.nodes.forEach(function(Ke){Ke.sourceLinks.sort(l),Ke.targetLinks.sort(f)}),je.nodes.forEach(function(Ke){var ke=Ke.y0,Ue=ke,Ve=Ke.y1,Re=Ve;Ke.sourceLinks.forEach(function(de){de.circular?(de.y0=Ve-de.width/2,Ve=Ve-de.width):(de.y0=ke+de.width/2,ke+=de.width)}),Ke.targetLinks.forEach(function(de){de.circular?(de.y1=Re-de.width/2,Re=Re-de.width):(de.y1=Ue+de.width/2,Ue+=de.width)})})}return ft}function w(Te,Le,Ie){var ze=0;if(Ie===null){for(var Me=[],_e=0;_e<Te.links.length;_e++){var Ce=Te.links[_e],Oe=Ce.source.index,Pe=Ce.target.index;Me[Oe]||(Me[Oe]=[]),Me[Pe]||(Me[Pe]=[]),Me[Oe].indexOf(Pe)===-1&&Me[Oe].push(Pe)}var Ge=x()(Me);Ge.sort(function(et,ft){return et.length-ft.length});var Ze={};for(_e=0;_e<Ge.length;_e++){var it=Ge[_e],Je=it.slice(-2);Ze[Je[0]]||(Ze[Je[0]]={}),Ze[Je[0]][Je[1]]=!0}Te.links.forEach(function(et){var ft=et.target.index,vt=et.source.index;ft===vt||Ze[vt]&&Ze[vt][ft]?(et.circular=!0,et.circularLinkID=ze,ze=ze+1):et.circular=!1})}else Te.links.forEach(function(et){et.source[Ie]<et.target[Ie]?et.circular=!1:(et.circular=!0,et.circularLinkID=ze,ze=ze+1)})}function _(Te,Le){var Ie=0,ze=0;Te.links.forEach(function(Me){Me.circular&&(Me.source.circularLinkType||Me.target.circularLinkType?Me.circularLinkType=Me.source.circularLinkType?Me.source.circularLinkType:Me.target.circularLinkType:Me.circularLinkType=Ie<ze?"top":"bottom",Me.circularLinkType=="top"?Ie=Ie+1:ze=ze+1,Te.nodes.forEach(function(_e){(m(_e,Le)==m(Me.source,Le)||m(_e,Le)==m(Me.target,Le))&&(_e.circularLinkType=Me.circularLinkType)}))}),Te.links.forEach(function(Me){Me.circular&&(Me.source.circularLinkType==Me.target.circularLinkType&&(Me.circularLinkType=Me.source.circularLinkType),me(Me,Le)&&(Me.circularLinkType=Me.source.circularLinkType))})}function I(Te){var Le=Math.abs(Te.y1-Te.y0),Ie=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(Ie/Le)}function H(Te,Le){return Te.source.column<Le.target.column?!1:!(Te.target.column>Le.source.column)}function O(Te,Le){var Ie=0;Te.sourceLinks.forEach(function(Me){Ie=Me.circular&&!me(Me,Le)?Ie+1:Ie});var ze=0;return Te.targetLinks.forEach(function(Me){ze=Me.circular&&!me(Me,Le)?ze+1:ze}),Ie+ze}function V(Te){var Le=Te.source.sourceLinks,Ie=0;Le.forEach(function(_e){Ie=_e.circular?Ie+1:Ie});var ze=Te.target.targetLinks,Me=0;return ze.forEach(function(_e){Me=_e.circular?Me+1:Me}),!(Ie>1||Me>1)}function B(Te,Le,Ie){return Te.sort(Y),Te.forEach(function(ze,Me){var _e=0;if(me(ze,Ie)&&V(ze))ze.circularPathData.verticalBuffer=_e+ze.width/2;else{var Ce=0;for(Ce;Ce<Me;Ce++)if(H(Te[Me],Te[Ce])){var Oe=Te[Ce].circularPathData.verticalBuffer+Te[Ce].width/2+Le;_e=Oe>_e?Oe:_e}ze.circularPathData.verticalBuffer=_e+ze.width/2}}),Te}function F(Te,Le,Ie,ze){var Me=5,_e=(0,d.SY)(Te.links,function(Pe){return Pe.source.y0});Te.links.forEach(function(Pe){Pe.circular&&(Pe.circularPathData={})});var Ce=Te.links.filter(function(Pe){return Pe.circularLinkType=="top"});B(Ce,Le,ze);var Oe=Te.links.filter(function(Pe){return Pe.circularLinkType=="bottom"});B(Oe,Le,ze),Te.links.forEach(function(Pe){if(Pe.circular){if(Pe.circularPathData.arcRadius=Pe.width+M,Pe.circularPathData.leftNodeBuffer=Me,Pe.circularPathData.rightNodeBuffer=Me,Pe.circularPathData.sourceWidth=Pe.source.x1-Pe.source.x0,Pe.circularPathData.sourceX=Pe.source.x0+Pe.circularPathData.sourceWidth,Pe.circularPathData.targetX=Pe.target.x0,Pe.circularPathData.sourceY=Pe.y0,Pe.circularPathData.targetY=Pe.y1,me(Pe,ze)&&V(Pe))Pe.circularPathData.leftSmallArcRadius=M+Pe.width/2,Pe.circularPathData.leftLargeArcRadius=M+Pe.width/2,Pe.circularPathData.rightSmallArcRadius=M+Pe.width/2,Pe.circularPathData.rightLargeArcRadius=M+Pe.width/2,Pe.circularLinkType=="bottom"?(Pe.circularPathData.verticalFullExtent=Pe.source.y1+L+Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.rightLargeArcRadius):(Pe.circularPathData.verticalFullExtent=Pe.source.y0-L-Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.rightLargeArcRadius);else{var Ge=Pe.source.column,Ze=Pe.circularLinkType,it=Te.links.filter(function(ft){return ft.source.column==Ge&&ft.circularLinkType==Ze});Pe.circularLinkType=="bottom"?it.sort(te):it.sort(Q);var Je=0;it.forEach(function(ft,vt){ft.circularLinkID==Pe.circularLinkID&&(Pe.circularPathData.leftSmallArcRadius=M+Pe.width/2+Je,Pe.circularPathData.leftLargeArcRadius=M+Pe.width/2+vt*Le+Je),Je=Je+ft.width}),Ge=Pe.target.column,it=Te.links.filter(function(ft){return ft.target.column==Ge&&ft.circularLinkType==Ze}),Pe.circularLinkType=="bottom"?it.sort(fe):it.sort(ae),Je=0,it.forEach(function(ft,vt){ft.circularLinkID==Pe.circularLinkID&&(Pe.circularPathData.rightSmallArcRadius=M+Pe.width/2+Je,Pe.circularPathData.rightLargeArcRadius=M+Pe.width/2+vt*Le+Je),Je=Je+ft.width}),Pe.circularLinkType=="bottom"?(Pe.circularPathData.verticalFullExtent=Math.max(Ie,Pe.source.y1,Pe.target.y1)+L+Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.rightLargeArcRadius):(Pe.circularPathData.verticalFullExtent=_e-L-Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.rightLargeArcRadius)}Pe.circularPathData.leftInnerExtent=Pe.circularPathData.sourceX+Pe.circularPathData.leftNodeBuffer,Pe.circularPathData.rightInnerExtent=Pe.circularPathData.targetX-Pe.circularPathData.rightNodeBuffer,Pe.circularPathData.leftFullExtent=Pe.circularPathData.sourceX+Pe.circularPathData.leftLargeArcRadius+Pe.circularPathData.leftNodeBuffer,Pe.circularPathData.rightFullExtent=Pe.circularPathData.targetX-Pe.circularPathData.rightLargeArcRadius-Pe.circularPathData.rightNodeBuffer}if(Pe.circular)Pe.path=G(Pe);else{var et=(0,n.ak)().source(function(ft){var vt=ft.source.x0+(ft.source.x1-ft.source.x0),dt=ft.y0;return[vt,dt]}).target(function(ft){var vt=ft.target.x0,dt=ft.y1;return[vt,dt]});Pe.path=et(Pe)}})}function G(Te){var Le="";return Te.circularLinkType=="top"?Le="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 0 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY-Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 0 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 0 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY-Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 0 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY:Le="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 1 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY+Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 1 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 1 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY+Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 1 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY,Le}function Y(Te,Le){return oe(Te)==oe(Le)?Te.circularLinkType=="bottom"?te(Te,Le):Q(Te,Le):oe(Le)-oe(Te)}function Q(Te,Le){return Te.y0-Le.y0}function te(Te,Le){return Le.y0-Te.y0}function ae(Te,Le){return Te.y1-Le.y1}function fe(Te,Le){return Le.y1-Te.y1}function oe(Te){return Te.target.column-Te.source.column}function J(Te){return Te.target.x0-Te.source.x1}function ee(Te,Le){var Ie=I(Te),ze=J(Le)/Math.tan(Ie),Me=he(Te)=="up"?Te.y1+ze:Te.y1-ze;return Me}function X(Te,Le){var Ie=I(Te),ze=J(Le)/Math.tan(Ie),Me=he(Te)=="up"?Te.y1-ze:Te.y1+ze;return Me}function q(Te,Le,Ie,ze){Te.links.forEach(function(Me){if(!Me.circular&&Me.target.column-Me.source.column>1){var _e=Me.source.column+1,Ce=Me.target.column-1,Oe=1,Pe=Ce-_e+1;for(Oe=1;_e<=Ce;_e++,Oe++)Te.nodes.forEach(function(Ge){if(Ge.column==_e){var Ze=Oe/(Pe+1),it=Math.pow(1-Ze,3),Je=3*Ze*Math.pow(1-Ze,2),et=3*Math.pow(Ze,2)*(1-Ze),ft=Math.pow(Ze,3),vt=it*Me.y0+Je*Me.y0+et*Me.y1+ft*Me.y1,dt=vt-Me.width/2,xt=vt+Me.width/2,Mt;dt>Ge.y0&&dt<Ge.y1?(Mt=Ge.y1-dt+10,Mt=Ge.circularLinkType=="bottom"?Mt:-Mt,Ge=$(Ge,Mt,Le,Ie),Te.nodes.forEach(function(nt){m(nt,ze)==m(Ge,ze)||nt.column!=Ge.column||le(Ge,nt)&&$(nt,Mt,Le,Ie)})):xt>Ge.y0&&xt<Ge.y1?(Mt=xt-Ge.y0+10,Ge=$(Ge,Mt,Le,Ie),Te.nodes.forEach(function(nt){m(nt,ze)==m(Ge,ze)||nt.column!=Ge.column||nt.y0<Ge.y1&&nt.y1>Ge.y1&&$(nt,Mt,Le,Ie)})):dt<Ge.y0&&xt>Ge.y1&&(Mt=xt-Ge.y0+10,Ge=$(Ge,Mt,Le,Ie),Te.nodes.forEach(function(nt){m(nt,ze)==m(Ge,ze)||nt.column!=Ge.column||nt.y0<Ge.y1&&nt.y1>Ge.y1&&$(nt,Mt,Le,Ie)}))}})}})}function le(Te,Le){return Te.y0>Le.y0&&Te.y0<Le.y1||Te.y1>Le.y0&&Te.y1<Le.y1?!0:Te.y0<Le.y0&&Te.y1>Le.y1}function $(Te,Le,Ie,ze){return Te.y0+Le>=Ie&&Te.y1+Le<=ze&&(Te.y0=Te.y0+Le,Te.y1=Te.y1+Le,Te.targetLinks.forEach(function(Me){Me.y1=Me.y1+Le}),Te.sourceLinks.forEach(function(Me){Me.y0=Me.y0+Le})),Te}function j(Te,Le,Ie,ze){Te.nodes.forEach(function(Me){ze&&Me.y+(Me.y1-Me.y0)>Le&&(Me.y=Me.y-(Me.y+(Me.y1-Me.y0)-Le));var _e=Te.links.filter(function(Pe){return m(Pe.source,Ie)==m(Me,Ie)}),Ce=_e.length;Ce>1&&_e.sort(function(Pe,Ge){if(!Pe.circular&&!Ge.circular){if(Pe.target.column==Ge.target.column)return Pe.y1-Ge.y1;if(ne(Pe,Ge)){if(Pe.target.column>Ge.target.column){var Ze=X(Ge,Pe);return Pe.y1-Ze}if(Ge.target.column>Pe.target.column){var it=X(Pe,Ge);return it-Ge.y1}}else return Pe.y1-Ge.y1}if(Pe.circular&&!Ge.circular)return Pe.circularLinkType=="top"?-1:1;if(Ge.circular&&!Pe.circular)return Ge.circularLinkType=="top"?1:-1;if(Pe.circular&&Ge.circular)return Pe.circularLinkType===Ge.circularLinkType&&Pe.circularLinkType=="top"?Pe.target.column===Ge.target.column?Pe.target.y1-Ge.target.y1:Ge.target.column-Pe.target.column:Pe.circularLinkType===Ge.circularLinkType&&Pe.circularLinkType=="bottom"?Pe.target.column===Ge.target.column?Ge.target.y1-Pe.target.y1:Pe.target.column-Ge.target.column:Pe.circularLinkType=="top"?-1:1});var Oe=Me.y0;_e.forEach(function(Pe){Pe.y0=Oe+Pe.width/2,Oe=Oe+Pe.width}),_e.forEach(function(Pe,Ge){if(Pe.circularLinkType=="bottom"){var Ze=Ge+1,it=0;for(Ze;Ze<Ce;Ze++)it=it+_e[Ze].width;Pe.y0=Me.y1-it-Pe.width/2}})})}function se(Te,Le,Ie){Te.nodes.forEach(function(ze){var Me=Te.links.filter(function(Oe){return m(Oe.target,Ie)==m(ze,Ie)}),_e=Me.length;_e>1&&Me.sort(function(Oe,Pe){if(!Oe.circular&&!Pe.circular){if(Oe.source.column==Pe.source.column)return Oe.y0-Pe.y0;if(ne(Oe,Pe)){if(Pe.source.column<Oe.source.column){var Ge=ee(Pe,Oe);return Oe.y0-Ge}if(Oe.source.column<Pe.source.column){var Ze=ee(Oe,Pe);return Ze-Pe.y0}}else return Oe.y0-Pe.y0}if(Oe.circular&&!Pe.circular)return Oe.circularLinkType=="top"?-1:1;if(Pe.circular&&!Oe.circular)return Pe.circularLinkType=="top"?1:-1;if(Oe.circular&&Pe.circular)return Oe.circularLinkType===Pe.circularLinkType&&Oe.circularLinkType=="top"?Oe.source.column===Pe.source.column?Oe.source.y1-Pe.source.y1:Oe.source.column-Pe.source.column:Oe.circularLinkType===Pe.circularLinkType&&Oe.circularLinkType=="bottom"?Oe.source.column===Pe.source.column?Oe.source.y1-Pe.source.y1:Pe.source.column-Oe.source.column:Oe.circularLinkType=="top"?-1:1});var Ce=ze.y0;Me.forEach(function(Oe){Oe.y1=Ce+Oe.width/2,Ce=Ce+Oe.width}),Me.forEach(function(Oe,Pe){if(Oe.circularLinkType=="bottom"){var Ge=Pe+1,Ze=0;for(Ge;Ge<_e;Ge++)Ze=Ze+Me[Ge].width;Oe.y1=ze.y1-Ze-Oe.width/2}})})}function ne(Te,Le){return he(Te)==he(Le)}function he(Te){return Te.y0-Te.y1>0?"up":"down"}function me(Te,Le){return m(Te.source,Le)==m(Te.target,Le)}function we(Te,Le,Ie){var ze=Te.nodes,Me=Te.links,_e=!1,Ce=!1;if(Me.forEach(function(Je){Je.circularLinkType=="top"?_e=!0:Je.circularLinkType=="bottom"&&(Ce=!0)}),_e==!1||Ce==!1){var Oe=(0,d.SY)(ze,function(Je){return Je.y0}),Pe=(0,d.kv)(ze,function(Je){return Je.y1}),Ge=Pe-Oe,Ze=Ie-Le,it=Ze/Ge;ze.forEach(function(Je){var et=(Je.y1-Je.y0)*it;Je.y0=(Je.y0-Oe)*it,Je.y1=Je.y0+et}),Me.forEach(function(Je){Je.y0=(Je.y0-Oe)*it,Je.y1=(Je.y1-Oe)*it,Je.width=Je.width*it})}}},26800:function(U,N,e){e.r(N),e.d(N,{sankey:function(){return g},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return x}});var d=e(84706),P=e(34712);function n(L){return L.target.depth}function C(L){return L.depth}function x(L,M){return M-1-L.height}function v(L,M){return L.sourceLinks.length?L.depth:M-1}function p(L){return L.targetLinks.length?L.depth:L.sourceLinks.length?(0,d.SY)(L.sourceLinks,n)-1:0}function r(L){return function(){return L}}function t(L,M){return a(L.source,M.source)||L.index-M.index}function o(L,M){return a(L.target,M.target)||L.index-M.index}function a(L,M){return L.y0-M.y0}function u(L){return L.value}function f(L){return(L.y0+L.y1)/2}function l(L){return f(L.source)*L.value}function y(L){return f(L.target)*L.value}function c(L){return L.index}function T(L){return L.nodes}function h(L){return L.links}function i(L,M){var s=L.get(M);if(!s)throw new Error("missing: "+M);return s}function g(){var L=0,M=0,s=1,S=1,w=24,_=8,I=c,H=v,O=T,V=h,B=32,F=2/3;function G(){var oe={nodes:O.apply(null,arguments),links:V.apply(null,arguments)};return Y(oe),Q(oe),te(oe),ae(oe),fe(oe),oe}G.update=function(oe){return fe(oe),oe},G.nodeId=function(oe){return arguments.length?(I=typeof oe=="function"?oe:r(oe),G):I},G.nodeAlign=function(oe){return arguments.length?(H=typeof oe=="function"?oe:r(oe),G):H},G.nodeWidth=function(oe){return arguments.length?(w=+oe,G):w},G.nodePadding=function(oe){return arguments.length?(_=+oe,G):_},G.nodes=function(oe){return arguments.length?(O=typeof oe=="function"?oe:r(oe),G):O},G.links=function(oe){return arguments.length?(V=typeof oe=="function"?oe:r(oe),G):V},G.size=function(oe){return arguments.length?(L=M=0,s=+oe[0],S=+oe[1],G):[s-L,S-M]},G.extent=function(oe){return arguments.length?(L=+oe[0][0],s=+oe[1][0],M=+oe[0][1],S=+oe[1][1],G):[[L,M],[s,S]]},G.iterations=function(oe){return arguments.length?(B=+oe,G):B};function Y(oe){oe.nodes.forEach(function(ee,X){ee.index=X,ee.sourceLinks=[],ee.targetLinks=[]});var J=(0,P.kH)(oe.nodes,I);oe.links.forEach(function(ee,X){ee.index=X;var q=ee.source,le=ee.target;typeof q!="object"&&(q=ee.source=i(J,q)),typeof le!="object"&&(le=ee.target=i(J,le)),q.sourceLinks.push(ee),le.targetLinks.push(ee)})}function Q(oe){oe.nodes.forEach(function(J){J.value=Math.max((0,d.oh)(J.sourceLinks,u),(0,d.oh)(J.targetLinks,u))})}function te(oe){var J,ee,X;for(J=oe.nodes,ee=[],X=0;J.length;++X,J=ee,ee=[])J.forEach(function(le){le.depth=X,le.sourceLinks.forEach(function($){ee.indexOf($.target)<0&&ee.push($.target)})});for(J=oe.nodes,ee=[],X=0;J.length;++X,J=ee,ee=[])J.forEach(function(le){le.height=X,le.targetLinks.forEach(function($){ee.indexOf($.source)<0&&ee.push($.source)})});var q=(s-L-w)/(X-1);oe.nodes.forEach(function(le){le.x1=(le.x0=L+Math.max(0,Math.min(X-1,Math.floor(H.call(null,le,X))))*q)+w})}function ae(oe){var J=(0,P.UJ)().key(function(se){return se.x0}).sortKeys(d.XE).entries(oe.nodes).map(function(se){return se.values});q(),j();for(var ee=1,X=B;X>0;--X)$(ee*=.99),j(),le(ee),j();function q(){var se=(0,d.kv)(J,function(me){return me.length}),ne=F*(S-M)/(se-1);_>ne&&(_=ne);var he=(0,d.SY)(J,function(me){return(S-M-(me.length-1)*_)/(0,d.oh)(me,u)});J.forEach(function(me){me.forEach(function(we,Te){we.y1=(we.y0=Te)+we.value*he})}),oe.links.forEach(function(me){me.width=me.value*he})}function le(se){J.forEach(function(ne){ne.forEach(function(he){if(he.targetLinks.length){var me=((0,d.oh)(he.targetLinks,l)/(0,d.oh)(he.targetLinks,u)-f(he))*se;he.y0+=me,he.y1+=me}})})}function $(se){J.slice().reverse().forEach(function(ne){ne.forEach(function(he){if(he.sourceLinks.length){var me=((0,d.oh)(he.sourceLinks,y)/(0,d.oh)(he.sourceLinks,u)-f(he))*se;he.y0+=me,he.y1+=me}})})}function j(){J.forEach(function(se){var ne,he,me=M,we=se.length,Te;for(se.sort(a),Te=0;Te<we;++Te)ne=se[Te],he=me-ne.y0,he>0&&(ne.y0+=he,ne.y1+=he),me=ne.y1+_;if(he=me-_-S,he>0)for(me=ne.y0-=he,ne.y1-=he,Te=we-2;Te>=0;--Te)ne=se[Te],he=ne.y1+_-me,he>0&&(ne.y0-=he,ne.y1-=he),me=ne.y0})}}function fe(oe){oe.nodes.forEach(function(J){J.sourceLinks.sort(o),J.targetLinks.sort(t)}),oe.nodes.forEach(function(J){var ee=J.y0,X=ee;J.sourceLinks.forEach(function(q){q.y0=ee+q.width/2,ee+=q.width}),J.targetLinks.forEach(function(q){q.y1=X+q.width/2,X+=q.width})})}return G}var b=e(10132);function A(L){return[L.source.x1,L.y0]}function R(L){return[L.target.x0,L.y1]}function m(){return(0,b.ak)().source(A).target(R)}},33428:function(U,N,e){var d,P;(function(){var n={version:"3.8.2"},C=[].slice,x=function(ce){return C.call(ce)},v=self.document;function p(ce){return ce&&(ce.ownerDocument||ce.document||ce).documentElement}function r(ce){return ce&&(ce.ownerDocument&&ce.ownerDocument.defaultView||ce.document&&ce||ce.defaultView)}if(v)try{x(v.documentElement.childNodes)[0].nodeType}catch{x=function(Ee){for(var He=Ee.length,tt=new Array(He);He--;)tt[He]=Ee[He];return tt}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,o=t.setAttribute,a=t.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;t.setAttribute=function(Ee,He){o.call(this,Ee,He+"")},t.setAttributeNS=function(Ee,He,tt){a.call(this,Ee,He,tt+"")},u.setProperty=function(Ee,He,tt){f.call(this,Ee,He+"",tt)}}n.ascending=l;function l(ce,Ee){return ce<Ee?-1:ce>Ee?1:ce>=Ee?0:NaN}n.descending=function(ce,Ee){return Ee<ce?-1:Ee>ce?1:Ee>=ce?0:NaN},n.min=function(ce,Ee){var He=-1,tt=ce.length,ot,ht;if(arguments.length===1){for(;++He<tt;)if((ht=ce[He])!=null&&ht>=ht){ot=ht;break}for(;++He<tt;)(ht=ce[He])!=null&&ot>ht&&(ot=ht)}else{for(;++He<tt;)if((ht=Ee.call(ce,ce[He],He))!=null&&ht>=ht){ot=ht;break}for(;++He<tt;)(ht=Ee.call(ce,ce[He],He))!=null&&ot>ht&&(ot=ht)}return ot},n.max=function(ce,Ee){var He=-1,tt=ce.length,ot,ht;if(arguments.length===1){for(;++He<tt;)if((ht=ce[He])!=null&&ht>=ht){ot=ht;break}for(;++He<tt;)(ht=ce[He])!=null&&ht>ot&&(ot=ht)}else{for(;++He<tt;)if((ht=Ee.call(ce,ce[He],He))!=null&&ht>=ht){ot=ht;break}for(;++He<tt;)(ht=Ee.call(ce,ce[He],He))!=null&&ht>ot&&(ot=ht)}return ot},n.extent=function(ce,Ee){var He=-1,tt=ce.length,ot,ht,Rt;if(arguments.length===1){for(;++He<tt;)if((ht=ce[He])!=null&&ht>=ht){ot=Rt=ht;break}for(;++He<tt;)(ht=ce[He])!=null&&(ot>ht&&(ot=ht),Rt<ht&&(Rt=ht))}else{for(;++He<tt;)if((ht=Ee.call(ce,ce[He],He))!=null&&ht>=ht){ot=Rt=ht;break}for(;++He<tt;)(ht=Ee.call(ce,ce[He],He))!=null&&(ot>ht&&(ot=ht),Rt<ht&&(Rt=ht))}return[ot,Rt]};function y(ce){return ce===null?NaN:+ce}function c(ce){return!isNaN(ce)}n.sum=function(ce,Ee){var He=0,tt=ce.length,ot,ht=-1;if(arguments.length===1)for(;++ht<tt;)c(ot=+ce[ht])&&(He+=ot);else for(;++ht<tt;)c(ot=+Ee.call(ce,ce[ht],ht))&&(He+=ot);return He},n.mean=function(ce,Ee){var He=0,tt=ce.length,ot,ht=-1,Rt=tt;if(arguments.length===1)for(;++ht<tt;)c(ot=y(ce[ht]))?He+=ot:--Rt;else for(;++ht<tt;)c(ot=y(Ee.call(ce,ce[ht],ht)))?He+=ot:--Rt;if(Rt)return He/Rt},n.quantile=function(ce,Ee){var He=(ce.length-1)*Ee+1,tt=Math.floor(He),ot=+ce[tt-1],ht=He-tt;return ht?ot+ht*(ce[tt]-ot):ot},n.median=function(ce,Ee){var He=[],tt=ce.length,ot,ht=-1;if(arguments.length===1)for(;++ht<tt;)c(ot=y(ce[ht]))&&He.push(ot);else for(;++ht<tt;)c(ot=y(Ee.call(ce,ce[ht],ht)))&&He.push(ot);if(He.length)return n.quantile(He.sort(l),.5)},n.variance=function(ce,Ee){var He=ce.length,tt=0,ot,ht,Rt=0,At=-1,Ut=0;if(arguments.length===1)for(;++At<He;)c(ot=y(ce[At]))&&(ht=ot-tt,tt+=ht/++Ut,Rt+=ht*(ot-tt));else for(;++At<He;)c(ot=y(Ee.call(ce,ce[At],At)))&&(ht=ot-tt,tt+=ht/++Ut,Rt+=ht*(ot-tt));if(Ut>1)return Rt/(Ut-1)},n.deviation=function(){var ce=n.variance.apply(this,arguments);return ce&&Math.sqrt(ce)};function T(ce){return{left:function(Ee,He,tt,ot){for(arguments.length<3&&(tt=0),arguments.length<4&&(ot=Ee.length);tt<ot;){var ht=tt+ot>>>1;ce(Ee[ht],He)<0?tt=ht+1:ot=ht}return tt},right:function(Ee,He,tt,ot){for(arguments.length<3&&(tt=0),arguments.length<4&&(ot=Ee.length);tt<ot;){var ht=tt+ot>>>1;ce(Ee[ht],He)>0?ot=ht:tt=ht+1}return tt}}}var h=T(l);n.bisectLeft=h.left,n.bisect=n.bisectRight=h.right,n.bisector=function(ce){return T(ce.length===1?function(Ee,He){return l(ce(Ee),He)}:ce)},n.shuffle=function(ce,Ee,He){(tt=arguments.length)<3&&(He=ce.length,tt<2&&(Ee=0));for(var tt=He-Ee,ot,ht;tt;)ht=Math.random()*tt--|0,ot=ce[tt+Ee],ce[tt+Ee]=ce[ht+Ee],ce[ht+Ee]=ot;return ce},n.permute=function(ce,Ee){for(var He=Ee.length,tt=new Array(He);He--;)tt[He]=ce[Ee[He]];return tt},n.pairs=function(ce){for(var Ee=0,He=ce.length-1,tt=ce[0],ot=new Array(He<0?0:He);Ee<He;)ot[Ee]=[tt,tt=ce[++Ee]];return ot},n.transpose=function(ce){if(!(ht=ce.length))return[];for(var Ee=-1,He=n.min(ce,i),tt=new Array(He);++Ee<He;)for(var ot=-1,ht,Rt=tt[Ee]=new Array(ht);++ot<ht;)Rt[ot]=ce[ot][Ee];return tt};function i(ce){return ce.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(ce){var Ee=[];for(var He in ce)Ee.push(He);return Ee},n.values=function(ce){var Ee=[];for(var He in ce)Ee.push(ce[He]);return Ee},n.entries=function(ce){var Ee=[];for(var He in ce)Ee.push({key:He,value:ce[He]});return Ee},n.merge=function(ce){for(var Ee=ce.length,He,tt=-1,ot=0,ht,Rt;++tt<Ee;)ot+=ce[tt].length;for(ht=new Array(ot);--Ee>=0;)for(Rt=ce[Ee],He=Rt.length;--He>=0;)ht[--ot]=Rt[He];return ht};var g=Math.abs;n.range=function(ce,Ee,He){if(arguments.length<3&&(He=1,arguments.length<2&&(Ee=ce,ce=0)),(Ee-ce)/He===1/0)throw new Error("infinite range");var tt=[],ot=b(g(He)),ht=-1,Rt;if(ce*=ot,Ee*=ot,He*=ot,He<0)for(;(Rt=ce+He*++ht)>Ee;)tt.push(Rt/ot);else for(;(Rt=ce+He*++ht)<Ee;)tt.push(Rt/ot);return tt};function b(ce){for(var Ee=1;ce*Ee%1;)Ee*=10;return Ee}function A(ce,Ee){for(var He in Ee)Object.defineProperty(ce.prototype,He,{value:Ee[He],enumerable:!1})}n.map=function(ce,Ee){var He=new R;if(ce instanceof R)ce.forEach(function(At,Ut){He.set(At,Ut)});else if(Array.isArray(ce)){var tt=-1,ot=ce.length,ht;if(arguments.length===1)for(;++tt<ot;)He.set(tt,ce[tt]);else for(;++tt<ot;)He.set(Ee.call(ce,ht=ce[tt],tt),ht)}else for(var Rt in ce)He.set(Rt,ce[Rt]);return He};function R(){this._=Object.create(null)}var m="__proto__",L="\0";A(R,{has:S,get:function(ce){return this._[M(ce)]},set:function(ce,Ee){return this._[M(ce)]=Ee},remove:w,keys:_,values:function(){var ce=[];for(var Ee in this._)ce.push(this._[Ee]);return ce},entries:function(){var ce=[];for(var Ee in this._)ce.push({key:s(Ee),value:this._[Ee]});return ce},size:I,empty:H,forEach:function(ce){for(var Ee in this._)ce.call(this,s(Ee),this._[Ee])}});function M(ce){return(ce+="")===m||ce[0]===L?L+ce:ce}function s(ce){return(ce+="")[0]===L?ce.slice(1):ce}function S(ce){return M(ce)in this._}function w(ce){return(ce=M(ce))in this._&&delete this._[ce]}function _(){var ce=[];for(var Ee in this._)ce.push(s(Ee));return ce}function I(){var ce=0;for(var Ee in this._)++ce;return ce}function H(){for(var ce in this._)return!1;return!0}n.nest=function(){var ce={},Ee=[],He=[],tt,ot;function ht(At,Ut,Vt){if(Vt>=Ee.length)return ot?ot.call(ce,Ut):tt?Ut.sort(tt):Ut;for(var ar=-1,Rr=Ut.length,kr=Ee[Vt++],$r,ln,zr,Gr=new R,Jr;++ar<Rr;)(Jr=Gr.get($r=kr(ln=Ut[ar])))?Jr.push(ln):Gr.set($r,[ln]);return At?(ln=At(),zr=function(vn,mn){ln.set(vn,ht(At,mn,Vt))}):(ln={},zr=function(vn,mn){ln[vn]=ht(At,mn,Vt)}),Gr.forEach(zr),ln}function Rt(At,Ut){if(Ut>=Ee.length)return At;var Vt=[],ar=He[Ut++];return At.forEach(function(Rr,kr){Vt.push({key:Rr,values:Rt(kr,Ut)})}),ar?Vt.sort(function(Rr,kr){return ar(Rr.key,kr.key)}):Vt}return ce.map=function(At,Ut){return ht(Ut,At,0)},ce.entries=function(At){return Rt(ht(n.map,At,0),0)},ce.key=function(At){return Ee.push(At),ce},ce.sortKeys=function(At){return He[Ee.length-1]=At,ce},ce.sortValues=function(At){return tt=At,ce},ce.rollup=function(At){return ot=At,ce},ce},n.set=function(ce){var Ee=new O;if(ce)for(var He=0,tt=ce.length;He<tt;++He)Ee.add(ce[He]);return Ee};function O(){this._=Object.create(null)}A(O,{has:S,add:function(ce){return this._[M(ce+="")]=!0,ce},remove:w,values:_,size:I,empty:H,forEach:function(ce){for(var Ee in this._)ce.call(this,s(Ee))}}),n.behavior={};function V(ce){return ce}n.rebind=function(ce,Ee){for(var He=1,tt=arguments.length,ot;++He<tt;)ce[ot=arguments[He]]=B(ce,Ee,Ee[ot]);return ce};function B(ce,Ee,He){return function(){var tt=He.apply(Ee,arguments);return tt===Ee?ce:tt}}function F(ce,Ee){if(Ee in ce)return Ee;Ee=Ee.charAt(0).toUpperCase()+Ee.slice(1);for(var He=0,tt=G.length;He<tt;++He){var ot=G[He]+Ee;if(ot in ce)return ot}}var G=["webkit","ms","moz","Moz","o","O"];function Y(){}n.dispatch=function(){for(var ce=new Q,Ee=-1,He=arguments.length;++Ee<He;)ce[arguments[Ee]]=te(ce);return ce};function Q(){}Q.prototype.on=function(ce,Ee){var He=ce.indexOf("."),tt="";if(He>=0&&(tt=ce.slice(He+1),ce=ce.slice(0,He)),ce)return arguments.length<2?this[ce].on(tt):this[ce].on(tt,Ee);if(arguments.length===2){if(Ee==null)for(ce in this)this.hasOwnProperty(ce)&&this[ce].on(tt,null);return this}};function te(ce){var Ee=[],He=new R;function tt(){for(var ot=Ee,ht=-1,Rt=ot.length,At;++ht<Rt;)(At=ot[ht].on)&&At.apply(this,arguments);return ce}return tt.on=function(ot,ht){var Rt=He.get(ot),At;return arguments.length<2?Rt&&Rt.on:(Rt&&(Rt.on=null,Ee=Ee.slice(0,At=Ee.indexOf(Rt)).concat(Ee.slice(At+1)),He.remove(ot)),ht&&Ee.push(He.set(ot,{on:ht})),ce)},tt}n.event=null;function ae(){n.event.preventDefault()}function fe(){for(var ce=n.event,Ee;Ee=ce.sourceEvent;)ce=Ee;return ce}function oe(ce){for(var Ee=new Q,He=0,tt=arguments.length;++He<tt;)Ee[arguments[He]]=te(Ee);return Ee.of=function(ot,ht){return function(Rt){try{var At=Rt.sourceEvent=n.event;Rt.target=ce,n.event=Rt,Ee[Rt.type].apply(ot,ht)}finally{n.event=At}}},Ee}n.requote=function(ce){return ce.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ee={}.__proto__?function(ce,Ee){ce.__proto__=Ee}:function(ce,Ee){for(var He in Ee)ce[He]=Ee[He]};function X(ce){return ee(ce,j),ce}var q=function(ce,Ee){return Ee.querySelector(ce)},le=function(ce,Ee){return Ee.querySelectorAll(ce)},$=function(ce,Ee){var He=ce.matches||ce[F(ce,"matchesSelector")];return $=function(tt,ot){return He.call(tt,ot)},$(ce,Ee)};typeof Sizzle=="function"&&(q=function(ce,Ee){return Sizzle(ce,Ee)[0]||null},le=Sizzle,$=Sizzle.matchesSelector),n.selection=function(){return n.select(v.documentElement)};var j=n.selection.prototype=[];j.select=function(ce){var Ee=[],He,tt,ot,ht;ce=se(ce);for(var Rt=-1,At=this.length;++Rt<At;){Ee.push(He=[]),He.parentNode=(ot=this[Rt]).parentNode;for(var Ut=-1,Vt=ot.length;++Ut<Vt;)(ht=ot[Ut])?(He.push(tt=ce.call(ht,ht.__data__,Ut,Rt)),tt&&"__data__"in ht&&(tt.__data__=ht.__data__)):He.push(null)}return X(Ee)};function se(ce){return typeof ce=="function"?ce:function(){return q(ce,this)}}j.selectAll=function(ce){var Ee=[],He,tt;ce=ne(ce);for(var ot=-1,ht=this.length;++ot<ht;)for(var Rt=this[ot],At=-1,Ut=Rt.length;++At<Ut;)(tt=Rt[At])&&(Ee.push(He=x(ce.call(tt,tt.__data__,At,ot))),He.parentNode=tt);return X(Ee)};function ne(ce){return typeof ce=="function"?ce:function(){return le(ce,this)}}var he="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:me,qualify:function(ce){var Ee=ce.indexOf(":"),He=ce;return Ee>=0&&(He=ce.slice(0,Ee))!=="xmlns"&&(ce=ce.slice(Ee+1)),me.hasOwnProperty(He)?{space:me[He],local:ce}:ce}},j.attr=function(ce,Ee){if(arguments.length<2){if(typeof ce=="string"){var He=this.node();return ce=n.ns.qualify(ce),ce.local?He.getAttributeNS(ce.space,ce.local):He.getAttribute(ce)}for(Ee in ce)this.each(we(Ee,ce[Ee]));return this}return this.each(we(ce,Ee))};function we(ce,Ee){ce=n.ns.qualify(ce);function He(){this.removeAttribute(ce)}function tt(){this.removeAttributeNS(ce.space,ce.local)}function ot(){this.setAttribute(ce,Ee)}function ht(){this.setAttributeNS(ce.space,ce.local,Ee)}function Rt(){var Ut=Ee.apply(this,arguments);Ut==null?this.removeAttribute(ce):this.setAttribute(ce,Ut)}function At(){var Ut=Ee.apply(this,arguments);Ut==null?this.removeAttributeNS(ce.space,ce.local):this.setAttributeNS(ce.space,ce.local,Ut)}return Ee==null?ce.local?tt:He:typeof Ee=="function"?ce.local?At:Rt:ce.local?ht:ot}function Te(ce){return ce.trim().replace(/\s+/g," ")}j.classed=function(ce,Ee){if(arguments.length<2){if(typeof ce=="string"){var He=this.node(),tt=(ce=Ie(ce)).length,ot=-1;if(Ee=He.classList){for(;++ot<tt;)if(!Ee.contains(ce[ot]))return!1}else for(Ee=He.getAttribute("class");++ot<tt;)if(!Le(ce[ot]).test(Ee))return!1;return!0}for(Ee in ce)this.each(ze(Ee,ce[Ee]));return this}return this.each(ze(ce,Ee))};function Le(ce){return new RegExp("(?:^|\\s+)"+n.requote(ce)+"(?:\\s+|$)","g")}function Ie(ce){return(ce+"").trim().split(/^|\s+/)}function ze(ce,Ee){ce=Ie(ce).map(Me);var He=ce.length;function tt(){for(var ht=-1;++ht<He;)ce[ht](this,Ee)}function ot(){for(var ht=-1,Rt=Ee.apply(this,arguments);++ht<He;)ce[ht](this,Rt)}return typeof Ee=="function"?ot:tt}function Me(ce){var Ee=Le(ce);return function(He,tt){if(ot=He.classList)return tt?ot.add(ce):ot.remove(ce);var ot=He.getAttribute("class")||"";tt?(Ee.lastIndex=0,Ee.test(ot)||He.setAttribute("class",Te(ot+" "+ce))):He.setAttribute("class",Te(ot.replace(Ee," ")))}}j.style=function(ce,Ee,He){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(Ee="");for(He in ce)this.each(_e(He,ce[He],Ee));return this}if(tt<2){var ot=this.node();return r(ot).getComputedStyle(ot,null).getPropertyValue(ce)}He=""}return this.each(_e(ce,Ee,He))};function _e(ce,Ee,He){function tt(){this.style.removeProperty(ce)}function ot(){this.style.setProperty(ce,Ee,He)}function ht(){var Rt=Ee.apply(this,arguments);Rt==null?this.style.removeProperty(ce):this.style.setProperty(ce,Rt,He)}return Ee==null?tt:typeof Ee=="function"?ht:ot}j.property=function(ce,Ee){if(arguments.length<2){if(typeof ce=="string")return this.node()[ce];for(Ee in ce)this.each(Ce(Ee,ce[Ee]));return this}return this.each(Ce(ce,Ee))};function Ce(ce,Ee){function He(){delete this[ce]}function tt(){this[ce]=Ee}function ot(){var ht=Ee.apply(this,arguments);ht==null?delete this[ce]:this[ce]=ht}return Ee==null?He:typeof Ee=="function"?ot:tt}j.text=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Ee=ce.apply(this,arguments);this.textContent=Ee??""}:ce==null?function(){this.textContent=""}:function(){this.textContent=ce}):this.node().textContent},j.html=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Ee=ce.apply(this,arguments);this.innerHTML=Ee??""}:ce==null?function(){this.innerHTML=""}:function(){this.innerHTML=ce}):this.node().innerHTML},j.append=function(ce){return ce=Oe(ce),this.select(function(){return this.appendChild(ce.apply(this,arguments))})};function Oe(ce){function Ee(){var tt=this.ownerDocument,ot=this.namespaceURI;return ot===he&&tt.documentElement.namespaceURI===he?tt.createElement(ce):tt.createElementNS(ot,ce)}function He(){return this.ownerDocument.createElementNS(ce.space,ce.local)}return typeof ce=="function"?ce:(ce=n.ns.qualify(ce)).local?He:Ee}j.insert=function(ce,Ee){return ce=Oe(ce),Ee=se(Ee),this.select(function(){return this.insertBefore(ce.apply(this,arguments),Ee.apply(this,arguments)||null)})},j.remove=function(){return this.each(Pe)};function Pe(){var ce=this.parentNode;ce&&ce.removeChild(this)}j.data=function(ce,Ee){var He=-1,tt=this.length,ot,ht;if(!arguments.length){for(ce=new Array(tt=(ot=this[0]).length);++He<tt;)(ht=ot[He])&&(ce[He]=ht.__data__);return ce}function Rt(ar,Rr){var kr,$r=ar.length,ln=Rr.length,zr=Math.min($r,ln),Gr=new Array(ln),Jr=new Array(ln),vn=new Array($r),mn,en;if(Ee){var Gn=new R,na=new Array($r),ha;for(kr=-1;++kr<$r;)(mn=ar[kr])&&(Gn.has(ha=Ee.call(mn,mn.__data__,kr))?vn[kr]=mn:Gn.set(ha,mn),na[kr]=ha);for(kr=-1;++kr<ln;)(mn=Gn.get(ha=Ee.call(Rr,en=Rr[kr],kr)))?mn!==!0&&(Gr[kr]=mn,mn.__data__=en):Jr[kr]=Ge(en),Gn.set(ha,!0);for(kr=-1;++kr<$r;)kr in na&&Gn.get(na[kr])!==!0&&(vn[kr]=ar[kr])}else{for(kr=-1;++kr<zr;)mn=ar[kr],en=Rr[kr],mn?(mn.__data__=en,Gr[kr]=mn):Jr[kr]=Ge(en);for(;kr<ln;++kr)Jr[kr]=Ge(Rr[kr]);for(;kr<$r;++kr)vn[kr]=ar[kr]}Jr.update=Gr,Jr.parentNode=Gr.parentNode=vn.parentNode=ar.parentNode,At.push(Jr),Ut.push(Gr),Vt.push(vn)}var At=et([]),Ut=X([]),Vt=X([]);if(typeof ce=="function")for(;++He<tt;)Rt(ot=this[He],ce.call(ot,ot.parentNode.__data__,He));else for(;++He<tt;)Rt(ot=this[He],ce);return Ut.enter=function(){return At},Ut.exit=function(){return Vt},Ut};function Ge(ce){return{__data__:ce}}j.datum=function(ce){return arguments.length?this.property("__data__",ce):this.property("__data__")},j.filter=function(ce){var Ee=[],He,tt,ot;typeof ce!="function"&&(ce=Ze(ce));for(var ht=0,Rt=this.length;ht<Rt;ht++){Ee.push(He=[]),He.parentNode=(tt=this[ht]).parentNode;for(var At=0,Ut=tt.length;At<Ut;At++)(ot=tt[At])&&ce.call(ot,ot.__data__,At,ht)&&He.push(ot)}return X(Ee)};function Ze(ce){return function(){return $(this,ce)}}j.order=function(){for(var ce=-1,Ee=this.length;++ce<Ee;)for(var He=this[ce],tt=He.length-1,ot=He[tt],ht;--tt>=0;)(ht=He[tt])&&(ot&&ot!==ht.nextSibling&&ot.parentNode.insertBefore(ht,ot),ot=ht);return this},j.sort=function(ce){ce=it.apply(this,arguments);for(var Ee=-1,He=this.length;++Ee<He;)this[Ee].sort(ce);return this.order()};function it(ce){return arguments.length||(ce=l),function(Ee,He){return Ee&&He?ce(Ee.__data__,He.__data__):!Ee-!He}}j.each=function(ce){return Je(this,function(Ee,He,tt){ce.call(Ee,Ee.__data__,He,tt)})};function Je(ce,Ee){for(var He=0,tt=ce.length;He<tt;He++)for(var ot=ce[He],ht=0,Rt=ot.length,At;ht<Rt;ht++)(At=ot[ht])&&Ee(At,ht,He);return ce}j.call=function(ce){var Ee=x(arguments);return ce.apply(Ee[0]=this,Ee),this},j.empty=function(){return!this.node()},j.node=function(){for(var ce=0,Ee=this.length;ce<Ee;ce++)for(var He=this[ce],tt=0,ot=He.length;tt<ot;tt++){var ht=He[tt];if(ht)return ht}return null},j.size=function(){var ce=0;return Je(this,function(){++ce}),ce};function et(ce){return ee(ce,ft),ce}var ft=[];n.selection.enter=et,n.selection.enter.prototype=ft,ft.append=j.append,ft.empty=j.empty,ft.node=j.node,ft.call=j.call,ft.size=j.size,ft.select=function(ce){for(var Ee=[],He,tt,ot,ht,Rt,At=-1,Ut=this.length;++At<Ut;){ot=(ht=this[At]).update,Ee.push(He=[]),He.parentNode=ht.parentNode;for(var Vt=-1,ar=ht.length;++Vt<ar;)(Rt=ht[Vt])?(He.push(ot[Vt]=tt=ce.call(ht.parentNode,Rt.__data__,Vt,At)),tt.__data__=Rt.__data__):He.push(null)}return X(Ee)},ft.insert=function(ce,Ee){return arguments.length<2&&(Ee=vt(this)),j.insert.call(this,ce,Ee)};function vt(ce){var Ee,He;return function(tt,ot,ht){var Rt=ce[ht].update,At=Rt.length,Ut;for(ht!=He&&(He=ht,Ee=0),ot>=Ee&&(Ee=ot+1);!(Ut=Rt[Ee])&&++Ee<At;);return Ut}}n.select=function(ce){var Ee;return typeof ce=="string"?(Ee=[q(ce,v)],Ee.parentNode=v.documentElement):(Ee=[ce],Ee.parentNode=p(ce)),X([Ee])},n.selectAll=function(ce){var Ee;return typeof ce=="string"?(Ee=x(le(ce,v)),Ee.parentNode=v.documentElement):(Ee=x(ce),Ee.parentNode=null),X([Ee])},j.on=function(ce,Ee,He){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(Ee=!1);for(He in ce)this.each(dt(He,ce[He],Ee));return this}if(tt<2)return(tt=this.node()["__on"+ce])&&tt._;He=!1}return this.each(dt(ce,Ee,He))};function dt(ce,Ee,He){var tt="__on"+ce,ot=ce.indexOf("."),ht=Mt;ot>0&&(ce=ce.slice(0,ot));var Rt=xt.get(ce);Rt&&(ce=Rt,ht=nt);function At(){var ar=this[tt];ar&&(this.removeEventListener(ce,ar,ar.$),delete this[tt])}function Ut(){var ar=ht(Ee,x(arguments));At.call(this),this.addEventListener(ce,this[tt]=ar,ar.$=He),ar._=Ee}function Vt(){var ar=new RegExp("^__on([^.]+)"+n.requote(ce)+"$"),Rr;for(var kr in this)if(Rr=kr.match(ar)){var $r=this[kr];this.removeEventListener(Rr[1],$r,$r.$),delete this[kr]}}return ot?Ee?Ut:At:Ee?Y:Vt}var xt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&xt.forEach(function(ce){"on"+ce in v&&xt.remove(ce)});function Mt(ce,Ee){return function(He){var tt=n.event;n.event=He,Ee[0]=this.__data__;try{ce.apply(this,Ee)}finally{n.event=tt}}}function nt(ce,Ee){var He=Mt(ce,Ee);return function(tt){var ot=this,ht=tt.relatedTarget;(!ht||ht!==ot&&!(ht.compareDocumentPosition(ot)&8))&&He.call(ot,tt)}}var Fe,We=0;function je(ce){var Ee=".dragsuppress-"+ ++We,He="click"+Ee,tt=n.select(r(ce)).on("touchmove"+Ee,ae).on("dragstart"+Ee,ae).on("selectstart"+Ee,ae);if(Fe==null&&(Fe="onselectstart"in ce?!1:F(ce.style,"userSelect")),Fe){var ot=p(ce).style,ht=ot[Fe];ot[Fe]="none"}return function(Rt){if(tt.on(Ee,null),Fe&&(ot[Fe]=ht),Rt){var At=function(){tt.on(He,null)};tt.on(He,function(){ae(),At()},!0),setTimeout(At,0)}}}n.mouse=function(ce){return ke(ce,fe())};var Ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ke(ce,Ee){Ee.changedTouches&&(Ee=Ee.changedTouches[0]);var He=ce.ownerSVGElement||ce;if(He.createSVGPoint){var tt=He.createSVGPoint();if(Ke<0){var ot=r(ce);if(ot.scrollX||ot.scrollY){He=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ht=He[0][0].getScreenCTM();Ke=!(ht.f||ht.e),He.remove()}}return Ke?(tt.x=Ee.pageX,tt.y=Ee.pageY):(tt.x=Ee.clientX,tt.y=Ee.clientY),tt=tt.matrixTransform(ce.getScreenCTM().inverse()),[tt.x,tt.y]}var Rt=ce.getBoundingClientRect();return[Ee.clientX-Rt.left-ce.clientLeft,Ee.clientY-Rt.top-ce.clientTop]}n.touch=function(ce,Ee,He){if(arguments.length<3&&(He=Ee,Ee=fe().changedTouches),Ee){for(var tt=0,ot=Ee.length,ht;tt<ot;++tt)if((ht=Ee[tt]).identifier===He)return ke(ce,ht)}},n.behavior.drag=function(){var ce=oe(ot,"drag","dragstart","dragend"),Ee=null,He=ht(Y,n.mouse,r,"mousemove","mouseup"),tt=ht(Ue,n.touch,V,"touchmove","touchend");function ot(){this.on("mousedown.drag",He).on("touchstart.drag",tt)}function ht(Rt,At,Ut,Vt,ar){return function(){var Rr=this,kr=n.event.target.correspondingElement||n.event.target,$r=Rr.parentNode,ln=ce.of(Rr,arguments),zr=0,Gr=Rt(),Jr=".drag"+(Gr==null?"":"-"+Gr),vn,mn=n.select(Ut(kr)).on(Vt+Jr,na).on(ar+Jr,ha),en=je(kr),Gn=At($r,Gr);Ee?(vn=Ee.apply(Rr,arguments),vn=[vn.x-Gn[0],vn.y-Gn[1]]):vn=[0,0],ln({type:"dragstart"});function na(){var ta=At($r,Gr),ua,va;ta&&(ua=ta[0]-Gn[0],va=ta[1]-Gn[1],zr|=ua|va,Gn=ta,ln({type:"drag",x:ta[0]+vn[0],y:ta[1]+vn[1],dx:ua,dy:va}))}function ha(){At($r,Gr)&&(mn.on(Vt+Jr,null).on(ar+Jr,null),en(zr),ln({type:"dragend"}))}}}return ot.origin=function(Rt){return arguments.length?(Ee=Rt,ot):Ee},n.rebind(ot,ce,"on")};function Ue(){return n.event.changedTouches[0].identifier}n.touches=function(ce,Ee){return arguments.length<2&&(Ee=fe().touches),Ee?x(Ee).map(function(He){var tt=ke(ce,He);return tt.identifier=He.identifier,tt}):[]};var Ve=1e-6,Re=Ve*Ve,de=Math.PI,be=2*de,Ne=be-Ve,Ye=de/2,at=de/180,lt=180/de;function Ht(ce,Ee,He){return(Ee[0]-ce[0])*(He[1]-ce[1])-(Ee[1]-ce[1])*(He[0]-ce[0])}function Yt(ce){return ce>1?Ye:ce<-1?-Ye:Math.asin(ce)}function Tt(ce){return((ce=Math.exp(ce))-1/ce)/2}function Lt(ce){return((ce=Math.exp(ce))+1/ce)/2}function Kt(ce){return((ce=Math.exp(2*ce))-1)/(ce+1)}var vr=Math.SQRT2,gt=2,Xt=4;n.interpolateZoom=function(ce,Ee){var He=ce[0],tt=ce[1],ot=ce[2],ht=Ee[0],Rt=Ee[1],At=Ee[2],Ut=ht-He,Vt=Rt-tt,ar=Ut*Ut+Vt*Vt,Rr,kr;if(ar<Re)kr=Math.log(At/ot)/vr,Rr=function(vn){return[He+vn*Ut,tt+vn*Vt,ot*Math.exp(vr*vn*kr)]};else{var $r=Math.sqrt(ar),ln=(At*At-ot*ot+Xt*ar)/(2*ot*gt*$r),zr=(At*At-ot*ot-Xt*ar)/(2*At*gt*$r),Gr=Math.log(Math.sqrt(ln*ln+1)-ln),Jr=Math.log(Math.sqrt(zr*zr+1)-zr);kr=(Jr-Gr)/vr,Rr=function(vn){var mn=vn*kr,en=Lt(Gr),Gn=ot/(gt*$r)*(en*Kt(vr*mn+Gr)-Tt(Gr));return[He+Gn*Ut,tt+Gn*Vt,ot*en/Lt(vr*mn+Gr)]}}return Rr.duration=kr*1e3,Rr},n.behavior.zoom=function(){var ce={x:0,y:0,k:1},Ee,He,tt,ot=[960,500],ht=$t,Rt=250,At=0,Ut="mousedown.zoom",Vt="mousemove.zoom",ar="mouseup.zoom",Rr,kr="touchstart.zoom",$r,ln=oe(mn,"zoomstart","zoom","zoomend"),zr,Gr,Jr,vn;or||(or="onwheel"in v?(mr=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(mr=function(){return n.event.wheelDelta},"mousewheel"):(mr=function(){return-n.event.detail},"MozMousePixelScroll"));function mn(ea){ea.on(Ut,Oa).on(or+".zoom",ji).on("dblclick.zoom",gi).on(kr,fi)}mn.event=function(ea){ea.each(function(){var Va=ln.of(this,arguments),Ma=ce;Or?n.select(this).transition().each("start.zoom",function(){ce=this.__chart__||{x:0,y:0,k:1},va(Va)}).tween("zoom:zoom",function(){var qa=ot[0],Ei=ot[1],ci=He?He[0]:qa/2,fo=He?He[1]:Ei/2,co=n.interpolateZoom([(ci-ce.x)/ce.k,(fo-ce.y)/ce.k,qa/ce.k],[(ci-Ma.x)/Ma.k,(fo-Ma.y)/Ma.k,qa/Ma.k]);return function(mo){var Ci=co(mo),Ro=qa/Ci[2];this.__chart__=ce={x:ci-Ci[0]*Ro,y:fo-Ci[1]*Ro,k:Ro},Ua(Va)}}).each("interrupt.zoom",function(){Ca(Va)}).each("end.zoom",function(){Ca(Va)}):(this.__chart__=ce,va(Va),Ua(Va),Ca(Va))})},mn.translate=function(ea){return arguments.length?(ce={x:+ea[0],y:+ea[1],k:ce.k},ua(),mn):[ce.x,ce.y]},mn.scale=function(ea){return arguments.length?(ce={x:ce.x,y:ce.y,k:null},na(+ea),ua(),mn):ce.k},mn.scaleExtent=function(ea){return arguments.length?(ht=ea==null?$t:[+ea[0],+ea[1]],mn):ht},mn.center=function(ea){return arguments.length?(tt=ea&&[+ea[0],+ea[1]],mn):tt},mn.size=function(ea){return arguments.length?(ot=ea&&[+ea[0],+ea[1]],mn):ot},mn.duration=function(ea){return arguments.length?(Rt=+ea,mn):Rt},mn.x=function(ea){return arguments.length?(Gr=ea,zr=ea.copy(),ce={x:0,y:0,k:1},mn):Gr},mn.y=function(ea){return arguments.length?(vn=ea,Jr=ea.copy(),ce={x:0,y:0,k:1},mn):vn};function en(ea){return[(ea[0]-ce.x)/ce.k,(ea[1]-ce.y)/ce.k]}function Gn(ea){return[ea[0]*ce.k+ce.x,ea[1]*ce.k+ce.y]}function na(ea){ce.k=Math.max(ht[0],Math.min(ht[1],ea))}function ha(ea,Va){Va=Gn(Va),ce.x+=ea[0]-Va[0],ce.y+=ea[1]-Va[1]}function ta(ea,Va,Ma,qa){ea.__chart__={x:ce.x,y:ce.y,k:ce.k},na(Math.pow(2,qa)),ha(He=Va,Ma),ea=n.select(ea),Rt>0&&(ea=ea.transition().duration(Rt)),ea.call(mn.event)}function ua(){Gr&&Gr.domain(zr.range().map(function(ea){return(ea-ce.x)/ce.k}).map(zr.invert)),vn&&vn.domain(Jr.range().map(function(ea){return(ea-ce.y)/ce.k}).map(Jr.invert))}function va(ea){At++||ea({type:"zoomstart"})}function Ua(ea){ua(),ea({type:"zoom",scale:ce.k,translate:[ce.x,ce.y]})}function Ca(ea){--At||(ea({type:"zoomend"}),He=null)}function Oa(){var ea=this,Va=ln.of(ea,arguments),Ma=0,qa=n.select(r(ea)).on(Vt,fo).on(ar,co),Ei=en(n.mouse(ea)),ci=je(ea);zt.call(ea),va(Va);function fo(){Ma=1,ha(n.mouse(ea),Ei),Ua(Va)}function co(){qa.on(Vt,null).on(ar,null),ci(Ma),Ca(Va)}}function fi(){var ea=this,Va=ln.of(ea,arguments),Ma={},qa=0,Ei,ci=".zoom-"+n.event.changedTouches[0].identifier,fo="touchmove"+ci,co="touchend"+ci,mo=[],Ci=n.select(ea),Ro=je(ea);Pa(),va(Va),Ci.on(Ut,null).on(kr,Pa);function fa(){var xo=n.touches(ea);return Ei=ce.k,xo.forEach(function(yi){yi.identifier in Ma&&(Ma[yi.identifier]=en(yi))}),xo}function Pa(){var xo=n.event.target;n.select(xo).on(fo,Zo).on(co,es),mo.push(xo);for(var yi=n.event.changedTouches,ro=0,Zi=yi.length;ro<Zi;++ro)Ma[yi[ro].identifier]=null;var Ds=fa(),Js=Date.now();if(Ds.length===1){if(Js-$r<500){var zi=Ds[0];ta(ea,zi,Ma[zi.identifier],Math.floor(Math.log(ce.k)/Math.LN2)+1),ae()}$r=Js}else if(Ds.length>1){var zi=Ds[0],cu=Ds[1],ei=zi[0]-cu[0],Oi=zi[1]-cu[1];qa=ei*ei+Oi*Oi}}function Zo(){var xo=n.touches(ea),yi,ro,Zi,Ds;zt.call(ea);for(var Js=0,zi=xo.length;Js<zi;++Js,Ds=null)if(Zi=xo[Js],Ds=Ma[Zi.identifier]){if(ro)break;yi=Zi,ro=Ds}if(Ds){var cu=(cu=Zi[0]-yi[0])*cu+(cu=Zi[1]-yi[1])*cu,ei=qa&&Math.sqrt(cu/qa);yi=[(yi[0]+Zi[0])/2,(yi[1]+Zi[1])/2],ro=[(ro[0]+Ds[0])/2,(ro[1]+Ds[1])/2],na(ei*Ei)}$r=null,ha(yi,ro),Ua(Va)}function es(){if(n.event.touches.length){for(var xo=n.event.changedTouches,yi=0,ro=xo.length;yi<ro;++yi)delete Ma[xo[yi].identifier];for(var Zi in Ma)return void fa()}n.selectAll(mo).on(ci,null),Ci.on(Ut,Oa).on(kr,fi),Ro(),Ca(Va)}}function ji(){var ea=ln.of(this,arguments);Rr?clearTimeout(Rr):(zt.call(this),Ee=en(He=tt||n.mouse(this)),va(ea)),Rr=setTimeout(function(){Rr=null,Ca(ea)},50),ae(),na(Math.pow(2,mr()*.002)*ce.k),ha(He,Ee),Ua(ea)}function gi(){var ea=n.mouse(this),Va=Math.log(ce.k)/Math.LN2;ta(this,ea,en(ea),n.event.shiftKey?Math.ceil(Va)-1:Math.floor(Va)+1)}return n.rebind(mn,ln,"on")};var $t=[0,1/0],mr,or;n.color=yt;function yt(){}yt.prototype.toString=function(){return this.rgb()+""},n.hsl=ut;function ut(ce,Ee,He){return this instanceof ut?(this.h=+ce,this.s=+Ee,void(this.l=+He)):arguments.length<2?ce instanceof ut?new ut(ce.h,ce.s,ce.l):Qt(""+ce,Wt,ut):new ut(ce,Ee,He)}var bt=ut.prototype=new yt;bt.brighter=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ut(this.h,this.s,this.l/ce)},bt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ut(this.h,this.s,ce*this.l)},bt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(ce,Ee,He){var tt,ot;ce=isNaN(ce)?0:(ce%=360)<0?ce+360:ce,Ee=isNaN(Ee)||Ee<0?0:Ee>1?1:Ee,He=He<0?0:He>1?1:He,ot=He<=.5?He*(1+Ee):He+Ee-He*Ee,tt=2*He-ot;function ht(At){return At>360?At-=360:At<0&&(At+=360),At<60?tt+(ot-tt)*At/60:At<180?ot:At<240?tt+(ot-tt)*(240-At)/60:tt}function Rt(At){return Math.round(ht(At)*255)}return new tr(Rt(ce+120),Rt(ce),Rt(ce-120))}n.hcl=It;function It(ce,Ee,He){return this instanceof It?(this.h=+ce,this.c=+Ee,void(this.l=+He)):arguments.length<2?ce instanceof It?new It(ce.h,ce.c,ce.l):ce instanceof Nt?xr(ce.l,ce.a,ce.b):xr((ce=yr((ce=n.rgb(ce)).r,ce.g,ce.b)).l,ce.a,ce.b):new It(ce,Ee,He)}var Ft=It.prototype=new yt;Ft.brighter=function(ce){return new It(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?ce:1)))},Ft.darker=function(ce){return new It(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?ce:1)))},Ft.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(ce,Ee,He){return isNaN(ce)&&(ce=0),isNaN(Ee)&&(Ee=0),new Nt(He,Math.cos(ce*=at)*Ee,Math.sin(ce)*Ee)}n.lab=Nt;function Nt(ce,Ee,He){return this instanceof Nt?(this.l=+ce,this.a=+Ee,void(this.b=+He)):arguments.length<2?ce instanceof Nt?new Nt(ce.l,ce.a,ce.b):ce instanceof It?Ot(ce.h,ce.c,ce.l):yr((ce=tr(ce)).r,ce.g,ce.b):new Nt(ce,Ee,He)}var Jt=18,hr=.95047,cr=1,dr=1.08883,fr=Nt.prototype=new yt;fr.brighter=function(ce){return new Nt(Math.min(100,this.l+Jt*(arguments.length?ce:1)),this.a,this.b)},fr.darker=function(ce){return new Nt(Math.max(0,this.l-Jt*(arguments.length?ce:1)),this.a,this.b)},fr.rgb=function(){return Lr(this.l,this.a,this.b)};function Lr(ce,Ee,He){var tt=(ce+16)/116,ot=tt+Ee/500,ht=tt-He/200;return ot=Qe(ot)*hr,tt=Qe(tt)*cr,ht=Qe(ht)*dr,new tr(er(3.2404542*ot-1.5371385*tt-.4985314*ht),er(-.969266*ot+1.8760108*tt+.041556*ht),er(.0556434*ot-.2040259*tt+1.0572252*ht))}function xr(ce,Ee,He){return ce>0?new It(Math.atan2(He,Ee)*lt,Math.sqrt(Ee*Ee+He*He),ce):new It(NaN,NaN,ce)}function Qe(ce){return ce>.206893034?ce*ce*ce:(ce-.13793103448275862)/7.787037}function rt(ce){return ce>.008856?Math.pow(ce,.3333333333333333):7.787037*ce+.13793103448275862}function er(ce){return Math.round(255*(ce<=.00304?12.92*ce:1.055*Math.pow(ce,.4166666666666667)-.055))}n.rgb=tr;function tr(ce,Ee,He){return this instanceof tr?(this.r=~~ce,this.g=~~Ee,void(this.b=~~He)):arguments.length<2?ce instanceof tr?new tr(ce.r,ce.g,ce.b):Qt(""+ce,tr,Et):new tr(ce,Ee,He)}function jt(ce){return new tr(ce>>16,ce>>8&255,ce&255)}function Pt(ce){return jt(ce)+""}var Zt=tr.prototype=new yt;Zt.brighter=function(ce){ce=Math.pow(.7,arguments.length?ce:1);var Ee=this.r,He=this.g,tt=this.b,ot=30;return!Ee&&!He&&!tt?new tr(ot,ot,ot):(Ee&&Ee<ot&&(Ee=ot),He&&He<ot&&(He=ot),tt&&tt<ot&&(tt=ot),new tr(Math.min(255,Ee/ce),Math.min(255,He/ce),Math.min(255,tt/ce)))},Zt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new tr(ce*this.r,ce*this.g,ce*this.b)},Zt.hsl=function(){return Wt(this.r,this.g,this.b)},Zt.toString=function(){return"#"+nr(this.r)+nr(this.g)+nr(this.b)};function nr(ce){return ce<16?"0"+Math.max(0,ce).toString(16):Math.min(255,ce).toString(16)}function Qt(ce,Ee,He){var tt=0,ot=0,ht=0,Rt,At,Ut;if(Rt=/([a-z]+)\((.*)\)/.exec(ce=ce.toLowerCase()),Rt)switch(At=Rt[2].split(","),Rt[1]){case"hsl":return He(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Ee(Tr(At[0]),Tr(At[1]),Tr(At[2]))}return(Ut=dn.get(ce))?Ee(Ut.r,Ut.g,Ut.b):(ce!=null&&ce.charAt(0)==="#"&&!isNaN(Ut=parseInt(ce.slice(1),16))&&(ce.length===4?(tt=(Ut&3840)>>4,tt=tt>>4|tt,ot=Ut&240,ot=ot>>4|ot,ht=Ut&15,ht=ht<<4|ht):ce.length===7&&(tt=(Ut&16711680)>>16,ot=(Ut&65280)>>8,ht=Ut&255)),Ee(tt,ot,ht))}function Wt(ce,Ee,He){var tt=Math.min(ce/=255,Ee/=255,He/=255),ot=Math.max(ce,Ee,He),ht=ot-tt,Rt,At,Ut=(ot+tt)/2;return ht?(At=Ut<.5?ht/(ot+tt):ht/(2-ot-tt),ce==ot?Rt=(Ee-He)/ht+(Ee<He?6:0):Ee==ot?Rt=(He-ce)/ht+2:Rt=(ce-Ee)/ht+4,Rt*=60):(Rt=NaN,At=Ut>0&&Ut<1?0:Rt),new ut(Rt,At,Ut)}function yr(ce,Ee,He){ce=Dr(ce),Ee=Dr(Ee),He=Dr(He);var tt=rt((.4124564*ce+.3575761*Ee+.1804375*He)/hr),ot=rt((.2126729*ce+.7151522*Ee+.072175*He)/cr),ht=rt((.0193339*ce+.119192*Ee+.9503041*He)/dr);return Nt(116*ot-16,500*(tt-ot),200*(ot-ht))}function Dr(ce){return(ce/=255)<=.04045?ce/12.92:Math.pow((ce+.055)/1.055,2.4)}function Tr(ce){var Ee=parseFloat(ce);return ce.charAt(ce.length-1)==="%"?Math.round(Ee*2.55):Ee}var dn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});dn.forEach(function(ce,Ee){dn.set(ce,jt(Ee))});function Nr(ce){return typeof ce=="function"?ce:function(){return ce}}n.functor=Nr,n.xhr=Cn(V);function Cn(ce){return function(Ee,He,tt){return arguments.length===2&&typeof He=="function"&&(tt=He,He=null),an(Ee,He,ce,tt)}}function an(ce,Ee,He,tt){var ot={},ht=n.dispatch("beforesend","progress","load","error"),Rt={},At=new XMLHttpRequest,Ut=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(ce)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Vt:At.onreadystatechange=function(){At.readyState>3&&Vt()};function Vt(){var ar=At.status,Rr;if(!ar&&Pr(At)||ar>=200&&ar<300||ar===304){try{Rr=He.call(ot,At)}catch(kr){ht.error.call(ot,kr);return}ht.load.call(ot,Rr)}else ht.error.call(ot,At)}return At.onprogress=function(ar){var Rr=n.event;n.event=ar;try{ht.progress.call(ot,At)}finally{n.event=Rr}},ot.header=function(ar,Rr){return ar=(ar+"").toLowerCase(),arguments.length<2?Rt[ar]:(Rr==null?delete Rt[ar]:Rt[ar]=Rr+"",ot)},ot.mimeType=function(ar){return arguments.length?(Ee=ar==null?null:ar+"",ot):Ee},ot.responseType=function(ar){return arguments.length?(Ut=ar,ot):Ut},ot.response=function(ar){return He=ar,ot},["get","post"].forEach(function(ar){ot[ar]=function(){return ot.send.apply(ot,[ar].concat(x(arguments)))}}),ot.send=function(ar,Rr,kr){if(arguments.length===2&&typeof Rr=="function"&&(kr=Rr,Rr=null),At.open(ar,ce,!0),Ee!=null&&!("accept"in Rt)&&(Rt.accept=Ee+",*/*"),At.setRequestHeader)for(var $r in Rt)At.setRequestHeader($r,Rt[$r]);return Ee!=null&&At.overrideMimeType&&At.overrideMimeType(Ee),Ut!=null&&(At.responseType=Ut),kr!=null&&ot.on("error",kr).on("load",function(ln){kr(null,ln)}),ht.beforesend.call(ot,At),At.send(Rr??null),ot},ot.abort=function(){return At.abort(),ot},n.rebind(ot,ht,"on"),tt==null?ot:ot.get(gr(tt))}function gr(ce){return ce.length===1?function(Ee,He){ce(Ee==null?He:null)}:ce}function Pr(ce){var Ee=ce.responseType;return Ee&&Ee!=="text"?ce.response:ce.responseText}n.dsv=function(ce,Ee){var He=new RegExp('["'+ce+`
]`),tt=ce.charCodeAt(0);function ot(Vt,ar,Rr){arguments.length<3&&(Rr=ar,ar=null);var kr=an(Vt,Ee,ar==null?ht:Rt(ar),Rr);return kr.row=function($r){return arguments.length?kr.response((ar=$r)==null?ht:Rt($r)):ar},kr}function ht(Vt){return ot.parse(Vt.responseText)}function Rt(Vt){return function(ar){return ot.parse(ar.responseText,Vt)}}ot.parse=function(Vt,ar){var Rr;return ot.parseRows(Vt,function(kr,$r){if(Rr)return Rr(kr,$r-1);var ln=function(zr){for(var Gr={},Jr=kr.length,vn=0;vn<Jr;++vn)Gr[kr[vn]]=zr[vn];return Gr};Rr=ar?function(zr,Gr){return ar(ln(zr),Gr)}:ln})},ot.parseRows=function(Vt,ar){var Rr={},kr={},$r=[],ln=Vt.length,zr=0,Gr=0,Jr,vn;function mn(){if(zr>=ln)return kr;if(vn)return vn=!1,Rr;var Gn=zr;if(Vt.charCodeAt(Gn)===34){for(var na=Gn;na++<ln;)if(Vt.charCodeAt(na)===34){if(Vt.charCodeAt(na+1)!==34)break;++na}zr=na+2;var ha=Vt.charCodeAt(na+1);return ha===13?(vn=!0,Vt.charCodeAt(na+2)===10&&++zr):ha===10&&(vn=!0),Vt.slice(Gn+1,na).replace(/""/g,'"')}for(;zr<ln;){var ha=Vt.charCodeAt(zr++),ta=1;if(ha===10)vn=!0;else if(ha===13)vn=!0,Vt.charCodeAt(zr)===10&&(++zr,++ta);else if(ha!==tt)continue;return Vt.slice(Gn,zr-ta)}return Vt.slice(Gn)}for(;(Jr=mn())!==kr;){for(var en=[];Jr!==Rr&&Jr!==kr;)en.push(Jr),Jr=mn();ar&&(en=ar(en,Gr++))==null||$r.push(en)}return $r},ot.format=function(Vt){if(Array.isArray(Vt[0]))return ot.formatRows(Vt);var ar=new O,Rr=[];return Vt.forEach(function(kr){for(var $r in kr)ar.has($r)||Rr.push(ar.add($r))}),[Rr.map(Ut).join(ce)].concat(Vt.map(function(kr){return Rr.map(function($r){return Ut(kr[$r])}).join(ce)})).join(`
`)},ot.formatRows=function(Vt){return Vt.map(At).join(`
`)};function At(Vt){return Vt.map(Ut).join(ce)}function Ut(Vt){return He.test(Vt)?'"'+Vt.replace(/\"/g,'""')+'"':Vt}return ot},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var Xr,_r,gn,rn,An=this[F(this,"requestAnimationFrame")]||function(ce){setTimeout(ce,17)};n.timer=function(){Pn.apply(this,arguments)};function Pn(ce,Ee,He){var tt=arguments.length;tt<2&&(Ee=0),tt<3&&(He=Date.now());var ot=He+Ee,ht={c:ce,t:ot,n:null};return _r?_r.n=ht:Xr=ht,_r=ht,gn||(rn=clearTimeout(rn),gn=1,An(Wn)),ht}function Wn(){var ce=ya(),Ee=Ta()-ce;Ee>24?(isFinite(Ee)&&(clearTimeout(rn),rn=setTimeout(Wn,Ee)),gn=0):(gn=1,An(Wn))}n.timer.flush=function(){ya(),Ta()};function ya(){for(var ce=Date.now(),Ee=Xr;Ee;)ce>=Ee.t&&Ee.c(ce-Ee.t)&&(Ee.c=null),Ee=Ee.n;return ce}function Ta(){for(var ce,Ee=Xr,He=1/0;Ee;)Ee.c?(Ee.t<He&&(He=Ee.t),Ee=(ce=Ee).n):Ee=ce?ce.n=Ee.n:Xr=Ee.n;return _r=ce,He}n.round=function(ce,Ee){return Ee?Math.round(ce*(Ee=Math.pow(10,Ee)))/Ee:Math.round(ce)},n.geom={};function sa(ce){return ce[0]}function aa(ce){return ce[1]}n.geom.hull=function(ce){var Ee=sa,He=aa;if(arguments.length)return tt(ce);function tt(ot){if(ot.length<3)return[];var ht=Nr(Ee),Rt=Nr(He),At,Ut=ot.length,Vt=[],ar=[];for(At=0;At<Ut;At++)Vt.push([+ht.call(this,ot[At],At),+Rt.call(this,ot[At],At),At]);for(Vt.sort(Cr),At=0;At<Ut;At++)ar.push([Vt[At][0],-Vt[At][1]]);var Rr=kn(Vt),kr=kn(ar),$r=kr[0]===Rr[0],ln=kr[kr.length-1]===Rr[Rr.length-1],zr=[];for(At=Rr.length-1;At>=0;--At)zr.push(ot[Vt[Rr[At]][2]]);for(At=+$r;At<kr.length-ln;++At)zr.push(ot[Vt[kr[At]][2]]);return zr}return tt.x=function(ot){return arguments.length?(Ee=ot,tt):Ee},tt.y=function(ot){return arguments.length?(He=ot,tt):He},tt};function kn(ce){for(var Ee=ce.length,He=[0,1],tt=2,ot=2;ot<Ee;ot++){for(;tt>1&&Ht(ce[He[tt-2]],ce[He[tt-1]],ce[ot])<=0;)--tt;He[tt++]=ot}return He.slice(0,tt)}function Cr(ce,Ee){return ce[0]-Ee[0]||ce[1]-Ee[1]}n.geom.polygon=function(ce){return ee(ce,on),ce};var on=n.geom.polygon.prototype=[];on.area=function(){for(var ce=-1,Ee=this.length,He,tt=this[Ee-1],ot=0;++ce<Ee;)He=tt,tt=this[ce],ot+=He[1]*tt[0]-He[0]*tt[1];return ot*.5},on.centroid=function(ce){var Ee=-1,He=this.length,tt=0,ot=0,ht,Rt=this[He-1],At;for(arguments.length||(ce=-1/(6*this.area()));++Ee<He;)ht=Rt,Rt=this[Ee],At=ht[0]*Rt[1]-Rt[0]*ht[1],tt+=(ht[0]+Rt[0])*At,ot+=(ht[1]+Rt[1])*At;return[tt*ce,ot*ce]},on.clip=function(ce){for(var Ee,He=Bn(ce),tt=-1,ot=this.length-Bn(this),ht,Rt,At=this[ot-1],Ut,Vt,ar;++tt<ot;){for(Ee=ce.slice(),ce.length=0,Ut=this[tt],Vt=Ee[(Rt=Ee.length-He)-1],ht=-1;++ht<Rt;)ar=Ee[ht],sn(ar,At,Ut)?(sn(Vt,At,Ut)||ce.push(un(Vt,ar,At,Ut)),ce.push(ar)):sn(Vt,At,Ut)&&ce.push(un(Vt,ar,At,Ut)),Vt=ar;He&&ce.push(ce[0]),At=Ut}return ce};function sn(ce,Ee,He){return(He[0]-Ee[0])*(ce[1]-Ee[1])<(He[1]-Ee[1])*(ce[0]-Ee[0])}function un(ce,Ee,He,tt){var ot=ce[0],ht=He[0],Rt=Ee[0]-ot,At=tt[0]-ht,Ut=ce[1],Vt=He[1],ar=Ee[1]-Ut,Rr=tt[1]-Vt,kr=(At*(Ut-Vt)-Rr*(ot-ht))/(Rr*Rt-At*ar);return[ot+kr*Rt,Ut+kr*ar]}function Bn(ce){var Ee=ce[0],He=ce[ce.length-1];return!(Ee[0]-He[0]||Ee[1]-He[1])}var yn,Ln,Un,qn=[],da,Ia,Ar=[];function Br(){Lo(this),this.edge=this.site=this.circle=null}function Sr(ce){var Ee=qn.pop()||new Br;return Ee.site=ce,Ee}function Ur(ce){Sn(ce),Un.remove(ce),qn.push(ce),Lo(ce)}function fn(ce){var Ee=ce.circle,He=Ee.x,tt=Ee.cy,ot={x:He,y:tt},ht=ce.P,Rt=ce.N,At=[ce];Ur(ce);for(var Ut=ht;Ut.circle&&g(He-Ut.circle.x)<Ve&&g(tt-Ut.circle.cy)<Ve;)ht=Ut.P,At.unshift(Ut),Ur(Ut),Ut=ht;At.unshift(Ut),Sn(Ut);for(var Vt=Rt;Vt.circle&&g(He-Vt.circle.x)<Ve&&g(tt-Vt.circle.cy)<Ve;)Rt=Vt.N,At.push(Vt),Ur(Vt),Vt=Rt;At.push(Vt),Sn(Vt);var ar=At.length,Rr;for(Rr=1;Rr<ar;++Rr)Vt=At[Rr],Ut=At[Rr-1],Ra(Vt.edge,Ut.site,Vt.site,ot);Ut=At[0],Vt=At[ar-1],Vt.edge=Kn(Ut.site,Vt.site,null,ot),Tn(Ut),Tn(Vt)}function Dn(ce){for(var Ee=ce.x,He=ce.y,tt,ot,ht,Rt,At=Un._;At;)if(ht=xn(At,He)-Ee,ht>Ve)At=At.L;else if(Rt=Ee-hn(At,He),Rt>Ve){if(!At.R){tt=At;break}At=At.R}else{ht>-Ve?(tt=At.P,ot=At):Rt>-Ve?(tt=At,ot=At.N):tt=ot=At;break}var Ut=Sr(ce);if(Un.insert(tt,Ut),!(!tt&&!ot)){if(tt===ot){Sn(tt),ot=Sr(tt.site),Un.insert(Ut,ot),Ut.edge=ot.edge=Kn(tt.site,Ut.site),Tn(tt),Tn(ot);return}if(!ot){Ut.edge=Kn(tt.site,Ut.site);return}Sn(tt),Sn(ot);var Vt=tt.site,ar=Vt.x,Rr=Vt.y,kr=ce.x-ar,$r=ce.y-Rr,ln=ot.site,zr=ln.x-ar,Gr=ln.y-Rr,Jr=2*(kr*Gr-$r*zr),vn=kr*kr+$r*$r,mn=zr*zr+Gr*Gr,en={x:(Gr*vn-$r*mn)/Jr+ar,y:(kr*mn-zr*vn)/Jr+Rr};Ra(ot.edge,Vt,ln,en),Ut.edge=Kn(Vt,ce,null,en),ot.edge=Kn(ce,ln,null,en),Tn(tt),Tn(ot)}}function xn(ce,Ee){var He=ce.site,tt=He.x,ot=He.y,ht=ot-Ee;if(!ht)return tt;var Rt=ce.P;if(!Rt)return-1/0;He=Rt.site;var At=He.x,Ut=He.y,Vt=Ut-Ee;if(!Vt)return At;var ar=At-tt,Rr=1/ht-1/Vt,kr=ar/Vt;return Rr?(-kr+Math.sqrt(kr*kr-2*Rr*(ar*ar/(-2*Vt)-Ut+Vt/2+ot-ht/2)))/Rr+tt:(tt+At)/2}function hn(ce,Ee){var He=ce.N;if(He)return xn(He,Ee);var tt=ce.site;return tt.y===Ee?tt.x:1/0}function Er(ce){this.site=ce,this.edges=[]}Er.prototype.prepare=function(){for(var ce=this.edges,Ee=ce.length,He;Ee--;)He=ce[Ee].edge,(!He.b||!He.a)&&ce.splice(Ee,1);return ce.sort(Wr),ce.length};function Yr(ce){for(var Ee=ce[0][0],He=ce[1][0],tt=ce[0][1],ot=ce[1][1],ht,Rt,At,Ut,Vt=Ln,ar=Vt.length,Rr,kr,$r,ln,zr,Gr;ar--;)if(Rr=Vt[ar],!(!Rr||!Rr.prepare()))for($r=Rr.edges,ln=$r.length,kr=0;kr<ln;)Gr=$r[kr].end(),At=Gr.x,Ut=Gr.y,zr=$r[++kr%ln].start(),ht=zr.x,Rt=zr.y,(g(At-ht)>Ve||g(Ut-Rt)>Ve)&&($r.splice(kr,0,new wi(la(Rr.site,Gr,g(At-Ee)<Ve&&ot-Ut>Ve?{x:Ee,y:g(ht-Ee)<Ve?Rt:ot}:g(Ut-ot)<Ve&&He-At>Ve?{x:g(Rt-ot)<Ve?ht:He,y:ot}:g(At-He)<Ve&&Ut-tt>Ve?{x:He,y:g(ht-He)<Ve?Rt:tt}:g(Ut-tt)<Ve&&At-Ee>Ve?{x:g(Rt-tt)<Ve?ht:Ee,y:tt}:null),Rr.site,null)),++ln)}function Wr(ce,Ee){return Ee.angle-ce.angle}function qr(){Lo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tn(ce){var Ee=ce.P,He=ce.N;if(!(!Ee||!He)){var tt=Ee.site,ot=ce.site,ht=He.site;if(tt!==ht){var Rt=ot.x,At=ot.y,Ut=tt.x-Rt,Vt=tt.y-At,ar=ht.x-Rt,Gr=ht.y-At,Rr=2*(Ut*Gr-Vt*ar);if(!(Rr>=-Re)){var kr=Ut*Ut+Vt*Vt,$r=ar*ar+Gr*Gr,ln=(Gr*kr-Vt*$r)/Rr,zr=(Ut*$r-ar*kr)/Rr,Gr=zr+At,Jr=Ar.pop()||new qr;Jr.arc=ce,Jr.site=ot,Jr.x=ln+Rt,Jr.y=Gr+Math.sqrt(ln*ln+zr*zr),Jr.cy=Gr,ce.circle=Jr;for(var vn=null,mn=Ia._;mn;)if(Jr.y<mn.y||Jr.y===mn.y&&Jr.x<=mn.x)if(mn.L)mn=mn.L;else{vn=mn.P;break}else if(mn.R)mn=mn.R;else{vn=mn;break}Ia.insert(vn,Jr),vn||(da=Jr)}}}}function Sn(ce){var Ee=ce.circle;Ee&&(Ee.P||(da=Ee.N),Ia.remove(Ee),Ar.push(Ee),Lo(Ee),ce.circle=null)}function Nn(ce,Ee,He,tt){return function(ot){var ht=ot.a,Rt=ot.b,At=ht.x,Ut=ht.y,Vt=Rt.x,ar=Rt.y,Rr=0,kr=1,$r=Vt-At,ln=ar-Ut,zr;if(zr=ce-At,!(!$r&&zr>0)){if(zr/=$r,$r<0){if(zr<Rr)return;zr<kr&&(kr=zr)}else if($r>0){if(zr>kr)return;zr>Rr&&(Rr=zr)}if(zr=He-At,!(!$r&&zr<0)){if(zr/=$r,$r<0){if(zr>kr)return;zr>Rr&&(Rr=zr)}else if($r>0){if(zr<Rr)return;zr<kr&&(kr=zr)}if(zr=Ee-Ut,!(!ln&&zr>0)){if(zr/=ln,ln<0){if(zr<Rr)return;zr<kr&&(kr=zr)}else if(ln>0){if(zr>kr)return;zr>Rr&&(Rr=zr)}if(zr=tt-Ut,!(!ln&&zr<0)){if(zr/=ln,ln<0){if(zr>kr)return;zr>Rr&&(Rr=zr)}else if(ln>0){if(zr<Rr)return;zr<kr&&(kr=zr)}return Rr>0&&(ot.a={x:At+Rr*$r,y:Ut+Rr*ln}),kr<1&&(ot.b={x:At+kr*$r,y:Ut+kr*ln}),ot}}}}}}function Hn(ce){for(var Ee=yn,He=Nn(ce[0][0],ce[0][1],ce[1][0],ce[1][1]),tt=Ee.length,ot;tt--;)ot=Ee[tt],(!zn(ot,ce)||!He(ot)||g(ot.a.x-ot.b.x)<Ve&&g(ot.a.y-ot.b.y)<Ve)&&(ot.a=ot.b=null,Ee.splice(tt,1))}function zn(ce,Ee){var He=ce.b;if(He)return!0;var tt=ce.a,ot=Ee[0][0],ht=Ee[1][0],Rt=Ee[0][1],At=Ee[1][1],Ut=ce.l,Vt=ce.r,ar=Ut.x,Rr=Ut.y,kr=Vt.x,$r=Vt.y,ln=(ar+kr)/2,zr=(Rr+$r)/2,Gr,Jr;if($r===Rr){if(ln<ot||ln>=ht)return;if(ar>kr){if(!tt)tt={x:ln,y:Rt};else if(tt.y>=At)return;He={x:ln,y:At}}else{if(!tt)tt={x:ln,y:At};else if(tt.y<Rt)return;He={x:ln,y:Rt}}}else if(Gr=(ar-kr)/($r-Rr),Jr=zr-Gr*ln,Gr<-1||Gr>1)if(ar>kr){if(!tt)tt={x:(Rt-Jr)/Gr,y:Rt};else if(tt.y>=At)return;He={x:(At-Jr)/Gr,y:At}}else{if(!tt)tt={x:(At-Jr)/Gr,y:At};else if(tt.y<Rt)return;He={x:(Rt-Jr)/Gr,y:Rt}}else if(Rr<$r){if(!tt)tt={x:ot,y:Gr*ot+Jr};else if(tt.x>=ht)return;He={x:ht,y:Gr*ht+Jr}}else{if(!tt)tt={x:ht,y:Gr*ht+Jr};else if(tt.x<ot)return;He={x:ot,y:Gr*ot+Jr}}return ce.a=tt,ce.b=He,!0}function Yn(ce,Ee){this.l=ce,this.r=Ee,this.a=this.b=null}function Kn(ce,Ee,He,tt){var ot=new Yn(ce,Ee);return yn.push(ot),He&&Ra(ot,ce,Ee,He),tt&&Ra(ot,Ee,ce,tt),Ln[ce.i].edges.push(new wi(ot,ce,Ee)),Ln[Ee.i].edges.push(new wi(ot,Ee,ce)),ot}function la(ce,Ee,He){var tt=new Yn(ce,null);return tt.a=Ee,tt.b=He,yn.push(tt),tt}function Ra(ce,Ee,He,tt){!ce.a&&!ce.b?(ce.a=tt,ce.l=Ee,ce.r=He):ce.l===He?ce.b=tt:ce.a=tt}function wi(ce,Ee,He){var tt=ce.a,ot=ce.b;this.edge=ce,this.site=Ee,this.angle=He?Math.atan2(He.y-Ee.y,He.x-Ee.x):ce.l===Ee?Math.atan2(ot.x-tt.x,tt.y-ot.y):Math.atan2(tt.x-ot.x,ot.y-tt.y)}wi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ii(){this._=null}function Lo(ce){ce.U=ce.C=ce.L=ce.R=ce.P=ce.N=null}ii.prototype={insert:function(ce,Ee){var He,tt,ot;if(ce){if(Ee.P=ce,Ee.N=ce.N,ce.N&&(ce.N.P=Ee),ce.N=Ee,ce.R){for(ce=ce.R;ce.L;)ce=ce.L;ce.L=Ee}else ce.R=Ee;He=ce}else this._?(ce=Vs(this._),Ee.P=null,Ee.N=ce,ce.P=ce.L=Ee,He=ce):(Ee.P=Ee.N=null,this._=Ee,He=null);for(Ee.L=Ee.R=null,Ee.U=He,Ee.C=!0,ce=Ee;He&&He.C;)tt=He.U,He===tt.L?(ot=tt.R,ot&&ot.C?(He.C=ot.C=!1,tt.C=!0,ce=tt):(ce===He.R&&(Wo(this,He),ce=He,He=ce.U),He.C=!1,tt.C=!0,po(this,tt))):(ot=tt.L,ot&&ot.C?(He.C=ot.C=!1,tt.C=!0,ce=tt):(ce===He.L&&(po(this,He),ce=He,He=ce.U),He.C=!1,tt.C=!0,Wo(this,tt))),He=ce.U;this._.C=!1},remove:function(ce){ce.N&&(ce.N.P=ce.P),ce.P&&(ce.P.N=ce.N),ce.N=ce.P=null;var Ee=ce.U,He,tt=ce.L,ot=ce.R,ht,Rt;if(tt?ot?ht=Vs(ot):ht=tt:ht=ot,Ee?Ee.L===ce?Ee.L=ht:Ee.R=ht:this._=ht,tt&&ot?(Rt=ht.C,ht.C=ce.C,ht.L=tt,tt.U=ht,ht!==ot?(Ee=ht.U,ht.U=ce.U,ce=ht.R,Ee.L=ce,ht.R=ot,ot.U=ht):(ht.U=Ee,Ee=ht,ce=ht.R)):(Rt=ce.C,ce=ht),ce&&(ce.U=Ee),!Rt){if(ce&&ce.C){ce.C=!1;return}do{if(ce===this._)break;if(ce===Ee.L){if(He=Ee.R,He.C&&(He.C=!1,Ee.C=!0,Wo(this,Ee),He=Ee.R),He.L&&He.L.C||He.R&&He.R.C){(!He.R||!He.R.C)&&(He.L.C=!1,He.C=!0,po(this,He),He=Ee.R),He.C=Ee.C,Ee.C=He.R.C=!1,Wo(this,Ee),ce=this._;break}}else if(He=Ee.L,He.C&&(He.C=!1,Ee.C=!0,po(this,Ee),He=Ee.L),He.L&&He.L.C||He.R&&He.R.C){(!He.L||!He.L.C)&&(He.R.C=!1,He.C=!0,Wo(this,He),He=Ee.L),He.C=Ee.C,Ee.C=He.L.C=!1,po(this,Ee),ce=this._;break}He.C=!0,ce=Ee,Ee=Ee.U}while(!ce.C);ce&&(ce.C=!1)}}};function Wo(ce,Ee){var He=Ee,tt=Ee.R,ot=He.U;ot?ot.L===He?ot.L=tt:ot.R=tt:ce._=tt,tt.U=ot,He.U=tt,He.R=tt.L,He.R&&(He.R.U=He),tt.L=He}function po(ce,Ee){var He=Ee,tt=Ee.L,ot=He.U;ot?ot.L===He?ot.L=tt:ot.R=tt:ce._=tt,tt.U=ot,He.U=tt,He.L=tt.R,He.L&&(He.L.U=He),tt.R=He}function Vs(ce){for(;ce.L;)ce=ce.L;return ce}function Yl(ce,Ee){var He=ce.sort(Eu).pop(),tt,ot,ht;for(yn=[],Ln=new Array(ce.length),Un=new ii,Ia=new ii;;)if(ht=da,He&&(!ht||He.y<ht.y||He.y===ht.y&&He.x<ht.x))(He.x!==tt||He.y!==ot)&&(Ln[He.i]=new Er(He),Dn(He),tt=He.x,ot=He.y),He=ce.pop();else if(ht)fn(ht.arc);else break;Ee&&(Hn(Ee),Yr(Ee));var Rt={cells:Ln,edges:yn};return Un=Ia=yn=Ln=null,Rt}function Eu(ce,Ee){return Ee.y-ce.y||Ee.x-ce.x}n.geom.voronoi=function(ce){var Ee=sa,He=aa,tt=Ee,ot=He,ht=oi;if(ce)return Rt(ce);function Rt(Ut){var Vt=new Array(Ut.length),ar=ht[0][0],Rr=ht[0][1],kr=ht[1][0],$r=ht[1][1];return Yl(At(Ut),ht).cells.forEach(function(ln,zr){var Gr=ln.edges,Jr=ln.site,vn=Vt[zr]=Gr.length?Gr.map(function(mn){var en=mn.start();return[en.x,en.y]}):Jr.x>=ar&&Jr.x<=kr&&Jr.y>=Rr&&Jr.y<=$r?[[ar,$r],[kr,$r],[kr,Rr],[ar,Rr]]:[];vn.point=Ut[zr]}),Vt}function At(Ut){return Ut.map(function(Vt,ar){return{x:Math.round(tt(Vt,ar)/Ve)*Ve,y:Math.round(ot(Vt,ar)/Ve)*Ve,i:ar}})}return Rt.links=function(Ut){return Yl(At(Ut)).edges.filter(function(Vt){return Vt.l&&Vt.r}).map(function(Vt){return{source:Ut[Vt.l.i],target:Ut[Vt.r.i]}})},Rt.triangles=function(Ut){var Vt=[];return Yl(At(Ut)).cells.forEach(function(ar,Rr){for(var kr=ar.site,$r=ar.edges.sort(Wr),ln=-1,zr=$r.length,Gr,Jr=$r[zr-1].edge,vn=Jr.l===kr?Jr.r:Jr.l;++ln<zr;)Gr=vn,Jr=$r[ln].edge,vn=Jr.l===kr?Jr.r:Jr.l,Rr<Gr.i&&Rr<vn.i&&Cu(kr,Gr,vn)<0&&Vt.push([Ut[Rr],Ut[Gr.i],Ut[vn.i]])}),Vt},Rt.x=function(Ut){return arguments.length?(tt=Nr(Ee=Ut),Rt):Ee},Rt.y=function(Ut){return arguments.length?(ot=Nr(He=Ut),Rt):He},Rt.clipExtent=function(Ut){return arguments.length?(ht=Ut??oi,Rt):ht===oi?null:ht},Rt.size=function(Ut){return arguments.length?Rt.clipExtent(Ut&&[[0,0],Ut]):ht===oi?null:ht&&ht[1]},Rt};var oi=[[-1e6,-1e6],[1e6,1e6]];function Cu(ce,Ee,He){return(ce.x-He.x)*(Ee.y-ce.y)-(ce.x-Ee.x)*(He.y-ce.y)}n.geom.delaunay=function(ce){return n.geom.voronoi().triangles(ce)},n.geom.quadtree=function(ce,Ee,He,tt,ot){var ht=sa,Rt=aa,At;if(At=arguments.length)return ht=Bf,Rt=so,At===3&&(ot=He,tt=Ee,He=Ee=0),Ut(ce);function Ut(Vt){var ar,Rr=Nr(ht),kr=Nr(Rt),$r,ln,zr,Gr,Jr,vn,mn,en;if(Ee!=null)Jr=Ee,vn=He,mn=tt,en=ot;else if(mn=en=-(Jr=vn=1/0),$r=[],ln=[],Gr=Vt.length,At)for(zr=0;zr<Gr;++zr)ar=Vt[zr],ar.x<Jr&&(Jr=ar.x),ar.y<vn&&(vn=ar.y),ar.x>mn&&(mn=ar.x),ar.y>en&&(en=ar.y),$r.push(ar.x),ln.push(ar.y);else for(zr=0;zr<Gr;++zr){var Gn=+Rr(ar=Vt[zr],zr),na=+kr(ar,zr);Gn<Jr&&(Jr=Gn),na<vn&&(vn=na),Gn>mn&&(mn=Gn),na>en&&(en=na),$r.push(Gn),ln.push(na)}var ha=mn-Jr,ta=en-vn;ha>ta?en=vn+ha:mn=Jr+ta;function ua(Ca,Oa,fi,ji,gi,ea,Va,Ma){if(!(isNaN(fi)||isNaN(ji)))if(Ca.leaf){var qa=Ca.x,Ei=Ca.y;if(qa!=null)if(g(qa-fi)+g(Ei-ji)<.01)va(Ca,Oa,fi,ji,gi,ea,Va,Ma);else{var ci=Ca.point;Ca.x=Ca.y=Ca.point=null,va(Ca,ci,qa,Ei,gi,ea,Va,Ma),va(Ca,Oa,fi,ji,gi,ea,Va,Ma)}else Ca.x=fi,Ca.y=ji,Ca.point=Oa}else va(Ca,Oa,fi,ji,gi,ea,Va,Ma)}function va(Ca,Oa,fi,ji,gi,ea,Va,Ma){var qa=(gi+Va)*.5,Ei=(ea+Ma)*.5,ci=fi>=qa,fo=ji>=Ei,co=fo<<1|ci;Ca.leaf=!1,Ca=Ca.nodes[co]||(Ca.nodes[co]=zo()),ci?gi=qa:Va=qa,fo?ea=Ei:Ma=Ei,ua(Ca,Oa,fi,ji,gi,ea,Va,Ma)}var Ua=zo();if(Ua.add=function(Ca){ua(Ua,Ca,+Rr(Ca,++zr),+kr(Ca,zr),Jr,vn,mn,en)},Ua.visit=function(Ca){Xl(Ca,Ua,Jr,vn,mn,en)},Ua.find=function(Ca){return uf(Ua,Ca[0],Ca[1],Jr,vn,mn,en)},zr=-1,Ee==null){for(;++zr<Gr;)ua(Ua,Vt[zr],$r[zr],ln[zr],Jr,vn,mn,en);--zr}else Vt.forEach(Ua.add);return $r=ln=Vt=ar=null,Ua}return Ut.x=function(Vt){return arguments.length?(ht=Vt,Ut):ht},Ut.y=function(Vt){return arguments.length?(Rt=Vt,Ut):Rt},Ut.extent=function(Vt){return arguments.length?(Vt==null?Ee=He=tt=ot=null:(Ee=+Vt[0][0],He=+Vt[0][1],tt=+Vt[1][0],ot=+Vt[1][1]),Ut):Ee==null?null:[[Ee,He],[tt,ot]]},Ut.size=function(Vt){return arguments.length?(Vt==null?Ee=He=tt=ot=null:(Ee=He=0,tt=+Vt[0],ot=+Vt[1]),Ut):Ee==null?null:[tt-Ee,ot-He]},Ut};function Bf(ce){return ce.x}function so(ce){return ce.y}function zo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Xl(ce,Ee,He,tt,ot,ht){if(!ce(Ee,He,tt,ot,ht)){var Rt=(He+ot)*.5,At=(tt+ht)*.5,Ut=Ee.nodes;Ut[0]&&Xl(ce,Ut[0],He,tt,Rt,At),Ut[1]&&Xl(ce,Ut[1],Rt,tt,ot,At),Ut[2]&&Xl(ce,Ut[2],He,At,Rt,ht),Ut[3]&&Xl(ce,Ut[3],Rt,At,ot,ht)}}function uf(ce,Ee,He,tt,ot,ht,Rt){var At=1/0,Ut;return function Vt(ar,Rr,kr,$r,ln){if(!(Rr>ht||kr>Rt||$r<tt||ln<ot)){if(zr=ar.point){var zr,Gr=Ee-ar.x,Jr=He-ar.y,vn=Gr*Gr+Jr*Jr;if(vn<At){var mn=Math.sqrt(At=vn);tt=Ee-mn,ot=He-mn,ht=Ee+mn,Rt=He+mn,Ut=zr}}for(var en=ar.nodes,Gn=(Rr+$r)*.5,na=(kr+ln)*.5,ha=Ee>=Gn,ta=He>=na,ua=ta<<1|ha,va=ua+4;ua<va;++ua)if(ar=en[ua&3])switch(ua&3){case 0:Vt(ar,Rr,kr,Gn,na);break;case 1:Vt(ar,Gn,kr,$r,na);break;case 2:Vt(ar,Rr,na,Gn,ln);break;case 3:Vt(ar,Gn,na,$r,ln);break}}}(ce,tt,ot,ht,Rt),Ut}n.interpolateRgb=Hi;function Hi(ce,Ee){ce=n.rgb(ce),Ee=n.rgb(Ee);var He=ce.r,tt=ce.g,ot=ce.b,ht=Ee.r-He,Rt=Ee.g-tt,At=Ee.b-ot;return function(Ut){return"#"+nr(Math.round(He+ht*Ut))+nr(Math.round(tt+Rt*Ut))+nr(Math.round(ot+At*Ut))}}n.interpolateObject=Zl;function Zl(ce,Ee){var He={},tt={},ot;for(ot in ce)ot in Ee?He[ot]=yo(ce[ot],Ee[ot]):tt[ot]=ce[ot];for(ot in Ee)ot in ce||(tt[ot]=Ee[ot]);return function(ht){for(ot in He)tt[ot]=He[ot](ht);return tt}}n.interpolateNumber=Wi;function Wi(ce,Ee){return ce=+ce,Ee=+Ee,function(He){return ce*(1-He)+Ee*He}}n.interpolateString=eo;function eo(ce,Ee){var He=Kl.lastIndex=go.lastIndex=0,tt,ot,ht,Rt=-1,At=[],Ut=[];for(ce=ce+"",Ee=Ee+"";(tt=Kl.exec(ce))&&(ot=go.exec(Ee));)(ht=ot.index)>He&&(ht=Ee.slice(He,ht),At[Rt]?At[Rt]+=ht:At[++Rt]=ht),(tt=tt[0])===(ot=ot[0])?At[Rt]?At[Rt]+=ot:At[++Rt]=ot:(At[++Rt]=null,Ut.push({i:Rt,x:Wi(tt,ot)})),He=go.lastIndex;return He<Ee.length&&(ht=Ee.slice(He),At[Rt]?At[Rt]+=ht:At[++Rt]=ht),At.length<2?Ut[0]?(Ee=Ut[0].x,function(Vt){return Ee(Vt)+""}):function(){return Ee}:(Ee=Ut.length,function(Vt){for(var ar=0,Rr;ar<Ee;++ar)At[(Rr=Ut[ar]).i]=Rr.x(Vt);return At.join("")})}var Kl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(Kl.source,"g");n.interpolate=yo;function yo(ce,Ee){for(var He=n.interpolators.length,tt;--He>=0&&!(tt=n.interpolators[He](ce,Ee)););return tt}n.interpolators=[function(ce,Ee){var He=typeof Ee;return(He==="string"?dn.has(Ee.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ee)?Hi:eo:Ee instanceof yt?Hi:Array.isArray(Ee)?$o:He==="object"&&isNaN(Ee)?Zl:Wi)(ce,Ee)}],n.interpolateArray=$o;function $o(ce,Ee){var He=[],tt=[],ot=ce.length,ht=Ee.length,Rt=Math.min(ce.length,Ee.length),At;for(At=0;At<Rt;++At)He.push(yo(ce[At],Ee[At]));for(;At<ot;++At)tt[At]=ce[At];for(;At<ht;++At)tt[At]=Ee[At];return function(Ut){for(At=0;At<Rt;++At)tt[At]=He[At](Ut);return tt}}var Sc=function(){return V},jo=n.map({linear:Sc,poly:Mc,quad:function(){return nl},cubic:function(){return Ps},sin:function(){return Rh},exp:function(){return ff},circle:function(){return kh},elastic:Dh,back:Ih,bounce:function(){return Vf}}),Ph=n.map({in:V,out:lo,"in-out":Uf,"out-in":function(ce){return Uf(lo(ce))}});n.ease=function(ce){var Ee=ce.indexOf("-"),He=Ee>=0?ce.slice(0,Ee):ce,tt=Ee>=0?ce.slice(Ee+1):"in";return He=jo.get(He)||Sc,tt=Ph.get(tt)||V,Ls(tt(He.apply(null,C.call(arguments,1))))};function Ls(ce){return function(Ee){return Ee<=0?0:Ee>=1?1:ce(Ee)}}function lo(ce){return function(Ee){return 1-ce(1-Ee)}}function Uf(ce){return function(Ee){return .5*(Ee<.5?ce(2*Ee):2-ce(2-2*Ee))}}function nl(ce){return ce*ce}function Ps(ce){return ce*ce*ce}function Hf(ce){if(ce<=0)return 0;if(ce>=1)return 1;var Ee=ce*ce,He=Ee*ce;return 4*(ce<.5?He:3*(ce-Ee)+He-.75)}function Mc(ce){return function(Ee){return Math.pow(Ee,ce)}}function Rh(ce){return 1-Math.cos(ce*Ye)}function ff(ce){return Math.pow(2,10*(ce-1))}function kh(ce){return 1-Math.sqrt(1-ce*ce)}function Dh(ce,Ee){var He;return arguments.length<2&&(Ee=.45),arguments.length?He=Ee/be*Math.asin(1/ce):(ce=1,He=Ee/4),function(tt){return 1+ce*Math.pow(2,-10*tt)*Math.sin((tt-He)*be/Ee)}}function Ih(ce){return ce||(ce=1.70158),function(Ee){return Ee*Ee*((ce+1)*Ee-ce)}}function Vf(ce){return ce<.36363636363636365?7.5625*ce*ce:ce<.7272727272727273?7.5625*(ce-=.5454545454545454)*ce+.75:ce<.9090909090909091?7.5625*(ce-=.8181818181818182)*ce+.9375:7.5625*(ce-=.9545454545454546)*ce+.984375}n.interpolateHcl=_h;function _h(ce,Ee){ce=n.hcl(ce),Ee=n.hcl(Ee);var He=ce.h,tt=ce.c,ot=ce.l,ht=Ee.h-He,Rt=Ee.c-tt,At=Ee.l-ot;return isNaN(Rt)&&(Rt=0,tt=isNaN(tt)?Ee.c:tt),isNaN(ht)?(ht=0,He=isNaN(He)?Ee.h:He):ht>180?ht-=360:ht<-180&&(ht+=360),function(Ut){return Ot(He+ht*Ut,tt+Rt*Ut,ot+At*Ut)+""}}n.interpolateHsl=zh;function zh(ce,Ee){ce=n.hsl(ce),Ee=n.hsl(Ee);var He=ce.h,tt=ce.s,ot=ce.l,ht=Ee.h-He,Rt=Ee.s-tt,At=Ee.l-ot;return isNaN(Rt)&&(Rt=0,tt=isNaN(tt)?Ee.s:tt),isNaN(ht)?(ht=0,He=isNaN(He)?Ee.h:He):ht>180?ht-=360:ht<-180&&(ht+=360),function(Ut){return Et(He+ht*Ut,tt+Rt*Ut,ot+At*Ut)+""}}n.interpolateLab=Ec;function Ec(ce,Ee){ce=n.lab(ce),Ee=n.lab(Ee);var He=ce.l,tt=ce.a,ot=ce.b,ht=Ee.l-He,Rt=Ee.a-tt,At=Ee.b-ot;return function(Ut){return Lr(He+ht*Ut,tt+Rt*Ut,ot+At*Ut)+""}}n.interpolateRound=Cc;function Cc(ce,Ee){return Ee-=ce,function(He){return Math.round(ce+Ee*He)}}n.transform=function(ce){var Ee=v.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(He){if(He!=null){Ee.setAttribute("transform",He);var tt=Ee.transform.baseVal.consolidate()}return new El(tt?tt.matrix:Lc)})(ce)};function El(ce){var Ee=[ce.a,ce.b],He=[ce.c,ce.d],tt=Lu(Ee),ot=Jl(Ee,He),ht=Lu(Pu(He,Ee,-ot))||0;Ee[0]*He[1]<He[0]*Ee[1]&&(Ee[0]*=-1,Ee[1]*=-1,tt*=-1,ot*=-1),this.rotate=(tt?Math.atan2(Ee[1],Ee[0]):Math.atan2(-He[0],He[1]))*lt,this.translate=[ce.e,ce.f],this.scale=[tt,ht],this.skew=ht?Math.atan2(ot,ht)*lt:0}El.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Jl(ce,Ee){return ce[0]*Ee[0]+ce[1]*Ee[1]}function Lu(ce){var Ee=Math.sqrt(Jl(ce,ce));return Ee&&(ce[0]/=Ee,ce[1]/=Ee),Ee}function Pu(ce,Ee,He){return ce[0]+=He*Ee[0],ce[1]+=He*Ee[1],ce}var Lc={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=hf;function Gs(ce){return ce.length?ce.pop()+",":""}function Oh(ce,Ee,He,tt){if(ce[0]!==Ee[0]||ce[1]!==Ee[1]){var ot=He.push("translate(",null,",",null,")");tt.push({i:ot-4,x:Wi(ce[0],Ee[0])},{i:ot-2,x:Wi(ce[1],Ee[1])})}else(Ee[0]||Ee[1])&&He.push("translate("+Ee+")")}function cf(ce,Ee,He,tt){ce!==Ee?(ce-Ee>180?Ee+=360:Ee-ce>180&&(ce+=360),tt.push({i:He.push(Gs(He)+"rotate(",null,")")-2,x:Wi(ce,Ee)})):Ee&&He.push(Gs(He)+"rotate("+Ee+")")}function Pc(ce,Ee,He,tt){ce!==Ee?tt.push({i:He.push(Gs(He)+"skewX(",null,")")-2,x:Wi(ce,Ee)}):Ee&&He.push(Gs(He)+"skewX("+Ee+")")}function Rc(ce,Ee,He,tt){if(ce[0]!==Ee[0]||ce[1]!==Ee[1]){var ot=He.push(Gs(He)+"scale(",null,",",null,")");tt.push({i:ot-4,x:Wi(ce[0],Ee[0])},{i:ot-2,x:Wi(ce[1],Ee[1])})}else(Ee[0]!==1||Ee[1]!==1)&&He.push(Gs(He)+"scale("+Ee+")")}function hf(ce,Ee){var He=[],tt=[];return ce=n.transform(ce),Ee=n.transform(Ee),Oh(ce.translate,Ee.translate,He,tt),cf(ce.rotate,Ee.rotate,He,tt),Pc(ce.skew,Ee.skew,He,tt),Rc(ce.scale,Ee.scale,He,tt),ce=Ee=null,function(ot){for(var ht=-1,Rt=tt.length,At;++ht<Rt;)He[(At=tt[ht]).i]=At.x(ot);return He.join("")}}function cs(ce,Ee){return Ee=(Ee-=ce=+ce)||1/Ee,function(He){return(He-ce)/Ee}}function Ql(ce,Ee){return Ee=(Ee-=ce=+ce)||1/Ee,function(He){return Math.max(0,Math.min(1,(He-ce)/Ee))}}n.layout={},n.layout.bundle=function(){return function(ce){for(var Ee=[],He=-1,tt=ce.length;++He<tt;)Ee.push(Cl(ce[He]));return Ee}};function Cl(ce){for(var Ee=ce.source,He=ce.target,tt=al(Ee,He),ot=[Ee];Ee!==tt;)Ee=Ee.parent,ot.push(Ee);for(var ht=ot.length;He!==tt;)ot.splice(ht,0,He),He=He.parent;return ot}function Ru(ce){for(var Ee=[],He=ce.parent;He!=null;)Ee.push(ce),ce=He,He=He.parent;return Ee.push(ce),Ee}function al(ce,Ee){if(ce===Ee)return ce;for(var He=Ru(ce),tt=Ru(Ee),ot=He.pop(),ht=tt.pop(),Rt=null;ot===ht;)Rt=ot,ot=He.pop(),ht=tt.pop();return Rt}n.layout.chord=function(){var ce={},Ee,He,tt,ot,ht=0,Rt,At,Ut;function Vt(){var Rr={},kr=[],$r=n.range(ot),ln=[],zr,Gr,Jr,vn,mn;for(Ee=[],He=[],zr=0,vn=-1;++vn<ot;){for(Gr=0,mn=-1;++mn<ot;)Gr+=tt[vn][mn];kr.push(Gr),ln.push(n.range(ot)),zr+=Gr}for(Rt&&$r.sort(function(Ua,Ca){return Rt(kr[Ua],kr[Ca])}),At&&ln.forEach(function(Ua,Ca){Ua.sort(function(Oa,fi){return At(tt[Ca][Oa],tt[Ca][fi])})}),zr=(be-ht*ot)/zr,Gr=0,vn=-1;++vn<ot;){for(Jr=Gr,mn=-1;++mn<ot;){var en=$r[vn],Gn=ln[en][mn],na=tt[en][Gn],ha=Gr,ta=Gr+=na*zr;Rr[en+"-"+Gn]={index:en,subindex:Gn,startAngle:ha,endAngle:ta,value:na}}He[en]={index:en,startAngle:Jr,endAngle:Gr,value:kr[en]},Gr+=ht}for(vn=-1;++vn<ot;)for(mn=vn-1;++mn<ot;){var ua=Rr[vn+"-"+mn],va=Rr[mn+"-"+vn];(ua.value||va.value)&&Ee.push(ua.value<va.value?{source:va,target:ua}:{source:ua,target:va})}Ut&&ar()}function ar(){Ee.sort(function(Rr,kr){return Ut((Rr.source.value+Rr.target.value)/2,(kr.source.value+kr.target.value)/2)})}return ce.matrix=function(Rr){return arguments.length?(ot=(tt=Rr)&&tt.length,Ee=He=null,ce):tt},ce.padding=function(Rr){return arguments.length?(ht=Rr,Ee=He=null,ce):ht},ce.sortGroups=function(Rr){return arguments.length?(Rt=Rr,Ee=He=null,ce):Rt},ce.sortSubgroups=function(Rr){return arguments.length?(At=Rr,Ee=null,ce):At},ce.sortChords=function(Rr){return arguments.length?(Ut=Rr,Ee&&ar(),ce):Ut},ce.chords=function(){return Ee||Vt(),Ee},ce.groups=function(){return He||Vt(),He},ce},n.layout.force=function(){var ce={},Ee=n.dispatch("start","tick","end"),He,tt=[1,1],ot,ht,Rt=.9,At=Wf,Ut=Fh,Vt=-30,ar=vf,Rr=.1,kr=.64,$r=[],ln=[],zr,Gr,Jr;function vn(en){return function(Gn,na,ha,ta){if(Gn.point!==en){var ua=Gn.cx-en.x,va=Gn.cy-en.y,Ua=ta-na,Ca=ua*ua+va*va;if(Ua*Ua/kr<Ca){if(Ca<ar){var Oa=Gn.charge/Ca;en.px-=ua*Oa,en.py-=va*Oa}return!0}if(Gn.point&&Ca&&Ca<ar){var Oa=Gn.pointCharge/Ca;en.px-=ua*Oa,en.py-=va*Oa}}return!Gn.charge}}ce.tick=function(){if((ht*=.99)<.005)return He=null,Ee.end({type:"end",alpha:ht=0}),!0;var en=$r.length,Gn=ln.length,na,ha,ta,ua,va,Ua,Ca,Oa,fi;for(ha=0;ha<Gn;++ha)ta=ln[ha],ua=ta.source,va=ta.target,Oa=va.x-ua.x,fi=va.y-ua.y,(Ua=Oa*Oa+fi*fi)&&(Ua=ht*Gr[ha]*((Ua=Math.sqrt(Ua))-zr[ha])/Ua,Oa*=Ua,fi*=Ua,va.x-=Oa*(Ca=ua.weight+va.weight?ua.weight/(ua.weight+va.weight):.5),va.y-=fi*Ca,ua.x+=Oa*(Ca=1-Ca),ua.y+=fi*Ca);if((Ca=ht*Rr)&&(Oa=tt[0]/2,fi=tt[1]/2,ha=-1,Ca))for(;++ha<en;)ta=$r[ha],ta.x+=(Oa-ta.x)*Ca,ta.y+=(fi-ta.y)*Ca;if(Vt)for(Fi(na=n.geom.quadtree($r),ht,Jr),ha=-1;++ha<en;)(ta=$r[ha]).fixed||na.visit(vn(ta));for(ha=-1;++ha<en;)ta=$r[ha],ta.fixed?(ta.x=ta.px,ta.y=ta.py):(ta.x-=(ta.px-(ta.px=ta.x))*Rt,ta.y-=(ta.py-(ta.py=ta.y))*Rt);Ee.tick({type:"tick",alpha:ht})},ce.nodes=function(en){return arguments.length?($r=en,ce):$r},ce.links=function(en){return arguments.length?(ln=en,ce):ln},ce.size=function(en){return arguments.length?(tt=en,ce):tt},ce.linkDistance=function(en){return arguments.length?(At=typeof en=="function"?en:+en,ce):At},ce.distance=ce.linkDistance,ce.linkStrength=function(en){return arguments.length?(Ut=typeof en=="function"?en:+en,ce):Ut},ce.friction=function(en){return arguments.length?(Rt=+en,ce):Rt},ce.charge=function(en){return arguments.length?(Vt=typeof en=="function"?en:+en,ce):Vt},ce.chargeDistance=function(en){return arguments.length?(ar=en*en,ce):Math.sqrt(ar)},ce.gravity=function(en){return arguments.length?(Rr=+en,ce):Rr},ce.theta=function(en){return arguments.length?(kr=en*en,ce):Math.sqrt(kr)},ce.alpha=function(en){return arguments.length?(en=+en,ht?en>0?ht=en:(He.c=null,He.t=NaN,He=null,Ee.end({type:"end",alpha:ht=0})):en>0&&(Ee.start({type:"start",alpha:ht=en}),He=Pn(ce.tick)),ce):ht},ce.start=function(){var en,Gn=$r.length,na=ln.length,ha=tt[0],ta=tt[1],ua,va;for(en=0;en<Gn;++en)(va=$r[en]).index=en,va.weight=0;for(en=0;en<na;++en)va=ln[en],typeof va.source=="number"&&(va.source=$r[va.source]),typeof va.target=="number"&&(va.target=$r[va.target]),++va.source.weight,++va.target.weight;for(en=0;en<Gn;++en)va=$r[en],isNaN(va.x)&&(va.x=Ua("x",ha)),isNaN(va.y)&&(va.y=Ua("y",ta)),isNaN(va.px)&&(va.px=va.x),isNaN(va.py)&&(va.py=va.y);if(zr=[],typeof At=="function")for(en=0;en<na;++en)zr[en]=+At.call(this,ln[en],en);else for(en=0;en<na;++en)zr[en]=At;if(Gr=[],typeof Ut=="function")for(en=0;en<na;++en)Gr[en]=+Ut.call(this,ln[en],en);else for(en=0;en<na;++en)Gr[en]=Ut;if(Jr=[],typeof Vt=="function")for(en=0;en<Gn;++en)Jr[en]=+Vt.call(this,$r[en],en);else for(en=0;en<Gn;++en)Jr[en]=Vt;function Ua(Ca,Oa){if(!ua){for(ua=new Array(Gn),gi=0;gi<Gn;++gi)ua[gi]=[];for(gi=0;gi<na;++gi){var fi=ln[gi];ua[fi.source.index].push(fi.target),ua[fi.target.index].push(fi.source)}}for(var ji=ua[en],gi=-1,ea=ji.length,Va;++gi<ea;)if(!isNaN(Va=ji[gi][Ca]))return Va;return Math.random()*Oa}return ce.resume()},ce.resume=function(){return ce.alpha(.1)},ce.stop=function(){return ce.alpha(0)},ce.drag=function(){if(ot||(ot=n.behavior.drag().origin(V).on("dragstart.force",Rs).on("drag.force",mn).on("dragend.force",Gf)),!arguments.length)return ot;this.on("mouseover.force",$l).on("mouseout.force",hs).call(ot)};function mn(en){en.px=n.event.x,en.py=n.event.y,ce.resume()}return n.rebind(ce,Ee,"on")};function Rs(ce){ce.fixed|=2}function Gf(ce){ce.fixed&=-7}function $l(ce){ce.fixed|=4,ce.px=ce.x,ce.py=ce.y}function hs(ce){ce.fixed&=-5}function Fi(ce,Ee,He){var tt=0,ot=0;if(ce.charge=0,!ce.leaf)for(var ht=ce.nodes,Rt=ht.length,At=-1,Ut;++At<Rt;)Ut=ht[At],Ut!=null&&(Fi(Ut,Ee,He),ce.charge+=Ut.charge,tt+=Ut.charge*Ut.cx,ot+=Ut.charge*Ut.cy);if(ce.point){ce.leaf||(ce.point.x+=Math.random()-.5,ce.point.y+=Math.random()-.5);var Vt=Ee*He[ce.point.index];ce.charge+=ce.pointCharge=Vt,tt+=Vt*ce.point.x,ot+=Vt*ce.point.y}ce.cx=tt/ce.charge,ce.cy=ot/ce.charge}var Wf=20,Fh=1,vf=1/0;n.layout.hierarchy=function(){var ce=pf,Ee=df,He=tu;function tt(ot){var ht=[ot],Rt=[],At;for(ot.depth=0;(At=ht.pop())!=null;)if(Rt.push(At),(Vt=Ee.call(tt,At,At.depth))&&(Ut=Vt.length)){for(var Ut,Vt,ar;--Ut>=0;)ht.push(ar=Vt[Ut]),ar.parent=At,ar.depth=At.depth+1;He&&(At.value=0),At.children=Vt}else He&&(At.value=+He.call(tt,At,At.depth)||0),delete At.children;return Yo(ot,function(Rr){var kr,$r;ce&&(kr=Rr.children)&&kr.sort(ce),He&&($r=Rr.parent)&&($r.value+=Rr.value)}),Rt}return tt.sort=function(ot){return arguments.length?(ce=ot,tt):ce},tt.children=function(ot){return arguments.length?(Ee=ot,tt):Ee},tt.value=function(ot){return arguments.length?(He=ot,tt):He},tt.revalue=function(ot){return He&&(eu(ot,function(ht){ht.children&&(ht.value=0)}),Yo(ot,function(ht){var Rt;ht.children||(ht.value=+He.call(tt,ht,ht.depth)||0),(Rt=ht.parent)&&(Rt.value+=ht.value)})),ot},tt};function ql(ce,Ee){return n.rebind(ce,Ee,"sort","children","value"),ce.nodes=ce,ce.links=Nh,ce}function eu(ce,Ee){for(var He=[ce];(ce=He.pop())!=null;)if(Ee(ce),(ot=ce.children)&&(tt=ot.length))for(var tt,ot;--tt>=0;)He.push(ot[tt])}function Yo(ce,Ee){for(var He=[ce],tt=[];(ce=He.pop())!=null;)if(tt.push(ce),(Rt=ce.children)&&(ht=Rt.length))for(var ot=-1,ht,Rt;++ot<ht;)He.push(Rt[ot]);for(;(ce=tt.pop())!=null;)Ee(ce)}function df(ce){return ce.children}function tu(ce){return ce.value}function pf(ce,Ee){return Ee.value-ce.value}function Nh(ce){return n.merge(ce.map(function(Ee){return(Ee.children||[]).map(function(He){return{source:Ee,target:He}})}))}n.layout.partition=function(){var ce=n.layout.hierarchy(),Ee=[1,1];function He(ht,Rt,At,Ut){var Vt=ht.children;if(ht.x=Rt,ht.y=ht.depth*Ut,ht.dx=At,ht.dy=Ut,Vt&&(Rr=Vt.length)){var ar=-1,Rr,kr,$r;for(At=ht.value?At/ht.value:0;++ar<Rr;)He(kr=Vt[ar],Rt,$r=kr.value*At,Ut),Rt+=$r}}function tt(ht){var Rt=ht.children,At=0;if(Rt&&(Vt=Rt.length))for(var Ut=-1,Vt;++Ut<Vt;)At=Math.max(At,tt(Rt[Ut]));return 1+At}function ot(ht,Rt){var At=ce.call(this,ht,Rt);return He(At[0],0,Ee[0],Ee[1]/tt(At[0])),At}return ot.size=function(ht){return arguments.length?(Ee=ht,ot):Ee},ql(ot,ce)},n.layout.pie=function(){var ce=Number,Ee=kc,He=0,tt=be,ot=0;function ht(Rt){var At=Rt.length,Ut=Rt.map(function(vn,mn){return+ce.call(ht,vn,mn)}),Vt=+(typeof He=="function"?He.apply(this,arguments):He),ar=(typeof tt=="function"?tt.apply(this,arguments):tt)-Vt,Rr=Math.min(Math.abs(ar)/At,+(typeof ot=="function"?ot.apply(this,arguments):ot)),kr=Rr*(ar<0?-1:1),$r=n.sum(Ut),ln=$r?(ar-At*kr)/$r:0,zr=n.range(At),Gr=[],Jr;return Ee!=null&&zr.sort(Ee===kc?function(vn,mn){return Ut[mn]-Ut[vn]}:function(vn,mn){return Ee(Rt[vn],Rt[mn])}),zr.forEach(function(vn){Gr[vn]={data:Rt[vn],value:Jr=Ut[vn],startAngle:Vt,endAngle:Vt+=Jr*ln+kr,padAngle:Rr}}),Gr}return ht.value=function(Rt){return arguments.length?(ce=Rt,ht):ce},ht.sort=function(Rt){return arguments.length?(Ee=Rt,ht):Ee},ht.startAngle=function(Rt){return arguments.length?(He=Rt,ht):He},ht.endAngle=function(Rt){return arguments.length?(tt=Rt,ht):tt},ht.padAngle=function(Rt){return arguments.length?(ot=Rt,ht):ot},ht};var kc={};n.layout.stack=function(){var ce=V,Ee=ku,He=yf,tt=Xf,ot=jf,ht=Yf;function Rt(At,Ut){if(!(ln=At.length))return At;var Vt=At.map(function(vn,mn){return ce.call(Rt,vn,mn)}),ar=Vt.map(function(vn){return vn.map(function(mn,en){return[ot.call(Rt,mn,en),ht.call(Rt,mn,en)]})}),Rr=Ee.call(Rt,ar,Ut);Vt=n.permute(Vt,Rr),ar=n.permute(ar,Rr);var kr=He.call(Rt,ar,Ut),$r=Vt[0].length,ln,zr,Gr,Jr;for(Gr=0;Gr<$r;++Gr)for(tt.call(Rt,Vt[0][Gr],Jr=kr[Gr],ar[0][Gr][1]),zr=1;zr<ln;++zr)tt.call(Rt,Vt[zr][Gr],Jr+=ar[zr-1][Gr][1],ar[zr][Gr][1]);return At}return Rt.values=function(At){return arguments.length?(ce=At,Rt):ce},Rt.order=function(At){return arguments.length?(Ee=typeof At=="function"?At:ru.get(At)||ku,Rt):Ee},Rt.offset=function(At){return arguments.length?(He=typeof At=="function"?At:gf.get(At)||yf,Rt):He},Rt.x=function(At){return arguments.length?(ot=At,Rt):ot},Rt.y=function(At){return arguments.length?(ht=At,Rt):ht},Rt.out=function(At){return arguments.length?(tt=At,Rt):tt},Rt};function jf(ce){return ce.x}function Yf(ce){return ce.y}function Xf(ce,Ee,He){ce.y0=Ee,ce.y=He}var ru=n.map({"inside-out":function(ce){var Ee=ce.length,He,tt,ot=ce.map(Ti),ht=ce.map(Dc),Rt=n.range(Ee).sort(function(Rr,kr){return ot[Rr]-ot[kr]}),At=0,Ut=0,Vt=[],ar=[];for(He=0;He<Ee;++He)tt=Rt[He],At<Ut?(At+=ht[tt],Vt.push(tt)):(Ut+=ht[tt],ar.push(tt));return ar.reverse().concat(Vt)},reverse:function(ce){return n.range(ce.length).reverse()},default:ku}),gf=n.map({silhouette:function(ce){var Ee=ce.length,He=ce[0].length,tt=[],ot=0,ht,Rt,At,Ut=[];for(Rt=0;Rt<He;++Rt){for(ht=0,At=0;ht<Ee;ht++)At+=ce[ht][Rt][1];At>ot&&(ot=At),tt.push(At)}for(Rt=0;Rt<He;++Rt)Ut[Rt]=(ot-tt[Rt])/2;return Ut},wiggle:function(ce){var Ee=ce.length,He=ce[0],tt=He.length,ot,ht,Rt,At,Ut,Vt,ar,Rr,kr,$r=[];for($r[0]=Rr=kr=0,ht=1;ht<tt;++ht){for(ot=0,At=0;ot<Ee;++ot)At+=ce[ot][ht][1];for(ot=0,Ut=0,ar=He[ht][0]-He[ht-1][0];ot<Ee;++ot){for(Rt=0,Vt=(ce[ot][ht][1]-ce[ot][ht-1][1])/(2*ar);Rt<ot;++Rt)Vt+=(ce[Rt][ht][1]-ce[Rt][ht-1][1])/ar;Ut+=Vt*ce[ot][ht][1]}$r[ht]=Rr-=At?Ut/At*ar:0,Rr<kr&&(kr=Rr)}for(ht=0;ht<tt;++ht)$r[ht]-=kr;return $r},expand:function(ce){var Ee=ce.length,He=ce[0].length,tt=1/Ee,ot,ht,Rt,At=[];for(ht=0;ht<He;++ht){for(ot=0,Rt=0;ot<Ee;ot++)Rt+=ce[ot][ht][1];if(Rt)for(ot=0;ot<Ee;ot++)ce[ot][ht][1]/=Rt;else for(ot=0;ot<Ee;ot++)ce[ot][ht][1]=tt}for(ht=0;ht<He;++ht)At[ht]=0;return At},zero:yf});function ku(ce){return n.range(ce.length)}function yf(ce){for(var Ee=-1,He=ce[0].length,tt=[];++Ee<He;)tt[Ee]=0;return tt}function Ti(ce){for(var Ee=1,He=0,tt=ce[0][1],ot,ht=ce.length;Ee<ht;++Ee)(ot=ce[Ee][1])>tt&&(He=Ee,tt=ot);return He}function Dc(ce){return ce.reduce(vs,0)}function vs(ce,Ee){return ce+Ee[1]}n.layout.histogram=function(){var ce=!0,Ee=Number,He=Ll,tt=Ic;function ot(ht,kr){for(var At=[],Ut=ht.map(Ee,this),Vt=He.call(this,Ut,kr),ar=tt.call(this,Vt,Ut,kr),Rr,kr=-1,$r=Ut.length,ln=ar.length-1,zr=ce?1:1/$r,Gr;++kr<ln;)Rr=At[kr]=[],Rr.dx=ar[kr+1]-(Rr.x=ar[kr]),Rr.y=0;if(ln>0)for(kr=-1;++kr<$r;)Gr=Ut[kr],Gr>=Vt[0]&&Gr<=Vt[1]&&(Rr=At[n.bisect(ar,Gr,1,ln)-1],Rr.y+=zr,Rr.push(ht[kr]));return At}return ot.value=function(ht){return arguments.length?(Ee=ht,ot):Ee},ot.range=function(ht){return arguments.length?(He=Nr(ht),ot):He},ot.bins=function(ht){return arguments.length?(tt=typeof ht=="number"?function(Rt){return Zf(Rt,ht)}:Nr(ht),ot):tt},ot.frequency=function(ht){return arguments.length?(ce=!!ht,ot):ce},ot};function Ic(ce,Ee){return Zf(ce,Math.ceil(Math.log(Ee.length)/Math.LN2+1))}function Zf(ce,Ee){for(var He=-1,tt=+ce[0],ot=(ce[1]-tt)/Ee,ht=[];++He<=Ee;)ht[He]=ot*He+tt;return ht}function Ll(ce){return[n.min(ce),n.max(ce)]}n.layout.pack=function(){var ce=n.layout.hierarchy().sort(il),Ee=0,He=[1,1],tt;function ot(ht,Rt){var At=ce.call(this,ht,Rt),Ut=At[0],Vt=He[0],ar=He[1],Rr=tt==null?Math.sqrt:typeof tt=="function"?tt:function(){return tt};if(Ut.x=Ut.y=0,Yo(Ut,function($r){$r.r=+Rr($r.value)}),Yo(Ut,ds),Ee){var kr=Ee*(tt?1:Math.max(2*Ut.r/Vt,2*Ut.r/ar))/2;Yo(Ut,function($r){$r.r+=kr}),Yo(Ut,ds),Yo(Ut,function($r){$r.r-=kr})}return ol(Ut,Vt/2,ar/2,tt?1:1/Math.max(2*Ut.r/Vt,2*Ut.r/ar)),At}return ot.size=function(ht){return arguments.length?(He=ht,ot):He},ot.radius=function(ht){return arguments.length?(tt=ht==null||typeof ht=="function"?ht:+ht,ot):tt},ot.padding=function(ht){return arguments.length?(Ee=+ht,ot):Ee},ql(ot,ce)};function il(ce,Ee){return ce.value-Ee.value}function mf(ce,Ee){var He=ce._pack_next;ce._pack_next=Ee,Ee._pack_prev=ce,Ee._pack_next=He,He._pack_prev=Ee}function Vi(ce,Ee){ce._pack_next=Ee,Ee._pack_prev=ce}function Du(ce,Ee){var He=Ee.x-ce.x,tt=Ee.y-ce.y,ot=ce.r+Ee.r;return .999*ot*ot>He*He+tt*tt}function ds(ce){if(!(Ee=ce.children)||!(kr=Ee.length))return;var Ee,He=1/0,tt=-1/0,ot=1/0,ht=-1/0,Rt,At,Ut,Vt,ar,Rr,kr;function $r(en){He=Math.min(en.x-en.r,He),tt=Math.max(en.x+en.r,tt),ot=Math.min(en.y-en.r,ot),ht=Math.max(en.y+en.r,ht)}if(Ee.forEach(Ws),Rt=Ee[0],Rt.x=-Rt.r,Rt.y=0,$r(Rt),kr>1&&(At=Ee[1],At.x=At.r,At.y=0,$r(At),kr>2))for(Ut=Ee[2],ps(Rt,At,Ut),$r(Ut),mf(Rt,Ut),Rt._pack_prev=Ut,mf(Ut,At),At=Rt._pack_next,Vt=3;Vt<kr;Vt++){ps(Rt,At,Ut=Ee[Vt]);var ln=0,zr=1,Gr=1;for(ar=At._pack_next;ar!==At;ar=ar._pack_next,zr++)if(Du(ar,Ut)){ln=1;break}if(ln==1)for(Rr=Rt._pack_prev;Rr!==ar._pack_prev&&!Du(Rr,Ut);Rr=Rr._pack_prev,Gr++);ln?(zr<Gr||zr==Gr&&At.r<Rt.r?Vi(Rt,At=ar):Vi(Rt=Rr,At),Vt--):(mf(Rt,Ut),At=Ut,$r(Ut))}var Jr=(He+tt)/2,vn=(ot+ht)/2,mn=0;for(Vt=0;Vt<kr;Vt++)Ut=Ee[Vt],Ut.x-=Jr,Ut.y-=vn,mn=Math.max(mn,Ut.r+Math.sqrt(Ut.x*Ut.x+Ut.y*Ut.y));ce.r=mn,Ee.forEach(Pl)}function Ws(ce){ce._pack_next=ce._pack_prev=ce}function Pl(ce){delete ce._pack_next,delete ce._pack_prev}function ol(ce,Ee,He,tt){var ot=ce.children;if(ce.x=Ee+=tt*ce.x,ce.y=He+=tt*ce.y,ce.r*=tt,ot)for(var ht=-1,Rt=ot.length;++ht<Rt;)ol(ot[ht],Ee,He,tt)}function ps(ce,Ee,He){var tt=ce.r+He.r,ot=Ee.x-ce.x,ht=Ee.y-ce.y;if(tt&&(ot||ht)){var Rt=Ee.r+He.r,At=ot*ot+ht*ht;Rt*=Rt,tt*=tt;var Ut=.5+(tt-Rt)/(2*At),Vt=Math.sqrt(Math.max(0,2*Rt*(tt+At)-(tt-=At)*tt-Rt*Rt))/(2*At);He.x=ce.x+Ut*ot+Vt*ht,He.y=ce.y+Ut*ht-Vt*ot}else He.x=ce.x+tt,He.y=ce.y}n.layout.tree=function(){var ce=n.layout.hierarchy().sort(null).value(null),Ee=js,He=[1,1],tt=null;function ot(ar,Rr){var kr=ce.call(this,ar,Rr),$r=kr[0],ln=ht($r);if(Yo(ln,Rt),ln.parent.m=-ln.z,eu(ln,At),tt)eu($r,Vt);else{var zr=$r,Gr=$r,Jr=$r;eu($r,function(Gn){Gn.x<zr.x&&(zr=Gn),Gn.x>Gr.x&&(Gr=Gn),Gn.depth>Jr.depth&&(Jr=Gn)});var vn=Ee(zr,Gr)/2-zr.x,mn=He[0]/(Gr.x+Ee(Gr,zr)/2+vn),en=He[1]/(Jr.depth||1);eu($r,function(Gn){Gn.x=(Gn.x+vn)*mn,Gn.y=Gn.depth*en})}return kr}function ht(ar){for(var Rr={A:null,children:[ar]},kr=[Rr],$r;($r=kr.pop())!=null;)for(var ln=$r.children,zr,Gr=0,Jr=ln.length;Gr<Jr;++Gr)kr.push((ln[Gr]=zr={_:ln[Gr],parent:$r,children:(zr=ln[Gr].children)&&zr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Gr}).a=zr);return Rr.children[0]}function Rt(ar){var Rr=ar.children,kr=ar.parent.children,$r=ar.i?kr[ar.i-1]:null;if(Rr.length){Bh(ar);var ln=(Rr[0].z+Rr[Rr.length-1].z)/2;$r?(ar.z=$r.z+Ee(ar._,$r._),ar.m=ar.z-ln):ar.z=ln}else $r&&(ar.z=$r.z+Ee(ar._,$r._));ar.parent.A=Ut(ar,$r,ar.parent.A||kr[0])}function At(ar){ar._.x=ar.z+ar.parent.m,ar.m+=ar.parent.m}function Ut(ar,Rr,kr){if(Rr){for(var $r=ar,ln=ar,zr=Rr,Gr=$r.parent.children[0],Jr=$r.m,vn=ln.m,mn=zr.m,en=Gr.m,Gn;zr=ns(zr),$r=gs($r),zr&&$r;)Gr=gs(Gr),ln=ns(ln),ln.a=ar,Gn=zr.z+mn-$r.z-Jr+Ee(zr._,$r._),Gn>0&&(Iu(Uh(zr,ar,kr),ar,Gn),Jr+=Gn,vn+=Gn),mn+=zr.m,Jr+=$r.m,en+=Gr.m,vn+=ln.m;zr&&!ns(ln)&&(ln.t=zr,ln.m+=mn-vn),$r&&!gs(Gr)&&(Gr.t=$r,Gr.m+=Jr-en,kr=ar)}return kr}function Vt(ar){ar.x*=He[0],ar.y=ar.depth*He[1]}return ot.separation=function(ar){return arguments.length?(Ee=ar,ot):Ee},ot.size=function(ar){return arguments.length?(tt=(He=ar)==null?Vt:null,ot):tt?null:He},ot.nodeSize=function(ar){return arguments.length?(tt=(He=ar)==null?null:Vt,ot):tt?He:null},ql(ot,ce)};function js(ce,Ee){return ce.parent==Ee.parent?1:2}function gs(ce){var Ee=ce.children;return Ee.length?Ee[0]:ce.t}function ns(ce){var Ee=ce.children,He;return(He=Ee.length)?Ee[He-1]:ce.t}function Iu(ce,Ee,He){var tt=He/(Ee.i-ce.i);Ee.c-=tt,Ee.s+=He,ce.c+=tt,Ee.z+=He,Ee.m+=He}function Bh(ce){for(var Ee=0,He=0,tt=ce.children,ot=tt.length,ht;--ot>=0;)ht=tt[ot],ht.z+=Ee,ht.m+=Ee,Ee+=ht.s+(He+=ht.c)}function Uh(ce,Ee,He){return ce.a.parent===Ee.parent?ce.a:He}n.layout.cluster=function(){var ce=n.layout.hierarchy().sort(null).value(null),Ee=js,He=[1,1],tt=!1;function ot(ht,Rt){var At=ce.call(this,ht,Rt),Ut=At[0],Vt,ar=0;Yo(Ut,function(zr){var Gr=zr.children;Gr&&Gr.length?(zr.x=Vh(Gr),zr.y=Hh(Gr)):(zr.x=Vt?ar+=Ee(zr,Vt):0,zr.y=0,Vt=zr)});var Rr=Kf(Ut),kr=_c(Ut),$r=Rr.x-Ee(Rr,kr)/2,ln=kr.x+Ee(kr,Rr)/2;return Yo(Ut,tt?function(zr){zr.x=(zr.x-Ut.x)*He[0],zr.y=(Ut.y-zr.y)*He[1]}:function(zr){zr.x=(zr.x-$r)/(ln-$r)*He[0],zr.y=(1-(Ut.y?zr.y/Ut.y:1))*He[1]}),At}return ot.separation=function(ht){return arguments.length?(Ee=ht,ot):Ee},ot.size=function(ht){return arguments.length?(tt=(He=ht)==null,ot):tt?null:He},ot.nodeSize=function(ht){return arguments.length?(tt=(He=ht)!=null,ot):tt?He:null},ql(ot,ce)};function Hh(ce){return 1+n.max(ce,function(Ee){return Ee.y})}function Vh(ce){return ce.reduce(function(Ee,He){return Ee+He.x},0)/ce.length}function Kf(ce){var Ee=ce.children;return Ee&&Ee.length?Kf(Ee[0]):ce}function _c(ce){var Ee=ce.children,He;return Ee&&(He=Ee.length)?_c(Ee[He-1]):ce}n.layout.treemap=function(){var ce=n.layout.hierarchy(),Ee=Math.round,He=[1,1],tt=null,ot=nu,ht=!1,Rt,At="squarify",Ut=.5*(1+Math.sqrt(5));function Vt(zr,Gr){for(var Jr=-1,vn=zr.length,mn,en;++Jr<vn;)en=(mn=zr[Jr]).value*(Gr<0?0:Gr),mn.area=isNaN(en)||en<=0?0:en}function ar(zr){var Gr=zr.children;if(Gr&&Gr.length){var Jr=ot(zr),vn=[],mn=Gr.slice(),en,Gn=1/0,na,ha=At==="slice"?Jr.dx:At==="dice"?Jr.dy:At==="slice-dice"?zr.depth&1?Jr.dy:Jr.dx:Math.min(Jr.dx,Jr.dy),ta;for(Vt(mn,Jr.dx*Jr.dy/zr.value),vn.area=0;(ta=mn.length)>0;)vn.push(en=mn[ta-1]),vn.area+=en.area,At!=="squarify"||(na=kr(vn,ha))<=Gn?(mn.pop(),Gn=na):(vn.area-=vn.pop().area,$r(vn,ha,Jr,!1),ha=Math.min(Jr.dx,Jr.dy),vn.length=vn.area=0,Gn=1/0);vn.length&&($r(vn,ha,Jr,!0),vn.length=vn.area=0),Gr.forEach(ar)}}function Rr(zr){var Gr=zr.children;if(Gr&&Gr.length){var Jr=ot(zr),vn=Gr.slice(),mn,en=[];for(Vt(vn,Jr.dx*Jr.dy/zr.value),en.area=0;mn=vn.pop();)en.push(mn),en.area+=mn.area,mn.z!=null&&($r(en,mn.z?Jr.dx:Jr.dy,Jr,!vn.length),en.length=en.area=0);Gr.forEach(Rr)}}function kr(zr,Gr){for(var Jr=zr.area,vn,mn=0,en=1/0,Gn=-1,na=zr.length;++Gn<na;)(vn=zr[Gn].area)&&(vn<en&&(en=vn),vn>mn&&(mn=vn));return Jr*=Jr,Gr*=Gr,Jr?Math.max(Gr*mn*Ut/Jr,Jr/(Gr*en*Ut)):1/0}function $r(zr,Gr,Jr,vn){var mn=-1,en=zr.length,Gn=Jr.x,na=Jr.y,ha=Gr?Ee(zr.area/Gr):0,ta;if(Gr==Jr.dx){for((vn||ha>Jr.dy)&&(ha=Jr.dy);++mn<en;)ta=zr[mn],ta.x=Gn,ta.y=na,ta.dy=ha,Gn+=ta.dx=Math.min(Jr.x+Jr.dx-Gn,ha?Ee(ta.area/ha):0);ta.z=!0,ta.dx+=Jr.x+Jr.dx-Gn,Jr.y+=ha,Jr.dy-=ha}else{for((vn||ha>Jr.dx)&&(ha=Jr.dx);++mn<en;)ta=zr[mn],ta.x=Gn,ta.y=na,ta.dx=ha,na+=ta.dy=Math.min(Jr.y+Jr.dy-na,ha?Ee(ta.area/ha):0);ta.z=!1,ta.dy+=Jr.y+Jr.dy-na,Jr.x+=ha,Jr.dx-=ha}}function ln(zr){var Gr=Rt||ce(zr),Jr=Gr[0];return Jr.x=Jr.y=0,Jr.value?(Jr.dx=He[0],Jr.dy=He[1]):Jr.dx=Jr.dy=0,Rt&&ce.revalue(Jr),Vt([Jr],Jr.dx*Jr.dy/Jr.value),(Rt?Rr:ar)(Jr),ht&&(Rt=Gr),Gr}return ln.size=function(zr){return arguments.length?(He=zr,ln):He},ln.padding=function(zr){if(!arguments.length)return tt;function Gr(mn){var en=zr.call(ln,mn,mn.depth);return en==null?nu(mn):uo(mn,typeof en=="number"?[en,en,en,en]:en)}function Jr(mn){return uo(mn,zr)}var vn;return ot=(tt=zr)==null?nu:(vn=typeof zr)=="function"?Gr:(vn==="number"&&(zr=[zr,zr,zr,zr]),Jr),ln},ln.round=function(zr){return arguments.length?(Ee=zr?Math.round:Number,ln):Ee!=Number},ln.sticky=function(zr){return arguments.length?(ht=zr,Rt=null,ln):ht},ln.ratio=function(zr){return arguments.length?(Ut=zr,ln):Ut},ln.mode=function(zr){return arguments.length?(At=zr+"",ln):At},ql(ln,ce)};function nu(ce){return{x:ce.x,y:ce.y,dx:ce.dx,dy:ce.dy}}function uo(ce,Ee){var He=ce.x+Ee[3],tt=ce.y+Ee[0],ot=ce.dx-Ee[1]-Ee[3],ht=ce.dy-Ee[0]-Ee[2];return ot<0&&(He+=ot/2,ot=0),ht<0&&(tt+=ht/2,ht=0),{x:He,y:tt,dx:ot,dy:ht}}n.random={normal:function(ce,Ee){var He=arguments.length;return He<2&&(Ee=1),He<1&&(ce=0),function(){var tt,ot,ht;do tt=Math.random()*2-1,ot=Math.random()*2-1,ht=tt*tt+ot*ot;while(!ht||ht>1);return ce+Ee*tt*Math.sqrt(-2*Math.log(ht)/ht)}},logNormal:function(){var ce=n.random.normal.apply(n,arguments);return function(){return Math.exp(ce())}},bates:function(ce){var Ee=n.random.irwinHall(ce);return function(){return Ee()/ce}},irwinHall:function(ce){return function(){for(var Ee=0,He=0;He<ce;He++)Ee+=Math.random();return Ee}}},n.scale={};function qo(ce){var Ee=ce[0],He=ce[ce.length-1];return Ee<He?[Ee,He]:[He,Ee]}function au(ce){return ce.rangeExtent?ce.rangeExtent():qo(ce.range())}function zc(ce,Ee,He,tt){var ot=He(ce[0],ce[1]),ht=tt(Ee[0],Ee[1]);return function(Rt){return ht(ot(Rt))}}function _u(ce,Ee){var He=0,tt=ce.length-1,ot=ce[He],ht=ce[tt],Rt;return ht<ot&&(Rt=He,He=tt,tt=Rt,Rt=ot,ot=ht,ht=Rt),ce[He]=Ee.floor(ot),ce[tt]=Ee.ceil(ht),ce}function Ys(ce){return ce?{floor:function(Ee){return Math.floor(Ee/ce)*ce},ceil:function(Ee){return Math.ceil(Ee/ce)*ce}}:Gh}var Gh={floor:V,ceil:V};function Oc(ce,Ee,He,tt){var ot=[],ht=[],Rt=0,At=Math.min(ce.length,Ee.length)-1;for(ce[At]<ce[0]&&(ce=ce.slice().reverse(),Ee=Ee.slice().reverse());++Rt<=At;)ot.push(He(ce[Rt-1],ce[Rt])),ht.push(tt(Ee[Rt-1],Ee[Rt]));return function(Ut){var Vt=n.bisect(ce,Ut,1,At)-1;return ht[Vt](ot[Vt](Ut))}}n.scale.linear=function(){return Fc([0,1],[0,1],yo,!1)};function Fc(ce,Ee,He,tt){var ot,ht;function Rt(){var Ut=Math.min(ce.length,Ee.length)>2?Oc:zc,Vt=tt?Ql:cs;return ot=Ut(ce,Ee,Vt,He),ht=Ut(Ee,ce,Vt,yo),At}function At(Ut){return ot(Ut)}return At.invert=function(Ut){return ht(Ut)},At.domain=function(Ut){return arguments.length?(ce=Ut.map(Number),Rt()):ce},At.range=function(Ut){return arguments.length?(Ee=Ut,Rt()):Ee},At.rangeRound=function(Ut){return At.range(Ut).interpolate(Cc)},At.clamp=function(Ut){return arguments.length?(tt=Ut,Rt()):tt},At.interpolate=function(Ut){return arguments.length?(He=Ut,Rt()):He},At.ticks=function(Ut){return ys(ce,Ut)},At.tickFormat=function(Ut,Vt){return d3_scale_linearTickFormat(ce,Ut,Vt)},At.nice=function(Ut){return Nc(ce,Ut),Rt()},At.copy=function(){return Fc(ce,Ee,He,tt)},Rt()}function Jf(ce,Ee){return n.rebind(ce,Ee,"range","rangeRound","interpolate","clamp")}function Nc(ce,Ee){return _u(ce,Ys(Oo(ce,Ee)[2])),_u(ce,Ys(Oo(ce,Ee)[2])),ce}function Oo(ce,Ee){Ee==null&&(Ee=10);var He=qo(ce),tt=He[1]-He[0],ot=Math.pow(10,Math.floor(Math.log(tt/Ee)/Math.LN10)),ht=Ee/tt*ot;return ht<=.15?ot*=10:ht<=.35?ot*=5:ht<=.75&&(ot*=2),He[0]=Math.ceil(He[0]/ot)*ot,He[1]=Math.floor(He[1]/ot)*ot+ot*.5,He[2]=ot,He}function ys(ce,Ee){return n.range.apply(n,Oo(ce,Ee))}n.scale.log=function(){return sl(n.scale.linear().domain([0,1]),10,!0,[1,10])};function sl(ce,Ee,He,tt){function ot(At){return(He?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Ee)}function ht(At){return He?Math.pow(Ee,At):-Math.pow(Ee,-At)}function Rt(At){return ce(ot(At))}return Rt.invert=function(At){return ht(ce.invert(At))},Rt.domain=function(At){return arguments.length?(He=At[0]>=0,ce.domain((tt=At.map(Number)).map(ot)),Rt):tt},Rt.base=function(At){return arguments.length?(Ee=+At,ce.domain(tt.map(ot)),Rt):Ee},Rt.nice=function(){var At=_u(tt.map(ot),He?Math:iu);return ce.domain(At),tt=At.map(ht),Rt},Rt.ticks=function(){var At=qo(tt),Ut=[],Vt=At[0],ar=At[1],Rr=Math.floor(ot(Vt)),kr=Math.ceil(ot(ar)),$r=Ee%1?2:Ee;if(isFinite(kr-Rr)){if(He){for(;Rr<kr;Rr++)for(var ln=1;ln<$r;ln++)Ut.push(ht(Rr)*ln);Ut.push(ht(Rr))}else for(Ut.push(ht(Rr));Rr++<kr;)for(var ln=$r-1;ln>0;ln--)Ut.push(ht(Rr)*ln);for(Rr=0;Ut[Rr]<Vt;Rr++);for(kr=Ut.length;Ut[kr-1]>ar;kr--);Ut=Ut.slice(Rr,kr)}return Ut},Rt.copy=function(){return sl(ce.copy(),Ee,He,tt)},Jf(Rt,ce)}var iu={floor:function(ce){return-Math.ceil(-ce)},ceil:function(ce){return-Math.floor(-ce)}};n.scale.pow=function(){return xf(n.scale.linear(),1,[0,1])};function xf(ce,Ee,He){var tt=Rl(Ee),ot=Rl(1/Ee);function ht(Rt){return ce(tt(Rt))}return ht.invert=function(Rt){return ot(ce.invert(Rt))},ht.domain=function(Rt){return arguments.length?(ce.domain((He=Rt.map(Number)).map(tt)),ht):He},ht.ticks=function(Rt){return ys(He,Rt)},ht.tickFormat=function(Rt,At){return d3_scale_linearTickFormat(He,Rt,At)},ht.nice=function(Rt){return ht.domain(Nc(He,Rt))},ht.exponent=function(Rt){return arguments.length?(tt=Rl(Ee=Rt),ot=Rl(1/Ee),ce.domain(He.map(tt)),ht):Ee},ht.copy=function(){return xf(ce.copy(),Ee,He)},Jf(ht,ce)}function Rl(ce){return function(Ee){return Ee<0?-Math.pow(-Ee,ce):Math.pow(Ee,ce)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return kl([],{t:"range",a:[[]]})};function kl(ce,Ee){var He,tt,ot;function ht(At){return tt[((He.get(At)||(Ee.t==="range"?He.set(At,ce.push(At)):NaN))-1)%tt.length]}function Rt(At,Ut){return n.range(ce.length).map(function(Vt){return At+Ut*Vt})}return ht.domain=function(At){if(!arguments.length)return ce;ce=[],He=new R;for(var Ut=-1,Vt=At.length,ar;++Ut<Vt;)He.has(ar=At[Ut])||He.set(ar,ce.push(ar));return ht[Ee.t].apply(ht,Ee.a)},ht.range=function(At){return arguments.length?(tt=At,ot=0,Ee={t:"range",a:arguments},ht):tt},ht.rangePoints=function(At,Ut){arguments.length<2&&(Ut=0);var Vt=At[0],ar=At[1],Rr=ce.length<2?(Vt=(Vt+ar)/2,0):(ar-Vt)/(ce.length-1+Ut);return tt=Rt(Vt+Rr*Ut/2,Rr),ot=0,Ee={t:"rangePoints",a:arguments},ht},ht.rangeRoundPoints=function(At,Ut){arguments.length<2&&(Ut=0);var Vt=At[0],ar=At[1],Rr=ce.length<2?(Vt=ar=Math.round((Vt+ar)/2),0):(ar-Vt)/(ce.length-1+Ut)|0;return tt=Rt(Vt+Math.round(Rr*Ut/2+(ar-Vt-(ce.length-1+Ut)*Rr)/2),Rr),ot=0,Ee={t:"rangeRoundPoints",a:arguments},ht},ht.rangeBands=function(At,Ut,Vt){arguments.length<2&&(Ut=0),arguments.length<3&&(Vt=Ut);var ar=At[1]<At[0],Rr=At[ar-0],kr=At[1-ar],$r=(kr-Rr)/(ce.length-Ut+2*Vt);return tt=Rt(Rr+$r*Vt,$r),ar&&tt.reverse(),ot=$r*(1-Ut),Ee={t:"rangeBands",a:arguments},ht},ht.rangeRoundBands=function(At,Ut,Vt){arguments.length<2&&(Ut=0),arguments.length<3&&(Vt=Ut);var ar=At[1]<At[0],Rr=At[ar-0],kr=At[1-ar],$r=Math.floor((kr-Rr)/(ce.length-Ut+2*Vt));return tt=Rt(Rr+Math.round((kr-Rr-(ce.length-Ut)*$r)/2),$r),ar&&tt.reverse(),ot=Math.round($r*(1-Ut)),Ee={t:"rangeRoundBands",a:arguments},ht},ht.rangeBand=function(){return ot},ht.rangeExtent=function(){return qo(Ee.a[0])},ht.copy=function(){return kl(ce,Ee)},ht.domain(ce)}n.scale.category10=function(){return n.scale.ordinal().range(Bc)},n.scale.category20=function(){return n.scale.ordinal().range(Xs)},n.scale.category20b=function(){return n.scale.ordinal().range(ou)},n.scale.category20c=function(){return n.scale.ordinal().range(ll)};var Bc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pt),Xs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pt),ou=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pt),ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pt);n.scale.quantile=function(){return Zs([],[])};function Zs(ce,Ee){var He;function tt(){var ht=0,Rt=Ee.length;for(He=[];++ht<Rt;)He[ht-1]=n.quantile(ce,ht/Rt);return ot}function ot(ht){if(!isNaN(ht=+ht))return Ee[n.bisect(He,ht)]}return ot.domain=function(ht){return arguments.length?(ce=ht.map(y).filter(c).sort(l),tt()):ce},ot.range=function(ht){return arguments.length?(Ee=ht,tt()):Ee},ot.quantiles=function(){return He},ot.invertExtent=function(ht){return ht=Ee.indexOf(ht),ht<0?[NaN,NaN]:[ht>0?He[ht-1]:ce[0],ht<He.length?He[ht]:ce[ce.length-1]]},ot.copy=function(){return Zs(ce,Ee)},tt()}n.scale.quantize=function(){return zu(0,1,[0,1])};function zu(ce,Ee,He){var tt,ot;function ht(At){return He[Math.max(0,Math.min(ot,Math.floor(tt*(At-ce))))]}function Rt(){return tt=He.length/(Ee-ce),ot=He.length-1,ht}return ht.domain=function(At){return arguments.length?(ce=+At[0],Ee=+At[At.length-1],Rt()):[ce,Ee]},ht.range=function(At){return arguments.length?(He=At,Rt()):He},ht.invertExtent=function(At){return At=He.indexOf(At),At=At<0?NaN:At/tt+ce,[At,At+1/tt]},ht.copy=function(){return zu(ce,Ee,He)},Rt()}n.scale.threshold=function(){return su([.5],[0,1])};function su(ce,Ee){function He(tt){if(tt<=tt)return Ee[n.bisect(ce,tt)]}return He.domain=function(tt){return arguments.length?(ce=tt,He):ce},He.range=function(tt){return arguments.length?(Ee=tt,He):Ee},He.invertExtent=function(tt){return tt=Ee.indexOf(tt),[ce[tt-1],ce[tt]]},He.copy=function(){return su(ce,Ee)},He}n.scale.identity=function(){return mi([0,1])};function mi(ce){function Ee(He){return+He}return Ee.invert=Ee,Ee.domain=Ee.range=function(He){return arguments.length?(ce=He.map(Ee),Ee):ce},Ee.ticks=function(He){return ys(ce,He)},Ee.tickFormat=function(He,tt){return d3_scale_linearTickFormat(ce,He,tt)},Ee.copy=function(){return mi(ce)},Ee}n.svg={};function lu(){return 0}n.svg.arc=function(){var ce=Uc,Ee=uu,He=lu,tt=bf,ot=Ou,ht=wf,Rt=Qf;function At(){var Vt=Math.max(0,+ce.apply(this,arguments)),ar=Math.max(0,+Ee.apply(this,arguments)),Rr=ot.apply(this,arguments)-Ye,kr=ht.apply(this,arguments)-Ye,$r=Math.abs(kr-Rr),ln=Rr>kr?0:1;if(ar<Vt&&(zr=ar,ar=Vt,Vt=zr),$r>=Ne)return Ut(ar,ln)+(Vt?Ut(Vt,1-ln):"")+"Z";var zr,Gr,Jr,vn,mn=0,en=0,Gn,na,ha,ta,ua,va,Ua,Ca,Oa=[];if((vn=(+Rt.apply(this,arguments)||0)/2)&&(Jr=tt===bf?Math.sqrt(Vt*Vt+ar*ar):+tt.apply(this,arguments),ln||(en*=-1),ar&&(en=Yt(Jr/ar*Math.sin(vn))),Vt&&(mn=Yt(Jr/Vt*Math.sin(vn)))),ar){Gn=ar*Math.cos(Rr+en),na=ar*Math.sin(Rr+en),ha=ar*Math.cos(kr-en),ta=ar*Math.sin(kr-en);var fi=Math.abs(kr-Rr-2*en)<=de?0:1;if(en&&Fu(Gn,na,ha,ta)===ln^fi){var ji=(Rr+kr)/2;Gn=ar*Math.cos(ji),na=ar*Math.sin(ji),ha=ta=null}}else Gn=na=0;if(Vt){ua=Vt*Math.cos(kr-mn),va=Vt*Math.sin(kr-mn),Ua=Vt*Math.cos(Rr+mn),Ca=Vt*Math.sin(Rr+mn);var gi=Math.abs(Rr-kr+2*mn)<=de?0:1;if(mn&&Fu(ua,va,Ua,Ca)===1-ln^gi){var ea=(Rr+kr)/2;ua=Vt*Math.cos(ea),va=Vt*Math.sin(ea),Ua=Ca=null}}else ua=va=0;if($r>Ve&&(zr=Math.min(Math.abs(ar-Vt)/2,+He.apply(this,arguments)))>.001){Gr=Vt<ar^ln?0:1;var Va=zr,Ma=zr;if($r<de){var qa=Ua==null?[ua,va]:ha==null?[Gn,na]:un([Gn,na],[Ua,Ca],[ha,ta],[ua,va]),Ei=Gn-qa[0],ci=na-qa[1],fo=ha-qa[0],co=ta-qa[1],mo=1/Math.sin(Math.acos((Ei*fo+ci*co)/(Math.sqrt(Ei*Ei+ci*ci)*Math.sqrt(fo*fo+co*co)))/2),Ci=Math.sqrt(qa[0]*qa[0]+qa[1]*qa[1]);Ma=Math.min(zr,(Vt-Ci)/(mo-1)),Va=Math.min(zr,(ar-Ci)/(mo+1))}if(ha!=null){var Ro=Nu(Ua==null?[ua,va]:[Ua,Ca],[Gn,na],ar,Va,ln),fa=Nu([ha,ta],[ua,va],ar,Va,ln);zr===Va?Oa.push("M",Ro[0],"A",Va,",",Va," 0 0,",Gr," ",Ro[1],"A",ar,",",ar," 0 ",1-ln^Fu(Ro[1][0],Ro[1][1],fa[1][0],fa[1][1]),",",ln," ",fa[1],"A",Va,",",Va," 0 0,",Gr," ",fa[0]):Oa.push("M",Ro[0],"A",Va,",",Va," 0 1,",Gr," ",fa[0])}else Oa.push("M",Gn,",",na);if(Ua!=null){var Pa=Nu([Gn,na],[Ua,Ca],Vt,-Ma,ln),Zo=Nu([ua,va],ha==null?[Gn,na]:[ha,ta],Vt,-Ma,ln);zr===Ma?Oa.push("L",Zo[0],"A",Ma,",",Ma," 0 0,",Gr," ",Zo[1],"A",Vt,",",Vt," 0 ",ln^Fu(Zo[1][0],Zo[1][1],Pa[1][0],Pa[1][1]),",",1-ln," ",Pa[1],"A",Ma,",",Ma," 0 0,",Gr," ",Pa[0]):Oa.push("L",Zo[0],"A",Ma,",",Ma," 0 0,",Gr," ",Pa[0])}else Oa.push("L",ua,",",va)}else Oa.push("M",Gn,",",na),ha!=null&&Oa.push("A",ar,",",ar," 0 ",fi,",",ln," ",ha,",",ta),Oa.push("L",ua,",",va),Ua!=null&&Oa.push("A",Vt,",",Vt," 0 ",gi,",",1-ln," ",Ua,",",Ca);return Oa.push("Z"),Oa.join("")}function Ut(Vt,ar){return"M0,"+Vt+"A"+Vt+","+Vt+" 0 1,"+ar+" 0,"+-Vt+"A"+Vt+","+Vt+" 0 1,"+ar+" 0,"+Vt}return At.innerRadius=function(Vt){return arguments.length?(ce=Nr(Vt),At):ce},At.outerRadius=function(Vt){return arguments.length?(Ee=Nr(Vt),At):Ee},At.cornerRadius=function(Vt){return arguments.length?(He=Nr(Vt),At):He},At.padRadius=function(Vt){return arguments.length?(tt=Vt==bf?bf:Nr(Vt),At):tt},At.startAngle=function(Vt){return arguments.length?(ot=Nr(Vt),At):ot},At.endAngle=function(Vt){return arguments.length?(ht=Nr(Vt),At):ht},At.padAngle=function(Vt){return arguments.length?(Rt=Nr(Vt),At):Rt},At.centroid=function(){var Vt=(+ce.apply(this,arguments)+ +Ee.apply(this,arguments))/2,ar=(+ot.apply(this,arguments)+ +ht.apply(this,arguments))/2-Ye;return[Math.cos(ar)*Vt,Math.sin(ar)*Vt]},At};var bf="auto";function Uc(ce){return ce.innerRadius}function uu(ce){return ce.outerRadius}function Ou(ce){return ce.startAngle}function wf(ce){return ce.endAngle}function Qf(ce){return ce&&ce.padAngle}function Fu(ce,Ee,He,tt){return(ce-He)*Ee-(Ee-tt)*ce>0?0:1}function Nu(ce,Ee,He,tt,ot){var ht=ce[0]-Ee[0],Rt=ce[1]-Ee[1],At=(ot?tt:-tt)/Math.sqrt(ht*ht+Rt*Rt),Ut=At*Rt,Vt=-At*ht,ar=ce[0]+Ut,Rr=ce[1]+Vt,kr=Ee[0]+Ut,$r=Ee[1]+Vt,ln=(ar+kr)/2,zr=(Rr+$r)/2,Gr=kr-ar,Jr=$r-Rr,vn=Gr*Gr+Jr*Jr,mn=He-tt,en=ar*$r-kr*Rr,Gn=(Jr<0?-1:1)*Math.sqrt(Math.max(0,mn*mn*vn-en*en)),na=(en*Jr-Gr*Gn)/vn,ha=(-en*Gr-Jr*Gn)/vn,ta=(en*Jr+Gr*Gn)/vn,ua=(-en*Gr+Jr*Gn)/vn,va=na-ln,Ua=ha-zr,Ca=ta-ln,Oa=ua-zr;return va*va+Ua*Ua>Ca*Ca+Oa*Oa&&(na=ta,ha=ua),[[na-Ut,ha-Vt],[na*He/mn,ha*He/mn]]}function ul(){return!0}function Bu(ce){var Ee=sa,He=aa,tt=ul,ot=to,ht=ot.key,Rt=.7;function At(Ut){var Vt=[],ar=[],Rr=-1,kr=Ut.length,$r,ln=Nr(Ee),zr=Nr(He);function Gr(){Vt.push("M",ot(ce(ar),Rt))}for(;++Rr<kr;)tt.call(this,$r=Ut[Rr],Rr)?ar.push([+ln.call(this,$r,Rr),+zr.call(this,$r,Rr)]):ar.length&&(Gr(),ar=[]);return ar.length&&Gr(),Vt.length?Vt.join(""):null}return At.x=function(Ut){return arguments.length?(Ee=Ut,At):Ee},At.y=function(Ut){return arguments.length?(He=Ut,At):He},At.defined=function(Ut){return arguments.length?(tt=Ut,At):tt},At.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?ht=ot=Ut:ht=(ot=fl.get(Ut)||to).key,At):ht},At.tension=function(Ut){return arguments.length?(Rt=Ut,At):Rt},At}n.svg.line=function(){return Bu(V)};var fl=n.map({linear:to,"linear-closed":ks,step:$f,"step-before":Dl,"step-after":Tf,basis:fu,"basis-open":Vc,"basis-closed":cl,bundle:jh,cardinal:Hc,"cardinal-open":Uu,"cardinal-closed":Wh,monotone:Sf});fl.forEach(function(ce,Ee){Ee.key=ce,Ee.closed=/-closed$/.test(ce)});function to(ce){return ce.length>1?ce.join("L"):ce+"Z"}function ks(ce){return ce.join("L")+"Z"}function $f(ce){for(var Ee=0,He=ce.length,tt=ce[0],ot=[tt[0],",",tt[1]];++Ee<He;)ot.push("H",(tt[0]+(tt=ce[Ee])[0])/2,"V",tt[1]);return He>1&&ot.push("H",tt[0]),ot.join("")}function Dl(ce){for(var Ee=0,He=ce.length,tt=ce[0],ot=[tt[0],",",tt[1]];++Ee<He;)ot.push("V",(tt=ce[Ee])[1],"H",tt[0]);return ot.join("")}function Tf(ce){for(var Ee=0,He=ce.length,tt=ce[0],ot=[tt[0],",",tt[1]];++Ee<He;)ot.push("H",(tt=ce[Ee])[0],"V",tt[1]);return ot.join("")}function Uu(ce,Ee){return ce.length<4?to(ce):ce[1]+Po(ce.slice(1,-1),Hu(ce,Ee))}function Wh(ce,Ee){return ce.length<3?ks(ce):ce[0]+Po((ce.push(ce[0]),ce),Hu([ce[ce.length-2]].concat(ce,[ce[1]]),Ee))}function Hc(ce,Ee){return ce.length<3?to(ce):ce[0]+Po(ce,Hu(ce,Ee))}function Po(ce,Ee){if(Ee.length<1||ce.length!=Ee.length&&ce.length!=Ee.length+2)return to(ce);var He=ce.length!=Ee.length,tt="",ot=ce[0],ht=ce[1],Rt=Ee[0],At=Rt,Ut=1;if(He&&(tt+="Q"+(ht[0]-Rt[0]*2/3)+","+(ht[1]-Rt[1]*2/3)+","+ht[0]+","+ht[1],ot=ce[1],Ut=2),Ee.length>1){At=Ee[1],ht=ce[Ut],Ut++,tt+="C"+(ot[0]+Rt[0])+","+(ot[1]+Rt[1])+","+(ht[0]-At[0])+","+(ht[1]-At[1])+","+ht[0]+","+ht[1];for(var Vt=2;Vt<Ee.length;Vt++,Ut++)ht=ce[Ut],At=Ee[Vt],tt+="S"+(ht[0]-At[0])+","+(ht[1]-At[1])+","+ht[0]+","+ht[1]}if(He){var ar=ce[Ut];tt+="Q"+(ht[0]+At[0]*2/3)+","+(ht[1]+At[1]*2/3)+","+ar[0]+","+ar[1]}return tt}function Hu(ce,Ee){for(var He=[],tt=(1-Ee)/2,ot,ht=ce[0],Rt=ce[1],At=1,Ut=ce.length;++At<Ut;)ot=ht,ht=Rt,Rt=ce[At],He.push([tt*(Rt[0]-ot[0]),tt*(Rt[1]-ot[1])]);return He}function fu(ce){if(ce.length<3)return to(ce);var Ee=1,He=ce.length,tt=ce[0],ot=tt[0],ht=tt[1],Rt=[ot,ot,ot,(tt=ce[1])[0]],At=[ht,ht,ht,tt[1]],Ut=[ot,",",ht,"L",Xo(Ks,Rt),",",Xo(Ks,At)];for(ce.push(ce[He-1]);++Ee<=He;)tt=ce[Ee],Rt.shift(),Rt.push(tt[0]),At.shift(),At.push(tt[1]),hl(Ut,Rt,At);return ce.pop(),Ut.push("L",tt),Ut.join("")}function Vc(ce){if(ce.length<4)return to(ce);for(var Ee=[],He=-1,tt=ce.length,ot,ht=[0],Rt=[0];++He<3;)ot=ce[He],ht.push(ot[0]),Rt.push(ot[1]);for(Ee.push(Xo(Ks,ht)+","+Xo(Ks,Rt)),--He;++He<tt;)ot=ce[He],ht.shift(),ht.push(ot[0]),Rt.shift(),Rt.push(ot[1]),hl(Ee,ht,Rt);return Ee.join("")}function cl(ce){for(var Ee,He=-1,tt=ce.length,ot=tt+4,ht,Rt=[],At=[];++He<4;)ht=ce[He%tt],Rt.push(ht[0]),At.push(ht[1]);for(Ee=[Xo(Ks,Rt),",",Xo(Ks,At)],--He;++He<ot;)ht=ce[He%tt],Rt.shift(),Rt.push(ht[0]),At.shift(),At.push(ht[1]),hl(Ee,Rt,At);return Ee.join("")}function jh(ce,Ee){var He=ce.length-1;if(He)for(var tt=ce[0][0],ot=ce[0][1],ht=ce[He][0]-tt,Rt=ce[He][1]-ot,At=-1,Ut,Vt;++At<=He;)Ut=ce[At],Vt=At/He,Ut[0]=Ee*Ut[0]+(1-Ee)*(tt+Vt*ht),Ut[1]=Ee*Ut[1]+(1-Ee)*(ot+Vt*Rt);return fu(ce)}function Xo(ce,Ee){return ce[0]*Ee[0]+ce[1]*Ee[1]+ce[2]*Ee[2]+ce[3]*Ee[3]}var Vu=[0,2/3,1/3,0],Af=[0,1/3,2/3,0],Ks=[0,1/6,2/3,1/6];function hl(ce,Ee,He){ce.push("C",Xo(Vu,Ee),",",Xo(Vu,He),",",Xo(Af,Ee),",",Xo(Af,He),",",Xo(Ks,Ee),",",Xo(Ks,He))}function qf(ce,Ee){return(Ee[1]-ce[1])/(Ee[0]-ce[0])}function Gu(ce){for(var Ee=0,He=ce.length-1,tt=[],ot=ce[0],ht=ce[1],Rt=tt[0]=qf(ot,ht);++Ee<He;)tt[Ee]=(Rt+(Rt=qf(ot=ht,ht=ce[Ee+1])))/2;return tt[Ee]=Rt,tt}function Wu(ce){for(var Ee=[],He,tt,ot,ht,Rt=Gu(ce),At=-1,Ut=ce.length-1;++At<Ut;)He=qf(ce[At],ce[At+1]),g(He)<Ve?Rt[At]=Rt[At+1]=0:(tt=Rt[At]/He,ot=Rt[At+1]/He,ht=tt*tt+ot*ot,ht>9&&(ht=He*3/Math.sqrt(ht),Rt[At]=ht*tt,Rt[At+1]=ht*ot));for(At=-1;++At<=Ut;)ht=(ce[Math.min(Ut,At+1)][0]-ce[Math.max(0,At-1)][0])/(6*(1+Rt[At]*Rt[At])),Ee.push([ht||0,Rt[At]*ht||0]);return Ee}function Sf(ce){return ce.length<3?to(ce):ce[0]+Po(ce,Wu(ce))}n.svg.line.radial=function(){var ce=Bu(Gc);return ce.radius=ce.x,delete ce.x,ce.angle=ce.y,delete ce.y,ce};function Gc(ce){for(var Ee,He=-1,tt=ce.length,ot,ht;++He<tt;)Ee=ce[He],ot=Ee[0],ht=Ee[1]-Ye,Ee[0]=ot*Math.cos(ht),Ee[1]=ot*Math.sin(ht);return ce}function ju(ce){var Ee=sa,He=sa,tt=0,ot=aa,ht=ul,Rt=to,At=Rt.key,Ut=Rt,Vt="L",ar=.7;function Rr(kr){var $r=[],ln=[],zr=[],Gr=-1,Jr=kr.length,vn,mn=Nr(Ee),en=Nr(tt),Gn=Ee===He?function(){return ha}:Nr(He),na=tt===ot?function(){return ta}:Nr(ot),ha,ta;function ua(){$r.push("M",Rt(ce(zr),ar),Vt,Ut(ce(ln.reverse()),ar),"Z")}for(;++Gr<Jr;)ht.call(this,vn=kr[Gr],Gr)?(ln.push([ha=+mn.call(this,vn,Gr),ta=+en.call(this,vn,Gr)]),zr.push([+Gn.call(this,vn,Gr),+na.call(this,vn,Gr)])):ln.length&&(ua(),ln=[],zr=[]);return ln.length&&ua(),$r.length?$r.join(""):null}return Rr.x=function(kr){return arguments.length?(Ee=He=kr,Rr):He},Rr.x0=function(kr){return arguments.length?(Ee=kr,Rr):Ee},Rr.x1=function(kr){return arguments.length?(He=kr,Rr):He},Rr.y=function(kr){return arguments.length?(tt=ot=kr,Rr):ot},Rr.y0=function(kr){return arguments.length?(tt=kr,Rr):tt},Rr.y1=function(kr){return arguments.length?(ot=kr,Rr):ot},Rr.defined=function(kr){return arguments.length?(ht=kr,Rr):ht},Rr.interpolate=function(kr){return arguments.length?(typeof kr=="function"?At=Rt=kr:At=(Rt=fl.get(kr)||to).key,Ut=Rt.reverse||Rt,Vt=Rt.closed?"M":"L",Rr):At},Rr.tension=function(kr){return arguments.length?(ar=kr,Rr):ar},Rr}Dl.reverse=Tf,Tf.reverse=Dl,n.svg.area=function(){return ju(V)},n.svg.area.radial=function(){var ce=ju(Gc);return ce.radius=ce.x,delete ce.x,ce.innerRadius=ce.x0,delete ce.x0,ce.outerRadius=ce.x1,delete ce.x1,ce.angle=ce.y,delete ce.y,ce.startAngle=ce.y0,delete ce.y0,ce.endAngle=ce.y1,delete ce.y1,ce};function ec(ce){return ce.source}function Il(ce){return ce.target}n.svg.chord=function(){var ce=ec,Ee=Il,He=tc,tt=Ou,ot=wf;function ht(ar,Rr){var kr=Rt(this,ce,ar,Rr),$r=Rt(this,Ee,ar,Rr);return"M"+kr.p0+Ut(kr.r,kr.p1,kr.a1-kr.a0)+(At(kr,$r)?Vt(kr.r,kr.p1,kr.r,kr.p0):Vt(kr.r,kr.p1,$r.r,$r.p0)+Ut($r.r,$r.p1,$r.a1-$r.a0)+Vt($r.r,$r.p1,kr.r,kr.p0))+"Z"}function Rt(ar,Rr,kr,$r){var ln=Rr.call(ar,kr,$r),zr=He.call(ar,ln,$r),Gr=tt.call(ar,ln,$r)-Ye,Jr=ot.call(ar,ln,$r)-Ye;return{r:zr,a0:Gr,a1:Jr,p0:[zr*Math.cos(Gr),zr*Math.sin(Gr)],p1:[zr*Math.cos(Jr),zr*Math.sin(Jr)]}}function At(ar,Rr){return ar.a0==Rr.a0&&ar.a1==Rr.a1}function Ut(ar,Rr,kr){return"A"+ar+","+ar+" 0 "+ +(kr>de)+",1 "+Rr}function Vt(ar,Rr,kr,$r){return"Q 0,0 "+$r}return ht.radius=function(ar){return arguments.length?(He=Nr(ar),ht):He},ht.source=function(ar){return arguments.length?(ce=Nr(ar),ht):ce},ht.target=function(ar){return arguments.length?(Ee=Nr(ar),ht):Ee},ht.startAngle=function(ar){return arguments.length?(tt=Nr(ar),ht):tt},ht.endAngle=function(ar){return arguments.length?(ot=Nr(ar),ht):ot},ht};function tc(ce){return ce.radius}n.svg.diagonal=function(){var ce=ec,Ee=Il,He=Yu;function tt(ot,ht){var Rt=ce.call(this,ot,ht),At=Ee.call(this,ot,ht),Ut=(Rt.y+At.y)/2,Vt=[Rt,{x:Rt.x,y:Ut},{x:At.x,y:Ut},At];return Vt=Vt.map(He),"M"+Vt[0]+"C"+Vt[1]+" "+Vt[2]+" "+Vt[3]}return tt.source=function(ot){return arguments.length?(ce=Nr(ot),tt):ce},tt.target=function(ot){return arguments.length?(Ee=Nr(ot),tt):Ee},tt.projection=function(ot){return arguments.length?(He=ot,tt):He},tt};function Yu(ce){return[ce.x,ce.y]}n.svg.diagonal.radial=function(){var ce=n.svg.diagonal(),Ee=Yu,He=ce.projection;return ce.projection=function(tt){return arguments.length?He(Wc(Ee=tt)):Ee},ce};function Wc(ce){return function(){var Ee=ce.apply(this,arguments),He=Ee[0],tt=Ee[1]-Ye;return[He*Math.cos(tt),He*Math.sin(tt)]}}n.svg.symbol=function(){var ce=st,Ee=$e;function He(tt,ot){return(wt.get(ce.call(this,tt,ot))||mt)(Ee.call(this,tt,ot))}return He.type=function(tt){return arguments.length?(ce=Nr(tt),He):ce},He.size=function(tt){return arguments.length?(Ee=Nr(tt),He):Ee},He};function $e(){return 64}function st(){return"circle"}function mt(ce){var Ee=Math.sqrt(ce/de);return"M0,"+Ee+"A"+Ee+","+Ee+" 0 1,1 0,"+-Ee+"A"+Ee+","+Ee+" 0 1,1 0,"+Ee+"Z"}var wt=n.map({circle:mt,cross:function(ce){var Ee=Math.sqrt(ce/5)/2;return"M"+-3*Ee+","+-Ee+"H"+-Ee+"V"+-3*Ee+"H"+Ee+"V"+-Ee+"H"+3*Ee+"V"+Ee+"H"+Ee+"V"+3*Ee+"H"+-Ee+"V"+Ee+"H"+-3*Ee+"Z"},diamond:function(ce){var Ee=Math.sqrt(ce/(2*Dt)),He=Ee*Dt;return"M0,"+-Ee+"L"+He+",0 0,"+Ee+" "+-He+",0Z"},square:function(ce){var Ee=Math.sqrt(ce)/2;return"M"+-Ee+","+-Ee+"L"+Ee+","+-Ee+" "+Ee+","+Ee+" "+-Ee+","+Ee+"Z"},"triangle-down":function(ce){var Ee=Math.sqrt(ce/_t),He=Ee*_t/2;return"M0,"+He+"L"+Ee+","+-He+" "+-Ee+","+-He+"Z"},"triangle-up":function(ce){var Ee=Math.sqrt(ce/_t),He=Ee*_t/2;return"M0,"+-He+"L"+Ee+","+He+" "+-Ee+","+He+"Z"}});n.svg.symbolTypes=wt.keys();var _t=Math.sqrt(3),Dt=Math.tan(30*at);j.transition=function(ce){for(var Ee=Or||++Mr,He=Rn(ce),tt=[],ot,ht,Rt=Vr||{time:Date.now(),ease:Hf,delay:0,duration:250},At=-1,Ut=this.length;++At<Ut;){tt.push(ot=[]);for(var Vt=this[At],ar=-1,Rr=Vt.length;++ar<Rr;)(ht=Vt[ar])&&In(ht,ar,He,Ee,Rt),ot.push(ht)}return wr(tt,He,Ee)},j.interrupt=function(ce){return this.each(ce==null?zt:pr(Rn(ce)))};var zt=pr(Rn());function pr(ce){return function(){var Ee,He,tt;(Ee=this[ce])&&(tt=Ee[He=Ee.active])&&(tt.timer.c=null,tt.timer.t=NaN,--Ee.count?delete Ee[He]:delete this[ce],Ee.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function wr(ce,Ee,He){return ee(ce,sr),ce.namespace=Ee,ce.id=He,ce}var sr=[],Mr=0,Or,Vr;sr.call=j.call,sr.empty=j.empty,sr.node=j.node,sr.size=j.size,n.transition=function(ce,Ee){return ce&&ce.transition?Or?ce.transition(Ee):ce:n.selection().transition(ce)},n.transition.prototype=sr,sr.select=function(ce){var Ee=this.id,He=this.namespace,tt=[],ot,ht,Rt;ce=se(ce);for(var At=-1,Ut=this.length;++At<Ut;){tt.push(ot=[]);for(var Vt=this[At],ar=-1,Rr=Vt.length;++ar<Rr;)(Rt=Vt[ar])&&(ht=ce.call(Rt,Rt.__data__,ar,At))?("__data__"in Rt&&(ht.__data__=Rt.__data__),In(ht,ar,He,Ee,Rt[He][Ee]),ot.push(ht)):ot.push(null)}return wr(tt,He,Ee)},sr.selectAll=function(ce){var Ee=this.id,He=this.namespace,tt=[],ot,ht,Rt,At,Ut;ce=ne(ce);for(var Vt=-1,ar=this.length;++Vt<ar;)for(var Rr=this[Vt],kr=-1,$r=Rr.length;++kr<$r;)if(Rt=Rr[kr]){Ut=Rt[He][Ee],ht=ce.call(Rt,Rt.__data__,kr,Vt),tt.push(ot=[]);for(var ln=-1,zr=ht.length;++ln<zr;)(At=ht[ln])&&In(At,ln,He,Ee,Ut),ot.push(At)}return wr(tt,He,Ee)},sr.filter=function(ce){var Ee=[],He,tt,ot;typeof ce!="function"&&(ce=Ze(ce));for(var ht=0,Rt=this.length;ht<Rt;ht++){Ee.push(He=[]);for(var tt=this[ht],At=0,Ut=tt.length;At<Ut;At++)(ot=tt[At])&&ce.call(ot,ot.__data__,At,ht)&&He.push(ot)}return wr(Ee,this.namespace,this.id)},sr.tween=function(ce,Ee){var He=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][He].tween.get(ce):Je(this,Ee==null?function(ot){ot[tt][He].tween.remove(ce)}:function(ot){ot[tt][He].tween.set(ce,Ee)})};function nn(ce,Ee,He,tt){var ot=ce.id,ht=ce.namespace;return Je(ce,typeof He=="function"?function(Rt,At,Ut){Rt[ht][ot].tween.set(Ee,tt(He.call(Rt,Rt.__data__,At,Ut)))}:(He=tt(He),function(Rt){Rt[ht][ot].tween.set(Ee,He)}))}sr.attr=function(ce,Ee){if(arguments.length<2){for(Ee in ce)this.attr(Ee,ce[Ee]);return this}var He=ce=="transform"?hf:yo,tt=n.ns.qualify(ce);function ot(){this.removeAttribute(tt)}function ht(){this.removeAttributeNS(tt.space,tt.local)}function Rt(Ut){return Ut==null?ot:(Ut+="",function(){var Vt=this.getAttribute(tt),ar;return Vt!==Ut&&(ar=He(Vt,Ut),function(Rr){this.setAttribute(tt,ar(Rr))})})}function At(Ut){return Ut==null?ht:(Ut+="",function(){var Vt=this.getAttributeNS(tt.space,tt.local),ar;return Vt!==Ut&&(ar=He(Vt,Ut),function(Rr){this.setAttributeNS(tt.space,tt.local,ar(Rr))})})}return nn(this,"attr."+ce,Ee,tt.local?At:Rt)},sr.attrTween=function(ce,Ee){var He=n.ns.qualify(ce);function tt(ht,Rt){var At=Ee.call(this,ht,Rt,this.getAttribute(He));return At&&function(Ut){this.setAttribute(He,At(Ut))}}function ot(ht,Rt){var At=Ee.call(this,ht,Rt,this.getAttributeNS(He.space,He.local));return At&&function(Ut){this.setAttributeNS(He.space,He.local,At(Ut))}}return this.tween("attr."+ce,He.local?ot:tt)},sr.style=function(ce,Ee,He){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(Ee="");for(He in ce)this.style(He,ce[He],Ee);return this}He=""}function ot(){this.style.removeProperty(ce)}function ht(Rt){return Rt==null?ot:(Rt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(ce),Ut;return At!==Rt&&(Ut=yo(At,Rt),function(Vt){this.style.setProperty(ce,Ut(Vt),He)})})}return nn(this,"style."+ce,Ee,ht)},sr.styleTween=function(ce,Ee,He){arguments.length<3&&(He="");function tt(ot,ht){var Rt=Ee.call(this,ot,ht,r(this).getComputedStyle(this,null).getPropertyValue(ce));return Rt&&function(At){this.style.setProperty(ce,Rt(At),He)}}return this.tween("style."+ce,tt)},sr.text=function(ce){return nn(this,"text",ce,wn)};function wn(ce){return ce==null&&(ce=""),function(){this.textContent=ce}}sr.remove=function(){var ce=this.namespace;return this.each("end.transition",function(){var Ee;this[ce].count<2&&(Ee=this.parentNode)&&Ee.removeChild(this)})},sr.ease=function(ce){var Ee=this.id,He=this.namespace;return arguments.length<1?this.node()[He][Ee].ease:(typeof ce!="function"&&(ce=n.ease.apply(n,arguments)),Je(this,function(tt){tt[He][Ee].ease=ce}))},sr.delay=function(ce){var Ee=this.id,He=this.namespace;return arguments.length<1?this.node()[He][Ee].delay:Je(this,typeof ce=="function"?function(tt,ot,ht){tt[He][Ee].delay=+ce.call(tt,tt.__data__,ot,ht)}:(ce=+ce,function(tt){tt[He][Ee].delay=ce}))},sr.duration=function(ce){var Ee=this.id,He=this.namespace;return arguments.length<1?this.node()[He][Ee].duration:Je(this,typeof ce=="function"?function(tt,ot,ht){tt[He][Ee].duration=Math.max(1,ce.call(tt,tt.__data__,ot,ht))}:(ce=Math.max(1,ce),function(tt){tt[He][Ee].duration=ce}))},sr.each=function(ce,Ee){var He=this.id,tt=this.namespace;if(arguments.length<2){var ot=Vr,ht=Or;try{Or=He,Je(this,function(Rt,At,Ut){Vr=Rt[tt][He],ce.call(Rt,Rt.__data__,At,Ut)})}finally{Vr=ot,Or=ht}}else Je(this,function(Rt){var At=Rt[tt][He];(At.event||(At.event=n.dispatch("start","end","interrupt"))).on(ce,Ee)});return this},sr.transition=function(){for(var ce=this.id,Ee=++Mr,He=this.namespace,tt=[],ot,ht,Rt,At,Ut=0,Vt=this.length;Ut<Vt;Ut++){tt.push(ot=[]);for(var ht=this[Ut],ar=0,Rr=ht.length;ar<Rr;ar++)(Rt=ht[ar])&&(At=Rt[He][ce],In(Rt,ar,He,Ee,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),ot.push(Rt)}return wr(tt,He,Ee)};function Rn(ce){return ce==null?"__transition__":"__transition_"+ce+"__"}function In(ce,Ee,He,tt,ot){var ht=ce[He]||(ce[He]={active:0,count:0}),Rt=ht[tt],At,Ut,Vt,ar,Rr;function kr(zr){var Gr=Rt.delay;if(Ut.t=Gr+At,Gr<=zr)return $r(zr-Gr);Ut.c=$r}function $r(zr){var Gr=ht.active,Jr=ht[Gr];Jr&&(Jr.timer.c=null,Jr.timer.t=NaN,--ht.count,delete ht[Gr],Jr.event&&Jr.event.interrupt.call(ce,ce.__data__,Jr.index));for(var vn in ht)if(+vn<tt){var mn=ht[vn];mn.timer.c=null,mn.timer.t=NaN,--ht.count,delete ht[vn]}Ut.c=ln,Pn(function(){return Ut.c&&ln(zr||1)&&(Ut.c=null,Ut.t=NaN),1},0,At),ht.active=tt,Rt.event&&Rt.event.start.call(ce,ce.__data__,Ee),Rr=[],Rt.tween.forEach(function(en,Gn){(Gn=Gn.call(ce,ce.__data__,Ee))&&Rr.push(Gn)}),ar=Rt.ease,Vt=Rt.duration}function ln(zr){for(var Gr=zr/Vt,Jr=ar(Gr),vn=Rr.length;vn>0;)Rr[--vn].call(ce,Jr);if(Gr>=1)return Rt.event&&Rt.event.end.call(ce,ce.__data__,Ee),--ht.count?delete ht[tt]:delete ce[He],1}Rt||(At=ot.time,Ut=Pn(kr,0,At),Rt=ht[tt]={tween:new R,time:At,timer:Ut,delay:ot.delay,duration:ot.duration,ease:ot.ease,index:Ee},ot=null,++ht.count)}n.svg.axis=function(){var ce=n.scale.linear(),Ee=Qn,He=6,tt=6,ot=3,ht=[10],Rt=null,At;function Ut(Vt){Vt.each(function(){var ar=n.select(this),Rr=this.__chart__||ce,kr=this.__chart__=ce.copy(),$r=Rt??(kr.ticks?kr.ticks.apply(kr,ht):kr.domain()),ln=At??(kr.tickFormat?kr.tickFormat.apply(kr,ht):V),zr=ar.selectAll(".tick").data($r,kr),Gr=zr.enter().insert("g",".domain").attr("class","tick").style("opacity",Ve),Jr=n.transition(zr.exit()).style("opacity",Ve).remove(),vn=n.transition(zr.order()).style("opacity",1),mn=Math.max(He,0)+ot,en,Gn=au(kr),na=ar.selectAll(".domain").data([0]),ha=(na.enter().append("path").attr("class","domain"),n.transition(na));Gr.append("line"),Gr.append("text");var ta=Gr.select("line"),ua=vn.select("line"),va=zr.select("text").text(ln),Ua=Gr.select("text"),Ca=vn.select("text"),Oa=Ee==="top"||Ee==="left"?-1:1,fi,ji,gi,ea;if(Ee==="bottom"||Ee==="top"?(en=Da,fi="x",gi="y",ji="x2",ea="y2",va.attr("dy",Oa<0?"0em":".71em").style("text-anchor","middle"),ha.attr("d","M"+Gn[0]+","+Oa*tt+"V0H"+Gn[1]+"V"+Oa*tt)):(en=_a,fi="y",gi="x",ji="y2",ea="x2",va.attr("dy",".32em").style("text-anchor",Oa<0?"end":"start"),ha.attr("d","M"+Oa*tt+","+Gn[0]+"H0V"+Gn[1]+"H"+Oa*tt)),ta.attr(ea,Oa*He),Ua.attr(gi,Oa*mn),ua.attr(ji,0).attr(ea,Oa*He),Ca.attr(fi,0).attr(gi,Oa*mn),kr.rangeBand){var Va=kr,Ma=Va.rangeBand()/2;Rr=kr=function(qa){return Va(qa)+Ma}}else Rr.rangeBand?Rr=kr:Jr.call(en,kr,Rr);Gr.call(en,Rr,kr),vn.call(en,kr,kr)})}return Ut.scale=function(Vt){return arguments.length?(ce=Vt,Ut):ce},Ut.orient=function(Vt){return arguments.length?(Ee=Vt in ka?Vt+"":Qn,Ut):Ee},Ut.ticks=function(){return arguments.length?(ht=x(arguments),Ut):ht},Ut.tickValues=function(Vt){return arguments.length?(Rt=Vt,Ut):Rt},Ut.tickFormat=function(Vt){return arguments.length?(At=Vt,Ut):At},Ut.tickSize=function(Vt){var ar=arguments.length;return ar?(He=+Vt,tt=+arguments[ar-1],Ut):He},Ut.innerTickSize=function(Vt){return arguments.length?(He=+Vt,Ut):He},Ut.outerTickSize=function(Vt){return arguments.length?(tt=+Vt,Ut):tt},Ut.tickPadding=function(Vt){return arguments.length?(ot=+Vt,Ut):ot},Ut.tickSubdivide=function(){return arguments.length&&Ut},Ut};var Qn="bottom",ka={top:1,right:1,bottom:1,left:1};function Da(ce,Ee,He){ce.attr("transform",function(tt){var ot=Ee(tt);return"translate("+(isFinite(ot)?ot:He(tt))+",0)"})}function _a(ce,Ee,He){ce.attr("transform",function(tt){var ot=Ee(tt);return"translate(0,"+(isFinite(ot)?ot:He(tt))+")"})}n.svg.brush=function(){var ce=oe(ar,"brushstart","brush","brushend"),Ee=null,He=null,tt=[0,0],ot=[0,0],ht,Rt,At=!0,Ut=!0,Vt=$a[0];function ar(zr){zr.each(function(){var Gr=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ln).on("touchstart.brush",ln),Jr=Gr.selectAll(".background").data([0]);Jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Gr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var vn=Gr.selectAll(".resize").data(Vt,V);vn.exit().remove(),vn.enter().append("g").attr("class",function(na){return"resize "+na}).style("cursor",function(na){return Na[na]}).append("rect").attr("x",function(na){return/[ew]$/.test(na)?-3:null}).attr("y",function(na){return/^[ns]/.test(na)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),vn.style("display",ar.empty()?"none":null);var mn=n.transition(Gr),en=n.transition(Jr),Gn;Ee&&(Gn=au(Ee),en.attr("x",Gn[0]).attr("width",Gn[1]-Gn[0]),kr(mn)),He&&(Gn=au(He),en.attr("y",Gn[0]).attr("height",Gn[1]-Gn[0]),$r(mn)),Rr(mn)})}ar.event=function(zr){zr.each(function(){var Gr=ce.of(this,arguments),Jr={x:tt,y:ot,i:ht,j:Rt},vn=this.__chart__||Jr;this.__chart__=Jr,Or?n.select(this).transition().each("start.brush",function(){ht=vn.i,Rt=vn.j,tt=vn.x,ot=vn.y,Gr({type:"brushstart"})}).tween("brush:brush",function(){var mn=$o(tt,Jr.x),en=$o(ot,Jr.y);return ht=Rt=null,function(Gn){tt=Jr.x=mn(Gn),ot=Jr.y=en(Gn),Gr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ht=Jr.i,Rt=Jr.j,Gr({type:"brush",mode:"resize"}),Gr({type:"brushend"})}):(Gr({type:"brushstart"}),Gr({type:"brush",mode:"resize"}),Gr({type:"brushend"}))})};function Rr(zr){zr.selectAll(".resize").attr("transform",function(Gr){return"translate("+tt[+/e$/.test(Gr)]+","+ot[+/^s/.test(Gr)]+")"})}function kr(zr){zr.select(".extent").attr("x",tt[0]),zr.selectAll(".extent,.n>rect,.s>rect").attr("width",tt[1]-tt[0])}function $r(zr){zr.select(".extent").attr("y",ot[0]),zr.selectAll(".extent,.e>rect,.w>rect").attr("height",ot[1]-ot[0])}function ln(){var zr=this,Gr=n.select(n.event.target),Jr=ce.of(zr,arguments),vn=n.select(zr),mn=Gr.datum(),en=!/^(n|s)$/.test(mn)&&Ee,Gn=!/^(e|w)$/.test(mn)&&He,na=Gr.classed("extent"),ha=je(zr),ta,ua=n.mouse(zr),va,Ua=n.select(r(zr)).on("keydown.brush",fi).on("keyup.brush",ji);if(n.event.changedTouches?Ua.on("touchmove.brush",gi).on("touchend.brush",Va):Ua.on("mousemove.brush",gi).on("mouseup.brush",Va),vn.interrupt().selectAll("*").interrupt(),na)ua[0]=tt[0]-ua[0],ua[1]=ot[0]-ua[1];else if(mn){var Ca=+/w$/.test(mn),Oa=+/^n/.test(mn);va=[tt[1-Ca]-ua[0],ot[1-Oa]-ua[1]],ua[0]=tt[Ca],ua[1]=ot[Oa]}else n.event.altKey&&(ta=ua.slice());vn.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Gr.style("cursor")),Jr({type:"brushstart"}),gi();function fi(){n.event.keyCode==32&&(na||(ta=null,ua[0]-=tt[1],ua[1]-=ot[1],na=2),ae())}function ji(){n.event.keyCode==32&&na==2&&(ua[0]+=tt[1],ua[1]+=ot[1],na=0,ae())}function gi(){var Ma=n.mouse(zr),qa=!1;va&&(Ma[0]+=va[0],Ma[1]+=va[1]),na||(n.event.altKey?(ta||(ta=[(tt[0]+tt[1])/2,(ot[0]+ot[1])/2]),ua[0]=tt[+(Ma[0]<ta[0])],ua[1]=ot[+(Ma[1]<ta[1])]):ta=null),en&&ea(Ma,Ee,0)&&(kr(vn),qa=!0),Gn&&ea(Ma,He,1)&&($r(vn),qa=!0),qa&&(Rr(vn),Jr({type:"brush",mode:na?"move":"resize"}))}function ea(Ma,qa,Ei){var ci=au(qa),fo=ci[0],co=ci[1],mo=ua[Ei],Ci=Ei?ot:tt,Ro=Ci[1]-Ci[0],fa,Pa;if(na&&(fo-=mo,co-=Ro+mo),fa=(Ei?Ut:At)?Math.max(fo,Math.min(co,Ma[Ei])):Ma[Ei],na?Pa=(fa+=mo)+Ro:(ta&&(mo=Math.max(fo,Math.min(co,2*ta[Ei]-fa))),mo<fa?(Pa=fa,fa=mo):Pa=mo),Ci[0]!=fa||Ci[1]!=Pa)return Ei?Rt=null:ht=null,Ci[0]=fa,Ci[1]=Pa,!0}function Va(){gi(),vn.style("pointer-events","all").selectAll(".resize").style("display",ar.empty()?"none":null),n.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ha(),Jr({type:"brushend"})}}return ar.x=function(zr){return arguments.length?(Ee=zr,Vt=$a[!Ee<<1|!He],ar):Ee},ar.y=function(zr){return arguments.length?(He=zr,Vt=$a[!Ee<<1|!He],ar):He},ar.clamp=function(zr){return arguments.length?(Ee&&He?(At=!!zr[0],Ut=!!zr[1]):Ee?At=!!zr:He&&(Ut=!!zr),ar):Ee&&He?[At,Ut]:Ee?At:He?Ut:null},ar.extent=function(zr){var Gr,Jr,vn,mn,en;return arguments.length?(Ee&&(Gr=zr[0],Jr=zr[1],He&&(Gr=Gr[0],Jr=Jr[0]),ht=[Gr,Jr],Ee.invert&&(Gr=Ee(Gr),Jr=Ee(Jr)),Jr<Gr&&(en=Gr,Gr=Jr,Jr=en),(Gr!=tt[0]||Jr!=tt[1])&&(tt=[Gr,Jr])),He&&(vn=zr[0],mn=zr[1],Ee&&(vn=vn[1],mn=mn[1]),Rt=[vn,mn],He.invert&&(vn=He(vn),mn=He(mn)),mn<vn&&(en=vn,vn=mn,mn=en),(vn!=ot[0]||mn!=ot[1])&&(ot=[vn,mn])),ar):(Ee&&(ht?(Gr=ht[0],Jr=ht[1]):(Gr=tt[0],Jr=tt[1],Ee.invert&&(Gr=Ee.invert(Gr),Jr=Ee.invert(Jr)),Jr<Gr&&(en=Gr,Gr=Jr,Jr=en))),He&&(Rt?(vn=Rt[0],mn=Rt[1]):(vn=ot[0],mn=ot[1],He.invert&&(vn=He.invert(vn),mn=He.invert(mn)),mn<vn&&(en=vn,vn=mn,mn=en))),Ee&&He?[[Gr,vn],[Jr,mn]]:Ee?[Gr,Jr]:He&&[vn,mn])},ar.clear=function(){return ar.empty()||(tt=[0,0],ot=[0,0],ht=Rt=null),ar},ar.empty=function(){return!!Ee&&tt[0]==tt[1]||!!He&&ot[0]==ot[1]},n.rebind(ar,ce,"on")};var Na={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$a=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=Cn(function(ce){return ce.responseText}),n.json=function(ce,Ee){return an(ce,"application/json",xi,Ee)};function xi(ce){return JSON.parse(ce.responseText)}n.html=function(ce,Ee){return an(ce,"text/html",Gi,Ee)};function Gi(ce){var Ee=v.createRange();return Ee.selectNode(v.body),Ee.createContextualFragment(ce.responseText)}n.xml=Cn(function(ce){return ce.responseXML}),d=n,P=typeof d=="function"?d.call(N,e,N,U):d,P!==void 0&&(U.exports=P)}).apply(self)},3480:function(U){(function(N,e){U.exports=e()})(this,function(){var N,e,d;function P(n,C){if(!N)N=C;else if(!e)e=C;else{var x="var sharedChunk = {}; ("+N+")(sharedChunk); ("+e+")(sharedChunk);",v={};N(v),d=C(v),typeof window<"u"&&(d.workerUrl=window.URL.createObjectURL(new Blob([x],{type:"text/javascript"})))}}return P(["exports"],function(n){function C(k,D){return D={exports:{}},k(D,D.exports),D.exports}var x="1.13.4",v=p;function p(k,D,W,ie){this.cx=3*k,this.bx=3*(W-k)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ie-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=k,this.p1y=ie,this.p2x=W,this.p2y=ie}p.prototype.sampleCurveX=function(k){return((this.ax*k+this.bx)*k+this.cx)*k},p.prototype.sampleCurveY=function(k){return((this.ay*k+this.by)*k+this.cy)*k},p.prototype.sampleCurveDerivativeX=function(k){return(3*this.ax*k+2*this.bx)*k+this.cx},p.prototype.solveCurveX=function(k,D){typeof D>"u"&&(D=1e-6);var W,ie,pe,Ae,De;for(pe=k,De=0;De<8;De++){if(Ae=this.sampleCurveX(pe)-k,Math.abs(Ae)<D)return pe;var qe=this.sampleCurveDerivativeX(pe);if(Math.abs(qe)<1e-6)break;pe=pe-Ae/qe}if(W=0,ie=1,pe=k,pe<W)return W;if(pe>ie)return ie;for(;W<ie;){if(Ae=this.sampleCurveX(pe),Math.abs(Ae-k)<D)return pe;k>Ae?W=pe:ie=pe,pe=(ie-W)*.5+W}return pe},p.prototype.solve=function(k,D){return this.sampleCurveY(this.solveCurveX(k,D))};var r=t;function t(k,D){this.x=k,this.y=D}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(k){return this.clone()._add(k)},sub:function(k){return this.clone()._sub(k)},multByPoint:function(k){return this.clone()._multByPoint(k)},divByPoint:function(k){return this.clone()._divByPoint(k)},mult:function(k){return this.clone()._mult(k)},div:function(k){return this.clone()._div(k)},rotate:function(k){return this.clone()._rotate(k)},rotateAround:function(k,D){return this.clone()._rotateAround(k,D)},matMult:function(k){return this.clone()._matMult(k)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(k){return this.x===k.x&&this.y===k.y},dist:function(k){return Math.sqrt(this.distSqr(k))},distSqr:function(k){var D=k.x-this.x,W=k.y-this.y;return D*D+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(k){return Math.atan2(this.y-k.y,this.x-k.x)},angleWith:function(k){return this.angleWithSep(k.x,k.y)},angleWithSep:function(k,D){return Math.atan2(this.x*D-this.y*k,this.x*k+this.y*D)},_matMult:function(k){var D=k[0]*this.x+k[1]*this.y,W=k[2]*this.x+k[3]*this.y;return this.x=D,this.y=W,this},_add:function(k){return this.x+=k.x,this.y+=k.y,this},_sub:function(k){return this.x-=k.x,this.y-=k.y,this},_mult:function(k){return this.x*=k,this.y*=k,this},_div:function(k){return this.x/=k,this.y/=k,this},_multByPoint:function(k){return this.x*=k.x,this.y*=k.y,this},_divByPoint:function(k){return this.x/=k.x,this.y/=k.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var k=this.y;return this.y=this.x,this.x=-k,this},_rotate:function(k){var D=Math.cos(k),W=Math.sin(k),ie=D*this.x-W*this.y,pe=W*this.x+D*this.y;return this.x=ie,this.y=pe,this},_rotateAround:function(k,D){var W=Math.cos(k),ie=Math.sin(k),pe=D.x+W*(this.x-D.x)-ie*(this.y-D.y),Ae=D.y+ie*(this.x-D.x)+W*(this.y-D.y);return this.x=pe,this.y=Ae,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(k){return k instanceof t?k:Array.isArray(k)?new t(k[0],k[1]):k};var o=typeof self<"u"?self:{};function a(k,D){if(Array.isArray(k)){if(!Array.isArray(D)||k.length!==D.length)return!1;for(var W=0;W<k.length;W++)if(!a(k[W],D[W]))return!1;return!0}if(typeof k=="object"&&k!==null&&D!==null){if(typeof D!="object")return!1;var ie=Object.keys(k);if(ie.length!==Object.keys(D).length)return!1;for(var pe in k)if(!a(k[pe],D[pe]))return!1;return!0}return k===D}var u=Math.pow(2,53)-1;function f(k){if(k<=0)return 0;if(k>=1)return 1;var D=k*k,W=D*k;return 4*(k<.5?W:3*(k-D)+W-.75)}function l(k,D,W,ie){var pe=new v(k,D,W,ie);return function(Ae){return pe.solve(Ae)}}var y=l(.25,.1,.25,1);function c(k,D,W){return Math.min(W,Math.max(D,k))}function T(k,D,W){var ie=W-D,pe=((k-D)%ie+ie)%ie+D;return pe===D?W:pe}function h(k,D,W){if(!k.length)return W(null,[]);var ie=k.length,pe=new Array(k.length),Ae=null;k.forEach(function(De,qe){D(De,function(pt,St){pt&&(Ae=pt),pe[qe]=St,--ie===0&&W(Ae,pe)})})}function i(k){var D=[];for(var W in k)D.push(k[W]);return D}function g(k,D){var W=[];for(var ie in k)ie in D||W.push(ie);return W}function b(k){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var ie=0,pe=D;ie<pe.length;ie+=1){var Ae=pe[ie];for(var De in Ae)k[De]=Ae[De]}return k}function A(k,D){for(var W={},ie=0;ie<D.length;ie++){var pe=D[ie];pe in k&&(W[pe]=k[pe])}return W}var R=1;function m(){return R++}function L(){function k(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,k)}return k()}function M(k){return k<=1?1:Math.pow(2,Math.ceil(Math.log(k)/Math.LN2))}function s(k){return k?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(k):!1}function S(k,D){k.forEach(function(W){D[W]&&(D[W]=D[W].bind(D))})}function w(k,D){return k.indexOf(D,k.length-D.length)!==-1}function _(k,D,W){var ie={};for(var pe in k)ie[pe]=D.call(W||this,k[pe],pe,k);return ie}function I(k,D,W){var ie={};for(var pe in k)D.call(W||this,k[pe],pe,k)&&(ie[pe]=k[pe]);return ie}function H(k){return Array.isArray(k)?k.map(H):typeof k=="object"&&k?_(k,H):k}function O(k,D){for(var W=0;W<k.length;W++)if(D.indexOf(k[W])>=0)return!0;return!1}var V={};function B(k){V[k]||(typeof console<"u"&&console.warn(k),V[k]=!0)}function F(k,D,W){return(W.y-k.y)*(D.x-k.x)>(D.y-k.y)*(W.x-k.x)}function G(k){for(var D=0,W=0,ie=k.length,pe=ie-1,Ae=void 0,De=void 0;W<ie;pe=W++)Ae=k[W],De=k[pe],D+=(De.x-Ae.x)*(Ae.y+De.y);return D}function Y(k){var D=k[0],W=k[1],ie=k[2];return W+=90,W*=Math.PI/180,ie*=Math.PI/180,{x:D*Math.cos(W)*Math.sin(ie),y:D*Math.sin(W)*Math.sin(ie),z:D*Math.cos(ie)}}function Q(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function te(k){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(k.replace(D,function(pe,Ae,De,qe){var pt=De||qe;return W[Ae]=pt?pt.toLowerCase():!0,""}),W["max-age"]){var ie=parseInt(W["max-age"],10);isNaN(ie)?delete W["max-age"]:W["max-age"]=ie}return W}var ae=null;function fe(k){if(ae==null){var D=k.navigator?k.navigator.userAgent:null;ae=!!k.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return ae}function oe(k){try{var D=o[k];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function J(k){return o.btoa(encodeURIComponent(k).replace(/%([0-9A-F]{2})/g,function(D,W){return String.fromCharCode(+("0x"+W))}))}function ee(k){return decodeURIComponent(o.atob(k).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var X=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),q=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,le=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,$,j,se={now:X,frame:function(D){var W=q(D);return{cancel:function(){return le(W)}}},getImageData:function(D,W){W===void 0&&(W=0);var ie=o.document.createElement("canvas"),pe=ie.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ie.width=D.width,ie.height=D.height,pe.drawImage(D,0,0,D.width,D.height),pe.getImageData(-W,-W,D.width+2*W,D.height+2*W)},resolveURL:function(D){return $||($=o.document.createElement("a")),$.href=D,$.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return o.matchMedia?(j==null&&(j=o.matchMedia("(prefers-reduced-motion: reduce)")),j.matches):!1}},ne={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},he={supported:!1,testSupport:Ie},me,we=!1,Te,Le=!1;o.document&&(Te=o.document.createElement("img"),Te.onload=function(){me&&ze(me),me=null,Le=!0},Te.onerror=function(){we=!0,me=null},Te.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ie(k){we||!Te||(Le?ze(k):me=k)}function ze(k){var D=k.createTexture();k.bindTexture(k.TEXTURE_2D,D);try{if(k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,Te),k.isContextLost())return;he.supported=!0}catch{}k.deleteTexture(D),we=!0}var Me="01";function _e(){for(var k="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ie=0;ie<10;ie++)W+=D[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Ae=[k,Me,W].join(""),De=Date.now()+pe;return{token:Ae,tokenExpiresAt:De}}var Ce=function(D,W){this._transformRequestFn=D,this._customAccessToken=W,this._createSkuToken()};Ce.prototype._createSkuToken=function(){var D=_e();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Ce.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ce.prototype.transformRequest=function(D,W){return this._transformRequestFn?this._transformRequestFn(D,W)||{url:D}:{url:D}},Ce.prototype.normalizeStyleURL=function(D,W){if(!Oe(D))return D;var ie=et(D);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ce.prototype.normalizeGlyphsURL=function(D,W){if(!Oe(D))return D;var ie=et(D);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ce.prototype.normalizeSourceURL=function(D,W){if(!Oe(D))return D;var ie=et(D);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||W)},Ce.prototype.normalizeSpriteURL=function(D,W,ie,pe){var Ae=et(D);return Oe(D)?(Ae.path="/styles/v1"+Ae.path+"/sprite"+W+ie,this._makeAPIURL(Ae,this._customAccessToken||pe)):(Ae.path+=""+W+ie,ft(Ae))},Ce.prototype.normalizeTileURL=function(D,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!Oe(D))return D;var ie=et(D),pe=/(\.(png|jpg)\d*)(?=$)/,Ae=/^.+\/v4\//,De=se.devicePixelRatio>=2||W===512?"@2x":"",qe=he.supported?".webp":"$1";ie.path=ie.path.replace(pe,""+De+qe),ie.path=ie.path.replace(Ae,"/"),ie.path="/v4"+ie.path;var pt=this._customAccessToken||it(ie.params)||ne.ACCESS_TOKEN;return ne.REQUIRE_ACCESS_TOKEN&&pt&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,pt)},Ce.prototype.canonicalizeTileURL=function(D,W){var ie="/v4/",pe=/\.[\w]+$/,Ae=et(D);if(!Ae.path.match(/(^\/v4\/)/)||!Ae.path.match(pe))return D;var De="mapbox://tiles/";De+=Ae.path.replace(ie,"");var qe=Ae.params;return W&&(qe=qe.filter(function(pt){return!pt.match(/^access_token=/)})),qe.length&&(De+="?"+qe.join("&")),De},Ce.prototype.canonicalizeTileset=function(D,W){for(var ie=W?Oe(W):!1,pe=[],Ae=0,De=D.tiles||[];Ae<De.length;Ae+=1){var qe=De[Ae];Ge(qe)?pe.push(this.canonicalizeTileURL(qe,ie)):pe.push(qe)}return pe},Ce.prototype._makeAPIURL=function(D,W){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=et(ne.API_URL);if(D.protocol=pe.protocol,D.authority=pe.authority,D.protocol==="http"){var Ae=D.params.indexOf("secure");Ae>=0&&D.params.splice(Ae,1)}if(pe.path!=="/"&&(D.path=""+pe.path+D.path),!ne.REQUIRE_ACCESS_TOKEN)return ft(D);if(W=W||ne.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return D.params=D.params.filter(function(De){return De.indexOf("access_token")===-1}),D.params.push("access_token="+W),ft(D)};function Oe(k){return k.indexOf("mapbox:")===0}var Pe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ge(k){return Pe.test(k)}function Ze(k){return k.indexOf("sku=")>0&&Ge(k)}function it(k){for(var D=0,W=k;D<W.length;D+=1){var ie=W[D],pe=ie.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var Je=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function et(k){var D=k.match(Je);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ft(k){var D=k.params.length?"?"+k.params.join("&"):"";return k.protocol+"://"+k.authority+k.path+D}var vt="mapbox.eventData";function dt(k){if(!k)return null;var D=k.split(".");if(!D||D.length!==3)return null;try{var W=JSON.parse(ee(D[1]));return W}catch{return null}}var xt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};xt.prototype.getStorageKey=function(D){var W=dt(ne.ACCESS_TOKEN),ie="";return W&&W.u?ie=J(W.u):ie=ne.ACCESS_TOKEN||"",D?vt+"."+D+":"+ie:vt+":"+ie},xt.prototype.fetchEventData=function(){var D=oe("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(D)try{var pe=o.localStorage.getItem(W);pe&&(this.eventData=JSON.parse(pe));var Ae=o.localStorage.getItem(ie);Ae&&(this.anonId=Ae)}catch{B("Unable to read from LocalStorage")}},xt.prototype.saveEventData=function(){var D=oe("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(D)try{o.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},xt.prototype.processRequests=function(D){},xt.prototype.postEvent=function(D,W,ie,pe){var Ae=this;if(ne.EVENTS_URL){var De=et(ne.EVENTS_URL);De.params.push("access_token="+(pe||ne.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:x,skuId:Me,userId:this.anonId},pt=W?b(qe,W):qe,St={url:ft(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([pt])};this.pendingRequest=Nt(St,function(kt){Ae.pendingRequest=null,ie(kt),Ae.saveEventData(),Ae.processRequests(pe)})}},xt.prototype.queueRequest=function(D,W){this.queue.push(D),this.processRequests(W)};var Mt=function(k){function D(){k.call(this,"map.load"),this.success={},this.skuToken=""}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ie,pe,Ae,De){this.skuToken=Ae,(ne.EVENTS_URL&&De||ne.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(qe){return Oe(qe)||Ge(qe)}))&&this.queueRequest({id:pe,timestamp:Date.now()},De)},D.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Ae=this.queue.shift(),De=Ae.id,qe=Ae.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=L()),this.postEvent(qe,{skuToken:this.skuToken},function(pt){pt||De&&(pe.success[De]=!0)},ie))}},D}(xt),nt=function(k){function D(W){k.call(this,"appUserTurnstile"),this._customAccessToken=W}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ie,pe){ne.EVENTS_URL&&ne.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Ae){return Oe(Ae)||Ge(Ae)})&&this.queueRequest(Date.now(),pe)},D.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Ae=dt(ne.ACCESS_TOKEN),De=Ae?Ae.u:ne.ACCESS_TOKEN,qe=De!==this.eventData.tokenU;s(this.anonId)||(this.anonId=L(),qe=!0);var pt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),kt=new Date(pt),Gt=(pt-this.eventData.lastSuccess)/(24*60*60*1e3);qe=qe||Gt>=1||Gt<-1||St.getDate()!==kt.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(pt,{"enabled.telemetry":!1},function(ir){ir||(pe.eventData.lastSuccess=pt,pe.eventData.tokenU=De)},ie)}},D}(xt),Fe=new nt,We=Fe.postTurnstileEvent.bind(Fe),je=new Mt,Ke=je.postMapLoadEvent.bind(je),ke="mapbox-tiles",Ue=500,Ve=50,Re=1e3*60*7,de;function be(){o.caches&&!de&&(de=o.caches.open(ke))}var Ne;function Ye(k,D){if(Ne===void 0)try{new Response(new ReadableStream),Ne=!0}catch{Ne=!1}Ne?D(k.body):k.blob().then(D)}function at(k,D,W){if(be(),!!de){var ie={status:D.status,statusText:D.statusText,headers:new o.Headers};D.headers.forEach(function(De,qe){return ie.headers.set(qe,De)});var pe=te(D.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ie.headers.set("Expires",new Date(W+pe["max-age"]*1e3).toUTCString());var Ae=new Date(ie.headers.get("Expires")).getTime()-W;Ae<Re||Ye(D,function(De){var qe=new o.Response(De,ie);be(),de&&de.then(function(pt){return pt.put(lt(k.url),qe)}).catch(function(pt){return B(pt.message)})})}}}function lt(k){var D=k.indexOf("?");return D<0?k:k.slice(0,D)}function Ht(k,D){if(be(),!de)return D(null);var W=lt(k.url);de.then(function(ie){ie.match(W).then(function(pe){var Ae=Yt(pe);ie.delete(W),Ae&&ie.put(W,pe.clone()),D(null,pe,Ae)}).catch(D)}).catch(D)}function Yt(k){if(!k)return!1;var D=new Date(k.headers.get("Expires")||0),W=te(k.headers.get("Cache-Control")||"");return D>Date.now()&&!W["no-cache"]}var Tt=1/0;function Lt(k){Tt++,Tt>Ve&&(k.getActor().send("enforceCacheSizeLimit",Ue),Tt=0)}function Kt(k){be(),de&&de.then(function(D){D.keys().then(function(W){for(var ie=0;ie<W.length-k;ie++)D.delete(W[ie])})})}function vr(k){var D=o.caches.delete(ke);k&&D.catch(k).then(function(){return k()})}function gt(k,D){Ue=k,Ve=D}var Xt;function $t(){return Xt==null&&(Xt=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&typeof o.createImageBitmap=="function"),Xt}var mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mr);var or=function(k){function D(W,ie,pe){ie===401&&Ge(pe)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),k.call(this,W),this.status=ie,this.url=pe,this.name=this.constructor.name,this.message=W}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),yt=Q()?function(){return self.worker&&self.worker.referrer}:function(){return(o.location.protocol==="blob:"?o.parent:o).location.href},ut=function(k){return/^file:/.test(k)||/^file:/.test(yt())&&!/^\w+:/.test(k)};function bt(k,D){var W=new o.AbortController,ie=new o.Request(k.url,{method:k.method||"GET",body:k.body,credentials:k.credentials,headers:k.headers,referrer:yt(),signal:W.signal}),pe=!1,Ae=!1,De=Ze(ie.url);k.type==="json"&&ie.headers.set("Accept","application/json");var qe=function(St,kt,Gt){if(!Ae){if(St&&St.message!=="SecurityError"&&B(St),kt&&Gt)return pt(kt);var ir=Date.now();o.fetch(ie).then(function(rr){if(rr.ok){var br=De?rr.clone():null;return pt(rr,br,ir)}else return D(new or(rr.statusText,rr.status,k.url))}).catch(function(rr){rr.code!==20&&D(new Error(rr.message))})}},pt=function(St,kt,Gt){(k.type==="arrayBuffer"?St.arrayBuffer():k.type==="json"?St.json():St.text()).then(function(ir){Ae||(kt&&Gt&&at(ie,kt,Gt),pe=!0,D(null,ir,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(ir){Ae||D(new Error(ir.message))})};return De?Ht(ie,qe):qe(null,null),{cancel:function(){Ae=!0,pe||W.abort()}}}function Et(k,D){var W=new o.XMLHttpRequest;W.open(k.method||"GET",k.url,!0),k.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ie in k.headers)W.setRequestHeader(ie,k.headers[ie]);return k.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=k.credentials==="include",W.onerror=function(){D(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var pe=W.response;if(k.type==="json")try{pe=JSON.parse(W.response)}catch(Ae){return D(Ae)}D(null,pe,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else D(new or(W.statusText,W.status,k.url))},W.send(k.body),{cancel:function(){return W.abort()}}}var It=function(k,D){if(!ut(k.url)){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return bt(k,D);if(Q()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",k,D,void 0,W)}}return Et(k,D)},Ft=function(k,D){return It(b(k,{type:"json"}),D)},Ot=function(k,D){return It(b(k,{type:"arrayBuffer"}),D)},Nt=function(k,D){return It(b(k,{method:"POST"}),D)};function Jt(k){var D=o.document.createElement("a");return D.href=k,D.protocol===o.document.location.protocol&&D.host===o.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(k,D,W,ie){var pe=new o.Image,Ae=o.URL;pe.onload=function(){D(null,pe),Ae.revokeObjectURL(pe.src),pe.onload=null,o.requestAnimationFrame(function(){pe.src=hr})},pe.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new o.Blob([new Uint8Array(k)],{type:"image/png"});pe.cacheControl=W,pe.expires=ie,pe.src=k.byteLength?Ae.createObjectURL(De):hr}function dr(k,D){var W=new o.Blob([new Uint8Array(k)],{type:"image/png"});o.createImageBitmap(W).then(function(ie){D(null,ie)}).catch(function(ie){D(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var fr,Lr,xr=function(){fr=[],Lr=0};xr();var Qe=function(k,D){if(he.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),Lr>=ne.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:k,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return fr.push(W),W}Lr++;var ie=!1,pe=function(){if(!ie)for(ie=!0,Lr--;fr.length&&Lr<ne.MAX_PARALLEL_IMAGE_REQUESTS;){var De=fr.shift(),qe=De.requestParameters,pt=De.callback,St=De.cancelled;St||(De.cancel=Qe(qe,pt).cancel)}},Ae=Ot(k,function(De,qe,pt,St){pe(),De?D(De):qe&&($t()?dr(qe,D):cr(qe,D,pt,St))});return{cancel:function(){Ae.cancel(),pe()}}},rt=function(k,D){var W=o.document.createElement("video");W.muted=!0,W.onloadstart=function(){D(null,W)};for(var ie=0;ie<k.length;ie++){var pe=o.document.createElement("source");Jt(k[ie])||(W.crossOrigin="Anonymous"),pe.src=k[ie],W.appendChild(pe)}return{cancel:function(){}}};function er(k,D,W){var ie=W[k]&&W[k].indexOf(D)!==-1;ie||(W[k]=W[k]||[],W[k].push(D))}function tr(k,D,W){if(W&&W[k]){var ie=W[k].indexOf(D);ie!==-1&&W[k].splice(ie,1)}}var jt=function(D,W){W===void 0&&(W={}),b(this,W),this.type=D},Pt=function(k){function D(W,ie){ie===void 0&&(ie={}),k.call(this,"error",b({error:W},ie))}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D}(jt),Zt=function(){};Zt.prototype.on=function(D,W){return this._listeners=this._listeners||{},er(D,W,this._listeners),this},Zt.prototype.off=function(D,W){return tr(D,W,this._listeners),tr(D,W,this._oneTimeListeners),this},Zt.prototype.once=function(D,W){return this._oneTimeListeners=this._oneTimeListeners||{},er(D,W,this._oneTimeListeners),this},Zt.prototype.fire=function(D,W){typeof D=="string"&&(D=new jt(D,W||{}));var ie=D.type;if(this.listens(ie)){D.target=this;for(var pe=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Ae=0,De=pe;Ae<De.length;Ae+=1){var qe=De[Ae];qe.call(this,D)}for(var pt=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],St=0,kt=pt;St<kt.length;St+=1){var Gt=kt[St];tr(ie,Gt,this._oneTimeListeners),Gt.call(this,D)}var ir=this._eventedParent;ir&&(b(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(D))}else D instanceof Pt&&console.error(D.error);return this},Zt.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},Zt.prototype.setEventedParent=function(D,W){return this._eventedParent=D,this._eventedParentData=W,this};var nr=8,Qt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},Wt={"*":{type:"source"}},yr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Dr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Tr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},dn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Nr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Cn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},an={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},gr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Pr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Xr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},_r={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},rn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},An={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Wn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ya={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ta={type:"array",value:"*"},sa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},aa={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},kn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Cr={type:"array",value:"*",minimum:1},on={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sn=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],un={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Bn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},yn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Ln={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Un={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},qn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},da={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ar={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Br={"*":{type:"string"}},Sr={$version:nr,$root:Qt,sources:Wt,source:yr,source_vector:Dr,source_raster:Tr,source_raster_dem:dn,source_geojson:Nr,source_video:Cn,source_image:an,layer:gr,layout:Pr,layout_background:Xr,layout_fill:_r,layout_circle:gn,layout_heatmap:rn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:An,layout_symbol:Pn,layout_raster:Wn,layout_hillshade:ya,filter:Ta,filter_operator:sa,geometry_type:aa,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:kn,expression:Cr,light:on,paint:sn,paint_fill:un,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Bn,paint_circle:yn,paint_heatmap:Ln,paint_symbol:Un,paint_raster:qn,paint_hillshade:da,paint_background:Ia,transition:Ar,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Br},Ur=function(D,W,ie,pe){this.message=(D?D+": ":"")+ie,pe&&(this.identifier=pe),W!=null&&W.__line__&&(this.line=W.__line__)};function fn(k){var D=k.key,W=k.value;return W?[new Ur(D,W,"constants have been deprecated as of v8")]:[]}function Dn(k){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var ie=0,pe=D;ie<pe.length;ie+=1){var Ae=pe[ie];for(var De in Ae)k[De]=Ae[De]}return k}function xn(k){return k instanceof Number||k instanceof String||k instanceof Boolean?k.valueOf():k}function hn(k){if(Array.isArray(k))return k.map(hn);if(k instanceof Object&&!(k instanceof Number||k instanceof String||k instanceof Boolean)){var D={};for(var W in k)D[W]=hn(k[W]);return D}return xn(k)}var Er=function(k){function D(W,ie){k.call(this,ie),this.message=ie,this.key=W}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D}(Error),Yr=function(D,W){W===void 0&&(W=[]),this.parent=D,this.bindings={};for(var ie=0,pe=W;ie<pe.length;ie+=1){var Ae=pe[ie],De=Ae[0],qe=Ae[1];this.bindings[De]=qe}};Yr.prototype.concat=function(D){return new Yr(this,D)},Yr.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Yr.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Wr={kind:"null"},qr={kind:"number"},Tn={kind:"string"},Sn={kind:"boolean"},Nn={kind:"color"},Hn={kind:"object"},zn={kind:"value"},Yn={kind:"error"},Kn={kind:"collator"},la={kind:"formatted"},Ra={kind:"resolvedImage"};function wi(k,D){return{kind:"array",itemType:k,N:D}}function ii(k){if(k.kind==="array"){var D=ii(k.itemType);return typeof k.N=="number"?"array<"+D+", "+k.N+">":k.itemType.kind==="value"?"array":"array<"+D+">"}else return k.kind}var Lo=[Wr,qr,Tn,Sn,Nn,la,Hn,wi(zn),Ra];function Wo(k,D){if(D.kind==="error")return null;if(k.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Wo(k.itemType,D.itemType))&&(typeof k.N!="number"||k.N===D.N))return null}else{if(k.kind===D.kind)return null;if(k.kind==="value")for(var W=0,ie=Lo;W<ie.length;W+=1){var pe=ie[W];if(!Wo(pe,D))return null}}return"Expected "+ii(k)+" but found "+ii(D)+" instead."}function po(k,D){return D.some(function(W){return W.kind===k.kind})}function Vs(k,D){return D.some(function(W){return W==="null"?k===null:W==="array"?Array.isArray(k):W==="object"?k&&!Array.isArray(k)&&typeof k=="object":W===typeof k})}var Yl=C(function(k,D){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(St){return St=Math.round(St),St<0?0:St>255?255:St}function pe(St){return St<0?0:St>1?1:St}function Ae(St){return St[St.length-1]==="%"?ie(parseFloat(St)/100*255):ie(parseInt(St))}function De(St){return St[St.length-1]==="%"?pe(parseFloat(St)/100):pe(parseFloat(St))}function qe(St,kt,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?St+(kt-St)*Gt*6:Gt*2<1?kt:Gt*3<2?St+(kt-St)*(2/3-Gt)*6:St}function pt(St){var kt=St.replace(/ /g,"").toLowerCase();if(kt in W)return W[kt].slice();if(kt[0]==="#"){if(kt.length===4){var Gt=parseInt(kt.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(kt.length===7){var Gt=parseInt(kt.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var ir=kt.indexOf("("),rr=kt.indexOf(")");if(ir!==-1&&rr+1===kt.length){var br=kt.substr(0,ir),Hr=kt.substr(ir+1,rr-(ir+1)).split(","),cn=1;switch(br){case"rgba":if(Hr.length!==4)return null;cn=De(Hr.pop());case"rgb":return Hr.length!==3?null:[Ae(Hr[0]),Ae(Hr[1]),Ae(Hr[2]),cn];case"hsla":if(Hr.length!==4)return null;cn=De(Hr.pop());case"hsl":if(Hr.length!==3)return null;var tn=(parseFloat(Hr[0])%360+360)%360/360,En=De(Hr[1]),bn=De(Hr[2]),Mn=bn<=.5?bn*(En+1):bn+En-bn*En,On=bn*2-Mn;return[ie(qe(On,Mn,tn+1/3)*255),ie(qe(On,Mn,tn)*255),ie(qe(On,Mn,tn-1/3)*255),cn];default:return null}}return null}try{D.parseCSSColor=pt}catch{}}),Eu=Yl.parseCSSColor,oi=function(D,W,ie,pe){pe===void 0&&(pe=1),this.r=D,this.g=W,this.b=ie,this.a=pe};oi.parse=function(D){if(D){if(D instanceof oi)return D;if(typeof D=="string"){var W=Eu(D);if(W)return new oi(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},oi.prototype.toString=function(){var D=this.toArray(),W=D[0],ie=D[1],pe=D[2],Ae=D[3];return"rgba("+Math.round(W)+","+Math.round(ie)+","+Math.round(pe)+","+Ae+")"},oi.prototype.toArray=function(){var D=this,W=D.r,ie=D.g,pe=D.b,Ae=D.a;return Ae===0?[0,0,0,0]:[W*255/Ae,ie*255/Ae,pe*255/Ae,Ae]},oi.black=new oi(0,0,0,1),oi.white=new oi(1,1,1,1),oi.transparent=new oi(0,0,0,0),oi.red=new oi(1,0,0,1);var Cu=function(D,W,ie){D?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Cu.prototype.compare=function(D,W){return this.collator.compare(D,W)},Cu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Bf=function(D,W,ie,pe,Ae){this.text=D,this.image=W,this.scale=ie,this.fontStack=pe,this.textColor=Ae},so=function(D){this.sections=D};so.fromString=function(D){return new so([new Bf(D,null,null,null,null)])},so.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},so.factory=function(D){return D instanceof so?D:so.fromString(D)},so.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},so.prototype.serialize=function(){for(var D=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];if(pe.image){D.push(["image",pe.image.name]);continue}D.push(pe.text);var Ae={};pe.fontStack&&(Ae["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Ae["font-scale"]=pe.scale),pe.textColor&&(Ae["text-color"]=["rgba"].concat(pe.textColor.toArray())),D.push(Ae)}return D};var zo=function(D){this.name=D.name,this.available=D.available};zo.prototype.toString=function(){return this.name},zo.fromString=function(D){return D?new zo({name:D,available:!1}):null},zo.prototype.serialize=function(){return["image",this.name]};function Xl(k,D,W,ie){if(!(typeof k=="number"&&k>=0&&k<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof W=="number"&&W>=0&&W<=255)){var pe=typeof ie=="number"?[k,D,W,ie]:[k,D,W];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[k,D,W,ie].join(", ")+"]: 'a' must be between 0 and 1."}function uf(k){if(k===null)return!0;if(typeof k=="string")return!0;if(typeof k=="boolean")return!0;if(typeof k=="number")return!0;if(k instanceof oi)return!0;if(k instanceof Cu)return!0;if(k instanceof so)return!0;if(k instanceof zo)return!0;if(Array.isArray(k)){for(var D=0,W=k;D<W.length;D+=1){var ie=W[D];if(!uf(ie))return!1}return!0}else if(typeof k=="object"){for(var pe in k)if(!uf(k[pe]))return!1;return!0}else return!1}function Hi(k){if(k===null)return Wr;if(typeof k=="string")return Tn;if(typeof k=="boolean")return Sn;if(typeof k=="number")return qr;if(k instanceof oi)return Nn;if(k instanceof Cu)return Kn;if(k instanceof so)return la;if(k instanceof zo)return Ra;if(Array.isArray(k)){for(var D=k.length,W,ie=0,pe=k;ie<pe.length;ie+=1){var Ae=pe[ie],De=Hi(Ae);if(!W)W=De;else{if(W===De)continue;W=zn;break}}return wi(W||zn,D)}else return Hn}function Zl(k){var D=typeof k;return k===null?"":D==="string"||D==="number"||D==="boolean"?String(k):k instanceof oi||k instanceof so||k instanceof zo?k.toString():JSON.stringify(k)}var Wi=function(D,W){this.type=D,this.value=W};Wi.parse=function(D,W){if(D.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!uf(D[1]))return W.error("invalid value");var ie=D[1],pe=Hi(ie),Ae=W.expectedType;return pe.kind==="array"&&pe.N===0&&Ae&&Ae.kind==="array"&&(typeof Ae.N!="number"||Ae.N===0)&&(pe=Ae),new Wi(pe,ie)},Wi.prototype.evaluate=function(){return this.value},Wi.prototype.eachChild=function(){},Wi.prototype.outputDefined=function(){return!0},Wi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof oi?["rgba"].concat(this.value.toArray()):this.value instanceof so?this.value.serialize():this.value};var eo=function(D){this.name="ExpressionEvaluationError",this.message=D};eo.prototype.toJSON=function(){return this.message};var Kl={string:Tn,number:qr,boolean:Sn,object:Hn},go=function(D,W){this.type=D,this.args=W};go.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ie=1,pe,Ae=D[0];if(Ae==="array"){var De;if(D.length>2){var qe=D[1];if(typeof qe!="string"||!(qe in Kl)||qe==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);De=Kl[qe],ie++}else De=zn;var pt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return W.error('The length argument to "array" must be a positive integer literal',2);pt=D[2],ie++}pe=wi(De,pt)}else pe=Kl[Ae];for(var St=[];ie<D.length;ie++){var kt=W.parse(D[ie],ie,zn);if(!kt)return null;St.push(kt)}return new go(pe,St)},go.prototype.evaluate=function(D){for(var W=0;W<this.args.length;W++){var ie=this.args[W].evaluate(D),pe=Wo(this.type,Hi(ie));if(pe){if(W===this.args.length-1)throw new eo("Expected value to be of type "+ii(this.type)+", but found "+ii(Hi(ie))+" instead.")}else return ie}return null},go.prototype.eachChild=function(D){this.args.forEach(D)},go.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},go.prototype.serialize=function(){var D=this.type,W=[D.kind];if(D.kind==="array"){var ie=D.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){W.push(ie.kind);var pe=D.N;(typeof pe=="number"||this.args.length>1)&&W.push(pe)}}return W.concat(this.args.map(function(Ae){return Ae.serialize()}))};var yo=function(D){this.type=la,this.sections=D};yo.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ie=D[1];if(!Array.isArray(ie)&&typeof ie=="object")return W.error("First argument must be an image or text section.");for(var pe=[],Ae=!1,De=1;De<=D.length-1;++De){var qe=D[De];if(Ae&&typeof qe=="object"&&!Array.isArray(qe)){Ae=!1;var pt=null;if(qe["font-scale"]&&(pt=W.parse(qe["font-scale"],1,qr),!pt))return null;var St=null;if(qe["text-font"]&&(St=W.parse(qe["text-font"],1,wi(Tn)),!St))return null;var kt=null;if(qe["text-color"]&&(kt=W.parse(qe["text-color"],1,Nn),!kt))return null;var Gt=pe[pe.length-1];Gt.scale=pt,Gt.font=St,Gt.textColor=kt}else{var ir=W.parse(D[De],1,zn);if(!ir)return null;var rr=ir.type.kind;if(rr!=="string"&&rr!=="value"&&rr!=="null"&&rr!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ae=!0,pe.push({content:ir,scale:null,font:null,textColor:null})}}return new yo(pe)},yo.prototype.evaluate=function(D){var W=function(ie){var pe=ie.content.evaluate(D);return Hi(pe)===Ra?new Bf("",pe,null,null,null):new Bf(Zl(pe),null,ie.scale?ie.scale.evaluate(D):null,ie.font?ie.font.evaluate(D).join(","):null,ie.textColor?ie.textColor.evaluate(D):null)};return new so(this.sections.map(W))},yo.prototype.eachChild=function(D){for(var W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];D(pe.content),pe.scale&&D(pe.scale),pe.font&&D(pe.font),pe.textColor&&D(pe.textColor)}},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){for(var D=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];D.push(pe.content.serialize());var Ae={};pe.scale&&(Ae["font-scale"]=pe.scale.serialize()),pe.font&&(Ae["text-font"]=pe.font.serialize()),pe.textColor&&(Ae["text-color"]=pe.textColor.serialize()),D.push(Ae)}return D};var $o=function(D){this.type=Ra,this.input=D};$o.parse=function(D,W){if(D.length!==2)return W.error("Expected two arguments.");var ie=W.parse(D[1],1,Tn);return ie?new $o(ie):W.error("No image name provided.")},$o.prototype.evaluate=function(D){var W=this.input.evaluate(D),ie=zo.fromString(W);return ie&&D.availableImages&&(ie.available=D.availableImages.indexOf(W)>-1),ie},$o.prototype.eachChild=function(D){D(this.input)},$o.prototype.outputDefined=function(){return!1},$o.prototype.serialize=function(){return["image",this.input.serialize()]};var Sc={"to-boolean":Sn,"to-color":Nn,"to-number":qr,"to-string":Tn},jo=function(D,W){this.type=D,this.args=W};jo.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ie=D[0];if((ie==="to-boolean"||ie==="to-string")&&D.length!==2)return W.error("Expected one argument.");for(var pe=Sc[ie],Ae=[],De=1;De<D.length;De++){var qe=W.parse(D[De],De,zn);if(!qe)return null;Ae.push(qe)}return new jo(pe,Ae)},jo.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var W,ie,pe=0,Ae=this.args;pe<Ae.length;pe+=1){var De=Ae[pe];if(W=De.evaluate(D),ie=null,W instanceof oi)return W;if(typeof W=="string"){var qe=D.parseColor(W);if(qe)return qe}else if(Array.isArray(W)&&(W.length<3||W.length>4?ie="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ie=Xl(W[0],W[1],W[2],W[3]),!ie))return new oi(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new eo(ie||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var pt=null,St=0,kt=this.args;St<kt.length;St+=1){var Gt=kt[St];if(pt=Gt.evaluate(D),pt===null)return 0;var ir=Number(pt);if(!isNaN(ir))return ir}throw new eo("Could not convert "+JSON.stringify(pt)+" to number.")}else return this.type.kind==="formatted"?so.fromString(Zl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?zo.fromString(Zl(this.args[0].evaluate(D))):Zl(this.args[0].evaluate(D))},jo.prototype.eachChild=function(D){this.args.forEach(D)},jo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},jo.prototype.serialize=function(){if(this.type.kind==="formatted")return new yo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new $o(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(W){D.push(W.serialize())}),D};var Ph=["Unknown","Point","LineString","Polygon"],Ls=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ls.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ls.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ph[this.feature.type]:this.feature.type:null},Ls.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ls.prototype.canonicalID=function(){return this.canonical},Ls.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ls.prototype.parseColor=function(D){var W=this._parseColorCache[D];return W||(W=this._parseColorCache[D]=oi.parse(D)),W};var lo=function(D,W,ie,pe){this.name=D,this.type=W,this._evaluate=ie,this.args=pe};lo.prototype.evaluate=function(D){return this._evaluate(D,this.args)},lo.prototype.eachChild=function(D){this.args.forEach(D)},lo.prototype.outputDefined=function(){return!1},lo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},lo.parse=function(D,W){var ie,pe=D[0],Ae=lo.definitions[pe];if(!Ae)return W.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Ae)?Ae[0]:Ae.type,qe=Array.isArray(Ae)?[[Ae[1],Ae[2]]]:Ae.overloads,pt=qe.filter(function(Sa){var La=Sa[0];return!Array.isArray(La)||La.length===D.length-1}),St=null,kt=0,Gt=pt;kt<Gt.length;kt+=1){var ir=Gt[kt],rr=ir[0],br=ir[1];St=new Rs(W.registry,W.path,null,W.scope);for(var Hr=[],cn=!1,tn=1;tn<D.length;tn++){var En=D[tn],bn=Array.isArray(rr)?rr[tn-1]:rr.type,Mn=St.parse(En,1+Hr.length,bn);if(!Mn){cn=!0;break}Hr.push(Mn)}if(!cn){if(Array.isArray(rr)&&rr.length!==Hr.length){St.error("Expected "+rr.length+" arguments, but found "+Hr.length+" instead.");continue}for(var On=0;On<Hr.length;On++){var Xn=Array.isArray(rr)?rr[On]:rr.type,oa=Hr[On];St.concat(On+1).checkSubtype(Xn,oa.type)}if(St.errors.length===0)return new lo(pe,De,br,Hr)}}if(pt.length===1)(ie=W.errors).push.apply(ie,St.errors);else{for(var ra=pt.length?pt:qe,Aa=ra.map(function(Sa){var La=Sa[0];return Uf(La)}).join(" | "),ga=[],wa=1;wa<D.length;wa++){var Ha=W.parse(D[wa],1+ga.length);if(!Ha)return null;ga.push(ii(Ha.type))}W.error("Expected arguments of type "+Aa+", but found ("+ga.join(", ")+") instead.")}return null},lo.register=function(D,W){lo.definitions=W;for(var ie in W)D[ie]=lo};function Uf(k){return Array.isArray(k)?"("+k.map(ii).join(", ")+")":"("+ii(k.type)+"...)"}var nl=function(D,W,ie){this.type=Kn,this.locale=ie,this.caseSensitive=D,this.diacriticSensitive=W};nl.parse=function(D,W){if(D.length!==2)return W.error("Expected one argument.");var ie=D[1];if(typeof ie!="object"||Array.isArray(ie))return W.error("Collator options argument must be an object.");var pe=W.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,Sn);if(!pe)return null;var Ae=W.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,Sn);if(!Ae)return null;var De=null;return ie.locale&&(De=W.parse(ie.locale,1,Tn),!De)?null:new nl(pe,Ae,De)},nl.prototype.evaluate=function(D){return new Cu(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},nl.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},nl.prototype.outputDefined=function(){return!1},nl.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Ps=8192;function Hf(k,D){k[0]=Math.min(k[0],D[0]),k[1]=Math.min(k[1],D[1]),k[2]=Math.max(k[2],D[0]),k[3]=Math.max(k[3],D[1])}function Mc(k){return(180+k)/360}function Rh(k){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+k*Math.PI/360)))/360}function ff(k,D){return!(k[0]<=D[0]||k[2]>=D[2]||k[1]<=D[1]||k[3]>=D[3])}function kh(k,D){var W=Mc(k[0]),ie=Rh(k[1]),pe=Math.pow(2,D.z);return[Math.round(W*pe*Ps),Math.round(ie*pe*Ps)]}function Dh(k,D,W){var ie=k[0]-D[0],pe=k[1]-D[1],Ae=k[0]-W[0],De=k[1]-W[1];return ie*De-Ae*pe===0&&ie*Ae<=0&&pe*De<=0}function Ih(k,D,W){return D[1]>k[1]!=W[1]>k[1]&&k[0]<(W[0]-D[0])*(k[1]-D[1])/(W[1]-D[1])+D[0]}function Vf(k,D){for(var W=!1,ie=0,pe=D.length;ie<pe;ie++)for(var Ae=D[ie],De=0,qe=Ae.length;De<qe-1;De++){if(Dh(k,Ae[De],Ae[De+1]))return!1;Ih(k,Ae[De],Ae[De+1])&&(W=!W)}return W}function _h(k,D){for(var W=0;W<D.length;W++)if(Vf(k,D[W]))return!0;return!1}function zh(k,D){return k[0]*D[1]-k[1]*D[0]}function Ec(k,D,W,ie){var pe=k[0]-W[0],Ae=k[1]-W[1],De=D[0]-W[0],qe=D[1]-W[1],pt=ie[0]-W[0],St=ie[1]-W[1],kt=pe*St-pt*Ae,Gt=De*St-pt*qe;return kt>0&&Gt<0||kt<0&&Gt>0}function Cc(k,D,W,ie){var pe=[D[0]-k[0],D[1]-k[1]],Ae=[ie[0]-W[0],ie[1]-W[1]];return zh(Ae,pe)===0?!1:!!(Ec(k,D,W,ie)&&Ec(W,ie,k,D))}function El(k,D,W){for(var ie=0,pe=W;ie<pe.length;ie+=1)for(var Ae=pe[ie],De=0;De<Ae.length-1;++De)if(Cc(k,D,Ae[De],Ae[De+1]))return!0;return!1}function Jl(k,D){for(var W=0;W<k.length;++W)if(!Vf(k[W],D))return!1;for(var ie=0;ie<k.length-1;++ie)if(El(k[ie],k[ie+1],D))return!1;return!0}function Lu(k,D){for(var W=0;W<D.length;W++)if(Jl(k,D[W]))return!0;return!1}function Pu(k,D,W){for(var ie=[],pe=0;pe<k.length;pe++){for(var Ae=[],De=0;De<k[pe].length;De++){var qe=kh(k[pe][De],W);Hf(D,qe),Ae.push(qe)}ie.push(Ae)}return ie}function Lc(k,D,W){for(var ie=[],pe=0;pe<k.length;pe++){var Ae=Pu(k[pe],D,W);ie.push(Ae)}return ie}function Gs(k,D,W,ie){if(k[0]<W[0]||k[0]>W[2]){var pe=ie*.5,Ae=k[0]-W[0]>pe?-ie:W[0]-k[0]>pe?ie:0;Ae===0&&(Ae=k[0]-W[2]>pe?-ie:W[2]-k[0]>pe?ie:0),k[0]+=Ae}Hf(D,k)}function Oh(k){k[0]=k[1]=1/0,k[2]=k[3]=-1/0}function cf(k,D,W,ie){for(var pe=Math.pow(2,ie.z)*Ps,Ae=[ie.x*Ps,ie.y*Ps],De=[],qe=0,pt=k;qe<pt.length;qe+=1)for(var St=pt[qe],kt=0,Gt=St;kt<Gt.length;kt+=1){var ir=Gt[kt],rr=[ir.x+Ae[0],ir.y+Ae[1]];Gs(rr,D,W,pe),De.push(rr)}return De}function Pc(k,D,W,ie){for(var pe=Math.pow(2,ie.z)*Ps,Ae=[ie.x*Ps,ie.y*Ps],De=[],qe=0,pt=k;qe<pt.length;qe+=1){for(var St=pt[qe],kt=[],Gt=0,ir=St;Gt<ir.length;Gt+=1){var rr=ir[Gt],br=[rr.x+Ae[0],rr.y+Ae[1]];Hf(D,br),kt.push(br)}De.push(kt)}if(D[2]-D[0]<=pe/2){Oh(D);for(var Hr=0,cn=De;Hr<cn.length;Hr+=1)for(var tn=cn[Hr],En=0,bn=tn;En<bn.length;En+=1){var Mn=bn[En];Gs(Mn,D,W,pe)}}return De}function Rc(k,D){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=k.canonicalID();if(D.type==="Polygon"){var Ae=Pu(D.coordinates,ie,pe),De=cf(k.geometry(),W,ie,pe);if(!ff(W,ie))return!1;for(var qe=0,pt=De;qe<pt.length;qe+=1){var St=pt[qe];if(!Vf(St,Ae))return!1}}if(D.type==="MultiPolygon"){var kt=Lc(D.coordinates,ie,pe),Gt=cf(k.geometry(),W,ie,pe);if(!ff(W,ie))return!1;for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var br=rr[ir];if(!_h(br,kt))return!1}}return!0}function hf(k,D){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=k.canonicalID();if(D.type==="Polygon"){var Ae=Pu(D.coordinates,ie,pe),De=Pc(k.geometry(),W,ie,pe);if(!ff(W,ie))return!1;for(var qe=0,pt=De;qe<pt.length;qe+=1){var St=pt[qe];if(!Jl(St,Ae))return!1}}if(D.type==="MultiPolygon"){var kt=Lc(D.coordinates,ie,pe),Gt=Pc(k.geometry(),W,ie,pe);if(!ff(W,ie))return!1;for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var br=rr[ir];if(!Lu(br,kt))return!1}}return!0}var cs=function(D,W){this.type=Sn,this.geojson=D,this.geometries=W};cs.parse=function(D,W){if(D.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(uf(D[1])){var ie=D[1];if(ie.type==="FeatureCollection")for(var pe=0;pe<ie.features.length;++pe){var Ae=ie.features[pe].geometry.type;if(Ae==="Polygon"||Ae==="MultiPolygon")return new cs(ie,ie.features[pe].geometry)}else if(ie.type==="Feature"){var De=ie.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new cs(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new cs(ie,ie)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},cs.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return Rc(D,this.geometries);if(D.geometryType()==="LineString")return hf(D,this.geometries)}return!1},cs.prototype.eachChild=function(){},cs.prototype.outputDefined=function(){return!0},cs.prototype.serialize=function(){return["within",this.geojson]};function Ql(k){if(k instanceof lo){if(k.name==="get"&&k.args.length===1)return!1;if(k.name==="feature-state")return!1;if(k.name==="has"&&k.args.length===1)return!1;if(k.name==="properties"||k.name==="geometry-type"||k.name==="id")return!1;if(/^filter-/.test(k.name))return!1}if(k instanceof cs)return!1;var D=!0;return k.eachChild(function(W){D&&!Ql(W)&&(D=!1)}),D}function Cl(k){if(k instanceof lo&&k.name==="feature-state")return!1;var D=!0;return k.eachChild(function(W){D&&!Cl(W)&&(D=!1)}),D}function Ru(k,D){if(k instanceof lo&&D.indexOf(k.name)>=0)return!1;var W=!0;return k.eachChild(function(ie){W&&!Ru(ie,D)&&(W=!1)}),W}var al=function(D,W){this.type=W.type,this.name=D,this.boundExpression=W};al.parse=function(D,W){if(D.length!==2||typeof D[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ie=D[1];return W.scope.has(ie)?new al(ie,W.scope.get(ie)):W.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},al.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},al.prototype.eachChild=function(){},al.prototype.outputDefined=function(){return!1},al.prototype.serialize=function(){return["var",this.name]};var Rs=function(D,W,ie,pe,Ae){W===void 0&&(W=[]),pe===void 0&&(pe=new Yr),Ae===void 0&&(Ae=[]),this.registry=D,this.path=W,this.key=W.map(function(De){return"["+De+"]"}).join(""),this.scope=pe,this.errors=Ae,this.expectedType=ie};Rs.prototype.parse=function(D,W,ie,pe,Ae){return Ae===void 0&&(Ae={}),W?this.concat(W,ie,pe)._parse(D,Ae):this._parse(D,Ae)},Rs.prototype._parse=function(D,W){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ie(kt,Gt,ir){return ir==="assert"?new go(Gt,[kt]):ir==="coerce"?new jo(Gt,[kt]):kt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=D[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ae=this.registry[pe];if(Ae){var De=Ae.parse(D,this);if(!De)return null;if(this.expectedType){var qe=this.expectedType,pt=De.type;if((qe.kind==="string"||qe.kind==="number"||qe.kind==="boolean"||qe.kind==="object"||qe.kind==="array")&&pt.kind==="value")De=ie(De,qe,W.typeAnnotation||"assert");else if((qe.kind==="color"||qe.kind==="formatted"||qe.kind==="resolvedImage")&&(pt.kind==="value"||pt.kind==="string"))De=ie(De,qe,W.typeAnnotation||"coerce");else if(this.checkSubtype(qe,pt))return null}if(!(De instanceof Wi)&&De.type.kind!=="resolvedImage"&&Gf(De)){var St=new Ls;try{De=new Wi(De.type,De.evaluate(St))}catch(kt){return this.error(kt.message),null}}return De}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},Rs.prototype.concat=function(D,W,ie){var pe=typeof D=="number"?this.path.concat(D):this.path,Ae=ie?this.scope.concat(ie):this.scope;return new Rs(this.registry,pe,W||null,Ae,this.errors)},Rs.prototype.error=function(D){for(var W=[],ie=arguments.length-1;ie-- >0;)W[ie]=arguments[ie+1];var pe=""+this.key+W.map(function(Ae){return"["+Ae+"]"}).join("");this.errors.push(new Er(pe,D))},Rs.prototype.checkSubtype=function(D,W){var ie=Wo(D,W);return ie&&this.error(ie),ie};function Gf(k){if(k instanceof al)return Gf(k.boundExpression);if(k instanceof lo&&k.name==="error")return!1;if(k instanceof nl)return!1;if(k instanceof cs)return!1;var D=k instanceof jo||k instanceof go,W=!0;return k.eachChild(function(ie){D?W=W&&Gf(ie):W=W&&ie instanceof Wi}),W?Ql(k)&&Ru(k,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function $l(k,D){for(var W=k.length-1,ie=0,pe=W,Ae=0,De,qe;ie<=pe;)if(Ae=Math.floor((ie+pe)/2),De=k[Ae],qe=k[Ae+1],De<=D){if(Ae===W||D<qe)return Ae;ie=Ae+1}else if(De>D)pe=Ae-1;else throw new eo("Input is not a number.");return 0}var hs=function(D,W,ie){this.type=D,this.input=W,this.labels=[],this.outputs=[];for(var pe=0,Ae=ie;pe<Ae.length;pe+=1){var De=Ae[pe],qe=De[0],pt=De[1];this.labels.push(qe),this.outputs.push(pt)}};hs.parse=function(D,W){if(D.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ie=W.parse(D[1],1,qr);if(!ie)return null;var pe=[],Ae=null;W.expectedType&&W.expectedType.kind!=="value"&&(Ae=W.expectedType);for(var De=1;De<D.length;De+=2){var qe=De===1?-1/0:D[De],pt=D[De+1],St=De,kt=De+1;if(typeof qe!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(pe.length&&pe[pe.length-1][0]>=qe)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var Gt=W.parse(pt,kt,Ae);if(!Gt)return null;Ae=Ae||Gt.type,pe.push([qe,Gt])}return new hs(Ae,ie,pe)},hs.prototype.evaluate=function(D){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(D);var pe=this.input.evaluate(D);if(pe<=W[0])return ie[0].evaluate(D);var Ae=W.length;if(pe>=W[Ae-1])return ie[Ae-1].evaluate(D);var De=$l(W,pe);return ie[De].evaluate(D)},hs.prototype.eachChild=function(D){D(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var pe=ie[W];D(pe)}},hs.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},hs.prototype.serialize=function(){for(var D=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&D.push(this.labels[W]),D.push(this.outputs[W].serialize());return D};function Fi(k,D,W){return k*(1-W)+D*W}function Wf(k,D,W){return new oi(Fi(k.r,D.r,W),Fi(k.g,D.g,W),Fi(k.b,D.b,W),Fi(k.a,D.a,W))}function Fh(k,D,W){return k.map(function(ie,pe){return Fi(ie,D[pe],W)})}var vf=Object.freeze({__proto__:null,number:Fi,color:Wf,array:Fh}),ql=.95047,eu=1,Yo=1.08883,df=4/29,tu=6/29,pf=3*tu*tu,Nh=tu*tu*tu,kc=Math.PI/180,jf=180/Math.PI;function Yf(k){return k>Nh?Math.pow(k,.3333333333333333):k/pf+df}function Xf(k){return k>tu?k*k*k:pf*(k-df)}function ru(k){return 255*(k<=.0031308?12.92*k:1.055*Math.pow(k,.4166666666666667)-.055)}function gf(k){return k/=255,k<=.04045?k/12.92:Math.pow((k+.055)/1.055,2.4)}function ku(k){var D=gf(k.r),W=gf(k.g),ie=gf(k.b),pe=Yf((.4124564*D+.3575761*W+.1804375*ie)/ql),Ae=Yf((.2126729*D+.7151522*W+.072175*ie)/eu),De=Yf((.0193339*D+.119192*W+.9503041*ie)/Yo);return{l:116*Ae-16,a:500*(pe-Ae),b:200*(Ae-De),alpha:k.a}}function yf(k){var D=(k.l+16)/116,W=isNaN(k.a)?D:D+k.a/500,ie=isNaN(k.b)?D:D-k.b/200;return D=eu*Xf(D),W=ql*Xf(W),ie=Yo*Xf(ie),new oi(ru(3.2404542*W-1.5371385*D-.4985314*ie),ru(-.969266*W+1.8760108*D+.041556*ie),ru(.0556434*W-.2040259*D+1.0572252*ie),k.alpha)}function Ti(k,D,W){return{l:Fi(k.l,D.l,W),a:Fi(k.a,D.a,W),b:Fi(k.b,D.b,W),alpha:Fi(k.alpha,D.alpha,W)}}function Dc(k){var D=ku(k),W=D.l,ie=D.a,pe=D.b,Ae=Math.atan2(pe,ie)*jf;return{h:Ae<0?Ae+360:Ae,c:Math.sqrt(ie*ie+pe*pe),l:W,alpha:k.a}}function vs(k){var D=k.h*kc,W=k.c,ie=k.l;return yf({l:ie,a:Math.cos(D)*W,b:Math.sin(D)*W,alpha:k.alpha})}function Ic(k,D,W){var ie=D-k;return k+W*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function Zf(k,D,W){return{h:Ic(k.h,D.h,W),c:Fi(k.c,D.c,W),l:Fi(k.l,D.l,W),alpha:Fi(k.alpha,D.alpha,W)}}var Ll={forward:ku,reverse:yf,interpolate:Ti},il={forward:Dc,reverse:vs,interpolate:Zf},mf=Object.freeze({__proto__:null,lab:Ll,hcl:il}),Vi=function(D,W,ie,pe,Ae){this.type=D,this.operator=W,this.interpolation=ie,this.input=pe,this.labels=[],this.outputs=[];for(var De=0,qe=Ae;De<qe.length;De+=1){var pt=qe[De],St=pt[0],kt=pt[1];this.labels.push(St),this.outputs.push(kt)}};Vi.interpolationFactor=function(D,W,ie,pe){var Ae=0;if(D.name==="exponential")Ae=Du(W,D.base,ie,pe);else if(D.name==="linear")Ae=Du(W,1,ie,pe);else if(D.name==="cubic-bezier"){var De=D.controlPoints,qe=new v(De[0],De[1],De[2],De[3]);Ae=qe.solve(Du(W,1,ie,pe))}return Ae},Vi.parse=function(D,W){var ie=D[0],pe=D[1],Ae=D[2],De=D.slice(3);if(!Array.isArray(pe)||pe.length===0)return W.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var qe=pe[1];if(typeof qe!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:qe}}else if(pe[0]==="cubic-bezier"){var pt=pe.slice(1);if(pt.length!==4||pt.some(function(tn){return typeof tn!="number"||tn<0||tn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:pt}}else return W.error("Unknown interpolation type "+String(pe[0]),1,0);if(D.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Ae=W.parse(Ae,2,qr),!Ae)return null;var St=[],kt=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?kt=Nn:W.expectedType&&W.expectedType.kind!=="value"&&(kt=W.expectedType);for(var Gt=0;Gt<De.length;Gt+=2){var ir=De[Gt],rr=De[Gt+1],br=Gt+3,Hr=Gt+4;if(typeof ir!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(St.length&&St[St.length-1][0]>=ir)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var cn=W.parse(rr,Hr,kt);if(!cn)return null;kt=kt||cn.type,St.push([ir,cn])}return kt.kind!=="number"&&kt.kind!=="color"&&!(kt.kind==="array"&&kt.itemType.kind==="number"&&typeof kt.N=="number")?W.error("Type "+ii(kt)+" is not interpolatable."):new Vi(kt,ie,pe,Ae,St)},Vi.prototype.evaluate=function(D){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(D);var pe=this.input.evaluate(D);if(pe<=W[0])return ie[0].evaluate(D);var Ae=W.length;if(pe>=W[Ae-1])return ie[Ae-1].evaluate(D);var De=$l(W,pe),qe=W[De],pt=W[De+1],St=Vi.interpolationFactor(this.interpolation,pe,qe,pt),kt=ie[De].evaluate(D),Gt=ie[De+1].evaluate(D);return this.operator==="interpolate"?vf[this.type.kind.toLowerCase()](kt,Gt,St):this.operator==="interpolate-hcl"?il.reverse(il.interpolate(il.forward(kt),il.forward(Gt),St)):Ll.reverse(Ll.interpolate(Ll.forward(kt),Ll.forward(Gt),St))},Vi.prototype.eachChild=function(D){D(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var pe=ie[W];D(pe)}},Vi.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Vi.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,D,this.input.serialize()],ie=0;ie<this.labels.length;ie++)W.push(this.labels[ie],this.outputs[ie].serialize());return W};function Du(k,D,W,ie){var pe=ie-W,Ae=k-W;return pe===0?0:D===1?Ae/pe:(Math.pow(D,Ae)-1)/(Math.pow(D,pe)-1)}var ds=function(D,W){this.type=D,this.args=W};ds.parse=function(D,W){if(D.length<2)return W.error("Expectected at least one argument.");var ie=null,pe=W.expectedType;pe&&pe.kind!=="value"&&(ie=pe);for(var Ae=[],De=0,qe=D.slice(1);De<qe.length;De+=1){var pt=qe[De],St=W.parse(pt,1+Ae.length,ie,void 0,{typeAnnotation:"omit"});if(!St)return null;ie=ie||St.type,Ae.push(St)}var kt=pe&&Ae.some(function(Gt){return Wo(pe,Gt.type)});return kt?new ds(zn,Ae):new ds(ie,Ae)},ds.prototype.evaluate=function(D){for(var W=null,ie=0,pe,Ae=0,De=this.args;Ae<De.length;Ae+=1){var qe=De[Ae];if(ie++,W=qe.evaluate(D),W&&W instanceof zo&&!W.available&&(pe||(pe=W.name),W=null,ie===this.args.length&&(W=pe)),W!==null)break}return W},ds.prototype.eachChild=function(D){this.args.forEach(D)},ds.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},ds.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(W){D.push(W.serialize())}),D};var Ws=function(D,W){this.type=W.type,this.bindings=[].concat(D),this.result=W};Ws.prototype.evaluate=function(D){return this.result.evaluate(D)},Ws.prototype.eachChild=function(D){for(var W=0,ie=this.bindings;W<ie.length;W+=1){var pe=ie[W];D(pe[1])}D(this.result)},Ws.parse=function(D,W){if(D.length<4)return W.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ie=[],pe=1;pe<D.length-1;pe+=2){var Ae=D[pe];if(typeof Ae!="string")return W.error("Expected string, but found "+typeof Ae+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Ae))return W.error("Variable names must contain only alphanumeric characters or '_'.",pe);var De=W.parse(D[pe+1],pe+1);if(!De)return null;ie.push([Ae,De])}var qe=W.parse(D[D.length-1],D.length-1,W.expectedType,ie);return qe?new Ws(ie,qe):null},Ws.prototype.outputDefined=function(){return this.result.outputDefined()},Ws.prototype.serialize=function(){for(var D=["let"],W=0,ie=this.bindings;W<ie.length;W+=1){var pe=ie[W],Ae=pe[0],De=pe[1];D.push(Ae,De.serialize())}return D.push(this.result.serialize()),D};var Pl=function(D,W,ie){this.type=D,this.index=W,this.input=ie};Pl.parse=function(D,W){if(D.length!==3)return W.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ie=W.parse(D[1],1,qr),pe=W.parse(D[2],2,wi(W.expectedType||zn));if(!ie||!pe)return null;var Ae=pe.type;return new Pl(Ae.itemType,ie,pe)},Pl.prototype.evaluate=function(D){var W=this.index.evaluate(D),ie=this.input.evaluate(D);if(W<0)throw new eo("Array index out of bounds: "+W+" < 0.");if(W>=ie.length)throw new eo("Array index out of bounds: "+W+" > "+(ie.length-1)+".");if(W!==Math.floor(W))throw new eo("Array index must be an integer, but found "+W+" instead.");return ie[W]},Pl.prototype.eachChild=function(D){D(this.index),D(this.input)},Pl.prototype.outputDefined=function(){return!1},Pl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ol=function(D,W){this.type=Sn,this.needle=D,this.haystack=W};ol.parse=function(D,W){if(D.length!==3)return W.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ie=W.parse(D[1],1,zn),pe=W.parse(D[2],2,zn);return!ie||!pe?null:po(ie.type,[Sn,Tn,qr,Wr,zn])?new ol(ie,pe):W.error("Expected first argument to be of type boolean, string, number or null, but found "+ii(ie.type)+" instead")},ol.prototype.evaluate=function(D){var W=this.needle.evaluate(D),ie=this.haystack.evaluate(D);if(!ie)return!1;if(!Vs(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+ii(Hi(W))+" instead.");if(!Vs(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+ii(Hi(ie))+" instead.");return ie.indexOf(W)>=0},ol.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},ol.prototype.outputDefined=function(){return!0},ol.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ps=function(D,W,ie){this.type=qr,this.needle=D,this.haystack=W,this.fromIndex=ie};ps.parse=function(D,W){if(D.length<=2||D.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ie=W.parse(D[1],1,zn),pe=W.parse(D[2],2,zn);if(!ie||!pe)return null;if(!po(ie.type,[Sn,Tn,qr,Wr,zn]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+ii(ie.type)+" instead");if(D.length===4){var Ae=W.parse(D[3],3,qr);return Ae?new ps(ie,pe,Ae):null}else return new ps(ie,pe)},ps.prototype.evaluate=function(D){var W=this.needle.evaluate(D),ie=this.haystack.evaluate(D);if(!Vs(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+ii(Hi(W))+" instead.");if(!Vs(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+ii(Hi(ie))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(D);return ie.indexOf(W,pe)}return ie.indexOf(W)},ps.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},ps.prototype.outputDefined=function(){return!1},ps.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var js=function(D,W,ie,pe,Ae,De){this.inputType=D,this.type=W,this.input=ie,this.cases=pe,this.outputs=Ae,this.otherwise=De};js.parse=function(D,W){if(D.length<5)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return W.error("Expected an even number of arguments.");var ie,pe;W.expectedType&&W.expectedType.kind!=="value"&&(pe=W.expectedType);for(var Ae={},De=[],qe=2;qe<D.length-1;qe+=2){var pt=D[qe],St=D[qe+1];Array.isArray(pt)||(pt=[pt]);var kt=W.concat(qe);if(pt.length===0)return kt.error("Expected at least one branch label.");for(var Gt=0,ir=pt;Gt<ir.length;Gt+=1){var rr=ir[Gt];if(typeof rr!="number"&&typeof rr!="string")return kt.error("Branch labels must be numbers or strings.");if(typeof rr=="number"&&Math.abs(rr)>Number.MAX_SAFE_INTEGER)return kt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof rr=="number"&&Math.floor(rr)!==rr)return kt.error("Numeric branch labels must be integer values.");if(!ie)ie=Hi(rr);else if(kt.checkSubtype(ie,Hi(rr)))return null;if(typeof Ae[String(rr)]<"u")return kt.error("Branch labels must be unique.");Ae[String(rr)]=De.length}var br=W.parse(St,qe,pe);if(!br)return null;pe=pe||br.type,De.push(br)}var Hr=W.parse(D[1],1,zn);if(!Hr)return null;var cn=W.parse(D[D.length-1],D.length-1,pe);return!cn||Hr.type.kind!=="value"&&W.concat(1).checkSubtype(ie,Hr.type)?null:new js(ie,pe,Hr,Ae,De,cn)},js.prototype.evaluate=function(D){var W=this.input.evaluate(D),ie=Hi(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ie.evaluate(D)},js.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},js.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},js.prototype.serialize=function(){for(var D=this,W=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),pe=[],Ae={},De=0,qe=ie;De<qe.length;De+=1){var pt=qe[De],St=Ae[this.cases[pt]];St===void 0?(Ae[this.cases[pt]]=pe.length,pe.push([this.cases[pt],[pt]])):pe[St][1].push(pt)}for(var kt=function(Hr){return D.inputType.kind==="number"?Number(Hr):Hr},Gt=0,ir=pe;Gt<ir.length;Gt+=1){var rr=ir[Gt],St=rr[0],br=rr[1];br.length===1?W.push(kt(br[0])):W.push(br.map(kt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var gs=function(D,W,ie){this.type=D,this.branches=W,this.otherwise=ie};gs.parse=function(D,W){if(D.length<4)return W.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return W.error("Expected an odd number of arguments.");var ie;W.expectedType&&W.expectedType.kind!=="value"&&(ie=W.expectedType);for(var pe=[],Ae=1;Ae<D.length-1;Ae+=2){var De=W.parse(D[Ae],Ae,Sn);if(!De)return null;var qe=W.parse(D[Ae+1],Ae+1,ie);if(!qe)return null;pe.push([De,qe]),ie=ie||qe.type}var pt=W.parse(D[D.length-1],D.length-1,ie);return pt?new gs(ie,pe,pt):null},gs.prototype.evaluate=function(D){for(var W=0,ie=this.branches;W<ie.length;W+=1){var pe=ie[W],Ae=pe[0],De=pe[1];if(Ae.evaluate(D))return De.evaluate(D)}return this.otherwise.evaluate(D)},gs.prototype.eachChild=function(D){for(var W=0,ie=this.branches;W<ie.length;W+=1){var pe=ie[W],Ae=pe[0],De=pe[1];D(Ae),D(De)}D(this.otherwise)},gs.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var W=D[1];return W.outputDefined()})&&this.otherwise.outputDefined()},gs.prototype.serialize=function(){var D=["case"];return this.eachChild(function(W){D.push(W.serialize())}),D};var ns=function(D,W,ie,pe){this.type=D,this.input=W,this.beginIndex=ie,this.endIndex=pe};ns.parse=function(D,W){if(D.length<=2||D.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ie=W.parse(D[1],1,zn),pe=W.parse(D[2],2,qr);if(!ie||!pe)return null;if(!po(ie.type,[wi(zn),Tn,zn]))return W.error("Expected first argument to be of type array or string, but found "+ii(ie.type)+" instead");if(D.length===4){var Ae=W.parse(D[3],3,qr);return Ae?new ns(ie.type,ie,pe,Ae):null}else return new ns(ie.type,ie,pe)},ns.prototype.evaluate=function(D){var W=this.input.evaluate(D),ie=this.beginIndex.evaluate(D);if(!Vs(W,["string","array"]))throw new eo("Expected first argument to be of type array or string, but found "+ii(Hi(W))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(D);return W.slice(ie,pe)}return W.slice(ie)},ns.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},ns.prototype.outputDefined=function(){return!1},ns.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Iu(k,D){return k==="=="||k==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Bh(k,D,W){return D===W}function Uh(k,D,W){return D!==W}function Hh(k,D,W){return D<W}function Vh(k,D,W){return D>W}function Kf(k,D,W){return D<=W}function _c(k,D,W){return D>=W}function nu(k,D,W,ie){return ie.compare(D,W)===0}function uo(k,D,W,ie){return!nu(k,D,W,ie)}function qo(k,D,W,ie){return ie.compare(D,W)<0}function au(k,D,W,ie){return ie.compare(D,W)>0}function zc(k,D,W,ie){return ie.compare(D,W)<=0}function _u(k,D,W,ie){return ie.compare(D,W)>=0}function Ys(k,D,W){var ie=k!=="=="&&k!=="!=";return function(){function pe(Ae,De,qe){this.type=Sn,this.lhs=Ae,this.rhs=De,this.collator=qe,this.hasUntypedArgument=Ae.type.kind==="value"||De.type.kind==="value"}return pe.parse=function(De,qe){if(De.length!==3&&De.length!==4)return qe.error("Expected two or three arguments.");var pt=De[0],St=qe.parse(De[1],1,zn);if(!St)return null;if(!Iu(pt,St.type))return qe.concat(1).error('"'+pt+`" comparisons are not supported for type '`+ii(St.type)+"'.");var kt=qe.parse(De[2],2,zn);if(!kt)return null;if(!Iu(pt,kt.type))return qe.concat(2).error('"'+pt+`" comparisons are not supported for type '`+ii(kt.type)+"'.");if(St.type.kind!==kt.type.kind&&St.type.kind!=="value"&&kt.type.kind!=="value")return qe.error("Cannot compare types '"+ii(St.type)+"' and '"+ii(kt.type)+"'.");ie&&(St.type.kind==="value"&&kt.type.kind!=="value"?St=new go(kt.type,[St]):St.type.kind!=="value"&&kt.type.kind==="value"&&(kt=new go(St.type,[kt])));var Gt=null;if(De.length===4){if(St.type.kind!=="string"&&kt.type.kind!=="string"&&St.type.kind!=="value"&&kt.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(Gt=qe.parse(De[3],3,Kn),!Gt)return null}return new pe(St,kt,Gt)},pe.prototype.evaluate=function(De){var qe=this.lhs.evaluate(De),pt=this.rhs.evaluate(De);if(ie&&this.hasUntypedArgument){var St=Hi(qe),kt=Hi(pt);if(St.kind!==kt.kind||!(St.kind==="string"||St.kind==="number"))throw new eo('Expected arguments for "'+k+'" to be (string, string) or (number, number), but found ('+St.kind+", "+kt.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var Gt=Hi(qe),ir=Hi(pt);if(Gt.kind!=="string"||ir.kind!=="string")return D(De,qe,pt)}return this.collator?W(De,qe,pt,this.collator.evaluate(De)):D(De,qe,pt)},pe.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var De=[k];return this.eachChild(function(qe){De.push(qe.serialize())}),De},pe}()}var Gh=Ys("==",Bh,nu),Oc=Ys("!=",Uh,uo),Fc=Ys("<",Hh,qo),Jf=Ys(">",Vh,au),Nc=Ys("<=",Kf,zc),Oo=Ys(">=",_c,_u),ys=function(D,W,ie,pe,Ae){this.type=Tn,this.number=D,this.locale=W,this.currency=ie,this.minFractionDigits=pe,this.maxFractionDigits=Ae};ys.parse=function(D,W){if(D.length!==3)return W.error("Expected two arguments.");var ie=W.parse(D[1],1,qr);if(!ie)return null;var pe=D[2];if(typeof pe!="object"||Array.isArray(pe))return W.error("NumberFormat options argument must be an object.");var Ae=null;if(pe.locale&&(Ae=W.parse(pe.locale,1,Tn),!Ae))return null;var De=null;if(pe.currency&&(De=W.parse(pe.currency,1,Tn),!De))return null;var qe=null;if(pe["min-fraction-digits"]&&(qe=W.parse(pe["min-fraction-digits"],1,qr),!qe))return null;var pt=null;return pe["max-fraction-digits"]&&(pt=W.parse(pe["max-fraction-digits"],1,qr),!pt)?null:new ys(ie,Ae,De,qe,pt)},ys.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},ys.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},ys.prototype.outputDefined=function(){return!1},ys.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var sl=function(D){this.type=qr,this.input=D};sl.parse=function(D,W){if(D.length!==2)return W.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ie=W.parse(D[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+ii(ie.type)+" instead."):new sl(ie):null},sl.prototype.evaluate=function(D){var W=this.input.evaluate(D);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new eo("Expected value to be of type string or array, but found "+ii(Hi(W))+" instead.")},sl.prototype.eachChild=function(D){D(this.input)},sl.prototype.outputDefined=function(){return!1},sl.prototype.serialize=function(){var D=["length"];return this.eachChild(function(W){D.push(W.serialize())}),D};var iu={"==":Gh,"!=":Oc,">":Jf,"<":Fc,">=":Oo,"<=":Nc,array:go,at:Pl,boolean:go,case:gs,coalesce:ds,collator:nl,format:yo,image:$o,in:ol,"index-of":ps,interpolate:Vi,"interpolate-hcl":Vi,"interpolate-lab":Vi,length:sl,let:Ws,literal:Wi,match:js,number:go,"number-format":ys,object:go,slice:ns,step:hs,string:go,"to-boolean":jo,"to-color":jo,"to-number":jo,"to-string":jo,var:al,within:cs};function xf(k,D){var W=D[0],ie=D[1],pe=D[2],Ae=D[3];W=W.evaluate(k),ie=ie.evaluate(k),pe=pe.evaluate(k);var De=Ae?Ae.evaluate(k):1,qe=Xl(W,ie,pe,De);if(qe)throw new eo(qe);return new oi(W/255*De,ie/255*De,pe/255*De,De)}function Rl(k,D){return k in D}function kl(k,D){var W=D[k];return typeof W>"u"?null:W}function Bc(k,D,W,ie){for(;W<=ie;){var pe=W+ie>>1;if(D[pe]===k)return!0;D[pe]>k?ie=pe-1:W=pe+1}return!1}function Xs(k){return{type:k}}lo.register(iu,{error:[Yn,[Tn],function(k,D){var W=D[0];throw new eo(W.evaluate(k))}],typeof:[Tn,[zn],function(k,D){var W=D[0];return ii(Hi(W.evaluate(k)))}],"to-rgba":[wi(qr,4),[Nn],function(k,D){var W=D[0];return W.evaluate(k).toArray()}],rgb:[Nn,[qr,qr,qr],xf],rgba:[Nn,[qr,qr,qr,qr],xf],has:{type:Sn,overloads:[[[Tn],function(k,D){var W=D[0];return Rl(W.evaluate(k),k.properties())}],[[Tn,Hn],function(k,D){var W=D[0],ie=D[1];return Rl(W.evaluate(k),ie.evaluate(k))}]]},get:{type:zn,overloads:[[[Tn],function(k,D){var W=D[0];return kl(W.evaluate(k),k.properties())}],[[Tn,Hn],function(k,D){var W=D[0],ie=D[1];return kl(W.evaluate(k),ie.evaluate(k))}]]},"feature-state":[zn,[Tn],function(k,D){var W=D[0];return kl(W.evaluate(k),k.featureState||{})}],properties:[Hn,[],function(k){return k.properties()}],"geometry-type":[Tn,[],function(k){return k.geometryType()}],id:[zn,[],function(k){return k.id()}],zoom:[qr,[],function(k){return k.globals.zoom}],"heatmap-density":[qr,[],function(k){return k.globals.heatmapDensity||0}],"line-progress":[qr,[],function(k){return k.globals.lineProgress||0}],accumulated:[zn,[],function(k){return k.globals.accumulated===void 0?null:k.globals.accumulated}],"+":[qr,Xs(qr),function(k,D){for(var W=0,ie=0,pe=D;ie<pe.length;ie+=1){var Ae=pe[ie];W+=Ae.evaluate(k)}return W}],"*":[qr,Xs(qr),function(k,D){for(var W=1,ie=0,pe=D;ie<pe.length;ie+=1){var Ae=pe[ie];W*=Ae.evaluate(k)}return W}],"-":{type:qr,overloads:[[[qr,qr],function(k,D){var W=D[0],ie=D[1];return W.evaluate(k)-ie.evaluate(k)}],[[qr],function(k,D){var W=D[0];return-W.evaluate(k)}]]},"/":[qr,[qr,qr],function(k,D){var W=D[0],ie=D[1];return W.evaluate(k)/ie.evaluate(k)}],"%":[qr,[qr,qr],function(k,D){var W=D[0],ie=D[1];return W.evaluate(k)%ie.evaluate(k)}],ln2:[qr,[],function(){return Math.LN2}],pi:[qr,[],function(){return Math.PI}],e:[qr,[],function(){return Math.E}],"^":[qr,[qr,qr],function(k,D){var W=D[0],ie=D[1];return Math.pow(W.evaluate(k),ie.evaluate(k))}],sqrt:[qr,[qr],function(k,D){var W=D[0];return Math.sqrt(W.evaluate(k))}],log10:[qr,[qr],function(k,D){var W=D[0];return Math.log(W.evaluate(k))/Math.LN10}],ln:[qr,[qr],function(k,D){var W=D[0];return Math.log(W.evaluate(k))}],log2:[qr,[qr],function(k,D){var W=D[0];return Math.log(W.evaluate(k))/Math.LN2}],sin:[qr,[qr],function(k,D){var W=D[0];return Math.sin(W.evaluate(k))}],cos:[qr,[qr],function(k,D){var W=D[0];return Math.cos(W.evaluate(k))}],tan:[qr,[qr],function(k,D){var W=D[0];return Math.tan(W.evaluate(k))}],asin:[qr,[qr],function(k,D){var W=D[0];return Math.asin(W.evaluate(k))}],acos:[qr,[qr],function(k,D){var W=D[0];return Math.acos(W.evaluate(k))}],atan:[qr,[qr],function(k,D){var W=D[0];return Math.atan(W.evaluate(k))}],min:[qr,Xs(qr),function(k,D){return Math.min.apply(Math,D.map(function(W){return W.evaluate(k)}))}],max:[qr,Xs(qr),function(k,D){return Math.max.apply(Math,D.map(function(W){return W.evaluate(k)}))}],abs:[qr,[qr],function(k,D){var W=D[0];return Math.abs(W.evaluate(k))}],round:[qr,[qr],function(k,D){var W=D[0],ie=W.evaluate(k);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[qr,[qr],function(k,D){var W=D[0];return Math.floor(W.evaluate(k))}],ceil:[qr,[qr],function(k,D){var W=D[0];return Math.ceil(W.evaluate(k))}],"filter-==":[Sn,[Tn,zn],function(k,D){var W=D[0],ie=D[1];return k.properties()[W.value]===ie.value}],"filter-id-==":[Sn,[zn],function(k,D){var W=D[0];return k.id()===W.value}],"filter-type-==":[Sn,[Tn],function(k,D){var W=D[0];return k.geometryType()===W.value}],"filter-<":[Sn,[Tn,zn],function(k,D){var W=D[0],ie=D[1],pe=k.properties()[W.value],Ae=ie.value;return typeof pe==typeof Ae&&pe<Ae}],"filter-id-<":[Sn,[zn],function(k,D){var W=D[0],ie=k.id(),pe=W.value;return typeof ie==typeof pe&&ie<pe}],"filter->":[Sn,[Tn,zn],function(k,D){var W=D[0],ie=D[1],pe=k.properties()[W.value],Ae=ie.value;return typeof pe==typeof Ae&&pe>Ae}],"filter-id->":[Sn,[zn],function(k,D){var W=D[0],ie=k.id(),pe=W.value;return typeof ie==typeof pe&&ie>pe}],"filter-<=":[Sn,[Tn,zn],function(k,D){var W=D[0],ie=D[1],pe=k.properties()[W.value],Ae=ie.value;return typeof pe==typeof Ae&&pe<=Ae}],"filter-id-<=":[Sn,[zn],function(k,D){var W=D[0],ie=k.id(),pe=W.value;return typeof ie==typeof pe&&ie<=pe}],"filter->=":[Sn,[Tn,zn],function(k,D){var W=D[0],ie=D[1],pe=k.properties()[W.value],Ae=ie.value;return typeof pe==typeof Ae&&pe>=Ae}],"filter-id->=":[Sn,[zn],function(k,D){var W=D[0],ie=k.id(),pe=W.value;return typeof ie==typeof pe&&ie>=pe}],"filter-has":[Sn,[zn],function(k,D){var W=D[0];return W.value in k.properties()}],"filter-has-id":[Sn,[],function(k){return k.id()!==null&&k.id()!==void 0}],"filter-type-in":[Sn,[wi(Tn)],function(k,D){var W=D[0];return W.value.indexOf(k.geometryType())>=0}],"filter-id-in":[Sn,[wi(zn)],function(k,D){var W=D[0];return W.value.indexOf(k.id())>=0}],"filter-in-small":[Sn,[Tn,wi(zn)],function(k,D){var W=D[0],ie=D[1];return ie.value.indexOf(k.properties()[W.value])>=0}],"filter-in-large":[Sn,[Tn,wi(zn)],function(k,D){var W=D[0],ie=D[1];return Bc(k.properties()[W.value],ie.value,0,ie.value.length-1)}],all:{type:Sn,overloads:[[[Sn,Sn],function(k,D){var W=D[0],ie=D[1];return W.evaluate(k)&&ie.evaluate(k)}],[Xs(Sn),function(k,D){for(var W=0,ie=D;W<ie.length;W+=1){var pe=ie[W];if(!pe.evaluate(k))return!1}return!0}]]},any:{type:Sn,overloads:[[[Sn,Sn],function(k,D){var W=D[0],ie=D[1];return W.evaluate(k)||ie.evaluate(k)}],[Xs(Sn),function(k,D){for(var W=0,ie=D;W<ie.length;W+=1){var pe=ie[W];if(pe.evaluate(k))return!0}return!1}]]},"!":[Sn,[Sn],function(k,D){var W=D[0];return!W.evaluate(k)}],"is-supported-script":[Sn,[Tn],function(k,D){var W=D[0],ie=k.globals&&k.globals.isSupportedScript;return ie?ie(W.evaluate(k)):!0}],upcase:[Tn,[Tn],function(k,D){var W=D[0];return W.evaluate(k).toUpperCase()}],downcase:[Tn,[Tn],function(k,D){var W=D[0];return W.evaluate(k).toLowerCase()}],concat:[Tn,Xs(zn),function(k,D){return D.map(function(W){return Zl(W.evaluate(k))}).join("")}],"resolved-locale":[Tn,[Kn],function(k,D){var W=D[0];return W.evaluate(k).resolvedLocale()}]});function ou(k){return{result:"success",value:k}}function ll(k){return{result:"error",value:k}}function Zs(k){return k["property-type"]==="data-driven"||k["property-type"]==="cross-faded-data-driven"}function zu(k){return!!k.expression&&k.expression.parameters.indexOf("zoom")>-1}function su(k){return!!k.expression&&k.expression.interpolated}function mi(k){return k instanceof Number?"number":k instanceof String?"string":k instanceof Boolean?"boolean":Array.isArray(k)?"array":k===null?"null":typeof k}function lu(k){return typeof k=="object"&&k!==null&&!Array.isArray(k)}function bf(k){return k}function Uc(k,D){var W=D.type==="color",ie=k.stops&&typeof k.stops[0][0]=="object",pe=ie||k.property!==void 0,Ae=ie||!pe,De=k.type||(su(D)?"exponential":"interval");if(W&&(k=Dn({},k),k.stops&&(k.stops=k.stops.map(function(ra){return[ra[0],oi.parse(ra[1])]})),k.default?k.default=oi.parse(k.default):k.default=oi.parse(D.default)),k.colorSpace&&k.colorSpace!=="rgb"&&!mf[k.colorSpace])throw new Error("Unknown color space: "+k.colorSpace);var qe,pt,St;if(De==="exponential")qe=Qf;else if(De==="interval")qe=wf;else if(De==="categorical"){qe=Ou,pt=Object.create(null);for(var kt=0,Gt=k.stops;kt<Gt.length;kt+=1){var ir=Gt[kt];pt[ir[0]]=ir[1]}St=typeof k.stops[0][0]}else if(De==="identity")qe=Fu;else throw new Error('Unknown function type "'+De+'"');if(ie){for(var rr={},br=[],Hr=0;Hr<k.stops.length;Hr++){var cn=k.stops[Hr],tn=cn[0].zoom;rr[tn]===void 0&&(rr[tn]={zoom:tn,type:k.type,property:k.property,default:k.default,stops:[]},br.push(tn)),rr[tn].stops.push([cn[0].value,cn[1]])}for(var En=[],bn=0,Mn=br;bn<Mn.length;bn+=1){var On=Mn[bn];En.push([rr[On].zoom,Uc(rr[On],D)])}var Xn={name:"linear"};return{kind:"composite",interpolationType:Xn,interpolationFactor:Vi.interpolationFactor.bind(void 0,Xn),zoomStops:En.map(function(ra){return ra[0]}),evaluate:function(Aa,ga){var wa=Aa.zoom;return Qf({stops:En,base:k.base},D,wa).evaluate(wa,ga)}}}else if(Ae){var oa=De==="exponential"?{name:"exponential",base:k.base!==void 0?k.base:1}:null;return{kind:"camera",interpolationType:oa,interpolationFactor:Vi.interpolationFactor.bind(void 0,oa),zoomStops:k.stops.map(function(ra){return ra[0]}),evaluate:function(ra){var Aa=ra.zoom;return qe(k,D,Aa,pt,St)}}}else return{kind:"source",evaluate:function(Aa,ga){var wa=ga&&ga.properties?ga.properties[k.property]:void 0;return wa===void 0?uu(k.default,D.default):qe(k,D,wa,pt,St)}}}function uu(k,D,W){if(k!==void 0)return k;if(D!==void 0)return D;if(W!==void 0)return W}function Ou(k,D,W,ie,pe){var Ae=typeof W===pe?ie[W]:void 0;return uu(Ae,k.default,D.default)}function wf(k,D,W){if(mi(W)!=="number")return uu(k.default,D.default);var ie=k.stops.length;if(ie===1||W<=k.stops[0][0])return k.stops[0][1];if(W>=k.stops[ie-1][0])return k.stops[ie-1][1];var pe=$l(k.stops.map(function(Ae){return Ae[0]}),W);return k.stops[pe][1]}function Qf(k,D,W){var ie=k.base!==void 0?k.base:1;if(mi(W)!=="number")return uu(k.default,D.default);var pe=k.stops.length;if(pe===1||W<=k.stops[0][0])return k.stops[0][1];if(W>=k.stops[pe-1][0])return k.stops[pe-1][1];var Ae=$l(k.stops.map(function(Gt){return Gt[0]}),W),De=Nu(W,ie,k.stops[Ae][0],k.stops[Ae+1][0]),qe=k.stops[Ae][1],pt=k.stops[Ae+1][1],St=vf[D.type]||bf;if(k.colorSpace&&k.colorSpace!=="rgb"){var kt=mf[k.colorSpace];St=function(Gt,ir){return kt.reverse(kt.interpolate(kt.forward(Gt),kt.forward(ir),De))}}return typeof qe.evaluate=="function"?{evaluate:function(){for(var ir=[],rr=arguments.length;rr--;)ir[rr]=arguments[rr];var br=qe.evaluate.apply(void 0,ir),Hr=pt.evaluate.apply(void 0,ir);if(!(br===void 0||Hr===void 0))return St(br,Hr,De)}}:St(qe,pt,De)}function Fu(k,D,W){return D.type==="color"?W=oi.parse(W):D.type==="formatted"?W=so.fromString(W.toString()):D.type==="resolvedImage"?W=zo.fromString(W.toString()):mi(W)!==D.type&&(D.type!=="enum"||!D.values[W])&&(W=void 0),uu(W,k.default,D.default)}function Nu(k,D,W,ie){var pe=ie-W,Ae=k-W;return pe===0?0:D===1?Ae/pe:(Math.pow(D,Ae)-1)/(Math.pow(D,pe)-1)}var ul=function(D,W){this.expression=D,this._warningHistory={},this._evaluator=new Ls,this._defaultValue=W?Hc(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};ul.prototype.evaluateWithoutErrorHandling=function(D,W,ie,pe,Ae,De){return this._evaluator.globals=D,this._evaluator.feature=W,this._evaluator.featureState=ie,this._evaluator.canonical=pe,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},ul.prototype.evaluate=function(D,W,ie,pe,Ae,De){this._evaluator.globals=D,this._evaluator.feature=W||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=De||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!==qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new eo("Expected value to be one of "+Object.keys(this._enumValues).map(function(pt){return JSON.stringify(pt)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(pt){return this._warningHistory[pt.message]||(this._warningHistory[pt.message]=!0,typeof console<"u"&&console.warn(pt.message)),this._defaultValue}};function Bu(k){return Array.isArray(k)&&k.length>0&&typeof k[0]=="string"&&k[0]in iu}function fl(k,D){var W=new Rs(iu,[],D?Wh(D):void 0),ie=W.parse(k,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?ou(new ul(ie,D)):ll(W.errors)}var to=function(D,W){this.kind=D,this._styleExpression=W,this.isStateDependent=D!=="constant"&&!Cl(W.expression)};to.prototype.evaluateWithoutErrorHandling=function(D,W,ie,pe,Ae,De){return this._styleExpression.evaluateWithoutErrorHandling(D,W,ie,pe,Ae,De)},to.prototype.evaluate=function(D,W,ie,pe,Ae,De){return this._styleExpression.evaluate(D,W,ie,pe,Ae,De)};var ks=function(D,W,ie,pe){this.kind=D,this.zoomStops=ie,this._styleExpression=W,this.isStateDependent=D!=="camera"&&!Cl(W.expression),this.interpolationType=pe};ks.prototype.evaluateWithoutErrorHandling=function(D,W,ie,pe,Ae,De){return this._styleExpression.evaluateWithoutErrorHandling(D,W,ie,pe,Ae,De)},ks.prototype.evaluate=function(D,W,ie,pe,Ae,De){return this._styleExpression.evaluate(D,W,ie,pe,Ae,De)},ks.prototype.interpolationFactor=function(D,W,ie){return this.interpolationType?Vi.interpolationFactor(this.interpolationType,D,W,ie):0};function $f(k,D){if(k=fl(k,D),k.result==="error")return k;var W=k.value.expression,ie=Ql(W);if(!ie&&!Zs(D))return ll([new Er("","data expressions not supported")]);var pe=Ru(W,["zoom"]);if(!pe&&!zu(D))return ll([new Er("","zoom expressions not supported")]);var Ae=Uu(W);if(!Ae&&!pe)return ll([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ae instanceof Er)return ll([Ae]);if(Ae instanceof Vi&&!su(D))return ll([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!Ae)return ou(ie?new to("constant",k.value):new to("source",k.value));var De=Ae instanceof Vi?Ae.interpolation:void 0;return ou(ie?new ks("camera",k.value,Ae.labels,De):new ks("composite",k.value,Ae.labels,De))}var Dl=function(D,W){this._parameters=D,this._specification=W,Dn(this,Uc(this._parameters,this._specification))};Dl.deserialize=function(D){return new Dl(D._parameters,D._specification)},Dl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Tf(k,D){if(lu(k))return new Dl(k,D);if(Bu(k)){var W=$f(k,D);if(W.result==="error")throw new Error(W.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return W.value}else{var ie=k;return typeof k=="string"&&D.type==="color"&&(ie=oi.parse(k)),{kind:"constant",evaluate:function(){return ie}}}}function Uu(k){var D=null;if(k instanceof Ws)D=Uu(k.result);else if(k instanceof ds)for(var W=0,ie=k.args;W<ie.length;W+=1){var pe=ie[W];if(D=Uu(pe),D)break}else(k instanceof hs||k instanceof Vi)&&k.input instanceof lo&&k.input.name==="zoom"&&(D=k);return D instanceof Er||k.eachChild(function(Ae){var De=Uu(Ae);De instanceof Er?D=De:!D&&De?D=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&De&&D!==De&&(D=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Wh(k){var D={color:Nn,string:Tn,number:qr,enum:Tn,boolean:Sn,formatted:la,resolvedImage:Ra};return k.type==="array"?wi(D[k.value]||zn,k.length):D[k.type]}function Hc(k){return k.type==="color"&&lu(k.default)?new oi(0,0,0,0):k.type==="color"?oi.parse(k.default)||null:k.default===void 0?null:k.default}function Po(k){var D=k.key,W=k.value,ie=k.valueSpec||{},pe=k.objectElementValidators||{},Ae=k.style,De=k.styleSpec,qe=[],pt=mi(W);if(pt!=="object")return[new Ur(D,W,"object expected, "+pt+" found")];for(var St in W){var kt=St.split(".")[0],Gt=ie[kt]||ie["*"],ir=void 0;if(pe[kt])ir=pe[kt];else if(ie[kt])ir=Or;else if(pe["*"])ir=pe["*"];else if(ie["*"])ir=Or;else{qe.push(new Ur(D,W[St],'unknown property "'+St+'"'));continue}qe=qe.concat(ir({key:(D&&D+".")+St,value:W[St],valueSpec:Gt,style:Ae,styleSpec:De,object:W,objectKey:St},W))}for(var rr in ie)pe[rr]||ie[rr].required&&ie[rr].default===void 0&&W[rr]===void 0&&qe.push(new Ur(D,W,'missing required property "'+rr+'"'));return qe}function Hu(k){var D=k.value,W=k.valueSpec,ie=k.style,pe=k.styleSpec,Ae=k.key,De=k.arrayElementValidator||Or;if(mi(D)!=="array")return[new Ur(Ae,D,"array expected, "+mi(D)+" found")];if(W.length&&D.length!==W.length)return[new Ur(Ae,D,"array length "+W.length+" expected, length "+D.length+" found")];if(W["min-length"]&&D.length<W["min-length"])return[new Ur(Ae,D,"array length at least "+W["min-length"]+" expected, length "+D.length+" found")];var qe={type:W.value,values:W.values};pe.$version<7&&(qe.function=W.function),mi(W.value)==="object"&&(qe=W.value);for(var pt=[],St=0;St<D.length;St++)pt=pt.concat(De({array:D,arrayIndex:St,value:D[St],valueSpec:qe,style:ie,styleSpec:pe,key:Ae+"["+St+"]"}));return pt}function fu(k){var D=k.key,W=k.value,ie=k.valueSpec,pe=mi(W);return pe==="number"&&W!==W&&(pe="NaN"),pe!=="number"?[new Ur(D,W,"number expected, "+pe+" found")]:"minimum"in ie&&W<ie.minimum?[new Ur(D,W,W+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&W>ie.maximum?[new Ur(D,W,W+" is greater than the maximum value "+ie.maximum)]:[]}function Vc(k){var D=k.valueSpec,W=xn(k.value.type),ie,pe={},Ae,De,qe=W!=="categorical"&&k.value.property===void 0,pt=!qe,St=mi(k.value.stops)==="array"&&mi(k.value.stops[0])==="array"&&mi(k.value.stops[0][0])==="object",kt=Po({key:k.key,value:k.value,valueSpec:k.styleSpec.function,style:k.style,styleSpec:k.styleSpec,objectElementValidators:{stops:Gt,default:br}});return W==="identity"&&qe&&kt.push(new Ur(k.key,k.value,'missing required property "property"')),W!=="identity"&&!k.value.stops&&kt.push(new Ur(k.key,k.value,'missing required property "stops"')),W==="exponential"&&k.valueSpec.expression&&!su(k.valueSpec)&&kt.push(new Ur(k.key,k.value,"exponential functions not supported")),k.styleSpec.$version>=8&&(pt&&!Zs(k.valueSpec)?kt.push(new Ur(k.key,k.value,"property functions not supported")):qe&&!zu(k.valueSpec)&&kt.push(new Ur(k.key,k.value,"zoom functions not supported"))),(W==="categorical"||St)&&k.value.property===void 0&&kt.push(new Ur(k.key,k.value,'"property" property is required')),kt;function Gt(Hr){if(W==="identity")return[new Ur(Hr.key,Hr.value,'identity function may not have a "stops" property')];var cn=[],tn=Hr.value;return cn=cn.concat(Hu({key:Hr.key,value:tn,valueSpec:Hr.valueSpec,style:Hr.style,styleSpec:Hr.styleSpec,arrayElementValidator:ir})),mi(tn)==="array"&&tn.length===0&&cn.push(new Ur(Hr.key,tn,"array must have at least one stop")),cn}function ir(Hr){var cn=[],tn=Hr.value,En=Hr.key;if(mi(tn)!=="array")return[new Ur(En,tn,"array expected, "+mi(tn)+" found")];if(tn.length!==2)return[new Ur(En,tn,"array length 2 expected, length "+tn.length+" found")];if(St){if(mi(tn[0])!=="object")return[new Ur(En,tn,"object expected, "+mi(tn[0])+" found")];if(tn[0].zoom===void 0)return[new Ur(En,tn,"object stop key must have zoom")];if(tn[0].value===void 0)return[new Ur(En,tn,"object stop key must have value")];if(De&&De>xn(tn[0].zoom))return[new Ur(En,tn[0].zoom,"stop zoom values must appear in ascending order")];xn(tn[0].zoom)!==De&&(De=xn(tn[0].zoom),Ae=void 0,pe={}),cn=cn.concat(Po({key:En+"[0]",value:tn[0],valueSpec:{zoom:{}},style:Hr.style,styleSpec:Hr.styleSpec,objectElementValidators:{zoom:fu,value:rr}}))}else cn=cn.concat(rr({key:En+"[0]",value:tn[0],valueSpec:{},style:Hr.style,styleSpec:Hr.styleSpec},tn));return Bu(hn(tn[1]))?cn.concat([new Ur(En+"[1]",tn[1],"expressions are not allowed in function stops.")]):cn.concat(Or({key:En+"[1]",value:tn[1],valueSpec:D,style:Hr.style,styleSpec:Hr.styleSpec}))}function rr(Hr,cn){var tn=mi(Hr.value),En=xn(Hr.value),bn=Hr.value!==null?Hr.value:cn;if(!ie)ie=tn;else if(tn!==ie)return[new Ur(Hr.key,bn,tn+" stop domain type must match previous stop domain type "+ie)];if(tn!=="number"&&tn!=="string"&&tn!=="boolean")return[new Ur(Hr.key,bn,"stop domain value must be a number, string, or boolean")];if(tn!=="number"&&W!=="categorical"){var Mn="number expected, "+tn+" found";return Zs(D)&&W===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ur(Hr.key,bn,Mn)]}return W==="categorical"&&tn==="number"&&(!isFinite(En)||Math.floor(En)!==En)?[new Ur(Hr.key,bn,"integer expected, found "+En)]:W!=="categorical"&&tn==="number"&&Ae!==void 0&&En<Ae?[new Ur(Hr.key,bn,"stop domain values must appear in ascending order")]:(Ae=En,W==="categorical"&&En in pe?[new Ur(Hr.key,bn,"stop domain values must be unique")]:(pe[En]=!0,[]))}function br(Hr){return Or({key:Hr.key,value:Hr.value,valueSpec:D,style:Hr.style,styleSpec:Hr.styleSpec})}}function cl(k){var D=(k.expressionContext==="property"?$f:fl)(hn(k.value),k.valueSpec);if(D.result==="error")return D.value.map(function(ie){return new Ur(""+k.key+ie.key,k.value,ie.message)});var W=D.value.expression||D.value._styleExpression.expression;if(k.expressionContext==="property"&&k.propertyKey==="text-font"&&!W.outputDefined())return[new Ur(k.key,k.value,'Invalid data expression for "'+k.propertyKey+'". Output values must be contained as literals within the expression.')];if(k.expressionContext==="property"&&k.propertyType==="layout"&&!Cl(W))return[new Ur(k.key,k.value,'"feature-state" data expressions are not supported with layout properties.')];if(k.expressionContext==="filter"&&!Cl(W))return[new Ur(k.key,k.value,'"feature-state" data expressions are not supported with filters.')];if(k.expressionContext&&k.expressionContext.indexOf("cluster")===0){if(!Ru(W,["zoom","feature-state"]))return[new Ur(k.key,k.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(k.expressionContext==="cluster-initial"&&!Ql(W))return[new Ur(k.key,k.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function jh(k){var D=k.value,W=k.key,ie=mi(D);return ie!=="boolean"?[new Ur(W,D,"boolean expected, "+ie+" found")]:[]}function Xo(k){var D=k.key,W=k.value,ie=mi(W);return ie!=="string"?[new Ur(D,W,"color expected, "+ie+" found")]:Eu(W)===null?[new Ur(D,W,'color expected, "'+W+'" found')]:[]}function Vu(k){var D=k.key,W=k.value,ie=k.valueSpec,pe=[];return Array.isArray(ie.values)?ie.values.indexOf(xn(W))===-1&&pe.push(new Ur(D,W,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ie.values).indexOf(xn(W))===-1&&pe.push(new Ur(D,W,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(W)+" found")),pe}function Af(k){if(k===!0||k===!1)return!0;if(!Array.isArray(k)||k.length===0)return!1;switch(k[0]){case"has":return k.length>=2&&k[1]!=="$id"&&k[1]!=="$type";case"in":return k.length>=3&&(typeof k[1]!="string"||Array.isArray(k[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return k.length!==3||Array.isArray(k[1])||Array.isArray(k[2]);case"any":case"all":for(var D=0,W=k.slice(1);D<W.length;D+=1){var ie=W[D];if(!Af(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var Ks={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function hl(k){if(k==null)return{filter:function(){return!0},needGeometry:!1};Af(k)||(k=Wu(k));var D=fl(k,Ks);if(D.result==="error")throw new Error(D.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var W=Gu(k);return{filter:function(ie,pe,Ae){return D.value.evaluate(ie,pe,{},Ae)},needGeometry:W}}function qf(k,D){return k<D?-1:k>D?1:0}function Gu(k){if(!Array.isArray(k))return!1;if(k[0]==="within")return!0;for(var D=1;D<k.length;D++)if(Gu(k[D]))return!0;return!1}function Wu(k){if(!k)return!0;var D=k[0];if(k.length<=1)return D!=="any";var W=D==="=="?Sf(k[1],k[2],"=="):D==="!="?Il(Sf(k[1],k[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Sf(k[1],k[2],D):D==="any"?Gc(k.slice(1)):D==="all"?["all"].concat(k.slice(1).map(Wu)):D==="none"?["all"].concat(k.slice(1).map(Wu).map(Il)):D==="in"?ju(k[1],k.slice(2)):D==="!in"?Il(ju(k[1],k.slice(2))):D==="has"?ec(k[1]):D==="!has"?Il(ec(k[1])):D==="within"?k:!0;return W}function Sf(k,D,W){switch(k){case"$type":return["filter-type-"+W,D];case"$id":return["filter-id-"+W,D];default:return["filter-"+W,k,D]}}function Gc(k){return["any"].concat(k.map(Wu))}function ju(k,D){if(D.length===0)return!1;switch(k){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(W){return typeof W!=typeof D[0]})?["filter-in-large",k,["literal",D.sort(qf)]]:["filter-in-small",k,["literal",D]]}}function ec(k){switch(k){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",k]}}function Il(k){return["!",k]}function tc(k){return Af(hn(k.value))?cl(Dn({},k,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Yu(k)}function Yu(k){var D=k.value,W=k.key;if(mi(D)!=="array")return[new Ur(W,D,"array expected, "+mi(D)+" found")];var ie=k.styleSpec,pe,Ae=[];if(D.length<1)return[new Ur(W,D,"filter array must have at least 1 element")];switch(Ae=Ae.concat(Vu({key:W+"[0]",value:D[0],valueSpec:ie.filter_operator,style:k.style,styleSpec:k.styleSpec})),xn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&xn(D[1])==="$type"&&Ae.push(new Ur(W,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Ae.push(new Ur(W,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(pe=mi(D[1]),pe!=="string"&&Ae.push(new Ur(W+"[1]",D[1],"string expected, "+pe+" found")));for(var De=2;De<D.length;De++)pe=mi(D[De]),xn(D[1])==="$type"?Ae=Ae.concat(Vu({key:W+"["+De+"]",value:D[De],valueSpec:ie.geometry_type,style:k.style,styleSpec:k.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Ae.push(new Ur(W+"["+De+"]",D[De],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var qe=1;qe<D.length;qe++)Ae=Ae.concat(Yu({key:W+"["+qe+"]",value:D[qe],style:k.style,styleSpec:k.styleSpec}));break;case"has":case"!has":pe=mi(D[1]),D.length!==2?Ae.push(new Ur(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):pe!=="string"&&Ae.push(new Ur(W+"[1]",D[1],"string expected, "+pe+" found"));break;case"within":pe=mi(D[1]),D.length!==2?Ae.push(new Ur(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):pe!=="object"&&Ae.push(new Ur(W+"[1]",D[1],"object expected, "+pe+" found"));break}return Ae}function Wc(k,D){var W=k.key,ie=k.style,pe=k.styleSpec,Ae=k.value,De=k.objectKey,qe=pe[D+"_"+k.layerType];if(!qe)return[];var pt=De.match(/^(.*)-transition$/);if(D==="paint"&&pt&&qe[pt[1]]&&qe[pt[1]].transition)return Or({key:W,value:Ae,valueSpec:pe.transition,style:ie,styleSpec:pe});var St=k.valueSpec||qe[De];if(!St)return[new Ur(W,Ae,'unknown property "'+De+'"')];var kt;if(mi(Ae)==="string"&&Zs(St)&&!St.tokens&&(kt=/^{([^}]+)}$/.exec(Ae)))return[new Ur(W,Ae,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(kt[1])+" }`.")];var Gt=[];return k.layerType==="symbol"&&(De==="text-field"&&ie&&!ie.glyphs&&Gt.push(new Ur(W,Ae,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&lu(hn(Ae))&&xn(Ae.type)==="identity"&&Gt.push(new Ur(W,Ae,'"text-font" does not support identity functions'))),Gt.concat(Or({key:k.key,value:Ae,valueSpec:St,style:ie,styleSpec:pe,expressionContext:"property",propertyType:D,propertyKey:De}))}function $e(k){return Wc(k,"paint")}function st(k){return Wc(k,"layout")}function mt(k){var D=[],W=k.value,ie=k.key,pe=k.style,Ae=k.styleSpec;!W.type&&!W.ref&&D.push(new Ur(ie,W,'either "type" or "ref" is required'));var De=xn(W.type),qe=xn(W.ref);if(W.id)for(var pt=xn(W.id),St=0;St<k.arrayIndex;St++){var kt=pe.layers[St];xn(kt.id)===pt&&D.push(new Ur(ie,W.id,'duplicate layer id "'+W.id+'", previously used at line '+kt.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(br){br in W&&D.push(new Ur(ie,W[br],'"'+br+'" is prohibited for ref layers'))});var Gt;pe.layers.forEach(function(br){xn(br.id)===qe&&(Gt=br)}),Gt?Gt.ref?D.push(new Ur(ie,W.ref,"ref cannot reference another ref layer")):De=xn(Gt.type):D.push(new Ur(ie,W.ref,'ref layer "'+qe+'" not found'))}else if(De!=="background")if(!W.source)D.push(new Ur(ie,W,'missing required property "source"'));else{var ir=pe.sources&&pe.sources[W.source],rr=ir&&xn(ir.type);ir?rr==="vector"&&De==="raster"?D.push(new Ur(ie,W.source,'layer "'+W.id+'" requires a raster source')):rr==="raster"&&De!=="raster"?D.push(new Ur(ie,W.source,'layer "'+W.id+'" requires a vector source')):rr==="vector"&&!W["source-layer"]?D.push(new Ur(ie,W,'layer "'+W.id+'" must specify a "source-layer"')):rr==="raster-dem"&&De!=="hillshade"?D.push(new Ur(ie,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&W.paint&&W.paint["line-gradient"]&&(rr!=="geojson"||!ir.lineMetrics)&&D.push(new Ur(ie,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Ur(ie,W.source,'source "'+W.source+'" not found'))}return D=D.concat(Po({key:ie,value:W,valueSpec:Ae.layer,style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Or({key:ie+".type",value:W.type,valueSpec:Ae.layer.type,style:k.style,styleSpec:k.styleSpec,object:W,objectKey:"type"})},filter:tc,layout:function(Hr){return Po({layer:W,key:Hr.key,value:Hr.value,style:Hr.style,styleSpec:Hr.styleSpec,objectElementValidators:{"*":function(tn){return st(Dn({layerType:De},tn))}}})},paint:function(Hr){return Po({layer:W,key:Hr.key,value:Hr.value,style:Hr.style,styleSpec:Hr.styleSpec,objectElementValidators:{"*":function(tn){return $e(Dn({layerType:De},tn))}}})}}})),D}function wt(k){var D=k.value,W=k.key,ie=mi(D);return ie!=="string"?[new Ur(W,D,"string expected, "+ie+" found")]:[]}var _t={promoteId:zt};function Dt(k){var D=k.value,W=k.key,ie=k.styleSpec,pe=k.style;if(!D.type)return[new Ur(W,D,'"type" is required')];var Ae=xn(D.type),De;switch(Ae){case"vector":case"raster":case"raster-dem":return De=Po({key:W,value:D,valueSpec:ie["source_"+Ae.replace("-","_")],style:k.style,styleSpec:ie,objectElementValidators:_t}),De;case"geojson":if(De=Po({key:W,value:D,valueSpec:ie.source_geojson,style:pe,styleSpec:ie,objectElementValidators:_t}),D.cluster)for(var qe in D.clusterProperties){var pt=D.clusterProperties[qe],St=pt[0],kt=pt[1],Gt=typeof St=="string"?[St,["accumulated"],["get",qe]]:St;De.push.apply(De,cl({key:W+"."+qe+".map",value:kt,expressionContext:"cluster-map"})),De.push.apply(De,cl({key:W+"."+qe+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return De;case"video":return Po({key:W,value:D,valueSpec:ie.source_video,style:pe,styleSpec:ie});case"image":return Po({key:W,value:D,valueSpec:ie.source_image,style:pe,styleSpec:ie});case"canvas":return[new Ur(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Vu({key:W+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ie})}}function zt(k){var D=k.key,W=k.value;if(mi(W)==="string")return wt({key:D,value:W});var ie=[];for(var pe in W)ie.push.apply(ie,wt({key:D+"."+pe,value:W[pe]}));return ie}function pr(k){var D=k.value,W=k.styleSpec,ie=W.light,pe=k.style,Ae=[],De=mi(D);if(D===void 0)return Ae;if(De!=="object")return Ae=Ae.concat([new Ur("light",D,"object expected, "+De+" found")]),Ae;for(var qe in D){var pt=qe.match(/^(.*)-transition$/);pt&&ie[pt[1]]&&ie[pt[1]].transition?Ae=Ae.concat(Or({key:qe,value:D[qe],valueSpec:W.transition,style:pe,styleSpec:W})):ie[qe]?Ae=Ae.concat(Or({key:qe,value:D[qe],valueSpec:ie[qe],style:pe,styleSpec:W})):Ae=Ae.concat([new Ur(qe,D[qe],'unknown property "'+qe+'"')])}return Ae}function wr(k){return wt(k).length===0?[]:cl(k)}function sr(k){return wt(k).length===0?[]:cl(k)}var Mr={"*":function(){return[]},array:Hu,boolean:jh,number:fu,color:Xo,constants:fn,enum:Vu,filter:tc,function:Vc,layer:mt,object:Po,source:Dt,light:pr,string:wt,formatted:wr,resolvedImage:sr};function Or(k){var D=k.value,W=k.valueSpec,ie=k.styleSpec;if(W.expression&&lu(xn(D)))return Vc(k);if(W.expression&&Bu(hn(D)))return cl(k);if(W.type&&Mr[W.type])return Mr[W.type](k);var pe=Po(Dn({},k,{valueSpec:W.type?ie[W.type]:W}));return pe}function Vr(k){var D=k.value,W=k.key,ie=wt(k);return ie.length||(D.indexOf("{fontstack}")===-1&&ie.push(new Ur(W,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ie.push(new Ur(W,D,'"glyphs" url must include a "{range}" token'))),ie}function nn(k,D){D===void 0&&(D=Sr);var W=[];return W=W.concat(Or({key:"",value:k,valueSpec:D.$root,styleSpec:D,style:k,objectElementValidators:{glyphs:Vr,"*":function(){return[]}}})),k.constants&&(W=W.concat(fn({key:"constants",value:k.constants,style:k,styleSpec:D}))),wn(W)}nn.source=Rn(Dt),nn.light=Rn(pr),nn.layer=Rn(mt),nn.filter=Rn(tc),nn.paintProperty=Rn($e),nn.layoutProperty=Rn(st);function wn(k){return[].concat(k).sort(function(D,W){return D.line-W.line})}function Rn(k){return function(){for(var D=[],W=arguments.length;W--;)D[W]=arguments[W];return wn(k.apply(this,D))}}var In=nn,Qn=In.light,ka=In.paintProperty,Da=In.layoutProperty;function _a(k,D){var W=!1;if(D&&D.length)for(var ie=0,pe=D;ie<pe.length;ie+=1){var Ae=pe[ie];k.fire(new Pt(new Error(Ae.message))),W=!0}return W}var Na=xi,$a=3;function xi(k,D,W){var ie=this.cells=[];if(k instanceof ArrayBuffer){this.arrayBuffer=k;var pe=new Int32Array(this.arrayBuffer);k=pe[0],D=pe[1],W=pe[2],this.d=D+2*W;for(var Ae=0;Ae<this.d*this.d;Ae++){var De=pe[$a+Ae],qe=pe[$a+Ae+1];ie.push(De===qe?null:pe.subarray(De,qe))}var pt=pe[$a+ie.length],St=pe[$a+ie.length+1];this.keys=pe.subarray(pt,St),this.bboxes=pe.subarray(St),this.insert=this._insertReadonly}else{this.d=D+2*W;for(var kt=0;kt<this.d*this.d;kt++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=k,this.padding=W,this.scale=D/k,this.uid=0;var Gt=W/D*k;this.min=-Gt,this.max=k+Gt}xi.prototype.insert=function(k,D,W,ie,pe){this._forEachCell(D,W,ie,pe,this._insertCell,this.uid++),this.keys.push(k),this.bboxes.push(D),this.bboxes.push(W),this.bboxes.push(ie),this.bboxes.push(pe)},xi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},xi.prototype._insertCell=function(k,D,W,ie,pe,Ae){this.cells[pe].push(Ae)},xi.prototype.query=function(k,D,W,ie,pe){var Ae=this.min,De=this.max;if(k<=Ae&&D<=Ae&&De<=W&&De<=ie&&!pe)return Array.prototype.slice.call(this.keys);var qe=[],pt={};return this._forEachCell(k,D,W,ie,this._queryCell,qe,pt,pe),qe},xi.prototype._queryCell=function(k,D,W,ie,pe,Ae,De,qe){var pt=this.cells[pe];if(pt!==null)for(var St=this.keys,kt=this.bboxes,Gt=0;Gt<pt.length;Gt++){var ir=pt[Gt];if(De[ir]===void 0){var rr=ir*4;(qe?qe(kt[rr+0],kt[rr+1],kt[rr+2],kt[rr+3]):k<=kt[rr+2]&&D<=kt[rr+3]&&W>=kt[rr+0]&&ie>=kt[rr+1])?(De[ir]=!0,Ae.push(St[ir])):De[ir]=!1}}},xi.prototype._forEachCell=function(k,D,W,ie,pe,Ae,De,qe){for(var pt=this._convertToCellCoord(k),St=this._convertToCellCoord(D),kt=this._convertToCellCoord(W),Gt=this._convertToCellCoord(ie),ir=pt;ir<=kt;ir++)for(var rr=St;rr<=Gt;rr++){var br=this.d*rr+ir;if(!(qe&&!qe(this._convertFromCellCoord(ir),this._convertFromCellCoord(rr),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(rr+1)))&&pe.call(this,k,D,W,ie,br,Ae,De,qe))return}},xi.prototype._convertFromCellCoord=function(k){return(k-this.padding)/this.scale},xi.prototype._convertToCellCoord=function(k){return Math.max(0,Math.min(this.d-1,Math.floor(k*this.scale)+this.padding))},xi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var k=this.cells,D=$a+this.cells.length+1+1,W=0,ie=0;ie<this.cells.length;ie++)W+=this.cells[ie].length;var pe=new Int32Array(D+W+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Ae=D,De=0;De<k.length;De++){var qe=k[De];pe[$a+De]=Ae,pe.set(qe,Ae),Ae+=qe.length}return pe[$a+k.length]=Ae,pe.set(this.keys,Ae),Ae+=this.keys.length,pe[$a+k.length+1]=Ae,pe.set(this.bboxes,Ae),Ae+=this.bboxes.length,pe.buffer};var Gi=o.ImageData,ce=o.ImageBitmap,Ee={};function He(k,D,W){W===void 0&&(W={}),Object.defineProperty(D,"_classRegistryKey",{value:k,writeable:!1}),Ee[k]={klass:D,omit:W.omit||[],shallow:W.shallow||[]}}He("Object",Object),Na.serialize=function(D,W){var ie=D.toArrayBuffer();return W&&W.push(ie),{buffer:ie}},Na.deserialize=function(D){return new Na(D.buffer)},He("Grid",Na),He("Color",oi),He("Error",Error),He("ResolvedImage",zo),He("StylePropertyFunction",Dl),He("StyleExpression",ul,{omit:["_evaluator"]}),He("ZoomDependentExpression",ks),He("ZoomConstantExpression",to),He("CompoundExpression",lo,{omit:["_evaluate"]});for(var tt in iu)iu[tt]._classRegistryKey||He("Expression_"+tt,iu[tt]);function ot(k){return k&&typeof ArrayBuffer<"u"&&(k instanceof ArrayBuffer||k.constructor&&k.constructor.name==="ArrayBuffer")}function ht(k){return ce&&k instanceof ce}function Rt(k,D){if(k==null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||k instanceof Boolean||k instanceof Number||k instanceof String||k instanceof Date||k instanceof RegExp)return k;if(ot(k)||ht(k))return D&&D.push(k),k;if(ArrayBuffer.isView(k)){var W=k;return D&&D.push(W.buffer),W}if(k instanceof Gi)return D&&D.push(k.data.buffer),k;if(Array.isArray(k)){for(var ie=[],pe=0,Ae=k;pe<Ae.length;pe+=1){var De=Ae[pe];ie.push(Rt(De,D))}return ie}if(typeof k=="object"){var qe=k.constructor,pt=qe._classRegistryKey;if(!pt)throw new Error("can't serialize object of unregistered class");var St=qe.serialize?qe.serialize(k,D):{};if(!qe.serialize){for(var kt in k)if(k.hasOwnProperty(kt)&&!(Ee[pt].omit.indexOf(kt)>=0)){var Gt=k[kt];St[kt]=Ee[pt].shallow.indexOf(kt)>=0?Gt:Rt(Gt,D)}k instanceof Error&&(St.message=k.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return pt!=="Object"&&(St.$name=pt),St}throw new Error("can't serialize object of type "+typeof k)}function At(k){if(k==null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||k instanceof Boolean||k instanceof Number||k instanceof String||k instanceof Date||k instanceof RegExp||ot(k)||ht(k)||ArrayBuffer.isView(k)||k instanceof Gi)return k;if(Array.isArray(k))return k.map(At);if(typeof k=="object"){var D=k.$name||"Object",W=Ee[D],ie=W.klass;if(!ie)throw new Error("can't deserialize unregistered class "+D);if(ie.deserialize)return ie.deserialize(k);for(var pe=Object.create(ie.prototype),Ae=0,De=Object.keys(k);Ae<De.length;Ae+=1){var qe=De[Ae];if(qe!=="$name"){var pt=k[qe];pe[qe]=Ee[D].shallow.indexOf(qe)>=0?pt:At(pt)}}return pe}throw new Error("can't deserialize object of type "+typeof k)}var Ut=function(){this.first=!0};Ut.prototype.update=function(D,W){var ie=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=W),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ie,!0):!1)};var Vt={"Latin-1 Supplement":function(k){return k>=128&&k<=255},Arabic:function(k){return k>=1536&&k<=1791},"Arabic Supplement":function(k){return k>=1872&&k<=1919},"Arabic Extended-A":function(k){return k>=2208&&k<=2303},"Hangul Jamo":function(k){return k>=4352&&k<=4607},"Unified Canadian Aboriginal Syllabics":function(k){return k>=5120&&k<=5759},Khmer:function(k){return k>=6016&&k<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(k){return k>=6320&&k<=6399},"General Punctuation":function(k){return k>=8192&&k<=8303},"Letterlike Symbols":function(k){return k>=8448&&k<=8527},"Number Forms":function(k){return k>=8528&&k<=8591},"Miscellaneous Technical":function(k){return k>=8960&&k<=9215},"Control Pictures":function(k){return k>=9216&&k<=9279},"Optical Character Recognition":function(k){return k>=9280&&k<=9311},"Enclosed Alphanumerics":function(k){return k>=9312&&k<=9471},"Geometric Shapes":function(k){return k>=9632&&k<=9727},"Miscellaneous Symbols":function(k){return k>=9728&&k<=9983},"Miscellaneous Symbols and Arrows":function(k){return k>=11008&&k<=11263},"CJK Radicals Supplement":function(k){return k>=11904&&k<=12031},"Kangxi Radicals":function(k){return k>=12032&&k<=12255},"Ideographic Description Characters":function(k){return k>=12272&&k<=12287},"CJK Symbols and Punctuation":function(k){return k>=12288&&k<=12351},Hiragana:function(k){return k>=12352&&k<=12447},Katakana:function(k){return k>=12448&&k<=12543},Bopomofo:function(k){return k>=12544&&k<=12591},"Hangul Compatibility Jamo":function(k){return k>=12592&&k<=12687},Kanbun:function(k){return k>=12688&&k<=12703},"Bopomofo Extended":function(k){return k>=12704&&k<=12735},"CJK Strokes":function(k){return k>=12736&&k<=12783},"Katakana Phonetic Extensions":function(k){return k>=12784&&k<=12799},"Enclosed CJK Letters and Months":function(k){return k>=12800&&k<=13055},"CJK Compatibility":function(k){return k>=13056&&k<=13311},"CJK Unified Ideographs Extension A":function(k){return k>=13312&&k<=19903},"Yijing Hexagram Symbols":function(k){return k>=19904&&k<=19967},"CJK Unified Ideographs":function(k){return k>=19968&&k<=40959},"Yi Syllables":function(k){return k>=40960&&k<=42127},"Yi Radicals":function(k){return k>=42128&&k<=42191},"Hangul Jamo Extended-A":function(k){return k>=43360&&k<=43391},"Hangul Syllables":function(k){return k>=44032&&k<=55215},"Hangul Jamo Extended-B":function(k){return k>=55216&&k<=55295},"Private Use Area":function(k){return k>=57344&&k<=63743},"CJK Compatibility Ideographs":function(k){return k>=63744&&k<=64255},"Arabic Presentation Forms-A":function(k){return k>=64336&&k<=65023},"Vertical Forms":function(k){return k>=65040&&k<=65055},"CJK Compatibility Forms":function(k){return k>=65072&&k<=65103},"Small Form Variants":function(k){return k>=65104&&k<=65135},"Arabic Presentation Forms-B":function(k){return k>=65136&&k<=65279},"Halfwidth and Fullwidth Forms":function(k){return k>=65280&&k<=65519}};function ar(k){for(var D=0,W=k;D<W.length;D+=1){var ie=W[D];if(ln(ie.charCodeAt(0)))return!0}return!1}function Rr(k){for(var D=0,W=k;D<W.length;D+=1){var ie=W[D];if(!kr(ie.charCodeAt(0)))return!1}return!0}function kr(k){return!(Vt.Arabic(k)||Vt["Arabic Supplement"](k)||Vt["Arabic Extended-A"](k)||Vt["Arabic Presentation Forms-A"](k)||Vt["Arabic Presentation Forms-B"](k))}function $r(k){return k<11904?!1:!!(Vt["Bopomofo Extended"](k)||Vt.Bopomofo(k)||Vt["CJK Compatibility Forms"](k)||Vt["CJK Compatibility Ideographs"](k)||Vt["CJK Compatibility"](k)||Vt["CJK Radicals Supplement"](k)||Vt["CJK Strokes"](k)||Vt["CJK Symbols and Punctuation"](k)||Vt["CJK Unified Ideographs Extension A"](k)||Vt["CJK Unified Ideographs"](k)||Vt["Enclosed CJK Letters and Months"](k)||Vt["Halfwidth and Fullwidth Forms"](k)||Vt.Hiragana(k)||Vt["Ideographic Description Characters"](k)||Vt["Kangxi Radicals"](k)||Vt["Katakana Phonetic Extensions"](k)||Vt.Katakana(k)||Vt["Vertical Forms"](k)||Vt["Yi Radicals"](k)||Vt["Yi Syllables"](k))}function ln(k){return k===746||k===747?!0:k<4352?!1:!!(Vt["Bopomofo Extended"](k)||Vt.Bopomofo(k)||Vt["CJK Compatibility Forms"](k)&&!(k>=65097&&k<=65103)||Vt["CJK Compatibility Ideographs"](k)||Vt["CJK Compatibility"](k)||Vt["CJK Radicals Supplement"](k)||Vt["CJK Strokes"](k)||Vt["CJK Symbols and Punctuation"](k)&&!(k>=12296&&k<=12305)&&!(k>=12308&&k<=12319)&&k!==12336||Vt["CJK Unified Ideographs Extension A"](k)||Vt["CJK Unified Ideographs"](k)||Vt["Enclosed CJK Letters and Months"](k)||Vt["Hangul Compatibility Jamo"](k)||Vt["Hangul Jamo Extended-A"](k)||Vt["Hangul Jamo Extended-B"](k)||Vt["Hangul Jamo"](k)||Vt["Hangul Syllables"](k)||Vt.Hiragana(k)||Vt["Ideographic Description Characters"](k)||Vt.Kanbun(k)||Vt["Kangxi Radicals"](k)||Vt["Katakana Phonetic Extensions"](k)||Vt.Katakana(k)&&k!==12540||Vt["Halfwidth and Fullwidth Forms"](k)&&k!==65288&&k!==65289&&k!==65293&&!(k>=65306&&k<=65310)&&k!==65339&&k!==65341&&k!==65343&&!(k>=65371&&k<=65503)&&k!==65507&&!(k>=65512&&k<=65519)||Vt["Small Form Variants"](k)&&!(k>=65112&&k<=65118)&&!(k>=65123&&k<=65126)||Vt["Unified Canadian Aboriginal Syllabics"](k)||Vt["Unified Canadian Aboriginal Syllabics Extended"](k)||Vt["Vertical Forms"](k)||Vt["Yijing Hexagram Symbols"](k)||Vt["Yi Syllables"](k)||Vt["Yi Radicals"](k))}function zr(k){return!!(Vt["Latin-1 Supplement"](k)&&(k===167||k===169||k===174||k===177||k===188||k===189||k===190||k===215||k===247)||Vt["General Punctuation"](k)&&(k===8214||k===8224||k===8225||k===8240||k===8241||k===8251||k===8252||k===8258||k===8263||k===8264||k===8265||k===8273)||Vt["Letterlike Symbols"](k)||Vt["Number Forms"](k)||Vt["Miscellaneous Technical"](k)&&(k>=8960&&k<=8967||k>=8972&&k<=8991||k>=8996&&k<=9e3||k===9003||k>=9085&&k<=9114||k>=9150&&k<=9165||k===9167||k>=9169&&k<=9179||k>=9186&&k<=9215)||Vt["Control Pictures"](k)&&k!==9251||Vt["Optical Character Recognition"](k)||Vt["Enclosed Alphanumerics"](k)||Vt["Geometric Shapes"](k)||Vt["Miscellaneous Symbols"](k)&&!(k>=9754&&k<=9759)||Vt["Miscellaneous Symbols and Arrows"](k)&&(k>=11026&&k<=11055||k>=11088&&k<=11097||k>=11192&&k<=11243)||Vt["CJK Symbols and Punctuation"](k)||Vt.Katakana(k)||Vt["Private Use Area"](k)||Vt["CJK Compatibility Forms"](k)||Vt["Small Form Variants"](k)||Vt["Halfwidth and Fullwidth Forms"](k)||k===8734||k===8756||k===8757||k>=9984&&k<=10087||k>=10102&&k<=10131||k===65532||k===65533)}function Gr(k){return!(ln(k)||zr(k))}function Jr(k){return Vt.Arabic(k)||Vt["Arabic Supplement"](k)||Vt["Arabic Extended-A"](k)||Vt["Arabic Presentation Forms-A"](k)||Vt["Arabic Presentation Forms-B"](k)}function vn(k){return k>=1424&&k<=2303||Vt["Arabic Presentation Forms-A"](k)||Vt["Arabic Presentation Forms-B"](k)}function mn(k,D){return!(!D&&vn(k)||k>=2304&&k<=3583||k>=3840&&k<=4255||Vt.Khmer(k))}function en(k){for(var D=0,W=k;D<W.length;D+=1){var ie=W[D];if(vn(ie.charCodeAt(0)))return!0}return!1}function Gn(k,D){for(var W=0,ie=k;W<ie.length;W+=1){var pe=ie[W];if(!mn(pe.charCodeAt(0),D))return!1}return!0}var na={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ha=null,ta=na.unavailable,ua=null,va=function(k){k&&typeof k=="string"&&k.indexOf("NetworkError")>-1&&(ta=na.error),ha&&ha(k)};function Ua(){Ca.fire(new jt("pluginStateChange",{pluginStatus:ta,pluginURL:ua}))}var Ca=new Zt,Oa=function(){return ta},fi=function(k){return k({pluginStatus:ta,pluginURL:ua}),Ca.on("pluginStateChange",k),k},ji=function(k,D,W){if(W===void 0&&(W=!1),ta===na.deferred||ta===na.loading||ta===na.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ua=se.resolveURL(k),ta=na.deferred,ha=D,Ua(),W||gi()},gi=function(){if(ta!==na.deferred||!ua)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ta=na.loading,Ua(),ua&&Ot({url:ua},function(k){k?va(k):(ta=na.loaded,Ua())})},ea={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ta===na.loaded||ea.applyArabicShaping!=null},isLoading:function(){return ta===na.loading},setState:function(D){ta=D.pluginStatus,ua=D.pluginURL},isParsed:function(){return ea.applyArabicShaping!=null&&ea.processBidirectionalText!=null&&ea.processStyledBidirectionalText!=null},getPluginURL:function(){return ua}},Va=function(){!ea.isLoading()&&!ea.isLoaded()&&Oa()==="deferred"&&gi()},Ma=function(D,W){this.zoom=D,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ut,this.transition={})};Ma.prototype.isSupportedScript=function(D){return Gn(D,ea.isLoaded())},Ma.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ma.prototype.getCrossfadeParameters=function(){var D=this.zoom,W=D-Math.floor(D),ie=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*W}};var qa=function(D,W){this.property=D,this.value=W,this.expression=Tf(W===void 0?D.specification.default:W,D.specification)};qa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},qa.prototype.possiblyEvaluate=function(D,W,ie){return this.property.possiblyEvaluate(this,D,W,ie)};var Ei=function(D){this.property=D,this.value=new qa(D,void 0)};Ei.prototype.transitioned=function(D,W){return new fo(this.property,this.value,W,b({},D.transition,this.transition),D.now)},Ei.prototype.untransitioned=function(){return new fo(this.property,this.value,null,{},0)};var ci=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(D){return H(this._values[D].value.value)},ci.prototype.setValue=function(D,W){this._values.hasOwnProperty(D)||(this._values[D]=new Ei(this._values[D].property)),this._values[D].value=new qa(this._values[D].property,W===null?void 0:H(W))},ci.prototype.getTransition=function(D){return H(this._values[D].transition)},ci.prototype.setTransition=function(D,W){this._values.hasOwnProperty(D)||(this._values[D]=new Ei(this._values[D].property)),this._values[D].transition=H(W)||void 0},ci.prototype.serialize=function(){for(var D={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W],Ae=this.getValue(pe);Ae!==void 0&&(D[pe]=Ae);var De=this.getTransition(pe);De!==void 0&&(D[pe+"-transition"]=De)}return D},ci.prototype.transitioned=function(D,W){for(var ie=new co(this._properties),pe=0,Ae=Object.keys(this._values);pe<Ae.length;pe+=1){var De=Ae[pe];ie._values[De]=this._values[De].transitioned(D,W._values[De])}return ie},ci.prototype.untransitioned=function(){for(var D=new co(this._properties),W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W];D._values[pe]=this._values[pe].untransitioned()}return D};var fo=function(D,W,ie,pe,Ae){this.property=D,this.value=W,this.begin=Ae+pe.delay||0,this.end=this.begin+pe.duration||0,D.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ie)};fo.prototype.possiblyEvaluate=function(D,W,ie){var pe=D.now||0,Ae=this.value.possiblyEvaluate(D,W,ie),De=this.prior;if(De){if(pe>this.end)return this.prior=null,Ae;if(this.value.isDataDriven())return this.prior=null,Ae;if(pe<this.begin)return De.possiblyEvaluate(D,W,ie);var qe=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(D,W,ie),Ae,f(qe))}else return Ae};var co=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};co.prototype.possiblyEvaluate=function(D,W,ie){for(var pe=new Ro(this._properties),Ae=0,De=Object.keys(this._values);Ae<De.length;Ae+=1){var qe=De[Ae];pe._values[qe]=this._values[qe].possiblyEvaluate(D,W,ie)}return pe},co.prototype.hasTransition=function(){for(var D=0,W=Object.keys(this._values);D<W.length;D+=1){var ie=W[D];if(this._values[ie].prior)return!0}return!1};var mo=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};mo.prototype.getValue=function(D){return H(this._values[D].value)},mo.prototype.setValue=function(D,W){this._values[D]=new qa(this._values[D].property,W===null?void 0:H(W))},mo.prototype.serialize=function(){for(var D={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W],Ae=this.getValue(pe);Ae!==void 0&&(D[pe]=Ae)}return D},mo.prototype.possiblyEvaluate=function(D,W,ie){for(var pe=new Ro(this._properties),Ae=0,De=Object.keys(this._values);Ae<De.length;Ae+=1){var qe=De[Ae];pe._values[qe]=this._values[qe].possiblyEvaluate(D,W,ie)}return pe};var Ci=function(D,W,ie){this.property=D,this.value=W,this.parameters=ie};Ci.prototype.isConstant=function(){return this.value.kind==="constant"},Ci.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},Ci.prototype.evaluate=function(D,W,ie,pe){return this.property.evaluate(this.value,this.parameters,D,W,ie,pe)};var Ro=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};Ro.prototype.get=function(D){return this._values[D]};var fa=function(D){this.specification=D};fa.prototype.possiblyEvaluate=function(D,W){return D.expression.evaluate(W)},fa.prototype.interpolate=function(D,W,ie){var pe=vf[this.specification.type];return pe?pe(D,W,ie):D};var Pa=function(D,W){this.specification=D,this.overrides=W};Pa.prototype.possiblyEvaluate=function(D,W,ie,pe){return D.expression.kind==="constant"||D.expression.kind==="camera"?new Ci(this,{kind:"constant",value:D.expression.evaluate(W,null,{},ie,pe)},W):new Ci(this,D.expression,W)},Pa.prototype.interpolate=function(D,W,ie){if(D.value.kind!=="constant"||W.value.kind!=="constant")return D;if(D.value.value===void 0||W.value.value===void 0)return new Ci(this,{kind:"constant",value:void 0},D.parameters);var pe=vf[this.specification.type];return pe?new Ci(this,{kind:"constant",value:pe(D.value.value,W.value.value,ie)},D.parameters):D},Pa.prototype.evaluate=function(D,W,ie,pe,Ae,De){return D.kind==="constant"?D.value:D.evaluate(W,ie,pe,Ae,De)};var Zo=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ie,pe,Ae,De){if(ie.value===void 0)return new Ci(this,{kind:"constant",value:void 0},pe);if(ie.expression.kind==="constant"){var qe=ie.expression.evaluate(pe,null,{},Ae,De),pt=ie.property.specification.type==="resolvedImage",St=pt&&typeof qe!="string"?qe.name:qe,kt=this._calculate(St,St,St,pe);return new Ci(this,{kind:"constant",value:kt},pe)}else if(ie.expression.kind==="camera"){var Gt=this._calculate(ie.expression.evaluate({zoom:pe.zoom-1}),ie.expression.evaluate({zoom:pe.zoom}),ie.expression.evaluate({zoom:pe.zoom+1}),pe);return new Ci(this,{kind:"constant",value:Gt},pe)}else return new Ci(this,ie.expression,pe)},D.prototype.evaluate=function(ie,pe,Ae,De,qe,pt){if(ie.kind==="source"){var St=ie.evaluate(pe,Ae,De,qe,pt);return this._calculate(St,St,St,pe)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(pe.zoom)-1},Ae,De),ie.evaluate({zoom:Math.floor(pe.zoom)},Ae,De),ie.evaluate({zoom:Math.floor(pe.zoom)+1},Ae,De),pe):ie.value},D.prototype._calculate=function(ie,pe,Ae,De){var qe=De.zoom;return qe>De.zoomHistory.lastIntegerZoom?{from:ie,to:pe}:{from:Ae,to:pe}},D.prototype.interpolate=function(ie){return ie},D}(Pa),es=function(D){this.specification=D};es.prototype.possiblyEvaluate=function(D,W,ie,pe){if(D.value!==void 0)if(D.expression.kind==="constant"){var Ae=D.expression.evaluate(W,null,{},ie,pe);return this._calculate(Ae,Ae,Ae,W)}else return this._calculate(D.expression.evaluate(new Ma(Math.floor(W.zoom-1),W)),D.expression.evaluate(new Ma(Math.floor(W.zoom),W)),D.expression.evaluate(new Ma(Math.floor(W.zoom+1),W)),W)},es.prototype._calculate=function(D,W,ie,pe){var Ae=pe.zoom;return Ae>pe.zoomHistory.lastIntegerZoom?{from:D,to:W}:{from:ie,to:W}},es.prototype.interpolate=function(D){return D};var xo=function(D){this.specification=D};xo.prototype.possiblyEvaluate=function(D,W,ie,pe){return!!D.expression.evaluate(W,null,{},ie,pe)},xo.prototype.interpolate=function(){return!1};var yi=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in D){var ie=D[W];ie.specification.overridable&&this.overridableProperties.push(W);var pe=this.defaultPropertyValues[W]=new qa(ie,void 0),Ae=this.defaultTransitionablePropertyValues[W]=new Ei(ie);this.defaultTransitioningPropertyValues[W]=Ae.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=pe.possiblyEvaluate({})}};He("DataDrivenProperty",Pa),He("DataConstantProperty",fa),He("CrossFadedDataDrivenProperty",Zo),He("CrossFadedProperty",es),He("ColorRampProperty",xo);var ro="-transition",Zi=function(k){function D(W,ie){if(k.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ie.layout&&(this._unevaluatedLayout=new mo(ie.layout)),ie.paint)){this._transitionablePaint=new ci(ie.paint);for(var pe in W.paint)this.setPaintProperty(pe,W.paint[pe],{validate:!1});for(var Ae in W.layout)this.setLayoutProperty(Ae,W.layout[Ae],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ro(ie.paint)}}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},D.prototype.setLayoutProperty=function(ie,pe,Ae){if(Ae===void 0&&(Ae={}),pe!=null){var De="layers."+this.id+".layout."+ie;if(this._validate(Da,De,ie,pe,Ae))return}if(ie==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ie,pe)},D.prototype.getPaintProperty=function(ie){return w(ie,ro)?this._transitionablePaint.getTransition(ie.slice(0,-ro.length)):this._transitionablePaint.getValue(ie)},D.prototype.setPaintProperty=function(ie,pe,Ae){if(Ae===void 0&&(Ae={}),pe!=null){var De="layers."+this.id+".paint."+ie;if(this._validate(ka,De,ie,pe,Ae))return!1}if(w(ie,ro))return this._transitionablePaint.setTransition(ie.slice(0,-ro.length),pe||void 0),!1;var qe=this._transitionablePaint._values[ie],pt=qe.property.specification["property-type"]==="cross-faded-data-driven",St=qe.value.isDataDriven(),kt=qe.value;this._transitionablePaint.setValue(ie,pe),this._handleSpecialPaintPropertyUpdate(ie);var Gt=this._transitionablePaint._values[ie].value,ir=Gt.isDataDriven();return ir||St||pt||this._handleOverridablePaintPropertyUpdate(ie,kt,Gt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ie){},D.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Ae){return!1},D.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ie,pe){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,pe)},D.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),I(ie,function(pe,Ae){return pe!==void 0&&!(Ae==="layout"&&!Object.keys(pe).length)&&!(Ae==="paint"&&!Object.keys(pe).length)})},D.prototype._validate=function(ie,pe,Ae,De,qe){return qe===void 0&&(qe={}),qe&&qe.validate===!1?!1:_a(this,ie.call(In,{key:pe,layerType:this.type,objectKey:Ae,value:De,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ie in this.paint._values){var pe=this.paint.get(ie);if(!(!(pe instanceof Ci)||!Zs(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},D}(Zt),Ds={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Js=function(D,W){this._structArray=D,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},zi=128,cu=5,ei=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ei.serialize=function(D,W){return D._trim(),W&&(D.isTransferred=!0,W.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ei.deserialize=function(D){var W=Object.create(this.prototype);return W.arrayBuffer=D.arrayBuffer,W.length=D.length,W.capacity=D.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},ei.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ei.prototype.clear=function(){this.length=0},ei.prototype.resize=function(D){this.reserve(D),this.length=D},ei.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*cu),zi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},ei.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Oi(k,D){D===void 0&&(D=1);var W=0,ie=0,pe=k.map(function(De){var qe=Yh(De.type),pt=W=$p(W,Math.max(D,qe)),St=De.components||1;return ie=Math.max(ie,qe),W+=qe*St,{name:De.name,type:De.type,components:St,offset:pt}}),Ae=$p(W,Math.max(ie,D));return{members:pe,size:Ae,alignment:D}}function Yh(k){return Ds[k].BYTES_PER_ELEMENT}function $p(k,D){return Math.ceil(k/D)*D}var rc=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ie,pe)},D.prototype.emplace=function(ie,pe,Ae){var De=ie*2;return this.int16[De+0]=pe,this.int16[De+1]=Ae,ie},D}(ei);rc.prototype.bytesPerElement=4,He("StructArrayLayout2i4",rc);var Dd=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ie,pe,Ae,De)},D.prototype.emplace=function(ie,pe,Ae,De,qe){var pt=ie*4;return this.int16[pt+0]=pe,this.int16[pt+1]=Ae,this.int16[pt+2]=De,this.int16[pt+3]=qe,ie},D}(ei);Dd.prototype.bytesPerElement=8,He("StructArrayLayout4i8",Dd);var Mf=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Ae,De,qe,pt)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St){var kt=ie*6;return this.int16[kt+0]=pe,this.int16[kt+1]=Ae,this.int16[kt+2]=De,this.int16[kt+3]=qe,this.int16[kt+4]=pt,this.int16[kt+5]=St,ie},D}(ei);Mf.prototype.bytesPerElement=12,He("StructArrayLayout2i4i12",Mf);var jc=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Ae,De,qe,pt)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St){var kt=ie*4,Gt=ie*8;return this.int16[kt+0]=pe,this.int16[kt+1]=Ae,this.uint8[Gt+4]=De,this.uint8[Gt+5]=qe,this.uint8[Gt+6]=pt,this.uint8[Gt+7]=St,ie},D}(ei);jc.prototype.bytesPerElement=8,He("StructArrayLayout2i4ub8",jc);var Yc=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ie,pe)},D.prototype.emplace=function(ie,pe,Ae){var De=ie*2;return this.float32[De+0]=pe,this.float32[De+1]=Ae,ie},D}(ei);Yc.prototype.bytesPerElement=8,He("StructArrayLayout2f8",Yc);var ms=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir){var rr=this.length;return this.resize(rr+1),this.emplace(rr,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr){var br=ie*10;return this.uint16[br+0]=pe,this.uint16[br+1]=Ae,this.uint16[br+2]=De,this.uint16[br+3]=qe,this.uint16[br+4]=pt,this.uint16[br+5]=St,this.uint16[br+6]=kt,this.uint16[br+7]=Gt,this.uint16[br+8]=ir,this.uint16[br+9]=rr,ie},D}(ei);ms.prototype.bytesPerElement=20,He("StructArrayLayout10ui20",ms);var Ef=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br){var Hr=this.length;return this.resize(Hr+1),this.emplace(Hr,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr){var cn=ie*12;return this.int16[cn+0]=pe,this.int16[cn+1]=Ae,this.int16[cn+2]=De,this.int16[cn+3]=qe,this.uint16[cn+4]=pt,this.uint16[cn+5]=St,this.uint16[cn+6]=kt,this.uint16[cn+7]=Gt,this.int16[cn+8]=ir,this.int16[cn+9]=rr,this.int16[cn+10]=br,this.int16[cn+11]=Hr,ie},D}(ei);Ef.prototype.bytesPerElement=24,He("StructArrayLayout4i4ui4i24",Ef);var Id=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Ae)},D.prototype.emplace=function(ie,pe,Ae,De){var qe=ie*3;return this.float32[qe+0]=pe,this.float32[qe+1]=Ae,this.float32[qe+2]=De,ie},D}(ei);Id.prototype.bytesPerElement=12,He("StructArrayLayout3f12",Id);var _d=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},D.prototype.emplace=function(ie,pe){var Ae=ie*1;return this.uint32[Ae+0]=pe,ie},D}(ei);_d.prototype.bytesPerElement=4,He("StructArrayLayout1ul4",_d);var Xh=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt,St,kt,Gt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ie,pe,Ae,De,qe,pt,St,kt,Gt)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir){var rr=ie*10,br=ie*5;return this.int16[rr+0]=pe,this.int16[rr+1]=Ae,this.int16[rr+2]=De,this.int16[rr+3]=qe,this.int16[rr+4]=pt,this.int16[rr+5]=St,this.uint32[br+3]=kt,this.uint16[rr+8]=Gt,this.uint16[rr+9]=ir,ie},D}(ei);Xh.prototype.bytesPerElement=20,He("StructArrayLayout6i1ul2ui20",Xh);var Tv=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Ae,De,qe,pt)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St){var kt=ie*6;return this.int16[kt+0]=pe,this.int16[kt+1]=Ae,this.int16[kt+2]=De,this.int16[kt+3]=qe,this.int16[kt+4]=pt,this.int16[kt+5]=St,ie},D}(ei);Tv.prototype.bytesPerElement=12,He("StructArrayLayout2i2i2i12",Tv);var Xu=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe){var pt=this.length;return this.resize(pt+1),this.emplace(pt,ie,pe,Ae,De,qe)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt){var St=ie*4,kt=ie*8;return this.float32[St+0]=pe,this.float32[St+1]=Ae,this.float32[St+2]=De,this.int16[kt+6]=qe,this.int16[kt+7]=pt,ie},D}(ei);Xu.prototype.bytesPerElement=16,He("StructArrayLayout2f1f2i16",Xu);var Is=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ie,pe,Ae,De)},D.prototype.emplace=function(ie,pe,Ae,De,qe){var pt=ie*12,St=ie*3;return this.uint8[pt+0]=pe,this.uint8[pt+1]=Ae,this.float32[St+1]=De,this.float32[St+2]=qe,ie},D}(ei);Is.prototype.bytesPerElement=12,He("StructArrayLayout2ub2f12",Is);var Zu=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Ae)},D.prototype.emplace=function(ie,pe,Ae,De){var qe=ie*3;return this.uint16[qe+0]=pe,this.uint16[qe+1]=Ae,this.uint16[qe+2]=De,ie},D}(ei);Zu.prototype.bytesPerElement=6,He("StructArrayLayout3ui6",Zu);var Zh=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn,Mn){var On=ie*24,Xn=ie*12,oa=ie*48;return this.int16[On+0]=pe,this.int16[On+1]=Ae,this.uint16[On+2]=De,this.uint16[On+3]=qe,this.uint32[Xn+2]=pt,this.uint32[Xn+3]=St,this.uint32[Xn+4]=kt,this.uint16[On+10]=Gt,this.uint16[On+11]=ir,this.uint16[On+12]=rr,this.float32[Xn+7]=br,this.float32[Xn+8]=Hr,this.uint8[oa+36]=cn,this.uint8[oa+37]=tn,this.uint8[oa+38]=En,this.uint32[Xn+10]=bn,this.int16[On+22]=Mn,ie},D}(ei);Zh.prototype.bytesPerElement=48,He("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Zh);var Av=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn,Mn,On,Xn,oa,ra,Aa,ga,wa,Ha,Sa,La){var Ya=this.length;return this.resize(Ya+1),this.emplace(Ya,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn,Mn,On,Xn,oa,ra,Aa,ga,wa,Ha,Sa,La)},D.prototype.emplace=function(ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn,Mn,On,Xn,oa,ra,Aa,ga,wa,Ha,Sa,La,Ya){var Ba=ie*34,vi=ie*17;return this.int16[Ba+0]=pe,this.int16[Ba+1]=Ae,this.int16[Ba+2]=De,this.int16[Ba+3]=qe,this.int16[Ba+4]=pt,this.int16[Ba+5]=St,this.int16[Ba+6]=kt,this.int16[Ba+7]=Gt,this.uint16[Ba+8]=ir,this.uint16[Ba+9]=rr,this.uint16[Ba+10]=br,this.uint16[Ba+11]=Hr,this.uint16[Ba+12]=cn,this.uint16[Ba+13]=tn,this.uint16[Ba+14]=En,this.uint16[Ba+15]=bn,this.uint16[Ba+16]=Mn,this.uint16[Ba+17]=On,this.uint16[Ba+18]=Xn,this.uint16[Ba+19]=oa,this.uint16[Ba+20]=ra,this.uint16[Ba+21]=Aa,this.uint16[Ba+22]=ga,this.uint32[vi+12]=wa,this.float32[vi+13]=Ha,this.float32[vi+14]=Sa,this.float32[vi+15]=La,this.float32[vi+16]=Ya,ie},D}(ei);Av.prototype.bytesPerElement=68,He("StructArrayLayout8i15ui1ul4f68",Av);var Xc=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},D.prototype.emplace=function(ie,pe){var Ae=ie*1;return this.float32[Ae+0]=pe,ie},D}(ei);Xc.prototype.bytesPerElement=4,He("StructArrayLayout1f4",Xc);var zd=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Ae)},D.prototype.emplace=function(ie,pe,Ae,De){var qe=ie*3;return this.int16[qe+0]=pe,this.int16[qe+1]=Ae,this.int16[qe+2]=De,ie},D}(ei);zd.prototype.bytesPerElement=6,He("StructArrayLayout3i6",zd);var Cf=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Ae)},D.prototype.emplace=function(ie,pe,Ae,De){var qe=ie*2,pt=ie*4;return this.uint32[qe+0]=pe,this.uint16[pt+2]=Ae,this.uint16[pt+3]=De,ie},D}(ei);Cf.prototype.bytesPerElement=8,He("StructArrayLayout1ul2ui8",Cf);var Kh=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ie,pe)},D.prototype.emplace=function(ie,pe,Ae){var De=ie*2;return this.uint16[De+0]=pe,this.uint16[De+1]=Ae,ie},D}(ei);Kh.prototype.bytesPerElement=4,He("StructArrayLayout2ui4",Kh);var Zc=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},D.prototype.emplace=function(ie,pe){var Ae=ie*1;return this.uint16[Ae+0]=pe,ie},D}(ei);Zc.prototype.bytesPerElement=2,He("StructArrayLayout1ui2",Zc);var nc=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Ae,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ie,pe,Ae,De)},D.prototype.emplace=function(ie,pe,Ae,De,qe){var pt=ie*4;return this.float32[pt+0]=pe,this.float32[pt+1]=Ae,this.float32[pt+2]=De,this.float32[pt+3]=qe,ie},D}(ei);nc.prototype.bytesPerElement=16,He("StructArrayLayout4f16",nc);var qp=function(k){function D(){k.apply(this,arguments)}k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,W),D}(Js);qp.prototype.size=20;var Od=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new qp(this,ie)},D}(Xh);He("CollisionBoxArray",Od);var ac=function(k){function D(){k.apply(this,arguments)}k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,W),D}(Js);ac.prototype.size=48;var Fd=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new ac(this,ie)},D}(Zh);He("PlacedSymbolArray",Fd);var Kc=function(k){function D(){k.apply(this,arguments)}k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,W),D}(Js);Kc.prototype.size=68;var e0=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new Kc(this,ie)},D}(Av);He("SymbolInstanceArray",e0);var t0=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},D}(Xc);He("GlyphOffsetArray",t0);var _l=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.getx=function(ie){return this.int16[ie*3+0]},D.prototype.gety=function(ie){return this.int16[ie*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},D}(zd);He("SymbolLineVertexArray",_l);var r0=function(k){function D(){k.apply(this,arguments)}k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,W),D}(Js);r0.prototype.size=8;var n0=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new r0(this,ie)},D}(Cf);He("FeatureIndexArray",n0);var py=Oi([{name:"a_pos",components:2,type:"Int16"}],4),a0=py.members,bo=function(D){D===void 0&&(D=[]),this.segments=D};bo.prototype.prepareSegment=function(D,W,ie,pe){var Ae=this.segments[this.segments.length-1];return D>bo.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+bo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Ae||Ae.vertexLength+D>bo.MAX_VERTEX_ARRAY_LENGTH||Ae.sortKey!==pe)&&(Ae={vertexOffset:W.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Ae.sortKey=pe),this.segments.push(Ae)),Ae},bo.prototype.get=function(){return this.segments},bo.prototype.destroy=function(){for(var D=0,W=this.segments;D<W.length;D+=1){var ie=W[D];for(var pe in ie.vaos)ie.vaos[pe].destroy()}},bo.simpleSegment=function(D,W,ie,pe){return new bo([{vertexOffset:D,primitiveOffset:W,vertexLength:ie,primitiveLength:pe,vaos:{},sortKey:0}])},bo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,He("SegmentVector",bo);function ve(k,D){return k=c(Math.floor(k),0,255),D=c(Math.floor(D),0,255),256*k+D}var K=Oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ge=C(function(k){function D(W,ie){var pe,Ae,De,qe,pt,St,kt,Gt;for(pe=W.length&3,Ae=W.length-pe,De=ie,pt=3432918353,St=461845907,Gt=0;Gt<Ae;)kt=W.charCodeAt(Gt)&255|(W.charCodeAt(++Gt)&255)<<8|(W.charCodeAt(++Gt)&255)<<16|(W.charCodeAt(++Gt)&255)<<24,++Gt,kt=(kt&65535)*pt+(((kt>>>16)*pt&65535)<<16)&4294967295,kt=kt<<15|kt>>>17,kt=(kt&65535)*St+(((kt>>>16)*St&65535)<<16)&4294967295,De^=kt,De=De<<13|De>>>19,qe=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(qe&65535)+27492+(((qe>>>16)+58964&65535)<<16);switch(kt=0,pe){case 3:kt^=(W.charCodeAt(Gt+2)&255)<<16;case 2:kt^=(W.charCodeAt(Gt+1)&255)<<8;case 1:kt^=W.charCodeAt(Gt)&255,kt=(kt&65535)*pt+(((kt>>>16)*pt&65535)<<16)&4294967295,kt=kt<<15|kt>>>17,kt=(kt&65535)*St+(((kt>>>16)*St&65535)<<16)&4294967295,De^=kt}return De^=W.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}k.exports=D}),re=C(function(k){function D(W,ie){for(var pe=W.length,Ae=ie^pe,De=0,qe;pe>=4;)qe=W.charCodeAt(De)&255|(W.charCodeAt(++De)&255)<<8|(W.charCodeAt(++De)&255)<<16|(W.charCodeAt(++De)&255)<<24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),qe^=qe>>>24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16)^qe,pe-=4,++De;switch(pe){case 3:Ae^=(W.charCodeAt(De+2)&255)<<16;case 2:Ae^=(W.charCodeAt(De+1)&255)<<8;case 1:Ae^=W.charCodeAt(De)&255,Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16)}return Ae^=Ae>>>13,Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16),Ae^=Ae>>>15,Ae>>>0}k.exports=D}),ye=ge,Be=ge,Xe=re;ye.murmur3=Be,ye.murmur2=Xe;var ct=function(){this.ids=[],this.positions=[],this.indexed=!1};ct.prototype.add=function(D,W,ie,pe){this.ids.push(Bt(D)),this.positions.push(W,ie,pe)},ct.prototype.getPositions=function(D){for(var W=Bt(D),ie=0,pe=this.ids.length-1;ie<pe;){var Ae=ie+pe>>1;this.ids[Ae]>=W?pe=Ae:ie=Ae+1}for(var De=[];this.ids[ie]===W;){var qe=this.positions[3*ie],pt=this.positions[3*ie+1],St=this.positions[3*ie+2];De.push({index:qe,start:pt,end:St}),ie++}return De},ct.serialize=function(D,W){var ie=new Float64Array(D.ids),pe=new Uint32Array(D.positions);return qt(ie,pe,0,ie.length-1),W&&W.push(ie.buffer,pe.buffer),{ids:ie,positions:pe}},ct.deserialize=function(D){var W=new ct;return W.ids=D.ids,W.positions=D.positions,W.indexed=!0,W};var Ct=Math.pow(2,53)-1;function Bt(k){var D=+k;return!isNaN(D)&&D<=Ct?D:ye(String(k))}function qt(k,D,W,ie){for(;W<ie;){for(var pe=k[W+ie>>1],Ae=W-1,De=ie+1;;){do Ae++;while(k[Ae]<pe);do De--;while(k[De]>pe);if(Ae>=De)break;ur(k,Ae,De),ur(D,3*Ae,3*De),ur(D,3*Ae+1,3*De+1),ur(D,3*Ae+2,3*De+2)}De-W<ie-De?(qt(k,D,W,De),W=De+1):(qt(k,D,De+1,ie),ie=De)}}function ur(k,D,W){var ie=k[D];k[D]=k[W],k[W]=ie}He("FeaturePositionMap",ct);var lr=function(D,W){this.gl=D.gl,this.location=W},Fr=function(k){function D(W,ie){k.call(this,W,ie),this.current=0}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},D}(lr),Kr=function(k){function D(W,ie){k.call(this,W,ie),this.current=0}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},D}(lr),Zr=function(k){function D(W,ie){k.call(this,W,ie),this.current=[0,0]}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},D}(lr),jr=function(k){function D(W,ie){k.call(this,W,ie),this.current=[0,0,0]}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},D}(lr),Qr=function(k){function D(W,ie){k.call(this,W,ie),this.current=[0,0,0,0]}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},D}(lr),pn=function(k){function D(W,ie){k.call(this,W,ie),this.current=oi.transparent}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},D}(lr),_n=new Float32Array(16),Vn=function(k){function D(W,ie){k.call(this,W,ie),this.current=_n}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var pe=1;pe<16;pe++)if(ie[pe]!==this.current[pe]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},D}(lr);function Zn(k){return[ve(255*k.r,255*k.g),ve(255*k.b,255*k.a)]}var Jn=function(D,W,ie){this.value=D,this.uniformNames=W.map(function(pe){return"u_"+pe}),this.type=ie};Jn.prototype.setUniform=function(D,W,ie){D.set(ie.constantOr(this.value))},Jn.prototype.getBinding=function(D,W,ie){return this.type==="color"?new pn(D,W):new Kr(D,W)};var jn=function(D,W){this.uniformNames=W.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jn.prototype.setConstantPatternPositions=function(D,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=D.tlbr},jn.prototype.setUniform=function(D,W,ie,pe){var Ae=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ae&&D.set(Ae)},jn.prototype.getBinding=function(D,W,ie){return ie.substr(0,9)==="u_pattern"?new Qr(D,W):new Kr(D,W)};var $n=function(D,W,ie,pe){this.expression=D,this.type=ie,this.maxValue=0,this.paintVertexAttributes=W.map(function(Ae){return{name:"a_"+Ae,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};$n.prototype.populatePaintArray=function(D,W,ie,pe,Ae){var De=this.paintVertexArray.length,qe=this.expression.evaluate(new Ma(0),W,{},pe,[],Ae);this.paintVertexArray.resize(D),this._setPaintValue(De,D,qe)},$n.prototype.updatePaintArray=function(D,W,ie,pe){var Ae=this.expression.evaluate({zoom:0},ie,pe);this._setPaintValue(D,W,Ae)},$n.prototype._setPaintValue=function(D,W,ie){if(this.type==="color")for(var pe=Zn(ie),Ae=D;Ae<W;Ae++)this.paintVertexArray.emplace(Ae,pe[0],pe[1]);else{for(var De=D;De<W;De++)this.paintVertexArray.emplace(De,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},$n.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},$n.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ia=function(D,W,ie,pe,Ae,De){this.expression=D,this.uniformNames=W.map(function(qe){return"u_"+qe+"_t"}),this.type=ie,this.useIntegerZoom=pe,this.zoom=Ae,this.maxValue=0,this.paintVertexAttributes=W.map(function(qe){return{name:"a_"+qe,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new De};ia.prototype.populatePaintArray=function(D,W,ie,pe,Ae){var De=this.expression.evaluate(new Ma(this.zoom),W,{},pe,[],Ae),qe=this.expression.evaluate(new Ma(this.zoom+1),W,{},pe,[],Ae),pt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(pt,D,De,qe)},ia.prototype.updatePaintArray=function(D,W,ie,pe){var Ae=this.expression.evaluate({zoom:this.zoom},ie,pe),De=this.expression.evaluate({zoom:this.zoom+1},ie,pe);this._setPaintValue(D,W,Ae,De)},ia.prototype._setPaintValue=function(D,W,ie,pe){if(this.type==="color")for(var Ae=Zn(ie),De=Zn(pe),qe=D;qe<W;qe++)this.paintVertexArray.emplace(qe,Ae[0],Ae[1],De[0],De[1]);else{for(var pt=D;pt<W;pt++)this.paintVertexArray.emplace(pt,ie,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(pe))}},ia.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ia.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ia.prototype.setUniform=function(D,W){var ie=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,pe=c(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);D.set(pe)},ia.prototype.getBinding=function(D,W,ie){return new Kr(D,W)};var ca=function(D,W,ie,pe,Ae,De){this.expression=D,this.type=W,this.useIntegerZoom=ie,this.zoom=pe,this.layerId=De,this.zoomInPaintVertexArray=new Ae,this.zoomOutPaintVertexArray=new Ae};ca.prototype.populatePaintArray=function(D,W,ie){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(pe,D,W.patterns&&W.patterns[this.layerId],ie)},ca.prototype.updatePaintArray=function(D,W,ie,pe,Ae){this._setPaintValues(D,W,ie.patterns&&ie.patterns[this.layerId],Ae)},ca.prototype._setPaintValues=function(D,W,ie,pe){if(!(!pe||!ie)){var Ae=ie.min,De=ie.mid,qe=ie.max,pt=pe[Ae],St=pe[De],kt=pe[qe];if(!(!pt||!St||!kt))for(var Gt=D;Gt<W;Gt++)this.zoomInPaintVertexArray.emplace(Gt,St.tl[0],St.tl[1],St.br[0],St.br[1],pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],St.pixelRatio,pt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,St.tl[0],St.tl[1],St.br[0],St.br[1],kt.tl[0],kt.tl[1],kt.br[0],kt.br[1],St.pixelRatio,kt.pixelRatio)}},ca.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,K.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,K.members,this.expression.isStateDependent))},ca.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var xa=function(D,W,ie){this.binders={},this._buffers=[];var pe=[];for(var Ae in D.paint._values)if(ie(Ae)){var De=D.paint.get(Ae);if(!(!(De instanceof Ci)||!Zs(De.property.specification))){var qe=Fa(Ae,D.type),pt=De.value,St=De.property.specification.type,kt=De.property.useIntegerZoom,Gt=De.property.specification["property-type"],ir=Gt==="cross-faded"||Gt==="cross-faded-data-driven";if(pt.kind==="constant")this.binders[Ae]=ir?new jn(pt.value,qe):new Jn(pt.value,qe,St),pe.push("/u_"+Ae);else if(pt.kind==="source"||ir){var rr=Za(Ae,St,"source");this.binders[Ae]=ir?new ca(pt,St,kt,W,rr,D.id):new $n(pt,qe,St,rr),pe.push("/a_"+Ae)}else{var br=Za(Ae,St,"composite");this.binders[Ae]=new ia(pt,qe,St,kt,W,br),pe.push("/z_"+Ae)}}}this.cacheKey=pe.sort().join("")};xa.prototype.getMaxValue=function(D){var W=this.binders[D];return W instanceof $n||W instanceof ia?W.maxValue:0},xa.prototype.populatePaintArrays=function(D,W,ie,pe,Ae){for(var De in this.binders){var qe=this.binders[De];(qe instanceof $n||qe instanceof ia||qe instanceof ca)&&qe.populatePaintArray(D,W,ie,pe,Ae)}},xa.prototype.setConstantPatternPositions=function(D,W){for(var ie in this.binders){var pe=this.binders[ie];pe instanceof jn&&pe.setConstantPatternPositions(D,W)}},xa.prototype.updatePaintArrays=function(D,W,ie,pe,Ae){var De=!1;for(var qe in D)for(var pt=W.getPositions(qe),St=0,kt=pt;St<kt.length;St+=1){var Gt=kt[St],ir=ie.feature(Gt.index);for(var rr in this.binders){var br=this.binders[rr];if((br instanceof $n||br instanceof ia||br instanceof ca)&&br.expression.isStateDependent===!0){var Hr=pe.paint.get(rr);br.expression=Hr.value,br.updatePaintArray(Gt.start,Gt.end,ir,D[qe],Ae),De=!0}}}return De},xa.prototype.defines=function(){var D=[];for(var W in this.binders){var ie=this.binders[W];(ie instanceof Jn||ie instanceof jn)&&D.push.apply(D,ie.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return D},xa.prototype.getBinderAttributes=function(){var D=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof $n||ie instanceof ia)for(var pe=0;pe<ie.paintVertexAttributes.length;pe++)D.push(ie.paintVertexAttributes[pe].name);else if(ie instanceof ca)for(var Ae=0;Ae<K.members.length;Ae++)D.push(K.members[Ae].name)}return D},xa.prototype.getBinderUniforms=function(){var D=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof Jn||ie instanceof jn||ie instanceof ia)for(var pe=0,Ae=ie.uniformNames;pe<Ae.length;pe+=1){var De=Ae[pe];D.push(De)}}return D},xa.prototype.getPaintVertexBuffers=function(){return this._buffers},xa.prototype.getUniforms=function(D,W){var ie=[];for(var pe in this.binders){var Ae=this.binders[pe];if(Ae instanceof Jn||Ae instanceof jn||Ae instanceof ia)for(var De=0,qe=Ae.uniformNames;De<qe.length;De+=1){var pt=qe[De];if(W[pt]){var St=Ae.getBinding(D,W[pt],pt);ie.push({name:pt,property:pe,binding:St})}}}return ie},xa.prototype.setUniforms=function(D,W,ie,pe){for(var Ae=0,De=W;Ae<De.length;Ae+=1){var qe=De[Ae],pt=qe.name,St=qe.property,kt=qe.binding;this.binders[St].setUniform(kt,pe,ie.get(St),pt)}},xa.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var W in this.binders){var ie=this.binders[W];if(D&&ie instanceof ca){var pe=D.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ie instanceof $n||ie instanceof ia)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},xa.prototype.upload=function(D){for(var W in this.binders){var ie=this.binders[W];(ie instanceof $n||ie instanceof ia||ie instanceof ca)&&ie.upload(D)}this.updatePaintBuffers()},xa.prototype.destroy=function(){for(var D in this.binders){var W=this.binders[D];(W instanceof $n||W instanceof ia||W instanceof ca)&&W.destroy()}};var pa=function(D,W,ie){ie===void 0&&(ie=function(){return!0}),this.programConfigurations={};for(var pe=0,Ae=D;pe<Ae.length;pe+=1){var De=Ae[pe];this.programConfigurations[De.id]=new xa(De,W,ie)}this.needsUpload=!1,this._featureMap=new ct,this._bufferOffset=0};pa.prototype.populatePaintArrays=function(D,W,ie,pe,Ae,De){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(D,W,pe,Ae,De);W.id!==void 0&&this._featureMap.add(W.id,ie,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},pa.prototype.updatePaintArrays=function(D,W,ie,pe){for(var Ae=0,De=ie;Ae<De.length;Ae+=1){var qe=De[Ae];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(D,this._featureMap,W,qe,pe)||this.needsUpload}},pa.prototype.get=function(D){return this.programConfigurations[D]},pa.prototype.upload=function(D){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(D);this.needsUpload=!1}},pa.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function Fa(k,D){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[k]||[k.replace(D+"-","").replace(/-/g,"_")]}function ni(k){var D={"line-pattern":{source:ms,composite:ms},"fill-pattern":{source:ms,composite:ms},"fill-extrusion-pattern":{source:ms,composite:ms}};return D[k]}function Za(k,D,W){var ie={color:{source:Yc,composite:nc},number:{source:Xc,composite:Yc}},pe=ni(k);return pe&&pe[W]||ie[D][W]}He("ConstantBinder",Jn),He("CrossFadedConstantBinder",jn),He("SourceExpressionBinder",$n),He("CrossFadedCompositeBinder",ca),He("CompositeExpressionBinder",ia),He("ProgramConfiguration",xa,{omit:["_buffers"]}),He("ProgramConfigurationSet",pa);var Ea=8192,Ka=15,Ga=Math.pow(2,Ka-1)-1,hi=-Ga-1;function si(k){for(var D=Ea/k.extent,W=k.loadGeometry(),ie=0;ie<W.length;ie++)for(var pe=W[ie],Ae=0;Ae<pe.length;Ae++){var De=pe[Ae],qe=Math.round(De.x*D),pt=Math.round(De.y*D);De.x=c(qe,hi,Ga),De.y=c(pt,hi,Ga),(qe<De.x||qe>De.x+1||pt<De.y||pt>De.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function Ri(k,D){return{type:k.type,id:k.id,properties:k.properties,geometry:D?si(k):[]}}function ri(k,D,W,ie,pe){k.emplaceBack(D*2+(ie+1)/2,W*2+(pe+1)/2)}var Ai=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new rc,this.indexArray=new Zu,this.segments=new bo,this.programConfigurations=new pa(D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Ai.prototype.populate=function(D,W,ie){var pe=this.layers[0],Ae=[],De=null;pe.type==="circle"&&(De=pe.layout.get("circle-sort-key"));for(var qe=0,pt=D;qe<pt.length;qe+=1){var St=pt[qe],kt=St.feature,Gt=St.id,ir=St.index,rr=St.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Hr=Ri(kt,br);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Hr,ie)){var cn=De?De.evaluate(Hr,{},ie):void 0,tn={id:Gt,properties:kt.properties,type:kt.type,sourceLayerIndex:rr,index:ir,geometry:br?Hr.geometry:si(kt),patterns:{},sortKey:cn};Ae.push(tn)}}De&&Ae.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var En=0,bn=Ae;En<bn.length;En+=1){var Mn=bn[En],On=Mn,Xn=On.geometry,oa=On.index,ra=On.sourceLayerIndex,Aa=D[oa].feature;this.addFeature(Mn,Xn,oa,ie),W.featureIndex.insert(Aa,Xn,oa,ra,this.index)}},Ai.prototype.update=function(D,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ie)},Ai.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ai.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ai.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,a0),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ai.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ai.prototype.addFeature=function(D,W,ie,pe){for(var Ae=0,De=W;Ae<De.length;Ae+=1)for(var qe=De[Ae],pt=0,St=qe;pt<St.length;pt+=1){var kt=St[pt],Gt=kt.x,ir=kt.y;if(!(Gt<0||Gt>=Ea||ir<0||ir>=Ea)){var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),br=rr.vertexLength;ri(this.layoutVertexArray,Gt,ir,-1,-1),ri(this.layoutVertexArray,Gt,ir,1,-1),ri(this.layoutVertexArray,Gt,ir,1,1),ri(this.layoutVertexArray,Gt,ir,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),rr.vertexLength+=4,rr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,{},pe)},He("CircleBucket",Ai,{omit:["layers"]});function Wa(k,D){for(var W=0;W<k.length;W++)if(xs(D,k[W]))return!0;for(var ie=0;ie<D.length;ie++)if(xs(k,D[ie]))return!0;return!!dl(k,D)}function ai(k,D,W){return!!(xs(k,D)||hu(D,k,W))}function Ki(k,D){if(k.length===1)return vu(D,k[0]);for(var W=0;W<D.length;W++)for(var ie=D[W],pe=0;pe<ie.length;pe++)if(xs(k,ie[pe]))return!0;for(var Ae=0;Ae<k.length;Ae++)if(vu(D,k[Ae]))return!0;for(var De=0;De<D.length;De++)if(dl(k,D[De]))return!0;return!1}function ko(k,D,W){for(var ie=0;ie<D.length;ie++){var pe=D[ie];if(k.length>=3){for(var Ae=0;Ae<pe.length;Ae++)if(xs(k,pe[Ae]))return!0}if(vl(k,pe,W))return!0}return!1}function vl(k,D,W){if(k.length>1){if(dl(k,D))return!0;for(var ie=0;ie<D.length;ie++)if(hu(D[ie],k,W))return!0}for(var pe=0;pe<k.length;pe++)if(hu(k[pe],D,W))return!0;return!1}function dl(k,D){if(k.length===0||D.length===0)return!1;for(var W=0;W<k.length-1;W++)for(var ie=k[W],pe=k[W+1],Ae=0;Ae<D.length-1;Ae++){var De=D[Ae],qe=D[Ae+1];if(zl(ie,pe,De,qe))return!0}return!1}function zl(k,D,W,ie){return F(k,W,ie)!==F(D,W,ie)&&F(k,D,W)!==F(k,D,ie)}function hu(k,D,W){var ie=W*W;if(D.length===1)return k.distSqr(D[0])<ie;for(var pe=1;pe<D.length;pe++){var Ae=D[pe-1],De=D[pe];if(ic(k,Ae,De)<ie)return!0}return!1}function ic(k,D,W){var ie=D.distSqr(W);if(ie===0)return k.distSqr(D);var pe=((k.x-D.x)*(W.x-D.x)+(k.y-D.y)*(W.y-D.y))/ie;return pe<0?k.distSqr(D):pe>1?k.distSqr(W):k.distSqr(W.sub(D)._mult(pe)._add(D))}function vu(k,D){for(var W=!1,ie,pe,Ae,De=0;De<k.length;De++){ie=k[De];for(var qe=0,pt=ie.length-1;qe<ie.length;pt=qe++)pe=ie[qe],Ae=ie[pt],pe.y>D.y!=Ae.y>D.y&&D.x<(Ae.x-pe.x)*(D.y-pe.y)/(Ae.y-pe.y)+pe.x&&(W=!W)}return W}function xs(k,D){for(var W=!1,ie=0,pe=k.length-1;ie<k.length;pe=ie++){var Ae=k[ie],De=k[pe];Ae.y>D.y!=De.y>D.y&&D.x<(De.x-Ae.x)*(D.y-Ae.y)/(De.y-Ae.y)+Ae.x&&(W=!W)}return W}function du(k,D,W,ie,pe){for(var Ae=0,De=k;Ae<De.length;Ae+=1){var qe=De[Ae];if(D<=qe.x&&W<=qe.y&&ie>=qe.x&&pe>=qe.y)return!0}var pt=[new r(D,W),new r(D,pe),new r(ie,pe),new r(ie,W)];if(k.length>2)for(var St=0,kt=pt;St<kt.length;St+=1){var Gt=kt[St];if(xs(k,Gt))return!0}for(var ir=0;ir<k.length-1;ir++){var rr=k[ir],br=k[ir+1];if(_s(rr,br,pt))return!0}return!1}function _s(k,D,W){var ie=W[0],pe=W[2];if(k.x<ie.x&&D.x<ie.x||k.x>pe.x&&D.x>pe.x||k.y<ie.y&&D.y<ie.y||k.y>pe.y&&D.y>pe.y)return!1;var Ae=F(k,D,W[0]);return Ae!==F(k,D,W[1])||Ae!==F(k,D,W[2])||Ae!==F(k,D,W[3])}function bs(k,D,W){var ie=D.paint.get(k).value;return ie.kind==="constant"?ie.value:W.programConfigurations.get(D.id).getMaxValue(k)}function Ol(k){return Math.sqrt(k[0]*k[0]+k[1]*k[1])}function Ku(k,D,W,ie,pe){if(!D[0]&&!D[1])return k;var Ae=r.convert(D)._mult(pe);W==="viewport"&&Ae._rotate(-ie);for(var De=[],qe=0;qe<k.length;qe++){var pt=k[qe];De.push(pt.sub(Ae))}return De}var Fl=new yi({"circle-sort-key":new Pa(Sr.layout_circle["circle-sort-key"])}),Sv=new yi({"circle-radius":new Pa(Sr.paint_circle["circle-radius"]),"circle-color":new Pa(Sr.paint_circle["circle-color"]),"circle-blur":new Pa(Sr.paint_circle["circle-blur"]),"circle-opacity":new Pa(Sr.paint_circle["circle-opacity"]),"circle-translate":new fa(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new fa(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new fa(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new fa(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pa(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pa(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pa(Sr.paint_circle["circle-stroke-opacity"])}),Jc={paint:Sv,layout:Fl},Fo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var k=arguments,D=0,W=arguments.length;W--;)D+=k[W]*k[W];return Math.sqrt(D)});function Mv(){var k=new Fo(4);return Fo!=Float32Array&&(k[1]=0,k[2]=0),k[0]=1,k[3]=1,k}function Jh(k,D,W){var ie=D[0],pe=D[1],Ae=D[2],De=D[3],qe=Math.sin(W),pt=Math.cos(W);return k[0]=ie*pt+Ae*qe,k[1]=pe*pt+De*qe,k[2]=ie*-qe+Ae*pt,k[3]=pe*-qe+De*pt,k}function as(){var k=new Fo(9);return Fo!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0),k[0]=1,k[4]=1,k[8]=1,k}function Qc(k,D){var W=Math.sin(D),ie=Math.cos(D);return k[0]=ie,k[1]=W,k[2]=0,k[3]=-W,k[4]=ie,k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function Ev(){var k=new Fo(16);return Fo!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=0,k[12]=0,k[13]=0,k[14]=0),k[0]=1,k[5]=1,k[10]=1,k[15]=1,k}function Cv(k){var D=new Fo(16);return D[0]=k[0],D[1]=k[1],D[2]=k[2],D[3]=k[3],D[4]=k[4],D[5]=k[5],D[6]=k[6],D[7]=k[7],D[8]=k[8],D[9]=k[9],D[10]=k[10],D[11]=k[11],D[12]=k[12],D[13]=k[13],D[14]=k[14],D[15]=k[15],D}function Lv(k){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function $c(k,D){var W=D[0],ie=D[1],pe=D[2],Ae=D[3],De=D[4],qe=D[5],pt=D[6],St=D[7],kt=D[8],Gt=D[9],ir=D[10],rr=D[11],br=D[12],Hr=D[13],cn=D[14],tn=D[15],En=W*qe-ie*De,bn=W*pt-pe*De,Mn=W*St-Ae*De,On=ie*pt-pe*qe,Xn=ie*St-Ae*qe,oa=pe*St-Ae*pt,ra=kt*Hr-Gt*br,Aa=kt*cn-ir*br,ga=kt*tn-rr*br,wa=Gt*cn-ir*Hr,Ha=Gt*tn-rr*Hr,Sa=ir*tn-rr*cn,La=En*Sa-bn*Ha+Mn*wa+On*ga-Xn*Aa+oa*ra;return La?(La=1/La,k[0]=(qe*Sa-pt*Ha+St*wa)*La,k[1]=(pe*Ha-ie*Sa-Ae*wa)*La,k[2]=(Hr*oa-cn*Xn+tn*On)*La,k[3]=(ir*Xn-Gt*oa-rr*On)*La,k[4]=(pt*ga-De*Sa-St*Aa)*La,k[5]=(W*Sa-pe*ga+Ae*Aa)*La,k[6]=(cn*Mn-br*oa-tn*bn)*La,k[7]=(kt*oa-ir*Mn+rr*bn)*La,k[8]=(De*Ha-qe*ga+St*ra)*La,k[9]=(ie*ga-W*Ha-Ae*ra)*La,k[10]=(br*Xn-Hr*Mn+tn*En)*La,k[11]=(Gt*Mn-kt*Xn-rr*En)*La,k[12]=(qe*Aa-De*wa-pt*ra)*La,k[13]=(W*wa-ie*Aa+pe*ra)*La,k[14]=(Hr*bn-br*On-cn*En)*La,k[15]=(kt*On-Gt*bn+ir*En)*La,k):null}function qc(k,D,W){var ie=D[0],pe=D[1],Ae=D[2],De=D[3],qe=D[4],pt=D[5],St=D[6],kt=D[7],Gt=D[8],ir=D[9],rr=D[10],br=D[11],Hr=D[12],cn=D[13],tn=D[14],En=D[15],bn=W[0],Mn=W[1],On=W[2],Xn=W[3];return k[0]=bn*ie+Mn*qe+On*Gt+Xn*Hr,k[1]=bn*pe+Mn*pt+On*ir+Xn*cn,k[2]=bn*Ae+Mn*St+On*rr+Xn*tn,k[3]=bn*De+Mn*kt+On*br+Xn*En,bn=W[4],Mn=W[5],On=W[6],Xn=W[7],k[4]=bn*ie+Mn*qe+On*Gt+Xn*Hr,k[5]=bn*pe+Mn*pt+On*ir+Xn*cn,k[6]=bn*Ae+Mn*St+On*rr+Xn*tn,k[7]=bn*De+Mn*kt+On*br+Xn*En,bn=W[8],Mn=W[9],On=W[10],Xn=W[11],k[8]=bn*ie+Mn*qe+On*Gt+Xn*Hr,k[9]=bn*pe+Mn*pt+On*ir+Xn*cn,k[10]=bn*Ae+Mn*St+On*rr+Xn*tn,k[11]=bn*De+Mn*kt+On*br+Xn*En,bn=W[12],Mn=W[13],On=W[14],Xn=W[15],k[12]=bn*ie+Mn*qe+On*Gt+Xn*Hr,k[13]=bn*pe+Mn*pt+On*ir+Xn*cn,k[14]=bn*Ae+Mn*St+On*rr+Xn*tn,k[15]=bn*De+Mn*kt+On*br+Xn*En,k}function no(k,D,W){var ie=W[0],pe=W[1],Ae=W[2],De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn;return D===k?(k[12]=D[0]*ie+D[4]*pe+D[8]*Ae+D[12],k[13]=D[1]*ie+D[5]*pe+D[9]*Ae+D[13],k[14]=D[2]*ie+D[6]*pe+D[10]*Ae+D[14],k[15]=D[3]*ie+D[7]*pe+D[11]*Ae+D[15]):(De=D[0],qe=D[1],pt=D[2],St=D[3],kt=D[4],Gt=D[5],ir=D[6],rr=D[7],br=D[8],Hr=D[9],cn=D[10],tn=D[11],k[0]=De,k[1]=qe,k[2]=pt,k[3]=St,k[4]=kt,k[5]=Gt,k[6]=ir,k[7]=rr,k[8]=br,k[9]=Hr,k[10]=cn,k[11]=tn,k[12]=De*ie+kt*pe+br*Ae+D[12],k[13]=qe*ie+Gt*pe+Hr*Ae+D[13],k[14]=pt*ie+ir*pe+cn*Ae+D[14],k[15]=St*ie+rr*pe+tn*Ae+D[15]),k}function zs(k,D,W){var ie=W[0],pe=W[1],Ae=W[2];return k[0]=D[0]*ie,k[1]=D[1]*ie,k[2]=D[2]*ie,k[3]=D[3]*ie,k[4]=D[4]*pe,k[5]=D[5]*pe,k[6]=D[6]*pe,k[7]=D[7]*pe,k[8]=D[8]*Ae,k[9]=D[9]*Ae,k[10]=D[10]*Ae,k[11]=D[11]*Ae,k[12]=D[12],k[13]=D[13],k[14]=D[14],k[15]=D[15],k}function Os(k,D,W){var ie=Math.sin(W),pe=Math.cos(W),Ae=D[4],De=D[5],qe=D[6],pt=D[7],St=D[8],kt=D[9],Gt=D[10],ir=D[11];return D!==k&&(k[0]=D[0],k[1]=D[1],k[2]=D[2],k[3]=D[3],k[12]=D[12],k[13]=D[13],k[14]=D[14],k[15]=D[15]),k[4]=Ae*pe+St*ie,k[5]=De*pe+kt*ie,k[6]=qe*pe+Gt*ie,k[7]=pt*pe+ir*ie,k[8]=St*pe-Ae*ie,k[9]=kt*pe-De*ie,k[10]=Gt*pe-qe*ie,k[11]=ir*pe-pt*ie,k}function Pv(k,D,W){var ie=Math.sin(W),pe=Math.cos(W),Ae=D[0],De=D[1],qe=D[2],pt=D[3],St=D[4],kt=D[5],Gt=D[6],ir=D[7];return D!==k&&(k[8]=D[8],k[9]=D[9],k[10]=D[10],k[11]=D[11],k[12]=D[12],k[13]=D[13],k[14]=D[14],k[15]=D[15]),k[0]=Ae*pe+St*ie,k[1]=De*pe+kt*ie,k[2]=qe*pe+Gt*ie,k[3]=pt*pe+ir*ie,k[4]=St*pe-Ae*ie,k[5]=kt*pe-De*ie,k[6]=Gt*pe-qe*ie,k[7]=ir*pe-pt*ie,k}function Nd(k,D,W,ie,pe){var Ae=1/Math.tan(D/2),De;return k[0]=Ae/W,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=Ae,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=-1,k[12]=0,k[13]=0,k[15]=0,pe!=null&&pe!==1/0?(De=1/(ie-pe),k[10]=(pe+ie)*De,k[14]=2*pe*ie*De):(k[10]=-1,k[14]=-2*ie),k}function gy(k,D,W,ie,pe,Ae,De){var qe=1/(D-W),pt=1/(ie-pe),St=1/(Ae-De);return k[0]=-2*qe,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=-2*pt,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=2*St,k[11]=0,k[12]=(D+W)*qe,k[13]=(pe+ie)*pt,k[14]=(De+Ae)*St,k[15]=1,k}var yy=qc;function Qh(){var k=new Fo(3);return Fo!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0),k}function my(k){var D=new Fo(3);return D[0]=k[0],D[1]=k[1],D[2]=k[2],D}function Rv(k,D,W){return k[0]=D[0]+W[0],k[1]=D[1]+W[1],k[2]=D[2]+W[2],k}function xy(k,D,W){return k[0]=D[0]-W[0],k[1]=D[1]-W[1],k[2]=D[2]-W[2],k}function by(k,D,W){return k[0]=D[0]*W,k[1]=D[1]*W,k[2]=D[2]*W,k}function Bd(k,D){var W=D[0],ie=D[1],pe=D[2],Ae=W*W+ie*ie+pe*pe;return Ae>0&&(Ae=1/Math.sqrt(Ae)),k[0]=D[0]*Ae,k[1]=D[1]*Ae,k[2]=D[2]*Ae,k}function WA(k,D){return k[0]*D[0]+k[1]*D[1]+k[2]*D[2]}function jA(k,D,W){var ie=D[0],pe=D[1],Ae=D[2],De=W[0],qe=W[1],pt=W[2];return k[0]=pe*pt-Ae*qe,k[1]=Ae*De-ie*pt,k[2]=ie*qe-pe*De,k}function YA(k,D,W){var ie=D[0],pe=D[1],Ae=D[2];return k[0]=ie*W[0]+pe*W[3]+Ae*W[6],k[1]=ie*W[1]+pe*W[4]+Ae*W[7],k[2]=ie*W[2]+pe*W[5]+Ae*W[8],k}var XA=xy;(function(){var k=Qh();return function(D,W,ie,pe,Ae,De){var qe,pt;for(W||(W=3),ie||(ie=0),pe?pt=Math.min(pe*W+ie,D.length):pt=D.length,qe=ie;qe<pt;qe+=W)k[0]=D[qe],k[1]=D[qe+1],k[2]=D[qe+2],Ae(k,k,De),D[qe]=k[0],D[qe+1]=k[1],D[qe+2]=k[2];return D}})();function ZA(){var k=new Fo(4);return Fo!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0),k}function KA(k,D,W){return k[0]=D[0]*W,k[1]=D[1]*W,k[2]=D[2]*W,k[3]=D[3]*W,k}function JA(k,D){return k[0]*D[0]+k[1]*D[1]+k[2]*D[2]+k[3]*D[3]}function i0(k,D,W){var ie=D[0],pe=D[1],Ae=D[2],De=D[3];return k[0]=W[0]*ie+W[4]*pe+W[8]*Ae+W[12]*De,k[1]=W[1]*ie+W[5]*pe+W[9]*Ae+W[13]*De,k[2]=W[2]*ie+W[6]*pe+W[10]*Ae+W[14]*De,k[3]=W[3]*ie+W[7]*pe+W[11]*Ae+W[15]*De,k}(function(){var k=ZA();return function(D,W,ie,pe,Ae,De){var qe,pt;for(W||(W=4),ie||(ie=0),pe?pt=Math.min(pe*W+ie,D.length):pt=D.length,qe=ie;qe<pt;qe+=W)k[0]=D[qe],k[1]=D[qe+1],k[2]=D[qe+2],k[3]=D[qe+3],Ae(k,k,De),D[qe]=k[0],D[qe+1]=k[1],D[qe+2]=k[2],D[qe+3]=k[3];return D}})();function QA(){var k=new Fo(2);return Fo!=Float32Array&&(k[0]=0,k[1]=0),k}function $A(k){var D=k[0],W=k[1];return D*D+W*W}var qA=$A;(function(){var k=QA();return function(D,W,ie,pe,Ae,De){var qe,pt;for(W||(W=2),ie||(ie=0),pe?pt=Math.min(pe*W+ie,D.length):pt=D.length,qe=ie;qe<pt;qe+=W)k[0]=D[qe],k[1]=D[qe+1],Ae(k,k,De),D[qe]=k[0],D[qe+1]=k[1];return D}})();var e6=function(k){function D(W){k.call(this,W,Jc)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ie){return new Ai(ie)},D.prototype.queryRadius=function(ie){var pe=ie;return bs("circle-radius",this,pe)+bs("circle-stroke-width",this,pe)+Ol(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ie,pe,Ae,De,qe,pt,St,kt){for(var Gt=Ku(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),pt.angle,St),ir=this.paint.get("circle-radius").evaluate(pe,Ae),rr=this.paint.get("circle-stroke-width").evaluate(pe,Ae),br=ir+rr,Hr=this.paint.get("circle-pitch-alignment")==="map",cn=Hr?Gt:t6(Gt,kt),tn=Hr?br*St:br,En=0,bn=De;En<bn.length;En+=1)for(var Mn=bn[En],On=0,Xn=Mn;On<Xn.length;On+=1){var oa=Xn[On],ra=Hr?oa:gb(oa,kt),Aa=tn,ga=i0([],[oa.x,oa.y,0,1],kt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Aa*=ga[3]/pt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Aa*=pt.cameraToCenterDistance/ga[3]),ai(cn,ra,Aa))return!0}return!1},D}(Zi);function gb(k,D){var W=i0([],[k.x,k.y,0,1],D);return new r(W[0]/W[3],W[1]/W[3])}function t6(k,D){return k.map(function(W){return gb(W,D)})}var yb=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D}(Ai);He("HeatmapBucket",yb,{omit:["layers"]});function wy(k,D,W,ie){var pe=D.width,Ae=D.height;if(!ie)ie=new Uint8Array(pe*Ae*W);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==pe*Ae*W)throw new RangeError("mismatched image size");return k.width=pe,k.height=Ae,k.data=ie,k}function mb(k,D,W){var ie=D.width,pe=D.height;if(!(ie===k.width&&pe===k.height)){var Ae=wy({},{width:ie,height:pe},W);Ty(k,Ae,{x:0,y:0},{x:0,y:0},{width:Math.min(k.width,ie),height:Math.min(k.height,pe)},W),k.width=ie,k.height=pe,k.data=Ae.data}}function Ty(k,D,W,ie,pe,Ae){if(pe.width===0||pe.height===0)return D;if(pe.width>k.width||pe.height>k.height||W.x>k.width-pe.width||W.y>k.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>D.width||pe.height>D.height||ie.x>D.width-pe.width||ie.y>D.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=k.data,qe=D.data,pt=0;pt<pe.height;pt++)for(var St=((W.y+pt)*k.width+W.x)*Ae,kt=((ie.y+pt)*D.width+ie.x)*Ae,Gt=0;Gt<pe.width*Ae;Gt++)qe[kt+Gt]=De[St+Gt];return D}var $h=function(D,W){wy(this,D,1,W)};$h.prototype.resize=function(D){mb(this,D,1)},$h.prototype.clone=function(){return new $h({width:this.width,height:this.height},new Uint8Array(this.data))},$h.copy=function(D,W,ie,pe,Ae){Ty(D,W,ie,pe,Ae,1)};var Fs=function(D,W){wy(this,D,4,W)};Fs.prototype.resize=function(D){mb(this,D,4)},Fs.prototype.replace=function(D,W){W?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},Fs.prototype.clone=function(){return new Fs({width:this.width,height:this.height},new Uint8Array(this.data))},Fs.copy=function(D,W,ie,pe,Ae){Ty(D,W,ie,pe,Ae,4)},He("AlphaImage",$h),He("RGBAImage",Fs);var r6=new yi({"heatmap-radius":new Pa(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pa(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new fa(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xo(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new fa(Sr.paint_heatmap["heatmap-opacity"])}),n6={paint:r6};function xb(k){var D={},W=k.resolution||256,ie=k.clips?k.clips.length:1,pe=k.image||new Fs({width:W,height:ie}),Ae=function(En,bn,Mn){D[k.evaluationKey]=Mn;var On=k.expression.evaluate(D);pe.data[En+bn+0]=Math.floor(On.r*255/On.a),pe.data[En+bn+1]=Math.floor(On.g*255/On.a),pe.data[En+bn+2]=Math.floor(On.b*255/On.a),pe.data[En+bn+3]=Math.floor(On.a*255)};if(k.clips)for(var St=0,kt=0;St<ie;++St,kt+=W*4)for(var Gt=0,ir=0;Gt<W;Gt++,ir+=4){var rr=Gt/(W-1),br=k.clips[St],Hr=br.start,cn=br.end,tn=Hr*(1-rr)+cn*rr;Ae(kt,ir,tn)}else for(var De=0,qe=0;De<W;De++,qe+=4){var pt=De/(W-1);Ae(0,qe,pt)}return pe}var a6=function(k){function D(W){k.call(this,W,n6),this._updateColorRamp()}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ie){return new yb(ie)},D.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=xb({expression:ie,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Zi),i6=new yi({"hillshade-illumination-direction":new fa(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new fa(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new fa(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new fa(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new fa(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new fa(Sr.paint_hillshade["hillshade-accent-color"])}),o6={paint:i6},s6=function(k){function D(W){k.call(this,W,o6)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Zi),l6=Oi([{name:"a_pos",components:2,type:"Int16"}],4),u6=l6.members,Ay=o0,f6=o0;function o0(k,D,W){W=W||2;var ie=D&&D.length,pe=ie?D[0]*W:k.length,Ae=bb(k,0,pe,W,!0),De=[];if(!Ae||Ae.next===Ae.prev)return De;var qe,pt,St,kt,Gt,ir,rr;if(ie&&(Ae=p6(k,D,Ae,W)),k.length>80*W){qe=St=k[0],pt=kt=k[1];for(var br=W;br<pe;br+=W)Gt=k[br],ir=k[br+1],Gt<qe&&(qe=Gt),ir<pt&&(pt=ir),Gt>St&&(St=Gt),ir>kt&&(kt=ir);rr=Math.max(St-qe,kt-pt),rr=rr!==0?1/rr:0}return Ud(Ae,De,W,qe,pt,rr),De}function bb(k,D,W,ie,pe){var Ae,De;if(pe===Ey(k,D,W,ie)>0)for(Ae=D;Ae<W;Ae+=ie)De=Ab(Ae,k[Ae],k[Ae+1],De);else for(Ae=W-ie;Ae>=D;Ae-=ie)De=Ab(Ae,k[Ae],k[Ae+1],De);return De&&s0(De,De.next)&&(Vd(De),De=De.next),De}function eh(k,D){if(!k)return k;D||(D=k);var W=k,ie;do if(ie=!1,!W.steiner&&(s0(W,W.next)||wo(W.prev,W,W.next)===0)){if(Vd(W),W=D=W.prev,W===W.next)break;ie=!0}else W=W.next;while(ie||W!==D);return D}function Ud(k,D,W,ie,pe,Ae,De){if(k){!De&&Ae&&b6(k,ie,pe,Ae);for(var qe=k,pt,St;k.prev!==k.next;){if(pt=k.prev,St=k.next,Ae?h6(k,ie,pe,Ae):c6(k)){D.push(pt.i/W),D.push(k.i/W),D.push(St.i/W),Vd(k),k=St.next,qe=St.next;continue}if(k=St,k===qe){De?De===1?(k=v6(eh(k),D,W),Ud(k,D,W,ie,pe,Ae,2)):De===2&&d6(k,D,W,ie,pe,Ae):Ud(eh(k),D,W,ie,pe,Ae,1);break}}}}function c6(k){var D=k.prev,W=k,ie=k.next;if(wo(D,W,ie)>=0)return!1;for(var pe=k.next.next;pe!==k.prev;){if(kv(D.x,D.y,W.x,W.y,ie.x,ie.y,pe.x,pe.y)&&wo(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function h6(k,D,W,ie){var pe=k.prev,Ae=k,De=k.next;if(wo(pe,Ae,De)>=0)return!1;for(var qe=pe.x<Ae.x?pe.x<De.x?pe.x:De.x:Ae.x<De.x?Ae.x:De.x,pt=pe.y<Ae.y?pe.y<De.y?pe.y:De.y:Ae.y<De.y?Ae.y:De.y,St=pe.x>Ae.x?pe.x>De.x?pe.x:De.x:Ae.x>De.x?Ae.x:De.x,kt=pe.y>Ae.y?pe.y>De.y?pe.y:De.y:Ae.y>De.y?Ae.y:De.y,Gt=Sy(qe,pt,D,W,ie),ir=Sy(St,kt,D,W,ie),rr=k.prevZ,br=k.nextZ;rr&&rr.z>=Gt&&br&&br.z<=ir;){if(rr!==k.prev&&rr!==k.next&&kv(pe.x,pe.y,Ae.x,Ae.y,De.x,De.y,rr.x,rr.y)&&wo(rr.prev,rr,rr.next)>=0||(rr=rr.prevZ,br!==k.prev&&br!==k.next&&kv(pe.x,pe.y,Ae.x,Ae.y,De.x,De.y,br.x,br.y)&&wo(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;rr&&rr.z>=Gt;){if(rr!==k.prev&&rr!==k.next&&kv(pe.x,pe.y,Ae.x,Ae.y,De.x,De.y,rr.x,rr.y)&&wo(rr.prev,rr,rr.next)>=0)return!1;rr=rr.prevZ}for(;br&&br.z<=ir;){if(br!==k.prev&&br!==k.next&&kv(pe.x,pe.y,Ae.x,Ae.y,De.x,De.y,br.x,br.y)&&wo(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function v6(k,D,W){var ie=k;do{var pe=ie.prev,Ae=ie.next.next;!s0(pe,Ae)&&wb(pe,ie,ie.next,Ae)&&Hd(pe,Ae)&&Hd(Ae,pe)&&(D.push(pe.i/W),D.push(ie.i/W),D.push(Ae.i/W),Vd(ie),Vd(ie.next),ie=k=Ae),ie=ie.next}while(ie!==k);return eh(ie)}function d6(k,D,W,ie,pe,Ae){var De=k;do{for(var qe=De.next.next;qe!==De.prev;){if(De.i!==qe.i&&A6(De,qe)){var pt=Tb(De,qe);De=eh(De,De.next),pt=eh(pt,pt.next),Ud(De,D,W,ie,pe,Ae),Ud(pt,D,W,ie,pe,Ae);return}qe=qe.next}De=De.next}while(De!==k)}function p6(k,D,W,ie){var pe=[],Ae,De,qe,pt,St;for(Ae=0,De=D.length;Ae<De;Ae++)qe=D[Ae]*ie,pt=Ae<De-1?D[Ae+1]*ie:k.length,St=bb(k,qe,pt,ie,!1),St===St.next&&(St.steiner=!0),pe.push(T6(St));for(pe.sort(g6),Ae=0;Ae<pe.length;Ae++)y6(pe[Ae],W),W=eh(W,W.next);return W}function g6(k,D){return k.x-D.x}function y6(k,D){if(D=m6(k,D),D){var W=Tb(D,k);eh(D,D.next),eh(W,W.next)}}function m6(k,D){var W=D,ie=k.x,pe=k.y,Ae=-1/0,De;do{if(pe<=W.y&&pe>=W.next.y&&W.next.y!==W.y){var qe=W.x+(pe-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(qe<=ie&&qe>Ae){if(Ae=qe,qe===ie){if(pe===W.y)return W;if(pe===W.next.y)return W.next}De=W.x<W.next.x?W:W.next}}W=W.next}while(W!==D);if(!De)return null;if(ie===Ae)return De;var pt=De,St=De.x,kt=De.y,Gt=1/0,ir;W=De;do ie>=W.x&&W.x>=St&&ie!==W.x&&kv(pe<kt?ie:Ae,pe,St,kt,pe<kt?Ae:ie,pe,W.x,W.y)&&(ir=Math.abs(pe-W.y)/(ie-W.x),Hd(W,k)&&(ir<Gt||ir===Gt&&(W.x>De.x||W.x===De.x&&x6(De,W)))&&(De=W,Gt=ir)),W=W.next;while(W!==pt);return De}function x6(k,D){return wo(k.prev,k,D.prev)<0&&wo(D.next,k,k.next)<0}function b6(k,D,W,ie){var pe=k;do pe.z===null&&(pe.z=Sy(pe.x,pe.y,D,W,ie)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==k);pe.prevZ.nextZ=null,pe.prevZ=null,w6(pe)}function w6(k){var D,W,ie,pe,Ae,De,qe,pt,St=1;do{for(W=k,k=null,Ae=null,De=0;W;){for(De++,ie=W,qe=0,D=0;D<St&&(qe++,ie=ie.nextZ,!!ie);D++);for(pt=St;qe>0||pt>0&&ie;)qe!==0&&(pt===0||!ie||W.z<=ie.z)?(pe=W,W=W.nextZ,qe--):(pe=ie,ie=ie.nextZ,pt--),Ae?Ae.nextZ=pe:k=pe,pe.prevZ=Ae,Ae=pe;W=ie}Ae.nextZ=null,St*=2}while(De>1);return k}function Sy(k,D,W,ie,pe){return k=32767*(k-W)*pe,D=32767*(D-ie)*pe,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,k|D<<1}function T6(k){var D=k,W=k;do(D.x<W.x||D.x===W.x&&D.y<W.y)&&(W=D),D=D.next;while(D!==k);return W}function kv(k,D,W,ie,pe,Ae,De,qe){return(pe-De)*(D-qe)-(k-De)*(Ae-qe)>=0&&(k-De)*(ie-qe)-(W-De)*(D-qe)>=0&&(W-De)*(Ae-qe)-(pe-De)*(ie-qe)>=0}function A6(k,D){return k.next.i!==D.i&&k.prev.i!==D.i&&!S6(k,D)&&(Hd(k,D)&&Hd(D,k)&&M6(k,D)&&(wo(k.prev,k,D.prev)||wo(k,D.prev,D))||s0(k,D)&&wo(k.prev,k,k.next)>0&&wo(D.prev,D,D.next)>0)}function wo(k,D,W){return(D.y-k.y)*(W.x-D.x)-(D.x-k.x)*(W.y-D.y)}function s0(k,D){return k.x===D.x&&k.y===D.y}function wb(k,D,W,ie){var pe=u0(wo(k,D,W)),Ae=u0(wo(k,D,ie)),De=u0(wo(W,ie,k)),qe=u0(wo(W,ie,D));return!!(pe!==Ae&&De!==qe||pe===0&&l0(k,W,D)||Ae===0&&l0(k,ie,D)||De===0&&l0(W,k,ie)||qe===0&&l0(W,D,ie))}function l0(k,D,W){return D.x<=Math.max(k.x,W.x)&&D.x>=Math.min(k.x,W.x)&&D.y<=Math.max(k.y,W.y)&&D.y>=Math.min(k.y,W.y)}function u0(k){return k>0?1:k<0?-1:0}function S6(k,D){var W=k;do{if(W.i!==k.i&&W.next.i!==k.i&&W.i!==D.i&&W.next.i!==D.i&&wb(W,W.next,k,D))return!0;W=W.next}while(W!==k);return!1}function Hd(k,D){return wo(k.prev,k,k.next)<0?wo(k,D,k.next)>=0&&wo(k,k.prev,D)>=0:wo(k,D,k.prev)<0||wo(k,k.next,D)<0}function M6(k,D){var W=k,ie=!1,pe=(k.x+D.x)/2,Ae=(k.y+D.y)/2;do W.y>Ae!=W.next.y>Ae&&W.next.y!==W.y&&pe<(W.next.x-W.x)*(Ae-W.y)/(W.next.y-W.y)+W.x&&(ie=!ie),W=W.next;while(W!==k);return ie}function Tb(k,D){var W=new My(k.i,k.x,k.y),ie=new My(D.i,D.x,D.y),pe=k.next,Ae=D.prev;return k.next=D,D.prev=k,W.next=pe,pe.prev=W,ie.next=W,W.prev=ie,Ae.next=ie,ie.prev=Ae,ie}function Ab(k,D,W,ie){var pe=new My(k,D,W);return ie?(pe.next=ie.next,pe.prev=ie,ie.next.prev=pe,ie.next=pe):(pe.prev=pe,pe.next=pe),pe}function Vd(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function My(k,D,W){this.i=k,this.x=D,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}o0.deviation=function(k,D,W,ie){var pe=D&&D.length,Ae=pe?D[0]*W:k.length,De=Math.abs(Ey(k,0,Ae,W));if(pe)for(var qe=0,pt=D.length;qe<pt;qe++){var St=D[qe]*W,kt=qe<pt-1?D[qe+1]*W:k.length;De-=Math.abs(Ey(k,St,kt,W))}var Gt=0;for(qe=0;qe<ie.length;qe+=3){var ir=ie[qe]*W,rr=ie[qe+1]*W,br=ie[qe+2]*W;Gt+=Math.abs((k[ir]-k[br])*(k[rr+1]-k[ir+1])-(k[ir]-k[rr])*(k[br+1]-k[ir+1]))}return De===0&&Gt===0?0:Math.abs((Gt-De)/De)};function Ey(k,D,W,ie){for(var pe=0,Ae=D,De=W-ie;Ae<W;Ae+=ie)pe+=(k[De]-k[Ae])*(k[Ae+1]+k[De+1]),De=Ae;return pe}o0.flatten=function(k){for(var D=k[0][0].length,W={vertices:[],holes:[],dimensions:D},ie=0,pe=0;pe<k.length;pe++){for(var Ae=0;Ae<k[pe].length;Ae++)for(var De=0;De<D;De++)W.vertices.push(k[pe][Ae][De]);pe>0&&(ie+=k[pe-1].length,W.holes.push(ie))}return W},Ay.default=f6;function E6(k,D,W,ie,pe){Sb(k,D,W,ie||k.length-1,pe||C6)}function Sb(k,D,W,ie,pe){for(;ie>W;){if(ie-W>600){var Ae=ie-W+1,De=D-W+1,qe=Math.log(Ae),pt=.5*Math.exp(2*qe/3),St=.5*Math.sqrt(qe*pt*(Ae-pt)/Ae)*(De-Ae/2<0?-1:1),kt=Math.max(W,Math.floor(D-De*pt/Ae+St)),Gt=Math.min(ie,Math.floor(D+(Ae-De)*pt/Ae+St));Sb(k,D,kt,Gt,pe)}var ir=k[D],rr=W,br=ie;for(Gd(k,W,D),pe(k[ie],ir)>0&&Gd(k,W,ie);rr<br;){for(Gd(k,rr,br),rr++,br--;pe(k[rr],ir)<0;)rr++;for(;pe(k[br],ir)>0;)br--}pe(k[W],ir)===0?Gd(k,W,br):(br++,Gd(k,br,ie)),br<=D&&(W=br+1),D<=br&&(ie=br-1)}}function Gd(k,D,W){var ie=k[D];k[D]=k[W],k[W]=ie}function C6(k,D){return k<D?-1:k>D?1:0}function Cy(k,D){var W=k.length;if(W<=1)return[k];for(var ie=[],pe,Ae,De=0;De<W;De++){var qe=G(k[De]);qe!==0&&(k[De].area=Math.abs(qe),Ae===void 0&&(Ae=qe<0),Ae===qe<0?(pe&&ie.push(pe),pe=[k[De]]):pe.push(k[De]))}if(pe&&ie.push(pe),D>1)for(var pt=0;pt<ie.length;pt++)ie[pt].length<=D||(E6(ie[pt],D,1,ie[pt].length-1,L6),ie[pt]=ie[pt].slice(0,D));return ie}function L6(k,D){return D.area-k.area}function Ly(k,D,W){for(var ie=W.patternDependencies,pe=!1,Ae=0,De=D;Ae<De.length;Ae+=1){var qe=De[Ae],pt=qe.paint.get(k+"-pattern");pt.isConstant()||(pe=!0);var St=pt.constantOr(null);St&&(pe=!0,ie[St.to]=!0,ie[St.from]=!0)}return pe}function Py(k,D,W,ie,pe){for(var Ae=pe.patternDependencies,De=0,qe=D;De<qe.length;De+=1){var pt=qe[De],St=pt.paint.get(k+"-pattern"),kt=St.value;if(kt.kind!=="constant"){var Gt=kt.evaluate({zoom:ie-1},W,{},pe.availableImages),ir=kt.evaluate({zoom:ie},W,{},pe.availableImages),rr=kt.evaluate({zoom:ie+1},W,{},pe.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,ir=ir&&ir.name?ir.name:ir,rr=rr&&rr.name?rr.name:rr,Ae[Gt]=!0,Ae[ir]=!0,Ae[rr]=!0,W.patterns[pt.id]={min:Gt,mid:ir,max:rr}}}return W}var P6=500,Ju=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rc,this.indexArray=new Zu,this.indexArray2=new Kh,this.programConfigurations=new pa(D.layers,D.zoom),this.segments=new bo,this.segments2=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Ju.prototype.populate=function(D,W,ie){this.hasPattern=Ly("fill",this.layers,W);for(var pe=this.layers[0].layout.get("fill-sort-key"),Ae=[],De=0,qe=D;De<qe.length;De+=1){var pt=qe[De],St=pt.feature,kt=pt.id,Gt=pt.index,ir=pt.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,br=Ri(St,rr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),br,ie)){var Hr=pe?pe.evaluate(br,{},ie,W.availableImages):void 0,cn={id:kt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:Gt,geometry:rr?br.geometry:si(St),patterns:{},sortKey:Hr};Ae.push(cn)}}pe&&Ae.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var tn=0,En=Ae;tn<En.length;tn+=1){var bn=En[tn],Mn=bn,On=Mn.geometry,Xn=Mn.index,oa=Mn.sourceLayerIndex;if(this.hasPattern){var ra=Py("fill",this.layers,bn,this.zoom,W);this.patternFeatures.push(ra)}else this.addFeature(bn,On,Xn,ie,{});var Aa=D[Xn].feature;W.featureIndex.insert(Aa,On,Xn,oa,this.index)}},Ju.prototype.update=function(D,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ie)},Ju.prototype.addFeatures=function(D,W,ie){for(var pe=0,Ae=this.patternFeatures;pe<Ae.length;pe+=1){var De=Ae[pe];this.addFeature(De,De.geometry,De.index,W,ie)}},Ju.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ju.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ju.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,u6),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Ju.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ju.prototype.addFeature=function(D,W,ie,pe,Ae){for(var De=0,qe=Cy(W,P6);De<qe.length;De+=1){for(var pt=qe[De],St=0,kt=0,Gt=pt;kt<Gt.length;kt+=1){var ir=Gt[kt];St+=ir.length}for(var rr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),br=rr.vertexLength,Hr=[],cn=[],tn=0,En=pt;tn<En.length;tn+=1){var bn=En[tn];if(bn.length!==0){bn!==pt[0]&&cn.push(Hr.length/2);var Mn=this.segments2.prepareSegment(bn.length,this.layoutVertexArray,this.indexArray2),On=Mn.vertexLength;this.layoutVertexArray.emplaceBack(bn[0].x,bn[0].y),this.indexArray2.emplaceBack(On+bn.length-1,On),Hr.push(bn[0].x),Hr.push(bn[0].y);for(var Xn=1;Xn<bn.length;Xn++)this.layoutVertexArray.emplaceBack(bn[Xn].x,bn[Xn].y),this.indexArray2.emplaceBack(On+Xn-1,On+Xn),Hr.push(bn[Xn].x),Hr.push(bn[Xn].y);Mn.vertexLength+=bn.length,Mn.primitiveLength+=bn.length}}for(var oa=Ay(Hr,cn),ra=0;ra<oa.length;ra+=3)this.indexArray.emplaceBack(br+oa[ra],br+oa[ra+1],br+oa[ra+2]);rr.vertexLength+=St,rr.primitiveLength+=oa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,Ae,pe)},He("FillBucket",Ju,{omit:["layers","patternFeatures"]});var R6=new yi({"fill-sort-key":new Pa(Sr.layout_fill["fill-sort-key"])}),k6=new yi({"fill-antialias":new fa(Sr.paint_fill["fill-antialias"]),"fill-opacity":new Pa(Sr.paint_fill["fill-opacity"]),"fill-color":new Pa(Sr.paint_fill["fill-color"]),"fill-outline-color":new Pa(Sr.paint_fill["fill-outline-color"]),"fill-translate":new fa(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new fa(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zo(Sr.paint_fill["fill-pattern"])}),D6={paint:k6,layout:R6},I6=function(k){function D(W){k.call(this,W,D6)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ie,pe){k.prototype.recalculate.call(this,ie,pe);var Ae=this.paint._values["fill-outline-color"];Ae.value.kind==="constant"&&Ae.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ie){return new Ju(ie)},D.prototype.queryRadius=function(){return Ol(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ie,pe,Ae,De,qe,pt,St){var kt=Ku(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),pt.angle,St);return Ki(kt,De)},D.prototype.isTileClipped=function(){return!0},D}(Zi),_6=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),z6=_6.members,Mb=Dv;function Dv(k,D,W,ie,pe){this.properties={},this.extent=W,this.type=0,this._pbf=k,this._geometry=-1,this._keys=ie,this._values=pe,k.readFields(O6,this,D)}function O6(k,D,W){k==1?D.id=W.readVarint():k==2?F6(W,D):k==3?D.type=W.readVarint():k==4&&(D._geometry=W.pos)}function F6(k,D){for(var W=k.readVarint()+k.pos;k.pos<W;){var ie=D._keys[k.readVarint()],pe=D._values[k.readVarint()];D.properties[ie]=pe}}Dv.types=["Unknown","Point","LineString","Polygon"],Dv.prototype.loadGeometry=function(){var k=this._pbf;k.pos=this._geometry;for(var D=k.readVarint()+k.pos,W=1,ie=0,pe=0,Ae=0,De=[],qe;k.pos<D;){if(ie<=0){var pt=k.readVarint();W=pt&7,ie=pt>>3}if(ie--,W===1||W===2)pe+=k.readSVarint(),Ae+=k.readSVarint(),W===1&&(qe&&De.push(qe),qe=[]),qe.push(new r(pe,Ae));else if(W===7)qe&&qe.push(qe[0].clone());else throw new Error("unknown command "+W)}return qe&&De.push(qe),De},Dv.prototype.bbox=function(){var k=this._pbf;k.pos=this._geometry;for(var D=k.readVarint()+k.pos,W=1,ie=0,pe=0,Ae=0,De=1/0,qe=-1/0,pt=1/0,St=-1/0;k.pos<D;){if(ie<=0){var kt=k.readVarint();W=kt&7,ie=kt>>3}if(ie--,W===1||W===2)pe+=k.readSVarint(),Ae+=k.readSVarint(),pe<De&&(De=pe),pe>qe&&(qe=pe),Ae<pt&&(pt=Ae),Ae>St&&(St=Ae);else if(W!==7)throw new Error("unknown command "+W)}return[De,pt,qe,St]},Dv.prototype.toGeoJSON=function(k,D,W){var ie=this.extent*Math.pow(2,W),pe=this.extent*k,Ae=this.extent*D,De=this.loadGeometry(),qe=Dv.types[this.type],pt,St;function kt(rr){for(var br=0;br<rr.length;br++){var Hr=rr[br],cn=180-(Hr.y+Ae)*360/ie;rr[br]=[(Hr.x+pe)*360/ie-180,360/Math.PI*Math.atan(Math.exp(cn*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(pt=0;pt<De.length;pt++)Gt[pt]=De[pt][0];De=Gt,kt(De);break;case 2:for(pt=0;pt<De.length;pt++)kt(De[pt]);break;case 3:for(De=N6(De),pt=0;pt<De.length;pt++)for(St=0;St<De[pt].length;St++)kt(De[pt][St]);break}De.length===1?De=De[0]:qe="Multi"+qe;var ir={type:"Feature",geometry:{type:qe,coordinates:De},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function N6(k){var D=k.length;if(D<=1)return[k];for(var W=[],ie,pe,Ae=0;Ae<D;Ae++){var De=B6(k[Ae]);De!==0&&(pe===void 0&&(pe=De<0),pe===De<0?(ie&&W.push(ie),ie=[k[Ae]]):ie.push(k[Ae]))}return ie&&W.push(ie),W}function B6(k){for(var D=0,W=0,ie=k.length,pe=ie-1,Ae,De;W<ie;pe=W++)Ae=k[W],De=k[pe],D+=(De.x-Ae.x)*(Ae.y+De.y);return D}var Eb=Cb;function Cb(k,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=k,this._keys=[],this._values=[],this._features=[],k.readFields(U6,this,D),this.length=this._features.length}function U6(k,D,W){k===15?D.version=W.readVarint():k===1?D.name=W.readString():k===5?D.extent=W.readVarint():k===2?D._features.push(W.pos):k===3?D._keys.push(W.readString()):k===4&&D._values.push(H6(W))}function H6(k){for(var D=null,W=k.readVarint()+k.pos;k.pos<W;){var ie=k.readVarint()>>3;D=ie===1?k.readString():ie===2?k.readFloat():ie===3?k.readDouble():ie===4?k.readVarint64():ie===5?k.readVarint():ie===6?k.readSVarint():ie===7?k.readBoolean():null}return D}Cb.prototype.feature=function(k){if(k<0||k>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[k];var D=this._pbf.readVarint()+this._pbf.pos;return new Mb(this._pbf,D,this.extent,this._keys,this._values)};var V6=G6;function G6(k,D){this.layers=k.readFields(W6,{},D)}function W6(k,D,W){if(k===3){var ie=new Eb(W,W.readVarint()+W.pos);ie.length&&(D[ie.name]=ie)}}var j6=V6,Y6=Mb,X6=Eb,Iv={VectorTile:j6,VectorTileFeature:Y6,VectorTileLayer:X6},Z6=Iv.VectorTileFeature.types,K6=500,Ry=Math.pow(2,13);function Wd(k,D,W,ie,pe,Ae,De,qe){k.emplaceBack(D,W,Math.floor(ie*Ry)*2+De,pe*Ry*2,Ae*Ry*2,Math.round(qe))}var Qu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Mf,this.indexArray=new Zu,this.programConfigurations=new pa(D.layers,D.zoom),this.segments=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Qu.prototype.populate=function(D,W,ie){this.features=[],this.hasPattern=Ly("fill-extrusion",this.layers,W);for(var pe=0,Ae=D;pe<Ae.length;pe+=1){var De=Ae[pe],qe=De.feature,pt=De.id,St=De.index,kt=De.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,ir=Ri(qe,Gt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),ir,ie)){var rr={id:pt,sourceLayerIndex:kt,index:St,geometry:Gt?ir.geometry:si(qe),properties:qe.properties,type:qe.type,patterns:{}};this.hasPattern?this.features.push(Py("fill-extrusion",this.layers,rr,this.zoom,W)):this.addFeature(rr,rr.geometry,St,ie,{}),W.featureIndex.insert(qe,rr.geometry,St,kt,this.index,!0)}}},Qu.prototype.addFeatures=function(D,W,ie){for(var pe=0,Ae=this.features;pe<Ae.length;pe+=1){var De=Ae[pe],qe=De.geometry;this.addFeature(De,qe,De.index,W,ie)}},Qu.prototype.update=function(D,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ie)},Qu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Qu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,z6),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Qu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qu.prototype.addFeature=function(D,W,ie,pe,Ae){for(var De=0,qe=Cy(W,K6);De<qe.length;De+=1){for(var pt=qe[De],St=0,kt=0,Gt=pt;kt<Gt.length;kt+=1){var ir=Gt[kt];St+=ir.length}for(var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Hr=pt;br<Hr.length;br+=1){var cn=Hr[br];if(cn.length!==0&&!Q6(cn))for(var tn=0,En=0;En<cn.length;En++){var bn=cn[En];if(En>=1){var Mn=cn[En-1];if(!J6(bn,Mn)){rr.vertexLength+4>bo.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var On=bn.sub(Mn)._perp()._unit(),Xn=Mn.dist(bn);tn+Xn>32768&&(tn=0),Wd(this.layoutVertexArray,bn.x,bn.y,On.x,On.y,0,0,tn),Wd(this.layoutVertexArray,bn.x,bn.y,On.x,On.y,0,1,tn),tn+=Xn,Wd(this.layoutVertexArray,Mn.x,Mn.y,On.x,On.y,0,0,tn),Wd(this.layoutVertexArray,Mn.x,Mn.y,On.x,On.y,0,1,tn);var oa=rr.vertexLength;this.indexArray.emplaceBack(oa,oa+2,oa+1),this.indexArray.emplaceBack(oa+1,oa+2,oa+3),rr.vertexLength+=4,rr.primitiveLength+=2}}}}if(rr.vertexLength+St>bo.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),Z6[D.type]==="Polygon"){for(var ra=[],Aa=[],ga=rr.vertexLength,wa=0,Ha=pt;wa<Ha.length;wa+=1){var Sa=Ha[wa];if(Sa.length!==0){Sa!==pt[0]&&Aa.push(ra.length/2);for(var La=0;La<Sa.length;La++){var Ya=Sa[La];Wd(this.layoutVertexArray,Ya.x,Ya.y,0,0,1,1,0),ra.push(Ya.x),ra.push(Ya.y)}}}for(var Ba=Ay(ra,Aa),vi=0;vi<Ba.length;vi+=3)this.indexArray.emplaceBack(ga+Ba[vi],ga+Ba[vi+2],ga+Ba[vi+1]);rr.primitiveLength+=Ba.length/3,rr.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,Ae,pe)},He("FillExtrusionBucket",Qu,{omit:["layers","features"]});function J6(k,D){return k.x===D.x&&(k.x<0||k.x>Ea)||k.y===D.y&&(k.y<0||k.y>Ea)}function Q6(k){return k.every(function(D){return D.x<0})||k.every(function(D){return D.x>Ea})||k.every(function(D){return D.y<0})||k.every(function(D){return D.y>Ea})}var $6=new yi({"fill-extrusion-opacity":new fa(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pa(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new fa(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new fa(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zo(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pa(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pa(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new fa(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),q6={paint:$6},eS=function(k){function D(W){k.call(this,W,q6)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ie){return new Qu(ie)},D.prototype.queryRadius=function(){return Ol(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ie,pe,Ae,De,qe,pt,St,kt){var Gt=Ku(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),pt.angle,St),ir=this.paint.get("fill-extrusion-height").evaluate(pe,Ae),rr=this.paint.get("fill-extrusion-base").evaluate(pe,Ae),br=nS(Gt,kt,pt,0),Hr=rS(De,rr,ir,kt),cn=Hr[0],tn=Hr[1];return tS(cn,tn,br)},D}(Zi);function jd(k,D){return k.x*D.x+k.y*D.y}function Lb(k,D){if(k.length===1){for(var W=0,ie=D[W++],pe;!pe||ie.equals(pe);)if(pe=D[W++],!pe)return 1/0;for(;W<D.length;W++){var Ae=D[W],De=k[0],qe=pe.sub(ie),pt=Ae.sub(ie),St=De.sub(ie),kt=jd(qe,qe),Gt=jd(qe,pt),ir=jd(pt,pt),rr=jd(St,qe),br=jd(St,pt),Hr=kt*ir-Gt*Gt,cn=(ir*rr-Gt*br)/Hr,tn=(kt*br-Gt*rr)/Hr,En=1-cn-tn,bn=ie.z*En+pe.z*cn+Ae.z*tn;if(isFinite(bn))return bn}return 1/0}else{for(var Mn=1/0,On=0,Xn=D;On<Xn.length;On+=1){var oa=Xn[On];Mn=Math.min(Mn,oa.z)}return Mn}}function tS(k,D,W){var ie=1/0;Ki(W,D)&&(ie=Lb(W,D[0]));for(var pe=0;pe<D.length;pe++)for(var Ae=D[pe],De=k[pe],qe=0;qe<Ae.length-1;qe++){var pt=Ae[qe],St=Ae[qe+1],kt=De[qe],Gt=De[qe+1],ir=[pt,St,Gt,kt,pt];Wa(W,ir)&&(ie=Math.min(ie,Lb(W,ir)))}return ie===1/0?!1:ie}function rS(k,D,W,ie){for(var pe=[],Ae=[],De=ie[8]*D,qe=ie[9]*D,pt=ie[10]*D,St=ie[11]*D,kt=ie[8]*W,Gt=ie[9]*W,ir=ie[10]*W,rr=ie[11]*W,br=0,Hr=k;br<Hr.length;br+=1){for(var cn=Hr[br],tn=[],En=[],bn=0,Mn=cn;bn<Mn.length;bn+=1){var On=Mn[bn],Xn=On.x,oa=On.y,ra=ie[0]*Xn+ie[4]*oa+ie[12],Aa=ie[1]*Xn+ie[5]*oa+ie[13],ga=ie[2]*Xn+ie[6]*oa+ie[14],wa=ie[3]*Xn+ie[7]*oa+ie[15],Ha=ra+De,Sa=Aa+qe,La=ga+pt,Ya=wa+St,Ba=ra+kt,vi=Aa+Gt,Mi=ga+ir,di=wa+rr,pi=new r(Ha/Ya,Sa/Ya);pi.z=La/Ya,tn.push(pi);var li=new r(Ba/di,vi/di);li.z=Mi/di,En.push(li)}pe.push(tn),Ae.push(En)}return[pe,Ae]}function nS(k,D,W,ie){for(var pe=[],Ae=0,De=k;Ae<De.length;Ae+=1){var qe=De[Ae],pt=[qe.x,qe.y,ie,1];i0(pt,pt,D),pe.push(new r(pt[0]/pt[3],pt[1]/pt[3]))}return pe}var aS=Oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),iS=aS.members,oS=Oi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),sS=oS.members,lS=Iv.VectorTileFeature.types,Pb=63,uS=Math.cos(75/2*(Math.PI/180)),fS=15,cS=20,hS=15,Rb=1/2,kb=Math.pow(2,hS-1)/Rb,ws=function(D){var W=this;this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ie){return ie.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ie){W.gradients[ie.id]={}}),this.layoutVertexArray=new jc,this.layoutVertexArray2=new Yc,this.indexArray=new Zu,this.programConfigurations=new pa(D.layers,D.zoom),this.segments=new bo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ie){return ie.isStateDependent()}).map(function(ie){return ie.id})};ws.prototype.populate=function(D,W,ie){this.hasPattern=Ly("line",this.layers,W);for(var pe=this.layers[0].layout.get("line-sort-key"),Ae=[],De=0,qe=D;De<qe.length;De+=1){var pt=qe[De],St=pt.feature,kt=pt.id,Gt=pt.index,ir=pt.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,br=Ri(St,rr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),br,ie)){var Hr=pe?pe.evaluate(br,{},ie):void 0,cn={id:kt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:Gt,geometry:rr?br.geometry:si(St),patterns:{},sortKey:Hr};Ae.push(cn)}}pe&&Ae.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var tn=0,En=Ae;tn<En.length;tn+=1){var bn=En[tn],Mn=bn,On=Mn.geometry,Xn=Mn.index,oa=Mn.sourceLayerIndex;if(this.hasPattern){var ra=Py("line",this.layers,bn,this.zoom,W);this.patternFeatures.push(ra)}else this.addFeature(bn,On,Xn,ie,{});var Aa=D[Xn].feature;W.featureIndex.insert(Aa,On,Xn,oa,this.index)}},ws.prototype.update=function(D,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ie)},ws.prototype.addFeatures=function(D,W,ie){for(var pe=0,Ae=this.patternFeatures;pe<Ae.length;pe+=1){var De=Ae[pe];this.addFeature(De,De.geometry,De.index,W,ie)}},ws.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(D){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=D.createVertexBuffer(this.layoutVertexArray2,sS)),this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,iS),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.lineFeatureClips=function(D){if(D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){var W=+D.properties.mapbox_clip_start,ie=+D.properties.mapbox_clip_end;return{start:W,end:ie}}},ws.prototype.addFeature=function(D,W,ie,pe,Ae){var De=this.layers[0].layout,qe=De.get("line-join").evaluate(D,{}),pt=De.get("line-cap"),St=De.get("line-miter-limit"),kt=De.get("line-round-limit");this.lineClips=this.lineFeatureClips(D);for(var Gt=0,ir=W;Gt<ir.length;Gt+=1){var rr=ir[Gt];this.addLine(rr,D,qe,pt,St,kt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,Ae,pe)},ws.prototype.addLine=function(D,W,ie,pe,Ae,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qe=0;qe<D.length-1;qe++)this.totalDistance+=D[qe].dist(D[qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var pt=lS[W.type]==="Polygon",St=D.length;St>=2&&D[St-1].equals(D[St-2]);)St--;for(var kt=0;kt<St-1&&D[kt].equals(D[kt+1]);)kt++;if(!(St<(pt?3:2))){ie==="bevel"&&(Ae=1.05);var Gt=this.overscaling<=16?fS*Ea/(512*this.overscaling):0,ir=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),rr,br=void 0,Hr=void 0,cn=void 0,tn=void 0;this.e1=this.e2=-1,pt&&(rr=D[St-2],tn=D[kt].sub(rr)._unit()._perp());for(var En=kt;En<St;En++)if(Hr=En===St-1?pt?D[kt+1]:void 0:D[En+1],!(Hr&&D[En].equals(Hr))){tn&&(cn=tn),rr&&(br=rr),rr=D[En],tn=Hr?Hr.sub(rr)._unit()._perp():cn,cn=cn||tn;var bn=cn.add(tn);(bn.x!==0||bn.y!==0)&&bn._unit();var Mn=cn.x*tn.x+cn.y*tn.y,On=bn.x*tn.x+bn.y*tn.y,Xn=On!==0?1/On:1/0,oa=2*Math.sqrt(2-2*On),ra=On<uS&&br&&Hr,Aa=cn.x*tn.y-cn.y*tn.x>0;if(ra&&En>kt){var ga=rr.dist(br);if(ga>2*Gt){var wa=rr.sub(rr.sub(br)._mult(Gt/ga)._round());this.updateDistance(br,wa),this.addCurrentVertex(wa,cn,0,0,ir),br=wa}}var Ha=br&&Hr,Sa=Ha?ie:pt?"butt":pe;if(Ha&&Sa==="round"&&(Xn<De?Sa="miter":Xn<=2&&(Sa="fakeround")),Sa==="miter"&&Xn>Ae&&(Sa="bevel"),Sa==="bevel"&&(Xn>2&&(Sa="flipbevel"),Xn<Ae&&(Sa="miter")),br&&this.updateDistance(br,rr),Sa==="miter")bn._mult(Xn),this.addCurrentVertex(rr,bn,0,0,ir);else if(Sa==="flipbevel"){if(Xn>100)bn=tn.mult(-1);else{var La=Xn*cn.add(tn).mag()/cn.sub(tn).mag();bn._perp()._mult(La*(Aa?-1:1))}this.addCurrentVertex(rr,bn,0,0,ir),this.addCurrentVertex(rr,bn.mult(-1),0,0,ir)}else if(Sa==="bevel"||Sa==="fakeround"){var Ya=-Math.sqrt(Xn*Xn-1),Ba=Aa?Ya:0,vi=Aa?0:Ya;if(br&&this.addCurrentVertex(rr,cn,Ba,vi,ir),Sa==="fakeround")for(var Mi=Math.round(oa*180/Math.PI/cS),di=1;di<Mi;di++){var pi=di/Mi;if(pi!==.5){var li=pi-.5,ki=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Ii=.848013+Mn*(-1.06021+Mn*.215638);pi=pi+pi*li*(pi-1)*(ki*li*li+Ii)}var Ji=tn.sub(cn)._mult(pi)._add(cn)._unit()._mult(Aa?-1:1);this.addHalfVertex(rr,Ji.x,Ji.y,!1,Aa,0,ir)}Hr&&this.addCurrentVertex(rr,tn,-Ba,-vi,ir)}else if(Sa==="butt")this.addCurrentVertex(rr,bn,0,0,ir);else if(Sa==="square"){var ao=br?1:-1;this.addCurrentVertex(rr,bn,ao,ao,ir)}else Sa==="round"&&(br&&(this.addCurrentVertex(rr,cn,0,0,ir),this.addCurrentVertex(rr,cn,1,1,ir,!0)),Hr&&(this.addCurrentVertex(rr,tn,-1,-1,ir,!0),this.addCurrentVertex(rr,tn,0,0,ir)));if(ra&&En<St-1){var Bo=rr.dist(Hr);if(Bo>2*Gt){var So=rr.add(Hr.sub(rr)._mult(Gt/Bo)._round());this.updateDistance(rr,So),this.addCurrentVertex(So,tn,0,0,ir),rr=So}}}}},ws.prototype.addCurrentVertex=function(D,W,ie,pe,Ae,De){De===void 0&&(De=!1);var qe=W.x+W.y*ie,pt=W.y-W.x*ie,St=-W.x+W.y*pe,kt=-W.y-W.x*pe;this.addHalfVertex(D,qe,pt,De,!1,ie,Ae),this.addHalfVertex(D,St,kt,De,!0,-pe,Ae),this.distance>kb/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,W,ie,pe,Ae,De))},ws.prototype.addHalfVertex=function(D,W,ie,pe,Ae,De,qe){var pt=D.x,St=D.y,kt=this.lineClips?this.scaledDistance*(kb-1):this.scaledDistance,Gt=kt*Rb;if(this.layoutVertexArray.emplaceBack((pt<<1)+(pe?1:0),(St<<1)+(Ae?1:0),Math.round(Pb*W)+128,Math.round(Pb*ie)+128,(De===0?0:De<0?-1:1)+1|(Gt&63)<<2,Gt>>6),this.lineClips){var ir=this.scaledDistance-this.lineClips.start,rr=this.lineClips.end-this.lineClips.start,br=ir/rr;this.layoutVertexArray2.emplaceBack(br,this.lineClipsArray.length)}var Hr=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Hr),qe.primitiveLength++),Ae?this.e2=Hr:this.e1=Hr},ws.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ws.prototype.updateDistance=function(D,W){this.distance+=D.dist(W),this.updateScaledDistance()},He("LineBucket",ws,{omit:["layers","patternFeatures"]});var vS=new yi({"line-cap":new fa(Sr.layout_line["line-cap"]),"line-join":new Pa(Sr.layout_line["line-join"]),"line-miter-limit":new fa(Sr.layout_line["line-miter-limit"]),"line-round-limit":new fa(Sr.layout_line["line-round-limit"]),"line-sort-key":new Pa(Sr.layout_line["line-sort-key"])}),dS=new yi({"line-opacity":new Pa(Sr.paint_line["line-opacity"]),"line-color":new Pa(Sr.paint_line["line-color"]),"line-translate":new fa(Sr.paint_line["line-translate"]),"line-translate-anchor":new fa(Sr.paint_line["line-translate-anchor"]),"line-width":new Pa(Sr.paint_line["line-width"]),"line-gap-width":new Pa(Sr.paint_line["line-gap-width"]),"line-offset":new Pa(Sr.paint_line["line-offset"]),"line-blur":new Pa(Sr.paint_line["line-blur"]),"line-dasharray":new es(Sr.paint_line["line-dasharray"]),"line-pattern":new Zo(Sr.paint_line["line-pattern"]),"line-gradient":new xo(Sr.paint_line["line-gradient"])}),Db={paint:dS,layout:vS},pS=function(k){function D(){k.apply(this,arguments)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ie,pe){return pe=new Ma(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),k.prototype.possiblyEvaluate.call(this,ie,pe)},D.prototype.evaluate=function(ie,pe,Ae,De){return pe=b({},pe,{zoom:Math.floor(pe.zoom)}),k.prototype.evaluate.call(this,ie,pe,Ae,De)},D}(Pa),Ib=new pS(Db.paint.properties["line-width"].specification);Ib.useIntegerZoom=!0;var gS=function(k){function D(W){k.call(this,W,Db),this.gradientVersion=0}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ie){if(ie==="line-gradient"){var pe=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=pe._styleExpression.expression instanceof hs,this.gradientVersion=(this.gradientVersion+1)%u}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(ie,pe){k.prototype.recalculate.call(this,ie,pe),this.paint._values["line-floorwidth"]=Ib.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},D.prototype.createBucket=function(ie){return new ws(ie)},D.prototype.queryRadius=function(ie){var pe=ie,Ae=_b(bs("line-width",this,pe),bs("line-gap-width",this,pe)),De=bs("line-offset",this,pe);return Ae/2+Math.abs(De)+Ol(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ie,pe,Ae,De,qe,pt,St){var kt=Ku(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),pt.angle,St),Gt=St/2*_b(this.paint.get("line-width").evaluate(pe,Ae),this.paint.get("line-gap-width").evaluate(pe,Ae)),ir=this.paint.get("line-offset").evaluate(pe,Ae);return ir&&(De=yS(De,ir*St)),ko(kt,De,Gt)},D.prototype.isTileClipped=function(){return!0},D}(Zi);function _b(k,D){return D>0?D+2*k:k}function yS(k,D){for(var W=[],ie=new r(0,0),pe=0;pe<k.length;pe++){for(var Ae=k[pe],De=[],qe=0;qe<Ae.length;qe++){var pt=Ae[qe-1],St=Ae[qe],kt=Ae[qe+1],Gt=qe===0?ie:St.sub(pt)._unit()._perp(),ir=qe===Ae.length-1?ie:kt.sub(St)._unit()._perp(),rr=Gt._add(ir)._unit(),br=rr.x*ir.x+rr.y*ir.y;rr._mult(1/br),De.push(rr._mult(D)._add(St))}W.push(De)}return W}var mS=Oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),xS=Oi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var bS=Oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var zb=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wS=Oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Oi([{name:"triangle",components:3,type:"Uint16"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oi([{type:"Float32",name:"offsetX"}]),Oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function TS(k,D,W){var ie=D.layout.get("text-transform").evaluate(W,{});return ie==="uppercase"?k=k.toLocaleUpperCase():ie==="lowercase"&&(k=k.toLocaleLowerCase()),ea.applyArabicShaping&&(k=ea.applyArabicShaping(k)),k}function AS(k,D,W){return k.sections.forEach(function(ie){ie.text=TS(ie.text,D,W)}),k}function SS(k){var D={},W={},ie=[],pe=0;function Ae(tn){ie.push(k[tn]),pe++}function De(tn,En,bn){var Mn=W[tn];return delete W[tn],W[En]=Mn,ie[Mn].geometry[0].pop(),ie[Mn].geometry[0]=ie[Mn].geometry[0].concat(bn[0]),Mn}function qe(tn,En,bn){var Mn=D[En];return delete D[En],D[tn]=Mn,ie[Mn].geometry[0].shift(),ie[Mn].geometry[0]=bn[0].concat(ie[Mn].geometry[0]),Mn}function pt(tn,En,bn){var Mn=bn?En[0][En[0].length-1]:En[0][0];return tn+":"+Mn.x+":"+Mn.y}for(var St=0;St<k.length;St++){var kt=k[St],Gt=kt.geometry,ir=kt.text?kt.text.toString():null;if(!ir){Ae(St);continue}var rr=pt(ir,Gt),br=pt(ir,Gt,!0);if(rr in W&&br in D&&W[rr]!==D[br]){var Hr=qe(rr,br,Gt),cn=De(rr,br,ie[Hr].geometry);delete D[rr],delete W[br],W[pt(ir,ie[cn].geometry,!0)]=cn,ie[Hr].geometry=null}else rr in W?De(rr,br,Gt):br in D?qe(rr,br,Gt):(Ae(St),D[rr]=pe-1,W[br]=pe-1)}return ie.filter(function(tn){return tn.geometry})}var Yd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function MS(k){for(var D="",W=0;W<k.length;W++){var ie=k.charCodeAt(W+1)||null,pe=k.charCodeAt(W-1)||null,Ae=(!ie||!Gr(ie)||Yd[k[W+1]])&&(!pe||!Gr(pe)||Yd[k[W-1]]);Ae&&Yd[k[W]]?D+=Yd[k[W]]:D+=k[W]}return D}var Ko=24,ES=function(k,D,W,ie,pe){var Ae,De,qe=pe*8-ie-1,pt=(1<<qe)-1,St=pt>>1,kt=-7,Gt=W?pe-1:0,ir=W?-1:1,rr=k[D+Gt];for(Gt+=ir,Ae=rr&(1<<-kt)-1,rr>>=-kt,kt+=qe;kt>0;Ae=Ae*256+k[D+Gt],Gt+=ir,kt-=8);for(De=Ae&(1<<-kt)-1,Ae>>=-kt,kt+=ie;kt>0;De=De*256+k[D+Gt],Gt+=ir,kt-=8);if(Ae===0)Ae=1-St;else{if(Ae===pt)return De?NaN:(rr?-1:1)*(1/0);De=De+Math.pow(2,ie),Ae=Ae-St}return(rr?-1:1)*De*Math.pow(2,Ae-ie)},CS=function(k,D,W,ie,pe,Ae){var De,qe,pt,St=Ae*8-pe-1,kt=(1<<St)-1,Gt=kt>>1,ir=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,rr=ie?0:Ae-1,br=ie?1:-1,Hr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(qe=isNaN(D)?1:0,De=kt):(De=Math.floor(Math.log(D)/Math.LN2),D*(pt=Math.pow(2,-De))<1&&(De--,pt*=2),De+Gt>=1?D+=ir/pt:D+=ir*Math.pow(2,1-Gt),D*pt>=2&&(De++,pt/=2),De+Gt>=kt?(qe=0,De=kt):De+Gt>=1?(qe=(D*pt-1)*Math.pow(2,pe),De=De+Gt):(qe=D*Math.pow(2,Gt-1)*Math.pow(2,pe),De=0));pe>=8;k[W+rr]=qe&255,rr+=br,qe/=256,pe-=8);for(De=De<<pe|qe,St+=pe;St>0;k[W+rr]=De&255,rr+=br,De/=256,St-=8);k[W+rr-br]|=Hr*128},f0={read:ES,write:CS},c0=Di;function Di(k){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(k)?k:new Uint8Array(k||0),this.pos=0,this.type=0,this.length=this.buf.length}Di.Varint=0,Di.Fixed64=1,Di.Bytes=2,Di.Fixed32=5;var ky=65536*65536,Ob=1/ky,LS=12,Fb=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Di.prototype={destroy:function(){this.buf=null},readFields:function(k,D,W){for(W=W||this.length;this.pos<W;){var ie=this.readVarint(),pe=ie>>3,Ae=this.pos;this.type=ie&7,k(pe,D,this),this.pos===Ae&&this.skip(ie)}return D},readMessage:function(k,D){return this.readFields(k,D,this.readVarint()+this.pos)},readFixed32:function(){var k=h0(this.buf,this.pos);return this.pos+=4,k},readSFixed32:function(){var k=Bb(this.buf,this.pos);return this.pos+=4,k},readFixed64:function(){var k=h0(this.buf,this.pos)+h0(this.buf,this.pos+4)*ky;return this.pos+=8,k},readSFixed64:function(){var k=h0(this.buf,this.pos)+Bb(this.buf,this.pos+4)*ky;return this.pos+=8,k},readFloat:function(){var k=f0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,k},readDouble:function(){var k=f0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,k},readVarint:function(k){var D=this.buf,W,ie;return ie=D[this.pos++],W=ie&127,ie<128||(ie=D[this.pos++],W|=(ie&127)<<7,ie<128)||(ie=D[this.pos++],W|=(ie&127)<<14,ie<128)||(ie=D[this.pos++],W|=(ie&127)<<21,ie<128)?W:(ie=D[this.pos],W|=(ie&15)<<28,PS(W,k,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var k=this.readVarint();return k%2===1?(k+1)/-2:k/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var k=this.readVarint()+this.pos,D=this.pos;return this.pos=k,k-D>=LS&&Fb?GS(this.buf,D,k):VS(this.buf,D,k)},readBytes:function(){var k=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,k);return this.pos=k,D},readPackedVarint:function(k,D){if(this.type!==Di.Bytes)return k.push(this.readVarint(D));var W=oc(this);for(k=k||[];this.pos<W;)k.push(this.readVarint(D));return k},readPackedSVarint:function(k){if(this.type!==Di.Bytes)return k.push(this.readSVarint());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readSVarint());return k},readPackedBoolean:function(k){if(this.type!==Di.Bytes)return k.push(this.readBoolean());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readBoolean());return k},readPackedFloat:function(k){if(this.type!==Di.Bytes)return k.push(this.readFloat());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readFloat());return k},readPackedDouble:function(k){if(this.type!==Di.Bytes)return k.push(this.readDouble());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readDouble());return k},readPackedFixed32:function(k){if(this.type!==Di.Bytes)return k.push(this.readFixed32());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readFixed32());return k},readPackedSFixed32:function(k){if(this.type!==Di.Bytes)return k.push(this.readSFixed32());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readSFixed32());return k},readPackedFixed64:function(k){if(this.type!==Di.Bytes)return k.push(this.readFixed64());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readFixed64());return k},readPackedSFixed64:function(k){if(this.type!==Di.Bytes)return k.push(this.readSFixed64());var D=oc(this);for(k=k||[];this.pos<D;)k.push(this.readSFixed64());return k},skip:function(k){var D=k&7;if(D===Di.Varint)for(;this.buf[this.pos++]>127;);else if(D===Di.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Di.Fixed32)this.pos+=4;else if(D===Di.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(k,D){this.writeVarint(k<<3|D)},realloc:function(k){for(var D=this.length||16;D<this.pos+k;)D*=2;if(D!==this.length){var W=new Uint8Array(D);W.set(this.buf),this.buf=W,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(k){this.realloc(4),zv(this.buf,k,this.pos),this.pos+=4},writeSFixed32:function(k){this.realloc(4),zv(this.buf,k,this.pos),this.pos+=4},writeFixed64:function(k){this.realloc(8),zv(this.buf,k&-1,this.pos),zv(this.buf,Math.floor(k*Ob),this.pos+4),this.pos+=8},writeSFixed64:function(k){this.realloc(8),zv(this.buf,k&-1,this.pos),zv(this.buf,Math.floor(k*Ob),this.pos+4),this.pos+=8},writeVarint:function(k){if(k=+k||0,k>268435455||k<0){RS(k,this);return}this.realloc(4),this.buf[this.pos++]=k&127|(k>127?128:0),!(k<=127)&&(this.buf[this.pos++]=(k>>>=7)&127|(k>127?128:0),!(k<=127)&&(this.buf[this.pos++]=(k>>>=7)&127|(k>127?128:0),!(k<=127)&&(this.buf[this.pos++]=k>>>7&127)))},writeSVarint:function(k){this.writeVarint(k<0?-k*2-1:k*2)},writeBoolean:function(k){this.writeVarint(!!k)},writeString:function(k){k=String(k),this.realloc(k.length*4),this.pos++;var D=this.pos;this.pos=WS(this.buf,k,this.pos);var W=this.pos-D;W>=128&&Nb(D,W,this),this.pos=D-1,this.writeVarint(W),this.pos+=W},writeFloat:function(k){this.realloc(4),f0.write(this.buf,k,this.pos,!0,23,4),this.pos+=4},writeDouble:function(k){this.realloc(8),f0.write(this.buf,k,this.pos,!0,52,8),this.pos+=8},writeBytes:function(k){var D=k.length;this.writeVarint(D),this.realloc(D);for(var W=0;W<D;W++)this.buf[this.pos++]=k[W]},writeRawMessage:function(k,D){this.pos++;var W=this.pos;k(D,this);var ie=this.pos-W;ie>=128&&Nb(W,ie,this),this.pos=W-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(k,D,W){this.writeTag(k,Di.Bytes),this.writeRawMessage(D,W)},writePackedVarint:function(k,D){D.length&&this.writeMessage(k,IS,D)},writePackedSVarint:function(k,D){D.length&&this.writeMessage(k,_S,D)},writePackedBoolean:function(k,D){D.length&&this.writeMessage(k,FS,D)},writePackedFloat:function(k,D){D.length&&this.writeMessage(k,zS,D)},writePackedDouble:function(k,D){D.length&&this.writeMessage(k,OS,D)},writePackedFixed32:function(k,D){D.length&&this.writeMessage(k,NS,D)},writePackedSFixed32:function(k,D){D.length&&this.writeMessage(k,BS,D)},writePackedFixed64:function(k,D){D.length&&this.writeMessage(k,US,D)},writePackedSFixed64:function(k,D){D.length&&this.writeMessage(k,HS,D)},writeBytesField:function(k,D){this.writeTag(k,Di.Bytes),this.writeBytes(D)},writeFixed32Field:function(k,D){this.writeTag(k,Di.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(k,D){this.writeTag(k,Di.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(k,D){this.writeTag(k,Di.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(k,D){this.writeTag(k,Di.Fixed64),this.writeSFixed64(D)},writeVarintField:function(k,D){this.writeTag(k,Di.Varint),this.writeVarint(D)},writeSVarintField:function(k,D){this.writeTag(k,Di.Varint),this.writeSVarint(D)},writeStringField:function(k,D){this.writeTag(k,Di.Bytes),this.writeString(D)},writeFloatField:function(k,D){this.writeTag(k,Di.Fixed32),this.writeFloat(D)},writeDoubleField:function(k,D){this.writeTag(k,Di.Fixed64),this.writeDouble(D)},writeBooleanField:function(k,D){this.writeVarintField(k,!!D)}};function PS(k,D,W){var ie=W.buf,pe,Ae;if(Ae=ie[W.pos++],pe=(Ae&112)>>4,Ae<128||(Ae=ie[W.pos++],pe|=(Ae&127)<<3,Ae<128)||(Ae=ie[W.pos++],pe|=(Ae&127)<<10,Ae<128)||(Ae=ie[W.pos++],pe|=(Ae&127)<<17,Ae<128)||(Ae=ie[W.pos++],pe|=(Ae&127)<<24,Ae<128)||(Ae=ie[W.pos++],pe|=(Ae&1)<<31,Ae<128))return _v(k,pe,D);throw new Error("Expected varint not more than 10 bytes")}function oc(k){return k.type===Di.Bytes?k.readVarint()+k.pos:k.pos+1}function _v(k,D,W){return W?D*4294967296+(k>>>0):(D>>>0)*4294967296+(k>>>0)}function RS(k,D){var W,ie;if(k>=0?(W=k%4294967296|0,ie=k/4294967296|0):(W=~(-k%4294967296),ie=~(-k/4294967296),W^4294967295?W=W+1|0:(W=0,ie=ie+1|0)),k>=18446744073709552e3||k<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),kS(W,ie,D),DS(ie,D)}function kS(k,D,W){W.buf[W.pos++]=k&127|128,k>>>=7,W.buf[W.pos++]=k&127|128,k>>>=7,W.buf[W.pos++]=k&127|128,k>>>=7,W.buf[W.pos++]=k&127|128,k>>>=7,W.buf[W.pos]=k&127}function DS(k,D){var W=(k&7)<<4;D.buf[D.pos++]|=W|((k>>>=3)?128:0),k&&(D.buf[D.pos++]=k&127|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=k&127|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=k&127|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=k&127|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=k&127)))))}function Nb(k,D,W){var ie=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));W.realloc(ie);for(var pe=W.pos-1;pe>=k;pe--)W.buf[pe+ie]=W.buf[pe]}function IS(k,D){for(var W=0;W<k.length;W++)D.writeVarint(k[W])}function _S(k,D){for(var W=0;W<k.length;W++)D.writeSVarint(k[W])}function zS(k,D){for(var W=0;W<k.length;W++)D.writeFloat(k[W])}function OS(k,D){for(var W=0;W<k.length;W++)D.writeDouble(k[W])}function FS(k,D){for(var W=0;W<k.length;W++)D.writeBoolean(k[W])}function NS(k,D){for(var W=0;W<k.length;W++)D.writeFixed32(k[W])}function BS(k,D){for(var W=0;W<k.length;W++)D.writeSFixed32(k[W])}function US(k,D){for(var W=0;W<k.length;W++)D.writeFixed64(k[W])}function HS(k,D){for(var W=0;W<k.length;W++)D.writeSFixed64(k[W])}function h0(k,D){return(k[D]|k[D+1]<<8|k[D+2]<<16)+k[D+3]*16777216}function zv(k,D,W){k[W]=D,k[W+1]=D>>>8,k[W+2]=D>>>16,k[W+3]=D>>>24}function Bb(k,D){return(k[D]|k[D+1]<<8|k[D+2]<<16)+(k[D+3]<<24)}function VS(k,D,W){for(var ie="",pe=D;pe<W;){var Ae=k[pe],De=null,qe=Ae>239?4:Ae>223?3:Ae>191?2:1;if(pe+qe>W)break;var pt,St,kt;qe===1?Ae<128&&(De=Ae):qe===2?(pt=k[pe+1],(pt&192)===128&&(De=(Ae&31)<<6|pt&63,De<=127&&(De=null))):qe===3?(pt=k[pe+1],St=k[pe+2],(pt&192)===128&&(St&192)===128&&(De=(Ae&15)<<12|(pt&63)<<6|St&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):qe===4&&(pt=k[pe+1],St=k[pe+2],kt=k[pe+3],(pt&192)===128&&(St&192)===128&&(kt&192)===128&&(De=(Ae&15)<<18|(pt&63)<<12|(St&63)<<6|kt&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,qe=1):De>65535&&(De-=65536,ie+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ie+=String.fromCharCode(De),pe+=qe}return ie}function GS(k,D,W){return Fb.decode(k.subarray(D,W))}function WS(k,D,W){for(var ie=0,pe,Ae;ie<D.length;ie++){if(pe=D.charCodeAt(ie),pe>55295&&pe<57344)if(Ae)if(pe<56320){k[W++]=239,k[W++]=191,k[W++]=189,Ae=pe;continue}else pe=Ae-55296<<10|pe-56320|65536,Ae=null;else{pe>56319||ie+1===D.length?(k[W++]=239,k[W++]=191,k[W++]=189):Ae=pe;continue}else Ae&&(k[W++]=239,k[W++]=191,k[W++]=189,Ae=null);pe<128?k[W++]=pe:(pe<2048?k[W++]=pe>>6|192:(pe<65536?k[W++]=pe>>12|224:(k[W++]=pe>>18|240,k[W++]=pe>>12&63|128),k[W++]=pe>>6&63|128),k[W++]=pe&63|128)}return W}var Dy=3;function jS(k,D,W){k===1&&W.readMessage(YS,D)}function YS(k,D,W){if(k===3){var ie=W.readMessage(XS,{}),pe=ie.id,Ae=ie.bitmap,De=ie.width,qe=ie.height,pt=ie.left,St=ie.top,kt=ie.advance;D.push({id:pe,bitmap:new $h({width:De+2*Dy,height:qe+2*Dy},Ae),metrics:{width:De,height:qe,left:pt,top:St,advance:kt}})}}function XS(k,D,W){k===1?D.id=W.readVarint():k===2?D.bitmap=W.readBytes():k===3?D.width=W.readVarint():k===4?D.height=W.readVarint():k===5?D.left=W.readSVarint():k===6?D.top=W.readSVarint():k===7&&(D.advance=W.readVarint())}function ZS(k){return new c0(k).readFields(jS,[])}var Ub=Dy;function Hb(k){for(var D=0,W=0,ie=0,pe=k;ie<pe.length;ie+=1){var Ae=pe[ie];D+=Ae.w*Ae.h,W=Math.max(W,Ae.w)}k.sort(function(cn,tn){return tn.h-cn.h});for(var De=Math.max(Math.ceil(Math.sqrt(D/.95)),W),qe=[{x:0,y:0,w:De,h:1/0}],pt=0,St=0,kt=0,Gt=k;kt<Gt.length;kt+=1)for(var ir=Gt[kt],rr=qe.length-1;rr>=0;rr--){var br=qe[rr];if(!(ir.w>br.w||ir.h>br.h)){if(ir.x=br.x,ir.y=br.y,St=Math.max(St,ir.y+ir.h),pt=Math.max(pt,ir.x+ir.w),ir.w===br.w&&ir.h===br.h){var Hr=qe.pop();rr<qe.length&&(qe[rr]=Hr)}else ir.h===br.h?(br.x+=ir.w,br.w-=ir.w):ir.w===br.w?(br.y+=ir.h,br.h-=ir.h):(qe.push({x:br.x+ir.w,y:br.y,w:br.w-ir.w,h:ir.h}),br.y+=ir.h,br.h-=ir.h);break}}return{w:pt,h:St,fill:D/(pt*St)||0}}var Qs=1,v0=function(D,W){var ie=W.pixelRatio,pe=W.version,Ae=W.stretchX,De=W.stretchY,qe=W.content;this.paddedRect=D,this.pixelRatio=ie,this.stretchX=Ae,this.stretchY=De,this.content=qe,this.version=pe},Xd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Xd.tl.get=function(){return[this.paddedRect.x+Qs,this.paddedRect.y+Qs]},Xd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Qs,this.paddedRect.y+this.paddedRect.h-Qs]},Xd.tlbr.get=function(){return this.tl.concat(this.br)},Xd.displaySize.get=function(){return[(this.paddedRect.w-Qs*2)/this.pixelRatio,(this.paddedRect.h-Qs*2)/this.pixelRatio]},Object.defineProperties(v0.prototype,Xd);var Zd=function(D,W){var ie={},pe={};this.haveRenderCallbacks=[];var Ae=[];this.addImages(D,ie,Ae),this.addImages(W,pe,Ae);var De=Hb(Ae),qe=De.w,pt=De.h,St=new Fs({width:qe||1,height:pt||1});for(var kt in D){var Gt=D[kt],ir=ie[kt].paddedRect;Fs.copy(Gt.data,St,{x:0,y:0},{x:ir.x+Qs,y:ir.y+Qs},Gt.data)}for(var rr in W){var br=W[rr],Hr=pe[rr].paddedRect,cn=Hr.x+Qs,tn=Hr.y+Qs,En=br.data.width,bn=br.data.height;Fs.copy(br.data,St,{x:0,y:0},{x:cn,y:tn},br.data),Fs.copy(br.data,St,{x:0,y:bn-1},{x:cn,y:tn-1},{width:En,height:1}),Fs.copy(br.data,St,{x:0,y:0},{x:cn,y:tn+bn},{width:En,height:1}),Fs.copy(br.data,St,{x:En-1,y:0},{x:cn-1,y:tn},{width:1,height:bn}),Fs.copy(br.data,St,{x:0,y:0},{x:cn+En,y:tn},{width:1,height:bn})}this.image=St,this.iconPositions=ie,this.patternPositions=pe};Zd.prototype.addImages=function(D,W,ie){for(var pe in D){var Ae=D[pe],De={x:0,y:0,w:Ae.data.width+2*Qs,h:Ae.data.height+2*Qs};ie.push(De),W[pe]=new v0(De,Ae),Ae.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},Zd.prototype.patchUpdatedImages=function(D,W){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],D.getImage(ie),W),this.patchUpdatedImage(this.patternPositions[ie],D.getImage(ie),W)},Zd.prototype.patchUpdatedImage=function(D,W,ie){if(!(!D||!W)&&D.version!==W.version){D.version=W.version;var pe=D.tl,Ae=pe[0],De=pe[1];ie.update(W.data,void 0,{x:Ae,y:De})}},He("ImagePosition",v0),He("ImageAtlas",Zd);var pl={horizontal:1,vertical:2,horizontalOnly:3},Kd=-17;function KS(k){for(var D=0,W=k;D<W.length;D+=1){var ie=W[D];if(ie.positionedGlyphs.length!==0)return!1}return!0}var Vb=57344,Gb=63743,Ov=function(){this.scale=1,this.fontStack="",this.imageName=null};Ov.forText=function(D,W){var ie=new Ov;return ie.scale=D||1,ie.fontStack=W,ie},Ov.forImage=function(D){var W=new Ov;return W.imageName=D,W};var is=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};is.fromFeature=function(D,W){for(var ie=new is,pe=0;pe<D.sections.length;pe++){var Ae=D.sections[pe];Ae.image?ie.addImageSection(Ae):ie.addTextSection(Ae,W)}return ie},is.prototype.length=function(){return this.text.length},is.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},is.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},is.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},is.prototype.verticalizePunctuation=function(){this.text=MS(this.text)},is.prototype.trim=function(){for(var D=0,W=0;W<this.text.length&&Lf[this.text.charCodeAt(W)];W++)D++;for(var ie=this.text.length,pe=this.text.length-1;pe>=0&&pe>=D&&Lf[this.text.charCodeAt(pe)];pe--)ie--;this.text=this.text.substring(D,ie),this.sectionIndex=this.sectionIndex.slice(D,ie)},is.prototype.substring=function(D,W){var ie=new is;return ie.text=this.text.substring(D,W),ie.sectionIndex=this.sectionIndex.slice(D,W),ie.sections=this.sections,ie},is.prototype.toString=function(){return this.text},is.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(W,ie){return Math.max(W,D.sections[ie].scale)},0)},is.prototype.addTextSection=function(D,W){this.text+=D.text,this.sections.push(Ov.forText(D.scale,D.fontStack||W));for(var ie=this.sections.length-1,pe=0;pe<D.text.length;++pe)this.sectionIndex.push(ie)},is.prototype.addImageSection=function(D){var W=D.image?D.image.name:"";if(W.length===0){B("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){B("Reached maximum number of images "+(Gb-Vb+2));return}this.text+=String.fromCharCode(ie),this.sections.push(Ov.forImage(W)),this.sectionIndex.push(this.sections.length-1)},is.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Gb?null:++this.imageSectionID:(this.imageSectionID=Vb,this.imageSectionID)};function JS(k,D){for(var W=[],ie=k.text,pe=0,Ae=0,De=D;Ae<De.length;Ae+=1){var qe=De[Ae];W.push(k.substring(pe,qe)),pe=qe}return pe<ie.length&&W.push(k.substring(pe,ie.length)),W}function d0(k,D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr){var cn=is.fromFeature(k,pe);Gt===pl.vertical&&cn.verticalizePunctuation();var tn,En=ea.processBidirectionalText,bn=ea.processStyledBidirectionalText;if(En&&cn.sections.length===1){tn=[];for(var Mn=En(cn.toString(),Iy(cn,St,Ae,D,ie,rr,br)),On=0,Xn=Mn;On<Xn.length;On+=1){var oa=Xn[On],ra=new is;ra.text=oa,ra.sections=cn.sections;for(var Aa=0;Aa<oa.length;Aa++)ra.sectionIndex.push(0);tn.push(ra)}}else if(bn){tn=[];for(var ga=bn(cn.text,cn.sectionIndex,Iy(cn,St,Ae,D,ie,rr,br)),wa=0,Ha=ga;wa<Ha.length;wa+=1){var Sa=Ha[wa],La=new is;La.text=Sa[0],La.sectionIndex=Sa[1],La.sections=cn.sections,tn.push(La)}}else tn=JS(cn,Iy(cn,St,Ae,D,ie,rr,br));var Ya=[],Ba={positionedLines:Ya,text:cn.toString(),top:kt[1],bottom:kt[1],left:kt[0],right:kt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return qS(Ba,D,W,ie,tn,De,qe,pt,Gt,St,ir,Hr),KS(Ya)?!1:Ba}var Lf={};Lf[9]=!0,Lf[10]=!0,Lf[11]=!0,Lf[12]=!0,Lf[13]=!0,Lf[32]=!0;var $s={};$s[10]=!0,$s[32]=!0,$s[38]=!0,$s[40]=!0,$s[41]=!0,$s[43]=!0,$s[45]=!0,$s[47]=!0,$s[173]=!0,$s[183]=!0,$s[8203]=!0,$s[8208]=!0,$s[8211]=!0,$s[8231]=!0;function Wb(k,D,W,ie,pe,Ae){if(D.imageName){var pt=ie[D.imageName];return pt?pt.displaySize[0]*D.scale*Ko/Ae+pe:0}else{var De=W[D.fontStack],qe=De&&De[k];return qe?qe.metrics.advance*D.scale+pe:0}}function QS(k,D,W,ie,pe,Ae){for(var De=0,qe=0;qe<k.length();qe++){var pt=k.getSection(qe);De+=Wb(k.getCharCode(qe),pt,ie,pe,D,Ae)}var St=Math.max(1,Math.ceil(De/W));return De/St}function jb(k,D,W,ie){var pe=Math.pow(k-D,2);return ie?k<D?pe/2:pe*2:pe+Math.abs(W)*W}function $S(k,D,W){var ie=0;return k===10&&(ie-=1e4),W&&(ie+=150),(k===40||k===65288)&&(ie+=50),(D===41||D===65289)&&(ie+=50),ie}function Yb(k,D,W,ie,pe,Ae){for(var De=null,qe=jb(D,W,pe,Ae),pt=0,St=ie;pt<St.length;pt+=1){var kt=St[pt],Gt=D-kt.x,ir=jb(Gt,W,pe,Ae)+kt.badness;ir<=qe&&(De=kt,qe=ir)}return{index:k,x:D,priorBreak:De,badness:qe}}function Xb(k){return k?Xb(k.priorBreak).concat(k.index):[]}function Iy(k,D,W,ie,pe,Ae,De){if(Ae!=="point")return[];if(!k)return[];for(var qe=[],pt=QS(k,D,W,ie,pe,De),St=k.text.indexOf("​")>=0,kt=0,Gt=0;Gt<k.length();Gt++){var ir=k.getSection(Gt),rr=k.getCharCode(Gt);if(Lf[rr]||(kt+=Wb(rr,ir,ie,pe,D,De)),Gt<k.length()-1){var br=$r(rr);($s[rr]||br||ir.imageName)&&qe.push(Yb(Gt+1,kt,pt,qe,$S(rr,k.getCharCode(Gt+1),br&&St),!1))}}return Xb(Yb(k.length(),kt,pt,qe,0,!0))}function _y(k){var D=.5,W=.5;switch(k){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(k){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:D,verticalAlign:W}}function qS(k,D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt){for(var ir=0,rr=Kd,br=0,Hr=0,cn=qe==="right"?1:qe==="left"?0:.5,tn=0,En=0,bn=pe;En<bn.length;En+=1){var Mn=bn[En];Mn.trim();var On=Mn.getMaxScale(),Xn=(On-1)*Ko,oa={positionedGlyphs:[],lineOffset:0};k.positionedLines[tn]=oa;var ra=oa.positionedGlyphs,Aa=0;if(!Mn.length()){rr+=Ae,++tn;continue}for(var ga=0;ga<Mn.length();ga++){var wa=Mn.getSection(ga),Ha=Mn.getSectionIndex(ga),Sa=Mn.getCharCode(ga),La=0,Ya=null,Ba=null,vi=null,Mi=Ko,di=!(pt===pl.horizontal||!kt&&!ln(Sa)||kt&&(Lf[Sa]||Jr(Sa)));if(wa.imageName){var Ji=ie[wa.imageName];if(!Ji)continue;vi=wa.imageName,k.iconsInText=k.iconsInText||!0,Ba=Ji.paddedRect;var ao=Ji.displaySize;wa.scale=wa.scale*Ko/Gt,Ya={width:ao[0],height:ao[1],left:Qs,top:-Ub,advance:di?ao[1]:ao[0]};var Bo=Ko-ao[1]*wa.scale;La=Xn+Bo,Mi=Ya.advance;var So=di?ao[0]*wa.scale-Ko*On:ao[1]*wa.scale-Ko*On;So>0&&So>Aa&&(Aa=So)}else{var pi=W[wa.fontStack],li=pi&&pi[Sa];if(li&&li.rect)Ba=li.rect,Ya=li.metrics;else{var ki=D[wa.fontStack],Ii=ki&&ki[Sa];if(!Ii)continue;Ya=Ii.metrics}La=(On-wa.scale)*Ko}di?(k.verticalizable=!0,ra.push({glyph:Sa,imageName:vi,x:ir,y:rr+La,vertical:di,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Ha,metrics:Ya,rect:Ba}),ir+=Mi*wa.scale+St):(ra.push({glyph:Sa,imageName:vi,x:ir,y:rr+La,vertical:di,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Ha,metrics:Ya,rect:Ba}),ir+=Ya.advance*wa.scale+St)}if(ra.length!==0){var os=ir-St;br=Math.max(os,br),eM(ra,0,ra.length-1,cn,Aa)}ir=0;var ss=Ae*On+Aa;oa.lineOffset=Math.max(Aa,Xn),rr+=ss,Hr=Math.max(ss,Hr),++tn}var Uo=rr-Kd,Ts=_y(De),As=Ts.horizontalAlign,Do=Ts.verticalAlign;tM(k.positionedLines,cn,As,Do,br,Hr,Ae,Uo,pe.length),k.top+=-Do*Uo,k.bottom=k.top+Uo,k.left+=-As*br,k.right=k.left+br}function eM(k,D,W,ie,pe){if(!(!ie&&!pe))for(var Ae=k[W],De=Ae.metrics.advance*Ae.scale,qe=(k[W].x+De)*ie,pt=D;pt<=W;pt++)k[pt].x-=qe,k[pt].y+=pe}function tM(k,D,W,ie,pe,Ae,De,qe,pt){var St=(D-W)*pe,kt=0;Ae!==De?kt=-qe*ie-Kd:kt=(-ie*pt+.5)*De;for(var Gt=0,ir=k;Gt<ir.length;Gt+=1)for(var rr=ir[Gt],br=0,Hr=rr.positionedGlyphs;br<Hr.length;br+=1){var cn=Hr[br];cn.x+=St,cn.y+=kt}}function rM(k,D,W){var ie=_y(W),pe=ie.horizontalAlign,Ae=ie.verticalAlign,De=D[0],qe=D[1],pt=De-k.displaySize[0]*pe,St=pt+k.displaySize[0],kt=qe-k.displaySize[1]*Ae,Gt=kt+k.displaySize[1];return{image:k,top:kt,bottom:Gt,left:pt,right:St}}function Zb(k,D,W,ie,pe,Ae){var De=k.image,qe;if(De.content){var pt=De.content,St=De.pixelRatio||1;qe=[pt[0]/St,pt[1]/St,De.displaySize[0]-pt[2]/St,De.displaySize[1]-pt[3]/St]}var kt=D.left*Ae,Gt=D.right*Ae,ir,rr,br,Hr;W==="width"||W==="both"?(Hr=pe[0]+kt-ie[3],rr=pe[0]+Gt+ie[1]):(Hr=pe[0]+(kt+Gt-De.displaySize[0])/2,rr=Hr+De.displaySize[0]);var cn=D.top*Ae,tn=D.bottom*Ae;return W==="height"||W==="both"?(ir=pe[1]+cn-ie[0],br=pe[1]+tn+ie[2]):(ir=pe[1]+(cn+tn-De.displaySize[1])/2,br=ir+De.displaySize[1]),{image:De,top:ir,right:rr,bottom:br,left:Hr,collisionPadding:qe}}var Fv=function(k){function D(W,ie,pe,Ae){k.call(this,W,ie),this.angle=pe,Ae!==void 0&&(this.segment=Ae)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);He("Anchor",Fv);var $u=128;function zy(k,D){var W=D.expression;if(W.kind==="constant"){var ie=W.evaluate(new Ma(k+1));return{kind:"constant",layoutSize:ie}}else{if(W.kind==="source")return{kind:"source"};for(var pe=W.zoomStops,Ae=W.interpolationType,De=0;De<pe.length&&pe[De]<=k;)De++;De=Math.max(0,De-1);for(var qe=De;qe<pe.length&&pe[qe]<k+1;)qe++;qe=Math.min(pe.length-1,qe);var pt=pe[De],St=pe[qe];if(W.kind==="composite")return{kind:"composite",minZoom:pt,maxZoom:St,interpolationType:Ae};var kt=W.evaluate(new Ma(pt)),Gt=W.evaluate(new Ma(St));return{kind:"camera",minZoom:pt,maxZoom:St,minSize:kt,maxSize:Gt,interpolationType:Ae}}}function Kb(k,D,W){var ie=D.uSize,pe=D.uSizeT,Ae=W.lowerSize,De=W.upperSize;return k.kind==="source"?Ae/$u:k.kind==="composite"?Fi(Ae/$u,De/$u,pe):ie}function Jb(k,D){var W=0,ie=0;if(k.kind==="constant")ie=k.layoutSize;else if(k.kind!=="source"){var pe=k.interpolationType,Ae=k.minZoom,De=k.maxZoom,qe=pe?c(Vi.interpolationFactor(pe,D,Ae,De),0,1):0;k.kind==="camera"?ie=Fi(k.minSize,k.maxSize,qe):W=qe}return{uSizeT:W,uSize:ie}}var nM=Object.freeze({__proto__:null,getSizeData:zy,evaluateSizeForFeature:Kb,evaluateSizeForZoom:Jb,SIZE_PACK_FACTOR:$u});function Qb(k,D,W,ie,pe){if(D.segment===void 0)return!0;for(var Ae=D,De=D.segment+1,qe=0;qe>-W/2;){if(De--,De<0)return!1;qe-=k[De].dist(Ae),Ae=k[De]}qe+=k[De].dist(k[De+1]),De++;for(var pt=[],St=0;qe<W/2;){var kt=k[De-1],Gt=k[De],ir=k[De+1];if(!ir)return!1;var rr=kt.angleTo(Gt)-Gt.angleTo(ir);for(rr=Math.abs((rr+3*Math.PI)%(Math.PI*2)-Math.PI),pt.push({distance:qe,angleDelta:rr}),St+=rr;qe-pt[0].distance>ie;)St-=pt.shift().angleDelta;if(St>pe)return!1;De++,qe+=Gt.dist(ir)}return!0}function $b(k){for(var D=0,W=0;W<k.length-1;W++)D+=k[W].dist(k[W+1]);return D}function qb(k,D,W){return k?.6*D*W:0}function e3(k,D){return Math.max(k?k.right-k.left:0,D?D.right-D.left:0)}function aM(k,D,W,ie,pe,Ae){for(var De=qb(W,pe,Ae),qe=e3(W,ie)*Ae,pt=0,St=$b(k)/2,kt=0;kt<k.length-1;kt++){var Gt=k[kt],ir=k[kt+1],rr=Gt.dist(ir);if(pt+rr>St){var br=(St-pt)/rr,Hr=Fi(Gt.x,ir.x,br),cn=Fi(Gt.y,ir.y,br),tn=new Fv(Hr,cn,ir.angleTo(Gt),kt);return tn._round(),!De||Qb(k,tn,qe,De,D)?tn:void 0}pt+=rr}}function iM(k,D,W,ie,pe,Ae,De,qe,pt){var St=qb(ie,Ae,De),kt=e3(ie,pe),Gt=kt*De,ir=k[0].x===0||k[0].x===pt||k[0].y===0||k[0].y===pt;D-Gt<D/4&&(D=Gt+D/4);var rr=Ae*2,br=ir?D/2*qe%D:(kt/2+rr)*De*qe%D;return t3(k,br,D,St,W,Gt,ir,!1,pt)}function t3(k,D,W,ie,pe,Ae,De,qe,pt){for(var St=Ae/2,kt=$b(k),Gt=0,ir=D-W,rr=[],br=0;br<k.length-1;br++){for(var Hr=k[br],cn=k[br+1],tn=Hr.dist(cn),En=cn.angleTo(Hr);ir+W<Gt+tn;){ir+=W;var bn=(ir-Gt)/tn,Mn=Fi(Hr.x,cn.x,bn),On=Fi(Hr.y,cn.y,bn);if(Mn>=0&&Mn<pt&&On>=0&&On<pt&&ir-St>=0&&ir+St<=kt){var Xn=new Fv(Mn,On,En,br);Xn._round(),(!ie||Qb(k,Xn,Ae,ie,pe))&&rr.push(Xn)}}Gt+=tn}return!qe&&!rr.length&&!De&&(rr=t3(k,Gt/2,W,ie,pe,Ae,De,!0,pt)),rr}function r3(k,D,W,ie,pe){for(var Ae=[],De=0;De<k.length;De++)for(var qe=k[De],pt=void 0,St=0;St<qe.length-1;St++){var kt=qe[St],Gt=qe[St+1];kt.x<D&&Gt.x<D||(kt.x<D?kt=new r(D,kt.y+(Gt.y-kt.y)*((D-kt.x)/(Gt.x-kt.x)))._round():Gt.x<D&&(Gt=new r(D,kt.y+(Gt.y-kt.y)*((D-kt.x)/(Gt.x-kt.x)))._round()),!(kt.y<W&&Gt.y<W)&&(kt.y<W?kt=new r(kt.x+(Gt.x-kt.x)*((W-kt.y)/(Gt.y-kt.y)),W)._round():Gt.y<W&&(Gt=new r(kt.x+(Gt.x-kt.x)*((W-kt.y)/(Gt.y-kt.y)),W)._round()),!(kt.x>=ie&&Gt.x>=ie)&&(kt.x>=ie?kt=new r(ie,kt.y+(Gt.y-kt.y)*((ie-kt.x)/(Gt.x-kt.x)))._round():Gt.x>=ie&&(Gt=new r(ie,kt.y+(Gt.y-kt.y)*((ie-kt.x)/(Gt.x-kt.x)))._round()),!(kt.y>=pe&&Gt.y>=pe)&&(kt.y>=pe?kt=new r(kt.x+(Gt.x-kt.x)*((pe-kt.y)/(Gt.y-kt.y)),pe)._round():Gt.y>=pe&&(Gt=new r(kt.x+(Gt.x-kt.x)*((pe-kt.y)/(Gt.y-kt.y)),pe)._round()),(!pt||!kt.equals(pt[pt.length-1]))&&(pt=[kt],Ae.push(pt)),pt.push(Gt)))))}return Ae}var Nv=Qs;function n3(k,D,W,ie){var pe=[],Ae=k.image,De=Ae.pixelRatio,qe=Ae.paddedRect.w-2*Nv,pt=Ae.paddedRect.h-2*Nv,St=k.right-k.left,kt=k.bottom-k.top,Gt=Ae.stretchX||[[0,qe]],ir=Ae.stretchY||[[0,pt]],rr=function(pi,li){return pi+li[1]-li[0]},br=Gt.reduce(rr,0),Hr=ir.reduce(rr,0),cn=qe-br,tn=pt-Hr,En=0,bn=br,Mn=0,On=Hr,Xn=0,oa=cn,ra=0,Aa=tn;if(Ae.content&&ie){var ga=Ae.content;En=p0(Gt,0,ga[0]),Mn=p0(ir,0,ga[1]),bn=p0(Gt,ga[0],ga[2]),On=p0(ir,ga[1],ga[3]),Xn=ga[0]-En,ra=ga[1]-Mn,oa=ga[2]-ga[0]-bn,Aa=ga[3]-ga[1]-On}var wa=function(pi,li,ki,Ii){var Ji=g0(pi.stretch-En,bn,St,k.left),ao=y0(pi.fixed-Xn,oa,pi.stretch,br),Bo=g0(li.stretch-Mn,On,kt,k.top),So=y0(li.fixed-ra,Aa,li.stretch,Hr),os=g0(ki.stretch-En,bn,St,k.left),ss=y0(ki.fixed-Xn,oa,ki.stretch,br),Uo=g0(Ii.stretch-Mn,On,kt,k.top),Ts=y0(Ii.fixed-ra,Aa,Ii.stretch,Hr),As=new r(Ji,Bo),Do=new r(os,Bo),Ss=new r(os,Uo),yl=new r(Ji,Uo),uc=new r(ao/De,So/De),nh=new r(ss/De,Ts/De),ah=D*Math.PI/180;if(ah){var ih=Math.sin(ah),Yv=Math.cos(ah),pu=[Yv,-ih,ih,Yv];As._matMult(pu),Do._matMult(pu),yl._matMult(pu),Ss._matMult(pu)}var A0=pi.stretch+pi.fixed,Gy=ki.stretch+ki.fixed,S0=li.stretch+li.fixed,Wy=Ii.stretch+Ii.fixed,Nl={x:Ae.paddedRect.x+Nv+A0,y:Ae.paddedRect.y+Nv+S0,w:Gy-A0,h:Wy-S0},Xv=oa/De/St,M0=Aa/De/kt;return{tl:As,tr:Do,bl:yl,br:Ss,tex:Nl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:uc,pixelOffsetBR:nh,minFontScaleX:Xv,minFontScaleY:M0,isSDF:W}};if(!ie||!Ae.stretchX&&!Ae.stretchY)pe.push(wa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:qe+1},{fixed:0,stretch:pt+1}));else for(var Ha=a3(Gt,cn,br),Sa=a3(ir,tn,Hr),La=0;La<Ha.length-1;La++)for(var Ya=Ha[La],Ba=Ha[La+1],vi=0;vi<Sa.length-1;vi++){var Mi=Sa[vi],di=Sa[vi+1];pe.push(wa(Ya,Mi,Ba,di))}return pe}function p0(k,D,W){for(var ie=0,pe=0,Ae=k;pe<Ae.length;pe+=1){var De=Ae[pe];ie+=Math.max(D,Math.min(W,De[1]))-Math.max(D,Math.min(W,De[0]))}return ie}function a3(k,D,W){for(var ie=[{fixed:-Nv,stretch:0}],pe=0,Ae=k;pe<Ae.length;pe+=1){var De=Ae[pe],qe=De[0],pt=De[1],St=ie[ie.length-1];ie.push({fixed:qe-St.stretch,stretch:St.stretch}),ie.push({fixed:qe-St.stretch,stretch:St.stretch+(pt-qe)})}return ie.push({fixed:D+Nv,stretch:W}),ie}function g0(k,D,W,ie){return k/D*W+ie}function y0(k,D,W,ie){return k-D*W/ie}function oM(k,D,W,ie,pe,Ae,De,qe){for(var pt=ie.layout.get("text-rotate").evaluate(Ae,{})*Math.PI/180,St=[],kt=0,Gt=D.positionedLines;kt<Gt.length;kt+=1)for(var ir=Gt[kt],rr=0,br=ir.positionedGlyphs;rr<br.length;rr+=1){var Hr=br[rr];if(Hr.rect){var cn=Hr.rect||{},tn=1,En=Ub+tn,bn=!0,Mn=1,On=0,Xn=(pe||qe)&&Hr.vertical,oa=Hr.metrics.advance*Hr.scale/2;if(qe&&D.verticalizable){var ra=(Hr.scale-1)*Ko,Aa=(Ko-Hr.metrics.width*Hr.scale)/2;On=ir.lineOffset/2-(Hr.imageName?-Aa:ra)}if(Hr.imageName){var ga=De[Hr.imageName];bn=ga.sdf,Mn=ga.pixelRatio,En=Qs/Mn}var wa=pe?[Hr.x+oa,Hr.y]:[0,0],Ha=pe?[0,0]:[Hr.x+oa+W[0],Hr.y+W[1]-On],Sa=[0,0];Xn&&(Sa=Ha,Ha=[0,0]);var La=(Hr.metrics.left-En)*Hr.scale-oa+Ha[0],Ya=(-Hr.metrics.top-En)*Hr.scale+Ha[1],Ba=La+cn.w*Hr.scale/Mn,vi=Ya+cn.h*Hr.scale/Mn,Mi=new r(La,Ya),di=new r(Ba,Ya),pi=new r(La,vi),li=new r(Ba,vi);if(Xn){var ki=new r(-oa,oa-Kd),Ii=-Math.PI/2,Ji=Ko/2-oa,ao=Hr.imageName?Ji:0,Bo=new r(5-Kd-Ji,-ao),So=new(Function.prototype.bind.apply(r,[null].concat(Sa)));Mi._rotateAround(Ii,ki)._add(Bo)._add(So),di._rotateAround(Ii,ki)._add(Bo)._add(So),pi._rotateAround(Ii,ki)._add(Bo)._add(So),li._rotateAround(Ii,ki)._add(Bo)._add(So)}if(pt){var os=Math.sin(pt),ss=Math.cos(pt),Uo=[ss,-os,os,ss];Mi._matMult(Uo),di._matMult(Uo),pi._matMult(Uo),li._matMult(Uo)}var Ts=new r(0,0),As=new r(0,0),Do=0,Ss=0;St.push({tl:Mi,tr:di,bl:pi,br:li,tex:cn,writingMode:D.writingMode,glyphOffset:wa,sectionIndex:Hr.sectionIndex,isSDF:bn,pixelOffsetTL:Ts,pixelOffsetBR:As,minFontScaleX:Do,minFontScaleY:Ss})}}return St}var m0=function(D,W,ie,pe,Ae,De,qe,pt,St,kt){if(this.boxStartIndex=D.length,St){var Gt=De.top,ir=De.bottom,rr=De.collisionPadding;rr&&(Gt-=rr[1],ir+=rr[3]);var br=ir-Gt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Hr=De.top*qe-pt,cn=De.bottom*qe+pt,tn=De.left*qe-pt,En=De.right*qe+pt,bn=De.collisionPadding;if(bn&&(tn-=bn[0]*qe,Hr-=bn[1]*qe,En+=bn[2]*qe,cn+=bn[3]*qe),kt){var Mn=new r(tn,Hr),On=new r(En,Hr),Xn=new r(tn,cn),oa=new r(En,cn),ra=kt*Math.PI/180;Mn._rotate(ra),On._rotate(ra),Xn._rotate(ra),oa._rotate(ra),tn=Math.min(Mn.x,On.x,Xn.x,oa.x),En=Math.max(Mn.x,On.x,Xn.x,oa.x),Hr=Math.min(Mn.y,On.y,Xn.y,oa.y),cn=Math.max(Mn.y,On.y,Xn.y,oa.y)}D.emplaceBack(W.x,W.y,tn,Hr,En,cn,ie,pe,Ae)}this.boxEndIndex=D.length},Bv=function(D,W){if(D===void 0&&(D=[]),W===void 0&&(W=sM),this.data=D,this.length=this.data.length,this.compare=W,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};Bv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Bv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),D}},Bv.prototype.peek=function(){return this.data[0]},Bv.prototype._up=function(D){for(var W=this,ie=W.data,pe=W.compare,Ae=ie[D];D>0;){var De=D-1>>1,qe=ie[De];if(pe(Ae,qe)>=0)break;ie[D]=qe,D=De}ie[D]=Ae},Bv.prototype._down=function(D){for(var W=this,ie=W.data,pe=W.compare,Ae=this.length>>1,De=ie[D];D<Ae;){var qe=(D<<1)+1,pt=ie[qe],St=qe+1;if(St<this.length&&pe(ie[St],pt)<0&&(qe=St,pt=ie[St]),pe(pt,De)>=0)break;ie[D]=pt,D=qe}ie[D]=De};function sM(k,D){return k<D?-1:k>D?1:0}function lM(k,D,W){W===void 0&&(W=!1);for(var ie=1/0,pe=1/0,Ae=-1/0,De=-1/0,qe=k[0],pt=0;pt<qe.length;pt++){var St=qe[pt];(!pt||St.x<ie)&&(ie=St.x),(!pt||St.y<pe)&&(pe=St.y),(!pt||St.x>Ae)&&(Ae=St.x),(!pt||St.y>De)&&(De=St.y)}var kt=Ae-ie,Gt=De-pe,ir=Math.min(kt,Gt),rr=ir/2,br=new Bv([],uM);if(ir===0)return new r(ie,pe);for(var Hr=ie;Hr<Ae;Hr+=ir)for(var cn=pe;cn<De;cn+=ir)br.push(new Uv(Hr+rr,cn+rr,rr,k));for(var tn=cM(k),En=br.length;br.length;){var bn=br.pop();(bn.d>tn.d||!tn.d)&&(tn=bn,W&&console.log("found best %d after %d probes",Math.round(1e4*bn.d)/1e4,En)),!(bn.max-tn.d<=D)&&(rr=bn.h/2,br.push(new Uv(bn.p.x-rr,bn.p.y-rr,rr,k)),br.push(new Uv(bn.p.x+rr,bn.p.y-rr,rr,k)),br.push(new Uv(bn.p.x-rr,bn.p.y+rr,rr,k)),br.push(new Uv(bn.p.x+rr,bn.p.y+rr,rr,k)),En+=4)}return W&&(console.log("num probes: "+En),console.log("best distance: "+tn.d)),tn.p}function uM(k,D){return D.max-k.max}function Uv(k,D,W,ie){this.p=new r(k,D),this.h=W,this.d=fM(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function fM(k,D){for(var W=!1,ie=1/0,pe=0;pe<D.length;pe++)for(var Ae=D[pe],De=0,qe=Ae.length,pt=qe-1;De<qe;pt=De++){var St=Ae[De],kt=Ae[pt];St.y>k.y!=kt.y>k.y&&k.x<(kt.x-St.x)*(k.y-St.y)/(kt.y-St.y)+St.x&&(W=!W),ie=Math.min(ie,ic(k,St,kt))}return(W?1:-1)*Math.sqrt(ie)}function cM(k){for(var D=0,W=0,ie=0,pe=k[0],Ae=0,De=pe.length,qe=De-1;Ae<De;qe=Ae++){var pt=pe[Ae],St=pe[qe],kt=pt.x*St.y-St.x*pt.y;W+=(pt.x+St.x)*kt,ie+=(pt.y+St.y)*kt,D+=kt*3}return new Uv(W/D,ie/D,0,k)}var Hv=7,Oy=Number.POSITIVE_INFINITY;function i3(k,D){function W(pe,Ae){var De=0,qe=0;Ae<0&&(Ae=0);var pt=Ae/Math.sqrt(2);switch(pe){case"top-right":case"top-left":qe=pt-Hv;break;case"bottom-right":case"bottom-left":qe=-pt+Hv;break;case"bottom":qe=-Ae+Hv;break;case"top":qe=Ae-Hv;break}switch(pe){case"top-right":case"bottom-right":De=-pt;break;case"top-left":case"bottom-left":De=pt;break;case"left":De=Ae;break;case"right":De=-Ae;break}return[De,qe]}function ie(pe,Ae,De){var qe=0,pt=0;switch(Ae=Math.abs(Ae),De=Math.abs(De),pe){case"top-right":case"top-left":case"top":pt=De-Hv;break;case"bottom-right":case"bottom-left":case"bottom":pt=-De+Hv;break}switch(pe){case"top-right":case"bottom-right":case"right":qe=-Ae;break;case"top-left":case"bottom-left":case"left":qe=Ae;break}return[qe,pt]}return D[1]!==Oy?ie(k,D[0],D[1]):W(k,D[0])}function hM(k,D,W,ie,pe,Ae,De){k.createArrays();var qe=512*k.overscaling;k.tilePixelRatio=Ea/qe,k.compareText={},k.iconsNeedLinear=!1;var pt=k.layers[0].layout,St=k.layers[0]._unevaluatedLayout._values,kt={};if(k.textSizeData.kind==="composite"){var Gt=k.textSizeData,ir=Gt.minZoom,rr=Gt.maxZoom;kt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Ma(ir),De),St["text-size"].possiblyEvaluate(new Ma(rr),De)]}if(k.iconSizeData.kind==="composite"){var br=k.iconSizeData,Hr=br.minZoom,cn=br.maxZoom;kt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Ma(Hr),De),St["icon-size"].possiblyEvaluate(new Ma(cn),De)]}kt.layoutTextSize=St["text-size"].possiblyEvaluate(new Ma(k.zoom+1),De),kt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Ma(k.zoom+1),De),kt.textMaxSize=St["text-size"].possiblyEvaluate(new Ma(18));for(var tn=pt.get("text-line-height")*Ko,En=pt.get("text-rotation-alignment")==="map"&&pt.get("symbol-placement")!=="point",bn=pt.get("text-keep-upright"),Mn=pt.get("text-size"),On=function(){var ra=oa[Xn],Aa=pt.get("text-font").evaluate(ra,{},De).join(","),ga=Mn.evaluate(ra,{},De),wa=kt.layoutTextSize.evaluate(ra,{},De),Ha=kt.layoutIconSize.evaluate(ra,{},De),Sa={horizontal:{},vertical:void 0},La=ra.text,Ya=[0,0];if(La){var Ba=La.toString(),vi=pt.get("text-letter-spacing").evaluate(ra,{},De)*Ko,Mi=Rr(Ba)?vi:0,di=pt.get("text-anchor").evaluate(ra,{},De),pi=pt.get("text-variable-anchor");if(!pi){var li=pt.get("text-radial-offset").evaluate(ra,{},De);li?Ya=i3(di,[li*Ko,Oy]):Ya=pt.get("text-offset").evaluate(ra,{},De).map(function(uc){return uc*Ko})}var ki=En?"center":pt.get("text-justify").evaluate(ra,{},De),Ii=pt.get("symbol-placement"),Ji=Ii==="point"?pt.get("text-max-width").evaluate(ra,{},De)*Ko:0,ao=function(){k.allowVerticalPlacement&&ar(Ba)&&(Sa.vertical=d0(La,D,W,pe,Aa,Ji,tn,di,"left",Mi,Ya,pl.vertical,!0,Ii,wa,ga))};if(!En&&pi){for(var Bo=ki==="auto"?pi.map(function(uc){return Fy(uc)}):[ki],So=!1,os=0;os<Bo.length;os++){var ss=Bo[os];if(!Sa.horizontal[ss])if(So)Sa.horizontal[ss]=Sa.horizontal[0];else{var Uo=d0(La,D,W,pe,Aa,Ji,tn,"center",ss,Mi,Ya,pl.horizontal,!1,Ii,wa,ga);Uo&&(Sa.horizontal[ss]=Uo,So=Uo.positionedLines.length===1)}}ao()}else{ki==="auto"&&(ki=Fy(di));var Ts=d0(La,D,W,pe,Aa,Ji,tn,di,ki,Mi,Ya,pl.horizontal,!1,Ii,wa,ga);Ts&&(Sa.horizontal[ki]=Ts),ao(),ar(Ba)&&En&&bn&&(Sa.vertical=d0(La,D,W,pe,Aa,Ji,tn,di,ki,Mi,Ya,pl.vertical,!1,Ii,wa,ga))}}var As=void 0,Do=!1;if(ra.icon&&ra.icon.name){var Ss=ie[ra.icon.name];Ss&&(As=rM(pe[ra.icon.name],pt.get("icon-offset").evaluate(ra,{},De),pt.get("icon-anchor").evaluate(ra,{},De)),Do=Ss.sdf,k.sdfIcons===void 0?k.sdfIcons=Ss.sdf:k.sdfIcons!==Ss.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ss.pixelRatio!==k.pixelRatio||pt.get("icon-rotate").constantOr(1)!==0)&&(k.iconsNeedLinear=!0))}var yl=s3(Sa.horizontal)||Sa.vertical;k.iconsInText=yl?yl.iconsInText:!1,(yl||As)&&vM(k,ra,Sa,As,ie,kt,wa,Ha,Ya,Do,De)},Xn=0,oa=k.features;Xn<oa.length;Xn+=1)On();Ae&&k.generateCollisionDebugBuffers()}function Fy(k){switch(k){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function vM(k,D,W,ie,pe,Ae,De,qe,pt,St,kt){var Gt=Ae.textMaxSize.evaluate(D,{});Gt===void 0&&(Gt=De);var ir=k.layers[0].layout,rr=ir.get("icon-offset").evaluate(D,{},kt),br=s3(W.horizontal),Hr=24,cn=De/Hr,tn=k.tilePixelRatio*cn,En=k.tilePixelRatio*Gt/Hr,bn=k.tilePixelRatio*qe,Mn=k.tilePixelRatio*ir.get("symbol-spacing"),On=ir.get("text-padding")*k.tilePixelRatio,Xn=ir.get("icon-padding")*k.tilePixelRatio,oa=ir.get("text-max-angle")/180*Math.PI,ra=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Aa=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",ga=ir.get("symbol-placement"),wa=Mn/2,Ha=ir.get("icon-text-fit"),Sa;ie&&Ha!=="none"&&(k.allowVerticalPlacement&&W.vertical&&(Sa=Zb(ie,W.vertical,Ha,ir.get("icon-text-fit-padding"),rr,cn)),br&&(ie=Zb(ie,br,Ha,ir.get("icon-text-fit-padding"),rr,cn)));var La=function(Yv,pu){pu.x<0||pu.x>=Ea||pu.y<0||pu.y>=Ea||dM(k,pu,Yv,W,ie,pe,Sa,k.layers[0],k.collisionBoxArray,D.index,D.sourceLayerIndex,k.index,tn,On,ra,pt,bn,Xn,Aa,rr,D,Ae,St,kt,De)};if(ga==="line")for(var Ya=0,Ba=r3(D.geometry,0,0,Ea,Ea);Ya<Ba.length;Ya+=1)for(var vi=Ba[Ya],Mi=iM(vi,Mn,oa,W.vertical||br,ie,Hr,En,k.overscaling,Ea),di=0,pi=Mi;di<pi.length;di+=1){var li=pi[di],ki=br;(!ki||!pM(k,ki.text,wa,li))&&La(vi,li)}else if(ga==="line-center")for(var Ii=0,Ji=D.geometry;Ii<Ji.length;Ii+=1){var ao=Ji[Ii];if(ao.length>1){var Bo=aM(ao,oa,W.vertical||br,ie,Hr,En);Bo&&La(ao,Bo)}}else if(D.type==="Polygon")for(var So=0,os=Cy(D.geometry,0);So<os.length;So+=1){var ss=os[So],Uo=lM(ss,16);La(ss[0],new Fv(Uo.x,Uo.y,0))}else if(D.type==="LineString")for(var Ts=0,As=D.geometry;Ts<As.length;Ts+=1){var Do=As[Ts];La(Do,new Fv(Do[0].x,Do[0].y,0))}else if(D.type==="Point")for(var Ss=0,yl=D.geometry;Ss<yl.length;Ss+=1)for(var uc=yl[Ss],nh=0,ah=uc;nh<ah.length;nh+=1){var ih=ah[nh];La([ih],new Fv(ih.x,ih.y,0))}}var Jd=255,th=Jd*$u;function o3(k,D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br){var Hr=oM(D,W,qe,pe,Ae,De,ie,k.allowVerticalPlacement),cn=k.textSizeData,tn=null;cn.kind==="source"?(tn=[$u*pe.layout.get("text-size").evaluate(De,{})],tn[0]>th&&B(k.layerIds[0]+': Value for "text-size" is >= '+Jd+'. Reduce your "text-size".')):cn.kind==="composite"&&(tn=[$u*rr.compositeTextSizes[0].evaluate(De,{},br),$u*rr.compositeTextSizes[1].evaluate(De,{},br)],(tn[0]>th||tn[1]>th)&&B(k.layerIds[0]+': Value for "text-size" is >= '+Jd+'. Reduce your "text-size".')),k.addSymbols(k.text,Hr,tn,qe,Ae,De,St,D,pt.lineStartIndex,pt.lineLength,ir,br);for(var En=0,bn=kt;En<bn.length;En+=1){var Mn=bn[En];Gt[Mn]=k.text.placedSymbolArray.length-1}return Hr.length*4}function s3(k){for(var D in k)return k[D];return null}function dM(k,D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir,rr,br,Hr,cn,tn,En,bn,Mn,On,Xn,oa,ra){var Aa,ga=k.addToLineVertexArray(D,W),wa,Ha,Sa,La,Ya=0,Ba=0,vi=0,Mi=0,di=-1,pi=-1,li={},ki=ye(""),Ii=0,Ji=0;if(qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Aa=qe.layout.get("text-offset").evaluate(Mn,{},oa).map(function(qd){return qd*Ko}),Ii=Aa[0],Ji=Aa[1]):(Ii=qe.layout.get("text-radial-offset").evaluate(Mn,{},oa)*Ko,Ji=Oy),k.allowVerticalPlacement&&ie.vertical){var ao=qe.layout.get("text-rotate").evaluate(Mn,{},oa),Bo=ao+90,So=ie.vertical;Sa=new m0(pt,D,St,kt,Gt,So,ir,rr,br,Bo),De&&(La=new m0(pt,D,St,kt,Gt,De,cn,tn,br,Bo))}if(pe){var os=qe.layout.get("icon-rotate").evaluate(Mn,{}),ss=qe.layout.get("icon-text-fit")!=="none",Uo=n3(pe,os,Xn,ss),Ts=De?n3(De,os,Xn,ss):void 0;Ha=new m0(pt,D,St,kt,Gt,pe,cn,tn,!1,os),Ya=Uo.length*4;var As=k.iconSizeData,Do=null;As.kind==="source"?(Do=[$u*qe.layout.get("icon-size").evaluate(Mn,{})],Do[0]>th&&B(k.layerIds[0]+': Value for "icon-size" is >= '+Jd+'. Reduce your "icon-size".')):As.kind==="composite"&&(Do=[$u*On.compositeIconSizes[0].evaluate(Mn,{},oa),$u*On.compositeIconSizes[1].evaluate(Mn,{},oa)],(Do[0]>th||Do[1]>th)&&B(k.layerIds[0]+': Value for "icon-size" is >= '+Jd+'. Reduce your "icon-size".')),k.addSymbols(k.icon,Uo,Do,bn,En,Mn,!1,D,ga.lineStartIndex,ga.lineLength,-1,oa),di=k.icon.placedSymbolArray.length-1,Ts&&(Ba=Ts.length*4,k.addSymbols(k.icon,Ts,Do,bn,En,Mn,pl.vertical,D,ga.lineStartIndex,ga.lineLength,-1,oa),pi=k.icon.placedSymbolArray.length-1)}for(var Ss in ie.horizontal){var yl=ie.horizontal[Ss];if(!wa){ki=ye(yl.text);var uc=qe.layout.get("text-rotate").evaluate(Mn,{},oa);wa=new m0(pt,D,St,kt,Gt,yl,ir,rr,br,uc)}var nh=yl.positionedLines.length===1;if(vi+=o3(k,D,yl,Ae,qe,br,Mn,Hr,ga,ie.vertical?pl.horizontal:pl.horizontalOnly,nh?Object.keys(ie.horizontal):[Ss],li,di,On,oa),nh)break}ie.vertical&&(Mi+=o3(k,D,ie.vertical,Ae,qe,br,Mn,Hr,ga,pl.vertical,["vertical"],li,pi,On,oa));var ah=wa?wa.boxStartIndex:k.collisionBoxArray.length,ih=wa?wa.boxEndIndex:k.collisionBoxArray.length,Yv=Sa?Sa.boxStartIndex:k.collisionBoxArray.length,pu=Sa?Sa.boxEndIndex:k.collisionBoxArray.length,A0=Ha?Ha.boxStartIndex:k.collisionBoxArray.length,Gy=Ha?Ha.boxEndIndex:k.collisionBoxArray.length,S0=La?La.boxStartIndex:k.collisionBoxArray.length,Wy=La?La.boxEndIndex:k.collisionBoxArray.length,Nl=-1,Xv=function(qd,A3){return qd&&qd.circleDiameter?Math.max(qd.circleDiameter,A3):A3};Nl=Xv(wa,Nl),Nl=Xv(Sa,Nl),Nl=Xv(Ha,Nl),Nl=Xv(La,Nl);var M0=Nl>-1?1:0;M0&&(Nl*=ra/Ko),k.glyphOffsetArray.length>=Si.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&k.addToSortKeyRanges(k.symbolInstances.length,Mn.sortKey),k.symbolInstances.emplaceBack(D.x,D.y,li.right>=0?li.right:-1,li.center>=0?li.center:-1,li.left>=0?li.left:-1,li.vertical||-1,di,pi,ki,ah,ih,Yv,pu,A0,Gy,S0,Wy,St,vi,Mi,Ya,Ba,M0,0,ir,Ii,Ji,Nl)}function pM(k,D,W,ie){var pe=k.compareText;if(!(D in pe))pe[D]=[];else for(var Ae=pe[D],De=Ae.length-1;De>=0;De--)if(ie.dist(Ae[De])<W)return!0;return pe[D].push(ie),!1}var gM=Iv.VectorTileFeature.types,yM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function x0(k,D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir){var rr=qe?Math.min(th,Math.round(qe[0])):0,br=qe?Math.min(th,Math.round(qe[1])):0;k.emplaceBack(D,W,Math.round(ie*32),Math.round(pe*32),Ae,De,(rr<<1)+(pt?1:0),br,St*16,kt*16,Gt*256,ir*256)}function Ny(k,D,W){k.emplaceBack(D.x,D.y,W),k.emplaceBack(D.x,D.y,W),k.emplaceBack(D.x,D.y,W),k.emplaceBack(D.x,D.y,W)}function mM(k){for(var D=0,W=k.sections;D<W.length;D+=1){var ie=W[D];if(en(ie.text))return!0}return!1}var Vv=function(D){this.layoutVertexArray=new Ef,this.indexArray=new Zu,this.programConfigurations=D,this.segments=new bo,this.dynamicLayoutVertexArray=new Id,this.opacityVertexArray=new _d,this.placedSymbolArray=new Fd};Vv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Vv.prototype.upload=function(D,W,ie,pe){this.isEmpty()||(ie&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,mS.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,xS.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,yM,!0),this.opacityVertexBuffer.itemSize=1),(ie||pe)&&this.programConfigurations.upload(D))},Vv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},He("SymbolBuffers",Vv);var Qd=function(D,W,ie){this.layoutVertexArray=new D,this.layoutAttributes=W,this.indexArray=new ie,this.segments=new bo,this.collisionVertexArray=new Is};Qd.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,bS.members,!0)},Qd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},He("CollisionBuffers",Qd);var Si=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(pt){return pt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Lv([]),this.placementViewportMatrix=Lv([]);var W=this.layers[0],ie=W._unevaluatedLayout._values;this.textSizeData=zy(this.zoom,ie["text-size"]),this.iconSizeData=zy(this.zoom,ie["icon-size"]);var pe=this.layers[0].layout,Ae=pe.get("symbol-sort-key"),De=pe.get("symbol-z-order");this.canOverlap=pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement"),this.sortFeaturesByKey=De!=="viewport-y"&&Ae.constantOr(1)!==void 0;var qe=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=qe&&this.canOverlap,pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(pt){return pl[pt]})),this.stateDependentLayerIds=this.layers.filter(function(pt){return pt.isStateDependent()}).map(function(pt){return pt.id}),this.sourceID=D.sourceID};Si.prototype.createArrays=function(){this.text=new Vv(new pa(this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new Vv(new pa(this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new t0,this.lineVertexArray=new _l,this.symbolInstances=new e0},Si.prototype.calculateGlyphDependencies=function(D,W,ie,pe,Ae){for(var De=0;De<D.length;De++)if(W[D.charCodeAt(De)]=!0,(ie||pe)&&Ae){var qe=Yd[D.charAt(De)];qe&&(W[qe.charCodeAt(0)]=!0)}},Si.prototype.populate=function(D,W,ie){var pe=this.layers[0],Ae=pe.layout,De=Ae.get("text-font"),qe=Ae.get("text-field"),pt=Ae.get("icon-image"),St=(qe.value.kind!=="constant"||qe.value.value instanceof so&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),kt=pt.value.kind!=="constant"||!!pt.value.value||Object.keys(pt.parameters).length>0,Gt=Ae.get("symbol-sort-key");if(this.features=[],!(!St&&!kt)){for(var ir=W.iconDependencies,rr=W.glyphDependencies,br=W.availableImages,Hr=new Ma(this.zoom),cn=0,tn=D;cn<tn.length;cn+=1){var En=tn[cn],bn=En.feature,Mn=En.id,On=En.index,Xn=En.sourceLayerIndex,oa=pe._featureFilter.needGeometry,ra=Ri(bn,oa);if(pe._featureFilter.filter(Hr,ra,ie)){oa||(ra.geometry=si(bn));var Aa=void 0;if(St){var ga=pe.getValueAndResolveTokens("text-field",ra,ie,br),wa=so.factory(ga);mM(wa)&&(this.hasRTLText=!0),(!this.hasRTLText||Oa()==="unavailable"||this.hasRTLText&&ea.isParsed())&&(Aa=AS(wa,pe,ra))}var Ha=void 0;if(kt){var Sa=pe.getValueAndResolveTokens("icon-image",ra,ie,br);Sa instanceof zo?Ha=Sa:Ha=zo.fromString(Sa)}if(!(!Aa&&!Ha)){var La=this.sortFeaturesByKey?Gt.evaluate(ra,{},ie):void 0,Ya={id:Mn,text:Aa,icon:Ha,index:On,sourceLayerIndex:Xn,geometry:ra.geometry,properties:bn.properties,type:gM[bn.type],sortKey:La};if(this.features.push(Ya),Ha&&(ir[Ha.name]=!0),Aa){var Ba=De.evaluate(ra,{},ie).join(","),vi=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(pl.vertical)>=0;for(var Mi=0,di=Aa.sections;Mi<di.length;Mi+=1){var pi=di[Mi];if(pi.image)ir[pi.image.name]=!0;else{var li=ar(Aa.toString()),ki=pi.fontStack||Ba,Ii=rr[ki]=rr[ki]||{};this.calculateGlyphDependencies(pi.text,Ii,vi,this.allowVerticalPlacement,li)}}}}}}Ae.get("symbol-placement")==="line"&&(this.features=SS(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ji,ao){return Ji.sortKey-ao.sortKey})}},Si.prototype.update=function(D,W,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,W,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(D,W,this.layers,ie))},Si.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Si.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Si.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Si.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Si.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Si.prototype.addToLineVertexArray=function(D,W){var ie=this.lineVertexArray.length;if(D.segment!==void 0){for(var pe=D.dist(W[D.segment+1]),Ae=D.dist(W[D.segment]),De={},qe=D.segment+1;qe<W.length;qe++)De[qe]={x:W[qe].x,y:W[qe].y,tileUnitDistanceFromAnchor:pe},qe<W.length-1&&(pe+=W[qe+1].dist(W[qe]));for(var pt=D.segment||0;pt>=0;pt--)De[pt]={x:W[pt].x,y:W[pt].y,tileUnitDistanceFromAnchor:Ae},pt>0&&(Ae+=W[pt-1].dist(W[pt]));for(var St=0;St<W.length;St++){var kt=De[St];this.lineVertexArray.emplaceBack(kt.x,kt.y,kt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},Si.prototype.addSymbols=function(D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt,ir){for(var rr=D.indexArray,br=D.layoutVertexArray,Hr=D.segments.prepareSegment(4*W.length,br,rr,this.canOverlap?De.sortKey:void 0),cn=this.glyphOffsetArray.length,tn=Hr.vertexLength,En=this.allowVerticalPlacement&&qe===pl.vertical?Math.PI/2:0,bn=De.text&&De.text.sections,Mn=0;Mn<W.length;Mn++){var On=W[Mn],Xn=On.tl,oa=On.tr,ra=On.bl,Aa=On.br,ga=On.tex,wa=On.pixelOffsetTL,Ha=On.pixelOffsetBR,Sa=On.minFontScaleX,La=On.minFontScaleY,Ya=On.glyphOffset,Ba=On.isSDF,vi=On.sectionIndex,Mi=Hr.vertexLength,di=Ya[1];x0(br,pt.x,pt.y,Xn.x,di+Xn.y,ga.x,ga.y,ie,Ba,wa.x,wa.y,Sa,La),x0(br,pt.x,pt.y,oa.x,di+oa.y,ga.x+ga.w,ga.y,ie,Ba,Ha.x,wa.y,Sa,La),x0(br,pt.x,pt.y,ra.x,di+ra.y,ga.x,ga.y+ga.h,ie,Ba,wa.x,Ha.y,Sa,La),x0(br,pt.x,pt.y,Aa.x,di+Aa.y,ga.x+ga.w,ga.y+ga.h,ie,Ba,Ha.x,Ha.y,Sa,La),Ny(D.dynamicLayoutVertexArray,pt,En),rr.emplaceBack(Mi,Mi+1,Mi+2),rr.emplaceBack(Mi+1,Mi+2,Mi+3),Hr.vertexLength+=4,Hr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ya[0]),(Mn===W.length-1||vi!==W[Mn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(br.length,De,De.index,{},ir,bn&&bn[vi])}D.placedSymbolArray.emplaceBack(pt.x,pt.y,cn,this.glyphOffsetArray.length-cn,tn,St,kt,pt.segment,ie?ie[0]:0,ie?ie[1]:0,pe[0],pe[1],qe,0,!1,0,Gt)},Si.prototype._addCollisionDebugVertex=function(D,W,ie,pe,Ae,De){return W.emplaceBack(0,0),D.emplaceBack(ie.x,ie.y,pe,Ae,Math.round(De.x),Math.round(De.y))},Si.prototype.addCollisionDebugVertices=function(D,W,ie,pe,Ae,De,qe){var pt=Ae.segments.prepareSegment(4,Ae.layoutVertexArray,Ae.indexArray),St=pt.vertexLength,kt=Ae.layoutVertexArray,Gt=Ae.collisionVertexArray,ir=qe.anchorX,rr=qe.anchorY;this._addCollisionDebugVertex(kt,Gt,De,ir,rr,new r(D,W)),this._addCollisionDebugVertex(kt,Gt,De,ir,rr,new r(ie,W)),this._addCollisionDebugVertex(kt,Gt,De,ir,rr,new r(ie,pe)),this._addCollisionDebugVertex(kt,Gt,De,ir,rr,new r(D,pe)),pt.vertexLength+=4;var br=Ae.indexArray;br.emplaceBack(St,St+1),br.emplaceBack(St+1,St+2),br.emplaceBack(St+2,St+3),br.emplaceBack(St+3,St),pt.primitiveLength+=4},Si.prototype.addDebugCollisionBoxes=function(D,W,ie,pe){for(var Ae=D;Ae<W;Ae++){var De=this.collisionBoxArray.get(Ae),qe=De.x1,pt=De.y1,St=De.x2,kt=De.y2;this.addCollisionDebugVertices(qe,pt,St,kt,pe?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ie)}},Si.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Qd(Tv,zb.members,Kh),this.iconCollisionBox=new Qd(Tv,zb.members,Kh);for(var D=0;D<this.symbolInstances.length;D++){var W=this.symbolInstances.get(D);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Si.prototype._deserializeCollisionBoxesForSymbol=function(D,W,ie,pe,Ae,De,qe,pt,St){for(var kt={},Gt=W;Gt<ie;Gt++){var ir=D.get(Gt);kt.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},kt.textFeatureIndex=ir.featureIndex;break}for(var rr=pe;rr<Ae;rr++){var br=D.get(rr);kt.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},kt.verticalTextFeatureIndex=br.featureIndex;break}for(var Hr=De;Hr<qe;Hr++){var cn=D.get(Hr);kt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},kt.iconFeatureIndex=cn.featureIndex;break}for(var tn=pt;tn<St;tn++){var En=D.get(tn);kt.verticalIconBox={x1:En.x1,y1:En.y1,x2:En.x2,y2:En.y2,anchorPointX:En.anchorPointX,anchorPointY:En.anchorPointY},kt.verticalIconFeatureIndex=En.featureIndex;break}return kt},Si.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ie=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},Si.prototype.hasTextData=function(){return this.text.segments.get().length>0},Si.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Si.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Si.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Si.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Si.prototype.addIndicesForPlacedSymbol=function(D,W){for(var ie=D.placedSymbolArray.get(W),pe=ie.vertexStartIndex+ie.numGlyphs*4,Ae=ie.vertexStartIndex;Ae<pe;Ae+=4)D.indexArray.emplaceBack(Ae,Ae+1,Ae+2),D.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3)},Si.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(D),ie=Math.cos(D),pe=[],Ae=[],De=[],qe=0;qe<this.symbolInstances.length;++qe){De.push(qe);var pt=this.symbolInstances.get(qe);pe.push(Math.round(W*pt.anchorX+ie*pt.anchorY)|0),Ae.push(pt.featureIndex)}return De.sort(function(St,kt){return pe[St]-pe[kt]||Ae[kt]-Ae[St]}),De},Si.prototype.addToSortKeyRanges=function(D,W){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===W?ie.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:D,symbolInstanceEnd:D+1})},Si.prototype.sortFeatures=function(D){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,pe=this.symbolInstanceIndexes;ie<pe.length;ie+=1){var Ae=pe[ie],De=this.symbolInstances.get(Ae);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(qe,pt,St){qe>=0&&St.indexOf(qe)===pt&&W.addIndicesForPlacedSymbol(W.text,qe)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},He("SymbolBucket",Si,{omit:["layers","collisionBoxArray","features","compareText"]}),Si.MAX_GLYPHS=65535,Si.addDynamicAttributes=Ny;function xM(k,D){return D.replace(/{([^{}]+)}/g,function(W,ie){return ie in k?String(k[ie]):""})}var bM=new yi({"symbol-placement":new fa(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new fa(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new fa(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pa(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new fa(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new fa(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new fa(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new fa(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new fa(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pa(Sr.layout_symbol["icon-size"]),"icon-text-fit":new fa(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new fa(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pa(Sr.layout_symbol["icon-image"]),"icon-rotate":new Pa(Sr.layout_symbol["icon-rotate"]),"icon-padding":new fa(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new fa(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new Pa(Sr.layout_symbol["icon-offset"]),"icon-anchor":new Pa(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new fa(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new fa(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new fa(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new Pa(Sr.layout_symbol["text-field"]),"text-font":new Pa(Sr.layout_symbol["text-font"]),"text-size":new Pa(Sr.layout_symbol["text-size"]),"text-max-width":new Pa(Sr.layout_symbol["text-max-width"]),"text-line-height":new fa(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new Pa(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new Pa(Sr.layout_symbol["text-justify"]),"text-radial-offset":new Pa(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new fa(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new Pa(Sr.layout_symbol["text-anchor"]),"text-max-angle":new fa(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new fa(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new Pa(Sr.layout_symbol["text-rotate"]),"text-padding":new fa(Sr.layout_symbol["text-padding"]),"text-keep-upright":new fa(Sr.layout_symbol["text-keep-upright"]),"text-transform":new Pa(Sr.layout_symbol["text-transform"]),"text-offset":new Pa(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new fa(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new fa(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new fa(Sr.layout_symbol["text-optional"])}),wM=new yi({"icon-opacity":new Pa(Sr.paint_symbol["icon-opacity"]),"icon-color":new Pa(Sr.paint_symbol["icon-color"]),"icon-halo-color":new Pa(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pa(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pa(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new fa(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new fa(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pa(Sr.paint_symbol["text-opacity"]),"text-color":new Pa(Sr.paint_symbol["text-color"],{runtimeType:Nn,getOverride:function(k){return k.textColor},hasOverride:function(k){return!!k.textColor}}),"text-halo-color":new Pa(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new Pa(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new Pa(Sr.paint_symbol["text-halo-blur"]),"text-translate":new fa(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new fa(Sr.paint_symbol["text-translate-anchor"])}),By={paint:wM,layout:bM},Gv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Wr,this.defaultValue=D};Gv.prototype.evaluate=function(D){if(D.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(D.formattedSection))return W.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Gv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;D(W._styleExpression.expression)}},Gv.prototype.outputDefined=function(){return!1},Gv.prototype.serialize=function(){return null},He("FormatSectionOverride",Gv,{omit:["defaultValue"]});var TM=function(k){function D(W){k.call(this,W,By)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ie,pe){if(k.prototype.recalculate.call(this,ie,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ae=this.layout.get("text-writing-mode");if(Ae){for(var De=[],qe=0,pt=Ae;qe<pt.length;qe+=1){var St=pt[qe];De.indexOf(St)<0&&De.push(St)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ie,pe,Ae,De){var qe=this.layout.get(ie).evaluate(pe,{},Ae,De),pt=this._unevaluatedLayout._values[ie];return!pt.isDataDriven()&&!Bu(pt.value)&&qe?xM(pe.properties,qe):qe},D.prototype.createBucket=function(ie){return new Si(ie)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ie=0,pe=By.paint.overridableProperties;ie<pe.length;ie+=1){var Ae=pe[ie];if(D.hasPaintOverride(this.layout,Ae)){var De=this.paint.get(Ae),qe=new Gv(De),pt=new ul(qe,De.property.specification),St=null;De.value.kind==="constant"||De.value.kind==="source"?St=new to("source",pt):St=new ks("composite",pt,De.value.zoomStops,De.value._interpolationType),this.paint._values[Ae]=new Ci(De.property,St,De.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Ae){return!this.layout||pe.isDataDriven()||Ae.isDataDriven()?!1:D.hasPaintOverride(this.layout,ie)},D.hasPaintOverride=function(ie,pe){var Ae=ie.get("text-field"),De=By.paint.properties[pe],qe=!1,pt=function(Gt){for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var br=rr[ir];if(De.overrides&&De.overrides.hasOverride(br)){qe=!0;return}}};if(Ae.value.kind==="constant"&&Ae.value.value instanceof so)pt(Ae.value.value.sections);else if(Ae.value.kind==="source"){var St=function(Gt){if(!qe)if(Gt instanceof Wi&&Hi(Gt.value)===la){var ir=Gt.value;pt(ir.sections)}else Gt instanceof yo?pt(Gt.sections):Gt.eachChild(St)},kt=Ae.value;kt._styleExpression&&St(kt._styleExpression.expression)}return qe},D}(Zi),AM=new yi({"background-color":new fa(Sr.paint_background["background-color"]),"background-pattern":new es(Sr.paint_background["background-pattern"]),"background-opacity":new fa(Sr.paint_background["background-opacity"])}),SM={paint:AM},MM=function(k){function D(W){k.call(this,W,SM)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D}(Zi),EM=new yi({"raster-opacity":new fa(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new fa(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new fa(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new fa(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new fa(Sr.paint_raster["raster-saturation"]),"raster-contrast":new fa(Sr.paint_raster["raster-contrast"]),"raster-resampling":new fa(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new fa(Sr.paint_raster["raster-fade-duration"])}),CM={paint:EM},LM=function(k){function D(W){k.call(this,W,CM)}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D}(Zi);function PM(k){var D=[],W=k.id;return W===void 0&&D.push({message:"layers."+W+': missing required property "id"'}),k.render===void 0&&D.push({message:"layers."+W+': missing required method "render"'}),k.renderingMode&&k.renderingMode!=="2d"&&k.renderingMode!=="3d"&&D.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),D}var RM=function(k){function D(W){k.call(this,W,{}),this.implementation=W}return k&&(D.__proto__=k),D.prototype=Object.create(k&&k.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},D.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},D}(Zi),kM={circle:e6,heatmap:a6,hillshade:s6,fill:I6,"fill-extrusion":eS,line:gS,symbol:TM,background:MM,raster:LM};function DM(k){return k.type==="custom"?new RM(k):new kM[k.type](k)}var l3=o.HTMLImageElement,u3=o.HTMLCanvasElement,f3=o.HTMLVideoElement,c3=o.ImageData,b0=o.ImageBitmap,qh=function(D,W,ie,pe){this.context=D,this.format=ie,this.texture=D.gl.createTexture(),this.update(W,pe)};qh.prototype.update=function(D,W,ie){var pe=D.width,Ae=D.height,De=(!this.size||this.size[0]!==pe||this.size[1]!==Ae)&&!ie,qe=this,pt=qe.context,St=pt.gl;if(this.useMipmap=!!(W&&W.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),pt.pixelStoreUnpackFlipY.set(!1),pt.pixelStoreUnpack.set(1),pt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!W||W.premultiply!==!1)),De)this.size=[pe,Ae],D instanceof l3||D instanceof u3||D instanceof f3||D instanceof c3||b0&&D instanceof b0?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,D):St.texImage2D(St.TEXTURE_2D,0,this.format,pe,Ae,0,this.format,St.UNSIGNED_BYTE,D.data);else{var kt=ie||{x:0,y:0},Gt=kt.x,ir=kt.y;D instanceof l3||D instanceof u3||D instanceof f3||D instanceof c3||b0&&D instanceof b0?St.texSubImage2D(St.TEXTURE_2D,0,Gt,ir,St.RGBA,St.UNSIGNED_BYTE,D):St.texSubImage2D(St.TEXTURE_2D,0,Gt,ir,pe,Ae,St.RGBA,St.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},qh.prototype.bind=function(D,W,ie){var pe=this,Ae=pe.context,De=Ae.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ie===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=De.LINEAR),D!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,D),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ie||D),this.filter=D),W!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,W),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,W),this.wrap=W)},qh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},qh.prototype.destroy=function(){var D=this.context,W=D.gl;W.deleteTexture(this.texture),this.texture=null};var Uy=function(D){var W=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};Uy.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},Uy.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Wv=function(D,W,ie){this.target=D,this.parent=W,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S(["receive","process"],this),this.invoker=new Uy(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Q()?D:o};Wv.prototype.send=function(D,W,ie,pe,Ae){var De=this;Ae===void 0&&(Ae=!1);var qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[qe]=ie);var pt=fe(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:D,hasCallback:!!ie,targetMapId:pe,mustQueue:Ae,sourceMapId:this.mapId,data:Rt(W,pt)},pt),{cancel:function(){ie&&delete De.callbacks[qe],De.target.postMessage({id:qe,type:"<cancel>",targetMapId:pe,sourceMapId:De.mapId})}}},Wv.prototype.receive=function(D){var W=D.data,ie=W.id;if(ie&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ie];var pe=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],pe&&pe()}else Q()||W.mustQueue?(this.tasks[ie]=W,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,W)},Wv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),W=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(D,W)}},Wv.prototype.processTask=function(D,W){var ie=this;if(W.type==="<response>"){var pe=this.callbacks[D];delete this.callbacks[D],pe&&(W.error?pe(At(W.error)):pe(null,At(W.data)))}else{var Ae=!1,De=fe(this.globalScope)?void 0:[],qe=W.hasCallback?function(ir,rr){Ae=!0,delete ie.cancelCallbacks[D],ie.target.postMessage({id:D,type:"<response>",sourceMapId:ie.mapId,error:ir?Rt(ir):null,data:Rt(rr,De)},De)}:function(ir){Ae=!0},pt=null,St=At(W.data);if(this.parent[W.type])pt=this.parent[W.type](W.sourceMapId,St,qe);else if(this.parent.getWorkerSource){var kt=W.type.split("."),Gt=this.parent.getWorkerSource(W.sourceMapId,kt[0],St.source);pt=Gt[kt[1]](St,qe)}else qe(new Error("Could not find function "+W.type));!Ae&&pt&&pt.cancel&&(this.cancelCallbacks[D]=pt.cancel)}},Wv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function IM(k,D,W){D=Math.pow(2,W)-D-1;var ie=h3(k*256,D*256,W),pe=h3((k+1)*256,(D+1)*256,W);return ie[0]+","+ie[1]+","+pe[0]+","+pe[1]}function h3(k,D,W){var ie=2*Math.PI*6378137/256/Math.pow(2,W),pe=k*ie-2*Math.PI*6378137/2,Ae=D*ie-2*Math.PI*6378137/2;return[pe,Ae]}var To=function(D,W){D&&(W?this.setSouthWest(D).setNorthEast(W):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};To.prototype.setNorthEast=function(D){return this._ne=D instanceof Ni?new Ni(D.lng,D.lat):Ni.convert(D),this},To.prototype.setSouthWest=function(D){return this._sw=D instanceof Ni?new Ni(D.lng,D.lat):Ni.convert(D),this},To.prototype.extend=function(D){var W=this._sw,ie=this._ne,pe,Ae;if(D instanceof Ni)pe=D,Ae=D;else if(D instanceof To){if(pe=D._sw,Ae=D._ne,!pe||!Ae)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var De=D;return this.extend(To.convert(De))}else{var qe=D;return this.extend(Ni.convert(qe))}return this}return!W&&!ie?(this._sw=new Ni(pe.lng,pe.lat),this._ne=new Ni(Ae.lng,Ae.lat)):(W.lng=Math.min(pe.lng,W.lng),W.lat=Math.min(pe.lat,W.lat),ie.lng=Math.max(Ae.lng,ie.lng),ie.lat=Math.max(Ae.lat,ie.lat)),this},To.prototype.getCenter=function(){return new Ni((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},To.prototype.getSouthWest=function(){return this._sw},To.prototype.getNorthEast=function(){return this._ne},To.prototype.getNorthWest=function(){return new Ni(this.getWest(),this.getNorth())},To.prototype.getSouthEast=function(){return new Ni(this.getEast(),this.getSouth())},To.prototype.getWest=function(){return this._sw.lng},To.prototype.getSouth=function(){return this._sw.lat},To.prototype.getEast=function(){return this._ne.lng},To.prototype.getNorth=function(){return this._ne.lat},To.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},To.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},To.prototype.isEmpty=function(){return!(this._sw&&this._ne)},To.prototype.contains=function(D){var W=Ni.convert(D),ie=W.lng,pe=W.lat,Ae=this._sw.lat<=pe&&pe<=this._ne.lat,De=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ie&&ie>=this._ne.lng),Ae&&De},To.convert=function(D){return!D||D instanceof To?D:new To(D)};var v3=63710088e-1,Ni=function(D,W){if(isNaN(D)||isNaN(W))throw new Error("Invalid LngLat object: ("+D+", "+W+")");if(this.lng=+D,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ni.prototype.wrap=function(){return new Ni(T(this.lng,-180,180),this.lat)},Ni.prototype.toArray=function(){return[this.lng,this.lat]},Ni.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ni.prototype.distanceTo=function(D){var W=Math.PI/180,ie=this.lat*W,pe=D.lat*W,Ae=Math.sin(ie)*Math.sin(pe)+Math.cos(ie)*Math.cos(pe)*Math.cos((D.lng-this.lng)*W),De=v3*Math.acos(Math.min(Ae,1));return De},Ni.prototype.toBounds=function(D){D===void 0&&(D=0);var W=40075017,ie=360*D/W,pe=ie/Math.cos(Math.PI/180*this.lat);return new To(new Ni(this.lng-pe,this.lat-ie),new Ni(this.lng+pe,this.lat+ie))},Ni.convert=function(D){if(D instanceof Ni)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ni(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ni(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var d3=2*Math.PI*v3;function p3(k){return d3*Math.cos(k*Math.PI/180)}function g3(k){return(180+k)/360}function y3(k){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+k*Math.PI/360)))/360}function m3(k,D){return k/p3(D)}function _M(k){return k*360-180}function Hy(k){var D=180-k*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function zM(k,D){return k*p3(Hy(D))}function OM(k){return 1/Math.cos(k*Math.PI/180)}var ev=function(D,W,ie){ie===void 0&&(ie=0),this.x=+D,this.y=+W,this.z=+ie};ev.fromLngLat=function(D,W){W===void 0&&(W=0);var ie=Ni.convert(D);return new ev(g3(ie.lng),y3(ie.lat),m3(W,ie.lat))},ev.prototype.toLngLat=function(){return new Ni(_M(this.x),Hy(this.y))},ev.prototype.toAltitude=function(){return zM(this.z,this.y)},ev.prototype.meterInMercatorCoordinateUnits=function(){return 1/d3*OM(Hy(this.y))};var tv=function(D,W,ie){this.z=D,this.x=W,this.y=ie,this.key=$d(0,D,D,W,ie)};tv.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},tv.prototype.url=function(D,W){var ie=IM(this.x,this.y,this.z),pe=FM(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ie)},tv.prototype.getTilePoint=function(D){var W=Math.pow(2,this.z);return new r((D.x*W-this.x)*Ea,(D.y*W-this.y)*Ea)},tv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var x3=function(D,W){this.wrap=D,this.canonical=W,this.key=$d(D,W.z,W.z,W.x,W.y)},Ao=function(D,W,ie,pe,Ae){this.overscaledZ=D,this.wrap=W,this.canonical=new tv(ie,+pe,+Ae),this.key=$d(W,D,ie,pe,Ae)};Ao.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},Ao.prototype.scaledTo=function(D){var W=this.canonical.z-D;return D>this.canonical.z?new Ao(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ao(D,this.wrap,D,this.canonical.x>>W,this.canonical.y>>W)},Ao.prototype.calculateScaledKey=function(D,W){var ie=this.canonical.z-D;return D>this.canonical.z?$d(this.wrap*+W,D,this.canonical.z,this.canonical.x,this.canonical.y):$d(this.wrap*+W,D,D,this.canonical.x>>ie,this.canonical.y>>ie)},Ao.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var W=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>W&&D.canonical.y===this.canonical.y>>W},Ao.prototype.children=function(D){if(this.overscaledZ>=D)return[new Ao(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ie=this.canonical.x*2,pe=this.canonical.y*2;return[new Ao(W,this.wrap,W,ie,pe),new Ao(W,this.wrap,W,ie+1,pe),new Ao(W,this.wrap,W,ie,pe+1),new Ao(W,this.wrap,W,ie+1,pe+1)]},Ao.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},Ao.prototype.wrapped=function(){return new Ao(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.unwrapTo=function(D){return new Ao(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ao.prototype.toUnwrapped=function(){return new x3(this.wrap,this.canonical)},Ao.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ao.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new ev(D.x-this.wrap,D.y))};function $d(k,D,W,ie,pe){k*=2,k<0&&(k=k*-1-1);var Ae=1<<W;return(Ae*Ae*k+Ae*pe+ie).toString(36)+W.toString(36)+D.toString(36)}function FM(k,D,W){for(var ie="",pe,Ae=k;Ae>0;Ae--)pe=1<<Ae-1,ie+=(D&pe?1:0)+(W&pe?2:0);return ie}He("CanonicalTileID",tv),He("OverscaledTileID",Ao,{omit:["posMatrix"]});var sc=function(D,W,ie){if(this.uid=D,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return B('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var pe=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ie||"mapbox";for(var Ae=0;Ae<pe;Ae++)this.data[this._idx(-1,Ae)]=this.data[this._idx(0,Ae)],this.data[this._idx(pe,Ae)]=this.data[this._idx(pe-1,Ae)],this.data[this._idx(Ae,-1)]=this.data[this._idx(Ae,0)],this.data[this._idx(Ae,pe)]=this.data[this._idx(Ae,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};sc.prototype.get=function(D,W){var ie=new Uint8Array(this.data.buffer),pe=this._idx(D,W)*4,Ae=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Ae(ie[pe],ie[pe+1],ie[pe+2])},sc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},sc.prototype._idx=function(D,W){if(D<-1||D>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(D+1)},sc.prototype._unpackMapbox=function(D,W,ie){return(D*256*256+W*256+ie)/10-1e4},sc.prototype._unpackTerrarium=function(D,W,ie){return D*256+W+ie/256-32768},sc.prototype.getPixels=function(){return new Fs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},sc.prototype.backfillBorder=function(D,W,ie){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var pe=W*this.dim,Ae=W*this.dim+this.dim,De=ie*this.dim,qe=ie*this.dim+this.dim;switch(W){case-1:pe=Ae-1;break;case 1:Ae=pe+1;break}switch(ie){case-1:De=qe-1;break;case 1:qe=De+1;break}for(var pt=-W*this.dim,St=-ie*this.dim,kt=De;kt<qe;kt++)for(var Gt=pe;Gt<Ae;Gt++)this.data[this._idx(Gt,kt)]=D.data[this._idx(Gt+pt,kt+St)]},He("DEMData",sc);function NM(k,D){var W={};if(!D)return W;for(var ie=function(){var De=Ae[pe],qe=De.layerIds.map(function(Gt){return D.getLayer(Gt)}).filter(Boolean);if(qe.length!==0){De.layers=qe,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Gt){return qe.filter(function(ir){return ir.id===Gt})[0]}));for(var pt=0,St=qe;pt<St.length;pt+=1){var kt=St[pt];W[kt.id]=De}}},pe=0,Ae=k;pe<Ae.length;pe+=1)ie();return W}var w0=function(D){this._stringToNumber={},this._numberToString=[];for(var W=0;W<D.length;W++){var ie=D[W];this._stringToNumber[ie]=W,this._numberToString[W]=ie}};w0.prototype.encode=function(D){return this._stringToNumber[D]},w0.prototype.decode=function(D){return this._numberToString[D]};var T0=function(D,W,ie,pe,Ae){this.type="Feature",this._vectorTileFeature=D,D._z=W,D._x=ie,D._y=pe,this.properties=D.properties,this.id=Ae},Vy={geometry:{configurable:!0}};Vy.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Vy.geometry.set=function(k){this._geometry=k},T0.prototype.toJSON=function(){var D={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(D[W]=this[W]);return D},Object.defineProperties(T0.prototype,Vy);var jv=function(){this.state={},this.stateChanges={},this.deletedStates={}};jv.prototype.updateState=function(D,W,ie){var pe=String(W);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][pe]=this.stateChanges[D][pe]||{},b(this.stateChanges[D][pe],ie),this.deletedStates[D]===null){this.deletedStates[D]={};for(var Ae in this.state[D])Ae!==pe&&(this.deletedStates[D][Ae]=null)}else{var De=this.deletedStates[D]&&this.deletedStates[D][pe]===null;if(De){this.deletedStates[D][pe]={};for(var qe in this.state[D][pe])ie[qe]||(this.deletedStates[D][pe][qe]=null)}else for(var pt in ie){var St=this.deletedStates[D]&&this.deletedStates[D][pe]&&this.deletedStates[D][pe][pt]===null;St&&delete this.deletedStates[D][pe][pt]}}},jv.prototype.removeFeatureState=function(D,W,ie){var pe=this.deletedStates[D]===null;if(!pe){var Ae=String(W);if(this.deletedStates[D]=this.deletedStates[D]||{},ie&&W!==void 0)this.deletedStates[D][Ae]!==null&&(this.deletedStates[D][Ae]=this.deletedStates[D][Ae]||{},this.deletedStates[D][Ae][ie]=null);else if(W!==void 0){var De=this.stateChanges[D]&&this.stateChanges[D][Ae];if(De){this.deletedStates[D][Ae]={};for(ie in this.stateChanges[D][Ae])this.deletedStates[D][Ae][ie]=null}else this.deletedStates[D][Ae]=null}else this.deletedStates[D]=null}},jv.prototype.getState=function(D,W){var ie=String(W),pe=this.state[D]||{},Ae=this.stateChanges[D]||{},De=b({},pe[ie],Ae[ie]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var qe=this.deletedStates[D][W];if(qe===null)return{};for(var pt in qe)delete De[pt]}return De},jv.prototype.initializeTileState=function(D,W){D.setFeatureState(this.state,W)},jv.prototype.coalesceChanges=function(D,W){var ie={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Ae={};for(var De in this.stateChanges[pe])this.state[pe][De]||(this.state[pe][De]={}),b(this.state[pe][De],this.stateChanges[pe][De]),Ae[De]=this.state[pe][De];ie[pe]=Ae}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var pt={};if(this.deletedStates[qe]===null)for(var St in this.state[qe])pt[St]={},this.state[qe][St]={};else for(var kt in this.deletedStates[qe]){var Gt=this.deletedStates[qe][kt]===null;if(Gt)this.state[qe][kt]={};else for(var ir=0,rr=Object.keys(this.deletedStates[qe][kt]);ir<rr.length;ir+=1){var br=rr[ir];delete this.state[qe][kt][br]}pt[kt]=this.state[qe][kt]}ie[qe]=ie[qe]||{},b(ie[qe],pt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Hr in D){var cn=D[Hr];cn.setFeatureState(ie,W)}};var lc=function(D,W){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Na(Ea,16,0),this.grid3D=new Na(Ea,16,0),this.featureIndexArray=new n0,this.promoteId=W};lc.prototype.insert=function(D,W,ie,pe,Ae,De){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,pe,Ae);for(var pt=De?this.grid3D:this.grid,St=0;St<W.length;St++){for(var kt=W[St],Gt=[1/0,1/0,-1/0,-1/0],ir=0;ir<kt.length;ir++){var rr=kt[ir];Gt[0]=Math.min(Gt[0],rr.x),Gt[1]=Math.min(Gt[1],rr.y),Gt[2]=Math.max(Gt[2],rr.x),Gt[3]=Math.max(Gt[3],rr.y)}Gt[0]<Ea&&Gt[1]<Ea&&Gt[2]>=0&&Gt[3]>=0&&pt.insert(qe,Gt[0],Gt[1],Gt[2],Gt[3])}},lc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Iv.VectorTile(new c0(this.rawTileData)).layers,this.sourceLayerCoder=new w0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},lc.prototype.query=function(D,W,ie,pe){var Ae=this;this.loadVTLayers();for(var De=D.params||{},qe=Ea/D.tileSize/D.scale,pt=hl(De.filter),St=D.queryGeometry,kt=D.queryPadding*qe,Gt=w3(St),ir=this.grid.query(Gt.minX-kt,Gt.minY-kt,Gt.maxX+kt,Gt.maxY+kt),rr=w3(D.cameraQueryGeometry),br=this.grid3D.query(rr.minX-kt,rr.minY-kt,rr.maxX+kt,rr.maxY+kt,function(Xn,oa,ra,Aa){return du(D.cameraQueryGeometry,Xn-kt,oa-kt,ra+kt,Aa+kt)}),Hr=0,cn=br;Hr<cn.length;Hr+=1){var tn=cn[Hr];ir.push(tn)}ir.sort(BM);for(var En={},bn,Mn=function(Xn){var oa=ir[Xn];if(oa!==bn){bn=oa;var ra=Ae.featureIndexArray.get(oa),Aa=null;Ae.loadMatchingFeature(En,ra.bucketIndex,ra.sourceLayerIndex,ra.featureIndex,pt,De.layers,De.availableImages,W,ie,pe,function(ga,wa,Ha){return Aa||(Aa=si(ga)),wa.queryIntersectsFeature(St,ga,Ha,Aa,Ae.z,D.transform,qe,D.pixelPosMatrix)})}},On=0;On<ir.length;On++)Mn(On);return En},lc.prototype.loadMatchingFeature=function(D,W,ie,pe,Ae,De,qe,pt,St,kt,Gt){var ir=this.bucketLayerIDs[W];if(!(De&&!O(De,ir))){var rr=this.sourceLayerCoder.decode(ie),br=this.vtLayers[rr],Hr=br.feature(pe);if(Ae.needGeometry){var cn=Ri(Hr,!0);if(!Ae.filter(new Ma(this.tileID.overscaledZ),cn,this.tileID.canonical))return}else if(!Ae.filter(new Ma(this.tileID.overscaledZ),Hr))return;for(var tn=this.getId(Hr,rr),En=0;En<ir.length;En++){var bn=ir[En];if(!(De&&De.indexOf(bn)<0)){var Mn=pt[bn];if(Mn){var On={};tn!==void 0&&kt&&(On=kt.getState(Mn.sourceLayer||"_geojsonTileLayer",tn));var Xn=b({},St[bn]);Xn.paint=b3(Xn.paint,Mn.paint,Hr,On,qe),Xn.layout=b3(Xn.layout,Mn.layout,Hr,On,qe);var oa=!Gt||Gt(Hr,Mn,On);if(oa){var ra=new T0(Hr,this.z,this.x,this.y,tn);ra.layer=Xn;var Aa=D[bn];Aa===void 0&&(Aa=D[bn]=[]),Aa.push({featureIndex:pe,feature:ra,intersectionZ:oa})}}}}}},lc.prototype.lookupSymbolFeatures=function(D,W,ie,pe,Ae,De,qe,pt){var St={};this.loadVTLayers();for(var kt=hl(Ae),Gt=0,ir=D;Gt<ir.length;Gt+=1){var rr=ir[Gt];this.loadMatchingFeature(St,ie,pe,rr,kt,De,qe,pt,W)}return St},lc.prototype.hasLayer=function(D){for(var W=0,ie=this.bucketLayerIDs;W<ie.length;W+=1)for(var pe=ie[W],Ae=0,De=pe;Ae<De.length;Ae+=1){var qe=De[Ae];if(D===qe)return!0}return!1},lc.prototype.getId=function(D,W){var ie=D.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ie=D.properties[pe],typeof ie=="boolean"&&(ie=Number(ie))}return ie},He("FeatureIndex",lc,{omit:["rawTileData","sourceLayerCoder"]});function b3(k,D,W,ie,pe){return _(k,function(Ae,De){var qe=D instanceof Ro?D.get(De):null;return qe&&qe.evaluate?qe.evaluate(W,ie,pe):qe})}function w3(k){for(var D=1/0,W=1/0,ie=-1/0,pe=-1/0,Ae=0,De=k;Ae<De.length;Ae+=1){var qe=De[Ae];D=Math.min(D,qe.x),W=Math.min(W,qe.y),ie=Math.max(ie,qe.x),pe=Math.max(pe,qe.y)}return{minX:D,minY:W,maxX:ie,maxY:pe}}function BM(k,D){return D-k}var UM=3e4,No=function(D,W){this.tileID=D,this.uid=m(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};No.prototype.registerFadeDuration=function(D){var W=D+this.timeAdded;W<se.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},No.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},No.prototype.loadVectorData=function(D,W,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new Od;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=NM(D.buckets,W.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Ae=this.buckets[pe];if(Ae instanceof Si)if(this.hasSymbolBuckets=!0,ie)Ae.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var qe=this.buckets[De];if(qe instanceof Si&&qe.hasRTLText){this.hasRTLText=!0,Va();break}}this.queryPadding=0;for(var pt in this.buckets){var St=this.buckets[pt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(pt).queryRadius(St))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},No.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},No.prototype.getBucket=function(D){return this.buckets[D.id]},No.prototype.upload=function(D){for(var W in this.buckets){var ie=this.buckets[W];ie.uploadPending()&&ie.upload(D)}var pe=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new qh(D,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new qh(D,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},No.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},No.prototype.queryRenderedFeatures=function(D,W,ie,pe,Ae,De,qe,pt,St,kt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Ae,scale:De,tileSize:this.tileSize,pixelPosMatrix:kt,transform:pt,params:qe,queryPadding:this.queryPadding*St},D,W,ie)},No.prototype.querySourceFeatures=function(D,W){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var pe=ie.loadVTLayers(),Ae=W?W.sourceLayer:"",De=pe._geojsonTileLayer||pe[Ae];if(De)for(var qe=hl(W&&W.filter),pt=this.tileID.canonical,St=pt.z,kt=pt.x,Gt=pt.y,ir={z:St,x:kt,y:Gt},rr=0;rr<De.length;rr++){var br=De.feature(rr);if(qe.needGeometry){var Hr=Ri(br,!0);if(!qe.filter(new Ma(this.tileID.overscaledZ),Hr,this.tileID.canonical))continue}else if(!qe.filter(new Ma(this.tileID.overscaledZ),br))continue;var cn=ie.getId(br,Ae),tn=new T0(br,St,kt,Gt,cn);tn.tile=ir,D.push(tn)}}},No.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},No.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},No.prototype.setExpiryData=function(D){var W=this.expirationTime;if(D.cacheControl){var ie=te(D.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var pe=Date.now(),Ae=!1;if(this.expirationTime>pe)Ae=!1;else if(!W)Ae=!0;else if(this.expirationTime<W)Ae=!0;else{var De=this.expirationTime-W;De?this.expirationTime=pe+Math.max(De,UM):Ae=!0}Ae?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},No.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},No.prototype.setFeatureState=function(D,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(W.style.hasLayer(pe)){var Ae=this.buckets[pe],De=Ae.layers[0].sourceLayer||"_geojsonTileLayer",qe=ie[De],pt=D[De];if(!(!qe||!pt||Object.keys(pt).length===0)){Ae.update(pt,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=W&&W.style&&W.style.getLayer(pe);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(Ae)))}}}},No.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},No.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},No.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},No.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},No.prototype.setDependencies=function(D,W){for(var ie={},pe=0,Ae=W;pe<Ae.length;pe+=1){var De=Ae[pe];ie[De]=!0}this.dependencies[D]=ie},No.prototype.hasDependency=function(D,W){for(var ie=0,pe=D;ie<pe.length;ie+=1){var Ae=pe[ie],De=this.dependencies[Ae];if(De)for(var qe=0,pt=W;qe<pt.length;qe+=1){var St=pt[qe];if(De[St])return!0}}return!1};var HM=["type","source","source-layer","minzoom","maxzoom","filter","layout"],rh=o.performance,T3=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},rh.mark(this._marks.start)};T3.prototype.finish=function(){rh.mark(this._marks.end);var D=rh.getEntriesByName(this._marks.measure);return D.length===0&&(rh.measure(this._marks.measure,this._marks.start,this._marks.end),D=rh.getEntriesByName(this._marks.measure),rh.clearMarks(this._marks.start),rh.clearMarks(this._marks.end),rh.clearMeasures(this._marks.measure)),D},n.Actor=Wv,n.AlphaImage=$h,n.CanonicalTileID=tv,n.CollisionBoxArray=Od,n.Color=oi,n.DEMData=sc,n.DataConstantProperty=fa,n.DictionaryCoder=w0,n.EXTENT=Ea,n.ErrorEvent=Pt,n.EvaluationParameters=Ma,n.Event=jt,n.Evented=Zt,n.FeatureIndex=lc,n.FillBucket=Ju,n.FillExtrusionBucket=Qu,n.ImageAtlas=Zd,n.ImagePosition=v0,n.LineBucket=ws,n.LngLat=Ni,n.LngLatBounds=To,n.MercatorCoordinate=ev,n.ONE_EM=Ko,n.OverscaledTileID=Ao,n.Point=r,n.Point$1=r,n.Properties=yi,n.Protobuf=c0,n.RGBAImage=Fs,n.RequestManager=Ce,n.RequestPerformance=T3,n.ResourceType=mr,n.SegmentVector=bo,n.SourceFeatureState=jv,n.StructArrayLayout1ui2=Zc,n.StructArrayLayout2f1f2i16=Xu,n.StructArrayLayout2i4=rc,n.StructArrayLayout3ui6=Zu,n.StructArrayLayout4i8=Dd,n.SymbolBucket=Si,n.Texture=qh,n.Tile=No,n.Transitionable=ci,n.Uniform1f=Kr,n.Uniform1i=Fr,n.Uniform2f=Zr,n.Uniform3f=jr,n.Uniform4f=Qr,n.UniformColor=pn,n.UniformMatrix4f=Vn,n.UnwrappedTileID=x3,n.ValidationError=Ur,n.WritingMode=pl,n.ZoomHistory=Ut,n.add=Rv,n.addDynamicAttributes=Ny,n.asyncAll=h,n.bezier=l,n.bindAll=S,n.browser=se,n.cacheEntryPossiblyAdded=Lt,n.clamp=c,n.clearTileCache=vr,n.clipLine=r3,n.clone=Cv,n.clone$1=H,n.clone$2=my,n.collisionCircleLayout=wS,n.config=ne,n.create=Ev,n.create$1=as,n.create$2=Mv,n.createCommonjsModule=C,n.createExpression=fl,n.createLayout=Oi,n.createStyleLayer=DM,n.cross=jA,n.deepEqual=a,n.dot=WA,n.dot$1=JA,n.ease=y,n.emitValidationErrors=_a,n.endsWith=w,n.enforceCacheSizeLimit=Kt,n.evaluateSizeForFeature=Kb,n.evaluateSizeForZoom=Jb,n.evaluateVariableOffset=i3,n.evented=Ca,n.extend=b,n.featureFilter=hl,n.filterObject=I,n.fromRotation=Qc,n.getAnchorAlignment=_y,n.getAnchorJustification=Fy,n.getArrayBuffer=Ot,n.getImage=Qe,n.getJSON=Ft,n.getRTLTextPluginStatus=Oa,n.getReferrer=yt,n.getVideo=rt,n.identity=Lv,n.invert=$c,n.isChar=Vt,n.isMapboxURL=Oe,n.keysDifference=g,n.makeRequest=It,n.mapObject=_,n.mercatorXfromLng=g3,n.mercatorYfromLat=y3,n.mercatorZfromAltitude=m3,n.mul=yy,n.multiply=qc,n.mvt=Iv,n.nextPowerOfTwo=M,n.normalize=Bd,n.number=Fi,n.offscreenCanvasSupported=$t,n.ortho=gy,n.parseGlyphPBF=ZS,n.pbf=c0,n.performSymbolLayout=hM,n.perspective=Nd,n.pick=A,n.plugin=ea,n.polygonIntersectsPolygon=Wa,n.postMapLoadEvent=Ke,n.postTurnstileEvent=We,n.potpack=Hb,n.refProperties=HM,n.register=He,n.registerForPluginStateChange=fi,n.renderColorRamp=xb,n.rotate=Jh,n.rotateX=Os,n.rotateZ=Pv,n.scale=zs,n.scale$1=KA,n.scale$2=by,n.setCacheLimits=gt,n.setRTLTextPlugin=ji,n.sphericalToCartesian=Y,n.sqrLen=qA,n.styleSpec=Sr,n.sub=XA,n.symbolSize=nM,n.transformMat3=YA,n.transformMat4=i0,n.translate=no,n.triggerPluginCompletionEvent=va,n.uniqueId=m,n.validateCustomStyleLayer=PM,n.validateLight=Qn,n.validateStyle=In,n.values=i,n.vectorTile=Iv,n.version=x,n.warnOnce=B,n.webpSupported=he,n.window=o,n.wrap=T}),P(["./shared"],function(n){function C(yt){var ut=typeof yt;if(ut==="number"||ut==="boolean"||ut==="string"||yt===void 0||yt===null)return JSON.stringify(yt);if(Array.isArray(yt)){for(var bt="[",Et=0,It=yt;Et<It.length;Et+=1){var Ft=It[Et];bt+=C(Ft)+","}return bt+"]"}for(var Ot=Object.keys(yt).sort(),Nt="{",Jt=0;Jt<Ot.length;Jt++)Nt+=JSON.stringify(Ot[Jt])+":"+C(yt[Ot[Jt]])+",";return Nt+"}"}function x(yt){for(var ut="",bt=0,Et=n.refProperties;bt<Et.length;bt+=1){var It=Et[bt];ut+="/"+C(yt[It])}return ut}function v(yt,ut){for(var bt={},Et=0;Et<yt.length;Et++){var It=ut&&ut[yt[Et].id]||x(yt[Et]);ut&&(ut[yt[Et].id]=It);var Ft=bt[It];Ft||(Ft=bt[It]=[]),Ft.push(yt[Et])}var Ot=[];for(var Nt in bt)Ot.push(bt[Nt]);return Ot}var p=function(ut){this.keyCache={},ut&&this.replace(ut)};p.prototype.replace=function(ut){this._layerConfigs={},this._layers={},this.update(ut,[])},p.prototype.update=function(ut,bt){for(var Et=this,It=0,Ft=ut;It<Ft.length;It+=1){var Ot=Ft[It];this._layerConfigs[Ot.id]=Ot;var Nt=this._layers[Ot.id]=n.createStyleLayer(Ot);Nt._featureFilter=n.featureFilter(Nt.filter),this.keyCache[Ot.id]&&delete this.keyCache[Ot.id]}for(var Jt=0,hr=bt;Jt<hr.length;Jt+=1){var cr=hr[Jt];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=v(n.values(this._layerConfigs),this.keyCache),fr=0,Lr=dr;fr<Lr.length;fr+=1){var xr=Lr[fr],Qe=xr.map(function(Zt){return Et._layers[Zt.id]}),rt=Qe[0];if(rt.visibility!=="none"){var er=rt.source||"",tr=this.familiesBySource[er];tr||(tr=this.familiesBySource[er]={});var jt=rt.sourceLayer||"_geojsonTileLayer",Pt=tr[jt];Pt||(Pt=tr[jt]=[]),Pt.push(Qe)}}};var r=1,t=function(ut){var bt={},Et=[];for(var It in ut){var Ft=ut[It],Ot=bt[It]={};for(var Nt in Ft){var Jt=Ft[+Nt];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var hr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Et.push(hr),Ot[Nt]={rect:hr,metrics:Jt.metrics}}}}var cr=n.potpack(Et),dr=cr.w,fr=cr.h,Lr=new n.AlphaImage({width:dr||1,height:fr||1});for(var xr in ut){var Qe=ut[xr];for(var rt in Qe){var er=Qe[+rt];if(!(!er||er.bitmap.width===0||er.bitmap.height===0)){var tr=bt[xr][rt].rect;n.AlphaImage.copy(er.bitmap,Lr,{x:0,y:0},{x:tr.x+r,y:tr.y+r},er.bitmap)}}}this.image=Lr,this.positions=bt};n.register("GlyphAtlas",t);var o=function(ut){this.tileID=new n.OverscaledTileID(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),this.uid=ut.uid,this.zoom=ut.zoom,this.pixelRatio=ut.pixelRatio,this.tileSize=ut.tileSize,this.source=ut.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ut.showCollisionBoxes,this.collectResourceTiming=!!ut.collectResourceTiming,this.returnDependencies=!!ut.returnDependencies,this.promoteId=ut.promoteId};o.prototype.parse=function(ut,bt,Et,It,Ft){var Ot=this;this.status="parsing",this.data=ut,this.collisionBoxArray=new n.CollisionBoxArray;var Nt=new n.DictionaryCoder(Object.keys(ut.layers).sort()),Jt=new n.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var hr={},cr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},dr=bt.familiesBySource[this.source];for(var fr in dr){var Lr=ut.layers[fr];if(Lr){Lr.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+fr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var xr=Nt.encode(fr),Qe=[],rt=0;rt<Lr.length;rt++){var er=Lr.feature(rt),tr=Jt.getId(er,fr);Qe.push({feature:er,id:tr,index:rt,sourceLayerIndex:xr})}for(var jt=0,Pt=dr[fr];jt<Pt.length;jt+=1){var Zt=Pt[jt],nr=Zt[0];if(!(nr.minzoom&&this.zoom<Math.floor(nr.minzoom))&&!(nr.maxzoom&&this.zoom>=nr.maxzoom)&&nr.visibility!=="none"){a(Zt,this.zoom,Et);var Qt=hr[nr.id]=nr.createBucket({index:Jt.bucketLayerIDs.length,layers:Zt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xr,sourceID:this.source});Qt.populate(Qe,cr,this.tileID.canonical),Jt.bucketLayerIDs.push(Zt.map(function(gr){return gr.id}))}}}}var Wt,yr,Dr,Tr,dn=n.mapObject(cr.glyphDependencies,function(gr){return Object.keys(gr).map(Number)});Object.keys(dn).length?It.send("getGlyphs",{uid:this.uid,stacks:dn},function(gr,Pr){Wt||(Wt=gr,yr=Pr,an.call(Ot))}):yr={};var Nr=Object.keys(cr.iconDependencies);Nr.length?It.send("getImages",{icons:Nr,source:this.source,tileID:this.tileID,type:"icons"},function(gr,Pr){Wt||(Wt=gr,Dr=Pr,an.call(Ot))}):Dr={};var Cn=Object.keys(cr.patternDependencies);Cn.length?It.send("getImages",{icons:Cn,source:this.source,tileID:this.tileID,type:"patterns"},function(gr,Pr){Wt||(Wt=gr,Tr=Pr,an.call(Ot))}):Tr={},an.call(this);function an(){if(Wt)return Ft(Wt);if(yr&&Dr&&Tr){var gr=new t(yr),Pr=new n.ImageAtlas(Dr,Tr);for(var Xr in hr){var _r=hr[Xr];_r instanceof n.SymbolBucket?(a(_r.layers,this.zoom,Et),n.performSymbolLayout(_r,yr,gr.positions,Dr,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):_r.hasPattern&&(_r instanceof n.LineBucket||_r instanceof n.FillBucket||_r instanceof n.FillExtrusionBucket)&&(a(_r.layers,this.zoom,Et),_r.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Ft(null,{buckets:n.values(hr).filter(function(gn){return!gn.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Pr,glyphMap:this.returnDependencies?yr:null,iconMap:this.returnDependencies?Dr:null,glyphPositions:this.returnDependencies?gr.positions:null})}}};function a(yt,ut,bt){for(var Et=new n.EvaluationParameters(ut),It=0,Ft=yt;It<Ft.length;It+=1){var Ot=Ft[It];Ot.recalculate(Et,bt)}}function u(yt,ut){var bt=n.getArrayBuffer(yt.request,function(Et,It,Ft,Ot){Et?ut(Et):It&&ut(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(It)),rawData:It,cacheControl:Ft,expires:Ot})});return function(){bt.cancel(),ut()}}var f=function(ut,bt,Et,It){this.actor=ut,this.layerIndex=bt,this.availableImages=Et,this.loadVectorData=It||u,this.loading={},this.loaded={}};f.prototype.loadTile=function(ut,bt){var Et=this,It=ut.uid;this.loading||(this.loading={});var Ft=ut&&ut.request&&ut.request.collectResourceTiming?new n.RequestPerformance(ut.request):!1,Ot=this.loading[It]=new o(ut);Ot.abort=this.loadVectorData(ut,function(Nt,Jt){if(delete Et.loading[It],Nt||!Jt)return Ot.status="done",Et.loaded[It]=Ot,bt(Nt);var hr=Jt.rawData,cr={};Jt.expires&&(cr.expires=Jt.expires),Jt.cacheControl&&(cr.cacheControl=Jt.cacheControl);var dr={};if(Ft){var fr=Ft.finish();fr&&(dr.resourceTiming=JSON.parse(JSON.stringify(fr)))}Ot.vectorTile=Jt.vectorTile,Ot.parse(Jt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(Lr,xr){if(Lr||!xr)return bt(Lr);bt(null,n.extend({rawTileData:hr.slice(0)},xr,cr,dr))}),Et.loaded=Et.loaded||{},Et.loaded[It]=Ot})},f.prototype.reloadTile=function(ut,bt){var Et=this,It=this.loaded,Ft=ut.uid,Ot=this;if(It&&It[Ft]){var Nt=It[Ft];Nt.showCollisionBoxes=ut.showCollisionBoxes;var Jt=function(hr,cr){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Ot.layerIndex,Et.availableImages,Ot.actor,dr)),bt(hr,cr)};Nt.status==="parsing"?Nt.reloadCallback=Jt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},f.prototype.abortTile=function(ut,bt){var Et=this.loading,It=ut.uid;Et&&Et[It]&&Et[It].abort&&(Et[It].abort(),delete Et[It]),bt()},f.prototype.removeTile=function(ut,bt){var Et=this.loaded,It=ut.uid;Et&&Et[It]&&delete Et[It],bt()};var l=n.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(ut,bt){var Et=ut.uid,It=ut.encoding,Ft=ut.rawImageData,Ot=l&&Ft instanceof l?this.getImageData(Ft):Ft,Nt=new n.DEMData(Et,Ot,It);this.loaded=this.loaded||{},this.loaded[Et]=Nt,bt(null,Nt)},y.prototype.getImageData=function(ut){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ut.width,ut.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ut.width,this.offscreenCanvas.height=ut.height,this.offscreenCanvasContext.drawImage(ut,0,0,ut.width,ut.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,ut.width+2,ut.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:bt.width,height:bt.height},bt.data)},y.prototype.removeTile=function(ut){var bt=this.loaded,Et=ut.uid;bt&&bt[Et]&&delete bt[Et]};var c=T;function T(yt,ut){var bt=yt&&yt.type,Et;if(bt==="FeatureCollection")for(Et=0;Et<yt.features.length;Et++)T(yt.features[Et],ut);else if(bt==="GeometryCollection")for(Et=0;Et<yt.geometries.length;Et++)T(yt.geometries[Et],ut);else if(bt==="Feature")T(yt.geometry,ut);else if(bt==="Polygon")h(yt.coordinates,ut);else if(bt==="MultiPolygon")for(Et=0;Et<yt.coordinates.length;Et++)h(yt.coordinates[Et],ut);return yt}function h(yt,ut){if(yt.length!==0){i(yt[0],ut);for(var bt=1;bt<yt.length;bt++)i(yt[bt],!ut)}}function i(yt,ut){for(var bt=0,Et=0,It=yt.length,Ft=It-1;Et<It;Ft=Et++)bt+=(yt[Et][0]-yt[Ft][0])*(yt[Ft][1]+yt[Et][1]);bt>=0!=!!ut&&yt.reverse()}var g=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,b=function(ut){this._feature=ut,this.extent=n.EXTENT,this.type=ut.type,this.properties=ut.tags,"id"in ut&&!isNaN(ut.id)&&(this.id=parseInt(ut.id,10))};b.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ut=[],bt=0,Et=this._feature.geometry;bt<Et.length;bt+=1){var It=Et[bt];ut.push([new n.Point$1(It[0],It[1])])}return ut}else{for(var Ft=[],Ot=0,Nt=this._feature.geometry;Ot<Nt.length;Ot+=1){for(var Jt=Nt[Ot],hr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var fr=dr[cr];hr.push(new n.Point$1(fr[0],fr[1]))}Ft.push(hr)}return Ft}},b.prototype.toGeoJSON=function(ut,bt,Et){return g.call(this,ut,bt,Et)};var A=function(ut){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=ut.length,this._features=ut};A.prototype.feature=function(ut){return new b(this._features[ut])};var R=n.vectorTile.VectorTileFeature,m=L;function L(yt,ut){this.options=ut||{},this.features=yt,this.length=yt.length}L.prototype.feature=function(yt){return new M(this.features[yt],this.options.extent)};function M(yt,ut){this.id=typeof yt.id=="number"?yt.id:void 0,this.type=yt.type,this.rawGeometry=yt.type===1?[yt.geometry]:yt.geometry,this.properties=yt.tags,this.extent=ut||4096}M.prototype.loadGeometry=function(){var yt=this.rawGeometry;this.geometry=[];for(var ut=0;ut<yt.length;ut++){for(var bt=yt[ut],Et=[],It=0;It<bt.length;It++)Et.push(new n.Point$1(bt[It][0],bt[It][1]));this.geometry.push(Et)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var yt=this.geometry,ut=1/0,bt=-1/0,Et=1/0,It=-1/0,Ft=0;Ft<yt.length;Ft++)for(var Ot=yt[Ft],Nt=0;Nt<Ot.length;Nt++){var Jt=Ot[Nt];ut=Math.min(ut,Jt.x),bt=Math.max(bt,Jt.x),Et=Math.min(Et,Jt.y),It=Math.max(It,Jt.y)}return[ut,Et,bt,It]},M.prototype.toGeoJSON=R.prototype.toGeoJSON;var s=I,S=I,w=H,_=m;function I(yt){var ut=new n.pbf;return O(yt,ut),ut.finish()}function H(yt,ut){ut=ut||{};var bt={};for(var Et in yt)bt[Et]=new m(yt[Et].features,ut),bt[Et].name=Et,bt[Et].version=ut.version,bt[Et].extent=ut.extent;return I({layers:bt})}function O(yt,ut){for(var bt in yt.layers)ut.writeMessage(3,V,yt.layers[bt])}function V(yt,ut){ut.writeVarintField(15,yt.version||1),ut.writeStringField(1,yt.name||""),ut.writeVarintField(5,yt.extent||4096);var bt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<yt.length;bt++)Et.feature=yt.feature(bt),ut.writeMessage(2,B,Et);var It=Et.keys;for(bt=0;bt<It.length;bt++)ut.writeStringField(3,It[bt]);var Ft=Et.values;for(bt=0;bt<Ft.length;bt++)ut.writeMessage(4,te,Ft[bt])}function B(yt,ut){var bt=yt.feature;bt.id!==void 0&&ut.writeVarintField(1,bt.id),ut.writeMessage(2,F,yt),ut.writeVarintField(3,bt.type),ut.writeMessage(4,Q,bt)}function F(yt,ut){var bt=yt.feature,Et=yt.keys,It=yt.values,Ft=yt.keycache,Ot=yt.valuecache;for(var Nt in bt.properties){var Jt=Ft[Nt];typeof Jt>"u"&&(Et.push(Nt),Jt=Et.length-1,Ft[Nt]=Jt),ut.writeVarint(Jt);var hr=bt.properties[Nt],cr=typeof hr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(hr=JSON.stringify(hr));var dr=cr+":"+hr,fr=Ot[dr];typeof fr>"u"&&(It.push(hr),fr=It.length-1,Ot[dr]=fr),ut.writeVarint(fr)}}function G(yt,ut){return(ut<<3)+(yt&7)}function Y(yt){return yt<<1^yt>>31}function Q(yt,ut){for(var bt=yt.loadGeometry(),Et=yt.type,It=0,Ft=0,Ot=bt.length,Nt=0;Nt<Ot;Nt++){var Jt=bt[Nt],hr=1;Et===1&&(hr=Jt.length),ut.writeVarint(G(1,hr));for(var cr=Et===3?Jt.length-1:Jt.length,dr=0;dr<cr;dr++){dr===1&&Et!==1&&ut.writeVarint(G(2,cr-1));var fr=Jt[dr].x-It,Lr=Jt[dr].y-Ft;ut.writeVarint(Y(fr)),ut.writeVarint(Y(Lr)),It+=fr,Ft+=Lr}Et===3&&ut.writeVarint(G(7,1))}}function te(yt,ut){var bt=typeof yt;bt==="string"?ut.writeStringField(1,yt):bt==="boolean"?ut.writeBooleanField(7,yt):bt==="number"&&(yt%1!==0?ut.writeDoubleField(3,yt):yt<0?ut.writeSVarintField(6,yt):ut.writeVarintField(5,yt))}s.fromVectorTileJs=S,s.fromGeojsonVt=w,s.GeoJSONWrapper=_;function ae(yt,ut,bt,Et,It,Ft){if(!(It-Et<=bt)){var Ot=Et+It>>1;fe(yt,ut,Ot,Et,It,Ft%2),ae(yt,ut,bt,Et,Ot-1,Ft+1),ae(yt,ut,bt,Ot+1,It,Ft+1)}}function fe(yt,ut,bt,Et,It,Ft){for(;It>Et;){if(It-Et>600){var Ot=It-Et+1,Nt=bt-Et+1,Jt=Math.log(Ot),hr=.5*Math.exp(2*Jt/3),cr=.5*Math.sqrt(Jt*hr*(Ot-hr)/Ot)*(Nt-Ot/2<0?-1:1),dr=Math.max(Et,Math.floor(bt-Nt*hr/Ot+cr)),fr=Math.min(It,Math.floor(bt+(Ot-Nt)*hr/Ot+cr));fe(yt,ut,bt,dr,fr,Ft)}var Lr=ut[2*bt+Ft],xr=Et,Qe=It;for(oe(yt,ut,Et,bt),ut[2*It+Ft]>Lr&&oe(yt,ut,Et,It);xr<Qe;){for(oe(yt,ut,xr,Qe),xr++,Qe--;ut[2*xr+Ft]<Lr;)xr++;for(;ut[2*Qe+Ft]>Lr;)Qe--}ut[2*Et+Ft]===Lr?oe(yt,ut,Et,Qe):(Qe++,oe(yt,ut,Qe,It)),Qe<=bt&&(Et=Qe+1),bt<=Qe&&(It=Qe-1)}}function oe(yt,ut,bt,Et){J(yt,bt,Et),J(ut,2*bt,2*Et),J(ut,2*bt+1,2*Et+1)}function J(yt,ut,bt){var Et=yt[ut];yt[ut]=yt[bt],yt[bt]=Et}function ee(yt,ut,bt,Et,It,Ft,Ot){for(var Nt=[0,yt.length-1,0],Jt=[],hr,cr;Nt.length;){var dr=Nt.pop(),fr=Nt.pop(),Lr=Nt.pop();if(fr-Lr<=Ot){for(var xr=Lr;xr<=fr;xr++)hr=ut[2*xr],cr=ut[2*xr+1],hr>=bt&&hr<=It&&cr>=Et&&cr<=Ft&&Jt.push(yt[xr]);continue}var Qe=Math.floor((Lr+fr)/2);hr=ut[2*Qe],cr=ut[2*Qe+1],hr>=bt&&hr<=It&&cr>=Et&&cr<=Ft&&Jt.push(yt[Qe]);var rt=(dr+1)%2;(dr===0?bt<=hr:Et<=cr)&&(Nt.push(Lr),Nt.push(Qe-1),Nt.push(rt)),(dr===0?It>=hr:Ft>=cr)&&(Nt.push(Qe+1),Nt.push(fr),Nt.push(rt))}return Jt}function X(yt,ut,bt,Et,It,Ft){for(var Ot=[0,yt.length-1,0],Nt=[],Jt=It*It;Ot.length;){var hr=Ot.pop(),cr=Ot.pop(),dr=Ot.pop();if(cr-dr<=Ft){for(var fr=dr;fr<=cr;fr++)q(ut[2*fr],ut[2*fr+1],bt,Et)<=Jt&&Nt.push(yt[fr]);continue}var Lr=Math.floor((dr+cr)/2),xr=ut[2*Lr],Qe=ut[2*Lr+1];q(xr,Qe,bt,Et)<=Jt&&Nt.push(yt[Lr]);var rt=(hr+1)%2;(hr===0?bt-It<=xr:Et-It<=Qe)&&(Ot.push(dr),Ot.push(Lr-1),Ot.push(rt)),(hr===0?bt+It>=xr:Et+It>=Qe)&&(Ot.push(Lr+1),Ot.push(cr),Ot.push(rt))}return Nt}function q(yt,ut,bt,Et){var It=yt-bt,Ft=ut-Et;return It*It+Ft*Ft}var le=function(yt){return yt[0]},$=function(yt){return yt[1]},j=function(ut,bt,Et,It,Ft){bt===void 0&&(bt=le),Et===void 0&&(Et=$),It===void 0&&(It=64),Ft===void 0&&(Ft=Float64Array),this.nodeSize=It,this.points=ut;for(var Ot=ut.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Ot(ut.length),Jt=this.coords=new Ft(ut.length*2),hr=0;hr<ut.length;hr++)Nt[hr]=hr,Jt[2*hr]=bt(ut[hr]),Jt[2*hr+1]=Et(ut[hr]);ae(Nt,Jt,It,0,Nt.length-1,0)};j.prototype.range=function(ut,bt,Et,It){return ee(this.ids,this.coords,ut,bt,Et,It,this.nodeSize)},j.prototype.within=function(ut,bt,Et){return X(this.ids,this.coords,ut,bt,Et,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(yt){return yt}},ne=function(ut){this.options=_e(Object.create(se),ut),this.trees=new Array(this.options.maxZoom+1)};ne.prototype.load=function(ut){var bt=this.options,Et=bt.log,It=bt.minZoom,Ft=bt.maxZoom,Ot=bt.nodeSize;Et&&console.time("total time");var Nt="prepare "+ut.length+" points";Et&&console.time(Nt),this.points=ut;for(var Jt=[],hr=0;hr<ut.length;hr++)ut[hr].geometry&&Jt.push(me(ut[hr],hr));this.trees[Ft+1]=new j(Jt,Ce,Oe,Ot,Float32Array),Et&&console.timeEnd(Nt);for(var cr=Ft;cr>=It;cr--){var dr=+Date.now();Jt=this._cluster(Jt,cr),this.trees[cr]=new j(Jt,Ce,Oe,Ot,Float32Array),Et&&console.log("z%d: %d clusters in %dms",cr,Jt.length,+Date.now()-dr)}return Et&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(ut,bt){var Et=((ut[0]+180)%360+360)%360-180,It=Math.max(-90,Math.min(90,ut[1])),Ft=ut[2]===180?180:((ut[2]+180)%360+360)%360-180,Ot=Math.max(-90,Math.min(90,ut[3]));if(ut[2]-ut[0]>=360)Et=-180,Ft=180;else if(Et>Ft){var Nt=this.getClusters([Et,It,180,Ot],bt),Jt=this.getClusters([-180,It,Ft,Ot],bt);return Nt.concat(Jt)}for(var hr=this.trees[this._limitZoom(bt)],cr=hr.range(Le(Et),Ie(Ot),Le(Ft),Ie(It)),dr=[],fr=0,Lr=cr;fr<Lr.length;fr+=1){var xr=Lr[fr],Qe=hr.points[xr];dr.push(Qe.numPoints?we(Qe):this.points[Qe.index])}return dr},ne.prototype.getChildren=function(ut){var bt=this._getOriginId(ut),Et=this._getOriginZoom(ut),It="No cluster with the specified id.",Ft=this.trees[Et];if(!Ft)throw new Error(It);var Ot=Ft.points[bt];if(!Ot)throw new Error(It);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Jt=Ft.within(Ot.x,Ot.y,Nt),hr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var fr=dr[cr],Lr=Ft.points[fr];Lr.parentId===ut&&hr.push(Lr.numPoints?we(Lr):this.points[Lr.index])}if(hr.length===0)throw new Error(It);return hr},ne.prototype.getLeaves=function(ut,bt,Et){bt=bt||10,Et=Et||0;var It=[];return this._appendLeaves(It,ut,bt,Et,0),It},ne.prototype.getTile=function(ut,bt,Et){var It=this.trees[this._limitZoom(ut)],Ft=Math.pow(2,ut),Ot=this.options,Nt=Ot.extent,Jt=Ot.radius,hr=Jt/Nt,cr=(Et-hr)/Ft,dr=(Et+1+hr)/Ft,fr={features:[]};return this._addTileFeatures(It.range((bt-hr)/Ft,cr,(bt+1+hr)/Ft,dr),It.points,bt,Et,Ft,fr),bt===0&&this._addTileFeatures(It.range(1-hr/Ft,cr,1,dr),It.points,Ft,Et,Ft,fr),bt===Ft-1&&this._addTileFeatures(It.range(0,cr,hr/Ft,dr),It.points,-1,Et,Ft,fr),fr.features.length?fr:null},ne.prototype.getClusterExpansionZoom=function(ut){for(var bt=this._getOriginZoom(ut)-1;bt<=this.options.maxZoom;){var Et=this.getChildren(ut);if(bt++,Et.length!==1)break;ut=Et[0].properties.cluster_id}return bt},ne.prototype._appendLeaves=function(ut,bt,Et,It,Ft){for(var Ot=this.getChildren(bt),Nt=0,Jt=Ot;Nt<Jt.length;Nt+=1){var hr=Jt[Nt],cr=hr.properties;if(cr&&cr.cluster?Ft+cr.point_count<=It?Ft+=cr.point_count:Ft=this._appendLeaves(ut,cr.cluster_id,Et,It,Ft):Ft<It?Ft++:ut.push(hr),ut.length===Et)break}return Ft},ne.prototype._addTileFeatures=function(ut,bt,Et,It,Ft,Ot){for(var Nt=0,Jt=ut;Nt<Jt.length;Nt+=1){var hr=Jt[Nt],cr=bt[hr],dr=cr.numPoints,fr={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Ft-Et)),Math.round(this.options.extent*(cr.y*Ft-It))]],tags:dr?Te(cr):this.points[cr.index].properties},Lr=void 0;dr?Lr=cr.id:this.options.generateId?Lr=cr.index:this.points[cr.index].id&&(Lr=this.points[cr.index].id),Lr!==void 0&&(fr.id=Lr),Ot.features.push(fr)}},ne.prototype._limitZoom=function(ut){return Math.max(this.options.minZoom,Math.min(+ut,this.options.maxZoom+1))},ne.prototype._cluster=function(ut,bt){for(var Et=[],It=this.options,Ft=It.radius,Ot=It.extent,Nt=It.reduce,Jt=It.minPoints,hr=Ft/(Ot*Math.pow(2,bt)),cr=0;cr<ut.length;cr++){var dr=ut[cr];if(!(dr.zoom<=bt)){dr.zoom=bt;for(var fr=this.trees[bt+1],Lr=fr.within(dr.x,dr.y,hr),xr=dr.numPoints||1,Qe=xr,rt=0,er=Lr;rt<er.length;rt+=1){var tr=er[rt],jt=fr.points[tr];jt.zoom>bt&&(Qe+=jt.numPoints||1)}if(Qe>=Jt){for(var Pt=dr.x*xr,Zt=dr.y*xr,nr=Nt&&xr>1?this._map(dr,!0):null,Qt=(cr<<5)+(bt+1)+this.points.length,Wt=0,yr=Lr;Wt<yr.length;Wt+=1){var Dr=yr[Wt],Tr=fr.points[Dr];if(!(Tr.zoom<=bt)){Tr.zoom=bt;var dn=Tr.numPoints||1;Pt+=Tr.x*dn,Zt+=Tr.y*dn,Tr.parentId=Qt,Nt&&(nr||(nr=this._map(dr,!0)),Nt(nr,this._map(Tr)))}}dr.parentId=Qt,Et.push(he(Pt/Qe,Zt/Qe,Qt,Qe,nr))}else if(Et.push(dr),Qe>1)for(var Nr=0,Cn=Lr;Nr<Cn.length;Nr+=1){var an=Cn[Nr],gr=fr.points[an];gr.zoom<=bt||(gr.zoom=bt,Et.push(gr))}}}return Et},ne.prototype._getOriginId=function(ut){return ut-this.points.length>>5},ne.prototype._getOriginZoom=function(ut){return(ut-this.points.length)%32},ne.prototype._map=function(ut,bt){if(ut.numPoints)return bt?_e({},ut.properties):ut.properties;var Et=this.points[ut.index].properties,It=this.options.map(Et);return bt&&It===Et?_e({},It):It};function he(yt,ut,bt,Et,It){return{x:yt,y:ut,zoom:1/0,id:bt,parentId:-1,numPoints:Et,properties:It}}function me(yt,ut){var bt=yt.geometry.coordinates,Et=bt[0],It=bt[1];return{x:Le(Et),y:Ie(It),zoom:1/0,index:ut,parentId:-1}}function we(yt){return{type:"Feature",id:yt.id,properties:Te(yt),geometry:{type:"Point",coordinates:[ze(yt.x),Me(yt.y)]}}}function Te(yt){var ut=yt.numPoints,bt=ut>=1e4?Math.round(ut/1e3)+"k":ut>=1e3?Math.round(ut/100)/10+"k":ut;return _e(_e({},yt.properties),{cluster:!0,cluster_id:yt.id,point_count:ut,point_count_abbreviated:bt})}function Le(yt){return yt/360+.5}function Ie(yt){var ut=Math.sin(yt*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function ze(yt){return(yt-.5)*360}function Me(yt){var ut=(180-yt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ut))/Math.PI-90}function _e(yt,ut){for(var bt in ut)yt[bt]=ut[bt];return yt}function Ce(yt){return yt.x}function Oe(yt){return yt.y}function Pe(yt,ut,bt,Et){for(var It=Et,Ft=bt-ut>>1,Ot=bt-ut,Nt,Jt=yt[ut],hr=yt[ut+1],cr=yt[bt],dr=yt[bt+1],fr=ut+3;fr<bt;fr+=3){var Lr=Ge(yt[fr],yt[fr+1],Jt,hr,cr,dr);if(Lr>It)Nt=fr,It=Lr;else if(Lr===It){var xr=Math.abs(fr-Ft);xr<Ot&&(Nt=fr,Ot=xr)}}It>Et&&(Nt-ut>3&&Pe(yt,ut,Nt,Et),yt[Nt+2]=It,bt-Nt>3&&Pe(yt,Nt,bt,Et))}function Ge(yt,ut,bt,Et,It,Ft){var Ot=It-bt,Nt=Ft-Et;if(Ot!==0||Nt!==0){var Jt=((yt-bt)*Ot+(ut-Et)*Nt)/(Ot*Ot+Nt*Nt);Jt>1?(bt=It,Et=Ft):Jt>0&&(bt+=Ot*Jt,Et+=Nt*Jt)}return Ot=yt-bt,Nt=ut-Et,Ot*Ot+Nt*Nt}function Ze(yt,ut,bt,Et){var It={id:typeof yt>"u"?null:yt,type:ut,geometry:bt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return it(It),It}function it(yt){var ut=yt.geometry,bt=yt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")Je(yt,ut);else if(bt==="Polygon"||bt==="MultiLineString")for(var Et=0;Et<ut.length;Et++)Je(yt,ut[Et]);else if(bt==="MultiPolygon")for(Et=0;Et<ut.length;Et++)for(var It=0;It<ut[Et].length;It++)Je(yt,ut[Et][It])}function Je(yt,ut){for(var bt=0;bt<ut.length;bt+=3)yt.minX=Math.min(yt.minX,ut[bt]),yt.minY=Math.min(yt.minY,ut[bt+1]),yt.maxX=Math.max(yt.maxX,ut[bt]),yt.maxY=Math.max(yt.maxY,ut[bt+1])}function et(yt,ut){var bt=[];if(yt.type==="FeatureCollection")for(var Et=0;Et<yt.features.length;Et++)ft(bt,yt.features[Et],ut,Et);else yt.type==="Feature"?ft(bt,yt,ut):ft(bt,{geometry:yt},ut);return bt}function ft(yt,ut,bt,Et){if(ut.geometry){var It=ut.geometry.coordinates,Ft=ut.geometry.type,Ot=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Nt=[],Jt=ut.id;if(bt.promoteId?Jt=ut.properties[bt.promoteId]:bt.generateId&&(Jt=Et||0),Ft==="Point")vt(It,Nt);else if(Ft==="MultiPoint")for(var hr=0;hr<It.length;hr++)vt(It[hr],Nt);else if(Ft==="LineString")dt(It,Nt,Ot,!1);else if(Ft==="MultiLineString")if(bt.lineMetrics){for(hr=0;hr<It.length;hr++)Nt=[],dt(It[hr],Nt,Ot,!1),yt.push(Ze(Jt,"LineString",Nt,ut.properties));return}else xt(It,Nt,Ot,!1);else if(Ft==="Polygon")xt(It,Nt,Ot,!0);else if(Ft==="MultiPolygon")for(hr=0;hr<It.length;hr++){var cr=[];xt(It[hr],cr,Ot,!0),Nt.push(cr)}else if(Ft==="GeometryCollection"){for(hr=0;hr<ut.geometry.geometries.length;hr++)ft(yt,{id:Jt,geometry:ut.geometry.geometries[hr],properties:ut.properties},bt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");yt.push(Ze(Jt,Ft,Nt,ut.properties))}}function vt(yt,ut){ut.push(Mt(yt[0])),ut.push(nt(yt[1])),ut.push(0)}function dt(yt,ut,bt,Et){for(var It,Ft,Ot=0,Nt=0;Nt<yt.length;Nt++){var Jt=Mt(yt[Nt][0]),hr=nt(yt[Nt][1]);ut.push(Jt),ut.push(hr),ut.push(0),Nt>0&&(Et?Ot+=(It*hr-Jt*Ft)/2:Ot+=Math.sqrt(Math.pow(Jt-It,2)+Math.pow(hr-Ft,2))),It=Jt,Ft=hr}var cr=ut.length-3;ut[2]=1,Pe(ut,0,cr,bt),ut[cr+2]=1,ut.size=Math.abs(Ot),ut.start=0,ut.end=ut.size}function xt(yt,ut,bt,Et){for(var It=0;It<yt.length;It++){var Ft=[];dt(yt[It],Ft,bt,Et),ut.push(Ft)}}function Mt(yt){return yt/360+.5}function nt(yt){var ut=Math.sin(yt*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function Fe(yt,ut,bt,Et,It,Ft,Ot,Nt){if(bt/=ut,Et/=ut,Ft>=bt&&Ot<Et)return yt;if(Ot<bt||Ft>=Et)return null;for(var Jt=[],hr=0;hr<yt.length;hr++){var cr=yt[hr],dr=cr.geometry,fr=cr.type,Lr=It===0?cr.minX:cr.minY,xr=It===0?cr.maxX:cr.maxY;if(Lr>=bt&&xr<Et){Jt.push(cr);continue}else if(xr<bt||Lr>=Et)continue;var Qe=[];if(fr==="Point"||fr==="MultiPoint")We(dr,Qe,bt,Et,It);else if(fr==="LineString")je(dr,Qe,bt,Et,It,!1,Nt.lineMetrics);else if(fr==="MultiLineString")ke(dr,Qe,bt,Et,It,!1);else if(fr==="Polygon")ke(dr,Qe,bt,Et,It,!0);else if(fr==="MultiPolygon")for(var rt=0;rt<dr.length;rt++){var er=[];ke(dr[rt],er,bt,Et,It,!0),er.length&&Qe.push(er)}if(Qe.length){if(Nt.lineMetrics&&fr==="LineString"){for(rt=0;rt<Qe.length;rt++)Jt.push(Ze(cr.id,fr,Qe[rt],cr.tags));continue}(fr==="LineString"||fr==="MultiLineString")&&(Qe.length===1?(fr="LineString",Qe=Qe[0]):fr="MultiLineString"),(fr==="Point"||fr==="MultiPoint")&&(fr=Qe.length===3?"Point":"MultiPoint"),Jt.push(Ze(cr.id,fr,Qe,cr.tags))}}return Jt.length?Jt:null}function We(yt,ut,bt,Et,It){for(var Ft=0;Ft<yt.length;Ft+=3){var Ot=yt[Ft+It];Ot>=bt&&Ot<=Et&&(ut.push(yt[Ft]),ut.push(yt[Ft+1]),ut.push(yt[Ft+2]))}}function je(yt,ut,bt,Et,It,Ft,Ot){for(var Nt=Ke(yt),Jt=It===0?Ve:Re,hr=yt.start,cr,dr,fr=0;fr<yt.length-3;fr+=3){var Lr=yt[fr],xr=yt[fr+1],Qe=yt[fr+2],rt=yt[fr+3],er=yt[fr+4],tr=It===0?Lr:xr,jt=It===0?rt:er,Pt=!1;Ot&&(cr=Math.sqrt(Math.pow(Lr-rt,2)+Math.pow(xr-er,2))),tr<bt?jt>bt&&(dr=Jt(Nt,Lr,xr,rt,er,bt),Ot&&(Nt.start=hr+cr*dr)):tr>Et?jt<Et&&(dr=Jt(Nt,Lr,xr,rt,er,Et),Ot&&(Nt.start=hr+cr*dr)):Ue(Nt,Lr,xr,Qe),jt<bt&&tr>=bt&&(dr=Jt(Nt,Lr,xr,rt,er,bt),Pt=!0),jt>Et&&tr<=Et&&(dr=Jt(Nt,Lr,xr,rt,er,Et),Pt=!0),!Ft&&Pt&&(Ot&&(Nt.end=hr+cr*dr),ut.push(Nt),Nt=Ke(yt)),Ot&&(hr+=cr)}var Zt=yt.length-3;Lr=yt[Zt],xr=yt[Zt+1],Qe=yt[Zt+2],tr=It===0?Lr:xr,tr>=bt&&tr<=Et&&Ue(Nt,Lr,xr,Qe),Zt=Nt.length-3,Ft&&Zt>=3&&(Nt[Zt]!==Nt[0]||Nt[Zt+1]!==Nt[1])&&Ue(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&ut.push(Nt)}function Ke(yt){var ut=[];return ut.size=yt.size,ut.start=yt.start,ut.end=yt.end,ut}function ke(yt,ut,bt,Et,It,Ft){for(var Ot=0;Ot<yt.length;Ot++)je(yt[Ot],ut,bt,Et,It,Ft,!1)}function Ue(yt,ut,bt,Et){yt.push(ut),yt.push(bt),yt.push(Et)}function Ve(yt,ut,bt,Et,It,Ft){var Ot=(Ft-ut)/(Et-ut);return yt.push(Ft),yt.push(bt+(It-bt)*Ot),yt.push(1),Ot}function Re(yt,ut,bt,Et,It,Ft){var Ot=(Ft-bt)/(It-bt);return yt.push(ut+(Et-ut)*Ot),yt.push(Ft),yt.push(1),Ot}function de(yt,ut){var bt=ut.buffer/ut.extent,Et=yt,It=Fe(yt,1,-1-bt,bt,0,-1,2,ut),Ft=Fe(yt,1,1-bt,2+bt,0,-1,2,ut);return(It||Ft)&&(Et=Fe(yt,1,-bt,1+bt,0,-1,2,ut)||[],It&&(Et=be(It,1).concat(Et)),Ft&&(Et=Et.concat(be(Ft,-1)))),Et}function be(yt,ut){for(var bt=[],Et=0;Et<yt.length;Et++){var It=yt[Et],Ft=It.type,Ot;if(Ft==="Point"||Ft==="MultiPoint"||Ft==="LineString")Ot=Ne(It.geometry,ut);else if(Ft==="MultiLineString"||Ft==="Polygon"){Ot=[];for(var Nt=0;Nt<It.geometry.length;Nt++)Ot.push(Ne(It.geometry[Nt],ut))}else if(Ft==="MultiPolygon")for(Ot=[],Nt=0;Nt<It.geometry.length;Nt++){for(var Jt=[],hr=0;hr<It.geometry[Nt].length;hr++)Jt.push(Ne(It.geometry[Nt][hr],ut));Ot.push(Jt)}bt.push(Ze(It.id,Ft,Ot,It.tags))}return bt}function Ne(yt,ut){var bt=[];bt.size=yt.size,yt.start!==void 0&&(bt.start=yt.start,bt.end=yt.end);for(var Et=0;Et<yt.length;Et+=3)bt.push(yt[Et]+ut,yt[Et+1],yt[Et+2]);return bt}function Ye(yt,ut){if(yt.transformed)return yt;var bt=1<<yt.z,Et=yt.x,It=yt.y,Ft,Ot,Nt;for(Ft=0;Ft<yt.features.length;Ft++){var Jt=yt.features[Ft],hr=Jt.geometry,cr=Jt.type;if(Jt.geometry=[],cr===1)for(Ot=0;Ot<hr.length;Ot+=2)Jt.geometry.push(at(hr[Ot],hr[Ot+1],ut,bt,Et,It));else for(Ot=0;Ot<hr.length;Ot++){var dr=[];for(Nt=0;Nt<hr[Ot].length;Nt+=2)dr.push(at(hr[Ot][Nt],hr[Ot][Nt+1],ut,bt,Et,It));Jt.geometry.push(dr)}}return yt.transformed=!0,yt}function at(yt,ut,bt,Et,It,Ft){return[Math.round(bt*(yt*Et-It)),Math.round(bt*(ut*Et-Ft))]}function lt(yt,ut,bt,Et,It){for(var Ft=ut===It.maxZoom?0:It.tolerance/((1<<ut)*It.extent),Ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Et,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<yt.length;Nt++){Ot.numFeatures++,Ht(Ot,yt[Nt],Ft,It);var Jt=yt[Nt].minX,hr=yt[Nt].minY,cr=yt[Nt].maxX,dr=yt[Nt].maxY;Jt<Ot.minX&&(Ot.minX=Jt),hr<Ot.minY&&(Ot.minY=hr),cr>Ot.maxX&&(Ot.maxX=cr),dr>Ot.maxY&&(Ot.maxY=dr)}return Ot}function Ht(yt,ut,bt,Et){var It=ut.geometry,Ft=ut.type,Ot=[];if(Ft==="Point"||Ft==="MultiPoint")for(var Nt=0;Nt<It.length;Nt+=3)Ot.push(It[Nt]),Ot.push(It[Nt+1]),yt.numPoints++,yt.numSimplified++;else if(Ft==="LineString")Yt(Ot,It,yt,bt,!1,!1);else if(Ft==="MultiLineString"||Ft==="Polygon")for(Nt=0;Nt<It.length;Nt++)Yt(Ot,It[Nt],yt,bt,Ft==="Polygon",Nt===0);else if(Ft==="MultiPolygon")for(var Jt=0;Jt<It.length;Jt++){var hr=It[Jt];for(Nt=0;Nt<hr.length;Nt++)Yt(Ot,hr[Nt],yt,bt,!0,Nt===0)}if(Ot.length){var cr=ut.tags||null;if(Ft==="LineString"&&Et.lineMetrics){cr={};for(var dr in ut.tags)cr[dr]=ut.tags[dr];cr.mapbox_clip_start=It.start/It.size,cr.mapbox_clip_end=It.end/It.size}var fr={geometry:Ot,type:Ft==="Polygon"||Ft==="MultiPolygon"?3:Ft==="LineString"||Ft==="MultiLineString"?2:1,tags:cr};ut.id!==null&&(fr.id=ut.id),yt.features.push(fr)}}function Yt(yt,ut,bt,Et,It,Ft){var Ot=Et*Et;if(Et>0&&ut.size<(It?Ot:Et)){bt.numPoints+=ut.length/3;return}for(var Nt=[],Jt=0;Jt<ut.length;Jt+=3)(Et===0||ut[Jt+2]>Ot)&&(bt.numSimplified++,Nt.push(ut[Jt]),Nt.push(ut[Jt+1])),bt.numPoints++;It&&Tt(Nt,Ft),yt.push(Nt)}function Tt(yt,ut){for(var bt=0,Et=0,It=yt.length,Ft=It-2;Et<It;Ft=Et,Et+=2)bt+=(yt[Et]-yt[Ft])*(yt[Et+1]+yt[Ft+1]);if(bt>0===ut)for(Et=0,It=yt.length;Et<It/2;Et+=2){var Ot=yt[Et],Nt=yt[Et+1];yt[Et]=yt[It-2-Et],yt[Et+1]=yt[It-1-Et],yt[It-2-Et]=Ot,yt[It-1-Et]=Nt}}function Lt(yt,ut){return new Kt(yt,ut)}function Kt(yt,ut){ut=this.options=gt(Object.create(this.options),ut);var bt=ut.debug;if(bt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=et(yt,ut);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=de(Et,ut),Et.length&&this.splitTile(Et,0,0,0),bt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(yt,ut,bt,Et,It,Ft,Ot){for(var Nt=[yt,ut,bt,Et],Jt=this.options,hr=Jt.debug;Nt.length;){Et=Nt.pop(),bt=Nt.pop(),ut=Nt.pop(),yt=Nt.pop();var cr=1<<ut,dr=vr(ut,bt,Et),fr=this.tiles[dr];if(!fr&&(hr>1&&console.time("creation"),fr=this.tiles[dr]=lt(yt,ut,bt,Et,Jt),this.tileCoords.push({z:ut,x:bt,y:Et}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,bt,Et,fr.numFeatures,fr.numPoints,fr.numSimplified),console.timeEnd("creation"));var Lr="z"+ut;this.stats[Lr]=(this.stats[Lr]||0)+1,this.total++}if(fr.source=yt,It){if(ut===Jt.maxZoom||ut===It)continue;var xr=1<<It-ut;if(bt!==Math.floor(Ft/xr)||Et!==Math.floor(Ot/xr))continue}else if(ut===Jt.indexMaxZoom||fr.numPoints<=Jt.indexMaxPoints)continue;if(fr.source=null,yt.length!==0){hr>1&&console.time("clipping");var Qe=.5*Jt.buffer/Jt.extent,rt=.5-Qe,er=.5+Qe,tr=1+Qe,jt,Pt,Zt,nr,Qt,Wt;jt=Pt=Zt=nr=null,Qt=Fe(yt,cr,bt-Qe,bt+er,0,fr.minX,fr.maxX,Jt),Wt=Fe(yt,cr,bt+rt,bt+tr,0,fr.minX,fr.maxX,Jt),yt=null,Qt&&(jt=Fe(Qt,cr,Et-Qe,Et+er,1,fr.minY,fr.maxY,Jt),Pt=Fe(Qt,cr,Et+rt,Et+tr,1,fr.minY,fr.maxY,Jt),Qt=null),Wt&&(Zt=Fe(Wt,cr,Et-Qe,Et+er,1,fr.minY,fr.maxY,Jt),nr=Fe(Wt,cr,Et+rt,Et+tr,1,fr.minY,fr.maxY,Jt),Wt=null),hr>1&&console.timeEnd("clipping"),Nt.push(jt||[],ut+1,bt*2,Et*2),Nt.push(Pt||[],ut+1,bt*2,Et*2+1),Nt.push(Zt||[],ut+1,bt*2+1,Et*2),Nt.push(nr||[],ut+1,bt*2+1,Et*2+1)}}},Kt.prototype.getTile=function(yt,ut,bt){var Et=this.options,It=Et.extent,Ft=Et.debug;if(yt<0||yt>24)return null;var Ot=1<<yt;ut=(ut%Ot+Ot)%Ot;var Nt=vr(yt,ut,bt);if(this.tiles[Nt])return Ye(this.tiles[Nt],It);Ft>1&&console.log("drilling down to z%d-%d-%d",yt,ut,bt);for(var Jt=yt,hr=ut,cr=bt,dr;!dr&&Jt>0;)Jt--,hr=Math.floor(hr/2),cr=Math.floor(cr/2),dr=this.tiles[vr(Jt,hr,cr)];return!dr||!dr.source?null:(Ft>1&&console.log("found parent tile z%d-%d-%d",Jt,hr,cr),Ft>1&&console.time("drilling down"),this.splitTile(dr.source,Jt,hr,cr,yt,ut,bt),Ft>1&&console.timeEnd("drilling down"),this.tiles[Nt]?Ye(this.tiles[Nt],It):null)};function vr(yt,ut,bt){return((1<<yt)*bt+ut)*32+yt}function gt(yt,ut){for(var bt in ut)yt[bt]=ut[bt];return yt}function Xt(yt,ut){var bt=yt.tileID.canonical;if(!this._geoJSONIndex)return ut(null,null);var Et=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Et)return ut(null,null);var It=new A(Et.features),Ft=s(It);(Ft.byteOffset!==0||Ft.byteLength!==Ft.buffer.byteLength)&&(Ft=new Uint8Array(Ft)),ut(null,{vectorTile:It,rawData:Ft.buffer})}var $t=function(yt){function ut(bt,Et,It,Ft){yt.call(this,bt,Et,It,Xt),Ft&&(this.loadGeoJSON=Ft)}return yt&&(ut.__proto__=yt),ut.prototype=Object.create(yt&&yt.prototype),ut.prototype.constructor=ut,ut.prototype.loadData=function(Et,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=It,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ut.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var It=this._pendingCallback,Ft=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ot=Ft&&Ft.request&&Ft.request.collectResourceTiming?new n.RequestPerformance(Ft.request):!1;this.loadGeoJSON(Ft,function(Nt,Jt){if(Nt||!Jt)return It(Nt);if(typeof Jt!="object")return It(new Error("Input data given to '"+Ft.source+"' is not a valid GeoJSON object."));c(Jt,!0);try{if(Ft.filter){var hr=n.createExpression(Ft.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(Lr){return Lr.key+": "+Lr.message}).join(", "));var cr=Jt.features.filter(function(Lr){return hr.value.evaluate({zoom:0},Lr)});Jt={type:"FeatureCollection",features:cr}}Et._geoJSONIndex=Ft.cluster?new ne(mr(Ft)).load(Jt.features):Lt(Jt,Ft.geojsonVtOptions)}catch(Lr){return It(Lr)}Et.loaded={};var dr={};if(Ot){var fr=Ot.finish();fr&&(dr.resourceTiming={},dr.resourceTiming[Ft.source]=JSON.parse(JSON.stringify(fr)))}It(null,dr)})}},ut.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ut.prototype.reloadTile=function(Et,It){var Ft=this.loaded,Ot=Et.uid;return Ft&&Ft[Ot]?yt.prototype.reloadTile.call(this,Et,It):this.loadTile(Et,It)},ut.prototype.loadGeoJSON=function(Et,It){if(Et.request)n.getJSON(Et.request,It);else if(typeof Et.data=="string")try{return It(null,JSON.parse(Et.data))}catch{return It(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return It(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},ut.prototype.removeSource=function(Et,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),It()},ut.prototype.getClusterExpansionZoom=function(Et,It){try{It(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Ft){It(Ft)}},ut.prototype.getClusterChildren=function(Et,It){try{It(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Ft){It(Ft)}},ut.prototype.getClusterLeaves=function(Et,It){try{It(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Ft){It(Ft)}},ut}(f);function mr(yt){var ut=yt.superclusterOptions,bt=yt.clusterProperties;if(!bt||!ut)return ut;for(var Et={},It={},Ft={accumulated:null,zoom:0},Ot={properties:null},Nt=Object.keys(bt),Jt=0,hr=Nt;Jt<hr.length;Jt+=1){var cr=hr[Jt],dr=bt[cr],fr=dr[0],Lr=dr[1],xr=n.createExpression(Lr),Qe=n.createExpression(typeof fr=="string"?[fr,["accumulated"],["get",cr]]:fr);Et[cr]=xr.value,It[cr]=Qe.value}return ut.map=function(rt){Ot.properties=rt;for(var er={},tr=0,jt=Nt;tr<jt.length;tr+=1){var Pt=jt[tr];er[Pt]=Et[Pt].evaluate(Ft,Ot)}return er},ut.reduce=function(rt,er){Ot.properties=er;for(var tr=0,jt=Nt;tr<jt.length;tr+=1){var Pt=jt[tr];Ft.accumulated=rt[Pt],rt[Pt]=It[Pt].evaluate(Ft,Ot)}},ut}var or=function(ut){var bt=this;this.self=ut,this.actor=new n.Actor(ut,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:$t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,It){if(bt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');bt.workerSourceTypes[Et]=It},this.self.registerRTLTextPlugin=function(Et){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Et.applyArabicShaping,n.plugin.processBidirectionalText=Et.processBidirectionalText,n.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return or.prototype.setReferrer=function(ut,bt){this.referrer=bt},or.prototype.setImages=function(ut,bt,Et){this.availableImages[ut]=bt;for(var It in this.workerSources[ut]){var Ft=this.workerSources[ut][It];for(var Ot in Ft)Ft[Ot].availableImages=bt}Et()},or.prototype.setLayers=function(ut,bt,Et){this.getLayerIndex(ut).replace(bt),Et()},or.prototype.updateLayers=function(ut,bt,Et){this.getLayerIndex(ut).update(bt.layers,bt.removedIds),Et()},or.prototype.loadTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).loadTile(bt,Et)},or.prototype.loadDEMTile=function(ut,bt,Et){this.getDEMWorkerSource(ut,bt.source).loadTile(bt,Et)},or.prototype.reloadTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).reloadTile(bt,Et)},or.prototype.abortTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).abortTile(bt,Et)},or.prototype.removeTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).removeTile(bt,Et)},or.prototype.removeDEMTile=function(ut,bt){this.getDEMWorkerSource(ut,bt.source).removeTile(bt)},or.prototype.removeSource=function(ut,bt,Et){if(!(!this.workerSources[ut]||!this.workerSources[ut][bt.type]||!this.workerSources[ut][bt.type][bt.source])){var It=this.workerSources[ut][bt.type][bt.source];delete this.workerSources[ut][bt.type][bt.source],It.removeSource!==void 0?It.removeSource(bt,Et):Et()}},or.prototype.loadWorkerSource=function(ut,bt,Et){try{this.self.importScripts(bt.url),Et()}catch(It){Et(It.toString())}},or.prototype.syncRTLPluginState=function(ut,bt,Et){try{n.plugin.setState(bt);var It=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&It!=null){this.self.importScripts(It);var Ft=n.plugin.isParsed(),Ot=Ft?void 0:new Error("RTL Text Plugin failed to import scripts from "+It);Et(Ot,Ft)}}catch(Nt){Et(Nt.toString())}},or.prototype.getAvailableImages=function(ut){var bt=this.availableImages[ut];return bt||(bt=[]),bt},or.prototype.getLayerIndex=function(ut){var bt=this.layerIndexes[ut];return bt||(bt=this.layerIndexes[ut]=new p),bt},or.prototype.getWorkerSource=function(ut,bt,Et){var It=this;if(this.workerSources[ut]||(this.workerSources[ut]={}),this.workerSources[ut][bt]||(this.workerSources[ut][bt]={}),!this.workerSources[ut][bt][Et]){var Ft={send:function(Ot,Nt,Jt){It.actor.send(Ot,Nt,Jt,ut)}};this.workerSources[ut][bt][Et]=new this.workerSourceTypes[bt](Ft,this.getLayerIndex(ut),this.getAvailableImages(ut))}return this.workerSources[ut][bt][Et]},or.prototype.getDEMWorkerSource=function(ut,bt){return this.demWorkerSources[ut]||(this.demWorkerSources[ut]={}),this.demWorkerSources[ut][bt]||(this.demWorkerSources[ut][bt]=new y),this.demWorkerSources[ut][bt]},or.prototype.enforceCacheSizeLimit=function(ut,bt){n.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),P(["./shared"],function(n){var C=n.createCommonjsModule(function(ve){ve.exports?ve.exports=K:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=K,window.mapboxgl.notSupportedReason=ge);function K(jr){return!ge(jr)}function ge(jr){if(!re())return"not a browser";if(!ye())return"insufficent Array support";if(!Be())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!ct())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Bt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!Fr(jr&&jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function re(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Be(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ct(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var jr=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(jr),pn,_n;try{_n=new Worker(Qr),pn=!0}catch{pn=!1}return _n&&_n.terminate(),URL.revokeObjectURL(Qr),pn}function Bt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function ur(){var jr=document.createElement("canvas");jr.width=jr.height=1;var Qr=jr.getContext("2d");if(!Qr)return!1;var pn=Qr.getImageData(0,0,1,1);return pn&&pn.width===jr.width}var lr={};function Fr(jr){return lr[jr]===void 0&&(lr[jr]=Zr(jr)),lr[jr]}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Kr(jr){var Qr=document.createElement("canvas"),pn=Object.create(K.webGLContextAttributes);return pn.failIfMajorPerformanceCaveat=jr,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",pn)||Qr.probablySupportsContext("experimental-webgl",pn):Qr.supportsContext?Qr.supportsContext("webgl",pn)||Qr.supportsContext("experimental-webgl",pn):Qr.getContext("webgl",pn)||Qr.getContext("experimental-webgl",pn)}function Zr(jr){var Qr=Kr(jr);if(!Qr)return!1;var pn=Qr.createShader(Qr.VERTEX_SHADER);return!pn||Qr.isContextLost()?!1:(Qr.shaderSource(pn,"void main() {}"),Qr.compileShader(pn),Qr.getShaderParameter(pn,Qr.COMPILE_STATUS)===!0)}}),x={};x.create=function(ve,K,ge){var re=n.window.document.createElement(ve);return K!==void 0&&(re.className=K),ge&&ge.appendChild(re),re},x.createNS=function(ve,K){var ge=n.window.document.createElementNS(ve,K);return ge};var v=n.window.document&&n.window.document.documentElement.style;function p(ve){if(!v)return ve[0];for(var K=0;K<ve.length;K++)if(ve[K]in v)return ve[K];return ve[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;x.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},x.enableDrag=function(){v&&r&&(v[r]=t)};var o=p(["transform","WebkitTransform"]);x.setTransform=function(ve,K){ve.style[o]=K};var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});n.window.addEventListener("test",u,u),n.window.removeEventListener("test",u,u)}catch{a=!1}x.addEventListener=function(ve,K,ge,re){re===void 0&&(re={}),"passive"in re&&a?ve.addEventListener(K,ge,re):ve.addEventListener(K,ge,re.capture)},x.removeEventListener=function(ve,K,ge,re){re===void 0&&(re={}),"passive"in re&&a?ve.removeEventListener(K,ge,re):ve.removeEventListener(K,ge,re.capture)};var f=function(ve){ve.preventDefault(),ve.stopPropagation(),n.window.removeEventListener("click",f,!0)};x.suppressClick=function(){n.window.addEventListener("click",f,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",f,!0)},0)},x.mousePos=function(ve,K){var ge=ve.getBoundingClientRect();return new n.Point(K.clientX-ge.left-ve.clientLeft,K.clientY-ge.top-ve.clientTop)},x.touchPos=function(ve,K){for(var ge=ve.getBoundingClientRect(),re=[],ye=0;ye<K.length;ye++)re.push(new n.Point(K[ye].clientX-ge.left-ve.clientLeft,K[ye].clientY-ge.top-ve.clientTop));return re},x.mouseButton=function(ve){return typeof n.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},x.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function l(ve,K,ge){var re,ye,Be,Xe=n.browser.devicePixelRatio>1?"@2x":"",ct=n.getJSON(K.transformRequest(K.normalizeSpriteURL(ve,Xe,".json"),n.ResourceType.SpriteJSON),function(qt,ur){ct=null,Be||(Be=qt,re=ur,Bt())}),Ct=n.getImage(K.transformRequest(K.normalizeSpriteURL(ve,Xe,".png"),n.ResourceType.SpriteImage),function(qt,ur){Ct=null,Be||(Be=qt,ye=ur,Bt())});function Bt(){if(Be)ge(Be);else if(re&&ye){var qt=n.browser.getImageData(ye),ur={};for(var lr in re){var Fr=re[lr],Kr=Fr.width,Zr=Fr.height,jr=Fr.x,Qr=Fr.y,pn=Fr.sdf,_n=Fr.pixelRatio,Vn=Fr.stretchX,Zn=Fr.stretchY,Jn=Fr.content,jn=new n.RGBAImage({width:Kr,height:Zr});n.RGBAImage.copy(qt,jn,{x:jr,y:Qr},{x:0,y:0},{width:Kr,height:Zr}),ur[lr]={data:jn,pixelRatio:_n,sdf:pn,stretchX:Vn,stretchY:Zn,content:Jn}}ge(null,ur)}}return{cancel:function(){ct&&(ct.cancel(),ct=null),Ct&&(Ct.cancel(),Ct=null)}}}function y(ve){var K=ve.userImage;if(K&&K.render){var ge=K.render();if(ge)return ve.data.replace(new Uint8Array(K.data.buffer)),!0}return!1}var c=1,T=function(ve){function K(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.isLoaded=function(){return this.loaded},K.prototype.setLoaded=function(re){if(this.loaded!==re&&(this.loaded=re,re)){for(var ye=0,Be=this.requestors;ye<Be.length;ye+=1){var Xe=Be[ye],ct=Xe.ids,Ct=Xe.callback;this._notify(ct,Ct)}this.requestors=[]}},K.prototype.getImage=function(re){return this.images[re]},K.prototype.addImage=function(re,ye){this._validate(re,ye)&&(this.images[re]=ye)},K.prototype._validate=function(re,ye){var Be=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchX" value'))),Be=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchY" value'))),Be=!1),this._validateContent(ye.content,ye)||(this.fire(new n.ErrorEvent(new Error('Image "'+re+'" has invalid "content" value'))),Be=!1),Be},K.prototype._validateStretch=function(re,ye){if(!re)return!0;for(var Be=0,Xe=0,ct=re;Xe<ct.length;Xe+=1){var Ct=ct[Xe];if(Ct[0]<Be||Ct[1]<Ct[0]||ye<Ct[1])return!1;Be=Ct[1]}return!0},K.prototype._validateContent=function(re,ye){return re?!(re.length!==4||re[0]<0||ye.data.width<re[0]||re[1]<0||ye.data.height<re[1]||re[2]<0||ye.data.width<re[2]||re[3]<0||ye.data.height<re[3]||re[2]<re[0]||re[3]<re[1]):!0},K.prototype.updateImage=function(re,ye){var Be=this.images[re];ye.version=Be.version+1,this.images[re]=ye,this.updatedImages[re]=!0},K.prototype.removeImage=function(re){var ye=this.images[re];delete this.images[re],delete this.patterns[re],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},K.prototype.listImages=function(){return Object.keys(this.images)},K.prototype.getImages=function(re,ye){var Be=!0;if(!this.isLoaded())for(var Xe=0,ct=re;Xe<ct.length;Xe+=1){var Ct=ct[Xe];this.images[Ct]||(Be=!1)}this.isLoaded()||Be?this._notify(re,ye):this.requestors.push({ids:re,callback:ye})},K.prototype._notify=function(re,ye){for(var Be={},Xe=0,ct=re;Xe<ct.length;Xe+=1){var Ct=ct[Xe];this.images[Ct]||this.fire(new n.Event("styleimagemissing",{id:Ct}));var Bt=this.images[Ct];Bt?Be[Ct]={data:Bt.data.clone(),pixelRatio:Bt.pixelRatio,sdf:Bt.sdf,version:Bt.version,stretchX:Bt.stretchX,stretchY:Bt.stretchY,content:Bt.content,hasRenderCallback:!!(Bt.userImage&&Bt.userImage.render)}:n.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,Be)},K.prototype.getPixelSize=function(){var re=this.atlasImage,ye=re.width,Be=re.height;return{width:ye,height:Be}},K.prototype.getPattern=function(re){var ye=this.patterns[re],Be=this.getImage(re);if(!Be)return null;if(ye&&ye.position.version===Be.version)return ye.position;if(ye)ye.position.version=Be.version;else{var Xe=Be.data.width+c*2,ct=Be.data.height+c*2,Ct={w:Xe,h:ct,x:0,y:0},Bt=new n.ImagePosition(Ct,Be);this.patterns[re]={bin:Ct,position:Bt}}return this._updatePatternAtlas(),this.patterns[re].position},K.prototype.bind=function(re){var ye=re.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(re,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},K.prototype._updatePatternAtlas=function(){var re=[];for(var ye in this.patterns)re.push(this.patterns[ye].bin);var Be=n.potpack(re),Xe=Be.w,ct=Be.h,Ct=this.atlasImage;Ct.resize({width:Xe||1,height:ct||1});for(var Bt in this.patterns){var qt=this.patterns[Bt],ur=qt.bin,lr=ur.x+c,Fr=ur.y+c,Kr=this.images[Bt].data,Zr=Kr.width,jr=Kr.height;n.RGBAImage.copy(Kr,Ct,{x:0,y:0},{x:lr,y:Fr},{width:Zr,height:jr}),n.RGBAImage.copy(Kr,Ct,{x:0,y:jr-1},{x:lr,y:Fr-1},{width:Zr,height:1}),n.RGBAImage.copy(Kr,Ct,{x:0,y:0},{x:lr,y:Fr+jr},{width:Zr,height:1}),n.RGBAImage.copy(Kr,Ct,{x:Zr-1,y:0},{x:lr-1,y:Fr},{width:1,height:jr}),n.RGBAImage.copy(Kr,Ct,{x:0,y:0},{x:lr+Zr,y:Fr},{width:1,height:jr})}this.dirty=!0},K.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},K.prototype.dispatchRenderCallbacks=function(re){for(var ye=0,Be=re;ye<Be.length;ye+=1){var Xe=Be[ye];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var ct=this.images[Xe],Ct=y(ct);Ct&&this.updateImage(Xe,ct)}}},K}(n.Evented);function h(ve,K,ge,re,ye){var Be=K*256,Xe=Be+255,ct=re.transformRequest(re.normalizeGlyphsURL(ge).replace("{fontstack}",ve).replace("{range}",Be+"-"+Xe),n.ResourceType.Glyphs);n.getArrayBuffer(ct,function(Ct,Bt){if(Ct)ye(Ct);else if(Bt){for(var qt={},ur=0,lr=n.parseGlyphPBF(Bt);ur<lr.length;ur+=1){var Fr=lr[ur];qt[Fr.id]=Fr}ye(null,qt)}})}var i=A,g=A,b=1e20;function A(ve,K,ge,re,ye,Be){this.fontSize=ve||24,this.buffer=K===void 0?3:K,this.cutoff=re||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Be||"normal",this.radius=ge||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var K=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),re=0;re<this.size*this.size;re++){var ye=K.data[re*4+3]/255;this.gridOuter[re]=ye===1?0:ye===0?b:Math.pow(Math.max(0,.5-ye),2),this.gridInner[re]=ye===1?b:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(R(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),R(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),re=0;re<this.size*this.size;re++){var Be=this.gridOuter[re]-this.gridInner[re];ge[re]=Math.max(0,Math.min(255,Math.round(255-255*(Be/this.radius+this.cutoff))))}return ge};function R(ve,K,ge,re,ye,Be,Xe){for(var ct=0;ct<K;ct++){for(var Ct=0;Ct<ge;Ct++)re[Ct]=ve[Ct*K+ct];for(m(re,ye,Be,Xe,ge),Ct=0;Ct<ge;Ct++)ve[Ct*K+ct]=ye[Ct]}for(Ct=0;Ct<ge;Ct++){for(ct=0;ct<K;ct++)re[ct]=ve[Ct*K+ct];for(m(re,ye,Be,Xe,K),ct=0;ct<K;ct++)ve[Ct*K+ct]=Math.sqrt(ye[ct])}}function m(ve,K,ge,re,ye){ge[0]=0,re[0]=-b,re[1]=+b;for(var Be=1,Xe=0;Be<ye;Be++){for(var ct=(ve[Be]+Be*Be-(ve[ge[Xe]]+ge[Xe]*ge[Xe]))/(2*Be-2*ge[Xe]);ct<=re[Xe];)Xe--,ct=(ve[Be]+Be*Be-(ve[ge[Xe]]+ge[Xe]*ge[Xe]))/(2*Be-2*ge[Xe]);Xe++,ge[Xe]=Be,re[Xe]=ct,re[Xe+1]=+b}for(Be=0,Xe=0;Be<ye;Be++){for(;re[Xe+1]<Be;)Xe++;K[Be]=(Be-ge[Xe])*(Be-ge[Xe])+ve[ge[Xe]]}}i.default=g;var L=function(K,ge){this.requestManager=K,this.localIdeographFontFamily=ge,this.entries={}};L.prototype.setURL=function(K){this.url=K},L.prototype.getGlyphs=function(K,ge){var re=this,ye=[];for(var Be in K)for(var Xe=0,ct=K[Be];Xe<ct.length;Xe+=1){var Ct=ct[Xe];ye.push({stack:Be,id:Ct})}n.asyncAll(ye,function(Bt,qt){var ur=Bt.stack,lr=Bt.id,Fr=re.entries[ur];Fr||(Fr=re.entries[ur]={glyphs:{},requests:{},ranges:{}});var Kr=Fr.glyphs[lr];if(Kr!==void 0){qt(null,{stack:ur,id:lr,glyph:Kr});return}if(Kr=re._tinySDF(Fr,ur,lr),Kr){Fr.glyphs[lr]=Kr,qt(null,{stack:ur,id:lr,glyph:Kr});return}var Zr=Math.floor(lr/256);if(Zr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Fr.ranges[Zr]){qt(null,{stack:ur,id:lr,glyph:Kr});return}var jr=Fr.requests[Zr];jr||(jr=Fr.requests[Zr]=[],L.loadGlyphRange(ur,Zr,re.url,re.requestManager,function(Qr,pn){if(pn){for(var _n in pn)re._doesCharSupportLocalGlyph(+_n)||(Fr.glyphs[+_n]=pn[+_n]);Fr.ranges[Zr]=!0}for(var Vn=0,Zn=jr;Vn<Zn.length;Vn+=1){var Jn=Zn[Vn];Jn(Qr,pn)}delete Fr.requests[Zr]})),jr.push(function(Qr,pn){Qr?qt(Qr):pn&&qt(null,{stack:ur,id:lr,glyph:pn[lr]||null})})},function(Bt,qt){if(Bt)ge(Bt);else if(qt){for(var ur={},lr=0,Fr=qt;lr<Fr.length;lr+=1){var Kr=Fr[lr],Zr=Kr.stack,jr=Kr.id,Qr=Kr.glyph;(ur[Zr]||(ur[Zr]={}))[jr]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}ge(null,ur)}})},L.prototype._doesCharSupportLocalGlyph=function(K){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](K)||n.isChar["Hangul Syllables"](K)||n.isChar.Hiragana(K)||n.isChar.Katakana(K))},L.prototype._tinySDF=function(K,ge,re){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(re)){var Be=K.tinySDF;if(!Be){var Xe="400";/bold/i.test(ge)?Xe="900":/medium/i.test(ge)?Xe="500":/light/i.test(ge)&&(Xe="200"),Be=K.tinySDF=new L.TinySDF(24,3,8,.25,ye,Xe)}return{id:re,bitmap:new n.AlphaImage({width:30,height:30},Be.draw(String.fromCharCode(re))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},L.loadGlyphRange=h,L.TinySDF=i;var M=function(){this.specification=n.styleSpec.light.position};M.prototype.possiblyEvaluate=function(K,ge){return n.sphericalToCartesian(K.expression.evaluate(ge))},M.prototype.interpolate=function(K,ge,re){return{x:n.number(K.x,ge.x,re),y:n.number(K.y,ge.y,re),z:n.number(K.z,ge.z,re)}};var s=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new M,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),S="-transition",w=function(ve){function K(ge){ve.call(this),this._transitionable=new n.Transitionable(s),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getLight=function(){return this._transitionable.serialize()},K.prototype.setLight=function(re,ye){if(ye===void 0&&(ye={}),!this._validate(n.validateLight,re,ye))for(var Be in re){var Xe=re[Be];n.endsWith(Be,S)?this._transitionable.setTransition(Be.slice(0,-S.length),Xe):this._transitionable.setValue(Be,Xe)}},K.prototype.updateTransitions=function(re){this._transitioning=this._transitionable.transitioned(re,this._transitioning)},K.prototype.hasTransition=function(){return this._transitioning.hasTransition()},K.prototype.recalculate=function(re){this.properties=this._transitioning.possiblyEvaluate(re)},K.prototype._validate=function(re,ye,Be){return Be&&Be.validate===!1?!1:n.emitValidationErrors(this,re.call(n.validateStyle,n.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},K}(n.Evented),_=function(K,ge){this.width=K,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};_.prototype.getDash=function(K,ge){var re=K.join(",")+String(ge);return this.dashEntry[re]||(this.dashEntry[re]=this.addDash(K,ge)),this.dashEntry[re]},_.prototype.getDashRanges=function(K,ge,re){var ye=K.length%2===1,Be=[],Xe=ye?-K[K.length-1]*re:0,ct=K[0]*re,Ct=!0;Be.push({left:Xe,right:ct,isDash:Ct,zeroLength:K[0]===0});for(var Bt=K[0],qt=1;qt<K.length;qt++){Ct=!Ct;var ur=K[qt];Xe=Bt*re,Bt+=ur,ct=Bt*re,Be.push({left:Xe,right:ct,isDash:Ct,zeroLength:ur===0})}return Be},_.prototype.addRoundDash=function(K,ge,re){for(var ye=ge/2,Be=-re;Be<=re;Be++)for(var Xe=this.nextRow+re+Be,ct=this.width*Xe,Ct=0,Bt=K[Ct],qt=0;qt<this.width;qt++){qt/Bt.right>1&&(Bt=K[++Ct]);var ur=Math.abs(qt-Bt.left),lr=Math.abs(qt-Bt.right),Fr=Math.min(ur,lr),Kr=void 0,Zr=Be/re*(ye+1);if(Bt.isDash){var jr=ye-Math.abs(Zr);Kr=Math.sqrt(Fr*Fr+jr*jr)}else Kr=ye-Math.sqrt(Fr*Fr+Zr*Zr);this.data[ct+qt]=Math.max(0,Math.min(255,Kr+128))}},_.prototype.addRegularDash=function(K){for(var ge=K.length-1;ge>=0;--ge){var re=K[ge],ye=K[ge+1];re.zeroLength?K.splice(ge,1):ye&&ye.isDash===re.isDash&&(ye.left=re.left,K.splice(ge,1))}var Be=K[0],Xe=K[K.length-1];Be.isDash===Xe.isDash&&(Be.left=Xe.left-this.width,Xe.right=Be.right+this.width);for(var ct=this.width*this.nextRow,Ct=0,Bt=K[Ct],qt=0;qt<this.width;qt++){qt/Bt.right>1&&(Bt=K[++Ct]);var ur=Math.abs(qt-Bt.left),lr=Math.abs(qt-Bt.right),Fr=Math.min(ur,lr),Kr=Bt.isDash?Fr:-Fr;this.data[ct+qt]=Math.max(0,Math.min(255,Kr+128))}},_.prototype.addDash=function(K,ge){var re=ge?7:0,ye=2*re+1;if(this.nextRow+ye>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var Be=0,Xe=0;Xe<K.length;Xe++)Be+=K[Xe];if(Be!==0){var ct=this.width/Be,Ct=this.getDashRanges(K,this.width,ct);ge?this.addRoundDash(Ct,ct,re):this.addRegularDash(Ct)}var Bt={y:(this.nextRow+re+.5)/this.height,height:2*re/this.height,width:Be};return this.nextRow+=ye,this.dirty=!0,Bt},_.prototype.bind=function(K){var ge=K.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var I=function ve(K,ge){this.workerPool=K,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var re=this.workerPool.acquire(this.id),ye=0;ye<re.length;ye++){var Be=re[ye],Xe=new ve.Actor(Be,ge,this.id);Xe.name="Worker "+ye,this.actors.push(Xe)}};I.prototype.broadcast=function(K,ge,re){re=re||function(){},n.asyncAll(this.actors,function(ye,Be){ye.send(K,ge,Be)},re)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(K){K.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=n.Actor;function H(ve,K,ge){var re=function(ye,Be){if(ye)return ge(ye);if(Be){var Xe=n.pick(n.extend(Be,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Be.vector_layers&&(Xe.vectorLayers=Be.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(ct){return ct.id})),Xe.tiles=K.canonicalizeTileset(Xe,ve.url),ge(null,Xe)}};return ve.url?n.getJSON(K.transformRequest(K.normalizeSourceURL(ve.url),n.ResourceType.Source),re):n.browser.frame(function(){return re(null,ve)})}var O=function(K,ge,re){this.bounds=n.LngLatBounds.convert(this.validateBounds(K)),this.minzoom=ge||0,this.maxzoom=re||24};O.prototype.validateBounds=function(K){return!Array.isArray(K)||K.length!==4?[-180,-90,180,90]:[Math.max(-180,K[0]),Math.max(-90,K[1]),Math.min(180,K[2]),Math.min(90,K[3])]},O.prototype.contains=function(K){var ge=Math.pow(2,K.z),re={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=K.x>=re.minX&&K.x<re.maxX&&K.y>=re.minY&&K.y<re.maxY;return ye};var V=function(ve){function K(ge,re,ye,Be){if(ve.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(re,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},re),this._collectResourceTiming=re.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Be)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(ye,Be){re._tileJSONRequest=null,re._loaded=!0,ye?re.fire(new n.ErrorEvent(ye)):Be&&(n.extend(re,Be),Be.bounds&&(re.tileBounds=new O(Be.bounds,re.minzoom,re.maxzoom)),n.postTurnstileEvent(Be.tiles,re.map._requestManager._customAccessToken),n.postMapLoadEvent(Be.tiles,re.map._getMapId(),re.map._requestManager._skuToken,re.map._requestManager._customAccessToken),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.setSourceProperty=function(re){this._tileJSONRequest&&this._tileJSONRequest.cancel(),re();var ye=this.map.style.sourceCaches[this.id];ye.clearTiles(),this.load()},K.prototype.setTiles=function(re){var ye=this;return this.setSourceProperty(function(){ye._options.tiles=re}),this},K.prototype.setUrl=function(re){var ye=this;return this.setSourceProperty(function(){ye.url=re,ye._options.url=re}),this},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return n.extend({},this._options)},K.prototype.loadTile=function(re,ye){var Be=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(Be,n.ResourceType.Tile),uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,tileSize:this.tileSize*re.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!re.actor||re.state==="expired"?(re.actor=this.dispatcher.getActor(),re.request=re.actor.send("loadTile",Xe,ct.bind(this))):re.state==="loading"?re.reloadCallback=ye:re.request=re.actor.send("reloadTile",Xe,ct.bind(this));function ct(Ct,Bt){if(delete re.request,re.aborted)return ye(null);if(Ct&&Ct.status!==404)return ye(Ct);Bt&&Bt.resourceTiming&&(re.resourceTiming=Bt.resourceTiming),this.map._refreshExpiredTiles&&Bt&&re.setExpiryData(Bt),re.loadVectorData(Bt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),ye(null),re.reloadCallback&&(this.loadTile(re,re.reloadCallback),re.reloadCallback=null)}},K.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.actor&&re.actor.send("abortTile",{uid:re.uid,type:this.type,source:this.id},void 0)},K.prototype.unloadTile=function(re){re.unloadVectorData(),re.actor&&re.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id},void 0)},K.prototype.hasTransition=function(){return!1},K}(n.Evented),B=function(ve){function K(ge,re,ye,Be){ve.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(Be),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},re),n.extend(this,n.pick(re,["url","scheme","tileSize"]))}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(ye,Be){re._tileJSONRequest=null,re._loaded=!0,ye?re.fire(new n.ErrorEvent(ye)):Be&&(n.extend(re,Be),Be.bounds&&(re.tileBounds=new O(Be.bounds,re.minzoom,re.maxzoom)),n.postTurnstileEvent(Be.tiles),n.postMapLoadEvent(Be.tiles,re.map._getMapId(),re.map._requestManager._skuToken),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return n.extend({},this._options)},K.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},K.prototype.loadTile=function(re,ye){var Be=this,Xe=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=n.getImage(this.map._requestManager.transformRequest(Xe,n.ResourceType.Tile),function(ct,Ct){if(delete re.request,re.aborted)re.state="unloaded",ye(null);else if(ct)re.state="errored",ye(ct);else if(Ct){Be.map._refreshExpiredTiles&&re.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Bt=Be.map.painter.context,qt=Bt.gl;re.texture=Be.map.painter.getTileTexture(Ct.width),re.texture?re.texture.update(Ct,{useMipmap:!0}):(re.texture=new n.Texture(Bt,Ct,qt.RGBA,{useMipmap:!0}),re.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Bt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Bt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Bt.extTextureFilterAnisotropicMax)),re.state="loaded",n.cacheEntryPossiblyAdded(Be.dispatcher),ye(null)}})},K.prototype.abortTile=function(re,ye){re.request&&(re.request.cancel(),delete re.request),ye()},K.prototype.unloadTile=function(re,ye){re.texture&&this.map.painter.saveTileTexture(re.texture),ye()},K.prototype.hasTransition=function(){return!1},K}(n.Evented),F=function(ve){function K(ge,re,ye,Be){ve.call(this,ge,re,ye,Be),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},re),this.encoding=re.encoding||"mapbox"}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},K.prototype.loadTile=function(re,ye){var Be=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=n.getImage(this.map._requestManager.transformRequest(Be,n.ResourceType.Tile),Xe.bind(this)),re.neighboringTiles=this._getNeighboringTiles(re.tileID);function Xe(Ct,Bt){if(delete re.request,re.aborted)re.state="unloaded",ye(null);else if(Ct)re.state="errored",ye(Ct);else if(Bt){this.map._refreshExpiredTiles&&re.setExpiryData(Bt),delete Bt.cacheControl,delete Bt.expires;var qt=n.window.ImageBitmap&&Bt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),ur=qt?Bt:n.browser.getImageData(Bt,1),lr={uid:re.uid,coord:re.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!re.actor||re.state==="expired")&&(re.actor=this.dispatcher.getActor(),re.actor.send("loadDEMTile",lr,ct.bind(this)))}}function ct(Ct,Bt){Ct&&(re.state="errored",ye(Ct)),Bt&&(re.dem=Bt,re.needsHillshadePrepare=!0,re.state="loaded",ye(null))}},K.prototype._getNeighboringTiles=function(re){var ye=re.canonical,Be=Math.pow(2,ye.z),Xe=(ye.x-1+Be)%Be,ct=ye.x===0?re.wrap-1:re.wrap,Ct=(ye.x+1+Be)%Be,Bt=ye.x+1===Be?re.wrap+1:re.wrap,qt={};return qt[new n.OverscaledTileID(re.overscaledZ,ct,ye.z,Xe,ye.y).key]={backfilled:!1},qt[new n.OverscaledTileID(re.overscaledZ,Bt,ye.z,Ct,ye.y).key]={backfilled:!1},ye.y>0&&(qt[new n.OverscaledTileID(re.overscaledZ,ct,ye.z,Xe,ye.y-1).key]={backfilled:!1},qt[new n.OverscaledTileID(re.overscaledZ,re.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},qt[new n.OverscaledTileID(re.overscaledZ,Bt,ye.z,Ct,ye.y-1).key]={backfilled:!1}),ye.y+1<Be&&(qt[new n.OverscaledTileID(re.overscaledZ,ct,ye.z,Xe,ye.y+1).key]={backfilled:!1},qt[new n.OverscaledTileID(re.overscaledZ,re.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},qt[new n.OverscaledTileID(re.overscaledZ,Bt,ye.z,Ct,ye.y+1).key]={backfilled:!1}),qt},K.prototype.unloadTile=function(re){re.demTexture&&this.map.painter.saveTileTexture(re.demTexture),re.fbo&&(re.fbo.destroy(),delete re.fbo),re.dem&&delete re.dem,delete re.neighboringTiles,re.state="unloaded",re.actor&&re.actor.send("removeDEMTile",{uid:re.uid,source:this.id})},K}(B),G=function(ve){function K(ge,re,ye,Be){ve.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Be),this._data=re.data,this._options=n.extend({},re),this._collectResourceTiming=re.collectResourceTiming,this._resourceTiming=[],re.maxzoom!==void 0&&(this.maxzoom=re.maxzoom),re.type&&(this.type=re.type),re.attribution&&(this.attribution=re.attribution),this.promoteId=re.promoteId;var Xe=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:re.cluster||!1,geojsonVtOptions:{buffer:(re.buffer!==void 0?re.buffer:128)*Xe,tolerance:(re.tolerance!==void 0?re.tolerance:.375)*Xe,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:re.lineMetrics||!1,generateId:re.generateId||!1},superclusterOptions:{maxZoom:re.clusterMaxZoom!==void 0?Math.min(re.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,re.clusterMinPoints||2),extent:n.EXTENT,radius:(re.clusterRadius||50)*Xe,log:!1,generateId:re.generateId||!1},clusterProperties:re.clusterProperties,filter:re.filter},re.workerOptions)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){re.fire(new n.ErrorEvent(ye));return}var Be={dataType:"source",sourceDataType:"metadata"};re._collectResourceTiming&&re._resourceTiming&&re._resourceTiming.length>0&&(Be.resourceTiming=re._resourceTiming,re._resourceTiming=[]),re.fire(new n.Event("data",Be))})},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.setData=function(re){var ye=this;return this._data=re,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Be){if(Be){ye.fire(new n.ErrorEvent(Be));return}var Xe={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Xe.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new n.Event("data",Xe))}),this},K.prototype.getClusterExpansionZoom=function(re,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:re,source:this.id},ye),this},K.prototype.getClusterChildren=function(re,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:re,source:this.id},ye),this},K.prototype.getClusterLeaves=function(re,ye,Be,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:re,limit:ye,offset:Be},Xe),this},K.prototype._updateWorkerData=function(re){var ye=this;this._loaded=!1;var Be=n.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(Be.request=this.map._requestManager.transformRequest(n.browser.resolveURL(Xe),n.ResourceType.Source),Be.request.collectResourceTiming=this._collectResourceTiming):Be.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",Be,function(ct,Ct){ye._removed||Ct&&Ct.abandoned||(ye._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[ye.id]&&(ye._resourceTiming=Ct.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:Be.source},null),re(ct))})},K.prototype.loaded=function(){return this._loaded},K.prototype.loadTile=function(re,ye){var Be=this,Xe=re.actor?"reloadTile":"loadTile";re.actor=this.actor;var ct={type:this.type,uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};re.request=this.actor.send(Xe,ct,function(Ct,Bt){return delete re.request,re.unloadVectorData(),re.aborted?ye(null):Ct?ye(Ct):(re.loadVectorData(Bt,Be.map.painter,Xe==="reloadTile"),ye(null))})},K.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.aborted=!0},K.prototype.unloadTile=function(re){re.unloadVectorData(),this.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id})},K.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},K.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},K.prototype.hasTransition=function(){return!1},K}(n.Evented),Y=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Q=function(ve){function K(ge,re,ye,Be){ve.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=re.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Be),this.options=re}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(re,ye){var Be=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(Xe,ct){Be._loaded=!0,Xe?Be.fire(new n.ErrorEvent(Xe)):ct&&(Be.image=ct,re&&(Be.coordinates=re),ye&&ye(),Be._finishLoading())})},K.prototype.loaded=function(){return this._loaded},K.prototype.updateImage=function(re){var ye=this;return!this.image||!re.url?this:(this.options.url=re.url,this.load(re.coordinates,function(){ye.texture=null}),this)},K.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.setCoordinates=function(re){var ye=this;this.coordinates=re;var Be=re.map(n.MercatorCoordinate.fromLngLat);this.tileID=te(Be),this.minzoom=this.maxzoom=this.tileID.z;var Xe=Be.map(function(ct){return ye.tileID.getTilePoint(ct)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var re=this.map.painter.context,ye=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(re,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Be in this.tiles){var Xe=this.tiles[Be];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},K.prototype.loadTile=function(re,ye){this.tileID&&this.tileID.equals(re.tileID.canonical)?(this.tiles[String(re.tileID.wrap)]=re,re.buckets={},ye(null)):(re.state="errored",ye(null))},K.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return!1},K}(n.Evented);function te(ve){for(var K=1/0,ge=1/0,re=-1/0,ye=-1/0,Be=0,Xe=ve;Be<Xe.length;Be+=1){var ct=Xe[Be];K=Math.min(K,ct.x),ge=Math.min(ge,ct.y),re=Math.max(re,ct.x),ye=Math.max(ye,ct.y)}var Ct=re-K,Bt=ye-ge,qt=Math.max(Ct,Bt),ur=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),lr=Math.pow(2,ur);return new n.CanonicalTileID(ur,Math.floor((K+re)/2*lr),Math.floor((ge+ye)/2*lr))}var ae=function(ve){function K(ge,re,ye,Be){ve.call(this,ge,re,ye,Be),this.roundZoom=!0,this.type="video",this.options=re}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var Be=0,Xe=ye.urls;Be<Xe.length;Be+=1){var ct=Xe[Be];this.urls.push(this.map._requestManager.transformRequest(ct,n.ResourceType.Source).url)}n.getVideo(this.urls,function(Ct,Bt){re._loaded=!0,Ct?re.fire(new n.ErrorEvent(Ct)):Bt&&(re.video=Bt,re.video.loop=!0,re.video.addEventListener("playing",function(){re.map.triggerRepaint()}),re.map&&re.video.play(),re._finishLoading())})},K.prototype.pause=function(){this.video&&this.video.pause()},K.prototype.play=function(){this.video&&this.video.play()},K.prototype.seek=function(re){if(this.video){var ye=this.video.seekable;re<ye.start(0)||re>ye.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=re}},K.prototype.getVideo=function(){return this.video},K.prototype.onAdd=function(re){this.map||(this.map=re,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var re=this.map.painter.context,ye=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(re,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Be in this.tiles){var Xe=this.tiles[Be];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this.video&&!this.video.paused},K}(Q),fe=function(ve){function K(ge,re,ye,Be){ve.call(this,ge,re,ye,Be),re.coordinates?(!Array.isArray(re.coordinates)||re.coordinates.length!==4||re.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(ct){return typeof ct!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),re.animate&&typeof re.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),re.canvas?typeof re.canvas!="string"&&!(re.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=re,this.animate=re.animate!==void 0?re.animate:!0}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},K.prototype.getCanvas=function(){return this.canvas},K.prototype.onAdd=function(re){this.map=re,this.load(),this.canvas&&this.animate&&this.play()},K.prototype.onRemove=function(){this.pause()},K.prototype.prepare=function(){var re=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,re=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,re=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,Be=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(re||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(ye,this.canvas,Be.RGBA,{premultiply:!0});for(var Xe in this.tiles){var ct=this.tiles[Xe];ct.state!=="loaded"&&(ct.state="loaded",ct.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this._playing},K.prototype._hasInvalidDimensions=function(){for(var re=0,ye=[this.canvas.width,this.canvas.height];re<ye.length;re+=1){var Be=ye[re];if(isNaN(Be)||Be<=0)return!0}return!1},K}(Q),oe={vector:V,raster:B,"raster-dem":F,geojson:G,video:ae,image:Q,canvas:fe},J=function(ve,K,ge,re){var ye=new oe[K.type](ve,K,ge,re);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return n.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},ee=function(ve){return oe[ve]},X=function(ve,K){oe[ve]=K};function q(ve,K){var ge=n.identity([]);return n.translate(ge,ge,[1,1,0]),n.scale(ge,ge,[ve.width*.5,ve.height*.5,1]),n.multiply(ge,ge,ve.calculatePosMatrix(K.toUnwrapped()))}function le(ve,K,ge){if(ve)for(var re=0,ye=ve;re<ye.length;re+=1){var Be=ye[re],Xe=K[Be];if(Xe&&Xe.source===ge&&Xe.type==="fill-extrusion")return!0}else for(var ct in K){var Ct=K[ct];if(Ct.source===ge&&Ct.type==="fill-extrusion")return!0}return!1}function $(ve,K,ge,re,ye,Be){var Xe=le(ye&&ye.layers,K,ve.id),ct=Be.maxPitchScaleFactor(),Ct=ve.tilesIn(re,ct,Xe);Ct.sort(ne);for(var Bt=[],qt=0,ur=Ct;qt<ur.length;qt+=1){var lr=ur[qt];Bt.push({wrappedTileID:lr.tileID.wrapped().key,queryResults:lr.tile.queryRenderedFeatures(K,ge,ve._state,lr.queryGeometry,lr.cameraQueryGeometry,lr.scale,ye,Be,ct,q(ve.transform,lr.tileID))})}var Fr=he(Bt);for(var Kr in Fr)Fr[Kr].forEach(function(Zr){var jr=Zr.feature,Qr=ve.getFeatureState(jr.layer["source-layer"],jr.id);jr.source=jr.layer.source,jr.layer["source-layer"]&&(jr.sourceLayer=jr.layer["source-layer"]),jr.state=Qr});return Fr}function j(ve,K,ge,re,ye,Be,Xe){for(var ct={},Ct=Be.queryRenderedSymbols(re),Bt=[],qt=0,ur=Object.keys(Ct).map(Number);qt<ur.length;qt+=1){var lr=ur[qt];Bt.push(Xe[lr])}Bt.sort(ne);for(var Fr=function(){var pn=Zr[Kr],_n=pn.featureIndex.lookupSymbolFeatures(Ct[pn.bucketInstanceId],K,pn.bucketIndex,pn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var Vn in _n){var Zn=ct[Vn]=ct[Vn]||[],Jn=_n[Vn];Jn.sort(function(ca,xa){var pa=pn.featureSortOrder;if(pa){var Fa=pa.indexOf(ca.featureIndex),ni=pa.indexOf(xa.featureIndex);return ni-Fa}else return xa.featureIndex-ca.featureIndex});for(var jn=0,$n=Jn;jn<$n.length;jn+=1){var ia=$n[jn];Zn.push(ia)}}},Kr=0,Zr=Bt;Kr<Zr.length;Kr+=1)Fr();var jr=function(pn){ct[pn].forEach(function(_n){var Vn=_n.feature,Zn=ve[pn],Jn=ge[Zn.source],jn=Jn.getFeatureState(Vn.layer["source-layer"],Vn.id);Vn.source=Vn.layer.source,Vn.layer["source-layer"]&&(Vn.sourceLayer=Vn.layer["source-layer"]),Vn.state=jn})};for(var Qr in ct)jr(Qr);return ct}function se(ve,K){for(var ge=ve.getRenderableIds().map(function(Ct){return ve.getTileByID(Ct)}),re=[],ye={},Be=0;Be<ge.length;Be++){var Xe=ge[Be],ct=Xe.tileID.canonical.key;ye[ct]||(ye[ct]=!0,Xe.querySourceFeatures(re,K))}return re}function ne(ve,K){var ge=ve.tileID,re=K.tileID;return ge.overscaledZ-re.overscaledZ||ge.canonical.y-re.canonical.y||ge.wrap-re.wrap||ge.canonical.x-re.canonical.x}function he(ve){for(var K={},ge={},re=0,ye=ve;re<ye.length;re+=1){var Be=ye[re],Xe=Be.queryResults,ct=Be.wrappedTileID,Ct=ge[ct]=ge[ct]||{};for(var Bt in Xe)for(var qt=Xe[Bt],ur=Ct[Bt]=Ct[Bt]||{},lr=K[Bt]=K[Bt]||[],Fr=0,Kr=qt;Fr<Kr.length;Fr+=1){var Zr=Kr[Fr];ur[Zr.featureIndex]||(ur[Zr.featureIndex]=!0,lr.push(Zr))}}return K}var me=function(K,ge){this.max=K,this.onRemove=ge,this.reset()};me.prototype.reset=function(){for(var K in this.data)for(var ge=0,re=this.data[K];ge<re.length;ge+=1){var ye=re[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},me.prototype.add=function(K,ge,re){var ye=this,Be=K.wrapped().key;this.data[Be]===void 0&&(this.data[Be]=[]);var Xe={value:ge,timeout:void 0};if(re!==void 0&&(Xe.timeout=setTimeout(function(){ye.remove(K,Xe)},re)),this.data[Be].push(Xe),this.order.push(Be),this.order.length>this.max){var ct=this._getAndRemoveByKey(this.order[0]);ct&&this.onRemove(ct)}return this},me.prototype.has=function(K){return K.wrapped().key in this.data},me.prototype.getAndRemove=function(K){return this.has(K)?this._getAndRemoveByKey(K.wrapped().key):null},me.prototype._getAndRemoveByKey=function(K){var ge=this.data[K].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[K].length===0&&delete this.data[K],this.order.splice(this.order.indexOf(K),1),ge.value},me.prototype.getByKey=function(K){var ge=this.data[K];return ge?ge[0].value:null},me.prototype.get=function(K){if(!this.has(K))return null;var ge=this.data[K.wrapped().key][0];return ge.value},me.prototype.remove=function(K,ge){if(!this.has(K))return this;var re=K.wrapped().key,ye=ge===void 0?0:this.data[re].indexOf(ge),Be=this.data[re][ye];return this.data[re].splice(ye,1),Be.timeout&&clearTimeout(Be.timeout),this.data[re].length===0&&delete this.data[re],this.onRemove(Be.value),this.order.splice(this.order.indexOf(re),1),this},me.prototype.setMaxSize=function(K){for(this.max=K;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},me.prototype.filter=function(K){var ge=[];for(var re in this.data)for(var ye=0,Be=this.data[re];ye<Be.length;ye+=1){var Xe=Be[ye];K(Xe.value)||ge.push(Xe)}for(var ct=0,Ct=ge;ct<Ct.length;ct+=1){var Bt=Ct[ct];this.remove(Bt.value.tileID,Bt)}};var we=function(K,ge,re){this.context=K;var ye=K.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!re,this.context.unbindVAO(),K.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function(K){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,K.arrayBuffer)},we.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var Te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Le=function(K,ge,re,ye){this.length=ge.length,this.attributes=re,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=K;var Be=K.gl;this.buffer=Be.createBuffer(),K.bindVertexBuffer.set(this.buffer),Be.bufferData(Be.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?Be.DYNAMIC_DRAW:Be.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Le.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Le.prototype.updateData=function(K){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,K.arrayBuffer)},Le.prototype.enableAttributes=function(K,ge){for(var re=0;re<this.attributes.length;re++){var ye=this.attributes[re],Be=ge.attributes[ye.name];Be!==void 0&&K.enableVertexAttribArray(Be)}},Le.prototype.setVertexAttribPointers=function(K,ge,re){for(var ye=0;ye<this.attributes.length;ye++){var Be=this.attributes[ye],Xe=ge.attributes[Be.name];Xe!==void 0&&K.vertexAttribPointer(Xe,Be.components,K[Te[Be.type]],!1,this.itemSize,Be.offset+this.itemSize*(re||0))}},Le.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var Ie=function(K){this.gl=K.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ie.prototype.get=function(){return this.current},Ie.prototype.set=function(K){},Ie.prototype.getDefault=function(){return this.default},Ie.prototype.setDefault=function(){this.set(this.default)};var ze=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return n.Color.transparent},K.prototype.set=function(re){var ye=this.current;re.r===ye.r&&re.g===ye.g&&re.b===ye.b&&re.a===ye.a&&!this.dirty||(this.gl.clearColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},K}(Ie),Me=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 1},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearDepth(re),this.current=re,this.dirty=!1)},K}(Ie),_e=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 0},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearStencil(re),this.current=re,this.dirty=!1)},K}(Ie),Ce=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[!0,!0,!0,!0]},K.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&re[2]===ye[2]&&re[3]===ye[3]&&!this.dirty||(this.gl.colorMask(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},K}(Ie),Oe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!0},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthMask(re),this.current=re,this.dirty=!1)},K}(Ie),Pe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 255},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.stencilMask(re),this.current=re,this.dirty=!1)},K}(Ie),Ge=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},K.prototype.set=function(re){var ye=this.current;re.func===ye.func&&re.ref===ye.ref&&re.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(re.func,re.ref,re.mask),this.current=re,this.dirty=!1)},K}(Ie),Ze=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var re=this.gl;return[re.KEEP,re.KEEP,re.KEEP]},K.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&re[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(re[0],re[1],re[2]),this.current=re,this.dirty=!1)},K}(Ie),it=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=re,this.dirty=!1}},K}(Ie),Je=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[0,1]},K.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&!this.dirty||(this.gl.depthRange(re[0],re[1]),this.current=re,this.dirty=!1)},K}(Ie),et=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=re,this.dirty=!1}},K}(Ie),ft=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.LESS},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthFunc(re),this.current=re,this.dirty=!1)},K}(Ie),vt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=re,this.dirty=!1}},K}(Ie),dt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var re=this.gl;return[re.ONE,re.ZERO]},K.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(re[0],re[1]),this.current=re,this.dirty=!1)},K}(Ie),xt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return n.Color.transparent},K.prototype.set=function(re){var ye=this.current;re.r===ye.r&&re.g===ye.g&&re.b===ye.b&&re.a===ye.a&&!this.dirty||(this.gl.blendColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},K}(Ie),Mt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.FUNC_ADD},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.blendEquation(re),this.current=re,this.dirty=!1)},K}(Ie),nt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=re,this.dirty=!1}},K}(Ie),Fe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.BACK},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.cullFace(re),this.current=re,this.dirty=!1)},K}(Ie),We=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.CCW},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.frontFace(re),this.current=re,this.dirty=!1)},K}(Ie),je=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.useProgram(re),this.current=re,this.dirty=!1)},K}(Ie),Ke=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.TEXTURE0},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.activeTexture(re),this.current=re,this.dirty=!1)},K}(Ie),ke=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var re=this.gl;return[0,0,re.drawingBufferWidth,re.drawingBufferHeight]},K.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&re[2]===ye[2]&&re[3]===ye[3]&&!this.dirty||(this.gl.viewport(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},K}(Ie),Ue=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,re),this.current=re,this.dirty=!1}},K}(Ie),Ve=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,re),this.current=re,this.dirty=!1}},K}(Ie),Re=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,re),this.current=re,this.dirty=!1}},K}(Ie),de=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,re),this.current=re,this.dirty=!1}},K}(Ie),be=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,re),this.current=re,this.dirty=!1},K}(Ie),Ne=function(ve){function K(ge){ve.call(this,ge),this.vao=ge.extVertexArrayObject}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){!this.vao||re===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(re),this.current=re,this.dirty=!1)},K}(Ie),Ye=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 4},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,re),this.current=re,this.dirty=!1}},K}(Ie),at=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re),this.current=re,this.dirty=!1}},K}(Ie),lt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,re),this.current=re,this.dirty=!1}},K}(Ie),Ht=function(ve){function K(ge,re){ve.call(this,ge),this.context=ge,this.parent=re}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K}(Ie),Yt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.setDirty=function(){this.dirty=!0},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,re,0),this.current=re,this.dirty=!1}},K}(Ht),Tt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,re),this.current=re,this.dirty=!1}},K}(Ht),Lt=function(K,ge,re,ye){this.context=K,this.width=ge,this.height=re;var Be=K.gl,Xe=this.framebuffer=Be.createFramebuffer();this.colorAttachment=new Yt(K,Xe),ye&&(this.depthAttachment=new Tt(K,Xe))};Lt.prototype.destroy=function(){var K=this.context.gl,ge=this.colorAttachment.get();if(ge&&K.deleteTexture(ge),this.depthAttachment){var re=this.depthAttachment.get();re&&K.deleteRenderbuffer(re)}K.deleteFramebuffer(this.framebuffer)};var Kt=519,vr=function(K,ge,re){this.func=K,this.mask=ge,this.range=re};vr.ReadOnly=!1,vr.ReadWrite=!0,vr.disabled=new vr(Kt,vr.ReadOnly,[0,1]);var gt=519,Xt=7680,$t=function(K,ge,re,ye,Be,Xe){this.test=K,this.ref=ge,this.mask=re,this.fail=ye,this.depthFail=Be,this.pass=Xe};$t.disabled=new $t({func:gt,mask:0},0,0,Xt,Xt,Xt);var mr=0,or=1,yt=771,ut=function(K,ge,re){this.blendFunction=K,this.blendColor=ge,this.mask=re};ut.Replace=[or,mr],ut.disabled=new ut(ut.Replace,n.Color.transparent,[!1,!1,!1,!1]),ut.unblended=new ut(ut.Replace,n.Color.transparent,[!0,!0,!0,!0]),ut.alphaBlended=new ut([or,yt],n.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Et=2305,It=function(K,ge,re){this.enable=K,this.mode=ge,this.frontFace=re};It.disabled=new It(!1,bt,Et),It.backCCW=new It(!0,bt,Et);var Ft=function(K){this.gl=K,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ze(this),this.clearDepth=new Me(this),this.clearStencil=new _e(this),this.colorMask=new Ce(this),this.depthMask=new Oe(this),this.stencilMask=new Pe(this),this.stencilFunc=new Ge(this),this.stencilOp=new Ze(this),this.stencilTest=new it(this),this.depthRange=new Je(this),this.depthTest=new et(this),this.depthFunc=new ft(this),this.blend=new vt(this),this.blendFunc=new dt(this),this.blendColor=new xt(this),this.blendEquation=new Mt(this),this.cullFace=new nt(this),this.cullFaceSide=new Fe(this),this.frontFace=new We(this),this.program=new je(this),this.activeTexture=new Ke(this),this.viewport=new ke(this),this.bindFramebuffer=new Ue(this),this.bindRenderbuffer=new Ve(this),this.bindTexture=new Re(this),this.bindVertexBuffer=new de(this),this.bindElementBuffer=new be(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ne(this),this.pixelStoreUnpack=new Ye(this),this.pixelStoreUnpackPremultiplyAlpha=new at(this),this.pixelStoreUnpackFlipY=new lt(this),this.extTextureFilterAnisotropic=K.getExtension("EXT_texture_filter_anisotropic")||K.getExtension("MOZ_EXT_texture_filter_anisotropic")||K.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=K.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=K.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(K.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=K.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=K.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)};Ft.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ft.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ft.prototype.createIndexBuffer=function(K,ge){return new we(this,K,ge)},Ft.prototype.createVertexBuffer=function(K,ge,re){return new Le(this,K,ge,re)},Ft.prototype.createRenderbuffer=function(K,ge,re){var ye=this.gl,Be=ye.createRenderbuffer();return this.bindRenderbuffer.set(Be),ye.renderbufferStorage(ye.RENDERBUFFER,K,ge,re),this.bindRenderbuffer.set(null),Be},Ft.prototype.createFramebuffer=function(K,ge,re){return new Lt(this,K,ge,re)},Ft.prototype.clear=function(K){var ge=K.color,re=K.depth,ye=this.gl,Be=0;ge&&(Be|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof re<"u"&&(Be|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(re),this.depthMask.set(!0)),ye.clear(Be)},Ft.prototype.setCullFace=function(K){K.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(K.mode),this.frontFace.set(K.frontFace))},Ft.prototype.setDepthMode=function(K){K.func===this.gl.ALWAYS&&!K.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(K.func),this.depthMask.set(K.mask),this.depthRange.set(K.range))},Ft.prototype.setStencilMode=function(K){K.test.func===this.gl.ALWAYS&&!K.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(K.mask),this.stencilOp.set([K.fail,K.depthFail,K.pass]),this.stencilFunc.set({func:K.test.func,ref:K.ref,mask:K.test.mask}))},Ft.prototype.setColorMode=function(K){n.deepEqual(K.blendFunction,ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(K.blendFunction),this.blendColor.set(K.blendColor)),this.colorMask.set(K.mask)},Ft.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ot=function(ve){function K(ge,re,ye){var Be=this;ve.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(Be._sourceLoaded=!0),Be._sourceLoaded&&!Be._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(Be.reload(),Be.transform&&Be.update(Be.transform))}),this.on("error",function(){Be._sourceErrored=!0}),this._source=J(ge,re,ye,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(re){this.map=re,this._maxTileCacheSize=re?re._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(re)},K.prototype.onRemove=function(re){this._source&&this._source.onRemove&&this._source.onRemove(re)},K.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var re in this._tiles){var ye=this._tiles[re];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},K.prototype.getSource=function(){return this._source},K.prototype.pause=function(){this._paused=!0},K.prototype.resume=function(){if(this._paused){var re=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,re&&this.reload(),this.transform&&this.update(this.transform)}},K.prototype._loadTile=function(re,ye){return this._source.loadTile(re,ye)},K.prototype._unloadTile=function(re){if(this._source.unloadTile)return this._source.unloadTile(re,function(){})},K.prototype._abortTile=function(re){if(this._source.abortTile)return this._source.abortTile(re,function(){})},K.prototype.serialize=function(){return this._source.serialize()},K.prototype.prepare=function(re){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var Be=this._tiles[ye];Be.upload(re),Be.prepare(this.map.style.imageManager)}},K.prototype.getIds=function(){return n.values(this._tiles).map(function(re){return re.tileID}).sort(Nt).map(function(re){return re.key})},K.prototype.getRenderableIds=function(re){var ye=this,Be=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,re)&&Be.push(this._tiles[Xe]);return re?Be.sort(function(ct,Ct){var Bt=ct.tileID,qt=Ct.tileID,ur=new n.Point(Bt.canonical.x,Bt.canonical.y)._rotate(ye.transform.angle),lr=new n.Point(qt.canonical.x,qt.canonical.y)._rotate(ye.transform.angle);return Bt.overscaledZ-qt.overscaledZ||lr.y-ur.y||lr.x-ur.x}).map(function(ct){return ct.tileID.key}):Be.map(function(ct){return ct.tileID}).sort(Nt).map(function(ct){return ct.key})},K.prototype.hasRenderableParent=function(re){var ye=this.findLoadedParent(re,0);return ye?this._isIdRenderable(ye.tileID.key):!1},K.prototype._isIdRenderable=function(re,ye){return this._tiles[re]&&this._tiles[re].hasData()&&!this._coveredTiles[re]&&(ye||!this._tiles[re].holdingForFade())},K.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var re in this._tiles)this._tiles[re].state!=="errored"&&this._reloadTile(re,"reloading")},K.prototype._reloadTile=function(re,ye){var Be=this._tiles[re];Be&&(Be.state!=="loading"&&(Be.state=ye),this._loadTile(Be,this._tileLoaded.bind(this,Be,re,ye)))},K.prototype._tileLoaded=function(re,ye,Be,Xe){if(Xe){re.state="errored",Xe.status!==404?this._source.fire(new n.ErrorEvent(Xe,{tile:re})):this.update(this.transform);return}re.timeAdded=n.browser.now(),Be==="expired"&&(re.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,re),this.getSource().type==="raster-dem"&&re.dem&&this._backfillDEM(re),this._state.initializeTileState(re,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:re,coord:re.tileID}))},K.prototype._backfillDEM=function(re){for(var ye=this.getRenderableIds(),Be=0;Be<ye.length;Be++){var Xe=ye[Be];if(re.neighboringTiles&&re.neighboringTiles[Xe]){var ct=this.getTileByID(Xe);Ct(re,ct),Ct(ct,re)}}function Ct(Bt,qt){Bt.needsHillshadePrepare=!0;var ur=qt.tileID.canonical.x-Bt.tileID.canonical.x,lr=qt.tileID.canonical.y-Bt.tileID.canonical.y,Fr=Math.pow(2,Bt.tileID.canonical.z),Kr=qt.tileID.key;ur===0&&lr===0||Math.abs(lr)>1||(Math.abs(ur)>1&&(Math.abs(ur+Fr)===1?ur+=Fr:Math.abs(ur-Fr)===1&&(ur-=Fr)),!(!qt.dem||!Bt.dem)&&(Bt.dem.backfillBorder(qt.dem,ur,lr),Bt.neighboringTiles&&Bt.neighboringTiles[Kr]&&(Bt.neighboringTiles[Kr].backfilled=!0)))}},K.prototype.getTile=function(re){return this.getTileByID(re.key)},K.prototype.getTileByID=function(re){return this._tiles[re]},K.prototype._retainLoadedChildren=function(re,ye,Be,Xe){for(var ct in this._tiles){var Ct=this._tiles[ct];if(!(Xe[ct]||!Ct.hasData()||Ct.tileID.overscaledZ<=ye||Ct.tileID.overscaledZ>Be)){for(var Bt=Ct.tileID;Ct&&Ct.tileID.overscaledZ>ye+1;){var qt=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[qt.key],Ct&&Ct.hasData()&&(Bt=qt)}for(var ur=Bt;ur.overscaledZ>ye;)if(ur=ur.scaledTo(ur.overscaledZ-1),re[ur.key]){Xe[Bt.key]=Bt;break}}}},K.prototype.findLoadedParent=function(re,ye){if(re.key in this._loadedParentTiles){var Be=this._loadedParentTiles[re.key];return Be&&Be.tileID.overscaledZ>=ye?Be:null}for(var Xe=re.overscaledZ-1;Xe>=ye;Xe--){var ct=re.scaledTo(Xe),Ct=this._getLoadedTile(ct);if(Ct)return Ct}},K.prototype._getLoadedTile=function(re){var ye=this._tiles[re.key];if(ye&&ye.hasData())return ye;var Be=this._cache.getByKey(re.wrapped().key);return Be},K.prototype.updateCacheSize=function(re){var ye=Math.ceil(re.width/this._source.tileSize)+1,Be=Math.ceil(re.height/this._source.tileSize)+1,Xe=ye*Be,ct=5,Ct=Math.floor(Xe*ct),Bt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Bt)},K.prototype.handleWrapJump=function(re){var ye=this._prevLng===void 0?re:this._prevLng,Be=re-ye,Xe=Be/360,ct=Math.round(Xe);if(this._prevLng=re,ct){var Ct={};for(var Bt in this._tiles){var qt=this._tiles[Bt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ct),Ct[qt.tileID.key]=qt}this._tiles=Ct;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var lr in this._tiles){var Fr=this._tiles[lr];this._setTileReloadTimer(lr,Fr)}}},K.prototype.update=function(re){var ye=this;if(this.transform=re,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(re),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Be;this.used?this._source.tileID?Be=re.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ca){return new n.OverscaledTileID(ca.canonical.z,ca.wrap,ca.canonical.z,ca.canonical.x,ca.canonical.y)}):(Be=re.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Be=Be.filter(function(ca){return ye._source.hasTile(ca)}))):Be=[];var Xe=re.coveringZoomLevel(this._source),ct=Math.max(Xe-K.maxOverzooming,this._source.minzoom),Ct=Math.max(Xe+K.maxUnderzooming,this._source.minzoom),Bt=this._updateRetainedTiles(Be,Xe);if(Jt(this._source.type)){for(var qt={},ur={},lr=Object.keys(Bt),Fr=0,Kr=lr;Fr<Kr.length;Fr+=1){var Zr=Kr[Fr],jr=Bt[Zr],Qr=this._tiles[Zr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=n.browser.now())){var pn=this.findLoadedParent(jr,ct);pn&&(this._addTile(pn.tileID),qt[pn.tileID.key]=pn.tileID),ur[Zr]=jr}}this._retainLoadedChildren(ur,Xe,Ct,Bt);for(var _n in qt)Bt[_n]||(this._coveredTiles[_n]=!0,Bt[_n]=qt[_n])}for(var Vn in Bt)this._tiles[Vn].clearFadeHold();for(var Zn=n.keysDifference(this._tiles,Bt),Jn=0,jn=Zn;Jn<jn.length;Jn+=1){var $n=jn[Jn],ia=this._tiles[$n];ia.hasSymbolBuckets&&!ia.holdingForFade()?ia.setHoldDuration(this.map._fadeDuration):(!ia.hasSymbolBuckets||ia.symbolFadeFinished())&&this._removeTile($n)}this._updateLoadedParentTileCache()}},K.prototype.releaseSymbolFadeTiles=function(){for(var re in this._tiles)this._tiles[re].holdingForFade()&&this._removeTile(re)},K.prototype._updateRetainedTiles=function(re,ye){for(var Be={},Xe={},ct=Math.max(ye-K.maxOverzooming,this._source.minzoom),Ct=Math.max(ye+K.maxUnderzooming,this._source.minzoom),Bt={},qt=0,ur=re;qt<ur.length;qt+=1){var lr=ur[qt],Fr=this._addTile(lr);Be[lr.key]=lr,!Fr.hasData()&&ye<this._source.maxzoom&&(Bt[lr.key]=lr)}this._retainLoadedChildren(Bt,ye,Ct,Be);for(var Kr=0,Zr=re;Kr<Zr.length;Kr+=1){var jr=Zr[Kr],Qr=this._tiles[jr.key];if(!Qr.hasData()){if(ye+1>this._source.maxzoom){var pn=jr.children(this._source.maxzoom)[0],_n=this.getTile(pn);if(_n&&_n.hasData()){Be[pn.key]=pn;continue}}else{var Vn=jr.children(this._source.maxzoom);if(Be[Vn[0].key]&&Be[Vn[1].key]&&Be[Vn[2].key]&&Be[Vn[3].key])continue}for(var Zn=Qr.wasRequested(),Jn=jr.overscaledZ-1;Jn>=ct;--Jn){var jn=jr.scaledTo(Jn);if(Xe[jn.key]||(Xe[jn.key]=!0,Qr=this.getTile(jn),!Qr&&Zn&&(Qr=this._addTile(jn)),Qr&&(Be[jn.key]=jn,Zn=Qr.wasRequested(),Qr.hasData())))break}}}return Be},K.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var re in this._tiles){for(var ye=[],Be=void 0,Xe=this._tiles[re].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){Be=this._loadedParentTiles[Xe.key];break}ye.push(Xe.key);var ct=Xe.scaledTo(Xe.overscaledZ-1);if(Be=this._getLoadedTile(ct),Be)break;Xe=ct}for(var Ct=0,Bt=ye;Ct<Bt.length;Ct+=1){var qt=Bt[Ct];this._loadedParentTiles[qt]=Be}}},K.prototype._addTile=function(re){var ye=this._tiles[re.key];if(ye)return ye;ye=this._cache.getAndRemove(re),ye&&(this._setTileReloadTimer(re.key,ye),ye.tileID=re,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[re.key]&&(clearTimeout(this._cacheTimers[re.key]),delete this._cacheTimers[re.key],this._setTileReloadTimer(re.key,ye)));var Be=!!ye;return Be||(ye=new n.Tile(re,this._source.tileSize*re.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,re.key,ye.state))),ye?(ye.uses++,this._tiles[re.key]=ye,Be||this._source.fire(new n.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},K.prototype._setTileReloadTimer=function(re,ye){var Be=this;re in this._timers&&(clearTimeout(this._timers[re]),delete this._timers[re]);var Xe=ye.getExpiryTimeout();Xe&&(this._timers[re]=setTimeout(function(){Be._reloadTile(re,"expired"),delete Be._timers[re]},Xe))},K.prototype._removeTile=function(re){var ye=this._tiles[re];ye&&(ye.uses--,delete this._tiles[re],this._timers[re]&&(clearTimeout(this._timers[re]),delete this._timers[re]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},K.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var re in this._tiles)this._removeTile(re);this._cache.reset()},K.prototype.tilesIn=function(re,ye,Be){var Xe=this,ct=[],Ct=this.transform;if(!Ct)return ct;for(var Bt=Be?Ct.getCameraQueryGeometry(re):re,qt=re.map(function(Jn){return Ct.pointCoordinate(Jn)}),ur=Bt.map(function(Jn){return Ct.pointCoordinate(Jn)}),lr=this.getIds(),Fr=1/0,Kr=1/0,Zr=-1/0,jr=-1/0,Qr=0,pn=ur;Qr<pn.length;Qr+=1){var _n=pn[Qr];Fr=Math.min(Fr,_n.x),Kr=Math.min(Kr,_n.y),Zr=Math.max(Zr,_n.x),jr=Math.max(jr,_n.y)}for(var Vn=function(Jn){var jn=Xe._tiles[lr[Jn]];if(!jn.holdingForFade()){var $n=jn.tileID,ia=Math.pow(2,Ct.zoom-jn.tileID.overscaledZ),ca=ye*jn.queryPadding*n.EXTENT/jn.tileSize/ia,xa=[$n.getTilePoint(new n.MercatorCoordinate(Fr,Kr)),$n.getTilePoint(new n.MercatorCoordinate(Zr,jr))];if(xa[0].x-ca<n.EXTENT&&xa[0].y-ca<n.EXTENT&&xa[1].x+ca>=0&&xa[1].y+ca>=0){var pa=qt.map(function(ni){return $n.getTilePoint(ni)}),Fa=ur.map(function(ni){return $n.getTilePoint(ni)});ct.push({tile:jn,tileID:$n,queryGeometry:pa,cameraQueryGeometry:Fa,scale:ia})}}},Zn=0;Zn<lr.length;Zn++)Vn(Zn);return ct},K.prototype.getVisibleCoordinates=function(re){for(var ye=this,Be=this.getRenderableIds(re).map(function(Bt){return ye._tiles[Bt].tileID}),Xe=0,ct=Be;Xe<ct.length;Xe+=1){var Ct=ct[Xe];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return Be},K.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var re in this._tiles){var ye=this._tiles[re];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=n.browser.now())return!0}return!1},K.prototype.setFeatureState=function(re,ye,Be){re=re||"_geojsonTileLayer",this._state.updateState(re,ye,Be)},K.prototype.removeFeatureState=function(re,ye,Be){re=re||"_geojsonTileLayer",this._state.removeFeatureState(re,ye,Be)},K.prototype.getFeatureState=function(re,ye){return re=re||"_geojsonTileLayer",this._state.getState(re,ye)},K.prototype.setDependencies=function(re,ye,Be){var Xe=this._tiles[re];Xe&&Xe.setDependencies(ye,Be)},K.prototype.reloadTilesForDependencies=function(re,ye){for(var Be in this._tiles){var Xe=this._tiles[Be];Xe.hasDependency(re,ye)&&this._reloadTile(Be,"reloading")}this._cache.filter(function(ct){return!ct.hasDependency(re,ye)})},K}(n.Evented);Ot.maxOverzooming=10,Ot.maxUnderzooming=3;function Nt(ve,K){var ge=Math.abs(ve.wrap*2)-+(ve.wrap<0),re=Math.abs(K.wrap*2)-+(K.wrap<0);return ve.overscaledZ-K.overscaledZ||re-ge||K.canonical.y-ve.canonical.y||K.canonical.x-ve.canonical.x}function Jt(ve){return ve==="raster"||ve==="image"||ve==="video"}function hr(){return new n.window.Worker(bo.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(K){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new hr);return this.active[K]=!0,this.workers.slice()},dr.prototype.release=function(K){delete this.active[K],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var fr=Math.floor(n.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(fr,6),1);var Lr;function xr(){return Lr||(Lr=new dr),Lr}function Qe(){var ve=xr();ve.acquire(cr)}function rt(){var ve=Lr;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(cr),Lr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function er(ve,K){var ge={};for(var re in ve)re!=="ref"&&(ge[re]=ve[re]);return n.refProperties.forEach(function(ye){ye in K&&(ge[ye]=K[ye])}),ge}function tr(ve){ve=ve.slice();for(var K=Object.create(null),ge=0;ge<ve.length;ge++)K[ve[ge].id]=ve[ge];for(var re=0;re<ve.length;re++)"ref"in ve[re]&&(ve[re]=er(ve[re],K[ve[re].ref]));return ve}function jt(){var ve={},K=n.styleSpec.$version;for(var ge in n.styleSpec.$root){var re=n.styleSpec.$root[ge];if(re.required){var ye=null;ge==="version"?ye=K:re.type==="array"?ye=[]:ye={},ye!=null&&(ve[ge]=ye)}}return ve}var Pt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Zt(ve,K,ge){ge.push({command:Pt.addSource,args:[ve,K[ve]]})}function nr(ve,K,ge){K.push({command:Pt.removeSource,args:[ve]}),ge[ve]=!0}function Qt(ve,K,ge,re){nr(ve,ge,re),Zt(ve,K,ge)}function Wt(ve,K,ge){var re;for(re in ve[ge])if(ve[ge].hasOwnProperty(re)&&re!=="data"&&!n.deepEqual(ve[ge][re],K[ge][re]))return!1;for(re in K[ge])if(K[ge].hasOwnProperty(re)&&re!=="data"&&!n.deepEqual(ve[ge][re],K[ge][re]))return!1;return!0}function yr(ve,K,ge,re){ve=ve||{},K=K||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(K.hasOwnProperty(ye)||nr(ye,ge,re));for(ye in K)K.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?n.deepEqual(ve[ye],K[ye])||(ve[ye].type==="geojson"&&K[ye].type==="geojson"&&Wt(ve,K,ye)?ge.push({command:Pt.setGeoJSONSourceData,args:[ye,K[ye].data]}):Qt(ye,K,ge,re)):Zt(ye,K,ge))}function Dr(ve,K,ge,re,ye,Be){ve=ve||{},K=K||{};var Xe;for(Xe in ve)ve.hasOwnProperty(Xe)&&(n.deepEqual(ve[Xe],K[Xe])||ge.push({command:Be,args:[re,Xe,K[Xe],ye]}));for(Xe in K)!K.hasOwnProperty(Xe)||ve.hasOwnProperty(Xe)||n.deepEqual(ve[Xe],K[Xe])||ge.push({command:Be,args:[re,Xe,K[Xe],ye]})}function Tr(ve){return ve.id}function dn(ve,K){return ve[K.id]=K,ve}function Nr(ve,K,ge){ve=ve||[],K=K||[];var re=ve.map(Tr),ye=K.map(Tr),Be=ve.reduce(dn,{}),Xe=K.reduce(dn,{}),ct=re.slice(),Ct=Object.create(null),Bt,qt,ur,lr,Fr,Kr,Zr;for(Bt=0,qt=0;Bt<re.length;Bt++)ur=re[Bt],Xe.hasOwnProperty(ur)?qt++:(ge.push({command:Pt.removeLayer,args:[ur]}),ct.splice(ct.indexOf(ur,qt),1));for(Bt=0,qt=0;Bt<ye.length;Bt++)ur=ye[ye.length-1-Bt],ct[ct.length-1-Bt]!==ur&&(Be.hasOwnProperty(ur)?(ge.push({command:Pt.removeLayer,args:[ur]}),ct.splice(ct.lastIndexOf(ur,ct.length-qt),1)):qt++,Kr=ct[ct.length-Bt],ge.push({command:Pt.addLayer,args:[Xe[ur],Kr]}),ct.splice(ct.length-Bt,0,ur),Ct[ur]=!0);for(Bt=0;Bt<ye.length;Bt++)if(ur=ye[Bt],lr=Be[ur],Fr=Xe[ur],!(Ct[ur]||n.deepEqual(lr,Fr))){if(!n.deepEqual(lr.source,Fr.source)||!n.deepEqual(lr["source-layer"],Fr["source-layer"])||!n.deepEqual(lr.type,Fr.type)){ge.push({command:Pt.removeLayer,args:[ur]}),Kr=ct[ct.lastIndexOf(ur)+1],ge.push({command:Pt.addLayer,args:[Fr,Kr]});continue}Dr(lr.layout,Fr.layout,ge,ur,null,Pt.setLayoutProperty),Dr(lr.paint,Fr.paint,ge,ur,null,Pt.setPaintProperty),n.deepEqual(lr.filter,Fr.filter)||ge.push({command:Pt.setFilter,args:[ur,Fr.filter]}),(!n.deepEqual(lr.minzoom,Fr.minzoom)||!n.deepEqual(lr.maxzoom,Fr.maxzoom))&&ge.push({command:Pt.setLayerZoomRange,args:[ur,Fr.minzoom,Fr.maxzoom]});for(Zr in lr)lr.hasOwnProperty(Zr)&&(Zr==="layout"||Zr==="paint"||Zr==="filter"||Zr==="metadata"||Zr==="minzoom"||Zr==="maxzoom"||(Zr.indexOf("paint.")===0?Dr(lr[Zr],Fr[Zr],ge,ur,Zr.slice(6),Pt.setPaintProperty):n.deepEqual(lr[Zr],Fr[Zr])||ge.push({command:Pt.setLayerProperty,args:[ur,Zr,Fr[Zr]]})));for(Zr in Fr)!Fr.hasOwnProperty(Zr)||lr.hasOwnProperty(Zr)||Zr==="layout"||Zr==="paint"||Zr==="filter"||Zr==="metadata"||Zr==="minzoom"||Zr==="maxzoom"||(Zr.indexOf("paint.")===0?Dr(lr[Zr],Fr[Zr],ge,ur,Zr.slice(6),Pt.setPaintProperty):n.deepEqual(lr[Zr],Fr[Zr])||ge.push({command:Pt.setLayerProperty,args:[ur,Zr,Fr[Zr]]}))}}function Cn(ve,K){if(!ve)return[{command:Pt.setStyle,args:[K]}];var ge=[];try{if(!n.deepEqual(ve.version,K.version))return[{command:Pt.setStyle,args:[K]}];n.deepEqual(ve.center,K.center)||ge.push({command:Pt.setCenter,args:[K.center]}),n.deepEqual(ve.zoom,K.zoom)||ge.push({command:Pt.setZoom,args:[K.zoom]}),n.deepEqual(ve.bearing,K.bearing)||ge.push({command:Pt.setBearing,args:[K.bearing]}),n.deepEqual(ve.pitch,K.pitch)||ge.push({command:Pt.setPitch,args:[K.pitch]}),n.deepEqual(ve.sprite,K.sprite)||ge.push({command:Pt.setSprite,args:[K.sprite]}),n.deepEqual(ve.glyphs,K.glyphs)||ge.push({command:Pt.setGlyphs,args:[K.glyphs]}),n.deepEqual(ve.transition,K.transition)||ge.push({command:Pt.setTransition,args:[K.transition]}),n.deepEqual(ve.light,K.light)||ge.push({command:Pt.setLight,args:[K.light]});var re={},ye=[];yr(ve.sources,K.sources,ye,re);var Be=[];ve.layers&&ve.layers.forEach(function(Xe){re[Xe.source]?ge.push({command:Pt.removeLayer,args:[Xe.id]}):Be.push(Xe)}),ge=ge.concat(ye),Nr(Be,K.layers,ge)}catch(Xe){console.warn("Unable to compute style diff:",Xe),ge=[{command:Pt.setStyle,args:[K]}]}return ge}var an=function(K,ge){this.reset(K,ge)};an.prototype.reset=function(K,ge){this.points=K||[],this._distances=[0];for(var re=1;re<this.points.length;re++)this._distances[re]=this._distances[re-1]+this.points[re].dist(this.points[re-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},an.prototype.lerp=function(K){if(this.points.length===1)return this.points[0];K=n.clamp(K,0,1);for(var ge=1,re=this._distances[ge],ye=K*this.paddedLength+this.padding;re<ye&&ge<this._distances.length;)re=this._distances[++ge];var Be=ge-1,Xe=this._distances[Be],ct=re-Xe,Ct=ct>0?(ye-Xe)/ct:0;return this.points[Be].mult(1-Ct).add(this.points[ge].mult(Ct))};var gr=function(K,ge,re){var ye=this.boxCells=[],Be=this.circleCells=[];this.xCellCount=Math.ceil(K/re),this.yCellCount=Math.ceil(ge/re);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)ye.push([]),Be.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=K,this.height=ge,this.xScale=this.xCellCount/K,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};gr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},gr.prototype.insert=function(K,ge,re,ye,Be){this._forEachCell(ge,re,ye,Be,this._insertBoxCell,this.boxUid++),this.boxKeys.push(K),this.bboxes.push(ge),this.bboxes.push(re),this.bboxes.push(ye),this.bboxes.push(Be)},gr.prototype.insertCircle=function(K,ge,re,ye){this._forEachCell(ge-ye,re-ye,ge+ye,re+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(K),this.circles.push(ge),this.circles.push(re),this.circles.push(ye)},gr.prototype._insertBoxCell=function(K,ge,re,ye,Be,Xe){this.boxCells[Be].push(Xe)},gr.prototype._insertCircleCell=function(K,ge,re,ye,Be,Xe){this.circleCells[Be].push(Xe)},gr.prototype._query=function(K,ge,re,ye,Be,Xe){if(re<0||K>this.width||ye<0||ge>this.height)return Be?!1:[];var ct=[];if(K<=0&&ge<=0&&this.width<=re&&this.height<=ye){if(Be)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)ct.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Bt=0;Bt<this.circleKeys.length;Bt++){var qt=this.circles[Bt*3],ur=this.circles[Bt*3+1],lr=this.circles[Bt*3+2];ct.push({key:this.circleKeys[Bt],x1:qt-lr,y1:ur-lr,x2:qt+lr,y2:ur+lr})}return Xe?ct.filter(Xe):ct}else{var Fr={hitTest:Be,seenUids:{box:{},circle:{}}};return this._forEachCell(K,ge,re,ye,this._queryCell,ct,Fr,Xe),Be?ct.length>0:ct}},gr.prototype._queryCircle=function(K,ge,re,ye,Be){var Xe=K-re,ct=K+re,Ct=ge-re,Bt=ge+re;if(ct<0||Xe>this.width||Bt<0||Ct>this.height)return ye?!1:[];var qt=[],ur={hitTest:ye,circle:{x:K,y:ge,radius:re},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,Ct,ct,Bt,this._queryCellCircle,qt,ur,Be),ye?qt.length>0:qt},gr.prototype.query=function(K,ge,re,ye,Be){return this._query(K,ge,re,ye,!1,Be)},gr.prototype.hitTest=function(K,ge,re,ye,Be){return this._query(K,ge,re,ye,!0,Be)},gr.prototype.hitTestCircle=function(K,ge,re,ye){return this._queryCircle(K,ge,re,!0,ye)},gr.prototype._queryCell=function(K,ge,re,ye,Be,Xe,ct,Ct){var Bt=ct.seenUids,qt=this.boxCells[Be];if(qt!==null)for(var ur=this.bboxes,lr=0,Fr=qt;lr<Fr.length;lr+=1){var Kr=Fr[lr];if(!Bt.box[Kr]){Bt.box[Kr]=!0;var Zr=Kr*4;if(K<=ur[Zr+2]&&ge<=ur[Zr+3]&&re>=ur[Zr+0]&&ye>=ur[Zr+1]&&(!Ct||Ct(this.boxKeys[Kr]))){if(ct.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Kr],x1:ur[Zr],y1:ur[Zr+1],x2:ur[Zr+2],y2:ur[Zr+3]})}}}var jr=this.circleCells[Be];if(jr!==null)for(var Qr=this.circles,pn=0,_n=jr;pn<_n.length;pn+=1){var Vn=_n[pn];if(!Bt.circle[Vn]){Bt.circle[Vn]=!0;var Zn=Vn*3;if(this._circleAndRectCollide(Qr[Zn],Qr[Zn+1],Qr[Zn+2],K,ge,re,ye)&&(!Ct||Ct(this.circleKeys[Vn]))){if(ct.hitTest)return Xe.push(!0),!0;var Jn=Qr[Zn],jn=Qr[Zn+1],$n=Qr[Zn+2];Xe.push({key:this.circleKeys[Vn],x1:Jn-$n,y1:jn-$n,x2:Jn+$n,y2:jn+$n})}}}},gr.prototype._queryCellCircle=function(K,ge,re,ye,Be,Xe,ct,Ct){var Bt=ct.circle,qt=ct.seenUids,ur=this.boxCells[Be];if(ur!==null)for(var lr=this.bboxes,Fr=0,Kr=ur;Fr<Kr.length;Fr+=1){var Zr=Kr[Fr];if(!qt.box[Zr]){qt.box[Zr]=!0;var jr=Zr*4;if(this._circleAndRectCollide(Bt.x,Bt.y,Bt.radius,lr[jr+0],lr[jr+1],lr[jr+2],lr[jr+3])&&(!Ct||Ct(this.boxKeys[Zr])))return Xe.push(!0),!0}}var Qr=this.circleCells[Be];if(Qr!==null)for(var pn=this.circles,_n=0,Vn=Qr;_n<Vn.length;_n+=1){var Zn=Vn[_n];if(!qt.circle[Zn]){qt.circle[Zn]=!0;var Jn=Zn*3;if(this._circlesCollide(pn[Jn],pn[Jn+1],pn[Jn+2],Bt.x,Bt.y,Bt.radius)&&(!Ct||Ct(this.circleKeys[Zn])))return Xe.push(!0),!0}}},gr.prototype._forEachCell=function(K,ge,re,ye,Be,Xe,ct,Ct){for(var Bt=this._convertToXCellCoord(K),qt=this._convertToYCellCoord(ge),ur=this._convertToXCellCoord(re),lr=this._convertToYCellCoord(ye),Fr=Bt;Fr<=ur;Fr++)for(var Kr=qt;Kr<=lr;Kr++){var Zr=this.xCellCount*Kr+Fr;if(Be.call(this,K,ge,re,ye,Zr,Xe,ct,Ct))return}},gr.prototype._convertToXCellCoord=function(K){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(K*this.xScale)))},gr.prototype._convertToYCellCoord=function(K){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(K*this.yScale)))},gr.prototype._circlesCollide=function(K,ge,re,ye,Be,Xe){var ct=ye-K,Ct=Be-ge,Bt=re+Xe;return Bt*Bt>ct*ct+Ct*Ct},gr.prototype._circleAndRectCollide=function(K,ge,re,ye,Be,Xe,ct){var Ct=(Xe-ye)/2,Bt=Math.abs(K-(ye+Ct));if(Bt>Ct+re)return!1;var qt=(ct-Be)/2,ur=Math.abs(ge-(Be+qt));if(ur>qt+re)return!1;if(Bt<=Ct||ur<=qt)return!0;var lr=Bt-Ct,Fr=ur-qt;return lr*lr+Fr*Fr<=re*re};function Pr(ve,K,ge,re,ye){var Be=n.create();return K?(n.scale(Be,Be,[1/ye,1/ye,1]),ge||n.rotateZ(Be,Be,re.angle)):n.multiply(Be,re.labelPlaneMatrix,ve),Be}function Xr(ve,K,ge,re,ye){if(K){var Be=n.clone(ve);return n.scale(Be,Be,[ye,ye,1]),ge||n.rotateZ(Be,Be,-re.angle),Be}else return re.glCoordMatrix}function _r(ve,K){var ge=[ve.x,ve.y,0,1];Cr(ge,ge,K);var re=ge[3];return{point:new n.Point(ge[0]/re,ge[1]/re),signedDistanceFromCamera:re}}function gn(ve,K){return .5+.5*(ve/K)}function rn(ve,K){var ge=ve[0]/ve[3],re=ve[1]/ve[3],ye=ge>=-K[0]&&ge<=K[0]&&re>=-K[1]&&re<=K[1];return ye}function An(ve,K,ge,re,ye,Be,Xe,ct){var Ct=re?ve.textSizeData:ve.iconSizeData,Bt=n.evaluateSizeForZoom(Ct,ge.transform.zoom),qt=[256/ge.width*2+1,256/ge.height*2+1],ur=re?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;ur.clear();for(var lr=ve.lineVertexArray,Fr=re?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Kr=ge.transform.width/ge.transform.height,Zr=!1,jr=0;jr<Fr.length;jr++){var Qr=Fr.get(jr);if(Qr.hidden||Qr.writingMode===n.WritingMode.vertical&&!Zr){kn(Qr.numGlyphs,ur);continue}Zr=!1;var pn=[Qr.anchorX,Qr.anchorY,0,1];if(n.transformMat4(pn,pn,K),!rn(pn,qt)){kn(Qr.numGlyphs,ur);continue}var _n=pn[3],Vn=gn(ge.transform.cameraToCenterDistance,_n),Zn=n.evaluateSizeForFeature(Ct,Bt,Qr),Jn=Xe?Zn/Vn:Zn*Vn,jn=new n.Point(Qr.anchorX,Qr.anchorY),$n=_r(jn,ye).point,ia={},ca=ya(Qr,Jn,!1,ct,K,ye,Be,ve.glyphOffsetArray,lr,ur,$n,jn,ia,Kr);Zr=ca.useVertical,(ca.notEnoughRoom||Zr||ca.needsFlipping&&ya(Qr,Jn,!0,ct,K,ye,Be,ve.glyphOffsetArray,lr,ur,$n,jn,ia,Kr).notEnoughRoom)&&kn(Qr.numGlyphs,ur)}re?ve.text.dynamicLayoutVertexBuffer.updateData(ur):ve.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Pn(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt){var ur=ct.glyphStartIndex+ct.numGlyphs,lr=ct.lineStartIndex,Fr=ct.lineStartIndex+ct.lineLength,Kr=K.getoffsetX(ct.glyphStartIndex),Zr=K.getoffsetX(ur-1),jr=sa(ve*Kr,ge,re,ye,Be,Xe,ct.segment,lr,Fr,Ct,Bt,qt);if(!jr)return null;var Qr=sa(ve*Zr,ge,re,ye,Be,Xe,ct.segment,lr,Fr,Ct,Bt,qt);return Qr?{first:jr,last:Qr}:null}function Wn(ve,K,ge,re){if(ve===n.WritingMode.horizontal){var ye=Math.abs(ge.y-K.y),Be=Math.abs(ge.x-K.x)*re;if(ye>Be)return{useVertical:!0}}return(ve===n.WritingMode.vertical?K.y<ge.y:K.x>ge.x)?{needsFlipping:!0}:null}function ya(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt,ur,lr,Fr){var Kr=K/24,Zr=ve.lineOffsetX*Kr,jr=ve.lineOffsetY*Kr,Qr;if(ve.numGlyphs>1){var pn=ve.glyphStartIndex+ve.numGlyphs,_n=ve.lineStartIndex,Vn=ve.lineStartIndex+ve.lineLength,Zn=Pn(Kr,ct,Zr,jr,ge,qt,ur,ve,Ct,Be,lr);if(!Zn)return{notEnoughRoom:!0};var Jn=_r(Zn.first.point,Xe).point,jn=_r(Zn.last.point,Xe).point;if(re&&!ge){var $n=Wn(ve.writingMode,Jn,jn,Fr);if($n)return $n}Qr=[Zn.first];for(var ia=ve.glyphStartIndex+1;ia<pn-1;ia++)Qr.push(sa(Kr*ct.getoffsetX(ia),Zr,jr,ge,qt,ur,ve.segment,_n,Vn,Ct,Be,lr));Qr.push(Zn.last)}else{if(re&&!ge){var ca=_r(ur,ye).point,xa=ve.lineStartIndex+ve.segment+1,pa=new n.Point(Ct.getx(xa),Ct.gety(xa)),Fa=_r(pa,ye),ni=Fa.signedDistanceFromCamera>0?Fa.point:Ta(ur,pa,ca,1,ye),Za=Wn(ve.writingMode,ca,ni,Fr);if(Za)return Za}var Ea=sa(Kr*ct.getoffsetX(ve.glyphStartIndex),Zr,jr,ge,qt,ur,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Ct,Be,lr);if(!Ea)return{notEnoughRoom:!0};Qr=[Ea]}for(var Ka=0,Ga=Qr;Ka<Ga.length;Ka+=1){var hi=Ga[Ka];n.addDynamicAttributes(Bt,hi.point,hi.angle)}return{}}function Ta(ve,K,ge,re,ye){var Be=_r(ve.add(ve.sub(K)._unit()),ye).point,Xe=ge.sub(Be);return ge.add(Xe._mult(re/Xe.mag()))}function sa(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt,ur){var lr=re?ve-K:ve+K,Fr=lr>0?1:-1,Kr=0;re&&(Fr*=-1,Kr=Math.PI),Fr<0&&(Kr+=Math.PI);for(var Zr=Fr>0?ct+Xe:ct+Xe+1,jr=ye,Qr=ye,pn=0,_n=0,Vn=Math.abs(lr),Zn=[];pn+_n<=Vn;){if(Zr+=Fr,Zr<ct||Zr>=Ct)return null;if(Qr=jr,Zn.push(jr),jr=ur[Zr],jr===void 0){var Jn=new n.Point(Bt.getx(Zr),Bt.gety(Zr)),jn=_r(Jn,qt);if(jn.signedDistanceFromCamera>0)jr=ur[Zr]=jn.point;else{var $n=Zr-Fr,ia=pn===0?Be:new n.Point(Bt.getx($n),Bt.gety($n));jr=Ta(ia,Jn,Qr,Vn-pn+1,qt)}}pn+=_n,_n=Qr.dist(jr)}var ca=(Vn-pn)/_n,xa=jr.sub(Qr),pa=xa.mult(ca)._add(Qr);pa._add(xa._unit()._perp()._mult(ge*Fr));var Fa=Kr+Math.atan2(jr.y-Qr.y,jr.x-Qr.x);return Zn.push(pa),{point:pa,angle:Fa,path:Zn}}var aa=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function kn(ve,K){for(var ge=0;ge<ve;ge++){var re=K.length;K.resize(re+4),K.float32.set(aa,re*3)}}function Cr(ve,K,ge){var re=K[0],ye=K[1];return ve[0]=ge[0]*re+ge[4]*ye+ge[12],ve[1]=ge[1]*re+ge[5]*ye+ge[13],ve[3]=ge[3]*re+ge[7]*ye+ge[15],ve}var on=100,sn=function(K,ge,re){ge===void 0&&(ge=new gr(K.width+2*on,K.height+2*on,25)),re===void 0&&(re=new gr(K.width+2*on,K.height+2*on,25)),this.transform=K,this.grid=ge,this.ignoredGrid=re,this.pitchfactor=Math.cos(K._pitch)*K.cameraToCenterDistance,this.screenRightBoundary=K.width+on,this.screenBottomBoundary=K.height+on,this.gridRightBoundary=K.width+2*on,this.gridBottomBoundary=K.height+2*on};sn.prototype.placeCollisionBox=function(K,ge,re,ye,Be){var Xe=this.projectAndGetPerspectiveRatio(ye,K.anchorPointX,K.anchorPointY),ct=re*Xe.perspectiveRatio,Ct=K.x1*ct+Xe.point.x,Bt=K.y1*ct+Xe.point.y,qt=K.x2*ct+Xe.point.x,ur=K.y2*ct+Xe.point.y;return!this.isInsideGrid(Ct,Bt,qt,ur)||!ge&&this.grid.hitTest(Ct,Bt,qt,ur,Be)?{box:[],offscreen:!1}:{box:[Ct,Bt,qt,ur],offscreen:this.isOffscreen(Ct,Bt,qt,ur)}},sn.prototype.placeCollisionCircles=function(K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt,ur,lr,Fr){var Kr=[],Zr=new n.Point(ge.anchorX,ge.anchorY),jr=_r(Zr,Xe),Qr=gn(this.transform.cameraToCenterDistance,jr.signedDistanceFromCamera),pn=qt?Be/Qr:Be*Qr,_n=pn/n.ONE_EM,Vn=_r(Zr,ct).point,Zn={},Jn=ge.lineOffsetX*_n,jn=ge.lineOffsetY*_n,$n=Pn(_n,ye,Jn,jn,!1,Vn,Zr,ge,re,ct,Zn),ia=!1,ca=!1,xa=!0;if($n){for(var pa=lr*.5*Qr+Fr,Fa=new n.Point(-on,-on),ni=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),Za=new an,Ea=$n.first,Ka=$n.last,Ga=[],hi=Ea.path.length-1;hi>=1;hi--)Ga.push(Ea.path[hi]);for(var si=1;si<Ka.path.length;si++)Ga.push(Ka.path[si]);var Ri=pa*2.5;if(Ct){var ri=Ga.map(function(Fl){return _r(Fl,Ct)});ri.some(function(Fl){return Fl.signedDistanceFromCamera<=0})?Ga=[]:Ga=ri.map(function(Fl){return Fl.point})}var Ai=[];if(Ga.length>0){for(var Wa=Ga[0].clone(),ai=Ga[0].clone(),Ki=1;Ki<Ga.length;Ki++)Wa.x=Math.min(Wa.x,Ga[Ki].x),Wa.y=Math.min(Wa.y,Ga[Ki].y),ai.x=Math.max(ai.x,Ga[Ki].x),ai.y=Math.max(ai.y,Ga[Ki].y);Wa.x>=Fa.x&&ai.x<=ni.x&&Wa.y>=Fa.y&&ai.y<=ni.y?Ai=[Ga]:ai.x<Fa.x||Wa.x>ni.x||ai.y<Fa.y||Wa.y>ni.y?Ai=[]:Ai=n.clipLine([Ga],Fa.x,Fa.y,ni.x,ni.y)}for(var ko=0,vl=Ai;ko<vl.length;ko+=1){var dl=vl[ko];Za.reset(dl,pa*.25);var zl=0;Za.length<=.5*pa?zl=1:zl=Math.ceil(Za.paddedLength/Ri)+1;for(var hu=0;hu<zl;hu++){var ic=hu/Math.max(zl-1,1),vu=Za.lerp(ic),xs=vu.x+on,du=vu.y+on;Kr.push(xs,du,pa,0);var _s=xs-pa,bs=du-pa,Ol=xs+pa,Ku=du+pa;if(xa=xa&&this.isOffscreen(_s,bs,Ol,Ku),ca=ca||this.isInsideGrid(_s,bs,Ol,Ku),!K&&this.grid.hitTestCircle(xs,du,pa,ur)&&(ia=!0,!Bt))return{circles:[],offscreen:!1,collisionDetected:ia}}}}return{circles:!Bt&&ia||!ca?[]:Kr,offscreen:xa,collisionDetected:ia}},sn.prototype.queryRenderedSymbols=function(K){if(K.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],re=1/0,ye=1/0,Be=-1/0,Xe=-1/0,ct=0,Ct=K;ct<Ct.length;ct+=1){var Bt=Ct[ct],qt=new n.Point(Bt.x+on,Bt.y+on);re=Math.min(re,qt.x),ye=Math.min(ye,qt.y),Be=Math.max(Be,qt.x),Xe=Math.max(Xe,qt.y),ge.push(qt)}for(var ur=this.grid.query(re,ye,Be,Xe).concat(this.ignoredGrid.query(re,ye,Be,Xe)),lr={},Fr={},Kr=0,Zr=ur;Kr<Zr.length;Kr+=1){var jr=Zr[Kr],Qr=jr.key;if(lr[Qr.bucketInstanceId]===void 0&&(lr[Qr.bucketInstanceId]={}),!lr[Qr.bucketInstanceId][Qr.featureIndex]){var pn=[new n.Point(jr.x1,jr.y1),new n.Point(jr.x2,jr.y1),new n.Point(jr.x2,jr.y2),new n.Point(jr.x1,jr.y2)];n.polygonIntersectsPolygon(ge,pn)&&(lr[Qr.bucketInstanceId][Qr.featureIndex]=!0,Fr[Qr.bucketInstanceId]===void 0&&(Fr[Qr.bucketInstanceId]=[]),Fr[Qr.bucketInstanceId].push(Qr.featureIndex))}}return Fr},sn.prototype.insertCollisionBox=function(K,ge,re,ye,Be){var Xe=ge?this.ignoredGrid:this.grid,ct={bucketInstanceId:re,featureIndex:ye,collisionGroupID:Be};Xe.insert(ct,K[0],K[1],K[2],K[3])},sn.prototype.insertCollisionCircles=function(K,ge,re,ye,Be){for(var Xe=ge?this.ignoredGrid:this.grid,ct={bucketInstanceId:re,featureIndex:ye,collisionGroupID:Be},Ct=0;Ct<K.length;Ct+=4)Xe.insertCircle(ct,K[Ct],K[Ct+1],K[Ct+2])},sn.prototype.projectAndGetPerspectiveRatio=function(K,ge,re){var ye=[ge,re,0,1];Cr(ye,ye,K);var Be=new n.Point((ye[0]/ye[3]+1)/2*this.transform.width+on,(-ye[1]/ye[3]+1)/2*this.transform.height+on);return{point:Be,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},sn.prototype.isOffscreen=function(K,ge,re,ye){return re<on||K>=this.screenRightBoundary||ye<on||ge>this.screenBottomBoundary},sn.prototype.isInsideGrid=function(K,ge,re,ye){return re>=0&&K<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},sn.prototype.getViewportMatrix=function(){var K=n.identity([]);return n.translate(K,K,[-on,-on,0]),K};function un(ve,K,ge){return K*(n.EXTENT/(ve.tileSize*Math.pow(2,ge-ve.tileID.overscaledZ)))}var Bn=function(K,ge,re,ye){K?this.opacity=Math.max(0,Math.min(1,K.opacity+(K.placed?ge:-ge))):this.opacity=ye&&re?1:0,this.placed=re};Bn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var yn=function(K,ge,re,ye,Be){this.text=new Bn(K?K.text:null,ge,re,Be),this.icon=new Bn(K?K.icon:null,ge,ye,Be)};yn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ln=function(K,ge,re){this.text=K,this.icon=ge,this.skipFade=re},Un=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},qn=function(K,ge,re,ye,Be){this.bucketInstanceId=K,this.featureIndex=ge,this.sourceLayerIndex=re,this.bucketIndex=ye,this.tileID=Be},da=function(K){this.crossSourceCollisions=K,this.maxGroupID=0,this.collisionGroups={}};da.prototype.get=function(K){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[K]){var ge=++this.maxGroupID;this.collisionGroups[K]={ID:ge,predicate:function(re){return re.collisionGroupID===ge}}}return this.collisionGroups[K]};function Ia(ve,K,ge,re,ye){var Be=n.getAnchorAlignment(ve),Xe=Be.horizontalAlign,ct=Be.verticalAlign,Ct=-(Xe-.5)*K,Bt=-(ct-.5)*ge,qt=n.evaluateVariableOffset(ve,re);return new n.Point(Ct+qt[0]*ye,Bt+qt[1]*ye)}function Ar(ve,K,ge,re,ye,Be){var Xe=ve.x1,ct=ve.x2,Ct=ve.y1,Bt=ve.y2,qt=ve.anchorPointX,ur=ve.anchorPointY,lr=new n.Point(K,ge);return re&&lr._rotate(ye?Be:-Be),{x1:Xe+lr.x,y1:Ct+lr.y,x2:ct+lr.x,y2:Bt+lr.y,anchorPointX:qt,anchorPointY:ur}}var Br=function(K,ge,re,ye){this.transform=K.clone(),this.collisionIndex=new sn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new da(re),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};Br.prototype.getBucketParts=function(K,ge,re,ye){var Be=re.getBucket(ge),Xe=re.latestFeatureIndex;if(!(!Be||!Xe||ge.id!==Be.layerIds[0])){var ct=re.collisionBoxArray,Ct=Be.layers[0].layout,Bt=Math.pow(2,this.transform.zoom-re.tileID.overscaledZ),qt=re.tileSize/n.EXTENT,ur=this.transform.calculatePosMatrix(re.tileID.toUnwrapped()),lr=Ct.get("text-pitch-alignment")==="map",Fr=Ct.get("text-rotation-alignment")==="map",Kr=un(re,1,this.transform.zoom),Zr=Pr(ur,lr,Fr,this.transform,Kr),jr=null;if(lr){var Qr=Xr(ur,lr,Fr,this.transform,Kr);jr=n.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[Be.bucketInstanceId]=new qn(Be.bucketInstanceId,Xe,Be.sourceLayerIndex,Be.index,re.tileID);var pn={bucket:Be,layout:Ct,posMatrix:ur,textLabelPlaneMatrix:Zr,labelToScreenMatrix:jr,scale:Bt,textPixelRatio:qt,holdingForFade:re.holdingForFade(),collisionBoxArray:ct,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(Be.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Be.sourceID)};if(ye)for(var _n=0,Vn=Be.sortKeyRanges;_n<Vn.length;_n+=1){var Zn=Vn[_n],Jn=Zn.sortKey,jn=Zn.symbolInstanceStart,$n=Zn.symbolInstanceEnd;K.push({sortKey:Jn,symbolInstanceStart:jn,symbolInstanceEnd:$n,parameters:pn})}else K.push({symbolInstanceStart:0,symbolInstanceEnd:Be.symbolInstances.length,parameters:pn})}},Br.prototype.attemptAnchorPlacement=function(K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt,ur,lr,Fr,Kr,Zr){var jr=[lr.textOffset0,lr.textOffset1],Qr=Ia(K,re,ye,jr,Be),pn=this.collisionIndex.placeCollisionBox(Ar(ge,Qr.x,Qr.y,Xe,ct,this.transform.angle),ur,Ct,Bt,qt.predicate);if(Zr){var _n=this.collisionIndex.placeCollisionBox(Ar(Zr,Qr.x,Qr.y,Xe,ct,this.transform.angle),ur,Ct,Bt,qt.predicate);if(_n.box.length===0)return}if(pn.box.length>0){var Vn;return this.prevPlacement&&this.prevPlacement.variableOffsets[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID].text&&(Vn=this.prevPlacement.variableOffsets[lr.crossTileID].anchor),this.variableOffsets[lr.crossTileID]={textOffset:jr,width:re,height:ye,anchor:K,textBoxScale:Be,prevAnchor:Vn},this.markUsedJustification(Fr,K,lr,Kr),Fr.allowVerticalPlacement&&(this.markUsedOrientation(Fr,Kr,lr),this.placedOrientations[lr.crossTileID]=Kr),{shift:Qr,placedGlyphBoxes:pn}}},Br.prototype.placeLayerBucketPart=function(K,ge,re){var ye=this,Be=K.parameters,Xe=Be.bucket,ct=Be.layout,Ct=Be.posMatrix,Bt=Be.textLabelPlaneMatrix,qt=Be.labelToScreenMatrix,ur=Be.textPixelRatio,lr=Be.holdingForFade,Fr=Be.collisionBoxArray,Kr=Be.partiallyEvaluatedTextSize,Zr=Be.collisionGroup,jr=ct.get("text-optional"),Qr=ct.get("icon-optional"),pn=ct.get("text-allow-overlap"),_n=ct.get("icon-allow-overlap"),Vn=ct.get("text-rotation-alignment")==="map",Zn=ct.get("text-pitch-alignment")==="map",Jn=ct.get("icon-text-fit")!=="none",jn=ct.get("symbol-z-order")==="viewport-y",$n=pn&&(_n||!Xe.hasIconData()||Qr),ia=_n&&(pn||!Xe.hasTextData()||jr);!Xe.collisionArrays&&Fr&&Xe.deserializeCollisionBoxes(Fr);var ca=function(Ea,Ka){if(!ge[Ea.crossTileID]){if(lr){ye.placements[Ea.crossTileID]=new Ln(!1,!1,!1);return}var Ga=!1,hi=!1,si=!0,Ri=null,ri={box:null,offscreen:null},Ai={box:null,offscreen:null},Wa=null,ai=null,Ki=null,ko=0,vl=0,dl=0;Ka.textFeatureIndex?ko=Ka.textFeatureIndex:Ea.useRuntimeCollisionCircles&&(ko=Ea.featureIndex),Ka.verticalTextFeatureIndex&&(vl=Ka.verticalTextFeatureIndex);var zl=Ka.textBox;if(zl){var hu=function(no){var zs=n.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!no&&ye.prevPlacement){var Os=ye.prevPlacement.placedOrientations[Ea.crossTileID];Os&&(ye.placedOrientations[Ea.crossTileID]=Os,zs=Os,ye.markUsedOrientation(Xe,zs,Ea))}return zs},ic=function(no,zs){if(Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&Ka.verticalTextBox)for(var Os=0,Pv=Xe.writingModes;Os<Pv.length;Os+=1){var Nd=Pv[Os];if(Nd===n.WritingMode.vertical?(ri=zs(),Ai=ri):ri=no(),ri&&ri.box&&ri.box.length)break}else ri=no()};if(ct.get("text-variable-anchor")){var _s=ct.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[Ea.crossTileID]){var bs=ye.prevPlacement.variableOffsets[Ea.crossTileID];_s.indexOf(bs.anchor)>0&&(_s=_s.filter(function(no){return no!==bs.anchor}),_s.unshift(bs.anchor))}var Ol=function(no,zs,Os){for(var Pv=no.x2-no.x1,Nd=no.y2-no.y1,gy=Ea.textBoxScale,yy=Jn&&!_n?zs:null,Qh={box:[],offscreen:!1},my=pn?_s.length*2:_s.length,Rv=0;Rv<my;++Rv){var xy=_s[Rv%_s.length],by=Rv>=_s.length,Bd=ye.attemptAnchorPlacement(xy,no,Pv,Nd,gy,Vn,Zn,ur,Ct,Zr,by,Ea,Xe,Os,yy);if(Bd&&(Qh=Bd.placedGlyphBoxes,Qh&&Qh.box&&Qh.box.length)){Ga=!0,Ri=Bd.shift;break}}return Qh},Ku=function(){return Ol(zl,Ka.iconBox,n.WritingMode.horizontal)},Fl=function(){var no=Ka.verticalTextBox,zs=ri&&ri.box&&ri.box.length;return Xe.allowVerticalPlacement&&!zs&&Ea.numVerticalGlyphVertices>0&&no?Ol(no,Ka.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};ic(Ku,Fl),ri&&(Ga=ri.box,si=ri.offscreen);var Sv=hu(ri&&ri.box);if(!Ga&&ye.prevPlacement){var Jc=ye.prevPlacement.variableOffsets[Ea.crossTileID];Jc&&(ye.variableOffsets[Ea.crossTileID]=Jc,ye.markUsedJustification(Xe,Jc.anchor,Ea,Sv))}}else{var vu=function(no,zs){var Os=ye.collisionIndex.placeCollisionBox(no,pn,ur,Ct,Zr.predicate);return Os&&Os.box&&Os.box.length&&(ye.markUsedOrientation(Xe,zs,Ea),ye.placedOrientations[Ea.crossTileID]=zs),Os},xs=function(){return vu(zl,n.WritingMode.horizontal)},du=function(){var no=Ka.verticalTextBox;return Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&no?vu(no,n.WritingMode.vertical):{box:null,offscreen:null}};ic(xs,du),hu(ri&&ri.box&&ri.box.length)}}if(Wa=ri,Ga=Wa&&Wa.box&&Wa.box.length>0,si=Wa&&Wa.offscreen,Ea.useRuntimeCollisionCircles){var Fo=Xe.text.placedSymbolArray.get(Ea.centerJustifiedTextSymbolIndex),Mv=n.evaluateSizeForFeature(Xe.textSizeData,Kr,Fo),Jh=ct.get("text-padding"),as=Ea.collisionCircleDiameter;ai=ye.collisionIndex.placeCollisionCircles(pn,Fo,Xe.lineVertexArray,Xe.glyphOffsetArray,Mv,Ct,Bt,qt,re,Zn,Zr.predicate,as,Jh),Ga=pn||ai.circles.length>0&&!ai.collisionDetected,si=si&&ai.offscreen}if(Ka.iconFeatureIndex&&(dl=Ka.iconFeatureIndex),Ka.iconBox){var Qc=function(no){var zs=Jn&&Ri?Ar(no,Ri.x,Ri.y,Vn,Zn,ye.transform.angle):no;return ye.collisionIndex.placeCollisionBox(zs,_n,ur,Ct,Zr.predicate)};Ai&&Ai.box&&Ai.box.length&&Ka.verticalIconBox?(Ki=Qc(Ka.verticalIconBox),hi=Ki.box.length>0):(Ki=Qc(Ka.iconBox),hi=Ki.box.length>0),si=si&&Ki.offscreen}var Ev=jr||Ea.numHorizontalGlyphVertices===0&&Ea.numVerticalGlyphVertices===0,Cv=Qr||Ea.numIconVertices===0;if(!Ev&&!Cv?hi=Ga=hi&&Ga:Cv?Ev||(hi=hi&&Ga):Ga=hi&&Ga,Ga&&Wa&&Wa.box&&(Ai&&Ai.box&&vl?ye.collisionIndex.insertCollisionBox(Wa.box,ct.get("text-ignore-placement"),Xe.bucketInstanceId,vl,Zr.ID):ye.collisionIndex.insertCollisionBox(Wa.box,ct.get("text-ignore-placement"),Xe.bucketInstanceId,ko,Zr.ID)),hi&&Ki&&ye.collisionIndex.insertCollisionBox(Ki.box,ct.get("icon-ignore-placement"),Xe.bucketInstanceId,dl,Zr.ID),ai&&(Ga&&ye.collisionIndex.insertCollisionCircles(ai.circles,ct.get("text-ignore-placement"),Xe.bucketInstanceId,ko,Zr.ID),re)){var Lv=Xe.bucketInstanceId,$c=ye.collisionCircleArrays[Lv];$c===void 0&&($c=ye.collisionCircleArrays[Lv]=new Un);for(var qc=0;qc<ai.circles.length;qc+=4)$c.circles.push(ai.circles[qc+0]),$c.circles.push(ai.circles[qc+1]),$c.circles.push(ai.circles[qc+2]),$c.circles.push(ai.collisionDetected?1:0)}ye.placements[Ea.crossTileID]=new Ln(Ga||$n,hi||ia,si||Xe.justReloaded),ge[Ea.crossTileID]=!0}};if(jn)for(var xa=Xe.getSortedSymbolIndexes(this.transform.angle),pa=xa.length-1;pa>=0;--pa){var Fa=xa[pa];ca(Xe.symbolInstances.get(Fa),Xe.collisionArrays[Fa])}else for(var ni=K.symbolInstanceStart;ni<K.symbolInstanceEnd;ni++)ca(Xe.symbolInstances.get(ni),Xe.collisionArrays[ni]);if(re&&Xe.bucketInstanceId in this.collisionCircleArrays){var Za=this.collisionCircleArrays[Xe.bucketInstanceId];n.invert(Za.invProjMatrix,Ct),Za.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Br.prototype.markUsedJustification=function(K,ge,re,ye){var Be={left:re.leftJustifiedTextSymbolIndex,center:re.centerJustifiedTextSymbolIndex,right:re.rightJustifiedTextSymbolIndex},Xe;ye===n.WritingMode.vertical?Xe=re.verticalPlacedTextSymbolIndex:Xe=Be[n.getAnchorJustification(ge)];for(var ct=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex,re.verticalPlacedTextSymbolIndex],Ct=0,Bt=ct;Ct<Bt.length;Ct+=1){var qt=Bt[Ct];qt>=0&&(Xe>=0&&qt!==Xe?K.text.placedSymbolArray.get(qt).crossTileID=0:K.text.placedSymbolArray.get(qt).crossTileID=re.crossTileID)}},Br.prototype.markUsedOrientation=function(K,ge,re){for(var ye=ge===n.WritingMode.horizontal||ge===n.WritingMode.horizontalOnly?ge:0,Be=ge===n.WritingMode.vertical?ge:0,Xe=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex],ct=0,Ct=Xe;ct<Ct.length;ct+=1){var Bt=Ct[ct];K.text.placedSymbolArray.get(Bt).placedOrientation=ye}re.verticalPlacedTextSymbolIndex&&(K.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).placedOrientation=Be)},Br.prototype.commit=function(K){this.commitTime=K,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,re=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(K):1,Be=ge?ge.opacities:{},Xe=ge?ge.variableOffsets:{},ct=ge?ge.placedOrientations:{};for(var Ct in this.placements){var Bt=this.placements[Ct],qt=Be[Ct];qt?(this.opacities[Ct]=new yn(qt,ye,Bt.text,Bt.icon),re=re||Bt.text!==qt.text.placed||Bt.icon!==qt.icon.placed):(this.opacities[Ct]=new yn(null,ye,Bt.text,Bt.icon,Bt.skipFade),re=re||Bt.text||Bt.icon)}for(var ur in Be){var lr=Be[ur];if(!this.opacities[ur]){var Fr=new yn(lr,ye,!1,!1);Fr.isHidden()||(this.opacities[ur]=Fr,re=re||lr.text.placed||lr.icon.placed)}}for(var Kr in Xe)!this.variableOffsets[Kr]&&this.opacities[Kr]&&!this.opacities[Kr].isHidden()&&(this.variableOffsets[Kr]=Xe[Kr]);for(var Zr in ct)!this.placedOrientations[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.placedOrientations[Zr]=ct[Zr]);re?this.lastPlacementChangeTime=K:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:K)},Br.prototype.updateLayerOpacities=function(K,ge){for(var re={},ye=0,Be=ge;ye<Be.length;ye+=1){var Xe=Be[ye],ct=Xe.getBucket(K);ct&&Xe.latestFeatureIndex&&K.id===ct.layerIds[0]&&this.updateBucketOpacities(ct,re,Xe.collisionBoxArray)}},Br.prototype.updateBucketOpacities=function(K,ge,re){var ye=this;K.hasTextData()&&K.text.opacityVertexArray.clear(),K.hasIconData()&&K.icon.opacityVertexArray.clear(),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexArray.clear(),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexArray.clear();var Be=K.layers[0].layout,Xe=new yn(null,0,!1,!1,!0),ct=Be.get("text-allow-overlap"),Ct=Be.get("icon-allow-overlap"),Bt=Be.get("text-variable-anchor"),qt=Be.get("text-rotation-alignment")==="map",ur=Be.get("text-pitch-alignment")==="map",lr=Be.get("icon-text-fit")!=="none",Fr=new yn(null,0,ct&&(Ct||!K.hasIconData()||Be.get("icon-optional")),Ct&&(ct||!K.hasTextData()||Be.get("text-optional")),!0);!K.collisionArrays&&re&&(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData())&&K.deserializeCollisionBoxes(re);for(var Kr=function(pn,_n,Vn){for(var Zn=0;Zn<_n/4;Zn++)pn.opacityVertexArray.emplaceBack(Vn)},Zr=function(pn){var _n=K.symbolInstances.get(pn),Vn=_n.numHorizontalGlyphVertices,Zn=_n.numVerticalGlyphVertices,Jn=_n.crossTileID,jn=ge[Jn],$n=ye.opacities[Jn];jn?$n=Xe:$n||($n=Fr,ye.opacities[Jn]=$n),ge[Jn]=!0;var ia=Vn>0||Zn>0,ca=_n.numIconVertices>0,xa=ye.placedOrientations[_n.crossTileID],pa=xa===n.WritingMode.vertical,Fa=xa===n.WritingMode.horizontal||xa===n.WritingMode.horizontalOnly;if(ia){var ni=Wr($n.text),Za=pa?qr:ni;Kr(K.text,Vn,Za);var Ea=Fa?qr:ni;Kr(K.text,Zn,Ea);var Ka=$n.text.isHidden();[_n.rightJustifiedTextSymbolIndex,_n.centerJustifiedTextSymbolIndex,_n.leftJustifiedTextSymbolIndex].forEach(function(dl){dl>=0&&(K.text.placedSymbolArray.get(dl).hidden=Ka||pa?1:0)}),_n.verticalPlacedTextSymbolIndex>=0&&(K.text.placedSymbolArray.get(_n.verticalPlacedTextSymbolIndex).hidden=Ka||Fa?1:0);var Ga=ye.variableOffsets[_n.crossTileID];Ga&&ye.markUsedJustification(K,Ga.anchor,_n,xa);var hi=ye.placedOrientations[_n.crossTileID];hi&&(ye.markUsedJustification(K,"left",_n,hi),ye.markUsedOrientation(K,hi,_n))}if(ca){var si=Wr($n.icon),Ri=!(lr&&_n.verticalPlacedIconSymbolIndex&&pa);if(_n.placedIconSymbolIndex>=0){var ri=Ri?si:qr;Kr(K.icon,_n.numIconVertices,ri),K.icon.placedSymbolArray.get(_n.placedIconSymbolIndex).hidden=$n.icon.isHidden()}if(_n.verticalPlacedIconSymbolIndex>=0){var Ai=Ri?qr:si;Kr(K.icon,_n.numVerticalIconVertices,Ai),K.icon.placedSymbolArray.get(_n.verticalPlacedIconSymbolIndex).hidden=$n.icon.isHidden()}}if(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData()){var Wa=K.collisionArrays[pn];if(Wa){var ai=new n.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var Ki=!0;if(Bt){var ko=ye.variableOffsets[Jn];ko?(ai=Ia(ko.anchor,ko.width,ko.height,ko.textOffset,ko.textBoxScale),qt&&ai._rotate(ur?ye.transform.angle:-ye.transform.angle)):Ki=!1}Wa.textBox&&Sr(K.textCollisionBox.collisionVertexArray,$n.text.placed,!Ki||pa,ai.x,ai.y),Wa.verticalTextBox&&Sr(K.textCollisionBox.collisionVertexArray,$n.text.placed,!Ki||Fa,ai.x,ai.y)}var vl=!!(!Fa&&Wa.verticalIconBox);Wa.iconBox&&Sr(K.iconCollisionBox.collisionVertexArray,$n.icon.placed,vl,lr?ai.x:0,lr?ai.y:0),Wa.verticalIconBox&&Sr(K.iconCollisionBox.collisionVertexArray,$n.icon.placed,!vl,lr?ai.x:0,lr?ai.y:0)}}},jr=0;jr<K.symbolInstances.length;jr++)Zr(jr);if(K.sortFeatures(this.transform.angle),this.retainedQueryData[K.bucketInstanceId]&&(this.retainedQueryData[K.bucketInstanceId].featureSortOrder=K.featureSortOrder),K.hasTextData()&&K.text.opacityVertexBuffer&&K.text.opacityVertexBuffer.updateData(K.text.opacityVertexArray),K.hasIconData()&&K.icon.opacityVertexBuffer&&K.icon.opacityVertexBuffer.updateData(K.icon.opacityVertexArray),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexBuffer&&K.iconCollisionBox.collisionVertexBuffer.updateData(K.iconCollisionBox.collisionVertexArray),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexBuffer&&K.textCollisionBox.collisionVertexBuffer.updateData(K.textCollisionBox.collisionVertexArray),K.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[K.bucketInstanceId];K.placementInvProjMatrix=Qr.invProjMatrix,K.placementViewportMatrix=Qr.viewportMatrix,K.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[K.bucketInstanceId]}},Br.prototype.symbolFadeChange=function(K){return this.fadeDuration===0?1:(K-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Br.prototype.zoomAdjustment=function(K){return Math.max(0,(this.transform.zoom-K)/1.5)},Br.prototype.hasTransitions=function(K){return this.stale||K-this.lastPlacementChangeTime<this.fadeDuration},Br.prototype.stillRecent=function(K,ge){var re=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*re>K},Br.prototype.setStale=function(){this.stale=!0};function Sr(ve,K,ge,re,ye){ve.emplaceBack(K?1:0,ge?1:0,re||0,ye||0),ve.emplaceBack(K?1:0,ge?1:0,re||0,ye||0),ve.emplaceBack(K?1:0,ge?1:0,re||0,ye||0),ve.emplaceBack(K?1:0,ge?1:0,re||0,ye||0)}var Ur=Math.pow(2,25),fn=Math.pow(2,24),Dn=Math.pow(2,17),xn=Math.pow(2,16),hn=Math.pow(2,9),Er=Math.pow(2,8),Yr=Math.pow(2,1);function Wr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var K=ve.placed?1:0,ge=Math.floor(ve.opacity*127);return ge*Ur+K*fn+ge*Dn+K*xn+ge*hn+K*Er+ge*Yr+K}var qr=0,Tn=function(K){this._sortAcrossTiles=K.layout.get("symbol-z-order")!=="viewport-y"&&K.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Tn.prototype.continuePlacement=function(K,ge,re,ye,Be){for(var Xe=this._bucketParts;this._currentTileIndex<K.length;){var ct=K[this._currentTileIndex];if(ge.getBucketParts(Xe,ye,ct,this._sortAcrossTiles),this._currentTileIndex++,Be())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Bt,qt){return Bt.sortKey-qt.sortKey}));this._currentPartIndex<Xe.length;){var Ct=Xe[this._currentPartIndex];if(ge.placeLayerBucketPart(Ct,this._seenCrossTileIDs,re),this._currentPartIndex++,Be())return!0}return!1};var Sn=function(K,ge,re,ye,Be,Xe,ct){this.placement=new Br(K,Be,Xe,ct),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=re,this._showCollisionBoxes=ye,this._done=!1};Sn.prototype.isDone=function(){return this._done},Sn.prototype.continuePlacement=function(K,ge,re){for(var ye=this,Be=n.browser.now(),Xe=function(){var ur=n.browser.now()-Be;return ye._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var ct=K[this._currentPlacementIndex],Ct=ge[ct],Bt=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Bt)&&(!Ct.maxzoom||Ct.maxzoom>Bt)){this._inProgressLayer||(this._inProgressLayer=new Tn(Ct));var qt=this._inProgressLayer.continuePlacement(re[Ct.source],this.placement,this._showCollisionBoxes,Ct,Xe);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Sn.prototype.commit=function(K){return this.placement.commit(K),this.placement};var Nn=512/n.EXTENT/2,Hn=function(K,ge,re){this.tileID=K,this.indexedSymbolInstances={},this.bucketInstanceId=re;for(var ye=0;ye<ge.length;ye++){var Be=ge.get(ye),Xe=Be.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:Be.crossTileID,coord:this.getScaledCoordinates(Be,K)})}};Hn.prototype.getScaledCoordinates=function(K,ge){var re=ge.canonical.z-this.tileID.canonical.z,ye=Nn/Math.pow(2,re);return{x:Math.floor((ge.canonical.x*n.EXTENT+K.anchorX)*ye),y:Math.floor((ge.canonical.y*n.EXTENT+K.anchorY)*ye)}},Hn.prototype.findMatches=function(K,ge,re){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),Be=0;Be<K.length;Be++){var Xe=K.get(Be);if(!Xe.crossTileID){var ct=this.indexedSymbolInstances[Xe.key];if(ct)for(var Ct=this.getScaledCoordinates(Xe,ge),Bt=0,qt=ct;Bt<qt.length;Bt+=1){var ur=qt[Bt];if(Math.abs(ur.coord.x-Ct.x)<=ye&&Math.abs(ur.coord.y-Ct.y)<=ye&&!re[ur.crossTileID]){re[ur.crossTileID]=!0,Xe.crossTileID=ur.crossTileID;break}}}}};var zn=function(){this.maxCrossTileID=0};zn.prototype.generate=function(){return++this.maxCrossTileID};var Yn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Yn.prototype.handleWrapJump=function(K){var ge=Math.round((K-this.lng)/360);if(ge!==0)for(var re in this.indexes){var ye=this.indexes[re],Be={};for(var Xe in ye){var ct=ye[Xe];ct.tileID=ct.tileID.unwrapTo(ct.tileID.wrap+ge),Be[ct.tileID.key]=ct}this.indexes[re]=Be}this.lng=K},Yn.prototype.addBucket=function(K,ge,re){if(this.indexes[K.overscaledZ]&&this.indexes[K.overscaledZ][K.key]){if(this.indexes[K.overscaledZ][K.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(K.overscaledZ,this.indexes[K.overscaledZ][K.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var Be=ge.symbolInstances.get(ye);Be.crossTileID=0}this.usedCrossTileIDs[K.overscaledZ]||(this.usedCrossTileIDs[K.overscaledZ]={});var Xe=this.usedCrossTileIDs[K.overscaledZ];for(var ct in this.indexes){var Ct=this.indexes[ct];if(Number(ct)>K.overscaledZ)for(var Bt in Ct){var qt=Ct[Bt];qt.tileID.isChildOf(K)&&qt.findMatches(ge.symbolInstances,K,Xe)}else{var ur=K.scaledTo(Number(ct)),lr=Ct[ur.key];lr&&lr.findMatches(ge.symbolInstances,K,Xe)}}for(var Fr=0;Fr<ge.symbolInstances.length;Fr++){var Kr=ge.symbolInstances.get(Fr);Kr.crossTileID||(Kr.crossTileID=re.generate(),Xe[Kr.crossTileID]=!0)}return this.indexes[K.overscaledZ]===void 0&&(this.indexes[K.overscaledZ]={}),this.indexes[K.overscaledZ][K.key]=new Hn(K,ge.symbolInstances,ge.bucketInstanceId),!0},Yn.prototype.removeBucketCrossTileIDs=function(K,ge){for(var re in ge.indexedSymbolInstances)for(var ye=0,Be=ge.indexedSymbolInstances[re];ye<Be.length;ye+=1){var Xe=Be[ye];delete this.usedCrossTileIDs[K][Xe.crossTileID]}},Yn.prototype.removeStaleBuckets=function(K){var ge=!1;for(var re in this.indexes){var ye=this.indexes[re];for(var Be in ye)K[ye[Be].bucketInstanceId]||(this.removeBucketCrossTileIDs(re,ye[Be]),delete ye[Be],ge=!0)}return ge};var Kn=function(){this.layerIndexes={},this.crossTileIDs=new zn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Kn.prototype.addLayer=function(K,ge,re){var ye=this.layerIndexes[K.id];ye===void 0&&(ye=this.layerIndexes[K.id]=new Yn);var Be=!1,Xe={};ye.handleWrapJump(re);for(var ct=0,Ct=ge;ct<Ct.length;ct+=1){var Bt=Ct[ct],qt=Bt.getBucket(K);!qt||K.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Bt.tileID,qt,this.crossTileIDs)&&(Be=!0),Xe[qt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Xe)&&(Be=!0),Be},Kn.prototype.pruneUnusedLayers=function(K){var ge={};K.forEach(function(ye){ge[ye]=!0});for(var re in this.layerIndexes)ge[re]||delete this.layerIndexes[re]};var la=function(ve,K){return n.emitValidationErrors(ve,K&&K.filter(function(ge){return ge.identifier!=="source.canvas"}))},Ra=n.pick(Pt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),wi=n.pick(Pt,["setCenter","setZoom","setBearing","setPitch"]),ii=jt(),Lo=function(ve){function K(ge,re){var ye=this;re===void 0&&(re={}),ve.call(this),this.map=ge,this.dispatcher=new I(xr(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new L(ge._requestManager,re.localIdeographFontFamily),this.lineAtlas=new _(256,512),this.crossTileSymbolIndex=new Kn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var Be=this;this._rtlTextPluginCallback=K.registerForPluginStateChange(function(Xe){var ct={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};Be.dispatcher.broadcast("syncRTLPluginState",ct,function(Ct,Bt){if(n.triggerPluginCompletionEvent(Ct),Bt){var qt=Bt.every(function(lr){return lr});if(qt)for(var ur in Be.sourceCaches)Be.sourceCaches[ur].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var ct=ye.sourceCaches[Xe.sourceId];if(ct){var Ct=ct.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Bt in ye._layers){var qt=ye._layers[Bt];qt.source===Ct.id&&ye._validateLayer(qt)}}}})}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.loadURL=function(re,ye){var Be=this;ye===void 0&&(ye={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var Xe=typeof ye.validate=="boolean"?ye.validate:!n.isMapboxURL(re);re=this.map._requestManager.normalizeStyleURL(re,ye.accessToken);var ct=this.map._requestManager.transformRequest(re,n.ResourceType.Style);this._request=n.getJSON(ct,function(Ct,Bt){Be._request=null,Ct?Be.fire(new n.ErrorEvent(Ct)):Bt&&Be._load(Bt,Xe)})},K.prototype.loadJSON=function(re,ye){var Be=this;ye===void 0&&(ye={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){Be._request=null,Be._load(re,ye.validate!==!1)})},K.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(ii,!1)},K.prototype._load=function(re,ye){if(!(ye&&la(this,n.validateStyle(re)))){this._loaded=!0,this.stylesheet=re;for(var Be in re.sources)this.addSource(Be,re.sources[Be],{validate:!1});re.sprite?this._loadSprite(re.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(re.glyphs);var Xe=tr(this.stylesheet.layers);this._order=Xe.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ct=0,Ct=Xe;ct<Ct.length;ct+=1){var Bt=Ct[ct];Bt=n.createStyleLayer(Bt),Bt.setEventedParent(this,{layer:{id:Bt.id}}),this._layers[Bt.id]=Bt,this._serializedLayers[Bt.id]=Bt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},K.prototype._loadSprite=function(re){var ye=this;this._spriteRequest=l(re,this.map._requestManager,function(Be,Xe){if(ye._spriteRequest=null,Be)ye.fire(new n.ErrorEvent(Be));else if(Xe)for(var ct in Xe)ye.imageManager.addImage(ct,Xe[ct]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new n.Event("data",{dataType:"style"}))})},K.prototype._validateLayer=function(re){var ye=this.sourceCaches[re.source];if(ye){var Be=re.sourceLayer;if(Be){var Xe=ye.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(Be)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+Be+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+re.id+'"')))}}},K.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var re in this.sourceCaches)if(!this.sourceCaches[re].loaded())return!1;return!!this.imageManager.isLoaded()},K.prototype._serializeLayers=function(re){for(var ye=[],Be=0,Xe=re;Be<Xe.length;Be+=1){var ct=Xe[Be],Ct=this._layers[ct];Ct.type!=="custom"&&ye.push(Ct.serialize())}return ye},K.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var re in this.sourceCaches)if(this.sourceCaches[re].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},K.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},K.prototype.update=function(re){if(this._loaded){var ye=this._changed;if(this._changed){var Be=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(Be.length||Xe.length)&&this._updateWorkerLayers(Be,Xe);for(var ct in this._updatedSources){var Ct=this._updatedSources[ct];Ct==="reload"?this._reloadSource(ct):Ct==="clear"&&this._clearSource(ct)}this._updateTilesForChangedImages();for(var Bt in this._updatedPaintProps)this._layers[Bt].updateTransitions(re);this.light.updateTransitions(re),this._resetUpdates()}var qt={};for(var ur in this.sourceCaches){var lr=this.sourceCaches[ur];qt[ur]=lr.used,lr.used=!1}for(var Fr=0,Kr=this._order;Fr<Kr.length;Fr+=1){var Zr=Kr[Fr],jr=this._layers[Zr];jr.recalculate(re,this._availableImages),!jr.isHidden(re.zoom)&&jr.source&&(this.sourceCaches[jr.source].used=!0)}for(var Qr in qt){var pn=this.sourceCaches[Qr];qt[Qr]!==pn.used&&pn.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Qr}))}this.light.recalculate(re),this.z=re.zoom,ye&&this.fire(new n.Event("data",{dataType:"style"}))}},K.prototype._updateTilesForChangedImages=function(){var re=Object.keys(this._changedImages);if(re.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],re);this._changedImages={}}},K.prototype._updateWorkerLayers=function(re,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(re),removedIds:ye})},K.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},K.prototype.setState=function(re){var ye=this;if(this._checkLoaded(),la(this,n.validateStyle(re)))return!1;re=n.clone$1(re),re.layers=tr(re.layers);var Be=Cn(this.serialize(),re).filter(function(ct){return!(ct.command in wi)});if(Be.length===0)return!1;var Xe=Be.filter(function(ct){return!(ct.command in Ra)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(ct){return ct.command}).join(", ")+".");return Be.forEach(function(ct){ct.command!=="setTransition"&&ye[ct.command].apply(ye,ct.args)}),this.stylesheet=re,!0},K.prototype.addImage=function(re,ye){if(this.getImage(re))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(re,ye),this._afterImageUpdated(re)},K.prototype.updateImage=function(re,ye){this.imageManager.updateImage(re,ye)},K.prototype.getImage=function(re){return this.imageManager.getImage(re)},K.prototype.removeImage=function(re){if(!this.getImage(re))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(re),this._afterImageUpdated(re)},K.prototype._afterImageUpdated=function(re){this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},K.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},K.prototype.addSource=function(re,ye,Be){var Xe=this;if(Be===void 0&&(Be={}),this._checkLoaded(),this.sourceCaches[re]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ye).join(", ")+".");var ct=["vector","raster","geojson","video","image"],Ct=ct.indexOf(ye.type)>=0;if(!(Ct&&this._validate(n.validateStyle.source,"sources."+re,ye,null,Be))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Bt=this.sourceCaches[re]=new Ot(re,ye,this.dispatcher);Bt.style=this,Bt.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Bt.serialize(),sourceId:re}}),Bt.onAdd(this.map),this._changed=!0}},K.prototype.removeSource=function(re){if(this._checkLoaded(),this.sourceCaches[re]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===re)return this.fire(new n.ErrorEvent(new Error('Source "'+re+'" cannot be removed while layer "'+ye+'" is using it.')));var Be=this.sourceCaches[re];delete this.sourceCaches[re],delete this._updatedSources[re],Be.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:re})),Be.setEventedParent(null),Be.clearTiles(),Be.onRemove&&Be.onRemove(this.map),this._changed=!0},K.prototype.setGeoJSONSourceData=function(re,ye){this._checkLoaded();var Be=this.sourceCaches[re].getSource();Be.setData(ye),this._changed=!0},K.prototype.getSource=function(re){return this.sourceCaches[re]&&this.sourceCaches[re].getSource()},K.prototype.addLayer=function(re,ye,Be){Be===void 0&&(Be={}),this._checkLoaded();var Xe=re.id;if(this.getLayer(Xe)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var ct;if(re.type==="custom"){if(la(this,n.validateCustomStyleLayer(re)))return;ct=n.createStyleLayer(re)}else{if(typeof re.source=="object"&&(this.addSource(Xe,re.source),re=n.clone$1(re),re=n.extend(re,{source:Xe})),this._validate(n.validateStyle.layer,"layers."+Xe,re,{arrayIndex:-1},Be))return;ct=n.createStyleLayer(re),this._validateLayer(ct),ct.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[ct.id]=ct.serialize()}var Ct=ye?this._order.indexOf(ye):this._order.length;if(ye&&Ct===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=ct,this._removedLayers[Xe]&&ct.source&&ct.type!=="custom"){var Bt=this._removedLayers[Xe];delete this._removedLayers[Xe],Bt.type!==ct.type?this._updatedSources[ct.source]="clear":(this._updatedSources[ct.source]="reload",this.sourceCaches[ct.source].pause())}this._updateLayer(ct),ct.onAdd&&ct.onAdd(this.map)},K.prototype.moveLayer=function(re,ye){this._checkLoaded(),this._changed=!0;var Be=this._layers[re];if(!Be){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be moved.")));return}if(re!==ye){var Xe=this._order.indexOf(re);this._order.splice(Xe,1);var ct=ye?this._order.indexOf(ye):this._order.length;if(ye&&ct===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(ct,0,re),this._layerOrderChanged=!0}},K.prototype.removeLayer=function(re){this._checkLoaded();var ye=this._layers[re];if(!ye){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var Be=this._order.indexOf(re);this._order.splice(Be,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[re]=ye,delete this._layers[re],delete this._serializedLayers[re],delete this._updatedLayers[re],delete this._updatedPaintProps[re],ye.onRemove&&ye.onRemove(this.map)},K.prototype.getLayer=function(re){return this._layers[re]},K.prototype.hasLayer=function(re){return re in this._layers},K.prototype.setLayerZoomRange=function(re,ye,Be){this._checkLoaded();var Xe=this.getLayer(re);if(!Xe){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===ye&&Xe.maxzoom===Be||(ye!=null&&(Xe.minzoom=ye),Be!=null&&(Xe.maxzoom=Be),this._updateLayer(Xe))},K.prototype.setFilter=function(re,ye,Be){Be===void 0&&(Be={}),this._checkLoaded();var Xe=this.getLayer(re);if(!Xe){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual(Xe.filter,ye)){if(ye==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(n.validateStyle.filter,"layers."+Xe.id+".filter",ye,null,Be)||(Xe.filter=n.clone$1(ye),this._updateLayer(Xe))}},K.prototype.getFilter=function(re){return n.clone$1(this.getLayer(re).filter)},K.prototype.setLayoutProperty=function(re,ye,Be,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ct=this.getLayer(re);if(!ct){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(ct.getLayoutProperty(ye),Be)||(ct.setLayoutProperty(ye,Be,Xe),this._updateLayer(ct))},K.prototype.getLayoutProperty=function(re,ye){var Be=this.getLayer(re);if(!Be){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style.")));return}return Be.getLayoutProperty(ye)},K.prototype.setPaintProperty=function(re,ye,Be,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ct=this.getLayer(re);if(!ct){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(ct.getPaintProperty(ye),Be)){var Ct=ct.setPaintProperty(ye,Be,Xe);Ct&&this._updateLayer(ct),this._changed=!0,this._updatedPaintProps[re]=!0}},K.prototype.getPaintProperty=function(re,ye){return this.getLayer(re).getPaintProperty(ye)},K.prototype.setFeatureState=function(re,ye){this._checkLoaded();var Be=re.source,Xe=re.sourceLayer,ct=this.sourceCaches[Be];if(ct===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Be+"' does not exist in the map's style.")));return}var Ct=ct.getSource().type;if(Ct==="geojson"&&Xe){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Xe){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}re.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),ct.setFeatureState(Xe,re.id,ye)},K.prototype.removeFeatureState=function(re,ye){this._checkLoaded();var Be=re.source,Xe=this.sourceCaches[Be];if(Xe===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Be+"' does not exist in the map's style.")));return}var ct=Xe.getSource().type,Ct=ct==="vector"?re.sourceLayer:void 0;if(ct==="vector"&&!Ct){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof re.id!="string"&&typeof re.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xe.removeFeatureState(Ct,re.id,ye)},K.prototype.getFeatureState=function(re){this._checkLoaded();var ye=re.source,Be=re.sourceLayer,Xe=this.sourceCaches[ye];if(Xe===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var ct=Xe.getSource().type;if(ct==="vector"&&!Be){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return re.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(Be,re.id)},K.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},K.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(re){return re.serialize()}),layers:this._serializeLayers(this._order)},function(re){return re!==void 0})},K.prototype._updateLayer=function(re){this._updatedLayers[re.id]=!0,re.source&&!this._updatedSources[re.source]&&this.sourceCaches[re.source].getSource().type!=="raster"&&(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause()),this._changed=!0},K.prototype._flattenAndSortRenderedFeatures=function(re){for(var ye=this,Be=function(Fa){return ye._layers[Fa].type==="fill-extrusion"},Xe={},ct=[],Ct=this._order.length-1;Ct>=0;Ct--){var Bt=this._order[Ct];if(Be(Bt)){Xe[Bt]=Ct;for(var qt=0,ur=re;qt<ur.length;qt+=1){var lr=ur[qt],Fr=lr[Bt];if(Fr)for(var Kr=0,Zr=Fr;Kr<Zr.length;Kr+=1){var jr=Zr[Kr];ct.push(jr)}}}}ct.sort(function(Fa,ni){return ni.intersectionZ-Fa.intersectionZ});for(var Qr=[],pn=this._order.length-1;pn>=0;pn--){var _n=this._order[pn];if(Be(_n))for(var Vn=ct.length-1;Vn>=0;Vn--){var Zn=ct[Vn].feature;if(Xe[Zn.layer.id]<pn)break;Qr.push(Zn),ct.pop()}else for(var Jn=0,jn=re;Jn<jn.length;Jn+=1){var $n=jn[Jn],ia=$n[_n];if(ia)for(var ca=0,xa=ia;ca<xa.length;ca+=1){var pa=xa[ca];Qr.push(pa.feature)}}}return Qr},K.prototype.queryRenderedFeatures=function(re,ye,Be){ye&&ye.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Xe={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ct=0,Ct=ye.layers;ct<Ct.length;ct+=1){var Bt=Ct[ct],qt=this._layers[Bt];if(!qt)return this.fire(new n.ErrorEvent(new Error("The layer '"+Bt+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[qt.source]=!0}}var ur=[];ye.availableImages=this._availableImages;for(var lr in this.sourceCaches)ye.layers&&!Xe[lr]||ur.push($(this.sourceCaches[lr],this._layers,this._serializedLayers,re,ye,Be));return this.placement&&ur.push(j(this._layers,this._serializedLayers,this.sourceCaches,re,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},K.prototype.querySourceFeatures=function(re,ye){ye&&ye.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var Be=this.sourceCaches[re];return Be?se(Be,ye):[]},K.prototype.addSourceType=function(re,ye,Be){if(K.getSourceType(re))return Be(new Error('A source type called "'+re+'" already exists.'));if(K.setSourceType(re,ye),!ye.workerSourceURL)return Be(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:re,url:ye.workerSourceURL},Be)},K.prototype.getLight=function(){return this.light.getLight()},K.prototype.setLight=function(re,ye){ye===void 0&&(ye={}),this._checkLoaded();var Be=this.light.getLight(),Xe=!1;for(var ct in re)if(!n.deepEqual(re[ct],Be[ct])){Xe=!0;break}if(Xe){var Ct={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(re,ye),this.light.updateTransitions(Ct)}},K.prototype._validate=function(re,ye,Be,Xe,ct){return ct===void 0&&(ct={}),ct&&ct.validate===!1?!1:la(this,re.call(n.validateStyle,n.extend({key:ye,style:this.serialize(),value:Be,styleSpec:n.styleSpec},Xe)))},K.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var re in this._layers){var ye=this._layers[re];ye.setEventedParent(null)}for(var Be in this.sourceCaches)this.sourceCaches[Be].clearTiles(),this.sourceCaches[Be].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},K.prototype._clearSource=function(re){this.sourceCaches[re].clearTiles()},K.prototype._reloadSource=function(re){this.sourceCaches[re].resume(),this.sourceCaches[re].reload()},K.prototype._updateSources=function(re){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(re)},K.prototype._generateCollisionBoxes=function(){for(var re in this.sourceCaches)this._reloadSource(re)},K.prototype._updatePlacement=function(re,ye,Be,Xe,ct){ct===void 0&&(ct=!1);for(var Ct=!1,Bt=!1,qt={},ur=0,lr=this._order;ur<lr.length;ur+=1){var Fr=lr[ur],Kr=this._layers[Fr];if(Kr.type==="symbol"){if(!qt[Kr.source]){var Zr=this.sourceCaches[Kr.source];qt[Kr.source]=Zr.getRenderableIds(!0).map(function(Jn){return Zr.getTileByID(Jn)}).sort(function(Jn,jn){return jn.tileID.overscaledZ-Jn.tileID.overscaledZ||(Jn.tileID.isLessThan(jn.tileID)?-1:1)})}var jr=this.crossTileSymbolIndex.addLayer(Kr,qt[Kr.source],re.center.lng);Ct=Ct||jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ct=ct||this._layerOrderChanged||Be===0,(ct||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),re.zoom))&&(this.pauseablePlacement=new Sn(re,this._order,ct,ye,Be,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Bt=!0),Ct&&this.pauseablePlacement.placement.setStale()),Bt||Ct)for(var Qr=0,pn=this._order;Qr<pn.length;Qr+=1){var _n=pn[Qr],Vn=this._layers[_n];Vn.type==="symbol"&&this.placement.updateLayerOpacities(Vn,qt[Vn.source])}var Zn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return Zn},K.prototype._releaseSymbolFadeTiles=function(){for(var re in this.sourceCaches)this.sourceCaches[re].releaseSymbolFadeTiles()},K.prototype.getImages=function(re,ye,Be){this.imageManager.getImages(ye.icons,Be),this._updateTilesForChangedImages();var Xe=this.sourceCaches[ye.source];Xe&&Xe.setDependencies(ye.tileID.key,ye.type,ye.icons)},K.prototype.getGlyphs=function(re,ye,Be){this.glyphManager.getGlyphs(ye.stacks,Be)},K.prototype.getResource=function(re,ye,Be){return n.makeRequest(ye,Be)},K}(n.Evented);Lo.getSourceType=ee,Lo.setSourceType=X,Lo.registerForPluginStateChange=n.registerForPluginStateChange;var Wo=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),po=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Vs=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Yl=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Eu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",oi=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Bf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,so=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,zo="void main() {gl_FragColor=vec4(1.0);}",Xl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",uf=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Zl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Wi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",eo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Kl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",go="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",yo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",$o="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Sc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",jo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ph=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Ls=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Uf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Ps=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Mc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,ff=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Dh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ih="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Vf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_h="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",zh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ec=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Cc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,El=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Jl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Pu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Gs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",cf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Rc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,cs=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ql=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Cl=Ti(po,Vs),Ru=Ti(Yl,Eu),al=Ti(oi,Cu),Rs=Ti(Bf,so),Gf=Ti(zo,Xl),$l=Ti(uf,Hi),hs=Ti(Zl,Wi),Fi=Ti(eo,Kl),Wf=Ti(go,yo),Fh=Ti($o,Sc),vf=Ti(jo,Ph),ql=Ti(Ls,lo),eu=Ti(Uf,nl),Yo=Ti(Ps,Hf),df=Ti(Mc,Rh),tu=Ti(ff,kh),pf=Ti(Dh,Ih),Nh=Ti(Vf,_h),kc=Ti(zh,Ec),jf=Ti(Cc,El),Yf=Ti(Jl,Lu),Xf=Ti(Pu,Lc),ru=Ti(Gs,Oh),gf=Ti(cf,Pc),ku=Ti(Rc,hf),yf=Ti(cs,Ql);function Ti(ve,K){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,re=K.match(/attribute ([\w]+) ([\w]+)/g),ye=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Be=K.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xe=Be?Be.concat(ye):ye,ct={};return ve=ve.replace(ge,function(Ct,Bt,qt,ur,lr){return ct[lr]=!0,Bt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
varying `+qt+" "+ur+" "+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),K=K.replace(ge,function(Ct,Bt,qt,ur,lr){var Fr=ur==="float"?"vec2":"vec4",Kr=lr.match(/color/)?"color":Fr;return ct[lr]?Bt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qt+" "+Fr+" a_"+lr+`;
varying `+qt+" "+ur+" "+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:Kr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = a_"+lr+`;
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = unpack_mix_"+Kr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:Bt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qt+" "+Fr+" a_"+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:Kr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = a_"+lr+`;
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = unpack_mix_"+Kr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),{fragmentSource:ve,vertexSource:K,staticAttributes:re,staticUniforms:Xe}}var Dc=Object.freeze({__proto__:null,prelude:Cl,background:Ru,backgroundPattern:al,circle:Rs,clippingMask:Gf,heatmap:$l,heatmapTexture:hs,collisionBox:Fi,collisionCircle:Wf,debug:Fh,fill:vf,fillOutline:ql,fillOutlinePattern:eu,fillPattern:Yo,fillExtrusion:df,fillExtrusionPattern:tu,hillshadePrepare:pf,hillshade:Nh,line:kc,lineGradient:jf,linePattern:Yf,lineSDF:Xf,raster:ru,symbolIcon:gf,symbolSDF:ku,symbolTextAndIcon:yf}),vs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};vs.prototype.bind=function(K,ge,re,ye,Be,Xe,ct,Ct){this.context=K;for(var Bt=this.boundPaintVertexBuffers.length!==ye.length,qt=0;!Bt&&qt<ye.length;qt++)this.boundPaintVertexBuffers[qt]!==ye[qt]&&(Bt=!0);var ur=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==re||Bt||this.boundIndexBuffer!==Be||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==ct||this.boundDynamicVertexBuffer2!==Ct;!K.extVertexArrayObject||ur?this.freshBind(ge,re,ye,Be,Xe,ct,Ct):(K.bindVertexArrayOES.set(this.vao),ct&&ct.bind(),Be&&Be.dynamicDraw&&Be.bind(),Ct&&Ct.bind())},vs.prototype.freshBind=function(K,ge,re,ye,Be,Xe,ct){var Ct,Bt=K.numAttributes,qt=this.context,ur=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=K,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=re,this.boundIndexBuffer=ye,this.boundVertexOffset=Be,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=ct;else{Ct=qt.currentNumAttributes||0;for(var lr=Bt;lr<Ct;lr++)ur.disableVertexAttribArray(lr)}ge.enableAttributes(ur,K);for(var Fr=0,Kr=re;Fr<Kr.length;Fr+=1){var Zr=Kr[Fr];Zr.enableAttributes(ur,K)}Xe&&Xe.enableAttributes(ur,K),ct&&ct.enableAttributes(ur,K),ge.bind(),ge.setVertexAttribPointers(ur,K,Be);for(var jr=0,Qr=re;jr<Qr.length;jr+=1){var pn=Qr[jr];pn.bind(),pn.setVertexAttribPointers(ur,K,Be)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(ur,K,Be)),ye&&ye.bind(),ct&&(ct.bind(),ct.setVertexAttribPointers(ur,K,Be)),qt.currentNumAttributes=Bt},vs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Ic(ve){for(var K=[],ge=0;ge<ve.length;ge++)if(ve[ge]!==null){var re=ve[ge].split(" ");K.push(re.pop())}return K}var Zf=function(K,ge,re,ye,Be,Xe){var ct=K.gl;this.program=ct.createProgram();for(var Ct=Ic(re.staticAttributes),Bt=ye?ye.getBinderAttributes():[],qt=Ct.concat(Bt),ur=re.staticUniforms?Ic(re.staticUniforms):[],lr=ye?ye.getBinderUniforms():[],Fr=ur.concat(lr),Kr=[],Zr=0,jr=Fr;Zr<jr.length;Zr+=1){var Qr=jr[Zr];Kr.indexOf(Qr)<0&&Kr.push(Qr)}var pn=ye?ye.defines():[];Xe&&pn.push("#define OVERDRAW_INSPECTOR;");var _n=pn.concat(Cl.fragmentSource,re.fragmentSource).join(`
`),Vn=pn.concat(Cl.vertexSource,re.vertexSource).join(`
`),Zn=ct.createShader(ct.FRAGMENT_SHADER);if(ct.isContextLost()){this.failedToCreate=!0;return}ct.shaderSource(Zn,_n),ct.compileShader(Zn),ct.attachShader(this.program,Zn);var Jn=ct.createShader(ct.VERTEX_SHADER);if(ct.isContextLost()){this.failedToCreate=!0;return}ct.shaderSource(Jn,Vn),ct.compileShader(Jn),ct.attachShader(this.program,Jn),this.attributes={};var jn={};this.numAttributes=qt.length;for(var $n=0;$n<this.numAttributes;$n++)qt[$n]&&(ct.bindAttribLocation(this.program,$n,qt[$n]),this.attributes[qt[$n]]=$n);ct.linkProgram(this.program),ct.deleteShader(Jn),ct.deleteShader(Zn);for(var ia=0;ia<Kr.length;ia++){var ca=Kr[ia];if(ca&&!jn[ca]){var xa=ct.getUniformLocation(this.program,ca);xa&&(jn[ca]=xa)}}this.fixedUniforms=Be(K,jn),this.binderUniforms=ye?ye.getUniforms(K,jn):[]};Zf.prototype.draw=function(K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt,ur,lr,Fr,Kr,Zr,jr){var Qr,pn=K.gl;if(!this.failedToCreate){K.program.set(this.program),K.setDepthMode(re),K.setStencilMode(ye),K.setColorMode(Be),K.setCullFace(Xe);for(var _n in this.fixedUniforms)this.fixedUniforms[_n].set(ct[_n]);Kr&&Kr.setUniforms(K,this.binderUniforms,lr,{zoom:Fr});for(var Vn=(Qr={},Qr[pn.LINES]=2,Qr[pn.TRIANGLES]=3,Qr[pn.LINE_STRIP]=1,Qr)[ge],Zn=0,Jn=ur.get();Zn<Jn.length;Zn+=1){var jn=Jn[Zn],$n=jn.vaos||(jn.vaos={}),ia=$n[Ct]||($n[Ct]=new vs);ia.bind(K,this,Bt,Kr?Kr.getPaintVertexBuffers():[],qt,jn.vertexOffset,Zr,jr),pn.drawElements(ge,jn.primitiveLength*Vn,pn.UNSIGNED_SHORT,jn.primitiveOffset*Vn*2)}}};function Ll(ve,K,ge){var re=1/un(ge,1,K.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),Be=ge.tileSize*Math.pow(2,K.transform.tileZoom)/ye,Xe=Be*(ge.tileID.canonical.x+ge.tileID.wrap*ye),ct=Be*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[re,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Xe>>16,ct>>16],u_pixel_coord_lower:[Xe&65535,ct&65535]}}function il(ve,K,ge,re){var ye=ge.imageManager.getPattern(ve.from.toString()),Be=ge.imageManager.getPattern(ve.to.toString()),Xe=ge.imageManager.getPixelSize(),ct=Xe.width,Ct=Xe.height,Bt=Math.pow(2,re.tileID.overscaledZ),qt=re.tileSize*Math.pow(2,ge.transform.tileZoom)/Bt,ur=qt*(re.tileID.canonical.x+re.tileID.wrap*Bt),lr=qt*re.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Be.tl,u_pattern_br_b:Be.br,u_texsize:[ct,Ct],u_mix:K.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Be.displaySize,u_scale_a:K.fromScale,u_scale_b:K.toScale,u_tile_units_to_pixels:1/un(re,1,ge.transform.tileZoom),u_pixel_coord_upper:[ur>>16,lr>>16],u_pixel_coord_lower:[ur&65535,lr&65535]}}var mf=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_lightpos:new n.Uniform3f(ve,K.u_lightpos),u_lightintensity:new n.Uniform1f(ve,K.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,K.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,K.u_vertical_gradient),u_opacity:new n.Uniform1f(ve,K.u_opacity)}},Vi=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_lightpos:new n.Uniform3f(ve,K.u_lightpos),u_lightintensity:new n.Uniform1f(ve,K.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,K.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,K.u_vertical_gradient),u_height_factor:new n.Uniform1f(ve,K.u_height_factor),u_image:new n.Uniform1i(ve,K.u_image),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,K.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,K.u_scale),u_fade:new n.Uniform1f(ve,K.u_fade),u_opacity:new n.Uniform1f(ve,K.u_opacity)}},Du=function(ve,K,ge,re){var ye=K.style.light,Be=ye.properties.get("position"),Xe=[Be.x,Be.y,Be.z],ct=n.create$1();ye.properties.get("anchor")==="viewport"&&n.fromRotation(ct,-K.transform.angle),n.transformMat3(Xe,Xe,ct);var Ct=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Xe,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+ge,u_opacity:re}},ds=function(ve,K,ge,re,ye,Be,Xe){return n.extend(Du(ve,K,ge,re),Ll(Be,K,Xe),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Xe.tileSize/8})},Ws=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix)}},Pl=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_image:new n.Uniform1i(ve,K.u_image),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,K.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,K.u_scale),u_fade:new n.Uniform1f(ve,K.u_fade)}},ol=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_world:new n.Uniform2f(ve,K.u_world)}},ps=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_world:new n.Uniform2f(ve,K.u_world),u_image:new n.Uniform1i(ve,K.u_image),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,K.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,K.u_scale),u_fade:new n.Uniform1f(ve,K.u_fade)}},js=function(ve){return{u_matrix:ve}},gs=function(ve,K,ge,re){return n.extend(js(ve),Ll(ge,K,re))},ns=function(ve,K){return{u_matrix:ve,u_world:K}},Iu=function(ve,K,ge,re,ye){return n.extend(gs(ve,K,ge,re),{u_world:ye})},Bh=function(ve,K){return{u_camera_to_center_distance:new n.Uniform1f(ve,K.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(ve,K.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(ve,K.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(ve,K.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(ve,K.u_matrix)}},Uh=function(ve,K,ge,re){var ye=ve.transform,Be,Xe;if(re.paint.get("circle-pitch-alignment")==="map"){var ct=un(ge,1,ye.zoom);Be=!0,Xe=[ct,ct]}else Be=!1,Xe=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(re.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(K.posMatrix,ge,re.paint.get("circle-translate"),re.paint.get("circle-translate-anchor")),u_pitch_with_map:+Be,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:Xe}},Hh=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,K.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(ve,K.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(ve,K.u_extrude_scale),u_overscale_factor:new n.Uniform1f(ve,K.u_overscale_factor)}},Vh=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_inv_matrix:new n.UniformMatrix4f(ve,K.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,K.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(ve,K.u_viewport_size)}},Kf=function(ve,K,ge){var re=un(ge,1,K.zoom),ye=Math.pow(2,K.zoom-ge.tileID.overscaledZ),Be=ge.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:K.cameraToCenterDistance,u_pixels_to_tile_units:re,u_extrude_scale:[K.pixelsToGLUnits[0]/(re*ye),K.pixelsToGLUnits[1]/(re*ye)],u_overscale_factor:Be}},_c=function(ve,K,ge){return{u_matrix:ve,u_inv_matrix:K,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},nu=function(ve,K){return{u_color:new n.UniformColor(ve,K.u_color),u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_overlay:new n.Uniform1i(ve,K.u_overlay),u_overlay_scale:new n.Uniform1f(ve,K.u_overlay_scale)}},uo=function(ve,K,ge){return ge===void 0&&(ge=1),{u_matrix:ve,u_color:K,u_overlay:0,u_overlay_scale:ge}},qo=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix)}},au=function(ve){return{u_matrix:ve}},zc=function(ve,K){return{u_extrude_scale:new n.Uniform1f(ve,K.u_extrude_scale),u_intensity:new n.Uniform1f(ve,K.u_intensity),u_matrix:new n.UniformMatrix4f(ve,K.u_matrix)}},_u=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_world:new n.Uniform2f(ve,K.u_world),u_image:new n.Uniform1i(ve,K.u_image),u_color_ramp:new n.Uniform1i(ve,K.u_color_ramp),u_opacity:new n.Uniform1f(ve,K.u_opacity)}},Ys=function(ve,K,ge,re){return{u_matrix:ve,u_extrude_scale:un(K,1,ge),u_intensity:re}},Gh=function(ve,K,ge,re){var ye=n.create();n.ortho(ye,0,ve.width,ve.height,0,0,1);var Be=ve.context.gl;return{u_matrix:ye,u_world:[Be.drawingBufferWidth,Be.drawingBufferHeight],u_image:ge,u_color_ramp:re,u_opacity:K.paint.get("heatmap-opacity")}},Oc=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_image:new n.Uniform1i(ve,K.u_image),u_latrange:new n.Uniform2f(ve,K.u_latrange),u_light:new n.Uniform2f(ve,K.u_light),u_shadow:new n.UniformColor(ve,K.u_shadow),u_highlight:new n.UniformColor(ve,K.u_highlight),u_accent:new n.UniformColor(ve,K.u_accent)}},Fc=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_image:new n.Uniform1i(ve,K.u_image),u_dimension:new n.Uniform2f(ve,K.u_dimension),u_zoom:new n.Uniform1f(ve,K.u_zoom),u_unpack:new n.Uniform4f(ve,K.u_unpack)}},Jf=function(ve,K,ge){var re=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),Be=ge.paint.get("hillshade-accent-color"),Xe=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ve.transform.angle);var ct=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(K.tileID.toUnwrapped(),ct),u_image:0,u_latrange:Oo(ve,K.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Xe],u_shadow:re,u_highlight:ye,u_accent:Be}},Nc=function(ve,K){var ge=K.stride,re=n.create();return n.ortho(re,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(re,re,[0,-n.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[ge,ge],u_zoom:ve.overscaledZ,u_unpack:K.getUnpackVector()}};function Oo(ve,K){var ge=Math.pow(2,K.canonical.z),re=K.canonical.y;return[new n.MercatorCoordinate(0,re/ge).toLngLat().lat,new n.MercatorCoordinate(0,(re+1)/ge).toLngLat().lat]}var ys=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_ratio:new n.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,K.u_units_to_pixels)}},sl=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_ratio:new n.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,K.u_units_to_pixels),u_image:new n.Uniform1i(ve,K.u_image),u_image_height:new n.Uniform1f(ve,K.u_image_height)}},iu=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_ratio:new n.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_image:new n.Uniform1i(ve,K.u_image),u_units_to_pixels:new n.Uniform2f(ve,K.u_units_to_pixels),u_scale:new n.Uniform3f(ve,K.u_scale),u_fade:new n.Uniform1f(ve,K.u_fade)}},xf=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_ratio:new n.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,K.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(ve,K.u_patternscale_a),u_patternscale_b:new n.Uniform2f(ve,K.u_patternscale_b),u_sdfgamma:new n.Uniform1f(ve,K.u_sdfgamma),u_image:new n.Uniform1i(ve,K.u_image),u_tex_y_a:new n.Uniform1f(ve,K.u_tex_y_a),u_tex_y_b:new n.Uniform1f(ve,K.u_tex_y_b),u_mix:new n.Uniform1f(ve,K.u_mix)}},Rl=function(ve,K,ge){var re=ve.transform;return{u_matrix:ll(ve,K,ge),u_ratio:1/un(K,1,re.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/re.pixelsToGLUnits[0],1/re.pixelsToGLUnits[1]]}},kl=function(ve,K,ge,re){return n.extend(Rl(ve,K,ge),{u_image:0,u_image_height:re})},Bc=function(ve,K,ge,re){var ye=ve.transform,Be=ou(K,ye);return{u_matrix:ll(ve,K,ge),u_texsize:K.imageAtlasTexture.size,u_ratio:1/un(K,1,ye.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[Be,re.fromScale,re.toScale],u_fade:re.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},Xs=function(ve,K,ge,re,ye){var Be=ve.transform,Xe=ve.lineAtlas,ct=ou(K,Be),Ct=ge.layout.get("line-cap")==="round",Bt=Xe.getDash(re.from,Ct),qt=Xe.getDash(re.to,Ct),ur=Bt.width*ye.fromScale,lr=qt.width*ye.toScale;return n.extend(Rl(ve,K,ge),{u_patternscale_a:[ct/ur,-Bt.height/2],u_patternscale_b:[ct/lr,-qt.height/2],u_sdfgamma:Xe.width/(Math.min(ur,lr)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Bt.y,u_tex_y_b:qt.y,u_mix:ye.t})};function ou(ve,K){return 1/un(ve,1,K.tileZoom)}function ll(ve,K,ge){return ve.translatePosMatrix(K.tileID.posMatrix,K,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var Zs=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_tl_parent:new n.Uniform2f(ve,K.u_tl_parent),u_scale_parent:new n.Uniform1f(ve,K.u_scale_parent),u_buffer_scale:new n.Uniform1f(ve,K.u_buffer_scale),u_fade_t:new n.Uniform1f(ve,K.u_fade_t),u_opacity:new n.Uniform1f(ve,K.u_opacity),u_image0:new n.Uniform1i(ve,K.u_image0),u_image1:new n.Uniform1i(ve,K.u_image1),u_brightness_low:new n.Uniform1f(ve,K.u_brightness_low),u_brightness_high:new n.Uniform1f(ve,K.u_brightness_high),u_saturation_factor:new n.Uniform1f(ve,K.u_saturation_factor),u_contrast_factor:new n.Uniform1f(ve,K.u_contrast_factor),u_spin_weights:new n.Uniform3f(ve,K.u_spin_weights)}},zu=function(ve,K,ge,re,ye){return{u_matrix:ve,u_tl_parent:K,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:re.mix,u_opacity:re.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:lu(ye.paint.get("raster-saturation")),u_contrast_factor:mi(ye.paint.get("raster-contrast")),u_spin_weights:su(ye.paint.get("raster-hue-rotate"))}};function su(ve){ve*=Math.PI/180;var K=Math.sin(ve),ge=Math.cos(ve);return[(2*ge+1)/3,(-Math.sqrt(3)*K-ge+1)/3,(Math.sqrt(3)*K-ge+1)/3]}function mi(ve){return ve>0?1/(1-ve):1+ve}function lu(ve){return ve>0?1-1/(1.001-ve):-ve}var bf=function(ve,K){return{u_is_size_zoom_constant:new n.Uniform1i(ve,K.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,K.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,K.u_size_t),u_size:new n.Uniform1f(ve,K.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,K.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,K.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,K.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,K.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,K.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,K.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,K.u_coord_matrix),u_is_text:new n.Uniform1i(ve,K.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,K.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_texture:new n.Uniform1i(ve,K.u_texture)}},Uc=function(ve,K){return{u_is_size_zoom_constant:new n.Uniform1i(ve,K.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,K.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,K.u_size_t),u_size:new n.Uniform1f(ve,K.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,K.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,K.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,K.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,K.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,K.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,K.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,K.u_coord_matrix),u_is_text:new n.Uniform1i(ve,K.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,K.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_texture:new n.Uniform1i(ve,K.u_texture),u_gamma_scale:new n.Uniform1f(ve,K.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,K.u_is_halo)}},uu=function(ve,K){return{u_is_size_zoom_constant:new n.Uniform1i(ve,K.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,K.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,K.u_size_t),u_size:new n.Uniform1f(ve,K.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,K.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,K.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,K.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,K.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,K.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,K.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,K.u_coord_matrix),u_is_text:new n.Uniform1i(ve,K.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,K.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_texsize_icon:new n.Uniform2f(ve,K.u_texsize_icon),u_texture:new n.Uniform1i(ve,K.u_texture),u_texture_icon:new n.Uniform1i(ve,K.u_texture_icon),u_gamma_scale:new n.Uniform1f(ve,K.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,K.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,K.u_is_halo)}},Ou=function(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt){var qt=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:K?K.uSizeT:0,u_size:K?K.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:qt.width/qt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Be,u_label_plane_matrix:Xe,u_coord_matrix:ct,u_is_text:+Ct,u_pitch_with_map:+re,u_texsize:Bt,u_texture:0}},wf=function(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt){var ur=ye.transform;return n.extend(Ou(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt),{u_gamma_scale:re?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+qt})},Qf=function(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt){return n.extend(wf(ve,K,ge,re,ye,Be,Xe,ct,!0,Ct,!0),{u_texsize_icon:Bt,u_texture_icon:1})},Fu=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_opacity:new n.Uniform1f(ve,K.u_opacity),u_color:new n.UniformColor(ve,K.u_color)}},Nu=function(ve,K){return{u_matrix:new n.UniformMatrix4f(ve,K.u_matrix),u_opacity:new n.Uniform1f(ve,K.u_opacity),u_image:new n.Uniform1i(ve,K.u_image),u_pattern_tl_a:new n.Uniform2f(ve,K.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(ve,K.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(ve,K.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(ve,K.u_pattern_br_b),u_texsize:new n.Uniform2f(ve,K.u_texsize),u_mix:new n.Uniform1f(ve,K.u_mix),u_pattern_size_a:new n.Uniform2f(ve,K.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(ve,K.u_pattern_size_b),u_scale_a:new n.Uniform1f(ve,K.u_scale_a),u_scale_b:new n.Uniform1f(ve,K.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,K.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(ve,K.u_tile_units_to_pixels)}},ul=function(ve,K,ge){return{u_matrix:ve,u_opacity:K,u_color:ge}},Bu=function(ve,K,ge,re,ye,Be){return n.extend(il(re,Be,ge,ye),{u_matrix:ve,u_opacity:K})},fl={fillExtrusion:mf,fillExtrusionPattern:Vi,fill:Ws,fillPattern:Pl,fillOutline:ol,fillOutlinePattern:ps,circle:Bh,collisionBox:Hh,collisionCircle:Vh,debug:nu,clippingMask:qo,heatmap:zc,heatmapTexture:_u,hillshade:Oc,hillshadePrepare:Fc,line:ys,lineGradient:sl,linePattern:iu,lineSDF:xf,raster:Zs,symbolIcon:bf,symbolSDF:Uc,symbolTextAndIcon:uu,background:Fu,backgroundPattern:Nu},to;function ks(ve,K,ge,re,ye,Be,Xe){for(var ct=ve.context,Ct=ct.gl,Bt=ve.useProgram("collisionBox"),qt=[],ur=0,lr=0,Fr=0;Fr<re.length;Fr++){var Kr=re[Fr],Zr=K.getTile(Kr),jr=Zr.getBucket(ge);if(jr){var Qr=Kr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(Qr=ve.translatePosMatrix(Kr.posMatrix,Zr,ye,Be));var pn=Xe?jr.textCollisionBox:jr.iconCollisionBox,_n=jr.collisionCircleArray;if(_n.length>0){var Vn=n.create(),Zn=Qr;n.mul(Vn,jr.placementInvProjMatrix,ve.transform.glCoordMatrix),n.mul(Vn,Vn,jr.placementViewportMatrix),qt.push({circleArray:_n,circleOffset:lr,transform:Zn,invTransform:Vn}),ur+=_n.length/4,lr=ur}pn&&Bt.draw(ct,Ct.LINES,vr.disabled,$t.disabled,ve.colorModeForRenderPass(),It.disabled,Kf(Qr,ve.transform,Zr),ge.id,pn.layoutVertexBuffer,pn.indexBuffer,pn.segments,null,ve.transform.zoom,null,null,pn.collisionVertexBuffer)}}if(!(!Xe||!qt.length)){var Jn=ve.useProgram("collisionCircle"),jn=new n.StructArrayLayout2f1f2i16;jn.resize(ur*4),jn._trim();for(var $n=0,ia=0,ca=qt;ia<ca.length;ia+=1)for(var xa=ca[ia],pa=0;pa<xa.circleArray.length/4;pa++){var Fa=pa*4,ni=xa.circleArray[Fa+0],Za=xa.circleArray[Fa+1],Ea=xa.circleArray[Fa+2],Ka=xa.circleArray[Fa+3];jn.emplace($n++,ni,Za,Ea,Ka,0),jn.emplace($n++,ni,Za,Ea,Ka,1),jn.emplace($n++,ni,Za,Ea,Ka,2),jn.emplace($n++,ni,Za,Ea,Ka,3)}(!to||to.length<ur*2)&&(to=$f(ur));for(var Ga=ct.createIndexBuffer(to,!0),hi=ct.createVertexBuffer(jn,n.collisionCircleLayout.members,!0),si=0,Ri=qt;si<Ri.length;si+=1){var ri=Ri[si],Ai=_c(ri.transform,ri.invTransform,ve.transform);Jn.draw(ct,Ct.TRIANGLES,vr.disabled,$t.disabled,ve.colorModeForRenderPass(),It.disabled,Ai,ge.id,hi,Ga,n.SegmentVector.simpleSegment(0,ri.circleOffset*2,ri.circleArray.length,ri.circleArray.length/2),null,ve.transform.zoom,null,null,null)}hi.destroy(),Ga.destroy()}}function $f(ve){var K=ve*2,ge=new n.StructArrayLayout3ui6;ge.resize(K),ge._trim();for(var re=0;re<K;re++){var ye=re*6;ge.uint16[ye+0]=re*4+0,ge.uint16[ye+1]=re*4+1,ge.uint16[ye+2]=re*4+2,ge.uint16[ye+3]=re*4+2,ge.uint16[ye+4]=re*4+3,ge.uint16[ye+5]=re*4+0}return ge}var Dl=n.identity(new Float32Array(16));function Tf(ve,K,ge,re,ye){if(ve.renderPass==="translucent"){var Be=$t.disabled,Xe=ve.colorModeForRenderPass(),ct=ge.layout.get("text-variable-anchor");ct&&Wh(re,ve,ge,K,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&Hu(ve,K,ge,re,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),Be,Xe),ge.paint.get("text-opacity").constantOr(1)!==0&&Hu(ve,K,ge,re,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),Be,Xe),K.map.showCollisionBoxes&&(ks(ve,K,ge,re,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),ks(ve,K,ge,re,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function Uu(ve,K,ge,re,ye,Be){var Xe=n.getAnchorAlignment(ve),ct=Xe.horizontalAlign,Ct=Xe.verticalAlign,Bt=-(ct-.5)*K,qt=-(Ct-.5)*ge,ur=n.evaluateVariableOffset(ve,re);return new n.Point((Bt/ye+ur[0])*Be,(qt/ye+ur[1])*Be)}function Wh(ve,K,ge,re,ye,Be,Xe){for(var ct=K.transform,Ct=ye==="map",Bt=Be==="map",qt=0,ur=ve;qt<ur.length;qt+=1){var lr=ur[qt],Fr=re.getTile(lr),Kr=Fr.getBucket(ge);if(!(!Kr||!Kr.text||!Kr.text.segments.get().length)){var Zr=Kr.textSizeData,jr=n.evaluateSizeForZoom(Zr,ct.zoom),Qr=un(Fr,1,K.transform.zoom),pn=Pr(lr.posMatrix,Bt,Ct,K.transform,Qr),_n=ge.layout.get("icon-text-fit")!=="none"&&Kr.hasIconData();if(jr){var Vn=Math.pow(2,ct.zoom-Fr.tileID.overscaledZ);Hc(Kr,Ct,Bt,Xe,n.symbolSize,ct,pn,lr.posMatrix,Vn,jr,_n)}}}}function Hc(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt){var ur=ve.text.placedSymbolArray,lr=ve.text.dynamicLayoutVertexArray,Fr=ve.icon.dynamicLayoutVertexArray,Kr={};lr.clear();for(var Zr=0;Zr<ur.length;Zr++){var jr=ur.get(Zr),Qr=ve.allowVerticalPlacement&&!jr.placedOrientation,pn=!jr.hidden&&jr.crossTileID&&!Qr?re[jr.crossTileID]:null;if(!pn)kn(jr.numGlyphs,lr);else{var _n=new n.Point(jr.anchorX,jr.anchorY),Vn=_r(_n,ge?ct:Xe),Zn=gn(Be.cameraToCenterDistance,Vn.signedDistanceFromCamera),Jn=ye.evaluateSizeForFeature(ve.textSizeData,Bt,jr)*Zn/n.ONE_EM;ge&&(Jn*=ve.tilePixelRatio/Ct);for(var jn=pn.width,$n=pn.height,ia=pn.anchor,ca=pn.textOffset,xa=pn.textBoxScale,pa=Uu(ia,jn,$n,ca,xa,Jn),Fa=ge?_r(_n.add(pa),Xe).point:Vn.point.add(K?pa.rotate(-Be.angle):pa),ni=ve.allowVerticalPlacement&&jr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,Za=0;Za<jr.numGlyphs;Za++)n.addDynamicAttributes(lr,Fa,ni);qt&&jr.associatedIconIndex>=0&&(Kr[jr.associatedIconIndex]={shiftedAnchor:Fa,angle:ni})}}if(qt){Fr.clear();for(var Ea=ve.icon.placedSymbolArray,Ka=0;Ka<Ea.length;Ka++){var Ga=Ea.get(Ka);if(Ga.hidden)kn(Ga.numGlyphs,Fr);else{var hi=Kr[Ka];if(!hi)kn(Ga.numGlyphs,Fr);else for(var si=0;si<Ga.numGlyphs;si++)n.addDynamicAttributes(Fr,hi.shiftedAnchor,hi.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Fr)}ve.text.dynamicLayoutVertexBuffer.updateData(lr)}function Po(ve,K,ge){return ge.iconsInText&&K?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Hu(ve,K,ge,re,ye,Be,Xe,ct,Ct,Bt,qt,ur){for(var lr=ve.context,Fr=lr.gl,Kr=ve.transform,Zr=ct==="map",jr=Ct==="map",Qr=Zr&&ge.layout.get("symbol-placement")!=="point",pn=Zr&&!jr&&!Qr,_n=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,Vn=!1,Zn=ve.depthModeForSublayer(0,vr.ReadOnly),Jn=ge.layout.get("text-variable-anchor"),jn=[],$n=0,ia=re;$n<ia.length;$n+=1){var ca=ia[$n],xa=K.getTile(ca),pa=xa.getBucket(ge);if(pa){var Fa=ye?pa.text:pa.icon;if(!(!Fa||!Fa.segments.get().length)){var ni=Fa.programConfigurations.get(ge.id),Za=ye||pa.sdfIcons,Ea=ye?pa.textSizeData:pa.iconSizeData,Ka=jr||Kr.pitch!==0,Ga=ve.useProgram(Po(Za,ye,pa),ni),hi=n.evaluateSizeForZoom(Ea,Kr.zoom),si=void 0,Ri=[0,0],ri=void 0,Ai=void 0,Wa=null,ai=void 0;if(ye){if(ri=xa.glyphAtlasTexture,Ai=Fr.LINEAR,si=xa.glyphAtlasTexture.size,pa.iconsInText){Ri=xa.imageAtlasTexture.size,Wa=xa.imageAtlasTexture;var Ki=Ea.kind==="composite"||Ea.kind==="camera";ai=Ka||ve.options.rotating||ve.options.zooming||Ki?Fr.LINEAR:Fr.NEAREST}}else{var ko=ge.layout.get("icon-size").constantOr(0)!==1||pa.iconsNeedLinear;ri=xa.imageAtlasTexture,Ai=Za||ve.options.rotating||ve.options.zooming||ko||Ka?Fr.LINEAR:Fr.NEAREST,si=xa.imageAtlasTexture.size}var vl=un(xa,1,ve.transform.zoom),dl=Pr(ca.posMatrix,jr,Zr,ve.transform,vl),zl=Xr(ca.posMatrix,jr,Zr,ve.transform,vl),hu=Jn&&pa.hasTextData(),ic=ge.layout.get("icon-text-fit")!=="none"&&hu&&pa.hasIconData();Qr&&An(pa,ca.posMatrix,ve,ye,dl,zl,jr,Bt);var vu=ve.translatePosMatrix(ca.posMatrix,xa,Be,Xe),xs=Qr||ye&&Jn||ic?Dl:dl,du=ve.translatePosMatrix(zl,xa,Be,Xe,!0),_s=Za&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,bs=void 0;Za?pa.iconsInText?bs=Qf(Ea.kind,hi,pn,jr,ve,vu,xs,du,si,Ri):bs=wf(Ea.kind,hi,pn,jr,ve,vu,xs,du,ye,si,!0):bs=Ou(Ea.kind,hi,pn,jr,ve,vu,xs,du,ye,si);var Ol={program:Ga,buffers:Fa,uniformValues:bs,atlasTexture:ri,atlasTextureIcon:Wa,atlasInterpolation:Ai,atlasInterpolationIcon:ai,isSDF:Za,hasHalo:_s};if(_n&&pa.canOverlap){Vn=!0;for(var Ku=Fa.segments.get(),Fl=0,Sv=Ku;Fl<Sv.length;Fl+=1){var Jc=Sv[Fl];jn.push({segments:new n.SegmentVector([Jc]),sortKey:Jc.sortKey,state:Ol})}}else jn.push({segments:Fa.segments,sortKey:0,state:Ol})}}}Vn&&jn.sort(function(Ev,Cv){return Ev.sortKey-Cv.sortKey});for(var Fo=0,Mv=jn;Fo<Mv.length;Fo+=1){var Jh=Mv[Fo],as=Jh.state;if(lr.activeTexture.set(Fr.TEXTURE0),as.atlasTexture.bind(as.atlasInterpolation,Fr.CLAMP_TO_EDGE),as.atlasTextureIcon&&(lr.activeTexture.set(Fr.TEXTURE1),as.atlasTextureIcon&&as.atlasTextureIcon.bind(as.atlasInterpolationIcon,Fr.CLAMP_TO_EDGE)),as.isSDF){var Qc=as.uniformValues;as.hasHalo&&(Qc.u_is_halo=1,fu(as.buffers,Jh.segments,ge,ve,as.program,Zn,qt,ur,Qc)),Qc.u_is_halo=0}fu(as.buffers,Jh.segments,ge,ve,as.program,Zn,qt,ur,as.uniformValues)}}function fu(ve,K,ge,re,ye,Be,Xe,ct,Ct){var Bt=re.context,qt=Bt.gl;ye.draw(Bt,qt.TRIANGLES,Be,Xe,ct,It.disabled,Ct,ge.id,ve.layoutVertexBuffer,ve.indexBuffer,K,ge.paint,re.transform.zoom,ve.programConfigurations.get(ge.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function Vc(ve,K,ge,re){if(ve.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),Be=ge.paint.get("circle-stroke-width"),Xe=ge.paint.get("circle-stroke-opacity"),ct=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(Be.constantOr(1)===0||Xe.constantOr(1)===0))){for(var Ct=ve.context,Bt=Ct.gl,qt=ve.depthModeForSublayer(0,vr.ReadOnly),ur=$t.disabled,lr=ve.colorModeForRenderPass(),Fr=[],Kr=0;Kr<re.length;Kr++){var Zr=re[Kr],jr=K.getTile(Zr),Qr=jr.getBucket(ge);if(Qr){var pn=Qr.programConfigurations.get(ge.id),_n=ve.useProgram("circle",pn),Vn=Qr.layoutVertexBuffer,Zn=Qr.indexBuffer,Jn=Uh(ve,Zr,jr,ge),jn={programConfiguration:pn,program:_n,layoutVertexBuffer:Vn,indexBuffer:Zn,uniformValues:Jn};if(ct)for(var $n=Qr.segments.get(),ia=0,ca=$n;ia<ca.length;ia+=1){var xa=ca[ia];Fr.push({segments:new n.SegmentVector([xa]),sortKey:xa.sortKey,state:jn})}else Fr.push({segments:Qr.segments,sortKey:0,state:jn})}}ct&&Fr.sort(function(ri,Ai){return ri.sortKey-Ai.sortKey});for(var pa=0,Fa=Fr;pa<Fa.length;pa+=1){var ni=Fa[pa],Za=ni.state,Ea=Za.programConfiguration,Ka=Za.program,Ga=Za.layoutVertexBuffer,hi=Za.indexBuffer,si=Za.uniformValues,Ri=ni.segments;Ka.draw(Ct,Bt.TRIANGLES,qt,ur,lr,It.disabled,si,ge.id,Ga,hi,Ri,ge.paint,ve.transform.zoom,Ea)}}}}function cl(ve,K,ge,re){if(ge.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,Be=ye.gl,Xe=$t.disabled,ct=new ut([Be.ONE,Be.ONE],n.Color.transparent,[!0,!0,!0,!0]);jh(ye,ve,ge),ye.clear({color:n.Color.transparent});for(var Ct=0;Ct<re.length;Ct++){var Bt=re[Ct];if(!K.hasRenderableParent(Bt)){var qt=K.getTile(Bt),ur=qt.getBucket(ge);if(ur){var lr=ur.programConfigurations.get(ge.id),Fr=ve.useProgram("heatmap",lr),Kr=ve.transform,Zr=Kr.zoom;Fr.draw(ye,Be.TRIANGLES,vr.disabled,Xe,ct,It.disabled,Ys(Bt.posMatrix,qt,Zr,ge.paint.get("heatmap-intensity")),ge.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,ge.paint,ve.transform.zoom,lr)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),Vu(ve,ge))}function jh(ve,K,ge){var re=ve.gl;ve.activeTexture.set(re.TEXTURE1),ve.viewport.set([0,0,K.width/4,K.height/4]);var ye=ge.heatmapFbo;if(ye)re.bindTexture(re.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var Be=re.createTexture();re.bindTexture(re.TEXTURE_2D,Be),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),ye=ge.heatmapFbo=ve.createFramebuffer(K.width/4,K.height/4,!1),Xo(ve,K,Be,ye)}}function Xo(ve,K,ge,re){var ye=ve.gl,Be=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,K.width/4,K.height/4,0,ye.RGBA,Be,null),re.colorAttachment.set(ge)}function Vu(ve,K){var ge=ve.context,re=ge.gl,ye=K.heatmapFbo;if(ye){ge.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(re.TEXTURE1);var Be=K.colorRampTexture;Be||(Be=K.colorRampTexture=new n.Texture(ge,K.colorRamp,re.RGBA)),Be.bind(re.LINEAR,re.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(ge,re.TRIANGLES,vr.disabled,$t.disabled,ve.colorModeForRenderPass(),It.disabled,Gh(ve,K,0,1),K.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,K.paint,ve.transform.zoom)}}function Af(ve,K,ge,re){if(ve.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),Be=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||Be.constantOr(1)===0))for(var Xe=ve.depthModeForSublayer(0,vr.ReadOnly),ct=ve.colorModeForRenderPass(),Ct=ge.paint.get("line-dasharray"),Bt=ge.paint.get("line-pattern"),qt=Bt.constantOr(1),ur=ge.paint.get("line-gradient"),lr=ge.getCrossfadeParameters(),Fr=qt?"linePattern":Ct?"lineSDF":ur?"lineGradient":"line",Kr=ve.context,Zr=Kr.gl,jr=!0,Qr=0,pn=re;Qr<pn.length;Qr+=1){var _n=pn[Qr],Vn=K.getTile(_n);if(!(qt&&!Vn.patternsLoaded())){var Zn=Vn.getBucket(ge);if(Zn){var Jn=Zn.programConfigurations.get(ge.id),jn=ve.context.program.get(),$n=ve.useProgram(Fr,Jn),ia=jr||$n.program!==jn,ca=Bt.constantOr(null);if(ca&&Vn.imageAtlas){var xa=Vn.imageAtlas,pa=xa.patternPositions[ca.to.toString()],Fa=xa.patternPositions[ca.from.toString()];pa&&Fa&&Jn.setConstantPatternPositions(pa,Fa)}var ni=qt?Bc(ve,Vn,ge,lr):Ct?Xs(ve,Vn,ge,Ct,lr):ur?kl(ve,Vn,ge,Zn.lineClipsArray.length):Rl(ve,Vn,ge);if(qt)Kr.activeTexture.set(Zr.TEXTURE0),Vn.imageAtlasTexture.bind(Zr.LINEAR,Zr.CLAMP_TO_EDGE),Jn.updatePaintBuffers(lr);else if(Ct&&(ia||ve.lineAtlas.dirty))Kr.activeTexture.set(Zr.TEXTURE0),ve.lineAtlas.bind(Kr);else if(ur){var Za=Zn.gradients[ge.id],Ea=Za.texture;if(ge.gradientVersion!==Za.version){var Ka=256;if(ge.stepInterpolant){var Ga=K.getSource().maxzoom,hi=_n.canonical.z===Ga?Math.ceil(1<<ve.transform.maxZoom-_n.canonical.z):1,si=Zn.maxLineLength/n.EXTENT,Ri=1024,ri=si*Ri*hi;Ka=n.clamp(n.nextPowerOfTwo(ri),256,Kr.maxTextureSize)}Za.gradient=n.renderColorRamp({expression:ge.gradientExpression(),evaluationKey:"lineProgress",resolution:Ka,image:Za.gradient||void 0,clips:Zn.lineClipsArray}),Za.texture?Za.texture.update(Za.gradient):Za.texture=new n.Texture(Kr,Za.gradient,Zr.RGBA),Za.version=ge.gradientVersion,Ea=Za.texture}Kr.activeTexture.set(Zr.TEXTURE0),Ea.bind(ge.stepInterpolant?Zr.NEAREST:Zr.LINEAR,Zr.CLAMP_TO_EDGE)}$n.draw(Kr,Zr.TRIANGLES,Xe,ve.stencilModeForClipping(_n),ct,It.disabled,ni,ge.id,Zn.layoutVertexBuffer,Zn.indexBuffer,Zn.segments,ge.paint,ve.transform.zoom,Jn,Zn.layoutVertexBuffer2),jr=!1}}}}}function Ks(ve,K,ge,re){var ye=ge.paint.get("fill-color"),Be=ge.paint.get("fill-opacity");if(Be.constantOr(1)!==0){var Xe=ve.colorModeForRenderPass(),ct=ge.paint.get("fill-pattern"),Ct=ve.opaquePassEnabledForLayer()&&!ct.constantOr(1)&&ye.constantOr(n.Color.transparent).a===1&&Be.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Ct){var Bt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?vr.ReadWrite:vr.ReadOnly);hl(ve,K,ge,re,Bt,Xe,!1)}if(ve.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var qt=ve.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,vr.ReadOnly);hl(ve,K,ge,re,qt,Xe,!0)}}}function hl(ve,K,ge,re,ye,Be,Xe){var ct=ve.context.gl,Ct=ge.paint.get("fill-pattern"),Bt=Ct&&Ct.constantOr(1),qt=ge.getCrossfadeParameters(),ur,lr,Fr,Kr,Zr;Xe?(lr=Bt&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=ct.LINES):(lr=Bt?"fillPattern":"fill",ur=ct.TRIANGLES);for(var jr=0,Qr=re;jr<Qr.length;jr+=1){var pn=Qr[jr],_n=K.getTile(pn);if(!(Bt&&!_n.patternsLoaded())){var Vn=_n.getBucket(ge);if(Vn){var Zn=Vn.programConfigurations.get(ge.id),Jn=ve.useProgram(lr,Zn);Bt&&(ve.context.activeTexture.set(ct.TEXTURE0),_n.imageAtlasTexture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),Zn.updatePaintBuffers(qt));var jn=Ct.constantOr(null);if(jn&&_n.imageAtlas){var $n=_n.imageAtlas,ia=$n.patternPositions[jn.to.toString()],ca=$n.patternPositions[jn.from.toString()];ia&&ca&&Zn.setConstantPatternPositions(ia,ca)}var xa=ve.translatePosMatrix(pn.posMatrix,_n,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Xe)Kr=Vn.indexBuffer,Zr=Vn.segments,Fr=Bt?gs(xa,ve,qt,_n):js(xa);else{Kr=Vn.indexBuffer2,Zr=Vn.segments2;var pa=[ct.drawingBufferWidth,ct.drawingBufferHeight];Fr=lr==="fillOutlinePattern"&&Bt?Iu(xa,ve,qt,_n,pa):ns(xa,pa)}Jn.draw(ve.context,ur,ye,ve.stencilModeForClipping(pn),Be,It.disabled,Fr,ge.id,Vn.layoutVertexBuffer,Kr,Zr,ge.paint,ve.transform.zoom,Zn)}}}}function qf(ve,K,ge,re){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var Be=new vr(ve.context.gl.LEQUAL,vr.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ve.colorModeForRenderPass();Gu(ve,K,ge,re,Be,$t.disabled,Xe)}else Gu(ve,K,ge,re,Be,$t.disabled,ut.disabled),Gu(ve,K,ge,re,Be,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function Gu(ve,K,ge,re,ye,Be,Xe){for(var ct=ve.context,Ct=ct.gl,Bt=ge.paint.get("fill-extrusion-pattern"),qt=Bt.constantOr(1),ur=ge.getCrossfadeParameters(),lr=ge.paint.get("fill-extrusion-opacity"),Fr=0,Kr=re;Fr<Kr.length;Fr+=1){var Zr=Kr[Fr],jr=K.getTile(Zr),Qr=jr.getBucket(ge);if(Qr){var pn=Qr.programConfigurations.get(ge.id),_n=ve.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",pn);qt&&(ve.context.activeTexture.set(Ct.TEXTURE0),jr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),pn.updatePaintBuffers(ur));var Vn=Bt.constantOr(null);if(Vn&&jr.imageAtlas){var Zn=jr.imageAtlas,Jn=Zn.patternPositions[Vn.to.toString()],jn=Zn.patternPositions[Vn.from.toString()];Jn&&jn&&pn.setConstantPatternPositions(Jn,jn)}var $n=ve.translatePosMatrix(Zr.posMatrix,jr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),ia=ge.paint.get("fill-extrusion-vertical-gradient"),ca=qt?ds($n,ve,ia,lr,Zr,ur,jr):Du($n,ve,ia,lr);_n.draw(ct,ct.gl.TRIANGLES,ye,Be,Xe,It.backCCW,ca,ge.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,ge.paint,ve.transform.zoom,pn)}}}function Wu(ve,K,ge,re){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,Be=ve.depthModeForSublayer(0,vr.ReadOnly),Xe=ve.colorModeForRenderPass(),ct=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(re):[{},re],Ct=ct[0],Bt=ct[1],qt=0,ur=Bt;qt<ur.length;qt+=1){var lr=ur[qt],Fr=K.getTile(lr);Fr.needsHillshadePrepare&&ve.renderPass==="offscreen"?Gc(ve,Fr,ge,Be,$t.disabled,Xe):ve.renderPass==="translucent"&&Sf(ve,Fr,ge,Be,Ct[lr.overscaledZ],Xe)}ye.viewport.set([0,0,ve.width,ve.height])}}function Sf(ve,K,ge,re,ye,Be){var Xe=ve.context,ct=Xe.gl,Ct=K.fbo;if(Ct){var Bt=ve.useProgram("hillshade");Xe.activeTexture.set(ct.TEXTURE0),ct.bindTexture(ct.TEXTURE_2D,Ct.colorAttachment.get());var qt=Jf(ve,K,ge);Bt.draw(Xe,ct.TRIANGLES,re,ye,Be,It.disabled,qt,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Gc(ve,K,ge,re,ye,Be){var Xe=ve.context,ct=Xe.gl,Ct=K.dem;if(Ct&&Ct.data){var Bt=Ct.dim,qt=Ct.stride,ur=Ct.getPixels();if(Xe.activeTexture.set(ct.TEXTURE1),Xe.pixelStoreUnpackPremultiplyAlpha.set(!1),K.demTexture=K.demTexture||ve.getTileTexture(qt),K.demTexture){var lr=K.demTexture;lr.update(ur,{premultiply:!1}),lr.bind(ct.NEAREST,ct.CLAMP_TO_EDGE)}else K.demTexture=new n.Texture(Xe,ur,ct.RGBA,{premultiply:!1}),K.demTexture.bind(ct.NEAREST,ct.CLAMP_TO_EDGE);Xe.activeTexture.set(ct.TEXTURE0);var Fr=K.fbo;if(!Fr){var Kr=new n.Texture(Xe,{width:Bt,height:Bt,data:null},ct.RGBA);Kr.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),Fr=K.fbo=Xe.createFramebuffer(Bt,Bt,!0),Fr.colorAttachment.set(Kr.texture)}Xe.bindFramebuffer.set(Fr.framebuffer),Xe.viewport.set([0,0,Bt,Bt]),ve.useProgram("hillshadePrepare").draw(Xe,ct.TRIANGLES,re,ye,Be,It.disabled,Nc(K.tileID,Ct),ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),K.needsHillshadePrepare=!1}}function ju(ve,K,ge,re){if(ve.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&re.length)for(var ye=ve.context,Be=ye.gl,Xe=K.getSource(),ct=ve.useProgram("raster"),Ct=ve.colorModeForRenderPass(),Bt=Xe instanceof Q?[{},re]:ve.stencilConfigForOverlap(re),qt=Bt[0],ur=Bt[1],lr=ur[ur.length-1].overscaledZ,Fr=!ve.options.moving,Kr=0,Zr=ur;Kr<Zr.length;Kr+=1){var jr=Zr[Kr],Qr=ve.depthModeForSublayer(jr.overscaledZ-lr,ge.paint.get("raster-opacity")===1?vr.ReadWrite:vr.ReadOnly,Be.LESS),pn=K.getTile(jr),_n=ve.transform.calculatePosMatrix(jr.toUnwrapped(),Fr);pn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var Vn=K.findLoadedParent(jr,0),Zn=ec(pn,Vn,K,ge,ve.transform),Jn=void 0,jn=void 0,$n=ge.paint.get("raster-resampling")==="nearest"?Be.NEAREST:Be.LINEAR;ye.activeTexture.set(Be.TEXTURE0),pn.texture.bind($n,Be.CLAMP_TO_EDGE,Be.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Be.TEXTURE1),Vn?(Vn.texture.bind($n,Be.CLAMP_TO_EDGE,Be.LINEAR_MIPMAP_NEAREST),Jn=Math.pow(2,Vn.tileID.overscaledZ-pn.tileID.overscaledZ),jn=[pn.tileID.canonical.x*Jn%1,pn.tileID.canonical.y*Jn%1]):pn.texture.bind($n,Be.CLAMP_TO_EDGE,Be.LINEAR_MIPMAP_NEAREST);var ia=zu(_n,jn||[0,0],Jn||1,Zn,ge);Xe instanceof Q?ct.draw(ye,Be.TRIANGLES,Qr,$t.disabled,Ct,It.disabled,ia,ge.id,Xe.boundsBuffer,ve.quadTriangleIndexBuffer,Xe.boundsSegments):ct.draw(ye,Be.TRIANGLES,Qr,qt[jr.overscaledZ],Ct,It.disabled,ia,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function ec(ve,K,ge,re,ye){var Be=re.paint.get("raster-fade-duration");if(Be>0){var Xe=n.browser.now(),ct=(Xe-ve.timeAdded)/Be,Ct=K?(Xe-K.timeAdded)/Be:-1,Bt=ge.getSource(),qt=ye.coveringZoomLevel({tileSize:Bt.tileSize,roundZoom:Bt.roundZoom}),ur=!K||Math.abs(K.tileID.overscaledZ-qt)>Math.abs(ve.tileID.overscaledZ-qt),lr=ur&&ve.refreshedUponExpiration?1:n.clamp(ur?ct:1-Ct,0,1);return ve.refreshedUponExpiration&&ct>=1&&(ve.refreshedUponExpiration=!1),K?{opacity:1,mix:1-lr}:{opacity:lr,mix:0}}else return{opacity:1,mix:0}}function Il(ve,K,ge){var re=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var Be=ve.context,Xe=Be.gl,ct=ve.transform,Ct=ct.tileSize,Bt=ge.paint.get("background-pattern");if(!ve.isPatternMissing(Bt)){var qt=!Bt&&re.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===qt){var ur=$t.disabled,lr=ve.depthModeForSublayer(0,qt==="opaque"?vr.ReadWrite:vr.ReadOnly),Fr=ve.colorModeForRenderPass(),Kr=ve.useProgram(Bt?"backgroundPattern":"background"),Zr=ct.coveringTiles({tileSize:Ct});Bt&&(Be.activeTexture.set(Xe.TEXTURE0),ve.imageManager.bind(ve.context));for(var jr=ge.getCrossfadeParameters(),Qr=0,pn=Zr;Qr<pn.length;Qr+=1){var _n=pn[Qr],Vn=ve.transform.calculatePosMatrix(_n.toUnwrapped()),Zn=Bt?Bu(Vn,ye,ve,Bt,{tileID:_n,tileSize:Ct},jr):ul(Vn,ye,re);Kr.draw(Be,Xe.TRIANGLES,lr,ur,Fr,It.disabled,Zn,ge.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var tc=new n.Color(1,0,0,1),Yu=new n.Color(0,1,0,1),Wc=new n.Color(0,0,1,1),$e=new n.Color(1,0,1,1),st=new n.Color(0,1,1,1);function mt(ve){var K=ve.transform.padding,ge=3;_t(ve,ve.transform.height-(K.top||0),ge,tc),_t(ve,K.bottom||0,ge,Yu),Dt(ve,K.left||0,ge,Wc),Dt(ve,ve.transform.width-(K.right||0),ge,$e);var re=ve.transform.centerPoint;wt(ve,re.x,ve.transform.height-re.y,st)}function wt(ve,K,ge,re){var ye=20,Be=2;zt(ve,K-Be/2,ge-ye/2,Be,ye,re),zt(ve,K-ye/2,ge-Be/2,ye,Be,re)}function _t(ve,K,ge,re){zt(ve,0,K+ge/2,ve.transform.width,ge,re)}function Dt(ve,K,ge,re){zt(ve,K-ge/2,0,ge,ve.transform.height,re)}function zt(ve,K,ge,re,ye,Be){var Xe=ve.context,ct=Xe.gl;ct.enable(ct.SCISSOR_TEST),ct.scissor(K*n.browser.devicePixelRatio,ge*n.browser.devicePixelRatio,re*n.browser.devicePixelRatio,ye*n.browser.devicePixelRatio),Xe.clear({color:Be}),ct.disable(ct.SCISSOR_TEST)}function pr(ve,K,ge){for(var re=0;re<ge.length;re++)wr(ve,K,ge[re])}function wr(ve,K,ge){var re=ve.context,ye=re.gl,Be=ge.posMatrix,Xe=ve.useProgram("debug"),ct=vr.disabled,Ct=$t.disabled,Bt=ve.colorModeForRenderPass(),qt="$debug";re.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Xe.draw(re,ye.LINE_STRIP,ct,Ct,Bt,It.disabled,uo(Be,n.Color.red),qt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var ur=K.getTileByID(ge.key).latestRawTileData,lr=ur&&ur.byteLength||0,Fr=Math.floor(lr/1024),Kr=K.getTile(ge).tileSize,Zr=512/Math.min(Kr,512)*(ge.overscaledZ/ve.transform.zoom)*.5,jr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(jr+=" => "+ge.overscaledZ);var Qr=jr+" "+Fr+"kb";sr(ve,Qr),Xe.draw(re,ye.TRIANGLES,ct,Ct,ut.alphaBlended,It.disabled,uo(Be,n.Color.transparent,Zr),qt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function sr(ve,K){ve.initDebugOverlayCanvas();var ge=ve.debugOverlayCanvas,re=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(K,5,5),ye.strokeText(K,5,5),ve.debugOverlayTexture.update(ge),ve.debugOverlayTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE)}function Mr(ve,K,ge){var re=ve.context,ye=ge.implementation;if(ve.renderPass==="offscreen"){var Be=ye.prerender;Be&&(ve.setCustomLayerDefaults(),re.setColorMode(ve.colorModeForRenderPass()),Be.call(ye,re.gl,ve.transform.customLayerMatrix()),re.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),re.setColorMode(ve.colorModeForRenderPass()),re.setStencilMode($t.disabled);var Xe=ye.renderingMode==="3d"?new vr(ve.context.gl.LEQUAL,vr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,vr.ReadOnly);re.setDepthMode(Xe),ye.render(re.gl,ve.transform.customLayerMatrix()),re.setDirty(),ve.setBaseState(),re.bindFramebuffer.set(null)}}var Or={symbol:Tf,circle:Vc,heatmap:cl,line:Af,fill:Ks,"fill-extrusion":qf,hillshade:Wu,raster:ju,background:Il,debug:pr,custom:Mr},Vr=function(K,ge){this.context=new Ft(K),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=Ot.maxUnderzooming+Ot.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Kn,this.gpuTimers={}};Vr.prototype.resize=function(K,ge){if(this.width=K*n.browser.devicePixelRatio,this.height=ge*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var re=0,ye=this.style._order;re<ye.length;re+=1){var Be=ye[re];this.style._layers[Be].resize()}},Vr.prototype.setup=function(){var K=this.context,ge=new n.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(n.EXTENT,0),ge.emplaceBack(0,n.EXTENT),ge.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=K.createVertexBuffer(ge,Wo.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var re=new n.StructArrayLayout2i4;re.emplaceBack(0,0),re.emplaceBack(n.EXTENT,0),re.emplaceBack(0,n.EXTENT),re.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=K.createVertexBuffer(re,Wo.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var ye=new n.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(n.EXTENT,0,n.EXTENT,0),ye.emplaceBack(0,n.EXTENT,0,n.EXTENT),ye.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=K.createVertexBuffer(ye,Y.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Be=new n.StructArrayLayout2i4;Be.emplaceBack(0,0),Be.emplaceBack(1,0),Be.emplaceBack(0,1),Be.emplaceBack(1,1),this.viewportBuffer=K.createVertexBuffer(Be,Wo.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Xe=new n.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=K.createIndexBuffer(Xe);var ct=new n.StructArrayLayout3ui6;ct.emplaceBack(0,1,2),ct.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=K.createIndexBuffer(ct),this.emptyTexture=new n.Texture(K,{width:1,height:1,data:new Uint8Array([0,0,0,0])},K.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new $t({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Vr.prototype.clearStencil=function(){var K=this.context,ge=K.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var re=n.create();n.ortho(re,0,this.width,this.height,0,0,1),n.scale(re,re,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(K,ge.TRIANGLES,vr.disabled,this.stencilClearMode,ut.disabled,It.disabled,au(re),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Vr.prototype._renderTileClippingMasks=function(K,ge){if(!(this.currentStencilSource===K.source||!K.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=K.source;var re=this.context,ye=re.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),re.setColorMode(ut.disabled),re.setDepthMode(vr.disabled);var Be=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,ct=ge;Xe<ct.length;Xe+=1){var Ct=ct[Xe],Bt=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;Be.draw(re,ye.TRIANGLES,vr.disabled,new $t({func:ye.ALWAYS,mask:0},Bt,255,ye.KEEP,ye.KEEP,ye.REPLACE),ut.disabled,It.disabled,au(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Vr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var K=this.nextStencilID++,ge=this.context.gl;return new $t({func:ge.NOTEQUAL,mask:255},K,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Vr.prototype.stencilModeForClipping=function(K){var ge=this.context.gl;return new $t({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[K.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Vr.prototype.stencilConfigForOverlap=function(K){var ge,re=this.context.gl,ye=K.sort(function(Bt,qt){return qt.overscaledZ-Bt.overscaledZ}),Be=ye[ye.length-1].overscaledZ,Xe=ye[0].overscaledZ-Be+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var ct={},Ct=0;Ct<Xe;Ct++)ct[Ct+Be]=new $t({func:re.GEQUAL,mask:255},Ct+this.nextStencilID,255,re.KEEP,re.KEEP,re.REPLACE);return this.nextStencilID+=Xe,[ct,ye]}return[(ge={},ge[Be]=$t.disabled,ge),ye]},Vr.prototype.colorModeForRenderPass=function(){var K=this.context.gl;if(this._showOverdrawInspector){var ge=8,re=1/ge;return new ut([K.CONSTANT_COLOR,K.ONE],new n.Color(re,re,re,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ut.unblended:ut.alphaBlended},Vr.prototype.depthModeForSublayer=function(K,ge,re){if(!this.opaquePassEnabledForLayer())return vr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+K)*this.depthEpsilon;return new vr(re||this.context.gl.LEQUAL,ge,[ye,ye])},Vr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Vr.prototype.render=function(K,ge){var re=this;this.style=K,this.options=ge,this.lineAtlas=K.lineAtlas,this.imageManager=K.imageManager,this.glyphManager=K.glyphManager,this.symbolFadeChange=K.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,Be=this.style.sourceCaches;for(var Xe in Be){var ct=Be[Xe];ct.used&&ct.prepare(this.context)}var Ct={},Bt={},qt={};for(var ur in Be){var lr=Be[ur];Ct[ur]=lr.getVisibleCoordinates(),Bt[ur]=Ct[ur].slice().reverse(),qt[ur]=lr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Fr=0;Fr<ye.length;Fr++){var Kr=ye[Fr];if(this.style._layers[Kr].is3D()){this.opaquePassCutoff=Fr;break}}this.renderPass="offscreen";for(var Zr=0,jr=ye;Zr<jr.length;Zr+=1){var Qr=jr[Zr],pn=this.style._layers[Qr];if(!(!pn.hasOffscreenPass()||pn.isHidden(this.transform.zoom))){var _n=Bt[pn.source];pn.type!=="custom"&&!_n.length||this.renderLayer(this,Be[pn.source],pn,_n)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(K._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Vn=this.style._layers[ye[this.currentLayer]],Zn=Be[Vn.source],Jn=Ct[Vn.source];this._renderTileClippingMasks(Vn,Jn),this.renderLayer(this,Zn,Vn,Jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var jn=this.style._layers[ye[this.currentLayer]],$n=Be[jn.source],ia=(jn.type==="symbol"?qt:Bt)[jn.source];this._renderTileClippingMasks(jn,Ct[jn.source]),this.renderLayer(this,$n,jn,ia)}if(this.options.showTileBoundaries){var ca,xa,pa=n.values(this.style._layers);pa.forEach(function(Fa){Fa.source&&!Fa.isHidden(re.transform.zoom)&&(Fa.source!==(xa&&xa.id)&&(xa=re.style.sourceCaches[Fa.source]),(!ca||ca.getSource().maxzoom<xa.getSource().maxzoom)&&(ca=xa))}),ca&&Or.debug(this,ca,ca.getVisibleCoordinates())}this.options.showPadding&&mt(this),this.context.setDefault()},Vr.prototype.renderLayer=function(K,ge,re,ye){re.isHidden(this.transform.zoom)||re.type!=="background"&&re.type!=="custom"&&!ye.length||(this.id=re.id,this.gpuTimingStart(re),Or[re.type](K,ge,re,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Vr.prototype.gpuTimingStart=function(K){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,re=this.gpuTimers[K.id];re||(re=this.gpuTimers[K.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),re.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,re.query)}},Vr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var K=this.context.extTimerQuery;K.endQueryEXT(K.TIME_ELAPSED_EXT)}},Vr.prototype.collectGpuTimers=function(){var K=this.gpuTimers;return this.gpuTimers={},K},Vr.prototype.queryGpuTimers=function(K){var ge={};for(var re in K){var ye=K[re],Be=this.context.extTimerQuery,Xe=Be.getQueryObjectEXT(ye.query,Be.QUERY_RESULT_EXT)/(1e3*1e3);Be.deleteQueryEXT(ye.query),ge[re]=Xe}return ge},Vr.prototype.translatePosMatrix=function(K,ge,re,ye,Be){if(!re[0]&&!re[1])return K;var Xe=Be?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Xe){var ct=Math.sin(Xe),Ct=Math.cos(Xe);re=[re[0]*Ct-re[1]*ct,re[0]*ct+re[1]*Ct]}var Bt=[Be?re[0]:un(ge,re[0],this.transform.zoom),Be?re[1]:un(ge,re[1],this.transform.zoom),0],qt=new Float32Array(16);return n.translate(qt,K,Bt),qt},Vr.prototype.saveTileTexture=function(K){var ge=this._tileTextures[K.size[0]];ge?ge.push(K):this._tileTextures[K.size[0]]=[K]},Vr.prototype.getTileTexture=function(K){var ge=this._tileTextures[K];return ge&&ge.length>0?ge.pop():null},Vr.prototype.isPatternMissing=function(K){if(!K)return!1;if(!K.from||!K.to)return!0;var ge=this.imageManager.getPattern(K.from.toString()),re=this.imageManager.getPattern(K.to.toString());return!ge||!re},Vr.prototype.useProgram=function(K,ge){this.cache=this.cache||{};var re=""+K+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[re]||(this.cache[re]=new Zf(this.context,K,Dc[K],ge,fl[K],this._showOverdrawInspector)),this.cache[re]},Vr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Vr.prototype.setBaseState=function(){var K=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(K.FUNC_ADD)},Vr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var K=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,K.RGBA)}},Vr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var nn=function(K,ge){this.points=K,this.planes=ge};nn.fromInvProjectionMatrix=function(K,ge,re){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Be=Math.pow(2,re),Xe=ye.map(function(Bt){return n.transformMat4([],Bt,K)}).map(function(Bt){return n.scale$1([],Bt,1/Bt[3]/ge*Be)}),ct=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=ct.map(function(Bt){var qt=n.sub([],Xe[Bt[0]],Xe[Bt[1]]),ur=n.sub([],Xe[Bt[2]],Xe[Bt[1]]),lr=n.normalize([],n.cross([],qt,ur)),Fr=-n.dot(lr,Xe[Bt[1]]);return lr.concat(Fr)});return new nn(Xe,Ct)};var wn=function(K,ge){this.min=K,this.max=ge,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};wn.prototype.quadrant=function(K){for(var ge=[K%2===0,K<2],re=n.clone$2(this.min),ye=n.clone$2(this.max),Be=0;Be<ge.length;Be++)re[Be]=ge[Be]?this.min[Be]:this.center[Be],ye[Be]=ge[Be]?this.center[Be]:this.max[Be];return ye[2]=this.max[2],new wn(re,ye)},wn.prototype.distanceX=function(K){var ge=Math.max(Math.min(this.max[0],K[0]),this.min[0]);return ge-K[0]},wn.prototype.distanceY=function(K){var ge=Math.max(Math.min(this.max[1],K[1]),this.min[1]);return ge-K[1]},wn.prototype.intersects=function(K){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],re=!0,ye=0;ye<K.planes.length;ye++){for(var Be=K.planes[ye],Xe=0,ct=0;ct<ge.length;ct++)Xe+=n.dot$1(Be,ge[ct])>=0;if(Xe===0)return 0;Xe!==ge.length&&(re=!1)}if(re)return 2;for(var Ct=0;Ct<3;Ct++){for(var Bt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,ur=0;ur<K.points.length;ur++){var lr=K.points[ur][Ct]-this.min[Ct];Bt=Math.min(Bt,lr),qt=Math.max(qt,lr)}if(qt<0||Bt>this.max[Ct]-this.min[Ct])return 0}return 1};var Rn=function(K,ge,re,ye){if(K===void 0&&(K=0),ge===void 0&&(ge=0),re===void 0&&(re=0),ye===void 0&&(ye=0),isNaN(K)||K<0||isNaN(ge)||ge<0||isNaN(re)||re<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=K,this.bottom=ge,this.left=re,this.right=ye};Rn.prototype.interpolate=function(K,ge,re){return ge.top!=null&&K.top!=null&&(this.top=n.number(K.top,ge.top,re)),ge.bottom!=null&&K.bottom!=null&&(this.bottom=n.number(K.bottom,ge.bottom,re)),ge.left!=null&&K.left!=null&&(this.left=n.number(K.left,ge.left,re)),ge.right!=null&&K.right!=null&&(this.right=n.number(K.right,ge.right,re)),this},Rn.prototype.getCenter=function(K,ge){var re=n.clamp((this.left+K-this.right)/2,0,K),ye=n.clamp((this.top+ge-this.bottom)/2,0,ge);return new n.Point(re,ye)},Rn.prototype.equals=function(K){return this.top===K.top&&this.bottom===K.bottom&&this.left===K.left&&this.right===K.right},Rn.prototype.clone=function(){return new Rn(this.top,this.bottom,this.left,this.right)},Rn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var In=function(K,ge,re,ye,Be){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Be===void 0?!0:Be,this._minZoom=K||0,this._maxZoom=ge||22,this._minPitch=re??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Rn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Qn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};In.prototype.clone=function(){var K=new In(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return K.tileSize=this.tileSize,K.latRange=this.latRange,K.width=this.width,K.height=this.height,K._center=this._center,K.zoom=this.zoom,K.angle=this.angle,K._fov=this._fov,K._pitch=this._pitch,K._unmodified=this._unmodified,K._edgeInsets=this._edgeInsets.clone(),K._calcMatrices(),K},Qn.minZoom.get=function(){return this._minZoom},Qn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Qn.maxZoom.get=function(){return this._maxZoom},Qn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Qn.minPitch.get=function(){return this._minPitch},Qn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Qn.maxPitch.get=function(){return this._maxPitch},Qn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Qn.renderWorldCopies.get=function(){return this._renderWorldCopies},Qn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},Qn.worldSize.get=function(){return this.tileSize*this.scale},Qn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Qn.size.get=function(){return new n.Point(this.width,this.height)},Qn.bearing.get=function(){return-this.angle/Math.PI*180},Qn.bearing.set=function(ve){var K=-n.wrap(ve,-180,180)*Math.PI/180;this.angle!==K&&(this._unmodified=!1,this.angle=K,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Qn.pitch.get=function(){return this._pitch/Math.PI*180},Qn.pitch.set=function(ve){var K=n.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==K&&(this._unmodified=!1,this._pitch=K,this._calcMatrices())},Qn.fov.get=function(){return this._fov/Math.PI*180},Qn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Qn.zoom.get=function(){return this._zoom},Qn.zoom.set=function(ve){var K=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==K&&(this._unmodified=!1,this._zoom=K,this.scale=this.zoomScale(K),this.tileZoom=Math.floor(K),this.zoomFraction=K-this.tileZoom,this._constrain(),this._calcMatrices())},Qn.center.get=function(){return this._center},Qn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Qn.padding.get=function(){return this._edgeInsets.toJSON()},Qn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Qn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},In.prototype.isPaddingEqual=function(K){return this._edgeInsets.equals(K)},In.prototype.interpolatePadding=function(K,ge,re){this._unmodified=!1,this._edgeInsets.interpolate(K,ge,re),this._constrain(),this._calcMatrices()},In.prototype.coveringZoomLevel=function(K){var ge=(K.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/K.tileSize));return Math.max(0,ge)},In.prototype.getVisibleUnwrappedCoordinates=function(K){var ge=[new n.UnwrappedTileID(0,K)];if(this._renderWorldCopies)for(var re=this.pointCoordinate(new n.Point(0,0)),ye=this.pointCoordinate(new n.Point(this.width,0)),Be=this.pointCoordinate(new n.Point(this.width,this.height)),Xe=this.pointCoordinate(new n.Point(0,this.height)),ct=Math.floor(Math.min(re.x,ye.x,Be.x,Xe.x)),Ct=Math.floor(Math.max(re.x,ye.x,Be.x,Xe.x)),Bt=1,qt=ct-Bt;qt<=Ct+Bt;qt++)qt!==0&&ge.push(new n.UnwrappedTileID(qt,K));return ge},In.prototype.coveringTiles=function(K){var ge=this.coveringZoomLevel(K),re=ge;if(K.minzoom!==void 0&&ge<K.minzoom)return[];K.maxzoom!==void 0&&ge>K.maxzoom&&(ge=K.maxzoom);var ye=n.MercatorCoordinate.fromLngLat(this.center),Be=Math.pow(2,ge),Xe=[Be*ye.x,Be*ye.y,0],ct=nn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),Ct=K.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=ge);var Bt=3,qt=function(pa){return{aabb:new wn([pa*Be,0,0],[(pa+1)*Be,Be,0]),zoom:0,x:0,y:0,wrap:pa,fullyVisible:!1}},ur=[],lr=[],Fr=ge,Kr=K.reparseOverscaled?re:ge;if(this._renderWorldCopies)for(var Zr=1;Zr<=3;Zr++)ur.push(qt(-Zr)),ur.push(qt(Zr));for(ur.push(qt(0));ur.length>0;){var jr=ur.pop(),Qr=jr.x,pn=jr.y,_n=jr.fullyVisible;if(!_n){var Vn=jr.aabb.intersects(ct);if(Vn===0)continue;_n=Vn===2}var Zn=jr.aabb.distanceX(Xe),Jn=jr.aabb.distanceY(Xe),jn=Math.max(Math.abs(Zn),Math.abs(Jn)),$n=Bt+(1<<Fr-jr.zoom)-2;if(jr.zoom===Fr||jn>$n&&jr.zoom>=Ct){lr.push({tileID:new n.OverscaledTileID(jr.zoom===Fr?Kr:jr.zoom,jr.wrap,jr.zoom,Qr,pn),distanceSq:n.sqrLen([Xe[0]-.5-Qr,Xe[1]-.5-pn])});continue}for(var ia=0;ia<4;ia++){var ca=(Qr<<1)+ia%2,xa=(pn<<1)+(ia>>1);ur.push({aabb:jr.aabb.quadrant(ia),zoom:jr.zoom+1,x:ca,y:xa,wrap:jr.wrap,fullyVisible:_n})}}return lr.sort(function(pa,Fa){return pa.distanceSq-Fa.distanceSq}).map(function(pa){return pa.tileID})},In.prototype.resize=function(K,ge){this.width=K,this.height=ge,this.pixelsToGLUnits=[2/K,-2/ge],this._constrain(),this._calcMatrices()},Qn.unmodified.get=function(){return this._unmodified},In.prototype.zoomScale=function(K){return Math.pow(2,K)},In.prototype.scaleZoom=function(K){return Math.log(K)/Math.LN2},In.prototype.project=function(K){var ge=n.clamp(K.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(K.lng)*this.worldSize,n.mercatorYfromLat(ge)*this.worldSize)},In.prototype.unproject=function(K){return new n.MercatorCoordinate(K.x/this.worldSize,K.y/this.worldSize).toLngLat()},Qn.point.get=function(){return this.project(this.center)},In.prototype.setLocationAtPoint=function(K,ge){var re=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),Be=this.locationCoordinate(K),Xe=new n.MercatorCoordinate(Be.x-(re.x-ye.x),Be.y-(re.y-ye.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},In.prototype.locationPoint=function(K){return this.coordinatePoint(this.locationCoordinate(K))},In.prototype.pointLocation=function(K){return this.coordinateLocation(this.pointCoordinate(K))},In.prototype.locationCoordinate=function(K){return n.MercatorCoordinate.fromLngLat(K)},In.prototype.coordinateLocation=function(K){return K.toLngLat()},In.prototype.pointCoordinate=function(K){var ge=0,re=[K.x,K.y,0,1],ye=[K.x,K.y,1,1];n.transformMat4(re,re,this.pixelMatrixInverse),n.transformMat4(ye,ye,this.pixelMatrixInverse);var Be=re[3],Xe=ye[3],ct=re[0]/Be,Ct=ye[0]/Xe,Bt=re[1]/Be,qt=ye[1]/Xe,ur=re[2]/Be,lr=ye[2]/Xe,Fr=ur===lr?0:(ge-ur)/(lr-ur);return new n.MercatorCoordinate(n.number(ct,Ct,Fr)/this.worldSize,n.number(Bt,qt,Fr)/this.worldSize)},In.prototype.coordinatePoint=function(K){var ge=[K.x*this.worldSize,K.y*this.worldSize,0,1];return n.transformMat4(ge,ge,this.pixelMatrix),new n.Point(ge[0]/ge[3],ge[1]/ge[3])},In.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},In.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},In.prototype.setMaxBounds=function(K){K?(this.lngRange=[K.getWest(),K.getEast()],this.latRange=[K.getSouth(),K.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},In.prototype.calculatePosMatrix=function(K,ge){ge===void 0&&(ge=!1);var re=K.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[re])return ye[re];var Be=K.canonical,Xe=this.worldSize/this.zoomScale(Be.z),ct=Be.x+Math.pow(2,Be.z)*K.wrap,Ct=n.identity(new Float64Array(16));return n.translate(Ct,Ct,[ct*Xe,Be.y*Xe,0]),n.scale(Ct,Ct,[Xe/n.EXTENT,Xe/n.EXTENT,1]),n.multiply(Ct,ge?this.alignedProjMatrix:this.projMatrix,Ct),ye[re]=new Float32Array(Ct),ye[re]},In.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},In.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var K=-90,ge=90,re=-180,ye=180,Be,Xe,ct,Ct,Bt=this.size,qt=this._unmodified;if(this.latRange){var ur=this.latRange;K=n.mercatorYfromLat(ur[1])*this.worldSize,ge=n.mercatorYfromLat(ur[0])*this.worldSize,Be=ge-K<Bt.y?Bt.y/(ge-K):0}if(this.lngRange){var lr=this.lngRange;re=n.mercatorXfromLng(lr[0])*this.worldSize,ye=n.mercatorXfromLng(lr[1])*this.worldSize,Xe=ye-re<Bt.x?Bt.x/(ye-re):0}var Fr=this.point,Kr=Math.max(Xe||0,Be||0);if(Kr){this.center=this.unproject(new n.Point(Xe?(ye+re)/2:Fr.x,Be?(ge+K)/2:Fr.y)),this.zoom+=this.scaleZoom(Kr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var Zr=Fr.y,jr=Bt.y/2;Zr-jr<K&&(Ct=K+jr),Zr+jr>ge&&(Ct=ge-jr)}if(this.lngRange){var Qr=Fr.x,pn=Bt.x/2;Qr-pn<re&&(ct=re+pn),Qr+pn>ye&&(ct=ye-pn)}(ct!==void 0||Ct!==void 0)&&(this.center=this.unproject(new n.Point(ct!==void 0?ct:Fr.x,Ct!==void 0?Ct:Fr.y))),this._unmodified=qt,this._constraining=!1}},In.prototype._calcMatrices=function(){if(this.height){var K=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(K)*this.height;var re=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),Be=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-re-ye,.01,Math.PI-.01)),Xe=this.point,ct=Xe.x,Ct=Xe.y,Bt=Math.cos(Math.PI/2-this._pitch)*Be+this.cameraToCenterDistance,qt=Bt*1.01,ur=this.height/50,lr=new Float64Array(16);n.perspective(lr,this._fov,this.width/this.height,ur,qt),lr[8]=-ge.x*2/this.width,lr[9]=ge.y*2/this.height,n.scale(lr,lr,[1,-1,1]),n.translate(lr,lr,[0,0,-this.cameraToCenterDistance]),n.rotateX(lr,lr,this._pitch),n.rotateZ(lr,lr,this.angle),n.translate(lr,lr,[-ct,-Ct,0]),this.mercatorMatrix=n.scale([],lr,[this.worldSize,this.worldSize,this.worldSize]),n.scale(lr,lr,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=lr,this.invProjMatrix=n.invert([],this.projMatrix);var Fr=this.width%2/2,Kr=this.height%2/2,Zr=Math.cos(this.angle),jr=Math.sin(this.angle),Qr=ct-Math.round(ct)+Zr*Fr+jr*Kr,pn=Ct-Math.round(Ct)+Zr*Kr+jr*Fr,_n=new Float64Array(lr);if(n.translate(_n,_n,[Qr>.5?Qr-1:Qr,pn>.5?pn-1:pn,0]),this.alignedProjMatrix=_n,lr=n.create(),n.scale(lr,lr,[this.width/2,-this.height/2,1]),n.translate(lr,lr,[1,-1,0]),this.labelPlaneMatrix=lr,lr=n.create(),n.scale(lr,lr,[1,-1,1]),n.translate(lr,lr,[-1,-1,0]),n.scale(lr,lr,[2/this.width,2/this.height,1]),this.glCoordMatrix=lr,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),lr=n.invert(new Float64Array(16),this.pixelMatrix),!lr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=lr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},In.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var K=this.pointCoordinate(new n.Point(0,0)),ge=[K.x*this.worldSize,K.y*this.worldSize,0,1],re=n.transformMat4(ge,ge,this.pixelMatrix);return re[3]/this.cameraToCenterDistance},In.prototype.getCameraPoint=function(){var K=this._pitch,ge=Math.tan(K)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,ge))},In.prototype.getCameraQueryGeometry=function(K){var ge=this.getCameraPoint();if(K.length===1)return[K[0],ge];for(var re=ge.x,ye=ge.y,Be=ge.x,Xe=ge.y,ct=0,Ct=K;ct<Ct.length;ct+=1){var Bt=Ct[ct];re=Math.min(re,Bt.x),ye=Math.min(ye,Bt.y),Be=Math.max(Be,Bt.x),Xe=Math.max(Xe,Bt.y)}return[new n.Point(re,ye),new n.Point(Be,ye),new n.Point(Be,Xe),new n.Point(re,Xe),new n.Point(re,ye)]},Object.defineProperties(In.prototype,Qn);function ka(ve,K){var ge=!1,re=null,ye=function(){re=null,ge&&(ve(),re=setTimeout(ye,K),ge=!1)};return function(){return ge=!0,re||ye(),re}}var Da=function(K){this._hashName=K&&encodeURIComponent(K),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ka(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(K){return this._map=K,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(K){var ge=this._map.getCenter(),re=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((re*Math.LN2+Math.log(512/360/.5))/Math.LN10),Be=Math.pow(10,ye),Xe=Math.round(ge.lng*Be)/Be,ct=Math.round(ge.lat*Be)/Be,Ct=this._map.getBearing(),Bt=this._map.getPitch(),qt="";if(K?qt+="/"+Xe+"/"+ct+"/"+re:qt+=re+"/"+ct+"/"+Xe,(Ct||Bt)&&(qt+="/"+Math.round(Ct*10)/10),Bt&&(qt+="/"+Math.round(Bt)),this._hashName){var ur=this._hashName,lr=!1,Fr=n.window.location.hash.slice(1).split("&").map(function(Kr){var Zr=Kr.split("=")[0];return Zr===ur?(lr=!0,Zr+"="+qt):Kr}).filter(function(Kr){return Kr});return lr||Fr.push(ur+"="+qt),"#"+Fr.join("&")}return"#"+qt},Da.prototype._getCurrentHash=function(){var K=this,ge=n.window.location.hash.replace("#","");if(this._hashName){var re;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===K._hashName&&(re=ye)}),(re&&re[1]||"").split("/")}return ge.split("/")},Da.prototype._onHashChange=function(){var K=this._getCurrentHash();if(K.length>=3&&!K.some(function(re){return isNaN(re)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(K[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+K[2],+K[1]],zoom:+K[0],bearing:ge,pitch:+(K[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var K=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,K)}catch{}};var _a={linearity:.3,easing:n.bezier(0,0,.3,1)},Na=n.extend({deceleration:2500,maxSpeed:1400},_a),$a=n.extend({deceleration:20,maxSpeed:1400},_a),xi=n.extend({deceleration:1e3,maxSpeed:360},_a),Gi=n.extend({deceleration:1e3,maxSpeed:90},_a),ce=function(K){this._map=K,this.clear()};ce.prototype.clear=function(){this._inertiaBuffer=[]},ce.prototype.record=function(K){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:K})},ce.prototype._drainInertiaBuffer=function(){for(var K=this._inertiaBuffer,ge=n.browser.now(),re=160;K.length>0&&ge-K[0].time>re;)K.shift()},ce.prototype._onMoveEnd=function(K){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},re=0,ye=this._inertiaBuffer;re<ye.length;re+=1){var Be=ye[re],Xe=Be.settings;ge.zoom+=Xe.zoomDelta||0,ge.bearing+=Xe.bearingDelta||0,ge.pitch+=Xe.pitchDelta||0,Xe.panDelta&&ge.pan._add(Xe.panDelta),Xe.around&&(ge.around=Xe.around),Xe.pinchAround&&(ge.pinchAround=Xe.pinchAround)}var ct=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=ct.time-this._inertiaBuffer[0].time,Bt={};if(ge.pan.mag()){var qt=He(ge.pan.mag(),Ct,n.extend({},Na,K||{}));Bt.offset=ge.pan.mult(qt.amount/ge.pan.mag()),Bt.center=this._map.transform.center,Ee(Bt,qt)}if(ge.zoom){var ur=He(ge.zoom,Ct,$a);Bt.zoom=this._map.transform.zoom+ur.amount,Ee(Bt,ur)}if(ge.bearing){var lr=He(ge.bearing,Ct,xi);Bt.bearing=this._map.transform.bearing+n.clamp(lr.amount,-179,179),Ee(Bt,lr)}if(ge.pitch){var Fr=He(ge.pitch,Ct,Gi);Bt.pitch=this._map.transform.pitch+Fr.amount,Ee(Bt,Fr)}if(Bt.zoom||Bt.bearing){var Kr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Bt.around=Kr?this._map.unproject(Kr):this._map.getCenter()}return this.clear(),n.extend(Bt,{noMoveStart:!0})}};function Ee(ve,K){(!ve.duration||ve.duration<K.duration)&&(ve.duration=K.duration,ve.easing=K.easing)}function He(ve,K,ge){var re=ge.maxSpeed,ye=ge.linearity,Be=ge.deceleration,Xe=n.clamp(ve*ye/(K/1e3),-re,re),ct=Math.abs(Xe)/(Be*ye);return{easing:ge.easing,duration:ct*1e3,amount:Xe*(ct/2)}}var tt=function(ve){function K(re,ye,Be,Xe){Xe===void 0&&(Xe={});var ct=x.mousePos(ye.getCanvasContainer(),Be),Ct=ye.unproject(ct);ve.call(this,re,n.extend({point:ct,lngLat:Ct,originalEvent:Be},Xe)),this._defaultPrevented=!1,this.target=ye}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,ge),K}(n.Event),ot=function(ve){function K(re,ye,Be){var Xe=re==="touchend"?Be.changedTouches:Be.touches,ct=x.touchPos(ye.getCanvasContainer(),Xe),Ct=ct.map(function(ur){return ye.unproject(ur)}),Bt=ct.reduce(function(ur,lr,Fr,Kr){return ur.add(lr.div(Kr.length))},new n.Point(0,0)),qt=ye.unproject(Bt);ve.call(this,re,{points:ct,point:Bt,lngLats:Ct,lngLat:qt,originalEvent:Be}),this._defaultPrevented=!1}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,ge),K}(n.Event),ht=function(ve){function K(re,ye,Be){ve.call(this,re,{originalEvent:Be}),this._defaultPrevented=!1}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,ge),K}(n.Event),Rt=function(K,ge){this._map=K,this._clickTolerance=ge.clickTolerance};Rt.prototype.reset=function(){delete this._mousedownPos},Rt.prototype.wheel=function(K){return this._firePreventable(new ht(K.type,this._map,K))},Rt.prototype.mousedown=function(K,ge){return this._mousedownPos=ge,this._firePreventable(new tt(K.type,this._map,K))},Rt.prototype.mouseup=function(K){this._map.fire(new tt(K.type,this._map,K))},Rt.prototype.click=function(K,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new tt(K.type,this._map,K))},Rt.prototype.dblclick=function(K){return this._firePreventable(new tt(K.type,this._map,K))},Rt.prototype.mouseover=function(K){this._map.fire(new tt(K.type,this._map,K))},Rt.prototype.mouseout=function(K){this._map.fire(new tt(K.type,this._map,K))},Rt.prototype.touchstart=function(K){return this._firePreventable(new ot(K.type,this._map,K))},Rt.prototype.touchmove=function(K){this._map.fire(new ot(K.type,this._map,K))},Rt.prototype.touchend=function(K){this._map.fire(new ot(K.type,this._map,K))},Rt.prototype.touchcancel=function(K){this._map.fire(new ot(K.type,this._map,K))},Rt.prototype._firePreventable=function(K){if(this._map.fire(K),K.defaultPrevented)return{}},Rt.prototype.isEnabled=function(){return!0},Rt.prototype.isActive=function(){return!1},Rt.prototype.enable=function(){},Rt.prototype.disable=function(){};var At=function(K){this._map=K};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(K){this._map.fire(new tt(K.type,this._map,K))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new tt("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(K){this._delayContextMenu?this._contextMenuEvent=K:this._map.fire(new tt(K.type,this._map,K)),this._map.listens("contextmenu")&&K.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Ut=function(K,ge){this._map=K,this._el=K.getCanvasContainer(),this._container=K.getContainer(),this._clickTolerance=ge.clickTolerance||1};Ut.prototype.isEnabled=function(){return!!this._enabled},Ut.prototype.isActive=function(){return!!this._active},Ut.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ut.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ut.prototype.mousedown=function(K,ge){this.isEnabled()&&K.shiftKey&&K.button===0&&(x.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},Ut.prototype.mousemoveWindow=function(K,ge){if(this._active){var re=ge;if(!(this._lastPos.equals(re)||!this._box&&re.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=re,this._box||(this._box=x.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",K));var Be=Math.min(ye.x,re.x),Xe=Math.max(ye.x,re.x),ct=Math.min(ye.y,re.y),Ct=Math.max(ye.y,re.y);x.setTransform(this._box,"translate("+Be+"px,"+ct+"px)"),this._box.style.width=Xe-Be+"px",this._box.style.height=Ct-ct+"px"}}},Ut.prototype.mouseupWindow=function(K,ge){var re=this;if(this._active&&K.button===0){var ye=this._startPos,Be=ge;if(this.reset(),x.suppressClick(),ye.x===Be.x&&ye.y===Be.y)this._fireEvent("boxzoomcancel",K);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:K})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(ye,Be,re._map.getBearing(),{linear:!0})}}}},Ut.prototype.keydown=function(K){this._active&&K.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",K))},Ut.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(x.remove(this._box),this._box=null),x.enableDrag(),delete this._startPos,delete this._lastPos},Ut.prototype._fireEvent=function(K,ge){return this._map.fire(new n.Event(K,{originalEvent:ge}))};function Vt(ve,K){for(var ge={},re=0;re<ve.length;re++)ge[ve[re].identifier]=K[re];return ge}function ar(ve){for(var K=new n.Point(0,0),ge=0,re=ve;ge<re.length;ge+=1){var ye=re[ge];K._add(ye)}return K.div(ve.length)}var Rr=500,kr=500,$r=30,ln=function(K){this.reset(),this.numTouches=K.numTouches};ln.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ln.prototype.touchstart=function(K,ge,re){(this.centroid||re.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=K.timeStamp),re.length===this.numTouches&&(this.centroid=ar(ge),this.touches=Vt(re,ge)))},ln.prototype.touchmove=function(K,ge,re){if(!(this.aborted||!this.centroid)){var ye=Vt(re,ge);for(var Be in this.touches){var Xe=this.touches[Be],ct=ye[Be];(!ct||ct.dist(Xe)>$r)&&(this.aborted=!0)}}},ln.prototype.touchend=function(K,ge,re){if((!this.centroid||K.timeStamp-this.startTime>kr)&&(this.aborted=!0),re.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var zr=function(K){this.singleTap=new ln(K),this.numTaps=K.numTaps,this.reset()};zr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},zr.prototype.touchstart=function(K,ge,re){this.singleTap.touchstart(K,ge,re)},zr.prototype.touchmove=function(K,ge,re){this.singleTap.touchmove(K,ge,re)},zr.prototype.touchend=function(K,ge,re){var ye=this.singleTap.touchend(K,ge,re);if(ye){var Be=K.timeStamp-this.lastTime<Rr,Xe=!this.lastTap||this.lastTap.dist(ye)<$r;if((!Be||!Xe)&&this.reset(),this.count++,this.lastTime=K.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Gr=function(){this._zoomIn=new zr({numTouches:1,numTaps:2}),this._zoomOut=new zr({numTouches:2,numTaps:1}),this.reset()};Gr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Gr.prototype.touchstart=function(K,ge,re){this._zoomIn.touchstart(K,ge,re),this._zoomOut.touchstart(K,ge,re)},Gr.prototype.touchmove=function(K,ge,re){this._zoomIn.touchmove(K,ge,re),this._zoomOut.touchmove(K,ge,re)},Gr.prototype.touchend=function(K,ge,re){var ye=this,Be=this._zoomIn.touchend(K,ge,re),Xe=this._zoomOut.touchend(K,ge,re);if(Be)return this._active=!0,K.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ct){return ct.easeTo({duration:300,zoom:ct.getZoom()+1,around:ct.unproject(Be)},{originalEvent:K})}};if(Xe)return this._active=!0,K.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ct){return ct.easeTo({duration:300,zoom:ct.getZoom()-1,around:ct.unproject(Xe)},{originalEvent:K})}}},Gr.prototype.touchcancel=function(){this.reset()},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var Jr=0,vn=2,mn={};mn[Jr]=1,mn[vn]=2;function en(ve,K){var ge=mn[K];return ve.buttons===void 0||(ve.buttons&ge)!==ge}var Gn=function(K){this.reset(),this._clickTolerance=K.clickTolerance||1};Gn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Gn.prototype._correctButton=function(K,ge){return!1},Gn.prototype._move=function(K,ge){return{}},Gn.prototype.mousedown=function(K,ge){if(!this._lastPoint){var re=x.mouseButton(K);this._correctButton(K,re)&&(this._lastPoint=ge,this._eventButton=re)}},Gn.prototype.mousemoveWindow=function(K,ge){var re=this._lastPoint;if(re){if(K.preventDefault(),en(K,this._eventButton)){this.reset();return}if(!(!this._moved&&ge.dist(re)<this._clickTolerance))return this._moved=!0,this._lastPoint=ge,this._move(re,ge)}},Gn.prototype.mouseupWindow=function(K){if(this._lastPoint){var ge=x.mouseButton(K);ge===this._eventButton&&(this._moved&&x.suppressClick(),this.reset())}},Gn.prototype.enable=function(){this._enabled=!0},Gn.prototype.disable=function(){this._enabled=!1,this.reset()},Gn.prototype.isEnabled=function(){return this._enabled},Gn.prototype.isActive=function(){return this._active};var na=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.mousedown=function(re,ye){ve.prototype.mousedown.call(this,re,ye),this._lastPoint&&(this._active=!0)},K.prototype._correctButton=function(re,ye){return ye===Jr&&!re.ctrlKey},K.prototype._move=function(re,ye){return{around:ye,panDelta:ye.sub(re)}},K}(Gn),ha=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(re,ye){return ye===Jr&&re.ctrlKey||ye===vn},K.prototype._move=function(re,ye){var Be=.8,Xe=(ye.x-re.x)*Be;if(Xe)return this._active=!0,{bearingDelta:Xe}},K.prototype.contextmenu=function(re){re.preventDefault()},K}(Gn),ta=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(re,ye){return ye===Jr&&re.ctrlKey||ye===vn},K.prototype._move=function(re,ye){var Be=-.5,Xe=(ye.y-re.y)*Be;if(Xe)return this._active=!0,{pitchDelta:Xe}},K.prototype.contextmenu=function(re){re.preventDefault()},K}(Gn),ua=function(K){this._minTouches=1,this._clickTolerance=K.clickTolerance||1,this.reset()};ua.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},ua.prototype.touchstart=function(K,ge,re){return this._calculateTransform(K,ge,re)},ua.prototype.touchmove=function(K,ge,re){if(!(!this._active||re.length<this._minTouches))return K.preventDefault(),this._calculateTransform(K,ge,re)},ua.prototype.touchend=function(K,ge,re){this._calculateTransform(K,ge,re),this._active&&re.length<this._minTouches&&this.reset()},ua.prototype.touchcancel=function(){this.reset()},ua.prototype._calculateTransform=function(K,ge,re){re.length>0&&(this._active=!0);var ye=Vt(re,ge),Be=new n.Point(0,0),Xe=new n.Point(0,0),ct=0;for(var Ct in ye){var Bt=ye[Ct],qt=this._touches[Ct];qt&&(Be._add(Bt),Xe._add(Bt.sub(qt)),ct++,ye[Ct]=Bt)}if(this._touches=ye,!(ct<this._minTouches||!Xe.mag())){var ur=Xe.div(ct);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var lr=Be.div(ct);return{around:lr,panDelta:ur}}}},ua.prototype.enable=function(){this._enabled=!0},ua.prototype.disable=function(){this._enabled=!1,this.reset()},ua.prototype.isEnabled=function(){return this._enabled},ua.prototype.isActive=function(){return this._active};var va=function(){this.reset()};va.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},va.prototype._start=function(K){},va.prototype._move=function(K,ge,re){return{}},va.prototype.touchstart=function(K,ge,re){this._firstTwoTouches||re.length<2||(this._firstTwoTouches=[re[0].identifier,re[1].identifier],this._start([ge[0],ge[1]]))},va.prototype.touchmove=function(K,ge,re){if(this._firstTwoTouches){K.preventDefault();var ye=this._firstTwoTouches,Be=ye[0],Xe=ye[1],ct=Ua(re,ge,Be),Ct=Ua(re,ge,Xe);if(!(!ct||!Ct)){var Bt=this._aroundCenter?null:ct.add(Ct).div(2);return this._move([ct,Ct],Bt,K)}}},va.prototype.touchend=function(K,ge,re){if(this._firstTwoTouches){var ye=this._firstTwoTouches,Be=ye[0],Xe=ye[1],ct=Ua(re,ge,Be),Ct=Ua(re,ge,Xe);ct&&Ct||(this._active&&x.suppressClick(),this.reset())}},va.prototype.touchcancel=function(){this.reset()},va.prototype.enable=function(K){this._enabled=!0,this._aroundCenter=!!K&&K.around==="center"},va.prototype.disable=function(){this._enabled=!1,this.reset()},va.prototype.isEnabled=function(){return this._enabled},va.prototype.isActive=function(){return this._active};function Ua(ve,K,ge){for(var re=0;re<ve.length;re++)if(ve[re].identifier===ge)return K[re]}var Ca=.1;function Oa(ve,K){return Math.log(ve/K)/Math.LN2}var fi=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},K.prototype._start=function(re){this._startDistance=this._distance=re[0].dist(re[1])},K.prototype._move=function(re,ye){var Be=this._distance;if(this._distance=re[0].dist(re[1]),!(!this._active&&Math.abs(Oa(this._distance,this._startDistance))<Ca))return this._active=!0,{zoomDelta:Oa(this._distance,Be),pinchAround:ye}},K}(va),ji=25;function gi(ve,K){return ve.angleWith(K)*180/Math.PI}var ea=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},K.prototype._start=function(re){this._startVector=this._vector=re[0].sub(re[1]),this._minDiameter=re[0].dist(re[1])},K.prototype._move=function(re,ye){var Be=this._vector;if(this._vector=re[0].sub(re[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:gi(this._vector,Be),pinchAround:ye}},K.prototype._isBelowThreshold=function(re){this._minDiameter=Math.min(this._minDiameter,re.mag());var ye=Math.PI*this._minDiameter,Be=ji/ye*360,Xe=gi(re,this._startVector);return Math.abs(Xe)<Be},K}(va);function Va(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Ma=100,qa=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},K.prototype._start=function(re){this._lastPoints=re,Va(re[0].sub(re[1]))&&(this._valid=!1)},K.prototype._move=function(re,ye,Be){var Xe=re[0].sub(this._lastPoints[0]),ct=re[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,ct,Be.timeStamp),!!this._valid){this._lastPoints=re,this._active=!0;var Ct=(Xe.y+ct.y)/2,Bt=-.5;return{pitchDelta:Ct*Bt}}},K.prototype.gestureBeginsVertically=function(re,ye,Be){if(this._valid!==void 0)return this._valid;var Xe=2,ct=re.mag()>=Xe,Ct=ye.mag()>=Xe;if(!(!ct&&!Ct)){if(!ct||!Ct)return this._firstMove===void 0&&(this._firstMove=Be),Be-this._firstMove<Ma?void 0:!1;var Bt=re.y>0==ye.y>0;return Va(re)&&Va(ye)&&Bt}},K}(va),Ei={panStep:100,bearingStep:15,pitchStep:10},ci=function(){var K=Ei;this._panStep=K.panStep,this._bearingStep=K.bearingStep,this._pitchStep=K.pitchStep,this._rotationDisabled=!1};ci.prototype.reset=function(){this._active=!1},ci.prototype.keydown=function(K){var ge=this;if(!(K.altKey||K.ctrlKey||K.metaKey)){var re=0,ye=0,Be=0,Xe=0,ct=0;switch(K.keyCode){case 61:case 107:case 171:case 187:re=1;break;case 189:case 109:case 173:re=-1;break;case 37:K.shiftKey?ye=-1:(K.preventDefault(),Xe=-1);break;case 39:K.shiftKey?ye=1:(K.preventDefault(),Xe=1);break;case 38:K.shiftKey?Be=1:(K.preventDefault(),ct=-1);break;case 40:K.shiftKey?Be=-1:(K.preventDefault(),ct=1);break;default:return}return this._rotationDisabled&&(ye=0,Be=0),{cameraAnimation:function(Ct){var Bt=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:fo,zoom:re?Math.round(Bt)+re*(K.shiftKey?2:1):Bt,bearing:Ct.getBearing()+ye*ge._bearingStep,pitch:Ct.getPitch()+Be*ge._pitchStep,offset:[-Xe*ge._panStep,-ct*ge._panStep],center:Ct.getCenter()},{originalEvent:K})}}}},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active},ci.prototype.disableRotation=function(){this._rotationDisabled=!0},ci.prototype.enableRotation=function(){this._rotationDisabled=!1};function fo(ve){return ve*(2-ve)}var co=4.000244140625,mo=1/100,Ci=1/450,Ro=2,fa=function(K,ge){this._map=K,this._el=K.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=mo,this._wheelZoomRate=Ci,n.bindAll(["_onTimeout"],this)};fa.prototype.setZoomRate=function(K){this._defaultZoomRate=K},fa.prototype.setWheelZoomRate=function(K){this._wheelZoomRate=K},fa.prototype.isEnabled=function(){return!!this._enabled},fa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},fa.prototype.isZooming=function(){return!!this._zooming},fa.prototype.enable=function(K){this.isEnabled()||(this._enabled=!0,this._aroundCenter=K&&K.around==="center")},fa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},fa.prototype.wheel=function(K){if(this.isEnabled()){var ge=K.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?K.deltaY*40:K.deltaY,re=n.browser.now(),ye=re-(this._lastWheelEventTime||0);this._lastWheelEventTime=re,ge!==0&&ge%co===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,K)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),K.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=K,this._delta-=ge,this._active||this._start(K)),K.preventDefault()}},fa.prototype._onTimeout=function(K){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(K)},fa.prototype._start=function(K){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=x.mousePos(this._el,K);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},fa.prototype.renderFrame=function(){var K=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var re=this._type==="wheel"&&Math.abs(this._delta)>co?this._wheelZoomRate:this._defaultZoomRate,ye=Ro/(1+Math.exp(-Math.abs(this._delta*re)));this._delta<0&&ye!==0&&(ye=1/ye);var Be=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(Be*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,ct=this._startZoom,Ct=this._easing,Bt=!1,qt;if(this._type==="wheel"&&ct&&Ct){var ur=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),lr=Ct(ur);qt=n.number(ct,Xe,lr),ur<1?this._frameId||(this._frameId=!0):Bt=!0}else qt=Xe,Bt=!0;return this._active=!0,Bt&&(this._active=!1,this._finishTimeout=setTimeout(function(){K._zooming=!1,K._handler._triggerRenderFrame(),delete K._targetZoom,delete K._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Bt,zoomDelta:qt-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},fa.prototype._smoothOutEasing=function(K){var ge=n.ease;if(this._prevEase){var re=this._prevEase,ye=(n.browser.now()-re.start)/re.duration,Be=re.easing(ye+.01)-re.easing(ye),Xe=.27/Math.sqrt(Be*Be+1e-4)*.01,ct=Math.sqrt(.27*.27-Xe*Xe);ge=n.bezier(Xe,ct,.25,1)}return this._prevEase={start:n.browser.now(),duration:K,easing:ge},ge},fa.prototype.reset=function(){this._active=!1};var Pa=function(K,ge){this._clickZoom=K,this._tapZoom=ge};Pa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Pa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Pa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Pa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Zo=function(){this.reset()};Zo.prototype.reset=function(){this._active=!1},Zo.prototype.dblclick=function(K,ge){return K.preventDefault(),{cameraAnimation:function(re){re.easeTo({duration:300,zoom:re.getZoom()+(K.shiftKey?-1:1),around:re.unproject(ge)},{originalEvent:K})}}},Zo.prototype.enable=function(){this._enabled=!0},Zo.prototype.disable=function(){this._enabled=!1,this.reset()},Zo.prototype.isEnabled=function(){return this._enabled},Zo.prototype.isActive=function(){return this._active};var es=function(){this._tap=new zr({numTouches:1,numTaps:1}),this.reset()};es.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},es.prototype.touchstart=function(K,ge,re){this._swipePoint||(this._tapTime&&K.timeStamp-this._tapTime>Rr&&this.reset(),this._tapTime?re.length>0&&(this._swipePoint=ge[0],this._swipeTouch=re[0].identifier):this._tap.touchstart(K,ge,re))},es.prototype.touchmove=function(K,ge,re){if(!this._tapTime)this._tap.touchmove(K,ge,re);else if(this._swipePoint){if(re[0].identifier!==this._swipeTouch)return;var ye=ge[0],Be=ye.y-this._swipePoint.y;return this._swipePoint=ye,K.preventDefault(),this._active=!0,{zoomDelta:Be/128}}},es.prototype.touchend=function(K,ge,re){if(this._tapTime)this._swipePoint&&re.length===0&&this.reset();else{var ye=this._tap.touchend(K,ge,re);ye&&(this._tapTime=K.timeStamp)}},es.prototype.touchcancel=function(){this.reset()},es.prototype.enable=function(){this._enabled=!0},es.prototype.disable=function(){this._enabled=!1,this.reset()},es.prototype.isEnabled=function(){return this._enabled},es.prototype.isActive=function(){return this._active};var xo=function(K,ge,re){this._el=K,this._mousePan=ge,this._touchPan=re};xo.prototype.enable=function(K){this._inertiaOptions=K||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},xo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},xo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},xo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var yi=function(K,ge,re){this._pitchWithRotate=K.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=re};yi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},yi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},yi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},yi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ro=function(K,ge,re,ye){this._el=K,this._touchZoom=ge,this._touchRotate=re,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};ro.prototype.enable=function(K){this._touchZoom.enable(K),this._rotationDisabled||this._touchRotate.enable(K),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ro.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ro.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ro.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ro.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ro.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Zi=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Ds=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K}(n.Event);function Js(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var zi=function(K,ge){this._map=K,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ce(K),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),n.bindAll(["handleEvent","handleWindowEvent"],this);var re=this._el;this._listeners=[[re,"touchstart",{passive:!0}],[re,"touchmove",{passive:!1}],[re,"touchend",void 0],[re,"touchcancel",void 0],[re,"mousedown",void 0],[re,"mousemove",void 0],[re,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[re,"mouseover",void 0],[re,"mouseout",void 0],[re,"dblclick",void 0],[re,"click",void 0],[re,"keydown",{capture:!1}],[re,"keyup",void 0],[re,"wheel",{passive:!1}],[re,"contextmenu",void 0],[n.window,"blur",void 0]];for(var ye=0,Be=this._listeners;ye<Be.length;ye+=1){var Xe=Be[ye],ct=Xe[0],Ct=Xe[1],Bt=Xe[2];x.addEventListener(ct,Ct,ct===n.window.document?this.handleWindowEvent:this.handleEvent,Bt)}};zi.prototype.destroy=function(){for(var K=0,ge=this._listeners;K<ge.length;K+=1){var re=ge[K],ye=re[0],Be=re[1],Xe=re[2];x.removeEventListener(ye,Be,ye===n.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},zi.prototype._addDefaultHandlers=function(K){var ge=this._map,re=ge.getCanvasContainer();this._add("mapEvent",new Rt(ge,K));var ye=ge.boxZoom=new Ut(ge,K);this._add("boxZoom",ye);var Be=new Gr,Xe=new Zo;ge.doubleClickZoom=new Pa(Xe,Be),this._add("tapZoom",Be),this._add("clickZoom",Xe);var ct=new es;this._add("tapDragZoom",ct);var Ct=ge.touchPitch=new qa;this._add("touchPitch",Ct);var Bt=new ha(K),qt=new ta(K);ge.dragRotate=new yi(K,Bt,qt),this._add("mouseRotate",Bt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var ur=new na(K),lr=new ua(K);ge.dragPan=new xo(re,ur,lr),this._add("mousePan",ur),this._add("touchPan",lr,["touchZoom","touchRotate"]);var Fr=new ea,Kr=new fi;ge.touchZoomRotate=new ro(re,Kr,Fr,ct),this._add("touchRotate",Fr,["touchPan","touchZoom"]),this._add("touchZoom",Kr,["touchPan","touchRotate"]);var Zr=ge.scrollZoom=new fa(ge,this);this._add("scrollZoom",Zr,["mousePan"]);var jr=ge.keyboard=new ci;this._add("keyboard",jr),this._add("blockableMapEvent",new At(ge));for(var Qr=0,pn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<pn.length;Qr+=1){var _n=pn[Qr];K.interactive&&K[_n]&&ge[_n].enable(K[_n])}},zi.prototype._add=function(K,ge,re){this._handlers.push({handlerName:K,handler:ge,allowed:re}),this._handlersById[K]=ge},zi.prototype.stop=function(K){if(!this._updatingCamera){for(var ge=0,re=this._handlers;ge<re.length;ge+=1){var ye=re[ge],Be=ye.handler;Be.reset()}this._inertia.clear(),this._fireEvents({},{},K),this._changes=[]}},zi.prototype.isActive=function(){for(var K=0,ge=this._handlers;K<ge.length;K+=1){var re=ge[K],ye=re.handler;if(ye.isActive())return!0}return!1},zi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},zi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},zi.prototype.isMoving=function(){return!!Zi(this._eventsInProgress)||this.isZooming()},zi.prototype._blockedByActive=function(K,ge,re){for(var ye in K)if(ye!==re&&(!ge||ge.indexOf(ye)<0))return!0;return!1},zi.prototype.handleWindowEvent=function(K){this.handleEvent(K,K.type+"Window")},zi.prototype._getMapTouches=function(K){for(var ge=[],re=0,ye=K;re<ye.length;re+=1){var Be=ye[re],Xe=Be.target;this._el.contains(Xe)&&ge.push(Be)}return ge},zi.prototype.handleEvent=function(K,ge){if(K.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var re=K.type==="renderFrame"?void 0:K,ye={needsRenderFrame:!1},Be={},Xe={},ct=K.touches?this._getMapTouches(K.touches):void 0,Ct=ct?x.touchPos(this._el,ct):x.mousePos(this._el,K),Bt=0,qt=this._handlers;Bt<qt.length;Bt+=1){var ur=qt[Bt],lr=ur.handlerName,Fr=ur.handler,Kr=ur.allowed;if(Fr.isEnabled()){var Zr=void 0;this._blockedByActive(Xe,Kr,lr)?Fr.reset():Fr[ge||K.type]&&(Zr=Fr[ge||K.type](K,Ct,ct),this.mergeHandlerResult(ye,Be,Zr,lr,re),Zr&&Zr.needsRenderFrame&&this._triggerRenderFrame()),(Zr||Fr.isActive())&&(Xe[lr]=Fr)}}var jr={};for(var Qr in this._previousActiveHandlers)Xe[Qr]||(jr[Qr]=re);this._previousActiveHandlers=Xe,(Object.keys(jr).length||Js(ye))&&(this._changes.push([ye,Be,jr]),this._triggerRenderFrame()),(Object.keys(Xe).length||Js(ye))&&this._map._stop(!0),this._updatingCamera=!1;var pn=ye.cameraAnimation;pn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],pn(this._map))},zi.prototype.mergeHandlerResult=function(K,ge,re,ye,Be){if(re){n.extend(K,re);var Xe={handlerName:ye,originalEvent:re.originalEvent||Be};re.zoomDelta!==void 0&&(ge.zoom=Xe),re.panDelta!==void 0&&(ge.drag=Xe),re.pitchDelta!==void 0&&(ge.pitch=Xe),re.bearingDelta!==void 0&&(ge.rotate=Xe)}},zi.prototype._applyChanges=function(){for(var K={},ge={},re={},ye=0,Be=this._changes;ye<Be.length;ye+=1){var Xe=Be[ye],ct=Xe[0],Ct=Xe[1],Bt=Xe[2];ct.panDelta&&(K.panDelta=(K.panDelta||new n.Point(0,0))._add(ct.panDelta)),ct.zoomDelta&&(K.zoomDelta=(K.zoomDelta||0)+ct.zoomDelta),ct.bearingDelta&&(K.bearingDelta=(K.bearingDelta||0)+ct.bearingDelta),ct.pitchDelta&&(K.pitchDelta=(K.pitchDelta||0)+ct.pitchDelta),ct.around!==void 0&&(K.around=ct.around),ct.pinchAround!==void 0&&(K.pinchAround=ct.pinchAround),ct.noInertia&&(K.noInertia=ct.noInertia),n.extend(ge,Ct),n.extend(re,Bt)}this._updateMapTransform(K,ge,re),this._changes=[]},zi.prototype._updateMapTransform=function(K,ge,re){var ye=this._map,Be=ye.transform;if(!Js(K))return this._fireEvents(ge,re,!0);var Xe=K.panDelta,ct=K.zoomDelta,Ct=K.bearingDelta,Bt=K.pitchDelta,qt=K.around,ur=K.pinchAround;ur!==void 0&&(qt=ur),ye._stop(!0),qt=qt||ye.transform.centerPoint;var lr=Be.pointLocation(Xe?qt.sub(Xe):qt);Ct&&(Be.bearing+=Ct),Bt&&(Be.pitch+=Bt),ct&&(Be.zoom+=ct),Be.setLocationAtPoint(lr,qt),this._map._update(),K.noInertia||this._inertia.record(K),this._fireEvents(ge,re,!0)},zi.prototype._fireEvents=function(K,ge,re){var ye=this,Be=Zi(this._eventsInProgress),Xe=Zi(K),ct={};for(var Ct in K){var Bt=K[Ct],qt=Bt.originalEvent;this._eventsInProgress[Ct]||(ct[Ct+"start"]=qt),this._eventsInProgress[Ct]=K[Ct]}!Be&&Xe&&this._fireEvent("movestart",Xe.originalEvent);for(var ur in ct)this._fireEvent(ur,ct[ur]);Xe&&this._fireEvent("move",Xe.originalEvent);for(var lr in K){var Fr=K[lr],Kr=Fr.originalEvent;this._fireEvent(lr,Kr)}var Zr={},jr;for(var Qr in this._eventsInProgress){var pn=this._eventsInProgress[Qr],_n=pn.handlerName,Vn=pn.originalEvent;this._handlersById[_n].isActive()||(delete this._eventsInProgress[Qr],jr=ge[_n]||Vn,Zr[Qr+"end"]=jr)}for(var Zn in Zr)this._fireEvent(Zn,Zr[Zn]);var Jn=Zi(this._eventsInProgress);if(re&&(Be||Xe)&&!Jn){this._updatingCamera=!0;var jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$n=function(ia){return ia!==0&&-ye._bearingSnap<ia&&ia<ye._bearingSnap};jn?($n(jn.bearing||this._map.getBearing())&&(jn.bearing=0),this._map.easeTo(jn,{originalEvent:jr})):(this._map.fire(new n.Event("moveend",{originalEvent:jr})),$n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},zi.prototype._fireEvent=function(K,ge){this._map.fire(new n.Event(K,ge?{originalEvent:ge}:{}))},zi.prototype._requestFrame=function(){var K=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ge){delete K._frameId,K.handleEvent(new Ds("renderFrame",{timeStamp:ge})),K._applyChanges()})},zi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var cu=function(ve){function K(ge,re){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=re.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},K.prototype.setCenter=function(re,ye){return this.jumpTo({center:re},ye)},K.prototype.panBy=function(re,ye,Be){return re=n.Point.convert(re).mult(-1),this.panTo(this.transform.center,n.extend({offset:re},ye),Be)},K.prototype.panTo=function(re,ye,Be){return this.easeTo(n.extend({center:re},ye),Be)},K.prototype.getZoom=function(){return this.transform.zoom},K.prototype.setZoom=function(re,ye){return this.jumpTo({zoom:re},ye),this},K.prototype.zoomTo=function(re,ye,Be){return this.easeTo(n.extend({zoom:re},ye),Be)},K.prototype.zoomIn=function(re,ye){return this.zoomTo(this.getZoom()+1,re,ye),this},K.prototype.zoomOut=function(re,ye){return this.zoomTo(this.getZoom()-1,re,ye),this},K.prototype.getBearing=function(){return this.transform.bearing},K.prototype.setBearing=function(re,ye){return this.jumpTo({bearing:re},ye),this},K.prototype.getPadding=function(){return this.transform.padding},K.prototype.setPadding=function(re,ye){return this.jumpTo({padding:re},ye),this},K.prototype.rotateTo=function(re,ye,Be){return this.easeTo(n.extend({bearing:re},ye),Be)},K.prototype.resetNorth=function(re,ye){return this.rotateTo(0,n.extend({duration:1e3},re),ye),this},K.prototype.resetNorthPitch=function(re,ye){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},re),ye),this},K.prototype.snapToNorth=function(re,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(re,ye):this},K.prototype.getPitch=function(){return this.transform.pitch},K.prototype.setPitch=function(re,ye){return this.jumpTo({pitch:re},ye),this},K.prototype.cameraForBounds=function(re,ye){re=n.LngLatBounds.convert(re);var Be=ye&&ye.bearing||0;return this._cameraForBoxAndBearing(re.getNorthWest(),re.getSouthEast(),Be,ye)},K.prototype._cameraForBoxAndBearing=function(re,ye,Be,Xe){var ct={top:0,bottom:0,right:0,left:0};if(Xe=n.extend({padding:ct,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var Ct=Xe.padding;Xe.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Xe.padding=n.extend(ct,Xe.padding);var Bt=this.transform,qt=Bt.padding,ur=Bt.project(n.LngLat.convert(re)),lr=Bt.project(n.LngLat.convert(ye)),Fr=ur.rotate(-Be*Math.PI/180),Kr=lr.rotate(-Be*Math.PI/180),Zr=new n.Point(Math.max(Fr.x,Kr.x),Math.max(Fr.y,Kr.y)),jr=new n.Point(Math.min(Fr.x,Kr.x),Math.min(Fr.y,Kr.y)),Qr=Zr.sub(jr),pn=(Bt.width-(qt.left+qt.right+Xe.padding.left+Xe.padding.right))/Qr.x,_n=(Bt.height-(qt.top+qt.bottom+Xe.padding.top+Xe.padding.bottom))/Qr.y;if(_n<0||pn<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Vn=Math.min(Bt.scaleZoom(Bt.scale*Math.min(pn,_n)),Xe.maxZoom),Zn=typeof Xe.offset.x=="number"?new n.Point(Xe.offset.x,Xe.offset.y):n.Point.convert(Xe.offset),Jn=(Xe.padding.left-Xe.padding.right)/2,jn=(Xe.padding.top-Xe.padding.bottom)/2,$n=new n.Point(Jn,jn),ia=$n.rotate(Be*Math.PI/180),ca=Zn.add(ia),xa=ca.mult(Bt.scale/Bt.zoomScale(Vn)),pa=Bt.unproject(ur.add(lr).div(2).sub(xa));return{center:pa,zoom:Vn,bearing:Be}},K.prototype.fitBounds=function(re,ye,Be){return this._fitInternal(this.cameraForBounds(re,ye),ye,Be)},K.prototype.fitScreenCoordinates=function(re,ye,Be,Xe,ct){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(re)),this.transform.pointLocation(n.Point.convert(ye)),Be,Xe),Xe,ct)},K.prototype._fitInternal=function(re,ye,Be){return re?(ye=n.extend(re,ye),delete ye.padding,ye.linear?this.easeTo(ye,Be):this.flyTo(ye,Be)):this},K.prototype.jumpTo=function(re,ye){this.stop();var Be=this.transform,Xe=!1,ct=!1,Ct=!1;return"zoom"in re&&Be.zoom!==+re.zoom&&(Xe=!0,Be.zoom=+re.zoom),re.center!==void 0&&(Be.center=n.LngLat.convert(re.center)),"bearing"in re&&Be.bearing!==+re.bearing&&(ct=!0,Be.bearing=+re.bearing),"pitch"in re&&Be.pitch!==+re.pitch&&(Ct=!0,Be.pitch=+re.pitch),re.padding!=null&&!Be.isPaddingEqual(re.padding)&&(Be.padding=re.padding),this.fire(new n.Event("movestart",ye)).fire(new n.Event("move",ye)),Xe&&this.fire(new n.Event("zoomstart",ye)).fire(new n.Event("zoom",ye)).fire(new n.Event("zoomend",ye)),ct&&this.fire(new n.Event("rotatestart",ye)).fire(new n.Event("rotate",ye)).fire(new n.Event("rotateend",ye)),Ct&&this.fire(new n.Event("pitchstart",ye)).fire(new n.Event("pitch",ye)).fire(new n.Event("pitchend",ye)),this.fire(new n.Event("moveend",ye))},K.prototype.easeTo=function(re,ye){var Be=this;this._stop(!1,re.easeId),re=n.extend({offset:[0,0],duration:500,easing:n.ease},re),(re.animate===!1||!re.essential&&n.browser.prefersReducedMotion)&&(re.duration=0);var Xe=this.transform,ct=this.getZoom(),Ct=this.getBearing(),Bt=this.getPitch(),qt=this.getPadding(),ur="zoom"in re?+re.zoom:ct,lr="bearing"in re?this._normalizeBearing(re.bearing,Ct):Ct,Fr="pitch"in re?+re.pitch:Bt,Kr="padding"in re?re.padding:Xe.padding,Zr=n.Point.convert(re.offset),jr=Xe.centerPoint.add(Zr),Qr=Xe.pointLocation(jr),pn=n.LngLat.convert(re.center||Qr);this._normalizeCenter(pn);var _n=Xe.project(Qr),Vn=Xe.project(pn).sub(_n),Zn=Xe.zoomScale(ur-ct),Jn,jn;re.around&&(Jn=n.LngLat.convert(re.around),jn=Xe.locationPoint(Jn));var $n={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==ct,this._rotating=this._rotating||Ct!==lr,this._pitching=this._pitching||Fr!==Bt,this._padding=!Xe.isPaddingEqual(Kr),this._easeId=re.easeId,this._prepareEase(ye,re.noMoveStart,$n),this._ease(function(ia){if(Be._zooming&&(Xe.zoom=n.number(ct,ur,ia)),Be._rotating&&(Xe.bearing=n.number(Ct,lr,ia)),Be._pitching&&(Xe.pitch=n.number(Bt,Fr,ia)),Be._padding&&(Xe.interpolatePadding(qt,Kr,ia),jr=Xe.centerPoint.add(Zr)),Jn)Xe.setLocationAtPoint(Jn,jn);else{var ca=Xe.zoomScale(Xe.zoom-ct),xa=ur>ct?Math.min(2,Zn):Math.max(.5,Zn),pa=Math.pow(xa,1-ia),Fa=Xe.unproject(_n.add(Vn.mult(ia*pa)).mult(ca));Xe.setLocationAtPoint(Xe.renderWorldCopies?Fa.wrap():Fa,jr)}Be._fireMoveEvents(ye)},function(ia){Be._afterEase(ye,ia)},re),this},K.prototype._prepareEase=function(re,ye,Be){Be===void 0&&(Be={}),this._moving=!0,!ye&&!Be.moving&&this.fire(new n.Event("movestart",re)),this._zooming&&!Be.zooming&&this.fire(new n.Event("zoomstart",re)),this._rotating&&!Be.rotating&&this.fire(new n.Event("rotatestart",re)),this._pitching&&!Be.pitching&&this.fire(new n.Event("pitchstart",re))},K.prototype._fireMoveEvents=function(re){this.fire(new n.Event("move",re)),this._zooming&&this.fire(new n.Event("zoom",re)),this._rotating&&this.fire(new n.Event("rotate",re)),this._pitching&&this.fire(new n.Event("pitch",re))},K.prototype._afterEase=function(re,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var Be=this._zooming,Xe=this._rotating,ct=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Be&&this.fire(new n.Event("zoomend",re)),Xe&&this.fire(new n.Event("rotateend",re)),ct&&this.fire(new n.Event("pitchend",re)),this.fire(new n.Event("moveend",re))}},K.prototype.flyTo=function(re,ye){var Be=this;if(!re.essential&&n.browser.prefersReducedMotion){var Xe=n.pick(re,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,ye)}this.stop(),re=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},re);var ct=this.transform,Ct=this.getZoom(),Bt=this.getBearing(),qt=this.getPitch(),ur=this.getPadding(),lr="zoom"in re?n.clamp(+re.zoom,ct.minZoom,ct.maxZoom):Ct,Fr="bearing"in re?this._normalizeBearing(re.bearing,Bt):Bt,Kr="pitch"in re?+re.pitch:qt,Zr="padding"in re?re.padding:ct.padding,jr=ct.zoomScale(lr-Ct),Qr=n.Point.convert(re.offset),pn=ct.centerPoint.add(Qr),_n=ct.pointLocation(pn),Vn=n.LngLat.convert(re.center||_n);this._normalizeCenter(Vn);var Zn=ct.project(_n),Jn=ct.project(Vn).sub(Zn),jn=re.curve,$n=Math.max(ct.width,ct.height),ia=$n/jr,ca=Jn.mag();if("minZoom"in re){var xa=n.clamp(Math.min(re.minZoom,Ct,lr),ct.minZoom,ct.maxZoom),pa=$n/ct.zoomScale(xa-Ct);jn=Math.sqrt(pa/ca*2)}var Fa=jn*jn;function ni(Wa){var ai=(ia*ia-$n*$n+(Wa?-1:1)*Fa*Fa*ca*ca)/(2*(Wa?ia:$n)*Fa*ca);return Math.log(Math.sqrt(ai*ai+1)-ai)}function Za(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ea(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Ka(Wa){return Za(Wa)/Ea(Wa)}var Ga=ni(0),hi=function(Wa){return Ea(Ga)/Ea(Ga+jn*Wa)},si=function(Wa){return $n*((Ea(Ga)*Ka(Ga+jn*Wa)-Za(Ga))/Fa)/ca},Ri=(ni(1)-Ga)/jn;if(Math.abs(ca)<1e-6||!isFinite(Ri)){if(Math.abs($n-ia)<1e-6)return this.easeTo(re,ye);var ri=ia<$n?-1:1;Ri=Math.abs(Math.log(ia/$n))/jn,si=function(){return 0},hi=function(Wa){return Math.exp(ri*jn*Wa)}}if("duration"in re)re.duration=+re.duration;else{var Ai="screenSpeed"in re?+re.screenSpeed/jn:+re.speed;re.duration=1e3*Ri/Ai}return re.maxDuration&&re.duration>re.maxDuration&&(re.duration=0),this._zooming=!0,this._rotating=Bt!==Fr,this._pitching=Kr!==qt,this._padding=!ct.isPaddingEqual(Zr),this._prepareEase(ye,!1),this._ease(function(Wa){var ai=Wa*Ri,Ki=1/hi(ai);ct.zoom=Wa===1?lr:Ct+ct.scaleZoom(Ki),Be._rotating&&(ct.bearing=n.number(Bt,Fr,Wa)),Be._pitching&&(ct.pitch=n.number(qt,Kr,Wa)),Be._padding&&(ct.interpolatePadding(ur,Zr,Wa),pn=ct.centerPoint.add(Qr));var ko=Wa===1?Vn:ct.unproject(Zn.add(Jn.mult(si(ai))).mult(Ki));ct.setLocationAtPoint(ct.renderWorldCopies?ko.wrap():ko,pn),Be._fireMoveEvents(ye)},function(){return Be._afterEase(ye)},re),this},K.prototype.isEasing=function(){return!!this._easeFrameId},K.prototype.stop=function(){return this._stop()},K.prototype._stop=function(re,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Be=this._onEaseEnd;delete this._onEaseEnd,Be.call(this,ye)}if(!re){var Xe=this.handlers;Xe&&Xe.stop(!1)}return this},K.prototype._ease=function(re,ye,Be){Be.animate===!1||Be.duration===0?(re(1),ye()):(this._easeStart=n.browser.now(),this._easeOptions=Be,this._onEaseFrame=re,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},K.prototype._renderFrameCallback=function(){var re=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(re)),re<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},K.prototype._normalizeBearing=function(re,ye){re=n.wrap(re,-180,180);var Be=Math.abs(re-ye);return Math.abs(re-360-ye)<Be&&(re-=360),Math.abs(re+360-ye)<Be&&(re+=360),re},K.prototype._normalizeCenter=function(re){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var Be=re.lng-ye.center.lng;re.lng+=Be>180?-360:Be<-180?360:0}},K}(n.Evented),ei=function(K){K===void 0&&(K={}),this.options=K,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ei.prototype.getDefaultPosition=function(){return"bottom-right"},ei.prototype.onAdd=function(K){var ge=this.options&&this.options.compact;return this._map=K,this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=x.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=x.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ei.prototype.onRemove=function(){x.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ei.prototype._setElementTitle=function(K,ge){var re=this._map._getUIString("AttributionControl."+ge);K.title=re,K.setAttribute("aria-label",re)},ei.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ei.prototype._updateEditLink=function(){var K=this._editLink;K||(K=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(K){var re=ge.reduce(function(ye,Be,Xe){return Be.value&&(ye+=Be.key+"="+Be.value+(Xe<ge.length-1?"&":"")),ye},"?");K.href=n.config.FEEDBACK_URL+"/"+re+(this._map._hash?this._map._hash.getHashString(!0):""),K.rel="noopener nofollow",this._setElementTitle(K,"MapFeedback")}},ei.prototype._updateData=function(K){K&&(K.sourceDataType==="metadata"||K.sourceDataType==="visibility"||K.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ei.prototype._updateAttributions=function(){if(this._map.style){var K=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?K=K.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&K.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var re=this._map.style.sourceCaches;for(var ye in re){var Be=re[ye];if(Be.used){var Xe=Be.getSource();Xe.attribution&&K.indexOf(Xe.attribution)<0&&K.push(Xe.attribution)}}K.sort(function(Ct,Bt){return Ct.length-Bt.length}),K=K.filter(function(Ct,Bt){for(var qt=Bt+1;qt<K.length;qt++)if(K[qt].indexOf(Ct)>=0)return!1;return!0});var ct=K.join(" | ");ct!==this._attribHTML&&(this._attribHTML=ct,K.length?(this._innerContainer.innerHTML=ct,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ei.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Oi=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};Oi.prototype.onAdd=function(K){this._map=K,this._container=x.create("div","mapboxgl-ctrl");var ge=x.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Oi.prototype.onRemove=function(){x.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Oi.prototype.getDefaultPosition=function(){return"bottom-left"},Oi.prototype._updateLogo=function(K){(!K||K.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Oi.prototype._logoRequired=function(){if(this._map.style){var K=this._map.style.sourceCaches;for(var ge in K){var re=K[ge].getSource();if(re.mapbox_logo)return!0}return!1}},Oi.prototype._updateCompact=function(){var K=this._container.children;if(K.length){var ge=K[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var Yh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Yh.prototype.add=function(K){var ge=++this._id,re=this._queue;return re.push({callback:K,id:ge,cancelled:!1}),ge},Yh.prototype.remove=function(K){for(var ge=this._currentlyRunning,re=ge?this._queue.concat(ge):this._queue,ye=0,Be=re;ye<Be.length;ye+=1){var Xe=Be[ye];if(Xe.id===K){Xe.cancelled=!0;return}}},Yh.prototype.run=function(K){K===void 0&&(K=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var re=0,ye=ge;re<ye.length;re+=1){var Be=ye[re];if(!Be.cancelled&&(Be.callback(K),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Yh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var $p={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},rc=n.window.HTMLImageElement,Dd=n.window.HTMLElement,Mf=n.window.ImageBitmap,jc=-2,Yc=22,ms=0,Ef=60,Id={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:jc,maxZoom:Yc,minPitch:ms,maxPitch:Ef,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},_d=function(ve){function K(re){var ye=this;if(re=n.extend({},Id,re),re.minZoom!=null&&re.maxZoom!=null&&re.minZoom>re.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(re.minPitch!=null&&re.maxPitch!=null&&re.minPitch>re.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(re.minPitch!=null&&re.minPitch<ms)throw new Error("minPitch must be greater than or equal to "+ms);if(re.maxPitch!=null&&re.maxPitch>Ef)throw new Error("maxPitch must be less than or equal to "+Ef);var Be=new In(re.minZoom,re.maxZoom,re.minPitch,re.maxPitch,re.renderWorldCopies);if(ve.call(this,Be,re),this._interactive=re.interactive,this._maxTileCacheSize=re.maxTileCacheSize,this._failIfMajorPerformanceCaveat=re.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=re.preserveDrawingBuffer,this._antialias=re.antialias,this._trackResize=re.trackResize,this._bearingSnap=re.bearingSnap,this._refreshExpiredTiles=re.refreshExpiredTiles,this._fadeDuration=re.fadeDuration,this._crossSourceCollisions=re.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=re.collectResourceTiming,this._renderTaskQueue=new Yh,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},$p,re.locale),this._clickTolerance=re.clickTolerance,this._requestManager=new n.RequestManager(re.transformRequest,re.accessToken),typeof re.container=="string"){if(this._container=n.window.document.getElementById(re.container),!this._container)throw new Error("Container '"+re.container+"' not found.")}else if(re.container instanceof Dd)this._container=re.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(re.maxBounds&&this.setMaxBounds(re.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new zi(this,re);var Xe=typeof re.hash=="string"&&re.hash||void 0;this._hash=re.hash&&new Da(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:re.center,zoom:re.zoom,bearing:re.bearing,pitch:re.pitch}),re.bounds&&(this.resize(),this.fitBounds(re.bounds,n.extend({},re.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=re.localIdeographFontFamily,re.style&&this.setStyle(re.style,{localIdeographFontFamily:re.localIdeographFontFamily}),re.attributionControl&&this.addControl(new ei({customAttribution:re.customAttribution})),this.addControl(new Oi,re.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ct){ye._update(ct.dataType==="style"),ye.fire(new n.Event(ct.dataType+"data",ct))}),this.on("dataloading",function(ct){ye.fire(new n.Event(ct.dataType+"dataloading",ct))})}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return K.prototype._getMapId=function(){return this._mapId},K.prototype.addControl=function(ye,Be){if(Be===void 0&&(ye.getDefaultPosition?Be=ye.getDefaultPosition():Be="top-right"),!ye||!ye.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=ye.onAdd(this);this._controls.push(ye);var ct=this._controlPositions[Be];return Be.indexOf("bottom")!==-1?ct.insertBefore(Xe,ct.firstChild):ct.appendChild(Xe),this},K.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Be=this._controls.indexOf(ye);return Be>-1&&this._controls.splice(Be,1),ye.onRemove(this),this},K.prototype.hasControl=function(ye){return this._controls.indexOf(ye)>-1},K.prototype.resize=function(ye){var Be=this._containerDimensions(),Xe=Be[0],ct=Be[1];this._resizeCanvas(Xe,ct),this.transform.resize(Xe,ct),this.painter.resize(Xe,ct);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new n.Event("movestart",ye)).fire(new n.Event("move",ye))),this.fire(new n.Event("resize",ye)),Ct&&this.fire(new n.Event("moveend",ye)),this},K.prototype.getBounds=function(){return this.transform.getBounds()},K.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},K.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(n.LngLatBounds.convert(ye)),this._update()},K.prototype.setMinZoom=function(ye){if(ye=ye??jc,ye>=jc&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+jc+" and the current maxZoom, inclusive")},K.prototype.getMinZoom=function(){return this.transform.minZoom},K.prototype.setMaxZoom=function(ye){if(ye=ye??Yc,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},K.prototype.getMaxZoom=function(){return this.transform.maxZoom},K.prototype.setMinPitch=function(ye){if(ye=ye??ms,ye<ms)throw new Error("minPitch must be greater than or equal to "+ms);if(ye>=ms&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+ms+" and the current maxPitch, inclusive")},K.prototype.getMinPitch=function(){return this.transform.minPitch},K.prototype.setMaxPitch=function(ye){if(ye=ye??Ef,ye>Ef)throw new Error("maxPitch must be less than or equal to "+Ef);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},K.prototype.getMaxPitch=function(){return this.transform.maxPitch},K.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},K.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},K.prototype.project=function(ye){return this.transform.locationPoint(n.LngLat.convert(ye))},K.prototype.unproject=function(ye){return this.transform.pointLocation(n.Point.convert(ye))},K.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},K.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},K.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},K.prototype._createDelegatedListener=function(ye,Be,Xe){var ct=this,Ct;if(ye==="mouseenter"||ye==="mouseover"){var Bt=!1,qt=function(jr){var Qr=ct.getLayer(Be)?ct.queryRenderedFeatures(jr.point,{layers:[Be]}):[];Qr.length?Bt||(Bt=!0,Xe.call(ct,new tt(ye,ct,jr.originalEvent,{features:Qr}))):Bt=!1},ur=function(){Bt=!1};return{layer:Be,listener:Xe,delegates:{mousemove:qt,mouseout:ur}}}else if(ye==="mouseleave"||ye==="mouseout"){var lr=!1,Fr=function(jr){var Qr=ct.getLayer(Be)?ct.queryRenderedFeatures(jr.point,{layers:[Be]}):[];Qr.length?lr=!0:lr&&(lr=!1,Xe.call(ct,new tt(ye,ct,jr.originalEvent)))},Kr=function(jr){lr&&(lr=!1,Xe.call(ct,new tt(ye,ct,jr.originalEvent)))};return{layer:Be,listener:Xe,delegates:{mousemove:Fr,mouseout:Kr}}}else{var Zr=function(jr){var Qr=ct.getLayer(Be)?ct.queryRenderedFeatures(jr.point,{layers:[Be]}):[];Qr.length&&(jr.features=Qr,Xe.call(ct,jr),delete jr.features)};return{layer:Be,listener:Xe,delegates:(Ct={},Ct[ye]=Zr,Ct)}}},K.prototype.on=function(ye,Be,Xe){if(Xe===void 0)return ve.prototype.on.call(this,ye,Be);var ct=this._createDelegatedListener(ye,Be,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(ct);for(var Ct in ct.delegates)this.on(Ct,ct.delegates[Ct]);return this},K.prototype.once=function(ye,Be,Xe){if(Xe===void 0)return ve.prototype.once.call(this,ye,Be);var ct=this._createDelegatedListener(ye,Be,Xe);for(var Ct in ct.delegates)this.once(Ct,ct.delegates[Ct]);return this},K.prototype.off=function(ye,Be,Xe){var ct=this;if(Xe===void 0)return ve.prototype.off.call(this,ye,Be);var Ct=function(Bt){for(var qt=Bt[ye],ur=0;ur<qt.length;ur++){var lr=qt[ur];if(lr.layer===Be&&lr.listener===Xe){for(var Fr in lr.delegates)ct.off(Fr,lr.delegates[Fr]);return qt.splice(ur,1),ct}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&Ct(this._delegatedListeners),this},K.prototype.queryRenderedFeatures=function(ye,Be){if(!this.style)return[];Be===void 0&&ye!==void 0&&!(ye instanceof n.Point)&&!Array.isArray(ye)&&(Be=ye,ye=void 0),Be=Be||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(ye instanceof n.Point||typeof ye[0]=="number")Xe=[n.Point.convert(ye)];else{var ct=n.Point.convert(ye[0]),Ct=n.Point.convert(ye[1]);Xe=[ct,new n.Point(Ct.x,ct.y),Ct,new n.Point(ct.x,Ct.y),ct]}return this.style.queryRenderedFeatures(Xe,Be,this.transform)},K.prototype.querySourceFeatures=function(ye,Be){return this.style.querySourceFeatures(ye,Be)},K.prototype.setStyle=function(ye,Be){return Be=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Be),Be.diff!==!1&&Be.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,Be),this):(this._localIdeographFontFamily=Be.localIdeographFontFamily,this._updateStyle(ye,Be))},K.prototype._getUIString=function(ye){var Be=this._locale[ye];if(Be==null)throw new Error("Missing UI string '"+ye+"'");return Be},K.prototype._updateStyle=function(ye,Be){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new Lo(this,Be||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},K.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Lo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},K.prototype._diffStyle=function(ye,Be){var Xe=this;if(typeof ye=="string"){var ct=this._requestManager.normalizeStyleURL(ye),Ct=this._requestManager.transformRequest(ct,n.ResourceType.Style);n.getJSON(Ct,function(Bt,qt){Bt?Xe.fire(new n.ErrorEvent(Bt)):qt&&Xe._updateDiff(qt,Be)})}else typeof ye=="object"&&this._updateDiff(ye,Be)},K.prototype._updateDiff=function(ye,Be){try{this.style.setState(ye)&&this._update(!0)}catch(Xe){n.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(ye,Be)}},K.prototype.getStyle=function(){if(this.style)return this.style.serialize()},K.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},K.prototype.addSource=function(ye,Be){return this._lazyInitEmptyStyle(),this.style.addSource(ye,Be),this._update(!0)},K.prototype.isSourceLoaded=function(ye){var Be=this.style&&this.style.sourceCaches[ye];if(Be===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return Be.loaded()},K.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var Be in ye){var Xe=ye[Be],ct=Xe._tiles;for(var Ct in ct){var Bt=ct[Ct];if(!(Bt.state==="loaded"||Bt.state==="errored"))return!1}}return!0},K.prototype.addSourceType=function(ye,Be,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,Be,Xe)},K.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},K.prototype.getSource=function(ye){return this.style.getSource(ye)},K.prototype.addImage=function(ye,Be,Xe){Xe===void 0&&(Xe={});var ct=Xe.pixelRatio;ct===void 0&&(ct=1);var Ct=Xe.sdf;Ct===void 0&&(Ct=!1);var Bt=Xe.stretchX,qt=Xe.stretchY,ur=Xe.content;this._lazyInitEmptyStyle();var lr=0;if(Be instanceof rc||Mf&&Be instanceof Mf){var Fr=n.browser.getImageData(Be),Kr=Fr.width,Zr=Fr.height,jr=Fr.data;this.style.addImage(ye,{data:new n.RGBAImage({width:Kr,height:Zr},jr),pixelRatio:ct,stretchX:Bt,stretchY:qt,content:ur,sdf:Ct,version:lr})}else{if(Be.width===void 0||Be.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=Be.width,pn=Be.height,_n=Be.data,Vn=Be;this.style.addImage(ye,{data:new n.RGBAImage({width:Qr,height:pn},new Uint8Array(_n)),pixelRatio:ct,stretchX:Bt,stretchY:qt,content:ur,sdf:Ct,version:lr,userImage:Vn}),Vn.onAdd&&Vn.onAdd(this,ye)}},K.prototype.updateImage=function(ye,Be){var Xe=this.style.getImage(ye);if(!Xe)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ct=Be instanceof rc||Mf&&Be instanceof Mf?n.browser.getImageData(Be):Be,Ct=ct.width,Bt=ct.height,qt=ct.data;if(Ct===void 0||Bt===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Xe.data.width||Bt!==Xe.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(Be instanceof rc||Mf&&Be instanceof Mf);Xe.data.replace(qt,ur),this.style.updateImage(ye,Xe)},K.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},K.prototype.removeImage=function(ye){this.style.removeImage(ye)},K.prototype.loadImage=function(ye,Be){n.getImage(this._requestManager.transformRequest(ye,n.ResourceType.Image),Be)},K.prototype.listImages=function(){return this.style.listImages()},K.prototype.addLayer=function(ye,Be){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,Be),this._update(!0)},K.prototype.moveLayer=function(ye,Be){return this.style.moveLayer(ye,Be),this._update(!0)},K.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},K.prototype.getLayer=function(ye){return this.style.getLayer(ye)},K.prototype.setLayerZoomRange=function(ye,Be,Xe){return this.style.setLayerZoomRange(ye,Be,Xe),this._update(!0)},K.prototype.setFilter=function(ye,Be,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(ye,Be,Xe),this._update(!0)},K.prototype.getFilter=function(ye){return this.style.getFilter(ye)},K.prototype.setPaintProperty=function(ye,Be,Xe,ct){return ct===void 0&&(ct={}),this.style.setPaintProperty(ye,Be,Xe,ct),this._update(!0)},K.prototype.getPaintProperty=function(ye,Be){return this.style.getPaintProperty(ye,Be)},K.prototype.setLayoutProperty=function(ye,Be,Xe,ct){return ct===void 0&&(ct={}),this.style.setLayoutProperty(ye,Be,Xe,ct),this._update(!0)},K.prototype.getLayoutProperty=function(ye,Be){return this.style.getLayoutProperty(ye,Be)},K.prototype.setLight=function(ye,Be){return Be===void 0&&(Be={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,Be),this._update(!0)},K.prototype.getLight=function(){return this.style.getLight()},K.prototype.setFeatureState=function(ye,Be){return this.style.setFeatureState(ye,Be),this._update()},K.prototype.removeFeatureState=function(ye,Be){return this.style.removeFeatureState(ye,Be),this._update()},K.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},K.prototype.getContainer=function(){return this._container},K.prototype.getCanvasContainer=function(){return this._canvasContainer},K.prototype.getCanvas=function(){return this._canvas},K.prototype._containerDimensions=function(){var ye=0,Be=0;return this._container&&(ye=this._container.clientWidth||400,Be=this._container.clientHeight||300),[ye,Be]},K.prototype._detectMissingCSS=function(){var ye=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},K.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var Be=this._missingCSSCanary=x.create("div","mapboxgl-canary",ye);Be.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=x.create("div","mapboxgl-canvas-container",ye);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=x.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ct=this._containerDimensions();this._resizeCanvas(ct[0],ct[1]);var Ct=this._controlContainer=x.create("div","mapboxgl-control-container",ye),Bt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Bt[qt]=x.create("div","mapboxgl-ctrl-"+qt,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},K.prototype._resizeCanvas=function(ye,Be){var Xe=n.browser.devicePixelRatio||1;this._canvas.width=Xe*ye,this._canvas.height=Xe*Be,this._canvas.style.width=ye+"px",this._canvas.style.height=Be+"px"},K.prototype._setupPainter=function(){var ye=n.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Be=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!Be){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Vr(Be,this.transform),n.webpSupported.testSupport(Be)},K.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:ye}))},K.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:ye}))},K.prototype._onMapScroll=function(ye){if(ye.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},K.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},K.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},K.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},K.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},K.prototype._render=function(ye){var Be=this,Xe,ct=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Xe),ct=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Bt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,ur=n.browser.now();this.style.zoomHistory.update(qt,ur);var lr=new n.EvaluationParameters(qt,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Fr=lr.crossFadingFactor();(Fr!==1||Fr!==this._crossFadingFactor)&&(Bt=!0,this._crossFadingFactor=Fr),this.style.update(lr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Bt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Kr=n.browser.now()-ct;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var Qr=Ct.getQueryObjectEXT(Xe,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Xe),Be.fire(new n.Event("gpu-timing-frame",{cpuTime:Kr,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var Zr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=Be.painter.queryGpuTimers(Zr);Be.fire(new n.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),this._loaded&&!this._fullyLoaded&&!jr&&(this._fullyLoaded=!0),this}},K.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,Be=this._controls;ye<Be.length;ye+=1){var Xe=Be[ye];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var ct=this.painter.context.gl.getExtension("WEBGL_lose_context");ct&&ct.loseContext&&ct.loseContext(),Xh(this._canvasContainer),Xh(this._controlContainer),Xh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},K.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(Be){ye._frame=null,ye._render(Be)}))},K.prototype._onWindowOnline=function(){this._update()},K.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(re){this._showTileBoundaries!==re&&(this._showTileBoundaries=re,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(re){this._showPadding!==re&&(this._showPadding=re,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(re){this._showCollisionBoxes!==re&&(this._showCollisionBoxes=re,re?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(re){this._showOverdrawInspector!==re&&(this._showOverdrawInspector=re,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(re){this._repaint!==re&&(this._repaint=re,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(re){this._vertices=re,this._update()},K.prototype._setCacheLimits=function(ye,Be){n.setCacheLimits(ye,Be)},ge.version.get=function(){return n.version},Object.defineProperties(K.prototype,ge),K}(cu);function Xh(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var Tv={showCompass:!0,showZoom:!0,visualizePitch:!1},Xu=function(K){var ge=this;this.options=n.extend({},Tv,K),this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(re){return ge._map.zoomIn({},{originalEvent:re})}),x.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(re){return ge._map.zoomOut({},{originalEvent:re})}),x.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(re){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:re}):ge._map.resetNorth({},{originalEvent:re})}),this._compassIcon=x.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Xu.prototype._updateZoomButtons=function(){var K=this._map.getZoom(),ge=K===this._map.getMaxZoom(),re=K===this._map.getMinZoom();this._zoomInButton.disabled=ge,this._zoomOutButton.disabled=re,this._zoomInButton.setAttribute("aria-disabled",ge.toString()),this._zoomOutButton.setAttribute("aria-disabled",re.toString())},Xu.prototype._rotateCompassArrow=function(){var K=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=K},Xu.prototype.onAdd=function(K){return this._map=K,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Is(this._map,this._compass,this.options.visualizePitch)),this._container},Xu.prototype.onRemove=function(){x.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Xu.prototype._createButton=function(K,ge){var re=x.create("button",K,this._container);return re.type="button",re.addEventListener("click",ge),re},Xu.prototype._setButtonTitle=function(K,ge){var re=this._map._getUIString("NavigationControl."+ge);K.title=re,K.setAttribute("aria-label",re)};var Is=function(K,ge,re){re===void 0&&(re=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new ha({clickTolerance:K.dragRotate._mouseRotate._clickTolerance}),this.map=K,re&&(this.mousePitch=new ta({clickTolerance:K.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),x.addEventListener(ge,"mousedown",this.mousedown),x.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),x.addEventListener(ge,"touchmove",this.touchmove),x.addEventListener(ge,"touchend",this.touchend),x.addEventListener(ge,"touchcancel",this.reset)};Is.prototype.down=function(K,ge){this.mouseRotate.mousedown(K,ge),this.mousePitch&&this.mousePitch.mousedown(K,ge),x.disableDrag()},Is.prototype.move=function(K,ge){var re=this.map,ye=this.mouseRotate.mousemoveWindow(K,ge);if(ye&&ye.bearingDelta&&re.setBearing(re.getBearing()+ye.bearingDelta),this.mousePitch){var Be=this.mousePitch.mousemoveWindow(K,ge);Be&&Be.pitchDelta&&re.setPitch(re.getPitch()+Be.pitchDelta)}},Is.prototype.off=function(){var K=this.element;x.removeEventListener(K,"mousedown",this.mousedown),x.removeEventListener(K,"touchstart",this.touchstart,{passive:!1}),x.removeEventListener(K,"touchmove",this.touchmove),x.removeEventListener(K,"touchend",this.touchend),x.removeEventListener(K,"touchcancel",this.reset),this.offTemp()},Is.prototype.offTemp=function(){x.enableDrag(),x.removeEventListener(n.window,"mousemove",this.mousemove),x.removeEventListener(n.window,"mouseup",this.mouseup)},Is.prototype.mousedown=function(K){this.down(n.extend({},K,{ctrlKey:!0,preventDefault:function(){return K.preventDefault()}}),x.mousePos(this.element,K)),x.addEventListener(n.window,"mousemove",this.mousemove),x.addEventListener(n.window,"mouseup",this.mouseup)},Is.prototype.mousemove=function(K){this.move(K,x.mousePos(this.element,K))},Is.prototype.mouseup=function(K){this.mouseRotate.mouseupWindow(K),this.mousePitch&&this.mousePitch.mouseupWindow(K),this.offTemp()},Is.prototype.touchstart=function(K){K.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=x.touchPos(this.element,K.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return K.preventDefault()}},this._startPos))},Is.prototype.touchmove=function(K){K.targetTouches.length!==1?this.reset():(this._lastPos=x.touchPos(this.element,K.targetTouches)[0],this.move({preventDefault:function(){return K.preventDefault()}},this._lastPos))},Is.prototype.touchend=function(K){K.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Is.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Zu(ve,K,ge){if(ve=new n.LngLat(ve.lng,ve.lat),K){var re=new n.LngLat(ve.lng-360,ve.lat),ye=new n.LngLat(ve.lng+360,ve.lat),Be=ge.locationPoint(ve).distSqr(K);ge.locationPoint(re).distSqr(K)<Be?ve=re:ge.locationPoint(ye).distSqr(K)<Be&&(ve=ye)}for(;Math.abs(ve.lng-ge.center.lng)>180;){var Xe=ge.locationPoint(ve);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=ge.width&&Xe.y<=ge.height)break;ve.lng>ge.center.lng?ve.lng-=360:ve.lng+=360}return ve}var Zh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Av(ve,K,ge){var re=ve.classList;for(var ye in Zh)re.remove("mapboxgl-"+ge+"-anchor-"+ye);re.add("mapboxgl-"+ge+"-anchor-"+K)}var Xc=function(ve){function K(ge,re){if(ve.call(this),(ge instanceof n.window.HTMLElement||re)&&(ge=n.extend({element:ge},re)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._scale=ge&&ge.scale||1,this._draggable=ge&&ge.draggable||!1,this._clickTolerance=ge&&ge.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=x.create("div"),this._element.setAttribute("aria-label","Map marker");var ye=x.createNS("http://www.w3.org/2000/svg","svg"),Be=41,Xe=27;ye.setAttributeNS(null,"display","block"),ye.setAttributeNS(null,"height",Be+"px"),ye.setAttributeNS(null,"width",Xe+"px"),ye.setAttributeNS(null,"viewBox","0 0 "+Xe+" "+Be);var ct=x.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"stroke","none"),ct.setAttributeNS(null,"stroke-width","1"),ct.setAttributeNS(null,"fill","none"),ct.setAttributeNS(null,"fill-rule","evenodd");var Ct=x.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Bt=x.createNS("http://www.w3.org/2000/svg","g");Bt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Bt.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ur=0,lr=qt;ur<lr.length;ur+=1){var Fr=lr[ur],Kr=x.createNS("http://www.w3.org/2000/svg","ellipse");Kr.setAttributeNS(null,"opacity","0.04"),Kr.setAttributeNS(null,"cx","10.5"),Kr.setAttributeNS(null,"cy","5.80029008"),Kr.setAttributeNS(null,"rx",Fr.rx),Kr.setAttributeNS(null,"ry",Fr.ry),Bt.appendChild(Kr)}var Zr=x.createNS("http://www.w3.org/2000/svg","g");Zr.setAttributeNS(null,"fill",this._color);var jr=x.createNS("http://www.w3.org/2000/svg","path");jr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Zr.appendChild(jr);var Qr=x.createNS("http://www.w3.org/2000/svg","g");Qr.setAttributeNS(null,"opacity","0.25"),Qr.setAttributeNS(null,"fill","#000000");var pn=x.createNS("http://www.w3.org/2000/svg","path");pn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Qr.appendChild(pn);var _n=x.createNS("http://www.w3.org/2000/svg","g");_n.setAttributeNS(null,"transform","translate(6.0, 7.0)"),_n.setAttributeNS(null,"fill","#FFFFFF");var Vn=x.createNS("http://www.w3.org/2000/svg","g");Vn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Zn=x.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#000000"),Zn.setAttributeNS(null,"opacity","0.25"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962");var Jn=x.createNS("http://www.w3.org/2000/svg","circle");Jn.setAttributeNS(null,"fill","#FFFFFF"),Jn.setAttributeNS(null,"cx","5.5"),Jn.setAttributeNS(null,"cy","5.5"),Jn.setAttributeNS(null,"r","5.4999962"),Vn.appendChild(Zn),Vn.appendChild(Jn),Ct.appendChild(Bt),Ct.appendChild(Zr),Ct.appendChild(Qr),Ct.appendChild(_n),Ct.appendChild(Vn),ye.appendChild(Ct),ye.setAttributeNS(null,"height",Be*this._scale+"px"),ye.setAttributeNS(null,"width",Xe*this._scale+"px"),this._element.appendChild(ye),this._offset=n.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=n.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jn){jn.preventDefault()}),this._element.addEventListener("mousedown",function(jn){jn.preventDefault()}),Av(this._element,this._anchor,"marker"),this._popup=null}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.addTo=function(re){return this.remove(),this._map=re,re.getCanvasContainer().appendChild(this._element),re.on("move",this._update),re.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},K.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),x.remove(this._element),this._popup&&this._popup.remove(),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(re){return this._lngLat=n.LngLat.convert(re),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},K.prototype.getElement=function(){return this._element},K.prototype.setPopup=function(re){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),re){if(!("offset"in re.options)){var ye=38.1,Be=13.5,Xe=Math.sqrt(Math.pow(Be,2)/2);re.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Xe,(ye-Be+Xe)*-1],"bottom-right":[-Xe,(ye-Be+Xe)*-1],left:[Be,(ye-Be)*-1],right:[-Be,(ye-Be)*-1]}:this._offset}this._popup=re,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},K.prototype._onKeyPress=function(re){var ye=re.code,Be=re.charCode||re.keyCode;(ye==="Space"||ye==="Enter"||Be===32||Be===13)&&this.togglePopup()},K.prototype._onMapClick=function(re){var ye=re.originalEvent.target,Be=this._element;this._popup&&(ye===Be||Be.contains(ye))&&this.togglePopup()},K.prototype.getPopup=function(){return this._popup},K.prototype.togglePopup=function(){var re=this._popup;if(re)re.isOpen()?re.remove():re.addTo(this._map);else return this;return this},K.prototype._update=function(re){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Zu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Be="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Be="rotateX(0deg)":this._pitchAlignment==="map"&&(Be="rotateX("+this._map.getPitch()+"deg)"),(!re||re.type==="moveend")&&(this._pos=this._pos.round()),x.setTransform(this._element,Zh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Be+" "+ye)}},K.prototype.getOffset=function(){return this._offset},K.prototype.setOffset=function(re){return this._offset=n.Point.convert(re),this._update(),this},K.prototype._onMove=function(re){if(!this._isDragging){var ye=this._clickTolerance||this._map._clickTolerance;this._isDragging=re.point.dist(this._pointerdownPos)>=ye}this._isDragging&&(this._pos=re.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},K.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},K.prototype._addDragHandler=function(re){this._element.contains(re.originalEvent.target)&&(re.preventDefault(),this._positionDelta=re.point.sub(this._pos).add(this._offset),this._pointerdownPos=re.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},K.prototype.setDraggable=function(re){return this._draggable=!!re,this._map&&(re?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},K.prototype.isDraggable=function(){return this._draggable},K.prototype.setRotation=function(re){return this._rotation=re||0,this._update(),this},K.prototype.getRotation=function(){return this._rotation},K.prototype.setRotationAlignment=function(re){return this._rotationAlignment=re||"auto",this._update(),this},K.prototype.getRotationAlignment=function(){return this._rotationAlignment},K.prototype.setPitchAlignment=function(re){return this._pitchAlignment=re&&re!=="auto"?re:this._rotationAlignment,this._update(),this},K.prototype.getPitchAlignment=function(){return this._pitchAlignment},K}(n.Evented),zd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Cf;function Kh(ve){Cf!==void 0?ve(Cf):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(K){Cf=K.state!=="denied",ve(Cf)}):(Cf=!!n.window.navigator.geolocation,ve(Cf))}var Zc=0,nc=!1,qp=function(ve){function K(ge){ve.call(this),this.options=n.extend({},zd,ge),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(re){return this._map=re,this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Kh(this._setupUI),this._container},K.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),x.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Zc=0,nc=!1},K.prototype._isOutOfMapMaxBounds=function(re){var ye=this._map.getMaxBounds(),Be=re.coords;return ye&&(Be.longitude<ye.getWest()||Be.longitude>ye.getEast()||Be.latitude<ye.getSouth()||Be.latitude>ye.getNorth())},K.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},K.prototype._onSuccess=function(re){if(this._map){if(this._isOutOfMapMaxBounds(re)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",re)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=re,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(re),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(re),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",re)),this._finish()}},K.prototype._updateCamera=function(re){var ye=new n.LngLat(re.coords.longitude,re.coords.latitude),Be=re.coords.accuracy,Xe=this._map.getBearing(),ct=n.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(Be),ct,{geolocateSource:!0})},K.prototype._updateMarker=function(re){if(re){var ye=new n.LngLat(re.coords.longitude,re.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=re.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},K.prototype._updateCircleRadius=function(){var re=this._map._container.clientHeight/2,ye=this._map.unproject([0,re]),Be=this._map.unproject([1,re]),Xe=ye.distanceTo(Be),ct=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=ct+"px",this._circleElement.style.height=ct+"px"},K.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},K.prototype._onError=function(re){if(this._map){if(this.options.trackUserLocation)if(re.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(re.code===3&&nc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",re)),this._finish()}},K.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},K.prototype._setupUI=function(re){var ye=this;if(this._container.addEventListener("contextmenu",function(ct){return ct.preventDefault()}),this._geolocateButton=x.create("button","mapboxgl-ctrl-geolocate",this._container),x.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",re===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Be=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Be,this._geolocateButton.setAttribute("aria-label",Be)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=x.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Xc(this._dotElement),this._circleElement=x.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Xc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ct){var Ct=ct.originalEvent&&ct.originalEvent.type==="resize";!ct.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!Ct&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new n.Event("trackuserlocationend")))})},K.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Zc--,nc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Zc++;var re;Zc>1?(re={maximumAge:6e5,timeout:0},nc=!0):(re=this.options.positionOptions,nc=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,re)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},K.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},K}(n.Evented),Od={maxWidth:100,unit:"metric"},ac=function(K){this.options=n.extend({},Od,K),n.bindAll(["_onMove","setUnit"],this)};ac.prototype.getDefaultPosition=function(){return"bottom-left"},ac.prototype._onMove=function(){Fd(this._map,this._container,this.options)},ac.prototype.onAdd=function(K){return this._map=K,this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",K.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ac.prototype.onRemove=function(){x.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ac.prototype.setUnit=function(K){this.options.unit=K,Fd(this._map,this._container,this.options)};function Fd(ve,K,ge){var re=ge&&ge.maxWidth||100,ye=ve._container.clientHeight/2,Be=ve.unproject([0,ye]),Xe=ve.unproject([re,ye]),ct=Be.distanceTo(Xe);if(ge&&ge.unit==="imperial"){var Ct=3.2808*ct;if(Ct>5280){var Bt=Ct/5280;Kc(K,re,Bt,ve._getUIString("ScaleControl.Miles"))}else Kc(K,re,Ct,ve._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var qt=ct/1852;Kc(K,re,qt,ve._getUIString("ScaleControl.NauticalMiles"))}else ct>=1e3?Kc(K,re,ct/1e3,ve._getUIString("ScaleControl.Kilometers")):Kc(K,re,ct,ve._getUIString("ScaleControl.Meters"))}function Kc(ve,K,ge,re){var ye=t0(ge),Be=ye/ge;ve.style.width=K*Be+"px",ve.innerHTML=ye+"&nbsp;"+re}function e0(ve){var K=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*K)/K}function t0(ve){var K=Math.pow(10,(""+Math.floor(ve)).length-1),ge=ve/K;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:e0(ge),K*ge}var _l=function(K){this._fullscreen=!1,K&&K.container&&(K.container instanceof n.window.HTMLElement?this._container=K.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};_l.prototype.onAdd=function(K){return this._map=K,this._container||(this._container=this._map.getContainer()),this._controlContainer=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},_l.prototype.onRemove=function(){x.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},_l.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},_l.prototype._setupUI=function(){var K=this._fullscreenButton=x.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);x.create("span","mapboxgl-ctrl-icon",K).setAttribute("aria-hidden",!0),K.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},_l.prototype._updateTitle=function(){var K=this._getTitle();this._fullscreenButton.setAttribute("aria-label",K),this._fullscreenButton.title=K},_l.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},_l.prototype._isFullscreen=function(){return this._fullscreen},_l.prototype._changeIcon=function(){var K=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;K===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},_l.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var r0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},n0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),py=function(ve){function K(ge){ve.call(this),this.options=n.extend(Object.create(r0),ge),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.addTo=function(re){return this._map&&this.remove(),this._map=re,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},K.prototype.isOpen=function(){return!!this._map},K.prototype.remove=function(){return this._content&&x.remove(this._content),this._container&&(x.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(re){return this._lngLat=n.LngLat.convert(re),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},K.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},K.prototype.getElement=function(){return this._container},K.prototype.setText=function(re){return this.setDOMContent(n.window.document.createTextNode(re))},K.prototype.setHTML=function(re){var ye=n.window.document.createDocumentFragment(),Be=n.window.document.createElement("body"),Xe;for(Be.innerHTML=re;Xe=Be.firstChild,!!Xe;)ye.appendChild(Xe);return this.setDOMContent(ye)},K.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},K.prototype.setMaxWidth=function(re){return this.options.maxWidth=re,this._update(),this},K.prototype.setDOMContent=function(re){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=x.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(re),this._createCloseButton(),this._update(),this._focusFirstElement(),this},K.prototype.addClassName=function(re){this._container&&this._container.classList.add(re)},K.prototype.removeClassName=function(re){this._container&&this._container.classList.remove(re)},K.prototype.setOffset=function(re){return this.options.offset=re,this._update(),this},K.prototype.toggleClassName=function(re){if(this._container)return this._container.classList.toggle(re)},K.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=x.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},K.prototype._onMouseUp=function(re){this._update(re.point)},K.prototype._onMouseMove=function(re){this._update(re.point)},K.prototype._onDrag=function(re){this._update(re.point)},K.prototype._update=function(re){var ye=this,Be=this._lngLat||this._trackPointer;if(!(!this._map||!Be||!this._content)&&(this._container||(this._container=x.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=x.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Fr){return ye._container.classList.add(Fr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!re))){var Xe=this._pos=this._trackPointer&&re?re:this._map.project(this._lngLat),ct=this.options.anchor,Ct=a0(this.options.offset);if(!ct){var Bt=this._container.offsetWidth,qt=this._container.offsetHeight,ur;Xe.y+Ct.bottom.y<qt?ur=["top"]:Xe.y>this._map.transform.height-qt?ur=["bottom"]:ur=[],Xe.x<Bt/2?ur.push("left"):Xe.x>this._map.transform.width-Bt/2&&ur.push("right"),ur.length===0?ct="bottom":ct=ur.join("-")}var lr=Xe.add(Ct[ct]).round();x.setTransform(this._container,Zh[ct]+" translate("+lr.x+"px,"+lr.y+"px)"),Av(this._container,ct,"popup")}},K.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var re=this._container.querySelector(n0);re&&re.focus()}},K.prototype._onClose=function(){this.remove()},K}(n.Evented);function a0(ve){if(ve)if(typeof ve=="number"){var K=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new n.Point(0,0),top:new n.Point(0,ve),"top-left":new n.Point(K,K),"top-right":new n.Point(-K,K),bottom:new n.Point(0,-ve),"bottom-left":new n.Point(K,-K),"bottom-right":new n.Point(-K,-K),left:new n.Point(ve,0),right:new n.Point(-ve,0)}}else if(ve instanceof n.Point||Array.isArray(ve)){var ge=n.Point.convert(ve);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:n.Point.convert(ve.center||[0,0]),top:n.Point.convert(ve.top||[0,0]),"top-left":n.Point.convert(ve["top-left"]||[0,0]),"top-right":n.Point.convert(ve["top-right"]||[0,0]),bottom:n.Point.convert(ve.bottom||[0,0]),"bottom-left":n.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ve["bottom-right"]||[0,0]),left:n.Point.convert(ve.left||[0,0]),right:n.Point.convert(ve.right||[0,0])};else return a0(new n.Point(0,0))}var bo={version:n.version,supported:C,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:_d,NavigationControl:Xu,GeolocateControl:qp,AttributionControl:ei,ScaleControl:ac,FullscreenControl:_l,Popup:py,Marker:Xc,Style:Lo,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:Qe,clearPrewarmedResources:rt,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(ve){n.config.ACCESS_TOKEN=ve},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(ve){n.config.API_URL=ve},get workerCount(){return dr.workerCount},set workerCount(ve){dr.workerCount=ve},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){n.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(K){n.clearTileCache(K)},workerUrl:""};return bo}),d})},3108:function(U,N,e){U.exports=e(26099)},26099:function(U,N,e){var d=e(64928),P=e(32420),n=e(51160),C=e(76752),x=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),o=e(76244),a=1073741824;U.exports=function(l,y){y||(y={}),l=p(l,"float64"),y=x(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(y.maxDepth,255),T=v(y.bounds,C(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var h=u(l,T),i=l.length>>>1,g;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?g=new(t(y.dtype))(i):y.dtype&&(g=y.dtype,Array.isArray(g)&&(g.length=i));for(var b=0;b<i;++b)g[b]=b;var A=[],R=[],m=[],L=[];H(0,0,1,g,0,1);for(var M=0,s=0;s<A.length;s++){var S=A[s];if(g.set)g.set(S,M);else for(var w=0,_=S.length;w<_;w++)g[w+M]=S[w];var I=M+A[s].length;L[s]=[M,I],M=I}return g.range=O,g;function H(F,G,Y,Q,te,ae){if(!Q.length)return null;var fe=A[te]||(A[te]=[]),oe=m[te]||(m[te]=[]),J=R[te]||(R[te]=[]),ee=fe.length;if(te++,te>c||ae>a){for(var X=0;X<Q.length;X++)fe.push(Q[X]),oe.push(ae),J.push(null,null,null,null);return ee}if(fe.push(Q[0]),oe.push(ae),Q.length<=1)return J.push(null,null,null,null),ee;for(var q=Y*.5,le=F+q,$=G+q,j=[],se=[],ne=[],he=[],me=1,we=Q.length;me<we;me++){var Te=Q[me],Le=h[Te*2],Ie=h[Te*2+1];Le<le?Ie<$?j.push(Te):se.push(Te):Ie<$?ne.push(Te):he.push(Te)}return ae<<=2,J.push(H(F,G,q,j,te,ae),H(F,$,q,se,te,ae+1),H(le,G,q,ne,te,ae+2),H(le,$,q,he,te,ae+3)),ee}function O(){for(var F=[],G=arguments.length;G--;)F[G]=arguments[G];var Y;if(r(F[F.length-1])){var Q=F.pop();!F.length&&(Q.x!=null||Q.l!=null||Q.left!=null)&&(F=[Q],Y={}),Y=x(Q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};F.length||(F=T);var te=n.apply(void 0,F),ae=[Math.min(te.x,te.x+te.width),Math.min(te.y,te.y+te.height),Math.max(te.x,te.x+te.width),Math.max(te.y,te.y+te.height)],fe=ae[0],oe=ae[1],J=ae[2],ee=ae[3],X=u([fe,oe,J,ee],T),q=X[0],le=X[1],$=X[2],j=X[3],se=v(Y.level,A.length);if(Y.d!=null){var ne;typeof Y.d=="number"?ne=[Y.d,Y.d]:Y.d.length&&(ne=Y.d),se=Math.min(Math.max(Math.ceil(-o(Math.abs(ne[0])/(T[2]-T[0]))),Math.ceil(-o(Math.abs(ne[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,A.length),Y.lod)return V(q,le,$,j,se);var he=[];me(0,0,1,0,0,1);function me(Te,Le,Ie,ze,Me,_e){if(!(Me===null||_e===null)){var Ce=Te+Ie,Oe=Le+Ie;if(!(q>Ce||le>Oe||$<Te||j<Le)&&!(ze>=se)&&Me!==_e){var Pe=A[ze];_e===void 0&&(_e=Pe.length);for(var Ge=Me;Ge<_e;Ge++){var Ze=Pe[Ge],it=l[Ze*2],Je=l[Ze*2+1];it>=fe&&it<=J&&Je>=oe&&Je<=ee&&he.push(Ze)}var et=R[ze],ft=et[Me*4+0],vt=et[Me*4+1],dt=et[Me*4+2],xt=et[Me*4+3],Mt=we(et,Me+1),nt=Ie*.5,Fe=ze+1;me(Te,Le,nt,Fe,ft,vt||dt||xt||Mt),me(Te,Le+nt,nt,Fe,vt,dt||xt||Mt),me(Te+nt,Le,nt,Fe,dt,xt||Mt),me(Te+nt,Le+nt,nt,Fe,xt,Mt)}}}function we(Te,Le){for(var Ie=null,ze=0;Ie===null;)if(Ie=Te[Le*4+ze],ze++,ze>Te.length)return null;return Ie}return he}function V(F,G,Y,Q,te){for(var ae=[],fe=0;fe<te;fe++){var oe=m[fe],J=L[fe][0],ee=B(F,G,fe),X=B(Y,Q,fe),q=d.ge(oe,ee),le=d.gt(oe,X,q,oe.length-1);ae[fe]=[q+J,le+J]}return ae}function B(F,G,Y){for(var Q=1,te=.5,ae=.5,fe=.5,oe=0;oe<Y;oe++)Q<<=2,Q+=F<te?G<ae?0:1:G<ae?2:3,fe*=.5,te+=F<te?-fe:fe,ae+=G<ae?-fe:fe;return Q}};function u(f,l){for(var y=l[0],c=l[1],T=l[2],h=l[3],i=1/(T-y),g=1/(h-c),b=new Array(f.length),A=0,R=f.length/2;A<R;A++)b[2*A]=P((f[2*A]-y)*i,0,1),b[2*A+1]=P((f[2*A+1]-c)*g,0,1);return b}},40440:function(U,N,e){Object.defineProperty(N,"__esModule",{value:!0});var d=e(3256),P=6378137;function n(r){return d.geomReduce(r,function(t,o){return t+C(o)},0)}N.default=n;function C(r){var t=0,o;switch(r.type){case"Polygon":return x(r.coordinates);case"MultiPolygon":for(o=0;o<r.coordinates.length;o++)t+=x(r.coordinates[o]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function x(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var o=1;o<r.length;o++)t-=Math.abs(v(r[o]))}return t}function v(r){var t,o,a,u,f,l,y,c=0,T=r.length;if(T>2){for(y=0;y<T;y++)y===T-2?(u=T-2,f=T-1,l=0):y===T-1?(u=T-1,f=0,l=1):(u=y,f=y+1,l=y+2),t=r[u],o=r[f],a=r[l],c+=(p(a[0])-p(t[0]))*Math.sin(p(o[1]));c=c*P*P/2}return c}function p(r){return r*Math.PI/180}},46284:function(U,N){Object.defineProperty(N,"__esModule",{value:!0}),N.earthRadius=63710088e-1,N.factors={centimeters:N.earthRadius*100,centimetres:N.earthRadius*100,degrees:N.earthRadius/111325,feet:N.earthRadius*3.28084,inches:N.earthRadius*39.37,kilometers:N.earthRadius/1e3,kilometres:N.earthRadius/1e3,meters:N.earthRadius,metres:N.earthRadius,miles:N.earthRadius/1609.344,millimeters:N.earthRadius*1e3,millimetres:N.earthRadius*1e3,nauticalmiles:N.earthRadius/1852,radians:1,yards:N.earthRadius*1.0936},N.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/N.earthRadius,yards:1.0936133},N.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,S){S===void 0&&(S={});var w={type:"Feature"};return(S.id===0||S.id)&&(w.id=S.id),S.bbox&&(w.bbox=S.bbox),w.properties=s||{},w.geometry=M,w}N.feature=e;function d(M,s,S){switch(M){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return o(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(M+" is invalid")}}N.geometry=d;function P(M,s,S){if(S===void 0&&(S={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(M[0])||!A(M[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:M};return e(w,s,S)}N.point=P;function n(M,s,S){return S===void 0&&(S={}),r(M.map(function(w){return P(w,s)}),S)}N.points=n;function C(M,s,S){S===void 0&&(S={});for(var w=0,_=M;w<_.length;w++){var I=_[w];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<I[I.length-1].length;H++)if(I[I.length-1][H]!==I[0][H])throw new Error("First and last Position are not equivalent.")}var O={type:"Polygon",coordinates:M};return e(O,s,S)}N.polygon=C;function x(M,s,S){return S===void 0&&(S={}),r(M.map(function(w){return C(w,s)}),S)}N.polygons=x;function v(M,s,S){if(S===void 0&&(S={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:M};return e(w,s,S)}N.lineString=v;function p(M,s,S){return S===void 0&&(S={}),r(M.map(function(w){return v(w,s)}),S)}N.lineStrings=p;function r(M,s){s===void 0&&(s={});var S={type:"FeatureCollection"};return s.id&&(S.id=s.id),s.bbox&&(S.bbox=s.bbox),S.features=M,S}N.featureCollection=r;function t(M,s,S){S===void 0&&(S={});var w={type:"MultiLineString",coordinates:M};return e(w,s,S)}N.multiLineString=t;function o(M,s,S){S===void 0&&(S={});var w={type:"MultiPoint",coordinates:M};return e(w,s,S)}N.multiPoint=o;function a(M,s,S){S===void 0&&(S={});var w={type:"MultiPolygon",coordinates:M};return e(w,s,S)}N.multiPolygon=a;function u(M,s,S){S===void 0&&(S={});var w={type:"GeometryCollection",geometries:M};return e(w,s,S)}N.geometryCollection=u;function f(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var S=Math.pow(10,s||0);return Math.round(M*S)/S}N.round=f;function l(M,s){s===void 0&&(s="kilometers");var S=N.factors[s];if(!S)throw new Error(s+" units is invalid");return M*S}N.radiansToLength=l;function y(M,s){s===void 0&&(s="kilometers");var S=N.factors[s];if(!S)throw new Error(s+" units is invalid");return M/S}N.lengthToRadians=y;function c(M,s){return h(y(M,s))}N.lengthToDegrees=c;function T(M){var s=M%360;return s<0&&(s+=360),s}N.bearingToAzimuth=T;function h(M){var s=M%(2*Math.PI);return s*180/Math.PI}N.radiansToDegrees=h;function i(M){var s=M%360;return s*Math.PI/180}N.degreesToRadians=i;function g(M,s,S){if(s===void 0&&(s="kilometers"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(y(M,s),S)}N.convertLength=g;function b(M,s,S){if(s===void 0&&(s="meters"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("area must be a positive number");var w=N.areaFactors[s];if(!w)throw new Error("invalid original units");var _=N.areaFactors[S];if(!_)throw new Error("invalid final units");return M/w*_}N.convertArea=b;function A(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}N.isNumber=A;function R(M){return!!M&&M.constructor===Object}N.isObject=R;function m(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!A(s))throw new Error("bbox must only contain numbers")})}N.validateBBox=m;function L(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}N.validateId=L},3256:function(U,N,e){Object.defineProperty(N,"__esModule",{value:!0});var d=e(46284);function P(i,g,b){if(i!==null)for(var A,R,m,L,M,s,S,w=0,_=0,I,H=i.type,O=H==="FeatureCollection",V=H==="Feature",B=O?i.features.length:1,F=0;F<B;F++){S=O?i.features[F].geometry:V?i.geometry:i,I=S?S.type==="GeometryCollection":!1,M=I?S.geometries.length:1;for(var G=0;G<M;G++){var Y=0,Q=0;if(L=I?S.geometries[G]:S,L!==null){s=L.coordinates;var te=L.type;switch(w=b&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(g(s,_,F,Y,Q)===!1)return!1;_++,Y++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(g(s[A],_,F,Y,Q)===!1)return!1;_++,te==="MultiPoint"&&Y++}te==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(R=0;R<s[A].length-w;R++){if(g(s[A][R],_,F,Y,Q)===!1)return!1;_++}te==="MultiLineString"&&Y++,te==="Polygon"&&Q++}te==="Polygon"&&Y++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(Q=0,R=0;R<s[A].length;R++){for(m=0;m<s[A][R].length-w;m++){if(g(s[A][R][m],_,F,Y,Q)===!1)return!1;_++}Q++}Y++}break;case"GeometryCollection":for(A=0;A<L.geometries.length;A++)if(P(L.geometries[A],g,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(i,g,b,A){var R=b;return P(i,function(m,L,M,s,S){L===0&&b===void 0?R=m:R=g(R,m,L,M,s,S)},A),R}function C(i,g){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&g(i.features[b].properties,b)!==!1;b++);break;case"Feature":g(i.properties,0);break}}function x(i,g,b){var A=b;return C(i,function(R,m){m===0&&b===void 0?A=R:A=g(A,R,m)}),A}function v(i,g){if(i.type==="Feature")g(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&g(i.features[b],b)!==!1;b++);}function p(i,g,b){var A=b;return v(i,function(R,m){m===0&&b===void 0?A=R:A=g(A,R,m)}),A}function r(i){var g=[];return P(i,function(b){g.push(b)}),g}function t(i,g){var b,A,R,m,L,M,s,S,w,_,I=0,H=i.type==="FeatureCollection",O=i.type==="Feature",V=H?i.features.length:1;for(b=0;b<V;b++){for(M=H?i.features[b].geometry:O?i.geometry:i,S=H?i.features[b].properties:O?i.properties:{},w=H?i.features[b].bbox:O?i.bbox:void 0,_=H?i.features[b].id:O?i.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,R=0;R<L;R++){if(m=s?M.geometries[R]:M,m===null){if(g(null,I,S,w,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(m,I,S,w,_)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(g(m.geometries[A],I,S,w,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(i,g,b){var A=b;return t(i,function(R,m,L,M,s){m===0&&b===void 0?A=R:A=g(A,R,m,L,M,s)}),A}function a(i,g){t(i,function(b,A,R,m,L){var M=b===null?null:b.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return g(d.feature(b,R,{bbox:m,id:L}),A,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var S=0;S<b.coordinates.length;S++){var w=b.coordinates[S],_={type:s,coordinates:w};if(g(d.feature(_,R),A,S)===!1)return!1}})}function u(i,g,b){var A=b;return a(i,function(R,m,L){m===0&&L===0&&b===void 0?A=R:A=g(A,R,m,L)}),A}function f(i,g){a(i,function(b,A,R){var m=0;if(b.geometry){var L=b.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,S=0,w=0;if(P(b,function(_,I,H,O,V){if(M===void 0||A>s||O>S||V>w){M=_,s=A,S=O,w=V,m=0;return}var B=d.lineString([M,_],b.properties);if(g(B,A,R,V,m)===!1)return!1;m++,M=_})===!1)return!1}}})}function l(i,g,b){var A=b,R=!1;return f(i,function(m,L,M,s,S){R===!1&&b===void 0?A=m:A=g(A,m,L,M,s,S),R=!0}),A}function y(i,g){if(!i)throw new Error("geojson is required");a(i,function(b,A,R){if(b.geometry!==null){var m=b.geometry.type,L=b.geometry.coordinates;switch(m){case"LineString":if(g(b,A,R,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(g(d.lineString(L[M],b.properties),A,R,M)===!1)return!1;break}}})}function c(i,g,b){var A=b;return y(i,function(R,m,L,M){m===0&&b===void 0?A=R:A=g(A,R,m,L,M)}),A}function T(i,g){if(g=g||{},!d.isObject(g))throw new Error("options is invalid");var b=g.featureIndex||0,A=g.multiFeatureIndex||0,R=g.geometryIndex||0,m=g.segmentIndex||0,L=g.properties,M;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),L=L||i.features[b].properties,M=i.features[b].geometry;break;case"Feature":L=L||i.properties,M=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=i;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),d.lineString([s[m],s[m+1]],L,g);case"Polygon":return R<0&&(R=s.length+R),m<0&&(m=s[R].length+m-1),d.lineString([s[R][m],s[R][m+1]],L,g);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m-1),d.lineString([s[A][m],s[A][m+1]],L,g);case"MultiPolygon":return A<0&&(A=s.length+A),R<0&&(R=s[A].length+R),m<0&&(m=s[A][R].length-m-1),d.lineString([s[A][R][m],s[A][R][m+1]],L,g)}throw new Error("geojson is invalid")}function h(i,g){if(g=g||{},!d.isObject(g))throw new Error("options is invalid");var b=g.featureIndex||0,A=g.multiFeatureIndex||0,R=g.geometryIndex||0,m=g.coordIndex||0,L=g.properties,M;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),L=L||i.features[b].properties,M=i.features[b].geometry;break;case"Feature":L=L||i.properties,M=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=i;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return d.point(s,L,g);case"MultiPoint":return A<0&&(A=s.length+A),d.point(s[A],L,g);case"LineString":return m<0&&(m=s.length+m),d.point(s[m],L,g);case"Polygon":return R<0&&(R=s.length+R),m<0&&(m=s[R].length+m),d.point(s[R][m],L,g);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m),d.point(s[A][m],L,g);case"MultiPolygon":return A<0&&(A=s.length+A),R<0&&(R=s[A].length+R),m<0&&(m=s[A][R].length-m),d.point(s[A][R][m],L,g)}throw new Error("geojson is invalid")}N.coordEach=P,N.coordReduce=n,N.propEach=C,N.propReduce=x,N.featureEach=v,N.featureReduce=p,N.coordAll=r,N.geomEach=t,N.geomReduce=o,N.flattenEach=a,N.flattenReduce=u,N.segmentEach=f,N.segmentReduce=l,N.lineEach=y,N.lineReduce=c,N.findSegment=T,N.findPoint=h},42428:function(U,N,e){Object.defineProperty(N,"__esModule",{value:!0});var d=e(84880);function P(n){var C=[1/0,1/0,-1/0,-1/0];return d.coordEach(n,function(x){C[0]>x[0]&&(C[0]=x[0]),C[1]>x[1]&&(C[1]=x[1]),C[2]<x[0]&&(C[2]=x[0]),C[3]<x[1]&&(C[3]=x[1])}),C}P.default=P,N.default=P},76796:function(U,N){Object.defineProperty(N,"__esModule",{value:!0}),N.earthRadius=63710088e-1,N.factors={centimeters:N.earthRadius*100,centimetres:N.earthRadius*100,degrees:N.earthRadius/111325,feet:N.earthRadius*3.28084,inches:N.earthRadius*39.37,kilometers:N.earthRadius/1e3,kilometres:N.earthRadius/1e3,meters:N.earthRadius,metres:N.earthRadius,miles:N.earthRadius/1609.344,millimeters:N.earthRadius*1e3,millimetres:N.earthRadius*1e3,nauticalmiles:N.earthRadius/1852,radians:1,yards:N.earthRadius*1.0936},N.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/N.earthRadius,yards:1.0936133},N.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,S){S===void 0&&(S={});var w={type:"Feature"};return(S.id===0||S.id)&&(w.id=S.id),S.bbox&&(w.bbox=S.bbox),w.properties=s||{},w.geometry=M,w}N.feature=e;function d(M,s,S){switch(M){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return o(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(M+" is invalid")}}N.geometry=d;function P(M,s,S){if(S===void 0&&(S={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(M[0])||!A(M[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:M};return e(w,s,S)}N.point=P;function n(M,s,S){return S===void 0&&(S={}),r(M.map(function(w){return P(w,s)}),S)}N.points=n;function C(M,s,S){S===void 0&&(S={});for(var w=0,_=M;w<_.length;w++){var I=_[w];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<I[I.length-1].length;H++)if(I[I.length-1][H]!==I[0][H])throw new Error("First and last Position are not equivalent.")}var O={type:"Polygon",coordinates:M};return e(O,s,S)}N.polygon=C;function x(M,s,S){return S===void 0&&(S={}),r(M.map(function(w){return C(w,s)}),S)}N.polygons=x;function v(M,s,S){if(S===void 0&&(S={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:M};return e(w,s,S)}N.lineString=v;function p(M,s,S){return S===void 0&&(S={}),r(M.map(function(w){return v(w,s)}),S)}N.lineStrings=p;function r(M,s){s===void 0&&(s={});var S={type:"FeatureCollection"};return s.id&&(S.id=s.id),s.bbox&&(S.bbox=s.bbox),S.features=M,S}N.featureCollection=r;function t(M,s,S){S===void 0&&(S={});var w={type:"MultiLineString",coordinates:M};return e(w,s,S)}N.multiLineString=t;function o(M,s,S){S===void 0&&(S={});var w={type:"MultiPoint",coordinates:M};return e(w,s,S)}N.multiPoint=o;function a(M,s,S){S===void 0&&(S={});var w={type:"MultiPolygon",coordinates:M};return e(w,s,S)}N.multiPolygon=a;function u(M,s,S){S===void 0&&(S={});var w={type:"GeometryCollection",geometries:M};return e(w,s,S)}N.geometryCollection=u;function f(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var S=Math.pow(10,s||0);return Math.round(M*S)/S}N.round=f;function l(M,s){s===void 0&&(s="kilometers");var S=N.factors[s];if(!S)throw new Error(s+" units is invalid");return M*S}N.radiansToLength=l;function y(M,s){s===void 0&&(s="kilometers");var S=N.factors[s];if(!S)throw new Error(s+" units is invalid");return M/S}N.lengthToRadians=y;function c(M,s){return h(y(M,s))}N.lengthToDegrees=c;function T(M){var s=M%360;return s<0&&(s+=360),s}N.bearingToAzimuth=T;function h(M){var s=M%(2*Math.PI);return s*180/Math.PI}N.radiansToDegrees=h;function i(M){var s=M%360;return s*Math.PI/180}N.degreesToRadians=i;function g(M,s,S){if(s===void 0&&(s="kilometers"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(y(M,s),S)}N.convertLength=g;function b(M,s,S){if(s===void 0&&(s="meters"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("area must be a positive number");var w=N.areaFactors[s];if(!w)throw new Error("invalid original units");var _=N.areaFactors[S];if(!_)throw new Error("invalid final units");return M/w*_}N.convertArea=b;function A(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}N.isNumber=A;function R(M){return!!M&&M.constructor===Object}N.isObject=R;function m(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!A(s))throw new Error("bbox must only contain numbers")})}N.validateBBox=m;function L(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}N.validateId=L},84880:function(U,N,e){Object.defineProperty(N,"__esModule",{value:!0});var d=e(76796);function P(i,g,b){if(i!==null)for(var A,R,m,L,M,s,S,w=0,_=0,I,H=i.type,O=H==="FeatureCollection",V=H==="Feature",B=O?i.features.length:1,F=0;F<B;F++){S=O?i.features[F].geometry:V?i.geometry:i,I=S?S.type==="GeometryCollection":!1,M=I?S.geometries.length:1;for(var G=0;G<M;G++){var Y=0,Q=0;if(L=I?S.geometries[G]:S,L!==null){s=L.coordinates;var te=L.type;switch(w=b&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(g(s,_,F,Y,Q)===!1)return!1;_++,Y++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(g(s[A],_,F,Y,Q)===!1)return!1;_++,te==="MultiPoint"&&Y++}te==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(R=0;R<s[A].length-w;R++){if(g(s[A][R],_,F,Y,Q)===!1)return!1;_++}te==="MultiLineString"&&Y++,te==="Polygon"&&Q++}te==="Polygon"&&Y++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(Q=0,R=0;R<s[A].length;R++){for(m=0;m<s[A][R].length-w;m++){if(g(s[A][R][m],_,F,Y,Q)===!1)return!1;_++}Q++}Y++}break;case"GeometryCollection":for(A=0;A<L.geometries.length;A++)if(P(L.geometries[A],g,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(i,g,b,A){var R=b;return P(i,function(m,L,M,s,S){L===0&&b===void 0?R=m:R=g(R,m,L,M,s,S)},A),R}function C(i,g){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&g(i.features[b].properties,b)!==!1;b++);break;case"Feature":g(i.properties,0);break}}function x(i,g,b){var A=b;return C(i,function(R,m){m===0&&b===void 0?A=R:A=g(A,R,m)}),A}function v(i,g){if(i.type==="Feature")g(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&g(i.features[b],b)!==!1;b++);}function p(i,g,b){var A=b;return v(i,function(R,m){m===0&&b===void 0?A=R:A=g(A,R,m)}),A}function r(i){var g=[];return P(i,function(b){g.push(b)}),g}function t(i,g){var b,A,R,m,L,M,s,S,w,_,I=0,H=i.type==="FeatureCollection",O=i.type==="Feature",V=H?i.features.length:1;for(b=0;b<V;b++){for(M=H?i.features[b].geometry:O?i.geometry:i,S=H?i.features[b].properties:O?i.properties:{},w=H?i.features[b].bbox:O?i.bbox:void 0,_=H?i.features[b].id:O?i.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,R=0;R<L;R++){if(m=s?M.geometries[R]:M,m===null){if(g(null,I,S,w,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(m,I,S,w,_)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(g(m.geometries[A],I,S,w,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(i,g,b){var A=b;return t(i,function(R,m,L,M,s){m===0&&b===void 0?A=R:A=g(A,R,m,L,M,s)}),A}function a(i,g){t(i,function(b,A,R,m,L){var M=b===null?null:b.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return g(d.feature(b,R,{bbox:m,id:L}),A,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var S=0;S<b.coordinates.length;S++){var w=b.coordinates[S],_={type:s,coordinates:w};if(g(d.feature(_,R),A,S)===!1)return!1}})}function u(i,g,b){var A=b;return a(i,function(R,m,L){m===0&&L===0&&b===void 0?A=R:A=g(A,R,m,L)}),A}function f(i,g){a(i,function(b,A,R){var m=0;if(b.geometry){var L=b.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,S=0,w=0;if(P(b,function(_,I,H,O,V){if(M===void 0||A>s||O>S||V>w){M=_,s=A,S=O,w=V,m=0;return}var B=d.lineString([M,_],b.properties);if(g(B,A,R,V,m)===!1)return!1;m++,M=_})===!1)return!1}}})}function l(i,g,b){var A=b,R=!1;return f(i,function(m,L,M,s,S){R===!1&&b===void 0?A=m:A=g(A,m,L,M,s,S),R=!0}),A}function y(i,g){if(!i)throw new Error("geojson is required");a(i,function(b,A,R){if(b.geometry!==null){var m=b.geometry.type,L=b.geometry.coordinates;switch(m){case"LineString":if(g(b,A,R,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(g(d.lineString(L[M],b.properties),A,R,M)===!1)return!1;break}}})}function c(i,g,b){var A=b;return y(i,function(R,m,L,M){m===0&&b===void 0?A=R:A=g(A,R,m,L,M)}),A}function T(i,g){if(g=g||{},!d.isObject(g))throw new Error("options is invalid");var b=g.featureIndex||0,A=g.multiFeatureIndex||0,R=g.geometryIndex||0,m=g.segmentIndex||0,L=g.properties,M;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),L=L||i.features[b].properties,M=i.features[b].geometry;break;case"Feature":L=L||i.properties,M=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=i;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),d.lineString([s[m],s[m+1]],L,g);case"Polygon":return R<0&&(R=s.length+R),m<0&&(m=s[R].length+m-1),d.lineString([s[R][m],s[R][m+1]],L,g);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m-1),d.lineString([s[A][m],s[A][m+1]],L,g);case"MultiPolygon":return A<0&&(A=s.length+A),R<0&&(R=s[A].length+R),m<0&&(m=s[A][R].length-m-1),d.lineString([s[A][R][m],s[A][R][m+1]],L,g)}throw new Error("geojson is invalid")}function h(i,g){if(g=g||{},!d.isObject(g))throw new Error("options is invalid");var b=g.featureIndex||0,A=g.multiFeatureIndex||0,R=g.geometryIndex||0,m=g.coordIndex||0,L=g.properties,M;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),L=L||i.features[b].properties,M=i.features[b].geometry;break;case"Feature":L=L||i.properties,M=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=i;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return d.point(s,L,g);case"MultiPoint":return A<0&&(A=s.length+A),d.point(s[A],L,g);case"LineString":return m<0&&(m=s.length+m),d.point(s[m],L,g);case"Polygon":return R<0&&(R=s.length+R),m<0&&(m=s[R].length+m),d.point(s[R][m],L,g);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m),d.point(s[A][m],L,g);case"MultiPolygon":return A<0&&(A=s.length+A),R<0&&(R=s[A].length+R),m<0&&(m=s[A][R].length-m),d.point(s[A][R][m],L,g)}throw new Error("geojson is invalid")}N.coordEach=P,N.coordReduce=n,N.propEach=C,N.propReduce=x,N.featureEach=v,N.featureReduce=p,N.coordAll=r,N.geomEach=t,N.geomReduce=o,N.flattenEach=a,N.flattenReduce=u,N.segmentEach=f,N.segmentReduce=l,N.lineEach=y,N.lineReduce=c,N.findSegment=T,N.findPoint=h},77844:function(U,N,e){Object.defineProperty(N,"__esModule",{value:!0});var d=e(43752),P=e(49840);function n(C,x){x===void 0&&(x={});var v=0,p=0,r=0;return d.coordEach(C,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],x.properties)}N.default=n},49840:function(U,N){Object.defineProperty(N,"__esModule",{value:!0}),N.earthRadius=63710088e-1,N.factors={centimeters:N.earthRadius*100,centimetres:N.earthRadius*100,degrees:N.earthRadius/111325,feet:N.earthRadius*3.28084,inches:N.earthRadius*39.37,kilometers:N.earthRadius/1e3,kilometres:N.earthRadius/1e3,meters:N.earthRadius,metres:N.earthRadius,miles:N.earthRadius/1609.344,millimeters:N.earthRadius*1e3,millimetres:N.earthRadius*1e3,nauticalmiles:N.earthRadius/1852,radians:1,yards:N.earthRadius/1.0936},N.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/N.earthRadius,yards:.91441111923921},N.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(O,V,B){B===void 0&&(B={});var F={type:"Feature"};return(B.id===0||B.id)&&(F.id=B.id),B.bbox&&(F.bbox=B.bbox),F.properties=V||{},F.geometry=O,F}N.feature=e;function d(O,V,B){switch(O){case"Point":return P(V).geometry;case"LineString":return v(V).geometry;case"Polygon":return C(V).geometry;case"MultiPoint":return o(V).geometry;case"MultiLineString":return t(V).geometry;case"MultiPolygon":return a(V).geometry;default:throw new Error(O+" is invalid")}}N.geometry=d;function P(O,V,B){B===void 0&&(B={});var F={type:"Point",coordinates:O};return e(F,V,B)}N.point=P;function n(O,V,B){return B===void 0&&(B={}),r(O.map(function(F){return P(F,V)}),B)}N.points=n;function C(O,V,B){B===void 0&&(B={});for(var F=0,G=O;F<G.length;F++){var Y=G[F];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<Y[Y.length-1].length;Q++)if(Y[Y.length-1][Q]!==Y[0][Q])throw new Error("First and last Position are not equivalent.")}var te={type:"Polygon",coordinates:O};return e(te,V,B)}N.polygon=C;function x(O,V,B){return B===void 0&&(B={}),r(O.map(function(F){return C(F,V)}),B)}N.polygons=x;function v(O,V,B){if(B===void 0&&(B={}),O.length<2)throw new Error("coordinates must be an array of two or more positions");var F={type:"LineString",coordinates:O};return e(F,V,B)}N.lineString=v;function p(O,V,B){return B===void 0&&(B={}),r(O.map(function(F){return v(F,V)}),B)}N.lineStrings=p;function r(O,V){V===void 0&&(V={});var B={type:"FeatureCollection"};return V.id&&(B.id=V.id),V.bbox&&(B.bbox=V.bbox),B.features=O,B}N.featureCollection=r;function t(O,V,B){B===void 0&&(B={});var F={type:"MultiLineString",coordinates:O};return e(F,V,B)}N.multiLineString=t;function o(O,V,B){B===void 0&&(B={});var F={type:"MultiPoint",coordinates:O};return e(F,V,B)}N.multiPoint=o;function a(O,V,B){B===void 0&&(B={});var F={type:"MultiPolygon",coordinates:O};return e(F,V,B)}N.multiPolygon=a;function u(O,V,B){B===void 0&&(B={});var F={type:"GeometryCollection",geometries:O};return e(F,V,B)}N.geometryCollection=u;function f(O,V){if(V===void 0&&(V=0),V&&!(V>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,V||0);return Math.round(O*B)/B}N.round=f;function l(O,V){V===void 0&&(V="kilometers");var B=N.factors[V];if(!B)throw new Error(V+" units is invalid");return O*B}N.radiansToLength=l;function y(O,V){V===void 0&&(V="kilometers");var B=N.factors[V];if(!B)throw new Error(V+" units is invalid");return O/B}N.lengthToRadians=y;function c(O,V){return h(y(O,V))}N.lengthToDegrees=c;function T(O){var V=O%360;return V<0&&(V+=360),V}N.bearingToAzimuth=T;function h(O){var V=O%(2*Math.PI);return V*180/Math.PI}N.radiansToDegrees=h;function i(O){var V=O%360;return V*Math.PI/180}N.degreesToRadians=i;function g(O,V,B){if(V===void 0&&(V="kilometers"),B===void 0&&(B="kilometers"),!(O>=0))throw new Error("length must be a positive number");return l(y(O,V),B)}N.convertLength=g;function b(O,V,B){if(V===void 0&&(V="meters"),B===void 0&&(B="kilometers"),!(O>=0))throw new Error("area must be a positive number");var F=N.areaFactors[V];if(!F)throw new Error("invalid original units");var G=N.areaFactors[B];if(!G)throw new Error("invalid final units");return O/F*G}N.convertArea=b;function A(O){return!isNaN(O)&&O!==null&&!Array.isArray(O)&&!/^\s*$/.test(O)}N.isNumber=A;function R(O){return!!O&&O.constructor===Object}N.isObject=R;function m(O){if(!O)throw new Error("bbox is required");if(!Array.isArray(O))throw new Error("bbox must be an Array");if(O.length!==4&&O.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");O.forEach(function(V){if(!A(V))throw new Error("bbox must only contain numbers")})}N.validateBBox=m;function L(O){if(!O)throw new Error("id is required");if(["string","number"].indexOf(typeof O)===-1)throw new Error("id must be a number or a string")}N.validateId=L;function M(){throw new Error("method has been renamed to `radiansToDegrees`")}N.radians2degrees=M;function s(){throw new Error("method has been renamed to `degreesToRadians`")}N.degrees2radians=s;function S(){throw new Error("method has been renamed to `lengthToDegrees`")}N.distanceToDegrees=S;function w(){throw new Error("method has been renamed to `lengthToRadians`")}N.distanceToRadians=w;function _(){throw new Error("method has been renamed to `radiansToLength`")}N.radiansToDistance=_;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}N.bearingToAngle=I;function H(){throw new Error("method has been renamed to `convertLength`")}N.convertDistance=H},43752:function(U,N,e){Object.defineProperty(N,"__esModule",{value:!0});var d=e(49840);function P(i,g,b){if(i!==null)for(var A,R,m,L,M,s,S,w=0,_=0,I,H=i.type,O=H==="FeatureCollection",V=H==="Feature",B=O?i.features.length:1,F=0;F<B;F++){S=O?i.features[F].geometry:V?i.geometry:i,I=S?S.type==="GeometryCollection":!1,M=I?S.geometries.length:1;for(var G=0;G<M;G++){var Y=0,Q=0;if(L=I?S.geometries[G]:S,L!==null){s=L.coordinates;var te=L.type;switch(w=b&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(g(s,_,F,Y,Q)===!1)return!1;_++,Y++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(g(s[A],_,F,Y,Q)===!1)return!1;_++,te==="MultiPoint"&&Y++}te==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(R=0;R<s[A].length-w;R++){if(g(s[A][R],_,F,Y,Q)===!1)return!1;_++}te==="MultiLineString"&&Y++,te==="Polygon"&&Q++}te==="Polygon"&&Y++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(Q=0,R=0;R<s[A].length;R++){for(m=0;m<s[A][R].length-w;m++){if(g(s[A][R][m],_,F,Y,Q)===!1)return!1;_++}Q++}Y++}break;case"GeometryCollection":for(A=0;A<L.geometries.length;A++)if(P(L.geometries[A],g,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(i,g,b,A){var R=b;return P(i,function(m,L,M,s,S){L===0&&b===void 0?R=m:R=g(R,m,L,M,s,S)},A),R}function C(i,g){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&g(i.features[b].properties,b)!==!1;b++);break;case"Feature":g(i.properties,0);break}}function x(i,g,b){var A=b;return C(i,function(R,m){m===0&&b===void 0?A=R:A=g(A,R,m)}),A}function v(i,g){if(i.type==="Feature")g(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&g(i.features[b],b)!==!1;b++);}function p(i,g,b){var A=b;return v(i,function(R,m){m===0&&b===void 0?A=R:A=g(A,R,m)}),A}function r(i){var g=[];return P(i,function(b){g.push(b)}),g}function t(i,g){var b,A,R,m,L,M,s,S,w,_,I=0,H=i.type==="FeatureCollection",O=i.type==="Feature",V=H?i.features.length:1;for(b=0;b<V;b++){for(M=H?i.features[b].geometry:O?i.geometry:i,S=H?i.features[b].properties:O?i.properties:{},w=H?i.features[b].bbox:O?i.bbox:void 0,_=H?i.features[b].id:O?i.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,R=0;R<L;R++){if(m=s?M.geometries[R]:M,m===null){if(g(null,I,S,w,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(m,I,S,w,_)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(g(m.geometries[A],I,S,w,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(i,g,b){var A=b;return t(i,function(R,m,L,M,s){m===0&&b===void 0?A=R:A=g(A,R,m,L,M,s)}),A}function a(i,g){t(i,function(b,A,R,m,L){var M=b===null?null:b.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return g(d.feature(b,R,{bbox:m,id:L}),A,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var S=0;S<b.coordinates.length;S++){var w=b.coordinates[S],_={type:s,coordinates:w};if(g(d.feature(_,R),A,S)===!1)return!1}})}function u(i,g,b){var A=b;return a(i,function(R,m,L){m===0&&L===0&&b===void 0?A=R:A=g(A,R,m,L)}),A}function f(i,g){a(i,function(b,A,R){var m=0;if(b.geometry){var L=b.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,S=0,w=0;if(P(b,function(_,I,H,O,V){if(M===void 0||A>s||O>S||V>w){M=_,s=A,S=O,w=V,m=0;return}var B=d.lineString([M,_],b.properties);if(g(B,A,R,V,m)===!1)return!1;m++,M=_})===!1)return!1}}})}function l(i,g,b){var A=b,R=!1;return f(i,function(m,L,M,s,S){R===!1&&b===void 0?A=m:A=g(A,m,L,M,s,S),R=!0}),A}function y(i,g){if(!i)throw new Error("geojson is required");a(i,function(b,A,R){if(b.geometry!==null){var m=b.geometry.type,L=b.geometry.coordinates;switch(m){case"LineString":if(g(b,A,R,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(g(d.lineString(L[M],b.properties),A,R,M)===!1)return!1;break}}})}function c(i,g,b){var A=b;return y(i,function(R,m,L,M){m===0&&b===void 0?A=R:A=g(A,R,m,L,M)}),A}function T(i,g){if(g=g||{},!d.isObject(g))throw new Error("options is invalid");var b=g.featureIndex||0,A=g.multiFeatureIndex||0,R=g.geometryIndex||0,m=g.segmentIndex||0,L=g.properties,M;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),L=L||i.features[b].properties,M=i.features[b].geometry;break;case"Feature":L=L||i.properties,M=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=i;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),d.lineString([s[m],s[m+1]],L,g);case"Polygon":return R<0&&(R=s.length+R),m<0&&(m=s[R].length+m-1),d.lineString([s[R][m],s[R][m+1]],L,g);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m-1),d.lineString([s[A][m],s[A][m+1]],L,g);case"MultiPolygon":return A<0&&(A=s.length+A),R<0&&(R=s[A].length+R),m<0&&(m=s[A][R].length-m-1),d.lineString([s[A][R][m],s[A][R][m+1]],L,g)}throw new Error("geojson is invalid")}function h(i,g){if(g=g||{},!d.isObject(g))throw new Error("options is invalid");var b=g.featureIndex||0,A=g.multiFeatureIndex||0,R=g.geometryIndex||0,m=g.coordIndex||0,L=g.properties,M;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),L=L||i.features[b].properties,M=i.features[b].geometry;break;case"Feature":L=L||i.properties,M=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=i;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return d.point(s,L,g);case"MultiPoint":return A<0&&(A=s.length+A),d.point(s[A],L,g);case"LineString":return m<0&&(m=s.length+m),d.point(s[m],L,g);case"Polygon":return R<0&&(R=s.length+R),m<0&&(m=s[R].length+m),d.point(s[R][m],L,g);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m),d.point(s[A][m],L,g);case"MultiPolygon":return A<0&&(A=s.length+A),R<0&&(R=s[A].length+R),m<0&&(m=s[A][R].length-m),d.point(s[A][R][m],L,g)}throw new Error("geojson is invalid")}N.coordEach=P,N.coordReduce=n,N.propEach=C,N.propReduce=x,N.featureEach=v,N.featureReduce=p,N.coordAll=r,N.geomEach=t,N.geomReduce=o,N.flattenEach=a,N.flattenReduce=u,N.segmentEach=f,N.segmentReduce=l,N.lineEach=y,N.lineReduce=c,N.findSegment=T,N.findPoint=h},49972:function(U){U.exports=N;function N(e){var d=0,P=0,n=0,C=0;return e.map(function(x){x=x.slice();var v=x[0],p=v.toUpperCase();if(v!=p)switch(x[0]=p,v){case"a":x[6]+=n,x[7]+=C;break;case"v":x[1]+=C;break;case"h":x[1]+=n;break;default:for(var r=1;r<x.length;)x[r++]+=n,x[r++]+=C}switch(p){case"Z":n=d,C=P;break;case"H":n=x[1];break;case"V":C=x[1];break;case"M":n=d=x[1],C=P=x[2];break;default:n=x[x.length-2],C=x[x.length-1]}return x})}},76752:function(U){U.exports=N;function N(e,d){if(!e||e.length==null)throw Error("Argument should be an array");d==null?d=1:d=Math.floor(d);for(var P=Array(d*2),n=0;n<d;n++){for(var C=-1/0,x=1/0,v=n,p=e.length;v<p;v+=d)e[v]>C&&(C=e[v]),e[v]<x&&(x=e[v]);P[n]=x,P[d+n]=C}return P}},10272:function(U){U.exports=function(N,e,d){if(typeof Array.prototype.findIndex=="function")return N.findIndex(e,d);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(N),n=P.length;if(n===0)return-1;for(var C=0;C<n;C++)if(e.call(d,P[C],C,P))return C;return-1}},71152:function(U,N,e){var d=e(76752);U.exports=P;function P(n,C,x){if(!n||n.length==null)throw Error("Argument should be an array");C==null&&(C=1),x==null&&(x=d(n,C));for(var v=0;v<C;v++){var p=x[C+v],r=x[v],t=v,o=n.length;if(p===1/0&&r===-1/0)for(t=v;t<o;t+=C)n[t]=n[t]===p?1:n[t]===r?0:.5;else if(p===1/0)for(t=v;t<o;t+=C)n[t]=n[t]===p?1:0;else if(r===-1/0)for(t=v;t<o;t+=C)n[t]=n[t]===r?0:1;else{var a=p-r;for(t=v;t<o;t+=C)isNaN(n[t])||(n[t]=a===0?.5:(n[t]-r)/a)}}return n}},67752:function(U){U.exports=function(e,d){var P=typeof e=="number",n=typeof d=="number";P&&!n?(d=e,e=0):!P&&!n&&(e=0,d=0),e=e|0,d=d|0;var C=d-e;if(C<0)throw new Error("array length must be positive");for(var x=new Array(C),v=0,p=e;v<C;v++,p++)x[v]=p;return x}},45408:function(U,N,e){var d=e(4168);function P(Q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ae){return typeof ae}:P=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},P(Q)}function n(Q,te){if(!(Q instanceof te))throw new TypeError("Cannot call a class as a function")}var C=e(86832),x=C.codes,v=x.ERR_AMBIGUOUS_ARGUMENT,p=x.ERR_INVALID_ARG_TYPE,r=x.ERR_INVALID_ARG_VALUE,t=x.ERR_INVALID_RETURN_VALUE,o=x.ERR_MISSING_ARGS,a=e(26144),u=e(35840),f=u.inspect,l=e(35840).types,y=l.isPromise,c=l.isRegExp,T=Object.assign?Object.assign:e(60964).assign,h=Object.is?Object.is:e(39896),i,g;function b(){var Q=e(25116);i=Q.isDeepEqual,g=Q.isDeepStrictEqual}var A=!1,R=U.exports=S,m={};function L(Q){throw Q.message instanceof Error?Q.message:new a(Q)}function M(Q,te,ae,fe,oe){var J=arguments.length,ee;if(J===0)ee="Failed";else if(J===1)ae=Q,Q=void 0;else{if(A===!1){A=!0;var X=d.emitWarning?d.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(fe="!=")}if(ae instanceof Error)throw ae;var q={actual:Q,expected:te,operator:fe===void 0?"fail":fe,stackStartFn:oe||M};ae!==void 0&&(q.message=ae);var le=new a(q);throw ee&&(le.message=ee,le.generatedMessage=!0),le}R.fail=M,R.AssertionError=a;function s(Q,te,ae,fe){if(!ae){var oe=!1;if(te===0)oe=!0,fe="No value argument passed to `assert.ok()`";else if(fe instanceof Error)throw fe;var J=new a({actual:ae,expected:!0,message:fe,operator:"==",stackStartFn:Q});throw J.generatedMessage=oe,J}}function S(){for(var Q=arguments.length,te=new Array(Q),ae=0;ae<Q;ae++)te[ae]=arguments[ae];s.apply(void 0,[S,te.length].concat(te))}R.ok=S,R.equal=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");te!=ae&&L({actual:te,expected:ae,message:fe,operator:"==",stackStartFn:Q})},R.notEqual=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");te==ae&&L({actual:te,expected:ae,message:fe,operator:"!=",stackStartFn:Q})},R.deepEqual=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");i===void 0&&b(),i(te,ae)||L({actual:te,expected:ae,message:fe,operator:"deepEqual",stackStartFn:Q})},R.notDeepEqual=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");i===void 0&&b(),i(te,ae)&&L({actual:te,expected:ae,message:fe,operator:"notDeepEqual",stackStartFn:Q})},R.deepStrictEqual=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");i===void 0&&b(),g(te,ae)||L({actual:te,expected:ae,message:fe,operator:"deepStrictEqual",stackStartFn:Q})},R.notDeepStrictEqual=w;function w(Q,te,ae){if(arguments.length<2)throw new o("actual","expected");i===void 0&&b(),g(Q,te)&&L({actual:Q,expected:te,message:ae,operator:"notDeepStrictEqual",stackStartFn:w})}R.strictEqual=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");h(te,ae)||L({actual:te,expected:ae,message:fe,operator:"strictEqual",stackStartFn:Q})},R.notStrictEqual=function Q(te,ae,fe){if(arguments.length<2)throw new o("actual","expected");h(te,ae)&&L({actual:te,expected:ae,message:fe,operator:"notStrictEqual",stackStartFn:Q})};var _=function Q(te,ae,fe){var oe=this;n(this,Q),ae.forEach(function(J){J in te&&(fe!==void 0&&typeof fe[J]=="string"&&c(te[J])&&te[J].test(fe[J])?oe[J]=fe[J]:oe[J]=te[J])})};function I(Q,te,ae,fe,oe,J){if(!(ae in Q)||!g(Q[ae],te[ae])){if(!fe){var ee=new _(Q,oe),X=new _(te,oe,Q),q=new a({actual:ee,expected:X,operator:"deepStrictEqual",stackStartFn:J});throw q.actual=Q,q.expected=te,q.operator=J.name,q}L({actual:Q,expected:te,message:fe,operator:J.name,stackStartFn:J})}}function H(Q,te,ae,fe){if(typeof te!="function"){if(c(te))return te.test(Q);if(arguments.length===2)throw new p("expected",["Function","RegExp"],te);if(P(Q)!=="object"||Q===null){var oe=new a({actual:Q,expected:te,message:ae,operator:"deepStrictEqual",stackStartFn:fe});throw oe.operator=fe.name,oe}var J=Object.keys(te);if(te instanceof Error)J.push("name","message");else if(J.length===0)throw new r("error",te,"may not be an empty object");return i===void 0&&b(),J.forEach(function(ee){typeof Q[ee]=="string"&&c(te[ee])&&te[ee].test(Q[ee])||I(Q,te,ee,ae,J,fe)}),!0}return te.prototype!==void 0&&Q instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},Q)===!0}function O(Q){if(typeof Q!="function")throw new p("fn","Function",Q);try{Q()}catch(te){return te}return m}function V(Q){return y(Q)||Q!==null&&P(Q)==="object"&&typeof Q.then=="function"&&typeof Q.catch=="function"}function B(Q){return Promise.resolve().then(function(){var te;if(typeof Q=="function"){if(te=Q(),!V(te))throw new t("instance of Promise","promiseFn",te)}else if(V(Q))te=Q;else throw new p("promiseFn",["Function","Promise"],Q);return Promise.resolve().then(function(){return te}).then(function(){return m}).catch(function(ae){return ae})})}function F(Q,te,ae,fe){if(typeof ae=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ae);if(P(te)==="object"&&te!==null){if(te.message===ae)throw new v("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ae)throw new v("error/message",'The error "'.concat(te,'" is identical to the message.'));fe=ae,ae=void 0}else if(ae!=null&&P(ae)!=="object"&&typeof ae!="function")throw new p("error",["Object","Error","Function","RegExp"],ae);if(te===m){var oe="";ae&&ae.name&&(oe+=" (".concat(ae.name,")")),oe+=fe?": ".concat(fe):".";var J=Q.name==="rejects"?"rejection":"exception";L({actual:void 0,expected:ae,operator:Q.name,message:"Missing expected ".concat(J).concat(oe),stackStartFn:Q})}if(ae&&!H(te,ae,fe,Q))throw te}function G(Q,te,ae,fe){if(te!==m){if(typeof ae=="string"&&(fe=ae,ae=void 0),!ae||H(te,ae)){var oe=fe?": ".concat(fe):".",J=Q.name==="doesNotReject"?"rejection":"exception";L({actual:te,expected:ae,operator:Q.name,message:"Got unwanted ".concat(J).concat(oe,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:Q})}throw te}}R.throws=function Q(te){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)fe[oe-1]=arguments[oe];F.apply(void 0,[Q,O(te)].concat(fe))},R.rejects=function Q(te){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)fe[oe-1]=arguments[oe];return B(te).then(function(J){return F.apply(void 0,[Q,J].concat(fe))})},R.doesNotThrow=function Q(te){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)fe[oe-1]=arguments[oe];G.apply(void 0,[Q,O(te)].concat(fe))},R.doesNotReject=function Q(te){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)fe[oe-1]=arguments[oe];return B(te).then(function(J){return G.apply(void 0,[Q,J].concat(fe))})},R.ifError=function Q(te){if(te!=null){var ae="ifError got unwanted exception: ";P(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ae+=te.constructor.name:ae+=te.message:ae+=f(te);var fe=new a({actual:te,expected:null,operator:"ifError",message:ae,stackStartFn:Q}),oe=te.stack;if(typeof oe=="string"){var J=oe.split(`
`);J.shift();for(var ee=fe.stack.split(`
`),X=0;X<J.length;X++){var q=ee.indexOf(J[X]);if(q!==-1){ee=ee.slice(0,q);break}}fe.stack="".concat(ee.join(`
`),`
`).concat(J.join(`
`))}throw fe}};function Y(){for(var Q=arguments.length,te=new Array(Q),ae=0;ae<Q;ae++)te[ae]=arguments[ae];s.apply(void 0,[Y,te.length].concat(te))}R.strict=T(Y,R,{equal:R.strictEqual,deepEqual:R.deepStrictEqual,notEqual:R.notStrictEqual,notDeepEqual:R.notDeepStrictEqual}),R.strict.strict=R.strict},26144:function(U,N,e){var d=e(4168);function P(O){for(var V=1;V<arguments.length;V++){var B=arguments[V]!=null?arguments[V]:{},F=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(B).filter(function(G){return Object.getOwnPropertyDescriptor(B,G).enumerable}))),F.forEach(function(G){n(O,G,B[G])})}return O}function n(O,V,B){return V in O?Object.defineProperty(O,V,{value:B,enumerable:!0,configurable:!0,writable:!0}):O[V]=B,O}function C(O,V){if(!(O instanceof V))throw new TypeError("Cannot call a class as a function")}function x(O,V){for(var B=0;B<V.length;B++){var F=V[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}function v(O,V,B){return V&&x(O.prototype,V),O}function p(O,V){return V&&(c(V)==="object"||typeof V=="function")?V:r(O)}function r(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function t(O,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(V&&V.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),V&&l(O,V)}function o(O){var V=typeof Map=="function"?new Map:void 0;return o=function(F){if(F===null||!f(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof V<"u"){if(V.has(F))return V.get(F);V.set(F,G)}function G(){return u(F,arguments,y(this).constructor)}return G.prototype=Object.create(F.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),l(G,F)},o(O)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(O,V,B){return a()?u=Reflect.construct:u=function(G,Y,Q){var te=[null];te.push.apply(te,Y);var ae=Function.bind.apply(G,te),fe=new ae;return Q&&l(fe,Q.prototype),fe},u.apply(null,arguments)}function f(O){return Function.toString.call(O).indexOf("[native code]")!==-1}function l(O,V){return l=Object.setPrototypeOf||function(F,G){return F.__proto__=G,F},l(O,V)}function y(O){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},y(O)}function c(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(B){return typeof B}:c=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(O)}var T=e(35840),h=T.inspect,i=e(86832),g=i.codes.ERR_INVALID_ARG_TYPE;function b(O,V,B){return(B===void 0||B>O.length)&&(B=O.length),O.substring(B-V.length,B)===V}function A(O,V){if(V=Math.floor(V),O.length==0||V==0)return"";var B=O.length*V;for(V=Math.floor(Math.log(V)/Math.log(2));V;)O+=O,V--;return O+=O.substring(0,B-O.length),O}var R="",m="",L="",M="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},S=10;function w(O){var V=Object.keys(O),B=Object.create(Object.getPrototypeOf(O));return V.forEach(function(F){B[F]=O[F]}),Object.defineProperty(B,"message",{value:O.message}),B}function _(O){return h(O,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(O,V,B){var F="",G="",Y=0,Q="",te=!1,ae=_(O),fe=ae.split(`
`),oe=_(V).split(`
`),J=0,ee="";if(B==="strictEqual"&&c(O)==="object"&&c(V)==="object"&&O!==null&&V!==null&&(B="strictEqualObject"),fe.length===1&&oe.length===1&&fe[0]!==oe[0]){var X=fe[0].length+oe[0].length;if(X<=S){if((c(O)!=="object"||O===null)&&(c(V)!=="object"||V===null)&&(O!==0||V!==0))return"".concat(s[B],`

`)+"".concat(fe[0]," !== ").concat(oe[0],`
`)}else if(B!=="strictEqualObject"){var q=d.stderr&&d.stderr.isTTY?d.stderr.columns:80;if(X<q){for(;fe[0][J]===oe[0][J];)J++;J>2&&(ee=`
  `.concat(A(" ",J),"^"),J=0)}}}for(var le=fe[fe.length-1],$=oe[oe.length-1];le===$&&(J++<2?Q=`
  `.concat(le).concat(Q):F=le,fe.pop(),oe.pop(),!(fe.length===0||oe.length===0));)le=fe[fe.length-1],$=oe[oe.length-1];var j=Math.max(fe.length,oe.length);if(j===0){var se=ae.split(`
`);if(se.length>30)for(se[26]="".concat(R,"...").concat(M);se.length>27;)se.pop();return"".concat(s.notIdentical,`

`).concat(se.join(`
`),`
`)}J>3&&(Q=`
`.concat(R,"...").concat(M).concat(Q),te=!0),F!==""&&(Q=`
  `.concat(F).concat(Q),F="");var ne=0,he=s[B]+`
`.concat(m,"+ actual").concat(M," ").concat(L,"- expected").concat(M),me=" ".concat(R,"...").concat(M," Lines skipped");for(J=0;J<j;J++){var we=J-Y;if(fe.length<J+1)we>1&&J>2&&(we>4?(G+=`
`.concat(R,"...").concat(M),te=!0):we>3&&(G+=`
  `.concat(oe[J-2]),ne++),G+=`
  `.concat(oe[J-1]),ne++),Y=J,F+=`
`.concat(L,"-").concat(M," ").concat(oe[J]),ne++;else if(oe.length<J+1)we>1&&J>2&&(we>4?(G+=`
`.concat(R,"...").concat(M),te=!0):we>3&&(G+=`
  `.concat(fe[J-2]),ne++),G+=`
  `.concat(fe[J-1]),ne++),Y=J,G+=`
`.concat(m,"+").concat(M," ").concat(fe[J]),ne++;else{var Te=oe[J],Le=fe[J],Ie=Le!==Te&&(!b(Le,",")||Le.slice(0,-1)!==Te);Ie&&b(Te,",")&&Te.slice(0,-1)===Le&&(Ie=!1,Le+=","),Ie?(we>1&&J>2&&(we>4?(G+=`
`.concat(R,"...").concat(M),te=!0):we>3&&(G+=`
  `.concat(fe[J-2]),ne++),G+=`
  `.concat(fe[J-1]),ne++),Y=J,G+=`
`.concat(m,"+").concat(M," ").concat(Le),F+=`
`.concat(L,"-").concat(M," ").concat(Te),ne+=2):(G+=F,F="",(we===1||J===0)&&(G+=`
  `.concat(Le),ne++))}if(ne>20&&J<j-2)return"".concat(he).concat(me,`
`).concat(G,`
`).concat(R,"...").concat(M).concat(F,`
`)+"".concat(R,"...").concat(M)}return"".concat(he).concat(te?me:"",`
`).concat(G).concat(F).concat(Q).concat(ee)}var H=function(O){t(V,O);function V(B){var F;if(C(this,V),c(B)!=="object"||B===null)throw new g("options","Object",B);var G=B.message,Y=B.operator,Q=B.stackStartFn,te=B.actual,ae=B.expected,fe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)F=p(this,y(V).call(this,String(G)));else if(d.stderr&&d.stderr.isTTY&&(d.stderr&&d.stderr.getColorDepth&&d.stderr.getColorDepth()!==1?(R="\x1B[34m",m="\x1B[32m",M="\x1B[39m",L="\x1B[31m"):(R="",m="",M="",L="")),c(te)==="object"&&te!==null&&c(ae)==="object"&&ae!==null&&"stack"in te&&te instanceof Error&&"stack"in ae&&ae instanceof Error&&(te=w(te),ae=w(ae)),Y==="deepStrictEqual"||Y==="strictEqual")F=p(this,y(V).call(this,I(te,ae,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var oe=s[Y],J=_(te).split(`
`);if(Y==="notStrictEqual"&&c(te)==="object"&&te!==null&&(oe=s.notStrictEqualObject),J.length>30)for(J[26]="".concat(R,"...").concat(M);J.length>27;)J.pop();J.length===1?F=p(this,y(V).call(this,"".concat(oe," ").concat(J[0]))):F=p(this,y(V).call(this,"".concat(oe,`

`).concat(J.join(`
`),`
`)))}else{var ee=_(te),X="",q=s[Y];Y==="notDeepEqual"||Y==="notEqual"?(ee="".concat(s[Y],`

`).concat(ee),ee.length>1024&&(ee="".concat(ee.slice(0,1021),"..."))):(X="".concat(_(ae)),ee.length>512&&(ee="".concat(ee.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?ee="".concat(q,`

`).concat(ee,`

should equal

`):X=" ".concat(Y," ").concat(X)),F=p(this,y(V).call(this,"".concat(ee).concat(X)))}return Error.stackTraceLimit=fe,F.generatedMessage=!G,Object.defineProperty(r(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=te,F.expected=ae,F.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(r(F),Q),F.stack,F.name="AssertionError",p(F)}return v(V,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(F,G){return h(this,P({},G,{customInspect:!1,depth:0}))}}]),V}(o(Error));U.exports=H},86832:function(U,N,e){function d(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(h){return typeof h}:d=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},d(c)}function P(c,T){if(!(c instanceof T))throw new TypeError("Cannot call a class as a function")}function n(c,T){return T&&(d(T)==="object"||typeof T=="function")?T:C(c)}function C(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function x(c){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},x(c)}function v(c,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(T&&T.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),T&&p(c,T)}function p(c,T){return p=Object.setPrototypeOf||function(i,g){return i.__proto__=g,i},p(c,T)}var r={},t,o;function a(c,T,h){h||(h=Error);function i(b,A,R){return typeof T=="string"?T:T(b,A,R)}var g=function(b){v(A,b);function A(R,m,L){var M;return P(this,A),M=n(this,x(A).call(this,i(R,m,L))),M.code=c,M}return A}(h);r[c]=g}function u(c,T){if(Array.isArray(c)){var h=c.length;return c=c.map(function(i){return String(i)}),h>2?"one of ".concat(T," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(T," ").concat(c[0]," or ").concat(c[1]):"of ".concat(T," ").concat(c[0])}else return"of ".concat(T," ").concat(String(c))}function f(c,T,h){return c.substr(0,T.length)===T}function l(c,T,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-T.length,h)===T}function y(c,T,h){return typeof h!="number"&&(h=0),h+T.length>c.length?!1:c.indexOf(T,h)!==-1}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(c,T,h){t===void 0&&(t=e(45408)),t(typeof c=="string","'name' must be a string");var i;typeof T=="string"&&f(T,"not ")?(i="must not be",T=T.replace(/^not /,"")):i="must be";var g;if(l(c," argument"))g="The ".concat(c," ").concat(i," ").concat(u(T,"type"));else{var b=y(c,".")?"property":"argument";g='The "'.concat(c,'" ').concat(b," ").concat(i," ").concat(u(T,"type"))}return g+=". Received type ".concat(d(h)),g},TypeError),a("ERR_INVALID_ARG_VALUE",function(c,T){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=e(35840));var i=o.inspect(T);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(i)},TypeError),a("ERR_INVALID_RETURN_VALUE",function(c,T,h){var i;return h&&h.constructor&&h.constructor.name?i="instance of ".concat(h.constructor.name):i="type ".concat(d(h)),"Expected ".concat(c,' to be returned from the "').concat(T,'"')+" function but got ".concat(i,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var c=arguments.length,T=new Array(c),h=0;h<c;h++)T[h]=arguments[h];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var i="The ",g=T.length;switch(T=T.map(function(b){return'"'.concat(b,'"')}),g){case 1:i+="".concat(T[0]," argument");break;case 2:i+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:i+=T.slice(0,g-1).join(", "),i+=", and ".concat(T[g-1]," arguments");break}return"".concat(i," must be specified")},TypeError),U.exports.codes=r},25116:function(U,N,e){function d(ze,Me){return C(ze)||n(ze,Me)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(ze,Me){var _e=[],Ce=!0,Oe=!1,Pe=void 0;try{for(var Ge=ze[Symbol.iterator](),Ze;!(Ce=(Ze=Ge.next()).done)&&(_e.push(Ze.value),!(Me&&_e.length===Me));Ce=!0);}catch(it){Oe=!0,Pe=it}finally{try{!Ce&&Ge.return!=null&&Ge.return()}finally{if(Oe)throw Pe}}return _e}function C(ze){if(Array.isArray(ze))return ze}function x(ze){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(_e){return typeof _e}:x=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},x(ze)}var v=/a/g.flags!==void 0,p=function(Me){var _e=[];return Me.forEach(function(Ce){return _e.push(Ce)}),_e},r=function(Me){var _e=[];return Me.forEach(function(Ce,Oe){return _e.push([Oe,Ce])}),_e},t=Object.is?Object.is:e(39896),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:e(1560);function u(ze){return ze.call.bind(ze)}var f=u(Object.prototype.hasOwnProperty),l=u(Object.prototype.propertyIsEnumerable),y=u(Object.prototype.toString),c=e(35840).types,T=c.isAnyArrayBuffer,h=c.isArrayBufferView,i=c.isDate,g=c.isMap,b=c.isRegExp,A=c.isSet,R=c.isNativeError,m=c.isBoxedPrimitive,L=c.isNumberObject,M=c.isStringObject,s=c.isBooleanObject,S=c.isBigIntObject,w=c.isSymbolObject,_=c.isFloat32Array,I=c.isFloat64Array;function H(ze){if(ze.length===0||ze.length>10)return!0;for(var Me=0;Me<ze.length;Me++){var _e=ze.charCodeAt(Me);if(_e<48||_e>57)return!0}return ze.length===10&&ze>=Math.pow(2,32)}function O(ze){return Object.keys(ze).filter(H).concat(o(ze).filter(Object.prototype.propertyIsEnumerable.bind(ze)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function V(ze,Me){if(ze===Me)return 0;for(var _e=ze.length,Ce=Me.length,Oe=0,Pe=Math.min(_e,Ce);Oe<Pe;++Oe)if(ze[Oe]!==Me[Oe]){_e=ze[Oe],Ce=Me[Oe];break}return _e<Ce?-1:Ce<_e?1:0}var B=!0,F=!1,G=0,Y=1,Q=2,te=3;function ae(ze,Me){return v?ze.source===Me.source&&ze.flags===Me.flags:RegExp.prototype.toString.call(ze)===RegExp.prototype.toString.call(Me)}function fe(ze,Me){if(ze.byteLength!==Me.byteLength)return!1;for(var _e=0;_e<ze.byteLength;_e++)if(ze[_e]!==Me[_e])return!1;return!0}function oe(ze,Me){return ze.byteLength!==Me.byteLength?!1:V(new Uint8Array(ze.buffer,ze.byteOffset,ze.byteLength),new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength))===0}function J(ze,Me){return ze.byteLength===Me.byteLength&&V(new Uint8Array(ze),new Uint8Array(Me))===0}function ee(ze,Me){return L(ze)?L(Me)&&t(Number.prototype.valueOf.call(ze),Number.prototype.valueOf.call(Me)):M(ze)?M(Me)&&String.prototype.valueOf.call(ze)===String.prototype.valueOf.call(Me):s(ze)?s(Me)&&Boolean.prototype.valueOf.call(ze)===Boolean.prototype.valueOf.call(Me):S(ze)?S(Me)&&BigInt.prototype.valueOf.call(ze)===BigInt.prototype.valueOf.call(Me):w(Me)&&Symbol.prototype.valueOf.call(ze)===Symbol.prototype.valueOf.call(Me)}function X(ze,Me,_e,Ce){if(ze===Me)return ze!==0?!0:_e?t(ze,Me):!0;if(_e){if(x(ze)!=="object")return typeof ze=="number"&&a(ze)&&a(Me);if(x(Me)!=="object"||ze===null||Me===null||Object.getPrototypeOf(ze)!==Object.getPrototypeOf(Me))return!1}else{if(ze===null||x(ze)!=="object")return Me===null||x(Me)!=="object"?ze==Me:!1;if(Me===null||x(Me)!=="object")return!1}var Oe=y(ze),Pe=y(Me);if(Oe!==Pe)return!1;if(Array.isArray(ze)){if(ze.length!==Me.length)return!1;var Ge=O(ze),Ze=O(Me);return Ge.length!==Ze.length?!1:le(ze,Me,_e,Ce,Y,Ge)}if(Oe==="[object Object]"&&(!g(ze)&&g(Me)||!A(ze)&&A(Me)))return!1;if(i(ze)){if(!i(Me)||Date.prototype.getTime.call(ze)!==Date.prototype.getTime.call(Me))return!1}else if(b(ze)){if(!b(Me)||!ae(ze,Me))return!1}else if(R(ze)||ze instanceof Error){if(ze.message!==Me.message||ze.name!==Me.name)return!1}else if(h(ze)){if(!_e&&(_(ze)||I(ze))){if(!fe(ze,Me))return!1}else if(!oe(ze,Me))return!1;var it=O(ze),Je=O(Me);return it.length!==Je.length?!1:le(ze,Me,_e,Ce,G,it)}else{if(A(ze))return!A(Me)||ze.size!==Me.size?!1:le(ze,Me,_e,Ce,Q);if(g(ze))return!g(Me)||ze.size!==Me.size?!1:le(ze,Me,_e,Ce,te);if(T(ze)){if(!J(ze,Me))return!1}else if(m(ze)&&!ee(ze,Me))return!1}return le(ze,Me,_e,Ce,G)}function q(ze,Me){return Me.filter(function(_e){return l(ze,_e)})}function le(ze,Me,_e,Ce,Oe,Pe){if(arguments.length===5){Pe=Object.keys(ze);var Ge=Object.keys(Me);if(Pe.length!==Ge.length)return!1}for(var Ze=0;Ze<Pe.length;Ze++)if(!f(Me,Pe[Ze]))return!1;if(_e&&arguments.length===5){var it=o(ze);if(it.length!==0){var Je=0;for(Ze=0;Ze<it.length;Ze++){var et=it[Ze];if(l(ze,et)){if(!l(Me,et))return!1;Pe.push(et),Je++}else if(l(Me,et))return!1}var ft=o(Me);if(it.length!==ft.length&&q(Me,ft).length!==Je)return!1}else{var vt=o(Me);if(vt.length!==0&&q(Me,vt).length!==0)return!1}}if(Pe.length===0&&(Oe===G||Oe===Y&&ze.length===0||ze.size===0))return!0;if(Ce===void 0)Ce={val1:new Map,val2:new Map,position:0};else{var dt=Ce.val1.get(ze);if(dt!==void 0){var xt=Ce.val2.get(Me);if(xt!==void 0)return dt===xt}Ce.position++}Ce.val1.set(ze,Ce.position),Ce.val2.set(Me,Ce.position);var Mt=Te(ze,Me,_e,Pe,Ce,Oe);return Ce.val1.delete(ze),Ce.val2.delete(Me),Mt}function $(ze,Me,_e,Ce){for(var Oe=p(ze),Pe=0;Pe<Oe.length;Pe++){var Ge=Oe[Pe];if(X(Me,Ge,_e,Ce))return ze.delete(Ge),!0}return!1}function j(ze){switch(x(ze)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ze=+ze;case"number":if(a(ze))return!1}return!0}function se(ze,Me,_e){var Ce=j(_e);return Ce??(Me.has(Ce)&&!ze.has(Ce))}function ne(ze,Me,_e,Ce,Oe){var Pe=j(_e);if(Pe!=null)return Pe;var Ge=Me.get(Pe);return Ge===void 0&&!Me.has(Pe)||!X(Ce,Ge,!1,Oe)?!1:!ze.has(Pe)&&X(Ce,Ge,!1,Oe)}function he(ze,Me,_e,Ce){for(var Oe=null,Pe=p(ze),Ge=0;Ge<Pe.length;Ge++){var Ze=Pe[Ge];if(x(Ze)==="object"&&Ze!==null)Oe===null&&(Oe=new Set),Oe.add(Ze);else if(!Me.has(Ze)){if(_e||!se(ze,Me,Ze))return!1;Oe===null&&(Oe=new Set),Oe.add(Ze)}}if(Oe!==null){for(var it=p(Me),Je=0;Je<it.length;Je++){var et=it[Je];if(x(et)==="object"&&et!==null){if(!$(Oe,et,_e,Ce))return!1}else if(!_e&&!ze.has(et)&&!$(Oe,et,_e,Ce))return!1}return Oe.size===0}return!0}function me(ze,Me,_e,Ce,Oe,Pe){for(var Ge=p(ze),Ze=0;Ze<Ge.length;Ze++){var it=Ge[Ze];if(X(_e,it,Oe,Pe)&&X(Ce,Me.get(it),Oe,Pe))return ze.delete(it),!0}return!1}function we(ze,Me,_e,Ce){for(var Oe=null,Pe=r(ze),Ge=0;Ge<Pe.length;Ge++){var Ze=d(Pe[Ge],2),it=Ze[0],Je=Ze[1];if(x(it)==="object"&&it!==null)Oe===null&&(Oe=new Set),Oe.add(it);else{var et=Me.get(it);if(et===void 0&&!Me.has(it)||!X(Je,et,_e,Ce)){if(_e||!ne(ze,Me,it,Je,Ce))return!1;Oe===null&&(Oe=new Set),Oe.add(it)}}}if(Oe!==null){for(var ft=r(Me),vt=0;vt<ft.length;vt++){var dt=d(ft[vt],2),it=dt[0],xt=dt[1];if(x(it)==="object"&&it!==null){if(!me(Oe,ze,it,xt,_e,Ce))return!1}else if(!_e&&(!ze.has(it)||!X(ze.get(it),xt,!1,Ce))&&!me(Oe,ze,it,xt,!1,Ce))return!1}return Oe.size===0}return!0}function Te(ze,Me,_e,Ce,Oe,Pe){var Ge=0;if(Pe===Q){if(!he(ze,Me,_e,Oe))return!1}else if(Pe===te){if(!we(ze,Me,_e,Oe))return!1}else if(Pe===Y)for(;Ge<ze.length;Ge++)if(f(ze,Ge)){if(!f(Me,Ge)||!X(ze[Ge],Me[Ge],_e,Oe))return!1}else{if(f(Me,Ge))return!1;for(var Ze=Object.keys(ze);Ge<Ze.length;Ge++){var it=Ze[Ge];if(!f(Me,it)||!X(ze[it],Me[it],_e,Oe))return!1}return Ze.length===Object.keys(Me).length}for(Ge=0;Ge<Ce.length;Ge++){var Je=Ce[Ge];if(!X(ze[Je],Me[Je],_e,Oe))return!1}return!0}function Le(ze,Me){return X(ze,Me,F)}function Ie(ze,Me){return X(ze,Me,B)}U.exports={isDeepEqual:Le,isDeepStrictEqual:Ie}},83160:function(U,N,e){e.r(N),e.d(N,{decode:function(){return x},encode:function(){return C}});for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<d.length;n++)P[d.charCodeAt(n)]=n;var C=function(v){var p=new Uint8Array(v),r,t=p.length,o="";for(r=0;r<t;r+=3)o+=d[p[r]>>2],o+=d[(p[r]&3)<<4|p[r+1]>>4],o+=d[(p[r+1]&15)<<2|p[r+2]>>6],o+=d[p[r+2]&63];return t%3===2?o=o.substring(0,o.length-1)+"=":t%3===1&&(o=o.substring(0,o.length-2)+"=="),o},x=function(v){var p=v.length*.75,r=v.length,t,o=0,a,u,f,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var y=new ArrayBuffer(p),c=new Uint8Array(y);for(t=0;t<r;t+=4)a=P[v.charCodeAt(t)],u=P[v.charCodeAt(t+1)],f=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],c[o++]=a<<2|u>>4,c[o++]=(u&15)<<4|f>>2,c[o++]=(f&3)<<6|l&63;return y}},59968:function(U,N){N.byteLength=p,N.toByteArray=t,N.fromByteArray=u;for(var e=[],d=[],P=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,x=n.length;C<x;++C)e[C]=n[C],d[n.charCodeAt(C)]=C;d[45]=62,d[95]=63;function v(f){var l=f.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");y===-1&&(y=l);var c=y===l?0:4-y%4;return[y,c]}function p(f){var l=v(f),y=l[0],c=l[1];return(y+c)*3/4-c}function r(f,l,y){return(l+y)*3/4-y}function t(f){var l,y=v(f),c=y[0],T=y[1],h=new P(r(f,c,T)),i=0,g=T>0?c-4:c,b;for(b=0;b<g;b+=4)l=d[f.charCodeAt(b)]<<18|d[f.charCodeAt(b+1)]<<12|d[f.charCodeAt(b+2)]<<6|d[f.charCodeAt(b+3)],h[i++]=l>>16&255,h[i++]=l>>8&255,h[i++]=l&255;return T===2&&(l=d[f.charCodeAt(b)]<<2|d[f.charCodeAt(b+1)]>>4,h[i++]=l&255),T===1&&(l=d[f.charCodeAt(b)]<<10|d[f.charCodeAt(b+1)]<<4|d[f.charCodeAt(b+2)]>>2,h[i++]=l>>8&255,h[i++]=l&255),h}function o(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function a(f,l,y){for(var c,T=[],h=l;h<y;h+=3)c=(f[h]<<16&16711680)+(f[h+1]<<8&65280)+(f[h+2]&255),T.push(o(c));return T.join("")}function u(f){for(var l,y=f.length,c=y%3,T=[],h=16383,i=0,g=y-c;i<g;i+=h)T.push(a(f,i,i+h>g?g:i+h));return c===1?(l=f[y-1],T.push(e[l>>2]+e[l<<4&63]+"==")):c===2&&(l=(f[y-2]<<8)+f[y-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},64928:function(U){function N(x,v,p,r,t){for(var o=t+1;r<=t;){var a=r+t>>>1,u=x[a],f=p!==void 0?p(u,v):u-v;f>=0?(o=a,t=a-1):r=a+1}return o}function e(x,v,p,r,t){for(var o=t+1;r<=t;){var a=r+t>>>1,u=x[a],f=p!==void 0?p(u,v):u-v;f>0?(o=a,t=a-1):r=a+1}return o}function d(x,v,p,r,t){for(var o=r-1;r<=t;){var a=r+t>>>1,u=x[a],f=p!==void 0?p(u,v):u-v;f<0?(o=a,r=a+1):t=a-1}return o}function P(x,v,p,r,t){for(var o=r-1;r<=t;){var a=r+t>>>1,u=x[a],f=p!==void 0?p(u,v):u-v;f<=0?(o=a,r=a+1):t=a-1}return o}function n(x,v,p,r,t){for(;r<=t;){var o=r+t>>>1,a=x[o],u=p!==void 0?p(a,v):a-v;if(u===0)return o;u<=0?r=o+1:t=o-1}return-1}function C(x,v,p,r,t,o){return typeof p=="function"?o(x,v,p,r===void 0?0:r|0,t===void 0?x.length-1:t|0):o(x,v,void 0,p===void 0?0:p|0,r===void 0?x.length-1:r|0)}U.exports={ge:function(x,v,p,r,t){return C(x,v,p,r,t,N)},gt:function(x,v,p,r,t){return C(x,v,p,r,t,e)},lt:function(x,v,p,r,t){return C(x,v,p,r,t,d)},le:function(x,v,p,r,t){return C(x,v,p,r,t,P)},eq:function(x,v,p,r,t){return C(x,v,p,r,t,n)}}},308:function(U,N){"use restrict";var e=32;N.INT_BITS=e,N.INT_MAX=2147483647,N.INT_MIN=-1<<e-1,N.sign=function(n){return(n>0)-(n<0)},N.abs=function(n){var C=n>>e-1;return(n^C)-C},N.min=function(n,C){return C^(n^C)&-(n<C)},N.max=function(n,C){return n^(n^C)&-(n<C)},N.isPow2=function(n){return!(n&n-1)&&!!n},N.log2=function(n){var C,x;return C=(n>65535)<<4,n>>>=C,x=(n>255)<<3,n>>>=x,C|=x,x=(n>15)<<2,n>>>=x,C|=x,x=(n>3)<<1,n>>>=x,C|=x,C|n>>1},N.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},N.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function d(n){var C=32;return n&=-n,n&&C--,n&65535&&(C-=16),n&16711935&&(C-=8),n&252645135&&(C-=4),n&858993459&&(C-=2),n&1431655765&&(C-=1),C}N.countTrailingZeros=d,N.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},N.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},N.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var P=new Array(256);(function(n){for(var C=0;C<256;++C){var x=C,v=C,p=7;for(x>>>=1;x;x>>>=1)v<<=1,v|=x&1,--p;n[C]=v<<p&255}})(P),N.reverse=function(n){return P[n&255]<<24|P[n>>>8&255]<<16|P[n>>>16&255]<<8|P[n>>>24&255]},N.interleave2=function(n,C){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,n|C<<1},N.deinterleave2=function(n,C){return n=n>>>C&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},N.interleave3=function(n,C,x){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,n|=C<<1,x&=1023,x=(x|x<<16)&4278190335,x=(x|x<<8)&251719695,x=(x|x<<4)&3272356035,x=(x|x<<2)&1227133513,n|x<<2},N.deinterleave3=function(n,C){return n=n>>>C&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},N.nextCombination=function(n){var C=n|n-1;return C+1|(~C&-~C)-1>>>d(n)+1}},29620:function(U,N,e){var d=e(32420);U.exports=n;var P=1e20;function n(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,o=p.channel||0,a,u,f,l,y,c,T,h,i,g,b;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");a=p.width,u=p.height,l=v,p.stride?c=p.stride:c=Math.floor(v.length/a/u)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,T=h.getContext("2d"),a=h.width,u=h.height,i=T.getImageData(0,0,a,u),l=i.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,T=v,a=h.width,u=h.height,i=T.getImageData(0,0,a,u),l=i.data,c=4):window.ImageData&&v instanceof window.ImageData&&(i=v,a=v.width,u=v.height,l=i.data,c=4);if(f=Math.max(a,u),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(y=l,l=Array(a*u),g=0,b=y.length;g<b;g++)l[g]=y[g*c+o]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(a*u),R=Array(a*u),m=Array(f),L=Array(f),M=Array(f+1),s=Array(f);for(g=0,b=a*u;g<b;g++){var S=l[g];A[g]=S===1?0:S===0?P:Math.pow(Math.max(0,.5-S),2),R[g]=S===1?P:S===0?0:Math.pow(Math.max(0,S-.5),2)}C(A,a,u,m,L,s,M),C(R,a,u,m,L,s,M);var w=window.Float32Array?new Float32Array(a*u):new Array(a*u);for(g=0,b=a*u;g<b;g++)w[g]=d(1-((A[g]-R[g])/t+r),0,1);return w}function C(v,p,r,t,o,a,u){for(var f=0;f<p;f++){for(var l=0;l<r;l++)t[l]=v[l*p+f];for(x(t,o,a,u,r),l=0;l<r;l++)v[l*p+f]=o[l]}for(l=0;l<r;l++){for(f=0;f<p;f++)t[f]=v[l*p+f];for(x(t,o,a,u,p),f=0;f<p;f++)v[l*p+f]=Math.sqrt(o[f])}}function x(v,p,r,t,o){r[0]=0,t[0]=-P,t[1]=+P;for(var a=1,u=0;a<o;a++){for(var f=(v[a]+a*a-(v[r[u]]+r[u]*r[u]))/(2*a-2*r[u]);f<=t[u];)u--,f=(v[a]+a*a-(v[r[u]]+r[u]*r[u]))/(2*a-2*r[u]);u++,r[u]=a,t[u]=f,t[u+1]=+P}for(a=0,u=0;a<o;a++){for(;t[u+1]<a;)u++;p[a]=(a-r[u])*(a-r[u])+v[r[u]]}}},99676:function(U,N,e){var d=e(53664),P=e(57916),n=P(d("String.prototype.indexOf"));U.exports=function(x,v){var p=d(x,!!v);return typeof p=="function"&&n(x,".prototype.")>-1?P(p):p}},57916:function(U,N,e){var d=e(8844),P=e(53664),n=e(14500),C=P("%TypeError%"),x=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||d.call(v,x),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}U.exports=function(u){if(typeof u!="function")throw new C("a function is required");var f=p(d,v,arguments);return n(f,1+t(0,u.length-(arguments.length-1)),!0)};var o=function(){return p(d,x,arguments)};r?r(U.exports,"apply",{value:o}):U.exports.apply=o},32420:function(U){U.exports=N;function N(e,d,P){return d<P?e<d?d:e>P?P:e:e<P?P:e>d?d:e}},3808:function(U,N,e){var d=e(32420);U.exports=P,U.exports.to=P,U.exports.from=n;function P(C,x){x==null&&(x=!0);var v=C[0],p=C[1],r=C[2],t=C[3];t==null&&(t=x?1:255),x&&(v*=255,p*=255,r*=255,t*=255),v=d(v,0,255)&255,p=d(p,0,255)&255,r=d(r,0,255)&255,t=d(t,0,255)&255;var o=v*16777216+(p<<16)+(r<<8)+t;return o}function n(C,x){C=+C;var v=C>>>24,p=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return x===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(U){U.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(U,N,e){var d=e(96824),P=e(32420),n=e(72512);U.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=n(p),t=new r(4),o=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=d(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,o&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(o?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function C(x){return!!(x instanceof Uint8Array||x instanceof Uint8ClampedArray||Array.isArray(x)&&(x[0]>1||x[0]===0)&&(x[1]>1||x[1]===0)&&(x[2]>1||x[2]===0)&&(!x[3]||x[3]>1))}},96824:function(U,N,e){var d=e(95532),P=e(53576),n=e(32420);U.exports=function(x){var v,p=d(x);return p.space?(v=Array(3),v[0]=n(p.values[0],0,255),v[1]=n(p.values[1],0,255),v[2]=n(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(n(p.alpha,0,1)),v):[]}},95532:function(U,N,e){var d=e(17592);U.exports=n;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function n(C){var x,v=[],p=1,r;if(typeof C=="string")if(C=C.toLowerCase(),d[C])v=d[C].slice(),r="rgb";else if(C==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(C)){var t=C.slice(1),o=t.length,a=o<=4;p=1,a?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],o===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],o===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(x=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(C)){var u=x[1],f=u==="rgb",t=u.replace(/a$/,"");r=t;var o=t==="cmyk"?4:t==="gray"?1:3;v=x[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(c,T){if(/%$/.test(c))return T===o?parseFloat(c)/100:t==="rgb"?parseFloat(c)*255/100:parseFloat(c);if(t[T]==="h"){if(/deg$/.test(c))return parseFloat(c);if(P[c]!==void 0)return P[c]}return parseFloat(c)}),u===t&&v.push(1),p=f||v[o]===void 0?1:v[o],v=v.slice(0,o)}else C.length>10&&/[0-9](?:\s|\/)/.test(C)&&(v=C.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=C.match(/([a-z])/ig).join("").toLowerCase());else isNaN(C)?Array.isArray(C)||C.length?(v=[C[0],C[1],C[2]],r="rgb",p=C.length===4?C[3]:1):C instanceof Object&&(C.r!=null||C.red!=null||C.R!=null?(r="rgb",v=[C.r||C.red||C.R||0,C.g||C.green||C.G||0,C.b||C.blue||C.B||0]):(r="hsl",v=[C.h||C.hue||C.H||0,C.s||C.saturation||C.S||0,C.l||C.lightness||C.L||C.b||C.brightness]),p=C.a||C.alpha||C.opacity||1,C.opacity!=null&&(p/=100)):(r="rgb",v=[C>>>16,(C&65280)>>>8,C&255]);return{space:r,values:v,alpha:p}}},53576:function(U,N,e){var d=e(19336);U.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var n=P[0]/360,C=P[1]/100,x=P[2]/100,v,p,r,t,o;if(C===0)return o=x*255,[o,o,o];x<.5?p=x*(1+C):p=x+C-x*C,v=2*x-p,t=[0,0,0];for(var a=0;a<3;a++)r=n+.3333333333333333*-(a-1),r<0?r++:r>1&&r--,6*r<1?o=v+(p-v)*6*r:2*r<1?o=p:3*r<2?o=v+(p-v)*(.6666666666666666-r)*6:o=v,t[a]=o*255;return t}},d.hsl=function(P){var n=P[0]/255,C=P[1]/255,x=P[2]/255,v=Math.min(n,C,x),p=Math.max(n,C,x),r=p-v,t,o,a;return p===v?t=0:n===p?t=(C-x)/r:C===p?t=2+(x-n)/r:x===p&&(t=4+(n-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),a=(v+p)/2,p===v?o=0:a<=.5?o=r/(p+v):o=r/(2-p-v),[t,o*100,a*100]}},19336:function(U){U.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(U){U.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(U,N,e){U.exports={parse:e(46416),stringify:e(49395)}},8744:function(U,N,e){var d=e(30584);U.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||d.indexOf(n)!==-1}}},46416:function(U,N,e){var d=e(92384),P=e(68194),n=e(3748),C=e(2904),x=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;U.exports=o;var t=o.cache={};function o(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(t[u])return t[u];if(u==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(u)!==-1)return t[u]={system:u};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(u,/\s+/),y;y=l.shift();){if(P.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(T){f[T]=y}),t[u]=f;if(x.indexOf(y)!==-1){f.style=y;continue}if(y==="normal"||y==="small-caps"){f.variant=y;continue}if(v.indexOf(y)!==-1){f.stretch=y;continue}if(C.indexOf(y)!==-1){f.weight=y;continue}if(r(y)){var c=p(y,"/");if(f.size=c[0],c[1]!=null?f.lineHeight=a(c[1]):l[0]==="/"&&(l.shift(),f.lineHeight=a(l.shift())),!l.length)throw new Error("Missing required font-family.");return f.family=p(l.join(" "),/\s*,\s*/).map(d),t[u]=f}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function a(u){var f=parseFloat(u);return f.toString()===u?f:u}},49395:function(U,N,e){var d=e(55616),P=e(8744).isSize,n=u(e(68194)),C=u(e(3748)),x=u(e(2904)),v=u(e(47916)),p=u(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};U.exports=function(l){if(l=d(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&a(l.system,C),l.system;if(a(l.style,v),a(l.variant,r),a(l.weight,x),a(l.stretch,p),l.size==null&&(l.size=o.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=o.family),Array.isArray(l.family)&&(l.family.length||(l.family=[o.family]),l.family=l.family.map(function(c){return t[c]?c:'"'+c+'"'}).join(", "));var y=[];return y.push(l.style),l.variant!==l.style&&y.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&y.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&y.push(l.stretch),y.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),y.push(l.family),y.filter(Boolean).join(" ")};function a(f,l){if(f&&!l[f]&&!n[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var l={},y=0;y<f.length;y++)l[f[y]]=1;return l}},27940:function(U,N,e){var d=e(81680),P=e(18496),n=e(87396),C=e(95920),x=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,o;o=function(a,u,f){var l=P(u)&&n(u.value),y;return y=C(u),delete y.writable,delete y.value,y.get=function(){return!f.overwriteDefinition&&t.call(this,a)?l:(u.value=p.call(l,f.resolveContext?f.resolveContext(this):this),r(this,a,u),this[a])},y},U.exports=function(a){var u=x(arguments[1]);return d(u.resolveContext)&&n(u.resolveContext),v(a,function(f,l){return o(l,f,u)})}},21092:function(U,N,e){var d=e(81680),P=e(85488),n=e(38452),C=e(50868),x=e(71056),v=U.exports=function(p,r){var t,o,a,u,f;return arguments.length<2||typeof p!="string"?(u=r,r=p,p=null):u=arguments[2],d(p)?(t=x.call(p,"c"),o=x.call(p,"e"),a=x.call(p,"w")):(t=a=!0,o=!1),f={value:r,configurable:t,enumerable:o,writable:a},u?n(C(u),f):f};v.gs=function(p,r,t){var o,a,u,f;return typeof p!="string"?(u=t,t=r,r=p,p=null):u=arguments[3],d(r)?P(r)?d(t)?P(t)||(u=t,t=void 0):t=void 0:(u=r,r=t=void 0):r=void 0,d(p)?(o=x.call(p,"c"),a=x.call(p,"e")):(o=!0,a=!1),f={get:r,set:t,configurable:o,enumerable:a},u?n(C(u),f):f}},84706:function(U,N,e){e.d(N,{XE:function(){return d},kv:function(){return C},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return o}});function d(a,u){return a<u?-1:a>u?1:a>=u?0:NaN}function P(a){return a.length===1&&(a=n(a)),{left:function(u,f,l,y){for(l==null&&(l=0),y==null&&(y=u.length);l<y;){var c=l+y>>>1;a(u[c],f)<0?l=c+1:y=c}return l},right:function(u,f,l,y){for(l==null&&(l=0),y==null&&(y=u.length);l<y;){var c=l+y>>>1;a(u[c],f)>0?y=c:l=c+1}return l}}}function n(a){return function(u,f){return d(a(u),f)}}P(d);function C(a,u){var f=a.length,l=-1,y,c;if(u==null){for(;++l<f;)if((y=a[l])!=null&&y>=y)for(c=y;++l<f;)(y=a[l])!=null&&y>c&&(c=y)}else for(;++l<f;)if((y=u(a[l],l,a))!=null&&y>=y)for(c=y;++l<f;)(y=u(a[l],l,a))!=null&&y>c&&(c=y);return c}function x(a){return a===null?NaN:+a}function v(a,u){var f=a.length,l=f,y=-1,c,T=0;if(u==null)for(;++y<f;)isNaN(c=x(a[y]))?--l:T+=c;else for(;++y<f;)isNaN(c=x(u(a[y],y,a)))?--l:T+=c;if(l)return T/l}function p(a){for(var u=a.length,f,l=-1,y=0,c,T;++l<u;)y+=a[l].length;for(c=new Array(y);--u>=0;)for(T=a[u],f=T.length;--f>=0;)c[--y]=T[f];return c}function r(a,u){var f=a.length,l=-1,y,c;if(u==null){for(;++l<f;)if((y=a[l])!=null&&y>=y)for(c=y;++l<f;)(y=a[l])!=null&&c>y&&(c=y)}else for(;++l<f;)if((y=u(a[l],l,a))!=null&&y>=y)for(c=y;++l<f;)(y=u(a[l],l,a))!=null&&c>y&&(c=y);return c}function t(a,u,f){a=+a,u=+u,f=(y=arguments.length)<2?(u=a,a=0,1):y<3?1:+f;for(var l=-1,y=Math.max(0,Math.ceil((u-a)/f))|0,c=new Array(y);++l<y;)c[l]=a+l*f;return c}function o(a,u){var f=a.length,l=-1,y,c=0;if(u==null)for(;++l<f;)(y=+a[l])&&(c+=y);else for(;++l<f;)(y=+u(a[l],l,a))&&(c+=y);return c}},34712:function(U,N,e){e.d(N,{kH:function(){return C},UJ:function(){return x}});var d="$";function P(){}P.prototype=n.prototype={constructor:P,has:function(u){return d+u in this},get:function(u){return this[d+u]},set:function(u,f){return this[d+u]=f,this},remove:function(u){var f=d+u;return f in this&&delete this[f]},clear:function(){for(var u in this)u[0]===d&&delete this[u]},keys:function(){var u=[];for(var f in this)f[0]===d&&u.push(f.slice(1));return u},values:function(){var u=[];for(var f in this)f[0]===d&&u.push(this[f]);return u},entries:function(){var u=[];for(var f in this)f[0]===d&&u.push({key:f.slice(1),value:this[f]});return u},size:function(){var u=0;for(var f in this)f[0]===d&&++u;return u},empty:function(){for(var u in this)if(u[0]===d)return!1;return!0},each:function(u){for(var f in this)f[0]===d&&u(this[f],f.slice(1),this)}};function n(u,f){var l=new P;if(u instanceof P)u.each(function(i,g){l.set(g,i)});else if(Array.isArray(u)){var y=-1,c=u.length,T;if(f==null)for(;++y<c;)l.set(y,u[y]);else for(;++y<c;)l.set(f(T=u[y],y,u),T)}else if(u)for(var h in u)l.set(h,u[h]);return l}var C=n;function x(){var u=[],f=[],l,y,c;function T(i,g,b,A){if(g>=u.length)return l!=null&&i.sort(l),y!=null?y(i):i;for(var R=-1,m=i.length,L=u[g++],M,s,S=C(),w,_=b();++R<m;)(w=S.get(M=L(s=i[R])+""))?w.push(s):S.set(M,[s]);return S.each(function(I,H){A(_,H,T(I,g,b,A))}),_}function h(i,g){if(++g>u.length)return i;var b,A=f[g-1];return y!=null&&g>=u.length?b=i.entries():(b=[],i.each(function(R,m){b.push({key:m,values:h(R,g)})})),A!=null?b.sort(function(R,m){return A(R.key,m.key)}):b}return c={object:function(i){return T(i,0,v,p)},map:function(i){return T(i,0,r,t)},entries:function(i){return h(T(i,0,r,t),0)},key:function(i){return u.push(i),c},sortKeys:function(i){return f[u.length-1]=i,c},sortValues:function(i){return l=i,c},rollup:function(i){return y=i,c}}}function v(){return{}}function p(u,f,l){u[f]=l}function r(){return C()}function t(u,f,l){u.set(f,l)}function o(){}var a=C.prototype;o.prototype={constructor:o,has:a.has,add:function(u){return u+="",this[d+u]=u,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49812:function(U,N,e){e.r(N),e.d(N,{forceCenter:function(){return d},forceCollide:function(){return S},forceLink:function(){return H},forceManyBody:function(){return Ge},forceRadial:function(){return Ze},forceSimulation:function(){return Pe},forceX:function(){return it},forceY:function(){return Je}});function d(et,ft){var vt;et==null&&(et=0),ft==null&&(ft=0);function dt(){var xt,Mt=vt.length,nt,Fe=0,We=0;for(xt=0;xt<Mt;++xt)nt=vt[xt],Fe+=nt.x,We+=nt.y;for(Fe=Fe/Mt-et,We=We/Mt-ft,xt=0;xt<Mt;++xt)nt=vt[xt],nt.x-=Fe,nt.y-=We}return dt.initialize=function(xt){vt=xt},dt.x=function(xt){return arguments.length?(et=+xt,dt):et},dt.y=function(xt){return arguments.length?(ft=+xt,dt):ft},dt}function P(et){return function(){return et}}function n(){return(Math.random()-.5)*1e-6}function C(et){var ft=+this._x.call(null,et),vt=+this._y.call(null,et);return x(this.cover(ft,vt),ft,vt,et)}function x(et,ft,vt,dt){if(isNaN(ft)||isNaN(vt))return et;var xt,Mt=et._root,nt={data:dt},Fe=et._x0,We=et._y0,je=et._x1,Ke=et._y1,ke,Ue,Ve,Re,de,be,Ne,Ye;if(!Mt)return et._root=nt,et;for(;Mt.length;)if((de=ft>=(ke=(Fe+je)/2))?Fe=ke:je=ke,(be=vt>=(Ue=(We+Ke)/2))?We=Ue:Ke=Ue,xt=Mt,!(Mt=Mt[Ne=be<<1|de]))return xt[Ne]=nt,et;if(Ve=+et._x.call(null,Mt.data),Re=+et._y.call(null,Mt.data),ft===Ve&&vt===Re)return nt.next=Mt,xt?xt[Ne]=nt:et._root=nt,et;do xt=xt?xt[Ne]=new Array(4):et._root=new Array(4),(de=ft>=(ke=(Fe+je)/2))?Fe=ke:je=ke,(be=vt>=(Ue=(We+Ke)/2))?We=Ue:Ke=Ue;while((Ne=be<<1|de)===(Ye=(Re>=Ue)<<1|Ve>=ke));return xt[Ye]=Mt,xt[Ne]=nt,et}function v(et){var ft,vt,dt=et.length,xt,Mt,nt=new Array(dt),Fe=new Array(dt),We=1/0,je=1/0,Ke=-1/0,ke=-1/0;for(vt=0;vt<dt;++vt)isNaN(xt=+this._x.call(null,ft=et[vt]))||isNaN(Mt=+this._y.call(null,ft))||(nt[vt]=xt,Fe[vt]=Mt,xt<We&&(We=xt),xt>Ke&&(Ke=xt),Mt<je&&(je=Mt),Mt>ke&&(ke=Mt));if(We>Ke||je>ke)return this;for(this.cover(We,je).cover(Ke,ke),vt=0;vt<dt;++vt)x(this,nt[vt],Fe[vt],et[vt]);return this}function p(et,ft){if(isNaN(et=+et)||isNaN(ft=+ft))return this;var vt=this._x0,dt=this._y0,xt=this._x1,Mt=this._y1;if(isNaN(vt))xt=(vt=Math.floor(et))+1,Mt=(dt=Math.floor(ft))+1;else{for(var nt=xt-vt,Fe=this._root,We,je;vt>et||et>=xt||dt>ft||ft>=Mt;)switch(je=(ft<dt)<<1|et<vt,We=new Array(4),We[je]=Fe,Fe=We,nt*=2,je){case 0:xt=vt+nt,Mt=dt+nt;break;case 1:vt=xt-nt,Mt=dt+nt;break;case 2:xt=vt+nt,dt=Mt-nt;break;case 3:vt=xt-nt,dt=Mt-nt;break}this._root&&this._root.length&&(this._root=Fe)}return this._x0=vt,this._y0=dt,this._x1=xt,this._y1=Mt,this}function r(){var et=[];return this.visit(function(ft){if(!ft.length)do et.push(ft.data);while(ft=ft.next)}),et}function t(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function o(et,ft,vt,dt,xt){this.node=et,this.x0=ft,this.y0=vt,this.x1=dt,this.y1=xt}function a(et,ft,vt){var dt,xt=this._x0,Mt=this._y0,nt,Fe,We,je,Ke=this._x1,ke=this._y1,Ue=[],Ve=this._root,Re,de;for(Ve&&Ue.push(new o(Ve,xt,Mt,Ke,ke)),vt==null?vt=1/0:(xt=et-vt,Mt=ft-vt,Ke=et+vt,ke=ft+vt,vt*=vt);Re=Ue.pop();)if(!(!(Ve=Re.node)||(nt=Re.x0)>Ke||(Fe=Re.y0)>ke||(We=Re.x1)<xt||(je=Re.y1)<Mt))if(Ve.length){var be=(nt+We)/2,Ne=(Fe+je)/2;Ue.push(new o(Ve[3],be,Ne,We,je),new o(Ve[2],nt,Ne,be,je),new o(Ve[1],be,Fe,We,Ne),new o(Ve[0],nt,Fe,be,Ne)),(de=(ft>=Ne)<<1|et>=be)&&(Re=Ue[Ue.length-1],Ue[Ue.length-1]=Ue[Ue.length-1-de],Ue[Ue.length-1-de]=Re)}else{var Ye=et-+this._x.call(null,Ve.data),at=ft-+this._y.call(null,Ve.data),lt=Ye*Ye+at*at;if(lt<vt){var Ht=Math.sqrt(vt=lt);xt=et-Ht,Mt=ft-Ht,Ke=et+Ht,ke=ft+Ht,dt=Ve.data}}return dt}function u(et){if(isNaN(Ke=+this._x.call(null,et))||isNaN(ke=+this._y.call(null,et)))return this;var ft,vt=this._root,dt,xt,Mt,nt=this._x0,Fe=this._y0,We=this._x1,je=this._y1,Ke,ke,Ue,Ve,Re,de,be,Ne;if(!vt)return this;if(vt.length)for(;;){if((Re=Ke>=(Ue=(nt+We)/2))?nt=Ue:We=Ue,(de=ke>=(Ve=(Fe+je)/2))?Fe=Ve:je=Ve,ft=vt,!(vt=vt[be=de<<1|Re]))return this;if(!vt.length)break;(ft[be+1&3]||ft[be+2&3]||ft[be+3&3])&&(dt=ft,Ne=be)}for(;vt.data!==et;)if(xt=vt,!(vt=vt.next))return this;return(Mt=vt.next)&&delete vt.next,xt?(Mt?xt.next=Mt:delete xt.next,this):ft?(Mt?ft[be]=Mt:delete ft[be],(vt=ft[0]||ft[1]||ft[2]||ft[3])&&vt===(ft[3]||ft[2]||ft[1]||ft[0])&&!vt.length&&(dt?dt[Ne]=vt:this._root=vt),this):(this._root=Mt,this)}function f(et){for(var ft=0,vt=et.length;ft<vt;++ft)this.remove(et[ft]);return this}function l(){return this._root}function y(){var et=0;return this.visit(function(ft){if(!ft.length)do++et;while(ft=ft.next)}),et}function c(et){var ft=[],vt,dt=this._root,xt,Mt,nt,Fe,We;for(dt&&ft.push(new o(dt,this._x0,this._y0,this._x1,this._y1));vt=ft.pop();)if(!et(dt=vt.node,Mt=vt.x0,nt=vt.y0,Fe=vt.x1,We=vt.y1)&&dt.length){var je=(Mt+Fe)/2,Ke=(nt+We)/2;(xt=dt[3])&&ft.push(new o(xt,je,Ke,Fe,We)),(xt=dt[2])&&ft.push(new o(xt,Mt,Ke,je,We)),(xt=dt[1])&&ft.push(new o(xt,je,nt,Fe,Ke)),(xt=dt[0])&&ft.push(new o(xt,Mt,nt,je,Ke))}return this}function T(et){var ft=[],vt=[],dt;for(this._root&&ft.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));dt=ft.pop();){var xt=dt.node;if(xt.length){var Mt,nt=dt.x0,Fe=dt.y0,We=dt.x1,je=dt.y1,Ke=(nt+We)/2,ke=(Fe+je)/2;(Mt=xt[0])&&ft.push(new o(Mt,nt,Fe,Ke,ke)),(Mt=xt[1])&&ft.push(new o(Mt,Ke,Fe,We,ke)),(Mt=xt[2])&&ft.push(new o(Mt,nt,ke,Ke,je)),(Mt=xt[3])&&ft.push(new o(Mt,Ke,ke,We,je))}vt.push(dt)}for(;dt=vt.pop();)et(dt.node,dt.x0,dt.y0,dt.x1,dt.y1);return this}function h(et){return et[0]}function i(et){return arguments.length?(this._x=et,this):this._x}function g(et){return et[1]}function b(et){return arguments.length?(this._y=et,this):this._y}function A(et,ft,vt){var dt=new R(ft??h,vt??g,NaN,NaN,NaN,NaN);return et==null?dt:dt.addAll(et)}function R(et,ft,vt,dt,xt,Mt){this._x=et,this._y=ft,this._x0=vt,this._y0=dt,this._x1=xt,this._y1=Mt,this._root=void 0}function m(et){for(var ft={data:et.data},vt=ft;et=et.next;)vt=vt.next={data:et.data};return ft}var L=A.prototype=R.prototype;L.copy=function(){var et=new R(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,vt,dt;if(!ft)return et;if(!ft.length)return et._root=m(ft),et;for(vt=[{source:ft,target:et._root=new Array(4)}];ft=vt.pop();)for(var xt=0;xt<4;++xt)(dt=ft.source[xt])&&(dt.length?vt.push({source:dt,target:ft.target[xt]=new Array(4)}):ft.target[xt]=m(dt));return et},L.add=C,L.addAll=v,L.cover=p,L.data=r,L.extent=t,L.find=a,L.remove=u,L.removeAll=f,L.root=l,L.size=y,L.visit=c,L.visitAfter=T,L.x=i,L.y=b;function M(et){return et.x+et.vx}function s(et){return et.y+et.vy}function S(et){var ft,vt,dt=1,xt=1;typeof et!="function"&&(et=P(et==null?1:+et));function Mt(){for(var We,je=ft.length,Ke,ke,Ue,Ve,Re,de,be=0;be<xt;++be)for(Ke=A(ft,M,s).visitAfter(nt),We=0;We<je;++We)ke=ft[We],Re=vt[ke.index],de=Re*Re,Ue=ke.x+ke.vx,Ve=ke.y+ke.vy,Ke.visit(Ne);function Ne(Ye,at,lt,Ht,Yt){var Tt=Ye.data,Lt=Ye.r,Kt=Re+Lt;if(Tt){if(Tt.index>ke.index){var vr=Ue-Tt.x-Tt.vx,gt=Ve-Tt.y-Tt.vy,Xt=vr*vr+gt*gt;Xt<Kt*Kt&&(vr===0&&(vr=n(),Xt+=vr*vr),gt===0&&(gt=n(),Xt+=gt*gt),Xt=(Kt-(Xt=Math.sqrt(Xt)))/Xt*dt,ke.vx+=(vr*=Xt)*(Kt=(Lt*=Lt)/(de+Lt)),ke.vy+=(gt*=Xt)*Kt,Tt.vx-=vr*(Kt=1-Kt),Tt.vy-=gt*Kt)}return}return at>Ue+Kt||Ht<Ue-Kt||lt>Ve+Kt||Yt<Ve-Kt}}function nt(We){if(We.data)return We.r=vt[We.data.index];for(var je=We.r=0;je<4;++je)We[je]&&We[je].r>We.r&&(We.r=We[je].r)}function Fe(){if(ft){var We,je=ft.length,Ke;for(vt=new Array(je),We=0;We<je;++We)Ke=ft[We],vt[Ke.index]=+et(Ke,We,ft)}}return Mt.initialize=function(We){ft=We,Fe()},Mt.iterations=function(We){return arguments.length?(xt=+We,Mt):xt},Mt.strength=function(We){return arguments.length?(dt=+We,Mt):dt},Mt.radius=function(We){return arguments.length?(et=typeof We=="function"?We:P(+We),Fe(),Mt):et},Mt}var w=e(34712);function _(et){return et.index}function I(et,ft){var vt=et.get(ft);if(!vt)throw new Error("missing: "+ft);return vt}function H(et){var ft=_,vt=Ke,dt,xt=P(30),Mt,nt,Fe,We,je=1;et==null&&(et=[]);function Ke(de){return 1/Math.min(Fe[de.source.index],Fe[de.target.index])}function ke(de){for(var be=0,Ne=et.length;be<je;++be)for(var Ye=0,at,lt,Ht,Yt,Tt,Lt,Kt;Ye<Ne;++Ye)at=et[Ye],lt=at.source,Ht=at.target,Yt=Ht.x+Ht.vx-lt.x-lt.vx||n(),Tt=Ht.y+Ht.vy-lt.y-lt.vy||n(),Lt=Math.sqrt(Yt*Yt+Tt*Tt),Lt=(Lt-Mt[Ye])/Lt*de*dt[Ye],Yt*=Lt,Tt*=Lt,Ht.vx-=Yt*(Kt=We[Ye]),Ht.vy-=Tt*Kt,lt.vx+=Yt*(Kt=1-Kt),lt.vy+=Tt*Kt}function Ue(){if(nt){var de,be=nt.length,Ne=et.length,Ye=(0,w.kH)(nt,ft),at;for(de=0,Fe=new Array(be);de<Ne;++de)at=et[de],at.index=de,typeof at.source!="object"&&(at.source=I(Ye,at.source)),typeof at.target!="object"&&(at.target=I(Ye,at.target)),Fe[at.source.index]=(Fe[at.source.index]||0)+1,Fe[at.target.index]=(Fe[at.target.index]||0)+1;for(de=0,We=new Array(Ne);de<Ne;++de)at=et[de],We[de]=Fe[at.source.index]/(Fe[at.source.index]+Fe[at.target.index]);dt=new Array(Ne),Ve(),Mt=new Array(Ne),Re()}}function Ve(){if(nt)for(var de=0,be=et.length;de<be;++de)dt[de]=+vt(et[de],de,et)}function Re(){if(nt)for(var de=0,be=et.length;de<be;++de)Mt[de]=+xt(et[de],de,et)}return ke.initialize=function(de){nt=de,Ue()},ke.links=function(de){return arguments.length?(et=de,Ue(),ke):et},ke.id=function(de){return arguments.length?(ft=de,ke):ft},ke.iterations=function(de){return arguments.length?(je=+de,ke):je},ke.strength=function(de){return arguments.length?(vt=typeof de=="function"?de:P(+de),Ve(),ke):vt},ke.distance=function(de){return arguments.length?(xt=typeof de=="function"?de:P(+de),Re(),ke):xt},ke}var O={value:function(){}};function V(){for(var et=0,ft=arguments.length,vt={},dt;et<ft;++et){if(!(dt=arguments[et]+"")||dt in vt||/[\s.]/.test(dt))throw new Error("illegal type: "+dt);vt[dt]=[]}return new B(vt)}function B(et){this._=et}function F(et,ft){return et.trim().split(/^|\s+/).map(function(vt){var dt="",xt=vt.indexOf(".");if(xt>=0&&(dt=vt.slice(xt+1),vt=vt.slice(0,xt)),vt&&!ft.hasOwnProperty(vt))throw new Error("unknown type: "+vt);return{type:vt,name:dt}})}B.prototype=V.prototype={constructor:B,on:function(et,ft){var vt=this._,dt=F(et+"",vt),xt,Mt=-1,nt=dt.length;if(arguments.length<2){for(;++Mt<nt;)if((xt=(et=dt[Mt]).type)&&(xt=G(vt[xt],et.name)))return xt;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++Mt<nt;)if(xt=(et=dt[Mt]).type)vt[xt]=Y(vt[xt],et.name,ft);else if(ft==null)for(xt in vt)vt[xt]=Y(vt[xt],et.name,null);return this},copy:function(){var et={},ft=this._;for(var vt in ft)et[vt]=ft[vt].slice();return new B(et)},call:function(et,ft){if((xt=arguments.length-2)>0)for(var vt=new Array(xt),dt=0,xt,Mt;dt<xt;++dt)vt[dt]=arguments[dt+2];if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(Mt=this._[et],dt=0,xt=Mt.length;dt<xt;++dt)Mt[dt].value.apply(ft,vt)},apply:function(et,ft,vt){if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(var dt=this._[et],xt=0,Mt=dt.length;xt<Mt;++xt)dt[xt].value.apply(ft,vt)}};function G(et,ft){for(var vt=0,dt=et.length,xt;vt<dt;++vt)if((xt=et[vt]).name===ft)return xt.value}function Y(et,ft,vt){for(var dt=0,xt=et.length;dt<xt;++dt)if(et[dt].name===ft){et[dt]=O,et=et.slice(0,dt).concat(et.slice(dt+1));break}return vt!=null&&et.push({name:ft,value:vt}),et}var Q=V,te=0,ae=0,fe=0,oe=1e3,J,ee,X=0,q=0,le=0,$=typeof performance=="object"&&performance.now?performance:Date,j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function se(){return q||(j(ne),q=$.now()+le)}function ne(){q=0}function he(){this._call=this._time=this._next=null}he.prototype=me.prototype={constructor:he,restart:function(et,ft,vt){if(typeof et!="function")throw new TypeError("callback is not a function");vt=(vt==null?se():+vt)+(ft==null?0:+ft),!this._next&&ee!==this&&(ee?ee._next=this:J=this,ee=this),this._call=et,this._time=vt,ze()},stop:function(){this._call&&(this._call=null,this._time=1/0,ze())}};function me(et,ft,vt){var dt=new he;return dt.restart(et,ft,vt),dt}function we(){se(),++te;for(var et=J,ft;et;)(ft=q-et._time)>=0&&et._call.call(null,ft),et=et._next;--te}function Te(){q=(X=$.now())+le,te=ae=0;try{we()}finally{te=0,Ie(),q=0}}function Le(){var et=$.now(),ft=et-X;ft>oe&&(le-=ft,X=et)}function Ie(){for(var et,ft=J,vt,dt=1/0;ft;)ft._call?(dt>ft._time&&(dt=ft._time),et=ft,ft=ft._next):(vt=ft._next,ft._next=null,ft=et?et._next=vt:J=vt);ee=et,ze(dt)}function ze(et){if(!te){ae&&(ae=clearTimeout(ae));var ft=et-q;ft>24?(et<1/0&&(ae=setTimeout(Te,et-$.now()-le)),fe&&(fe=clearInterval(fe))):(fe||(X=$.now(),fe=setInterval(Le,oe)),te=1,j(Te))}}function Me(et){return et.x}function _e(et){return et.y}var Ce=10,Oe=Math.PI*(3-Math.sqrt(5));function Pe(et){var ft,vt=1,dt=.001,xt=1-Math.pow(dt,1/300),Mt=0,nt=.6,Fe=(0,w.kH)(),We=me(Ke),je=Q("tick","end");et==null&&(et=[]);function Ke(){ke(),je.call("tick",ft),vt<dt&&(We.stop(),je.call("end",ft))}function ke(Re){var de,be=et.length,Ne;Re===void 0&&(Re=1);for(var Ye=0;Ye<Re;++Ye)for(vt+=(Mt-vt)*xt,Fe.each(function(at){at(vt)}),de=0;de<be;++de)Ne=et[de],Ne.fx==null?Ne.x+=Ne.vx*=nt:(Ne.x=Ne.fx,Ne.vx=0),Ne.fy==null?Ne.y+=Ne.vy*=nt:(Ne.y=Ne.fy,Ne.vy=0);return ft}function Ue(){for(var Re=0,de=et.length,be;Re<de;++Re){if(be=et[Re],be.index=Re,be.fx!=null&&(be.x=be.fx),be.fy!=null&&(be.y=be.fy),isNaN(be.x)||isNaN(be.y)){var Ne=Ce*Math.sqrt(Re),Ye=Re*Oe;be.x=Ne*Math.cos(Ye),be.y=Ne*Math.sin(Ye)}(isNaN(be.vx)||isNaN(be.vy))&&(be.vx=be.vy=0)}}function Ve(Re){return Re.initialize&&Re.initialize(et),Re}return Ue(),ft={tick:ke,restart:function(){return We.restart(Ke),ft},stop:function(){return We.stop(),ft},nodes:function(Re){return arguments.length?(et=Re,Ue(),Fe.each(Ve),ft):et},alpha:function(Re){return arguments.length?(vt=+Re,ft):vt},alphaMin:function(Re){return arguments.length?(dt=+Re,ft):dt},alphaDecay:function(Re){return arguments.length?(xt=+Re,ft):+xt},alphaTarget:function(Re){return arguments.length?(Mt=+Re,ft):Mt},velocityDecay:function(Re){return arguments.length?(nt=1-Re,ft):1-nt},force:function(Re,de){return arguments.length>1?(de==null?Fe.remove(Re):Fe.set(Re,Ve(de)),ft):Fe.get(Re)},find:function(Re,de,be){var Ne=0,Ye=et.length,at,lt,Ht,Yt,Tt;for(be==null?be=1/0:be*=be,Ne=0;Ne<Ye;++Ne)Yt=et[Ne],at=Re-Yt.x,lt=de-Yt.y,Ht=at*at+lt*lt,Ht<be&&(Tt=Yt,be=Ht);return Tt},on:function(Re,de){return arguments.length>1?(je.on(Re,de),ft):je.on(Re)}}}function Ge(){var et,ft,vt,dt=P(-30),xt,Mt=1,nt=1/0,Fe=.81;function We(Ue){var Ve,Re=et.length,de=A(et,Me,_e).visitAfter(Ke);for(vt=Ue,Ve=0;Ve<Re;++Ve)ft=et[Ve],de.visit(ke)}function je(){if(et){var Ue,Ve=et.length,Re;for(xt=new Array(Ve),Ue=0;Ue<Ve;++Ue)Re=et[Ue],xt[Re.index]=+dt(Re,Ue,et)}}function Ke(Ue){var Ve=0,Re,de,be=0,Ne,Ye,at;if(Ue.length){for(Ne=Ye=at=0;at<4;++at)(Re=Ue[at])&&(de=Math.abs(Re.value))&&(Ve+=Re.value,be+=de,Ne+=de*Re.x,Ye+=de*Re.y);Ue.x=Ne/be,Ue.y=Ye/be}else{Re=Ue,Re.x=Re.data.x,Re.y=Re.data.y;do Ve+=xt[Re.data.index];while(Re=Re.next)}Ue.value=Ve}function ke(Ue,Ve,Re,de){if(!Ue.value)return!0;var be=Ue.x-ft.x,Ne=Ue.y-ft.y,Ye=de-Ve,at=be*be+Ne*Ne;if(Ye*Ye/Fe<at)return at<nt&&(be===0&&(be=n(),at+=be*be),Ne===0&&(Ne=n(),at+=Ne*Ne),at<Mt&&(at=Math.sqrt(Mt*at)),ft.vx+=be*Ue.value*vt/at,ft.vy+=Ne*Ue.value*vt/at),!0;if(Ue.length||at>=nt)return;(Ue.data!==ft||Ue.next)&&(be===0&&(be=n(),at+=be*be),Ne===0&&(Ne=n(),at+=Ne*Ne),at<Mt&&(at=Math.sqrt(Mt*at)));do Ue.data!==ft&&(Ye=xt[Ue.data.index]*vt/at,ft.vx+=be*Ye,ft.vy+=Ne*Ye);while(Ue=Ue.next)}return We.initialize=function(Ue){et=Ue,je()},We.strength=function(Ue){return arguments.length?(dt=typeof Ue=="function"?Ue:P(+Ue),je(),We):dt},We.distanceMin=function(Ue){return arguments.length?(Mt=Ue*Ue,We):Math.sqrt(Mt)},We.distanceMax=function(Ue){return arguments.length?(nt=Ue*Ue,We):Math.sqrt(nt)},We.theta=function(Ue){return arguments.length?(Fe=Ue*Ue,We):Math.sqrt(Fe)},We}function Ze(et,ft,vt){var dt,xt=P(.1),Mt,nt;typeof et!="function"&&(et=P(+et)),ft==null&&(ft=0),vt==null&&(vt=0);function Fe(je){for(var Ke=0,ke=dt.length;Ke<ke;++Ke){var Ue=dt[Ke],Ve=Ue.x-ft||1e-6,Re=Ue.y-vt||1e-6,de=Math.sqrt(Ve*Ve+Re*Re),be=(nt[Ke]-de)*Mt[Ke]*je/de;Ue.vx+=Ve*be,Ue.vy+=Re*be}}function We(){if(dt){var je,Ke=dt.length;for(Mt=new Array(Ke),nt=new Array(Ke),je=0;je<Ke;++je)nt[je]=+et(dt[je],je,dt),Mt[je]=isNaN(nt[je])?0:+xt(dt[je],je,dt)}}return Fe.initialize=function(je){dt=je,We()},Fe.strength=function(je){return arguments.length?(xt=typeof je=="function"?je:P(+je),We(),Fe):xt},Fe.radius=function(je){return arguments.length?(et=typeof je=="function"?je:P(+je),We(),Fe):et},Fe.x=function(je){return arguments.length?(ft=+je,Fe):ft},Fe.y=function(je){return arguments.length?(vt=+je,Fe):vt},Fe}function it(et){var ft=P(.1),vt,dt,xt;typeof et!="function"&&(et=P(et==null?0:+et));function Mt(Fe){for(var We=0,je=vt.length,Ke;We<je;++We)Ke=vt[We],Ke.vx+=(xt[We]-Ke.x)*dt[We]*Fe}function nt(){if(vt){var Fe,We=vt.length;for(dt=new Array(We),xt=new Array(We),Fe=0;Fe<We;++Fe)dt[Fe]=isNaN(xt[Fe]=+et(vt[Fe],Fe,vt))?0:+ft(vt[Fe],Fe,vt)}}return Mt.initialize=function(Fe){vt=Fe,nt()},Mt.strength=function(Fe){return arguments.length?(ft=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):ft},Mt.x=function(Fe){return arguments.length?(et=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):et},Mt}function Je(et){var ft=P(.1),vt,dt,xt;typeof et!="function"&&(et=P(et==null?0:+et));function Mt(Fe){for(var We=0,je=vt.length,Ke;We<je;++We)Ke=vt[We],Ke.vy+=(xt[We]-Ke.y)*dt[We]*Fe}function nt(){if(vt){var Fe,We=vt.length;for(dt=new Array(We),xt=new Array(We),Fe=0;Fe<We;++Fe)dt[Fe]=isNaN(xt[Fe]=+et(vt[Fe],Fe,vt))?0:+ft(vt[Fe],Fe,vt)}}return Mt.initialize=function(Fe){vt=Fe,nt()},Mt.strength=function(Fe){return arguments.length?(ft=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):ft},Mt.y=function(Fe){return arguments.length?(et=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):et},Mt}},57624:function(U,N,e){e.d(N,{E9:function(){return i},SO:function(){return T}});function d(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function P(b,A){if((R=(b=A?b.toExponential(A-1):b.toExponential()).indexOf("e"))<0)return null;var R,m=b.slice(0,R);return[m.length>1?m[0]+m.slice(2):m,+b.slice(R+1)]}function n(b){return b=P(Math.abs(b)),b?b[1]:NaN}function C(b,A){return function(R,m){for(var L=R.length,M=[],s=0,S=b[0],w=0;L>0&&S>0&&(w+S+1>m&&(S=Math.max(1,m-w)),M.push(R.substring(L-=S,L+S)),!((w+=S+1)>m));)S=b[s=(s+1)%b.length];return M.reverse().join(A)}}function x(b){return function(A){return A.replace(/[0-9]/g,function(R){return b[+R]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(b){if(!(A=v.exec(b)))throw new Error("invalid format: "+b);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}p.prototype=r.prototype;function r(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var A=b.length,R=1,m=-1,L;R<A;++R)switch(b[R]){case".":m=L=R;break;case"0":m===0&&(m=R),L=R;break;default:if(!+b[R])break e;m>0&&(m=0);break}return m>0?b.slice(0,m)+b.slice(L+1):b}var o;function a(b,A){var R=P(b,A);if(!R)return b+"";var m=R[0],L=R[1],M=L-(o=Math.max(-8,Math.min(8,Math.floor(L/3)))*3)+1,s=m.length;return M===s?m:M>s?m+new Array(M-s+1).join("0"):M>0?m.slice(0,M)+"."+m.slice(M):"0."+new Array(1-M).join("0")+P(b,Math.max(0,A+M-1))[0]}function u(b,A){var R=P(b,A);if(!R)return b+"";var m=R[0],L=R[1];return L<0?"0."+new Array(-L).join("0")+m:m.length>L+1?m.slice(0,L+1)+"."+m.slice(L+1):m+new Array(L-m.length+2).join("0")}var f={"%":function(b,A){return(b*100).toFixed(A)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d,e:function(b,A){return b.toExponential(A)},f:function(b,A){return b.toFixed(A)},g:function(b,A){return b.toPrecision(A)},o:function(b){return Math.round(b).toString(8)},p:function(b,A){return u(b*100,A)},r:u,s:a,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function l(b){return b}var y=Array.prototype.map,c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T(b){var A=b.grouping===void 0||b.thousands===void 0?l:C(y.call(b.grouping,Number),b.thousands+""),R=b.currency===void 0?"":b.currency[0]+"",m=b.currency===void 0?"":b.currency[1]+"",L=b.decimal===void 0?".":b.decimal+"",M=b.numerals===void 0?l:x(y.call(b.numerals,String)),s=b.percent===void 0?"%":b.percent+"",S=b.minus===void 0?"-":b.minus+"",w=b.nan===void 0?"NaN":b.nan+"";function _(H){H=p(H);var O=H.fill,V=H.align,B=H.sign,F=H.symbol,G=H.zero,Y=H.width,Q=H.comma,te=H.precision,ae=H.trim,fe=H.type;fe==="n"?(Q=!0,fe="g"):f[fe]||(te===void 0&&(te=12),ae=!0,fe="g"),(G||O==="0"&&V==="=")&&(G=!0,O="0",V="=");var oe=F==="$"?R:F==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",J=F==="$"?m:/[%p]/.test(fe)?s:"",ee=f[fe],X=/[defgprs%]/.test(fe);te=te===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function q(le){var $=oe,j=J,se,ne,he;if(fe==="c")j=ee(le)+j,le="";else{le=+le;var me=le<0||1/le<0;if(le=isNaN(le)?w:ee(Math.abs(le),te),ae&&(le=t(le)),me&&+le==0&&B!=="+"&&(me=!1),$=(me?B==="("?B:S:B==="-"||B==="("?"":B)+$,j=(fe==="s"?c[8+o/3]:"")+j+(me&&B==="("?")":""),X){for(se=-1,ne=le.length;++se<ne;)if(he=le.charCodeAt(se),48>he||he>57){j=(he===46?L+le.slice(se+1):le.slice(se))+j,le=le.slice(0,se);break}}}Q&&!G&&(le=A(le,1/0));var we=$.length+le.length+j.length,Te=we<Y?new Array(Y-we+1).join(O):"";switch(Q&&G&&(le=A(Te+le,Te.length?Y-j.length:1/0),Te=""),V){case"<":le=$+le+j+Te;break;case"=":le=$+Te+le+j;break;case"^":le=Te.slice(0,we=Te.length>>1)+$+le+j+Te.slice(we);break;default:le=Te+$+le+j;break}return M(le)}return q.toString=function(){return H+""},q}function I(H,O){var V=_((H=p(H),H.type="f",H)),B=Math.max(-8,Math.min(8,Math.floor(n(O)/3)))*3,F=Math.pow(10,-B),G=c[8+B/3];return function(Y){return V(F*Y)+G}}return{format:_,formatPrefix:I}}var h,i;g({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function g(b){return h=T(b),i=h.format,h.formatPrefix,h}},87108:function(U,N,e){e.r(N),e.d(N,{geoAiry:function(){return G},geoAiryRaw:function(){return F},geoAitoff:function(){return Q},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return ae},geoArmadilloRaw:function(){return te},geoAugust:function(){return oe},geoAugustRaw:function(){return fe},geoBaker:function(){return q},geoBakerRaw:function(){return X},geoBerghaus:function(){return j},geoBerghausRaw:function(){return $},geoBertin1953:function(){return Ie},geoBertin1953Raw:function(){return Le},geoBoggs:function(){return Ze},geoBoggsRaw:function(){return Ge},geoBonne:function(){return vt},geoBonneRaw:function(){return ft},geoBottomley:function(){return xt},geoBottomleyRaw:function(){return dt},geoBromley:function(){return nt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return de},geoChamberlinAfrica:function(){return Re},geoChamberlinRaw:function(){return Ue},geoCollignon:function(){return Ne},geoCollignonRaw:function(){return be},geoCraig:function(){return at},geoCraigRaw:function(){return Ye},geoCraster:function(){return Yt},geoCrasterRaw:function(){return Ht},geoCylindricalEqualArea:function(){return Lt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return vr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return Xt},geoEckert1Raw:function(){return gt},geoEckert2:function(){return mr},geoEckert2Raw:function(){return $t},geoEckert3:function(){return yt},geoEckert3Raw:function(){return or},geoEckert4:function(){return bt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return It},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Ot},geoEckert6Raw:function(){return Ft},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return fr},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return xr},geoFoucautRaw:function(){return Lr},geoFoucautSinusoidal:function(){return rt},geoFoucautSinusoidalRaw:function(){return Qe},geoGilbert:function(){return Zt},geoGingery:function(){return yr},geoGingeryRaw:function(){return nr},geoGinzburg4:function(){return dn},geoGinzburg4Raw:function(){return Tr},geoGinzburg5:function(){return Cn},geoGinzburg5Raw:function(){return Nr},geoGinzburg6:function(){return gr},geoGinzburg6Raw:function(){return an},geoGinzburg8:function(){return Xr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return gn},geoGinzburg9Raw:function(){return _r},geoGringorten:function(){return ya},geoGringortenQuincuncial:function(){return Gh},geoGringortenRaw:function(){return An},geoGuyou:function(){return un},geoGuyouRaw:function(){return Cr},geoHammer:function(){return me},geoHammerRaw:function(){return ne},geoHammerRetroazimuthal:function(){return Un},geoHammerRetroazimuthalRaw:function(){return yn},geoHealpix:function(){return hn},geoHealpixRaw:function(){return Sr},geoHill:function(){return Yr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Hn},geoHomolosineRaw:function(){return Nn},geoHufnagel:function(){return Yn},geoHufnagelRaw:function(){return zn},geoHyperelliptical:function(){return wi},geoHyperellipticalRaw:function(){return Ra},geoInterrupt:function(){return po},geoInterruptedBoggs:function(){return Yl},geoInterruptedHomolosine:function(){return oi},geoInterruptedMollweide:function(){return Bf},geoInterruptedMollweideHemispheres:function(){return zo},geoInterruptedQuarticAuthalic:function(){return al},geoInterruptedSinuMollweide:function(){return uf},geoInterruptedSinusoidal:function(){return Zl},geoKavrayskiy7:function(){return eo},geoKavrayskiy7Raw:function(){return Wi},geoLagrange:function(){return go},geoLagrangeRaw:function(){return Kl},geoLarrivee:function(){return Sc},geoLarriveeRaw:function(){return $o},geoLaskowski:function(){return Ph},geoLaskowskiRaw:function(){return jo},geoLittrow:function(){return lo},geoLittrowRaw:function(){return Ls},geoLoximuthal:function(){return nl},geoLoximuthalRaw:function(){return Uf},geoMiller:function(){return Hf},geoMillerRaw:function(){return Ps},geoModifiedStereographic:function(){return El},geoModifiedStereographicAlaska:function(){return Vf},geoModifiedStereographicGs48:function(){return _h},geoModifiedStereographicGs50:function(){return zh},geoModifiedStereographicLee:function(){return Cc},geoModifiedStereographicMiller:function(){return Ec},geoModifiedStereographicRaw:function(){return Mc},geoMollweide:function(){return Ce},geoMollweideRaw:function(){return _e},geoMtFlatPolarParabolic:function(){return Lc},geoMtFlatPolarParabolicRaw:function(){return Pu},geoMtFlatPolarQuartic:function(){return Oh},geoMtFlatPolarQuarticRaw:function(){return Gs},geoMtFlatPolarSinusoidal:function(){return Pc},geoMtFlatPolarSinusoidalRaw:function(){return cf},geoNaturalEarth:function(){return Rc.c},geoNaturalEarth2:function(){return cs},geoNaturalEarth2Raw:function(){return hf},geoNaturalEarthRaw:function(){return Rc.g},geoNellHammer:function(){return Cl},geoNellHammerRaw:function(){return Ql},geoNicolosi:function(){return Gf},geoNicolosiRaw:function(){return Rs},geoPatterson:function(){return tu},geoPattersonRaw:function(){return df},geoPeirceQuincuncial:function(){return Oc},geoPierceQuincuncial:function(){return Oc},geoPolyconic:function(){return Nh},geoPolyconicRaw:function(){return pf},geoPolyhedral:function(){return Ti},geoPolyhedralButterfly:function(){return Du},geoPolyhedralCollignon:function(){return Pl},geoPolyhedralWaterman:function(){return ol},geoProject:function(){return Hh},geoQuantize:function(){return Fc},geoQuincuncial:function(){return Ys},geoRectangularPolyconic:function(){return Nc},geoRectangularPolyconicRaw:function(){return Jf},geoRobinson:function(){return sl},geoRobinsonRaw:function(){return ys},geoSatellite:function(){return Rl},geoSatelliteRaw:function(){return xf},geoSinuMollweide:function(){return Sn},geoSinuMollweideRaw:function(){return Tn},geoSinusoidal:function(){return et},geoSinusoidalRaw:function(){return Je},geoStitch:function(){return Bu},geoTimes:function(){return to},geoTimesRaw:function(){return fl},geoTwoPointAzimuthal:function(){return Tf},geoTwoPointAzimuthalRaw:function(){return $f},geoTwoPointAzimuthalUsa:function(){return Dl},geoTwoPointEquidistant:function(){return Hc},geoTwoPointEquidistantRaw:function(){return Uu},geoTwoPointEquidistantUsa:function(){return Wh},geoVanDerGrinten:function(){return Hu},geoVanDerGrinten2:function(){return Vc},geoVanDerGrinten2Raw:function(){return fu},geoVanDerGrinten3:function(){return jh},geoVanDerGrinten3Raw:function(){return cl},geoVanDerGrinten4:function(){return Vu},geoVanDerGrinten4Raw:function(){return Xo},geoVanDerGrintenRaw:function(){return Po},geoWagner:function(){return hl},geoWagner4:function(){return Gc},geoWagner4Raw:function(){return Sf},geoWagner6:function(){return ec},geoWagner6Raw:function(){return ju},geoWagner7:function(){return qf},geoWagnerRaw:function(){return Ks},geoWiechel:function(){return tc},geoWiechelRaw:function(){return Il},geoWinkel3:function(){return Wc},geoWinkel3Raw:function(){return Yu}});var d=e(87952),P=Math.abs,n=Math.atan,C=Math.atan2,x=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,o=Math.min,a=Math.pow,u=Math.round,f=Math.sign||function($e){return $e>0?1:$e<0?-1:0},l=Math.sin,y=Math.tan,c=1e-6,T=1e-12,h=Math.PI,i=h/2,g=h/4,b=Math.SQRT1_2,A=_(2),R=_(h),m=h*2,L=180/h,M=h/180;function s($e){return $e?$e/Math.sin($e):1}function S($e){return $e>1?i:$e<-1?-i:Math.asin($e)}function w($e){return $e>1?0:$e<-1?h:Math.acos($e)}function _($e){return $e>0?Math.sqrt($e):0}function I($e){return $e=v(2*$e),($e-1)/($e+1)}function H($e){return(v($e)-v(-$e))/2}function O($e){return(v($e)+v(-$e))/2}function V($e){return r($e+_($e*$e+1))}function B($e){return r($e+_($e*$e-1))}function F($e){var st=y($e/2),mt=2*r(x($e/2))/(st*st);function wt(_t,Dt){var zt=x(_t),pr=x(Dt),wr=l(Dt),sr=pr*zt,Mr=-((1-sr?r((1+sr)/2)/(1-sr):-.5)+mt/(1+sr));return[Mr*pr*l(_t),Mr*wr]}return wt.invert=function(_t,Dt){var zt=_(_t*_t+Dt*Dt),pr=-$e/2,wr=50,sr;if(!zt)return[0,0];do{var Mr=pr/2,Or=x(Mr),Vr=l(Mr),nn=Vr/Or,wn=-r(P(Or));pr-=sr=(2/nn*wn-mt*nn-zt)/(-wn/(Vr*Vr)+1-mt/(2*Or*Or))*(Or<0?.7:1)}while(P(sr)>c&&--wr>0);var Rn=l(pr);return[C(_t*Rn,zt*x(pr)),S(Dt*Rn/zt)]},wt}function G(){var $e=i,st=(0,d.U)(F),mt=st($e);return mt.radius=function(wt){return arguments.length?st($e=wt*M):$e*L},mt.scale(179.976).clipAngle(147)}function Y($e,st){var mt=x(st),wt=s(w(mt*x($e/=2)));return[2*mt*l($e)*wt,l(st)*wt]}Y.invert=function($e,st){if(!($e*$e+4*st*st>h*h+c)){var mt=$e,wt=st,_t=25;do{var Dt=l(mt),zt=l(mt/2),pr=x(mt/2),wr=l(wt),sr=x(wt),Mr=l(2*wt),Or=wr*wr,Vr=sr*sr,nn=zt*zt,wn=1-Vr*pr*pr,Rn=wn?w(sr*pr)*_(In=1/wn):In=0,In,Qn=2*Rn*sr*zt-$e,ka=Rn*wr-st,Da=In*(Vr*nn+Rn*sr*pr*Or),_a=In*(.5*Dt*Mr-Rn*2*wr*zt),Na=In*.25*(Mr*zt-Rn*wr*Vr*Dt),$a=In*(Or*pr+Rn*nn*sr),xi=_a*Na-$a*Da;if(!xi)break;var Gi=(ka*_a-Qn*$a)/xi,ce=(Qn*Na-ka*Da)/xi;mt-=Gi,wt-=ce}while((P(Gi)>c||P(ce)>c)&&--_t>0);return[mt,wt]}};function Q(){return(0,d.c)(Y).scale(152.63)}function te($e){var st=l($e),mt=x($e),wt=$e>=0?1:-1,_t=y(wt*$e),Dt=(1+st-mt)/2;function zt(pr,wr){var sr=x(wr),Mr=x(pr/=2);return[(1+sr)*l(pr),(wt*wr>-C(Mr,_t)-.001?0:-wt*10)+Dt+l(wr)*mt-(1+sr)*st*Mr]}return zt.invert=function(pr,wr){var sr=0,Mr=0,Or=50;do{var Vr=x(sr),nn=l(sr),wn=x(Mr),Rn=l(Mr),In=1+wn,Qn=In*nn-pr,ka=Dt+Rn*mt-In*st*Vr-wr,Da=In*Vr/2,_a=-nn*Rn,Na=st*In*nn/2,$a=mt*wn+st*Vr*Rn,xi=_a*Na-$a*Da,Gi=(ka*_a-Qn*$a)/xi/2,ce=(Qn*Na-ka*Da)/xi;P(ce)>2&&(ce/=2),sr-=Gi,Mr-=ce}while((P(Gi)>c||P(ce)>c)&&--Or>0);return wt*Mr>-C(x(sr),_t)-.001?[sr*2,Mr]:null},zt}function ae(){var $e=20*M,st=$e>=0?1:-1,mt=y(st*$e),wt=(0,d.U)(te),_t=wt($e),Dt=_t.stream;return _t.parallel=function(zt){return arguments.length?(mt=y((st=($e=zt*M)>=0?1:-1)*$e),wt($e)):$e*L},_t.stream=function(zt){var pr=_t.rotate(),wr=Dt(zt),sr=(_t.rotate([0,0]),Dt(zt)),Mr=_t.precision();return _t.rotate(pr),wr.sphere=function(){sr.polygonStart(),sr.lineStart();for(var Or=st*-180;st*Or<180;Or+=st*90)sr.point(Or,st*90);if($e)for(;st*(Or-=3*st*Mr)>=-180;)sr.point(Or,st*-C(x(Or*M/2),mt)*L);sr.lineEnd(),sr.polygonEnd()},wr},_t.scale(218.695).center([0,28.0974])}function fe($e,st){var mt=y(st/2),wt=_(1-mt*mt),_t=1+wt*x($e/=2),Dt=l($e)*wt/_t,zt=mt/_t,pr=Dt*Dt,wr=zt*zt;return[1.3333333333333333*Dt*(3+pr-3*wr),1.3333333333333333*zt*(3+3*pr-wr)]}fe.invert=function($e,st){if($e*=.375,st*=.375,!$e&&P(st)>1)return null;var mt=$e*$e,wt=st*st,_t=1+mt+wt,Dt=_((_t-_(_t*_t-4*st*st))/2),zt=S(Dt)/3,pr=Dt?B(P(st/Dt))/3:V(P($e))/3,wr=x(zt),sr=O(pr),Mr=sr*sr-wr*wr;return[f($e)*2*C(H(pr)*wr,.25-Mr),f(st)*2*C(sr*l(zt),.25+Mr)]};function oe(){return(0,d.c)(fe).scale(66.1603)}var J=_(8),ee=r(1+A);function X($e,st){var mt=P(st);return mt<g?[$e,r(y(g+st/2))]:[$e*x(mt)*(2*A-1/l(mt)),f(st)*(2*A*(mt-g)-r(y(mt/2)))]}X.invert=function($e,st){if((Dt=P(st))<ee)return[$e,2*n(v(st))-i];var mt=g,wt=25,_t,Dt;do{var zt=x(mt/2),pr=y(mt/2);mt-=_t=(J*(mt-g)-r(pr)-Dt)/(J-zt*zt/(2*pr))}while(P(_t)>T&&--wt>0);return[$e/(x(mt)*(J-1/l(mt))),f(st)*mt]};function q(){return(0,d.c)(X).scale(112.314)}var le=e(69020);function $($e){var st=2*h/$e;function mt(wt,_t){var Dt=(0,le.O)(wt,_t);if(P(wt)>i){var zt=C(Dt[1],Dt[0]),pr=_(Dt[0]*Dt[0]+Dt[1]*Dt[1]),wr=st*u((zt-i)/st)+i,sr=C(l(zt-=wr),2-x(zt));zt=wr+S(h/pr*l(sr))-sr,Dt[0]=pr*x(zt),Dt[1]=pr*l(zt)}return Dt}return mt.invert=function(wt,_t){var Dt=_(wt*wt+_t*_t);if(Dt>i){var zt=C(_t,wt),pr=st*u((zt-i)/st)+i,wr=zt>pr?-1:1,sr=Dt*x(pr-zt),Mr=1/y(wr*w((sr-h)/_(h*(h-2*sr)+Dt*Dt)));zt=pr+2*n((Mr+wr*_(Mr*Mr-3))/3),wt=Dt*x(zt),_t=Dt*l(zt)}return le.O.invert(wt,_t)},mt}function j(){var $e=5,st=(0,d.U)($),mt=st($e),wt=mt.stream,_t=.01,Dt=-x(_t*M),zt=l(_t*M);return mt.lobes=function(pr){return arguments.length?st($e=+pr):$e},mt.stream=function(pr){var wr=mt.rotate(),sr=wt(pr),Mr=(mt.rotate([0,0]),wt(pr));return mt.rotate(wr),sr.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var Or=0,Vr=360/$e,nn=2*h/$e,wn=90-180/$e,Rn=i;Or<$e;++Or,wn-=Vr,Rn-=nn)Mr.point(C(zt*x(Rn),Dt)*L,S(zt*l(Rn))*L),wn<-90?(Mr.point(-90,-180-wn-_t),Mr.point(-90,-180-wn+_t)):(Mr.point(90,wn+_t),Mr.point(90,wn-_t));Mr.lineEnd(),Mr.polygonEnd()},sr},mt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function ne($e,st){if(arguments.length<2&&(st=$e),st===1)return se.y;if(st===1/0)return he;function mt(wt,_t){var Dt=(0,se.y)(wt/st,_t);return Dt[0]*=$e,Dt}return mt.invert=function(wt,_t){var Dt=se.y.invert(wt/$e,_t);return Dt[0]*=st,Dt},mt}function he($e,st){return[$e*x(st)/x(st/=2),2*l(st)]}he.invert=function($e,st){var mt=2*S(st/2);return[$e*x(mt/2)/x(mt),mt]};function me(){var $e=2,st=(0,d.U)(ne),mt=st($e);return mt.coefficient=function(wt){return arguments.length?st($e=+wt):$e},mt.scale(169.529)}function we($e,st,mt){var wt=100,_t,Dt,zt;mt=mt===void 0?0:+mt,st=+st;do Dt=$e(mt),zt=$e(mt+c),Dt===zt&&(zt=Dt+c),mt-=_t=-1*c*(Dt-st)/(Dt-zt);while(wt-- >0&&P(_t)>c);return wt<0?NaN:mt}function Te($e,st,mt){return st===void 0&&(st=40),mt===void 0&&(mt=T),function(wt,_t,Dt,zt){var pr,wr,sr;Dt=Dt===void 0?0:+Dt,zt=zt===void 0?0:+zt;for(var Mr=0;Mr<st;Mr++){var Or=$e(Dt,zt),Vr=Or[0]-wt,nn=Or[1]-_t;if(P(Vr)<mt&&P(nn)<mt)break;var wn=Vr*Vr+nn*nn;if(wn>pr){Dt-=wr/=2,zt-=sr/=2;continue}pr=wn;var Rn=(Dt>0?-1:1)*mt,In=(zt>0?-1:1)*mt,Qn=$e(Dt+Rn,zt),ka=$e(Dt,zt+In),Da=(Qn[0]-Or[0])/Rn,_a=(Qn[1]-Or[1])/Rn,Na=(ka[0]-Or[0])/In,$a=(ka[1]-Or[1])/In,xi=$a*Da-_a*Na,Gi=(P(xi)<.5?.5:1)/xi;if(wr=(nn*Na-Vr*$a)*Gi,sr=(Vr*_a-nn*Da)*Gi,Dt+=wr,zt+=sr,P(wr)<mt&&P(sr)<mt)break}return[Dt,zt]}}function Le(){var $e=ne(1.68,2),st=1.4,mt=12;function wt(_t,Dt){if(_t+Dt<-st){var zt=(_t-Dt+1.6)*(_t+Dt+st)/8;_t+=zt,Dt-=.8*zt*l(Dt+h/2)}var pr=$e(_t,Dt),wr=(1-x(_t*Dt))/mt;return pr[1]<0&&(pr[0]*=1+wr),pr[1]>0&&(pr[1]*=1+wr/1.5*pr[0]*pr[0]),pr}return wt.invert=Te(wt),wt}function Ie(){return(0,d.c)(Le()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function ze($e,st){var mt=$e*l(st),wt=30,_t;do st-=_t=(st+l(st)-mt)/(1+x(st));while(P(_t)>c&&--wt>0);return st/2}function Me($e,st,mt){function wt(_t,Dt){return[$e*_t*x(Dt=ze(mt,Dt)),st*l(Dt)]}return wt.invert=function(_t,Dt){return Dt=S(Dt/st),[_t/($e*x(Dt)),S((2*Dt+l(2*Dt))/mt)]},wt}var _e=Me(A/i,A,h);function Ce(){return(0,d.c)(_e).scale(169.529)}var Oe=2.00276,Pe=1.11072;function Ge($e,st){var mt=ze(h,st);return[Oe*$e/(1/x(st)+Pe/x(mt)),(st+A*l(mt))/Oe]}Ge.invert=function($e,st){var mt=Oe*st,wt=st<0?-g:g,_t=25,Dt,zt;do zt=mt-A*l(wt),wt-=Dt=(l(2*wt)+2*wt-h*l(zt))/(2*x(2*wt)+2+h*x(zt)*A*x(wt));while(P(Dt)>c&&--_t>0);return zt=mt-A*l(wt),[$e*(1/x(zt)+Pe/x(wt))/Oe,zt]};function Ze(){return(0,d.c)(Ge).scale(160.857)}function it($e){var st=0,mt=(0,d.U)($e),wt=mt(st);return wt.parallel=function(_t){return arguments.length?mt(st=_t*M):st*L},wt}function Je($e,st){return[$e*x(st),st]}Je.invert=function($e,st){return[$e/x(st),st]};function et(){return(0,d.c)(Je).scale(152.63)}function ft($e){if(!$e)return Je;var st=1/y($e);function mt(wt,_t){var Dt=st+$e-_t,zt=Dt&&wt*x(_t)/Dt;return[Dt*l(zt),st-Dt*x(zt)]}return mt.invert=function(wt,_t){var Dt=_(wt*wt+(_t=st-_t)*_t),zt=st+$e-Dt;return[Dt/x(zt)*C(wt,_t),zt]},mt}function vt(){return it(ft).scale(123.082).center([0,26.1441]).parallel(45)}function dt($e){function st(mt,wt){var _t=i-wt,Dt=_t&&mt*$e*l(_t)/_t;return[_t*l(Dt)/$e,i-_t*x(Dt)]}return st.invert=function(mt,wt){var _t=mt*$e,Dt=i-wt,zt=_(_t*_t+Dt*Dt),pr=C(_t,Dt);return[(zt?zt/l(zt):1)*pr/$e,i-zt]},st}function xt(){var $e=.5,st=(0,d.U)(dt),mt=st($e);return mt.fraction=function(wt){return arguments.length?st($e=+wt):$e},mt.scale(158.837)}var Mt=Me(1,4/h,h);function nt(){return(0,d.c)(Mt).scale(152.63)}var Fe=e(24052),We=e(92992);function je($e,st,mt,wt,_t,Dt){var zt=x(Dt),pr;if(P($e)>1||P(Dt)>1)pr=w(mt*_t+st*wt*zt);else{var wr=l($e/2),sr=l(Dt/2);pr=2*S(_(wr*wr+st*wt*sr*sr))}return P(pr)>c?[pr,C(wt*l(Dt),st*_t-mt*wt*zt)]:[0,0]}function Ke($e,st,mt){return w(($e*$e+st*st-mt*mt)/(2*$e*st))}function ke($e){return $e-2*h*p(($e+h)/(2*h))}function Ue($e,st,mt){for(var wt=[[$e[0],$e[1],l($e[1]),x($e[1])],[st[0],st[1],l(st[1]),x(st[1])],[mt[0],mt[1],l(mt[1]),x(mt[1])]],_t=wt[2],Dt,zt=0;zt<3;++zt,_t=Dt)Dt=wt[zt],_t.v=je(Dt[1]-_t[1],_t[3],_t[2],Dt[3],Dt[2],Dt[0]-_t[0]),_t.point=[0,0];var pr=Ke(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=Ke(wt[0].v[0],wt[1].v[0],wt[2].v[0]),sr=h-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Mr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*x(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(pr))];function Or(Vr,nn){var wn=l(nn),Rn=x(nn),In=new Array(3),Qn;for(Qn=0;Qn<3;++Qn){var ka=wt[Qn];if(In[Qn]=je(nn-ka[1],ka[3],ka[2],Rn,wn,Vr-ka[0]),!In[Qn][0])return ka.point;In[Qn][1]=ke(In[Qn][1]-ka.v[1])}var Da=Mr.slice();for(Qn=0;Qn<3;++Qn){var _a=Qn==2?0:Qn+1,Na=Ke(wt[Qn].v[0],In[Qn][0],In[_a][0]);In[Qn][1]<0&&(Na=-Na),Qn?Qn==1?(Na=wr-Na,Da[0]-=In[Qn][0]*x(Na),Da[1]-=In[Qn][0]*l(Na)):(Na=sr-Na,Da[0]+=In[Qn][0]*x(Na),Da[1]+=In[Qn][0]*l(Na)):(Da[0]+=In[Qn][0]*x(Na),Da[1]-=In[Qn][0]*l(Na))}return Da[0]/=3,Da[1]/=3,Da}return Or}function Ve($e){return $e[0]*=M,$e[1]*=M,$e}function Re(){return de([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function de($e,st,mt){var wt=(0,Fe.c)({type:"MultiPoint",coordinates:[$e,st,mt]}),_t=[-wt[0],-wt[1]],Dt=(0,We.c)(_t),zt=Ue(Ve(Dt($e)),Ve(Dt(st)),Ve(Dt(mt)));zt.invert=Te(zt);var pr=(0,d.c)(zt).rotate(_t),wr=pr.center;return delete pr.rotate,pr.center=function(sr){return arguments.length?wr(Dt(sr)):Dt.invert(wr())},pr.clipAngle(90)}function be($e,st){var mt=_(1-l(st));return[2/R*$e*mt,R*(1-mt)]}be.invert=function($e,st){var mt=(mt=st/R-1)*mt;return[mt>0?$e*_(h/mt)/2:0,S(1-mt)]};function Ne(){return(0,d.c)(be).scale(95.6464).center([0,30])}function Ye($e){var st=y($e);function mt(wt,_t){return[wt,(wt?wt/l(wt):1)*(l(_t)*x(wt)-st*x(_t))]}return mt.invert=st?function(wt,_t){wt&&(_t*=l(wt)/wt);var Dt=x(wt);return[wt,2*C(_(Dt*Dt+st*st-_t*_t)-Dt,st-_t)]}:function(wt,_t){return[wt,S(wt?_t*y(wt)/wt:_t)]},mt}function at(){return it(Ye).scale(249.828).clipAngle(90)}var lt=_(3);function Ht($e,st){return[lt*$e*(2*x(2*st/3)-1)/R,lt*R*l(st/3)]}Ht.invert=function($e,st){var mt=3*S(st/(lt*R));return[R*$e/(lt*(2*x(2*mt/3)-1)),mt]};function Yt(){return(0,d.c)(Ht).scale(156.19)}function Tt($e){var st=x($e);function mt(wt,_t){return[wt*st,l(_t)/st]}return mt.invert=function(wt,_t){return[wt/st,S(_t*st)]},mt}function Lt(){return it(Tt).parallel(38.58).scale(195.044)}function Kt($e){var st=x($e);function mt(wt,_t){return[wt*st,(1+st)*y(_t/2)]}return mt.invert=function(wt,_t){return[wt/st,n(_t/(1+st))*2]},mt}function vr(){return it(Kt).scale(124.75)}function gt($e,st){var mt=_(8/(3*h));return[mt*$e*(1-P(st)/h),mt*st]}gt.invert=function($e,st){var mt=_(8/(3*h)),wt=st/mt;return[$e/(mt*(1-P(wt)/h)),wt]};function Xt(){return(0,d.c)(gt).scale(165.664)}function $t($e,st){var mt=_(4-3*l(P(st)));return[2/_(6*h)*$e*mt,f(st)*_(2*h/3)*(2-mt)]}$t.invert=function($e,st){var mt=2-P(st)/_(2*h/3);return[$e*_(6*h)/(2*mt),f(st)*S((4-mt*mt)/3)]};function mr(){return(0,d.c)($t).scale(165.664)}function or($e,st){var mt=_(h*(4+h));return[2/mt*$e*(1+_(1-4*st*st/(h*h))),4/mt*st]}or.invert=function($e,st){var mt=_(h*(4+h))/2;return[$e*mt/(1+_(1-st*st*(4+h)/(4*h))),st*mt/2]};function yt(){return(0,d.c)(or).scale(180.739)}function ut($e,st){var mt=(2+i)*l(st);st/=2;for(var wt=0,_t=1/0;wt<10&&P(_t)>c;wt++){var Dt=x(st);st-=_t=(st+l(st)*(Dt+2)-mt)/(2*Dt*(1+Dt))}return[2/_(h*(4+h))*$e*(1+x(st)),2*_(h/(4+h))*l(st)]}ut.invert=function($e,st){var mt=st*_((4+h)/h)/2,wt=S(mt),_t=x(wt);return[$e/(2/_(h*(4+h))*(1+_t)),S((wt+mt*(_t+2))/(2+i))]};function bt(){return(0,d.c)(ut).scale(180.739)}function Et($e,st){return[$e*(1+x(st))/_(2+h),2*st/_(2+h)]}Et.invert=function($e,st){var mt=_(2+h),wt=st*mt/2;return[mt*$e/(1+x(wt)),wt]};function It(){return(0,d.c)(Et).scale(173.044)}function Ft($e,st){for(var mt=(1+i)*l(st),wt=0,_t=1/0;wt<10&&P(_t)>c;wt++)st-=_t=(st+l(st)-mt)/(1+x(st));return mt=_(2+h),[$e*(1+x(st))/mt,2*st/mt]}Ft.invert=function($e,st){var mt=1+i,wt=_(mt/2);return[$e*2*wt/(1+x(st*=wt)),S((st+l(st))/mt)]};function Ot(){return(0,d.c)(Ft).scale(173.044)}var Nt=3+2*A;function Jt($e,st){var mt=l($e/=2),wt=x($e),_t=_(x(st)),Dt=x(st/=2),zt=l(st)/(Dt+A*wt*_t),pr=_(2/(1+zt*zt)),wr=_((A*Dt+(wt+mt)*_t)/(A*Dt+(wt-mt)*_t));return[Nt*(pr*(wr-1/wr)-2*r(wr)),Nt*(pr*zt*(wr+1/wr)-2*n(zt))]}Jt.invert=function($e,st){if(!(Dt=fe.invert($e/1.2,st*1.065)))return null;var mt=Dt[0],wt=Dt[1],_t=20,Dt;$e/=Nt,st/=Nt;do{var zt=mt/2,pr=wt/2,wr=l(zt),sr=x(zt),Mr=l(pr),Or=x(pr),Vr=x(wt),nn=_(Vr),wn=Mr/(Or+A*sr*nn),Rn=wn*wn,In=_(2/(1+Rn)),Qn=A*Or+(sr+wr)*nn,ka=A*Or+(sr-wr)*nn,Da=Qn/ka,_a=_(Da),Na=_a-1/_a,$a=_a+1/_a,xi=In*Na-2*r(_a)-$e,Gi=In*wn*$a-2*n(wn)-st,ce=Mr&&b*nn*wr*Rn/Mr,Ee=(A*sr*Or+nn)/(2*(Or+A*sr*nn)*(Or+A*sr*nn)*nn),He=-.5*wn*In*In*In,tt=He*ce,ot=He*Ee,ht=(ht=2*Or+A*nn*(sr-wr))*ht*_a,Rt=(A*sr*Or*nn+Vr)/ht,At=-(A*wr*Mr)/(nn*ht),Ut=Na*tt-2*Rt/_a+In*(Rt+Rt/Da),Vt=Na*ot-2*At/_a+In*(At+At/Da),ar=wn*$a*tt-2*ce/(1+Rn)+In*$a*ce+In*wn*(Rt-Rt/Da),Rr=wn*$a*ot-2*Ee/(1+Rn)+In*$a*Ee+In*wn*(At-At/Da),kr=Vt*ar-Rr*Ut;if(!kr)break;var $r=(Gi*Vt-xi*Rr)/kr,ln=(xi*ar-Gi*Ut)/kr;mt-=$r,wt=t(-i,o(i,wt-ln))}while((P($r)>c||P(ln)>c)&&--_t>0);return P(P(wt)-i)<c?[0,wt]:_t&&[mt,wt]};function hr(){return(0,d.c)(Jt).scale(62.5271)}var cr=x(35*M);function dr($e,st){var mt=y(st/2);return[$e*cr*_(1-mt*mt),(1+cr)*mt]}dr.invert=function($e,st){var mt=st/(1+cr);return[$e&&$e/(cr*_(1-mt*mt)),2*n(mt)]};function fr(){return(0,d.c)(dr).scale(137.152)}function Lr($e,st){var mt=st/2,wt=x(mt);return[2*$e/R*x(st)*wt*wt,R*y(mt)]}Lr.invert=function($e,st){var mt=n(st/R),wt=x(mt),_t=2*mt;return[$e*R/2/(x(_t)*wt*wt),_t]};function xr(){return(0,d.c)(Lr).scale(135.264)}function Qe($e){var st=1-$e,mt=Dt(h,0)[0]-Dt(-h,0)[0],wt=Dt(0,i)[1]-Dt(0,-i)[1],_t=_(2*wt/mt);function Dt(wr,sr){var Mr=x(sr),Or=l(sr);return[Mr/(st+$e*Mr)*wr,st*sr+$e*Or]}function zt(wr,sr){var Mr=Dt(wr,sr);return[Mr[0]*_t,Mr[1]/_t]}function pr(wr){return zt(0,wr)[1]}return zt.invert=function(wr,sr){var Mr=we(pr,sr),Or=wr/_t*($e+st/x(Mr));return[Or,Mr]},zt}function rt(){var $e=.5,st=(0,d.U)(Qe),mt=st($e);return mt.alpha=function(wt){return arguments.length?st($e=+wt):$e},mt.scale(168.725)}var er=e(4888),tr=e(69604);function jt($e){return[$e[0]/2,S(y($e[1]/2*M))*L]}function Pt($e){return[$e[0]*2,2*n(l($e[1]*M))*L]}function Zt($e){$e==null&&($e=er.c);var st=$e(),mt=(0,tr.c)().scale(L).precision(0).clipAngle(null).translate([0,0]);function wt(Dt){return st(jt(Dt))}st.invert&&(wt.invert=function(Dt){return Pt(st.invert(Dt))}),wt.stream=function(Dt){var zt=st.stream(Dt),pr=mt.stream({point:function(wr,sr){zt.point(wr/2,S(y(-sr/2*M))*L)},lineStart:function(){zt.lineStart()},lineEnd:function(){zt.lineEnd()},polygonStart:function(){zt.polygonStart()},polygonEnd:function(){zt.polygonEnd()}});return pr.sphere=zt.sphere,pr};function _t(Dt){wt[Dt]=function(){return arguments.length?(st[Dt].apply(st,arguments),wt):st[Dt]()}}return wt.rotate=function(Dt){return arguments.length?(mt.rotate(Dt),wt):mt.rotate()},wt.center=function(Dt){return arguments.length?(st.center(jt(Dt)),wt):Pt(st.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),wt.scale(249.5)}function nr($e,st){var mt=2*h/st,wt=$e*$e;function _t(Dt,zt){var pr=(0,le.O)(Dt,zt),wr=pr[0],sr=pr[1],Mr=wr*wr+sr*sr;if(Mr>wt){var Or=_(Mr),Vr=C(sr,wr),nn=mt*u(Vr/mt),wn=Vr-nn,Rn=$e*x(wn),In=($e*l(wn)-wn*l(Rn))/(i-Rn),Qn=Qt(wn,In),ka=(h-$e)/Wt(Qn,Rn,h);wr=Or;var Da=50,_a;do wr-=_a=($e+Wt(Qn,Rn,wr)*ka-Or)/(Qn(wr)*ka);while(P(_a)>c&&--Da>0);sr=wn*l(wr),wr<i&&(sr-=In*(wr-i));var Na=l(nn),$a=x(nn);pr[0]=wr*$a-sr*Na,pr[1]=wr*Na+sr*$a}return pr}return _t.invert=function(Dt,zt){var pr=Dt*Dt+zt*zt;if(pr>wt){var wr=_(pr),sr=C(zt,Dt),Mr=mt*u(sr/mt),Or=sr-Mr;Dt=wr*x(Or),zt=wr*l(Or);for(var Vr=Dt-i,nn=l(Dt),wn=zt/nn,Rn=Dt<i?1/0:0,In=10;;){var Qn=$e*l(wn),ka=$e*x(wn),Da=l(ka),_a=i-ka,Na=(Qn-wn*Da)/_a,$a=Qt(wn,Na);if(P(Rn)<T||!--In)break;wn-=Rn=(wn*nn-Na*Vr-zt)/(nn-Vr*2*(_a*(ka+wn*Qn*x(ka)-Da)-Qn*(Qn-wn*Da))/(_a*_a))}wr=$e+Wt($a,ka,Dt)*(h-$e)/Wt($a,ka,h),sr=Mr+wn,Dt=wr*x(sr),zt=wr*l(sr)}return le.O.invert(Dt,zt)},_t}function Qt($e,st){return function(mt){var wt=$e*x(mt);return mt<i&&(wt-=st),_(1+wt*wt)}}function Wt($e,st,mt){for(var wt=50,_t=(mt-st)/wt,Dt=$e(st)+$e(mt),zt=1,pr=st;zt<wt;++zt)Dt+=2*$e(pr+=_t);return Dt*.5*_t}function yr(){var $e=6,st=30*M,mt=x(st),wt=l(st),_t=(0,d.U)(nr),Dt=_t(st,$e),zt=Dt.stream,pr=.01,wr=-x(pr*M),sr=l(pr*M);return Dt.radius=function(Mr){return arguments.length?(mt=x(st=Mr*M),wt=l(st),_t(st,$e)):st*L},Dt.lobes=function(Mr){return arguments.length?_t(st,$e=+Mr):$e},Dt.stream=function(Mr){var Or=Dt.rotate(),Vr=zt(Mr),nn=(Dt.rotate([0,0]),zt(Mr));return Dt.rotate(Or),Vr.sphere=function(){nn.polygonStart(),nn.lineStart();for(var wn=0,Rn=2*h/$e,In=0;wn<$e;++wn,In-=Rn)nn.point(C(sr*x(In),wr)*L,S(sr*l(In))*L),nn.point(C(wt*x(In-Rn/2),mt)*L,S(wt*l(In-Rn/2))*L);nn.lineEnd(),nn.polygonEnd()},Vr},Dt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Dr($e,st,mt,wt,_t,Dt,zt,pr){arguments.length<8&&(pr=0);function wr(sr,Mr){if(!Mr)return[$e*sr/h,0];var Or=Mr*Mr,Vr=$e+Or*(st+Or*(mt+Or*wt)),nn=Mr*(_t-1+Or*(Dt-pr+Or*zt)),wn=(Vr*Vr+nn*nn)/(2*nn),Rn=sr*S(Vr/wn)/h;return[wn*l(Rn),Mr*(1+Or*pr)+wn*(1-x(Rn))]}return wr.invert=function(sr,Mr){var Or=h*sr/$e,Vr=Mr,nn,wn,Rn=50;do{var In=Vr*Vr,Qn=$e+In*(st+In*(mt+In*wt)),ka=Vr*(_t-1+In*(Dt-pr+In*zt)),Da=Qn*Qn+ka*ka,_a=2*ka,Na=Da/_a,$a=Na*Na,xi=S(Qn/Na)/h,Gi=Or*xi,ce=Qn*Qn,Ee=(2*st+In*(4*mt+In*6*wt))*Vr,He=_t+In*(3*Dt+In*5*zt),tt=2*(Qn*Ee+ka*(He-1)),ot=2*(He-1),ht=(tt*_a-Da*ot)/(_a*_a),Rt=x(Gi),At=l(Gi),Ut=Na*Rt,Vt=Na*At,ar=Or/h*(1/_(1-ce/$a))*(Ee*Na-Qn*ht)/$a,Rr=Vt-sr,kr=Vr*(1+In*pr)+Na-Ut-Mr,$r=ht*At+Ut*ar,ln=Ut*xi,zr=1+ht-(ht*Rt-Vt*ar),Gr=Vt*xi,Jr=$r*Gr-zr*ln;if(!Jr)break;Or-=nn=(kr*$r-Rr*zr)/Jr,Vr-=wn=(Rr*Gr-kr*ln)/Jr}while((P(nn)>c||P(wn)>c)&&--Rn>0);return[Or,Vr]},wr}var Tr=Dr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function dn(){return(0,d.c)(Tr).scale(149.995)}var Nr=Dr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Cn(){return(0,d.c)(Nr).scale(153.93)}var an=Dr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function gr(){return(0,d.c)(an).scale(130.945)}function Pr($e,st){var mt=$e*$e,wt=st*st;return[$e*(1-.162388*wt)*(.87-952426e-9*mt*mt),st*(1+wt/12)]}Pr.invert=function($e,st){var mt=$e,wt=st,_t=50,Dt;do{var zt=wt*wt;wt-=Dt=(wt*(1+zt/12)-st)/(1+zt/4)}while(P(Dt)>c&&--_t>0);_t=50,$e/=1-.162388*zt;do{var pr=(pr=mt*mt)*pr;mt-=Dt=(mt*(.87-952426e-9*pr)-$e)/(.87-.00476213*pr)}while(P(Dt)>c&&--_t>0);return[mt,wt]};function Xr(){return(0,d.c)(Pr).scale(131.747)}var _r=Dr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function gn(){return(0,d.c)(_r).scale(131.087)}function rn($e){var st=$e(i,0)[0]-$e(-i,0)[0];function mt(wt,_t){var Dt=wt>0?-.5:.5,zt=$e(wt+Dt*h,_t);return zt[0]-=Dt*st,zt}return $e.invert&&(mt.invert=function(wt,_t){var Dt=wt>0?-.5:.5,zt=$e.invert(wt+Dt*st,_t),pr=zt[0]-Dt*h;return pr<-h?pr+=2*h:pr>h&&(pr-=2*h),zt[0]=pr,zt}),mt}function An($e,st){var mt=f($e),wt=f(st),_t=x(st),Dt=x($e)*_t,zt=l($e)*_t,pr=l(wt*st);$e=P(C(zt,pr)),st=S(Dt),P($e-i)>c&&($e%=i);var wr=Pn($e>h/4?i-$e:$e,st);return $e>h/4&&(pr=wr[0],wr[0]=-wr[1],wr[1]=-pr),wr[0]*=mt,wr[1]*=-wt,wr}An.invert=function($e,st){P($e)>1&&($e=f($e)*2-$e),P(st)>1&&(st=f(st)*2-st);var mt=f($e),wt=f(st),_t=-mt*$e,Dt=-wt*st,zt=Dt/_t<1,pr=Wn(zt?Dt:_t,zt?_t:Dt),wr=pr[0],sr=pr[1],Mr=x(sr);return zt&&(wr=-i-wr),[mt*(C(l(wr)*Mr,-l(sr))+h),wt*S(x(wr)*Mr)]};function Pn($e,st){if(st===i)return[0,0];var mt=l(st),wt=mt*mt,_t=wt*wt,Dt=1+_t,zt=1+3*_t,pr=1-_t,wr=S(1/_(Dt)),sr=pr+wt*Dt*wr,Mr=(1-mt)/sr,Or=_(Mr),Vr=Mr*Dt,nn=_(Vr),wn=Or*pr,Rn,In;if($e===0)return[0,-(wn+wt*nn)];var Qn=x(st),ka=1/Qn,Da=2*mt*Qn,_a=(-3*wt+wr*zt)*Da,Na=(-sr*Qn-(1-mt)*_a)/(sr*sr),$a=.5*Na/Or,xi=pr*$a-2*wt*Or*Da,Gi=wt*Dt*Na+Mr*zt*Da,ce=-ka*Da,Ee=-ka*Gi,He=-2*ka*xi,tt=4*$e/h,ot;if($e>.222*h||st<h/4&&$e>.175*h){if(Rn=(wn+wt*_(Vr*(1+_t)-wn*wn))/(1+_t),$e>h/4)return[Rn,Rn];var ht=Rn,Rt=.5*Rn;Rn=.5*(Rt+ht),In=50;do{var At=_(Vr-Rn*Rn),Ut=Rn*(He+ce*At)+Ee*S(Rn/nn)-tt;if(!Ut)break;Ut<0?Rt=Rn:ht=Rn,Rn=.5*(Rt+ht)}while(P(ht-Rt)>c&&--In>0)}else{Rn=c,In=25;do{var Vt=Rn*Rn,ar=_(Vr-Vt),Rr=He+ce*ar,kr=Rn*Rr+Ee*S(Rn/nn)-tt,$r=Rr+(Ee-ce*Vt)/ar;Rn-=ot=ar?kr/$r:0}while(P(ot)>c&&--In>0)}return[Rn,-wn-wt*_(Vr-Rn*Rn)]}function Wn($e,st){for(var mt=0,wt=1,_t=.5,Dt=50;;){var zt=_t*_t,pr=_(_t),wr=S(1/_(1+zt)),sr=1-zt+_t*(1+zt)*wr,Mr=(1-pr)/sr,Or=_(Mr),Vr=Mr*(1+zt),nn=Or*(1-zt),wn=Vr-$e*$e,Rn=_(wn),In=st+nn+_t*Rn;if(P(wt-mt)<T||--Dt===0||In===0)break;In>0?mt=_t:wt=_t,_t=.5*(mt+wt)}if(!Dt)return null;var Qn=S(pr),ka=x(Qn),Da=1/ka,_a=2*pr*ka,Na=(-3*_t+wr*(1+3*zt))*_a,$a=(-sr*ka-(1-pr)*Na)/(sr*sr),xi=.5*$a/Or,Gi=(1-zt)*xi-2*_t*Or*_a,ce=-2*Da*Gi,Ee=-Da*_a,He=-Da*(_t*(1+zt)*$a+Mr*(1+3*zt)*_a);return[h/4*($e*(ce+Ee*Rn)+He*S($e/_(Vr))),Qn]}function ya(){return(0,d.c)(rn(An)).scale(239.75)}function Ta($e,st,mt){var wt,_t,Dt;return $e?(wt=sa($e,mt),st?(_t=sa(st,1-mt),Dt=_t[1]*_t[1]+mt*wt[0]*wt[0]*_t[0]*_t[0],[[wt[0]*_t[2]/Dt,wt[1]*wt[2]*_t[0]*_t[1]/Dt],[wt[1]*_t[1]/Dt,-wt[0]*wt[2]*_t[0]*_t[2]/Dt],[wt[2]*_t[1]*_t[2]/Dt,-mt*wt[0]*wt[1]*_t[0]/Dt]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(_t=sa(st,1-mt),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function sa($e,st){var mt,wt,_t,Dt,zt;if(st<c)return Dt=l($e),wt=x($e),mt=st*($e-Dt*wt)/4,[Dt-mt*wt,wt+mt*Dt,1-st*Dt*Dt/2,$e-mt];if(st>=1-c)return mt=(1-st)/4,wt=O($e),Dt=I($e),_t=1/wt,zt=wt*H($e),[Dt+mt*(zt-$e)/(wt*wt),_t-mt*Dt*_t*(zt-$e),_t+mt*Dt*_t*(zt+$e),2*n(v($e))-i+mt*(zt-$e)/wt];var pr=[1,0,0,0,0,0,0,0,0],wr=[_(st),0,0,0,0,0,0,0,0],sr=0;for(wt=_(1-st),zt=1;P(wr[sr]/pr[sr])>c&&sr<8;)mt=pr[sr++],wr[sr]=(mt-wt)/2,pr[sr]=(mt+wt)/2,wt=_(mt*wt),zt*=2;_t=zt*pr[sr]*$e;do Dt=wr[sr]*l(wt=_t)/pr[sr],_t=(S(Dt)+_t)/2;while(--sr);return[l(_t),Dt=x(_t),Dt/x(_t-wt),_t]}function aa($e,st,mt){var wt=P($e),_t=P(st),Dt=H(_t);if(wt){var zt=1/l(wt),pr=1/(y(wt)*y(wt)),wr=-(pr+mt*(Dt*Dt*zt*zt)-1+mt),sr=(mt-1)*pr,Mr=(-wr+_(wr*wr-4*sr))/2;return[kn(n(1/_(Mr)),mt)*f($e),kn(n(_((Mr/pr-1)/mt)),1-mt)*f(st)]}return[0,kn(n(Dt),1-mt)*f(st)]}function kn($e,st){if(!st)return $e;if(st===1)return r(y($e/2+g));for(var mt=1,wt=_(1-st),_t=_(st),Dt=0;P(_t)>c;Dt++){if($e%h){var zt=n(wt*y($e)/mt);zt<0&&(zt+=h),$e+=zt+~~($e/h)*h}else $e+=$e;_t=(mt+wt)/2,wt=_(mt*wt),_t=((mt=_t)-wt)/2}return $e/(a(2,Dt)*mt)}function Cr($e,st){var mt=(A-1)/(A+1),wt=_(1-mt*mt),_t=kn(i,wt*wt),Dt=-1,zt=r(y(h/4+P(st)/2)),pr=v(Dt*zt)/_(mt),wr=on(pr*x(Dt*$e),pr*l(Dt*$e)),sr=aa(wr[0],wr[1],wt*wt);return[-sr[1],(st>=0?1:-1)*(.5*_t-sr[0])]}function on($e,st){var mt=$e*$e,wt=st+1,_t=1-mt-st*st;return[.5*(($e>=0?i:-i)-C(_t,2*$e)),-.25*r(_t*_t+4*mt)+.5*r(wt*wt+mt)]}function sn($e,st){var mt=st[0]*st[0]+st[1]*st[1];return[($e[0]*st[0]+$e[1]*st[1])/mt,($e[1]*st[0]-$e[0]*st[1])/mt]}Cr.invert=function($e,st){var mt=(A-1)/(A+1),wt=_(1-mt*mt),_t=kn(i,wt*wt),Dt=-1,zt=Ta(.5*_t-st,-$e,wt*wt),pr=sn(zt[0],zt[1]),wr=C(pr[1],pr[0])/Dt;return[wr,2*n(v(.5/Dt*r(mt*pr[0]*pr[0]+mt*pr[1]*pr[1])))-i]};function un(){return(0,d.c)(rn(Cr)).scale(151.496)}var Bn=e(61780);function yn($e){var st=l($e),mt=x($e),wt=Ln($e);wt.invert=Ln(-$e);function _t(Dt,zt){var pr=wt(Dt,zt);Dt=pr[0],zt=pr[1];var wr=l(zt),sr=x(zt),Mr=x(Dt),Or=w(st*wr+mt*sr*Mr),Vr=l(Or),nn=P(Vr)>c?Or/Vr:1;return[nn*mt*l(Dt),(P(Dt)>i?nn:-nn)*(st*sr-mt*wr*Mr)]}return _t.invert=function(Dt,zt){var pr=_(Dt*Dt+zt*zt),wr=-l(pr),sr=x(pr),Mr=pr*sr,Or=-zt*wr,Vr=pr*st,nn=_(Mr*Mr+Or*Or-Vr*Vr),wn=C(Mr*Vr+Or*nn,Or*Vr-Mr*nn),Rn=(pr>i?-1:1)*C(Dt*wr,pr*x(wn)*sr+zt*l(wn)*wr);return wt.invert(Rn,wn)},_t}function Ln($e){var st=l($e),mt=x($e);return function(wt,_t){var Dt=x(_t),zt=x(wt)*Dt,pr=l(wt)*Dt,wr=l(_t);return[C(pr,zt*mt-wr*st),S(wr*mt+zt*st)]}}function Un(){var $e=0,st=(0,d.U)(yn),mt=st($e),wt=mt.rotate,_t=mt.stream,Dt=(0,Bn.c)();return mt.parallel=function(zt){if(!arguments.length)return $e*L;var pr=mt.rotate();return st($e=zt*M).rotate(pr)},mt.rotate=function(zt){return arguments.length?(wt.call(mt,[zt[0],zt[1]-$e*L]),Dt.center([-zt[0],-zt[1]]),mt):(zt=wt.call(mt),zt[1]+=$e*L,zt)},mt.stream=function(zt){return zt=_t(zt),zt.sphere=function(){zt.polygonStart();var pr=.01,wr=Dt.radius(90-pr)().coordinates[0],sr=wr.length-1,Mr=-1,Or;for(zt.lineStart();++Mr<sr;)zt.point((Or=wr[Mr])[0],Or[1]);for(zt.lineEnd(),wr=Dt.radius(90+pr)().coordinates[0],sr=wr.length-1,zt.lineStart();--Mr>=0;)zt.point((Or=wr[Mr])[0],Or[1]);zt.lineEnd(),zt.polygonEnd()},zt},mt.scale(79.4187).parallel(45).clipAngle(179.999)}var qn=e(84706),da=e(16016),Ia=3,Ar=S(1-1/Ia)*L,Br=Tt(0);function Sr($e){var st=Ar*M,mt=be(h,st)[0]-be(-h,st)[0],wt=Br(0,st)[1],_t=be(0,st)[1],Dt=R-_t,zt=m/$e,pr=4/m,wr=wt+Dt*Dt*4/m;function sr(Mr,Or){var Vr,nn=P(Or);if(nn>st){var wn=o($e-1,t(0,p((Mr+h)/zt)));Mr+=h*($e-1)/$e-wn*zt,Vr=be(Mr,nn),Vr[0]=Vr[0]*m/mt-m*($e-1)/(2*$e)+wn*m/$e,Vr[1]=wt+(Vr[1]-_t)*4*Dt/m,Or<0&&(Vr[1]=-Vr[1])}else Vr=Br(Mr,Or);return Vr[0]*=pr,Vr[1]/=wr,Vr}return sr.invert=function(Mr,Or){Mr/=pr,Or*=wr;var Vr=P(Or);if(Vr>wt){var nn=o($e-1,t(0,p((Mr+h)/zt)));Mr=(Mr+h*($e-1)/$e-nn*zt)*mt/m;var wn=be.invert(Mr,.25*(Vr-wt)*m/Dt+_t);return wn[0]-=h*($e-1)/$e-nn*zt,Or<0&&(wn[1]=-wn[1]),wn}return Br.invert(Mr,Or)},sr}function Ur($e,st){return[$e,st&1?90-c:Ar]}function fn($e,st){return[$e,st&1?-90+c:-Ar]}function Dn($e){return[$e[0]*(1-c),$e[1]]}function xn($e){var st=[].concat((0,qn.ik)(-180,180+$e/2,$e).map(Ur),(0,qn.ik)(180,-180-$e/2,-$e).map(fn));return{type:"Polygon",coordinates:[$e===180?st.map(Dn):st]}}function hn(){var $e=4,st=(0,d.U)(Sr),mt=st($e),wt=mt.stream;return mt.lobes=function(_t){return arguments.length?st($e=+_t):$e},mt.stream=function(_t){var Dt=mt.rotate(),zt=wt(_t),pr=(mt.rotate([0,0]),wt(_t));return mt.rotate(Dt),zt.sphere=function(){(0,da.c)(xn(180/$e),pr)},zt},mt.scale(239.75)}function Er($e){var st=1+$e,mt=l(1/st),wt=S(mt),_t=2*_(h/(Dt=h+4*wt*st)),Dt,zt=.5*_t*(st+_($e*(2+$e))),pr=$e*$e,wr=st*st;function sr(Mr,Or){var Vr=1-l(Or),nn,wn;if(Vr&&Vr<2){var Rn=i-Or,In=25,Qn;do{var ka=l(Rn),Da=x(Rn),_a=wt+C(ka,st-Da),Na=1+wr-2*st*Da;Rn-=Qn=(Rn-pr*wt-st*ka+Na*_a-.5*Vr*Dt)/(2*st*ka*_a)}while(P(Qn)>T&&--In>0);nn=_t*_(Na),wn=Mr*_a/h}else nn=_t*($e+Vr),wn=Mr*wt/h;return[nn*l(wn),zt-nn*x(wn)]}return sr.invert=function(Mr,Or){var Vr=Mr*Mr+(Or-=zt)*Or,nn=(1+wr-Vr/(_t*_t))/(2*st),wn=w(nn),Rn=l(wn),In=wt+C(Rn,st-nn);return[S(Mr/_(Vr))*h/In,S(1-2*(wn-pr*wt-st*Rn+(1+wr-2*st*nn)*In)/Dt)]},sr}function Yr(){var $e=1,st=(0,d.U)(Er),mt=st($e);return mt.ratio=function(wt){return arguments.length?st($e=+wt):$e},mt.scale(167.774).center([0,18.67])}var Wr=.7109889596207567,qr=.0528035274542;function Tn($e,st){return st>-Wr?($e=_e($e,st),$e[1]+=qr,$e):Je($e,st)}Tn.invert=function($e,st){return st>-Wr?_e.invert($e,st-qr):Je.invert($e,st)};function Sn(){return(0,d.c)(Tn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Nn($e,st){return P(st)>Wr?($e=_e($e,st),$e[1]-=st>0?qr:-qr,$e):Je($e,st)}Nn.invert=function($e,st){return P(st)>Wr?_e.invert($e,st+(st>0?qr:-qr)):Je.invert($e,st)};function Hn(){return(0,d.c)(Nn).scale(152.63)}function zn($e,st,mt,wt){var _t=_(4*h/(2*mt+(1+$e-st/2)*l(2*mt)+($e+st)/2*l(4*mt)+st/2*l(6*mt))),Dt=_(wt*l(mt)*_((1+$e*x(2*mt)+st*x(4*mt))/(1+$e+st))),zt=mt*wr(1);function pr(Or){return _(1+$e*x(2*Or)+st*x(4*Or))}function wr(Or){var Vr=Or*mt;return(2*Vr+(1+$e-st/2)*l(2*Vr)+($e+st)/2*l(4*Vr)+st/2*l(6*Vr))/mt}function sr(Or){return pr(Or)*l(Or)}var Mr=function(Or,Vr){var nn=mt*we(wr,zt*l(Vr)/mt,Vr/h);isNaN(nn)&&(nn=mt*f(Vr));var wn=_t*pr(nn);return[wn*Dt*Or/h*x(nn),wn/Dt*l(nn)]};return Mr.invert=function(Or,Vr){var nn=we(sr,Vr*Dt/_t);return[Or*h/(x(nn)*_t*Dt*pr(nn)),S(mt*wr(nn/mt)/zt)]},mt===0&&(_t=_(wt/h),Mr=function(Or,Vr){return[Or*_t,l(Vr)/_t]},Mr.invert=function(Or,Vr){return[Or/_t,S(Vr*_t)]}),Mr}function Yn(){var $e=1,st=0,mt=45*M,wt=2,_t=(0,d.U)(zn),Dt=_t($e,st,mt,wt);return Dt.a=function(zt){return arguments.length?_t($e=+zt,st,mt,wt):$e},Dt.b=function(zt){return arguments.length?_t($e,st=+zt,mt,wt):st},Dt.psiMax=function(zt){return arguments.length?_t($e,st,mt=+zt*M,wt):mt*L},Dt.ratio=function(zt){return arguments.length?_t($e,st,mt,wt=+zt):wt},Dt.scale(180.739)}function Kn($e,st,mt,wt,_t,Dt,zt,pr,wr,sr,Mr){if(Mr.nanEncountered)return NaN;var Or,Vr,nn,wn,Rn,In,Qn,ka,Da,_a;if(Or=mt-st,Vr=$e(st+Or*.25),nn=$e(mt-Or*.25),isNaN(Vr)){Mr.nanEncountered=!0;return}if(isNaN(nn)){Mr.nanEncountered=!0;return}return wn=Or*(wt+4*Vr+_t)/12,Rn=Or*(_t+4*nn+Dt)/12,In=wn+Rn,_a=(In-zt)/15,sr>wr?(Mr.maxDepthCount++,In+_a):Math.abs(_a)<pr?In+_a:(Qn=st+Or*.5,ka=Kn($e,st,Qn,wt,Vr,_t,wn,pr*.5,wr,sr+1,Mr),isNaN(ka)?(Mr.nanEncountered=!0,NaN):(Da=Kn($e,Qn,mt,_t,nn,Dt,Rn,pr*.5,wr,sr+1,Mr),isNaN(Da)?(Mr.nanEncountered=!0,NaN):ka+Da))}function la($e,st,mt,wt,_t){var Dt={maxDepthCount:0,nanEncountered:!1};_t===void 0&&(_t=20);var zt=$e(st),pr=$e(.5*(st+mt)),wr=$e(mt),sr=(zt+4*pr+wr)*(mt-st)/6,Mr=Kn($e,st,mt,zt,pr,wr,sr,wt,_t,1,Dt);return Mr}function Ra($e,st,mt){function wt(nn){return $e+(1-$e)*a(1-a(nn,st),1/st)}function _t(nn){return la(wt,0,nn,1e-4)}for(var Dt=1/_t(1),zt=1e3,pr=(1+1e-8)*Dt,wr=[],sr=0;sr<=zt;sr++)wr.push(_t(sr/zt)*pr);function Mr(nn){var wn=0,Rn=zt,In=zt>>1;do wr[In]>nn?Rn=In:wn=In,In=wn+Rn>>1;while(In>wn);var Qn=wr[In+1]-wr[In];return Qn&&(Qn=(nn-wr[In+1])/Qn),(In+1+Qn)/zt}var Or=2*Mr(1)/h*Dt/mt,Vr=function(nn,wn){var Rn=Mr(P(l(wn))),In=wt(Rn)*nn;return Rn/=Or,[In,wn>=0?Rn:-Rn]};return Vr.invert=function(nn,wn){var Rn;return wn*=Or,P(wn)<1&&(Rn=f(wn)*S(_t(P(wn))*Dt)),[nn/wt(P(wn)),Rn]},Vr}function wi(){var $e=0,st=2.5,mt=1.183136,wt=(0,d.U)(Ra),_t=wt($e,st,mt);return _t.alpha=function(Dt){return arguments.length?wt($e=+Dt,st,mt):$e},_t.k=function(Dt){return arguments.length?wt($e,st=+Dt,mt):st},_t.gamma=function(Dt){return arguments.length?wt($e,st,mt=+Dt):mt},_t.scale(152.63)}function ii($e,st){return P($e[0]-st[0])<c&&P($e[1]-st[1])<c}function Lo($e,st){for(var mt=-1,wt=$e.length,_t=$e[0],Dt,zt,pr,wr=[];++mt<wt;){Dt=$e[mt],zt=(Dt[0]-_t[0])/st,pr=(Dt[1]-_t[1])/st;for(var sr=0;sr<st;++sr)wr.push([_t[0]+sr*zt,_t[1]+sr*pr]);_t=Dt}return wr.push(Dt),wr}function Wo($e){var st=[],mt,wt,_t,Dt,zt,pr,wr,sr=$e[0].length;for(wr=0;wr<sr;++wr)mt=$e[0][wr],wt=mt[0][0],_t=mt[0][1],Dt=mt[1][1],zt=mt[2][0],pr=mt[2][1],st.push(Lo([[wt+c,_t+c],[wt+c,Dt-c],[zt-c,Dt-c],[zt-c,pr+c]],30));for(wr=$e[1].length-1;wr>=0;--wr)mt=$e[1][wr],wt=mt[0][0],_t=mt[0][1],Dt=mt[1][1],zt=mt[2][0],pr=mt[2][1],st.push(Lo([[zt-c,pr-c],[zt-c,Dt+c],[wt+c,Dt+c],[wt+c,_t-c]],30));return{type:"Polygon",coordinates:[(0,qn.Uf)(st)]}}function po($e,st,mt){var wt,_t;function Dt(wr,sr){for(var Mr=sr<0?-1:1,Or=st[+(sr<0)],Vr=0,nn=Or.length-1;Vr<nn&&wr>Or[Vr][2][0];++Vr);var wn=$e(wr-Or[Vr][1][0],sr);return wn[0]+=$e(Or[Vr][1][0],Mr*sr>Mr*Or[Vr][0][1]?Or[Vr][0][1]:sr)[0],wn}mt?Dt.invert=mt(Dt):$e.invert&&(Dt.invert=function(wr,sr){for(var Mr=_t[+(sr<0)],Or=st[+(sr<0)],Vr=0,nn=Mr.length;Vr<nn;++Vr){var wn=Mr[Vr];if(wn[0][0]<=wr&&wr<wn[1][0]&&wn[0][1]<=sr&&sr<wn[1][1]){var Rn=$e.invert(wr-$e(Or[Vr][1][0],0)[0],sr);return Rn[0]+=Or[Vr][1][0],ii(Dt(Rn[0],Rn[1]),[wr,sr])?Rn:null}}});var zt=(0,d.c)(Dt),pr=zt.stream;return zt.stream=function(wr){var sr=zt.rotate(),Mr=pr(wr),Or=(zt.rotate([0,0]),pr(wr));return zt.rotate(sr),Mr.sphere=function(){(0,da.c)(wt,Or)},Mr},zt.lobes=function(wr){return arguments.length?(wt=Wo(wr),st=wr.map(function(sr){return sr.map(function(Mr){return[[Mr[0][0]*M,Mr[0][1]*M],[Mr[1][0]*M,Mr[1][1]*M],[Mr[2][0]*M,Mr[2][1]*M]]})}),_t=st.map(function(sr){return sr.map(function(Mr){var Or=$e(Mr[0][0],Mr[0][1])[0],Vr=$e(Mr[2][0],Mr[2][1])[0],nn=$e(Mr[1][0],Mr[0][1])[1],wn=$e(Mr[1][0],Mr[1][1])[1],Rn;return nn>wn&&(Rn=nn,nn=wn,wn=Rn),[[Or,nn],[Vr,wn]]})}),zt):st.map(function(sr){return sr.map(function(Mr){return[[Mr[0][0]*L,Mr[0][1]*L],[Mr[1][0]*L,Mr[1][1]*L],[Mr[2][0]*L,Mr[2][1]*L]]})})},st!=null&&zt.lobes(st),zt}var Vs=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Yl(){return po(Ge,Vs).scale(160.857)}var Eu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function oi(){return po(Nn,Eu).scale(152.63)}var Cu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Bf(){return po(_e,Cu).scale(169.529)}var so=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function zo(){return po(_e,so).scale(169.529).rotate([20,0])}var Xl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function uf(){return po(Tn,Xl,Te).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Hi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Zl(){return po(Je,Hi).scale(152.63).rotate([-20,0])}function Wi($e,st){return[3/m*$e*_(h*h/3-st*st),st]}Wi.invert=function($e,st){return[m/3*$e/_(h*h/3-st*st),st]};function eo(){return(0,d.c)(Wi).scale(158.837)}function Kl($e){function st(mt,wt){if(P(P(wt)-i)<c)return[0,wt<0?-2:2];var _t=l(wt),Dt=a((1+_t)/(1-_t),$e/2),zt=.5*(Dt+1/Dt)+x(mt*=$e);return[2*l(mt)/zt,(Dt-1/Dt)/zt]}return st.invert=function(mt,wt){var _t=P(wt);if(P(_t-2)<c)return mt?null:[0,f(wt)*i];if(_t>2)return null;mt/=2,wt/=2;var Dt=mt*mt,zt=wt*wt,pr=2*wt/(1+Dt+zt);return pr=a((1+pr)/(1-pr),1/$e),[C(2*mt,1-Dt-zt)/$e,S((pr-1)/(pr+1))]},st}function go(){var $e=.5,st=(0,d.U)(Kl),mt=st($e);return mt.spacing=function(wt){return arguments.length?st($e=+wt):$e},mt.scale(124.75)}var yo=h/A;function $o($e,st){return[$e*(1+_(x(st)))/2,st/(x(st/2)*x($e/6))]}$o.invert=function($e,st){var mt=P($e),wt=P(st),_t=c,Dt=i;wt<yo?Dt*=wt/yo:_t+=6*w(yo/wt);for(var zt=0;zt<25;zt++){var pr=l(Dt),wr=_(x(Dt)),sr=l(Dt/2),Mr=x(Dt/2),Or=l(_t/6),Vr=x(_t/6),nn=.5*_t*(1+wr)-mt,wn=Dt/(Mr*Vr)-wt,Rn=wr?-.25*_t*pr/wr:0,In=.5*(1+wr),Qn=(1+.5*Dt*sr/Mr)/(Mr*Vr),ka=Dt/Mr*(Or/6)/(Vr*Vr),Da=Rn*ka-Qn*In,_a=(nn*ka-wn*In)/Da,Na=(wn*Rn-nn*Qn)/Da;if(Dt-=_a,_t-=Na,P(_a)<c&&P(Na)<c)break}return[$e<0?-_t:_t,st<0?-Dt:Dt]};function Sc(){return(0,d.c)($o).scale(97.2672)}function jo($e,st){var mt=$e*$e,wt=st*st;return[$e*(.975534+wt*(-.119161+mt*-.0143059+wt*-.0547009)),st*(1.00384+mt*(.0802894+wt*-.02855+mt*199025e-9)+wt*(.0998909+wt*-.0491032))]}jo.invert=function($e,st){var mt=f($e)*h,wt=st/2,_t=50;do{var Dt=mt*mt,zt=wt*wt,pr=mt*wt,wr=mt*(.975534+zt*(-.119161+Dt*-.0143059+zt*-.0547009))-$e,sr=wt*(1.00384+Dt*(.0802894+zt*-.02855+Dt*199025e-9)+zt*(.0998909+zt*-.0491032))-st,Mr=.975534-zt*(.119161+3*Dt*.0143059+zt*.0547009),Or=-pr*(2*.119161+4*.0547009*zt+2*.0143059*Dt),Vr=pr*(2*.0802894+4*199025e-9*Dt+2*-.02855*zt),nn=1.00384+Dt*(.0802894+199025e-9*Dt)+zt*(3*(.0998909-.02855*Dt)-5*.0491032*zt),wn=Or*Vr-nn*Mr,Rn=(sr*Or-wr*nn)/wn,In=(wr*Vr-sr*Mr)/wn;mt-=Rn,wt-=In}while((P(Rn)>c||P(In)>c)&&--_t>0);return _t&&[mt,wt]};function Ph(){return(0,d.c)(jo).scale(139.98)}function Ls($e,st){return[l($e)/x(st),y(st)*x($e)]}Ls.invert=function($e,st){var mt=$e*$e,wt=st*st,_t=wt+1,Dt=mt+_t,zt=$e?b*_((Dt-_(Dt*Dt-4*mt))/mt):1/_(_t);return[S($e*zt),f(st)*w(zt)]};function lo(){return(0,d.c)(Ls).scale(144.049).clipAngle(89.999)}function Uf($e){var st=x($e),mt=y(g+$e/2);function wt(_t,Dt){var zt=Dt-$e,pr=P(zt)<c?_t*st:P(pr=g+Dt/2)<c||P(P(pr)-i)<c?0:_t*zt/r(y(pr)/mt);return[pr,zt]}return wt.invert=function(_t,Dt){var zt,pr=Dt+$e;return[P(Dt)<c?_t/st:P(zt=g+pr/2)<c||P(P(zt)-i)<c?0:_t*r(y(zt)/mt)/Dt,pr]},wt}function nl(){return it(Uf).parallel(40).scale(158.837)}function Ps($e,st){return[$e,1.25*r(y(g+.4*st))]}Ps.invert=function($e,st){return[$e,2.5*n(v(.8*st))-.625*h]};function Hf(){return(0,d.c)(Ps).scale(108.318)}function Mc($e){var st=$e.length-1;function mt(wt,_t){for(var Dt=x(_t),zt=2/(1+Dt*x(wt)),pr=zt*Dt*l(wt),wr=zt*l(_t),sr=st,Mr=$e[sr],Or=Mr[0],Vr=Mr[1],nn;--sr>=0;)Mr=$e[sr],Or=Mr[0]+pr*(nn=Or)-wr*Vr,Vr=Mr[1]+pr*Vr+wr*nn;return Or=pr*(nn=Or)-wr*Vr,Vr=pr*Vr+wr*nn,[Or,Vr]}return mt.invert=function(wt,_t){var Dt=20,zt=wt,pr=_t;do{for(var wr=st,sr=$e[wr],Mr=sr[0],Or=sr[1],Vr=0,nn=0,wn;--wr>=0;)sr=$e[wr],Vr=Mr+zt*(wn=Vr)-pr*nn,nn=Or+zt*nn+pr*wn,Mr=sr[0]+zt*(wn=Mr)-pr*Or,Or=sr[1]+zt*Or+pr*wn;Vr=Mr+zt*(wn=Vr)-pr*nn,nn=Or+zt*nn+pr*wn,Mr=zt*(wn=Mr)-pr*Or-wt,Or=zt*Or+pr*wn-_t;var Rn=Vr*Vr+nn*nn,In,Qn;zt-=In=(Mr*Vr+Or*nn)/Rn,pr-=Qn=(Or*Vr-Mr*nn)/Rn}while(P(In)+P(Qn)>c*c&&--Dt>0);if(Dt){var ka=_(zt*zt+pr*pr),Da=2*n(ka*.5),_a=l(Da);return[C(zt*_a,ka*x(Da)),ka?S(pr*_a/ka):0]}},mt}var Rh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ff=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],kh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Dh=[[.9245,0],[0,0],[.01943,0]],Ih=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Vf(){return El(Rh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function _h(){return El(ff,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function zh(){return El(kh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ec(){return El(Dh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Cc(){return El(Ih,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function El($e,st){var mt=(0,d.c)(Mc($e)).rotate(st).clipAngle(90),wt=(0,We.c)(st),_t=mt.center;return delete mt.rotate,mt.center=function(Dt){return arguments.length?_t(wt(Dt)):wt.invert(_t())},mt}var Jl=_(6),Lu=_(7);function Pu($e,st){var mt=S(7*l(st)/(3*Jl));return[Jl*$e*(2*x(2*mt/3)-1)/Lu,9*l(mt/3)/Lu]}Pu.invert=function($e,st){var mt=3*S(st*Lu/9);return[$e*Lu/(Jl*(2*x(2*mt/3)-1)),S(l(mt)*3*Jl/7)]};function Lc(){return(0,d.c)(Pu).scale(164.859)}function Gs($e,st){for(var mt=(1+b)*l(st),wt=st,_t=0,Dt;_t<25&&(wt-=Dt=(l(wt/2)+l(wt)-mt)/(.5*x(wt/2)+x(wt)),!(P(Dt)<c));_t++);return[$e*(1+2*x(wt)/x(wt/2))/(3*A),2*_(3)*l(wt/2)/_(2+A)]}Gs.invert=function($e,st){var mt=st*_(2+A)/(2*_(3)),wt=2*S(mt);return[3*A*$e/(1+2*x(wt)/x(wt/2)),S((mt+l(wt))/(1+b))]};function Oh(){return(0,d.c)(Gs).scale(188.209)}function cf($e,st){for(var mt=_(6/(4+h)),wt=(1+h/4)*l(st),_t=st/2,Dt=0,zt;Dt<25&&(_t-=zt=(_t/2+l(_t)-wt)/(.5+x(_t)),!(P(zt)<c));Dt++);return[mt*(.5+x(_t))*$e/1.5,mt*_t]}cf.invert=function($e,st){var mt=_(6/(4+h)),wt=st/mt;return P(P(wt)-i)<c&&(wt=wt<0?-i:i),[1.5*$e/(mt*(.5+x(wt))),S((wt/2+l(wt))/(1+h/4))]};function Pc(){return(0,d.c)(cf).scale(166.518)}var Rc=e(47984);function hf($e,st){var mt=st*st,wt=mt*mt,_t=mt*wt;return[$e*(.84719-.13063*mt+_t*_t*(-.04515+.05494*mt-.02326*wt+.00331*_t)),st*(1.01183+wt*wt*(-.02625+.01926*mt-.00396*wt))]}hf.invert=function($e,st){var mt=st,wt=25,_t,Dt,zt,pr;do Dt=mt*mt,zt=Dt*Dt,mt-=_t=(mt*(1.01183+zt*zt*(-.02625+.01926*Dt-.00396*zt))-st)/(1.01183+zt*zt*(-.23625+.21186*Dt+-.05148*zt));while(P(_t)>T&&--wt>0);return Dt=mt*mt,zt=Dt*Dt,pr=Dt*zt,[$e/(.84719-.13063*Dt+pr*pr*(-.04515+.05494*Dt-.02326*zt+.00331*pr)),mt]};function cs(){return(0,d.c)(hf).scale(175.295)}function Ql($e,st){return[$e*(1+x(st))/2,2*(st-y(st/2))]}Ql.invert=function($e,st){for(var mt=st/2,wt=0,_t=1/0;wt<10&&P(_t)>c;++wt){var Dt=x(st/2);st-=_t=(st-y(st/2)-mt)/(1-.5/(Dt*Dt))}return[2*$e/(1+x(st)),st]};function Cl(){return(0,d.c)(Ql).scale(152.63)}var Ru=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function al(){return po(ne(1/0),Ru).rotate([20,0]).scale(152.63)}function Rs($e,st){var mt=l(st),wt=x(st),_t=f($e);if($e===0||P(st)===i)return[0,st];if(st===0)return[$e,0];if(P($e)===i)return[$e*wt,i*mt];var Dt=h/(2*$e)-2*$e/h,zt=2*st/h,pr=(1-zt*zt)/(mt-zt),wr=Dt*Dt,sr=pr*pr,Mr=1+wr/sr,Or=1+sr/wr,Vr=(Dt*mt/pr-Dt/2)/Mr,nn=(sr*mt/wr+pr/2)/Or,wn=Vr*Vr+wt*wt/Mr,Rn=nn*nn-(sr*mt*mt/wr+pr*mt-1)/Or;return[i*(Vr+_(wn)*_t),i*(nn+_(Rn<0?0:Rn)*f(-st*Dt)*_t)]}Rs.invert=function($e,st){$e/=i,st/=i;var mt=$e*$e,wt=st*st,_t=mt+wt,Dt=h*h;return[$e?(_t-1+_((1-_t)*(1-_t)+4*mt))/(2*$e)*i:0,we(function(zt){return _t*(h*l(zt)-2*zt)*h+4*zt*zt*(st-l(zt))+2*h*zt-Dt*st},0)]};function Gf(){return(0,d.c)(Rs).scale(127.267)}var $l=1.0148,hs=.23185,Fi=-.14499,Wf=.02406,Fh=$l,vf=5*hs,ql=7*Fi,eu=9*Wf,Yo=1.790857183;function df($e,st){var mt=st*st;return[$e,st*($l+mt*mt*(hs+mt*(Fi+Wf*mt)))]}df.invert=function($e,st){st>Yo?st=Yo:st<-Yo&&(st=-Yo);var mt=st,wt;do{var _t=mt*mt;mt-=wt=(mt*($l+_t*_t*(hs+_t*(Fi+Wf*_t)))-st)/(Fh+_t*_t*(vf+_t*(ql+eu*_t)))}while(P(wt)>c);return[$e,mt]};function tu(){return(0,d.c)(df).scale(139.319)}function pf($e,st){if(P(st)<c)return[$e,0];var mt=y(st),wt=$e*l(st);return[l(wt)/mt,st+(1-x(wt))/mt]}pf.invert=function($e,st){if(P(st)<c)return[$e,0];var mt=$e*$e+st*st,wt=st*.5,_t=10,Dt;do{var zt=y(wt),pr=1/x(wt),wr=mt-2*st*wt+wt*wt;wt-=Dt=(zt*wr+2*(wt-st))/(2+wr*pr*pr+2*(wt-st)*zt)}while(P(Dt)>c&&--_t>0);return zt=y(wt),[(P(st)<P(wt+1/zt)?S($e*zt):f(st)*f($e)*(w(P($e*zt))+i))/l(wt),wt]};function Nh(){return(0,d.c)(pf).scale(103.74)}var kc=e(13696),jf=e(27284);function Yf($e,st){var mt=gf($e[1],$e[0]),wt=gf(st[1],st[0]),_t=yf(mt,wt),Dt=ku(mt)/ku(wt);return ru([1,0,$e[0][0],0,1,$e[0][1]],ru([Dt,0,0,0,Dt,0],ru([x(_t),l(_t),0,-l(_t),x(_t),0],[1,0,-st[0][0],0,1,-st[0][1]])))}function Xf($e){var st=1/($e[0]*$e[4]-$e[1]*$e[3]);return[st*$e[4],-st*$e[1],st*($e[1]*$e[5]-$e[2]*$e[4]),-st*$e[3],st*$e[0],st*($e[2]*$e[3]-$e[0]*$e[5])]}function ru($e,st){return[$e[0]*st[0]+$e[1]*st[3],$e[0]*st[1]+$e[1]*st[4],$e[0]*st[2]+$e[1]*st[5]+$e[2],$e[3]*st[0]+$e[4]*st[3],$e[3]*st[1]+$e[4]*st[4],$e[3]*st[2]+$e[4]*st[5]+$e[5]]}function gf($e,st){return[$e[0]-st[0],$e[1]-st[1]]}function ku($e){return _($e[0]*$e[0]+$e[1]*$e[1])}function yf($e,st){return C($e[0]*st[1]-$e[1]*st[0],$e[0]*st[0]+$e[1]*st[1])}function Ti($e,st,mt){wt($e,{transform:null});function wt(sr,Mr){if(sr.edges=Zf(sr.face),Mr.face){var Or=sr.shared=Ic(sr.face,Mr.face),Vr=Yf(Or.map(Mr.project),Or.map(sr.project));sr.transform=Mr.transform?ru(Mr.transform,Vr):Vr;for(var nn=Mr.edges,wn=0,Rn=nn.length;wn<Rn;++wn)vs(Or[0],nn[wn][1])&&vs(Or[1],nn[wn][0])&&(nn[wn]=sr),vs(Or[0],nn[wn][0])&&vs(Or[1],nn[wn][1])&&(nn[wn]=sr);for(nn=sr.edges,wn=0,Rn=nn.length;wn<Rn;++wn)vs(Or[0],nn[wn][0])&&vs(Or[1],nn[wn][1])&&(nn[wn]=Mr),vs(Or[0],nn[wn][1])&&vs(Or[1],nn[wn][0])&&(nn[wn]=Mr)}else sr.transform=Mr.transform;return sr.children&&sr.children.forEach(function(In){wt(In,sr)}),sr}function _t(sr,Mr){var Or=st(sr,Mr),Vr=Or.project([sr*L,Mr*L]),nn;return(nn=Or.transform)?[nn[0]*Vr[0]+nn[1]*Vr[1]+nn[2],-(nn[3]*Vr[0]+nn[4]*Vr[1]+nn[5])]:(Vr[1]=-Vr[1],Vr)}Ll($e)&&(_t.invert=function(sr,Mr){var Or=Dt($e,[sr,-Mr]);return Or&&(Or[0]*=M,Or[1]*=M,Or)});function Dt(sr,Mr){var Or=sr.project.invert,Vr=sr.transform,nn=Mr;if(Vr&&(Vr=Xf(Vr),nn=[Vr[0]*nn[0]+Vr[1]*nn[1]+Vr[2],Vr[3]*nn[0]+Vr[4]*nn[1]+Vr[5]]),Or&&sr===zt(wn=Or(nn)))return wn;for(var wn,Rn=sr.children,In=0,Qn=Rn&&Rn.length;In<Qn;++In)if(wn=Dt(Rn[In],Mr))return wn}function zt(sr){return st(sr[0]*M,sr[1]*M)}var pr=(0,d.c)(_t),wr=pr.stream;return pr.stream=function(sr){var Mr=pr.rotate(),Or=wr(sr),Vr=(pr.rotate([0,0]),wr(sr));return pr.rotate(Mr),Or.sphere=function(){Vr.polygonStart(),Vr.lineStart(),Dc(Vr,$e),Vr.lineEnd(),Vr.polygonEnd()},Or},pr.angle(mt==null?-30:mt*L)}function Dc($e,st,mt){var wt,_t=st.edges,Dt=_t.length,zt,pr={type:"MultiPoint",coordinates:st.face},wr=st.face.filter(function(Rn){return P(Rn[1])!==90}),sr=(0,kc.c)({type:"MultiPoint",coordinates:wr}),Mr=!1,Or=-1,Vr=sr[1][0]-sr[0][0],nn=Vr===180||Vr===360?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,Fe.c)(pr);if(mt)for(;++Or<Dt&&_t[Or]!==mt;);++Or;for(var wn=0;wn<Dt;++wn)zt=_t[(wn+Or)%Dt],Array.isArray(zt)?(Mr||($e.point((wt=(0,jf.c)(zt[0],nn)(c))[0],wt[1]),Mr=!0),$e.point((wt=(0,jf.c)(zt[1],nn)(c))[0],wt[1])):(Mr=!1,zt!==mt&&Dc($e,zt,st))}function vs($e,st){return $e&&st&&$e[0]===st[0]&&$e[1]===st[1]}function Ic($e,st){for(var mt,wt,_t=$e.length,Dt=null,zt=0;zt<_t;++zt){mt=$e[zt];for(var pr=st.length;--pr>=0;)if(wt=st[pr],mt[0]===wt[0]&&mt[1]===wt[1]){if(Dt)return[Dt,mt];Dt=mt}}}function Zf($e){for(var st=$e.length,mt=[],wt=$e[st-1],_t=0;_t<st;++_t)mt.push([wt,wt=$e[_t]]);return mt}function Ll($e){return $e.project.invert||$e.children&&$e.children.some(Ll)}var il=e(53285),mf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Vi=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(st){return mf[st]})});function Du($e){$e=$e||function(mt){var wt=(0,Fe.c)({type:"MultiPoint",coordinates:mt});return(0,il.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var st=Vi.map(function(mt){return{face:mt,project:$e(mt)}});return[-1,0,0,1,0,1,4,5].forEach(function(mt,wt){var _t=st[mt];_t&&(_t.children||(_t.children=[])).push(st[wt])}),Ti(st[0],function(mt,wt){return st[mt<-h/2?wt<0?6:4:mt<0?wt<0?2:0:mt<h/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ds=2/_(3);function Ws($e,st){var mt=be($e,st);return[mt[0]*ds,mt[1]]}Ws.invert=function($e,st){return be.invert($e/ds,st)};function Pl($e){$e=$e||function(mt){var wt=(0,Fe.c)({type:"MultiPoint",coordinates:mt});return(0,d.c)(Ws).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var st=Vi.map(function(mt){return{face:mt,project:$e(mt)}});return[-1,0,0,1,0,1,4,5].forEach(function(mt,wt){var _t=st[mt];_t&&(_t.children||(_t.children=[])).push(st[wt])}),Ti(st[0],function(mt,wt){return st[mt<-h/2?wt<0?6:4:mt<0?wt<0?2:0:mt<h/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ol($e){$e=$e||function(zt){var pr=zt.length===6?(0,Fe.c)({type:"MultiPoint",coordinates:zt}):zt[0];return(0,il.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var st=Vi.map(function(zt){for(var pr=zt.map(ns),wr=pr.length,sr=pr[wr-1],Mr,Or=[],Vr=0;Vr<wr;++Vr)Mr=pr[Vr],Or.push(gs([sr[0]*.9486832980505138+Mr[0]*.31622776601683794,sr[1]*.9486832980505138+Mr[1]*.31622776601683794,sr[2]*.9486832980505138+Mr[2]*.31622776601683794]),gs([Mr[0]*.9486832980505138+sr[0]*.31622776601683794,Mr[1]*.9486832980505138+sr[1]*.31622776601683794,Mr[2]*.9486832980505138+sr[2]*.31622776601683794])),sr=Mr;return Or}),mt=[],wt=[-1,0,0,1,0,1,4,5];st.forEach(function(zt,pr){for(var wr=Vi[pr],sr=wr.length,Mr=mt[pr]=[],Or=0;Or<sr;++Or)st.push([wr[Or],zt[(Or*2+2)%(2*sr)],zt[(Or*2+1)%(2*sr)]]),wt.push(pr),Mr.push(js(ns(zt[(Or*2+2)%(2*sr)]),ns(zt[(Or*2+1)%(2*sr)])))});var _t=st.map(function(zt){return{project:$e(zt),face:zt}});wt.forEach(function(zt,pr){var wr=_t[zt];wr&&(wr.children||(wr.children=[])).push(_t[pr])});function Dt(zt,pr){var wr=x(pr),sr=[wr*x(zt),wr*l(zt),l(pr)],Mr=zt<-h/2?pr<0?6:4:zt<0?pr<0?2:0:zt<h/2?pr<0?3:1:pr<0?7:5,Or=mt[Mr];return _t[ps(Or[0],sr)<0?8+3*Mr:ps(Or[1],sr)<0?8+3*Mr+1:ps(Or[2],sr)<0?8+3*Mr+2:Mr]}return Ti(_t[0],Dt).angle(-30).scale(110.625).center([0,45])}function ps($e,st){for(var mt=0,wt=$e.length,_t=0;mt<wt;++mt)_t+=$e[mt]*st[mt];return _t}function js($e,st){return[$e[1]*st[2]-$e[2]*st[1],$e[2]*st[0]-$e[0]*st[2],$e[0]*st[1]-$e[1]*st[0]]}function gs($e){return[C($e[1],$e[0])*L,S(t(-1,o(1,$e[2])))*L]}function ns($e){var st=$e[0]*M,mt=$e[1]*M,wt=x(mt);return[wt*x(st),wt*l(st),l(mt)]}function Iu(){}function Bh($e){if((mt=$e.length)<4)return!1;for(var st=0,mt,wt=$e[mt-1][1]*$e[0][0]-$e[mt-1][0]*$e[0][1];++st<mt;)wt+=$e[st-1][1]*$e[st][0]-$e[st-1][0]*$e[st][1];return wt<=0}function Uh($e,st){for(var mt=st[0],wt=st[1],_t=!1,Dt=0,zt=$e.length,pr=zt-1;Dt<zt;pr=Dt++){var wr=$e[Dt],sr=wr[0],Mr=wr[1],Or=$e[pr],Vr=Or[0],nn=Or[1];Mr>wt^nn>wt&&mt<(Vr-sr)*(wt-Mr)/(nn-Mr)+sr&&(_t=!_t)}return _t}function Hh($e,st){var mt=st.stream,wt;if(!mt)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":wt=Kf;break;case"FeatureCollection":wt=Vh;break;default:wt=nu;break}return wt($e,mt)}function Vh($e,st){return{type:"FeatureCollection",features:$e.features.map(function(mt){return Kf(mt,st)})}}function Kf($e,st){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:nu($e.geometry,st)}}function _c($e,st){return{type:"GeometryCollection",geometries:$e.geometries.map(function(mt){return nu(mt,st)})}}function nu($e,st){if(!$e)return null;if($e.type==="GeometryCollection")return _c($e,st);var mt;switch($e.type){case"Point":mt=au;break;case"MultiPoint":mt=au;break;case"LineString":mt=zc;break;case"MultiLineString":mt=zc;break;case"Polygon":mt=_u;break;case"MultiPolygon":mt=_u;break;case"Sphere":mt=_u;break;default:return null}return(0,da.c)($e,st(mt)),mt.result()}var uo=[],qo=[],au={point:function($e,st){uo.push([$e,st])},result:function(){var $e=uo.length?uo.length<2?{type:"Point",coordinates:uo[0]}:{type:"MultiPoint",coordinates:uo}:null;return uo=[],$e}},zc={lineStart:Iu,point:function($e,st){uo.push([$e,st])},lineEnd:function(){uo.length&&(qo.push(uo),uo=[])},result:function(){var $e=qo.length?qo.length<2?{type:"LineString",coordinates:qo[0]}:{type:"MultiLineString",coordinates:qo}:null;return qo=[],$e}},_u={polygonStart:Iu,lineStart:Iu,point:function($e,st){uo.push([$e,st])},lineEnd:function(){var $e=uo.length;if($e){do uo.push(uo[0].slice());while(++$e<4);qo.push(uo),uo=[]}},polygonEnd:Iu,result:function(){if(!qo.length)return null;var $e=[],st=[];return qo.forEach(function(mt){Bh(mt)?$e.push([mt]):st.push(mt)}),st.forEach(function(mt){var wt=mt[0];$e.some(function(_t){if(Uh(_t[0],wt))return _t.push(mt),!0})||$e.push([mt])}),qo=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function Ys($e){var st=$e(i,0)[0]-$e(-i,0)[0];function mt(wt,_t){var Dt=P(wt)<i,zt=$e(Dt?wt:wt>0?wt-h:wt+h,_t),pr=(zt[0]-zt[1])*b,wr=(zt[0]+zt[1])*b;if(Dt)return[pr,wr];var sr=st*b,Mr=pr>0^wr>0?-1:1;return[Mr*pr-f(wr)*sr,Mr*wr-f(pr)*sr]}return $e.invert&&(mt.invert=function(wt,_t){var Dt=(wt+_t)*b,zt=(_t-wt)*b,pr=P(Dt)<.5*st&&P(zt)<.5*st;if(!pr){var wr=st*b,sr=Dt>0^zt>0?-1:1,Mr=-sr*wt+(zt>0?1:-1)*wr,Or=-sr*_t+(Dt>0?1:-1)*wr;Dt=(-Mr-Or)*b,zt=(Mr-Or)*b}var Vr=$e.invert(Dt,zt);return pr||(Vr[0]+=Dt>0?h:-h),Vr}),(0,d.c)(mt).rotate([-90,-90,45]).clipAngle(179.999)}function Gh(){return Ys(An).scale(176.423)}function Oc(){return Ys(Cr).scale(111.48)}function Fc($e,st){if(!(0<=(st=+st)&&st<=20))throw new Error("invalid digits");function mt(sr){var Mr=sr.length,Or=2,Vr=new Array(Mr);for(Vr[0]=+sr[0].toFixed(st),Vr[1]=+sr[1].toFixed(st);Or<Mr;)Vr[Or]=sr[Or],++Or;return Vr}function wt(sr){return sr.map(mt)}function _t(sr){for(var Mr=mt(sr[0]),Or=[Mr],Vr=1;Vr<sr.length;Vr++){var nn=mt(sr[Vr]);(nn.length>2||nn[0]!=Mr[0]||nn[1]!=Mr[1])&&(Or.push(nn),Mr=nn)}return Or.length===1&&sr.length>1&&Or.push(mt(sr[sr.length-1])),Or}function Dt(sr){return sr.map(_t)}function zt(sr){if(sr==null)return sr;var Mr;switch(sr.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:sr.geometries.map(zt)};break;case"Point":Mr={type:"Point",coordinates:mt(sr.coordinates)};break;case"MultiPoint":Mr={type:sr.type,coordinates:wt(sr.coordinates)};break;case"LineString":Mr={type:sr.type,coordinates:_t(sr.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:sr.type,coordinates:Dt(sr.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:sr.coordinates.map(Dt)};break;default:return sr}return sr.bbox!=null&&(Mr.bbox=sr.bbox),Mr}function pr(sr){var Mr={type:"Feature",properties:sr.properties,geometry:zt(sr.geometry)};return sr.id!=null&&(Mr.id=sr.id),sr.bbox!=null&&(Mr.bbox=sr.bbox),Mr}if($e!=null)switch($e.type){case"Feature":return pr($e);case"FeatureCollection":{var wr={type:"FeatureCollection",features:$e.features.map(pr)};return $e.bbox!=null&&(wr.bbox=$e.bbox),wr}default:return zt($e)}return $e}function Jf($e){var st=l($e);function mt(wt,_t){var Dt=st?y(wt*st/2)/st:wt/2;if(!_t)return[2*Dt,-$e];var zt=2*n(Dt*l(_t)),pr=1/y(_t);return[l(zt)*pr,_t+(1-x(zt))*pr-$e]}return mt.invert=function(wt,_t){if(P(_t+=$e)<c)return[st?2*n(st*wt/2)/st:wt,0];var Dt=wt*wt+_t*_t,zt=0,pr=10,wr;do{var sr=y(zt),Mr=1/x(zt),Or=Dt-2*_t*zt+zt*zt;zt-=wr=(sr*Or+2*(zt-_t))/(2+Or*Mr*Mr+2*(zt-_t)*sr)}while(P(wr)>c&&--pr>0);var Vr=wt*(sr=y(zt)),nn=y(P(_t)<P(zt+1/sr)?S(Vr)*.5:w(Vr)*.5+h/4)/l(zt);return[st?2*n(st*nn)/st:2*nn,zt]},mt}function Nc(){return it(Jf).scale(131.215)}var Oo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Oo.forEach(function($e){$e[1]*=1.0144});function ys($e,st){var mt=o(18,P(st)*36/h),wt=p(mt),_t=mt-wt,Dt=(Or=Oo[wt])[0],zt=Or[1],pr=(Or=Oo[++wt])[0],wr=Or[1],sr=(Or=Oo[o(19,++wt)])[0],Mr=Or[1],Or;return[$e*(pr+_t*(sr-Dt)/2+_t*_t*(sr-2*pr+Dt)/2),(st>0?i:-i)*(wr+_t*(Mr-zt)/2+_t*_t*(Mr-2*wr+zt)/2)]}ys.invert=function($e,st){var mt=st/i,wt=mt*90,_t=o(18,P(wt/5)),Dt=t(0,p(_t));do{var zt=Oo[Dt][1],pr=Oo[Dt+1][1],wr=Oo[o(19,Dt+2)][1],sr=wr-zt,Mr=wr-2*pr+zt,Or=2*(P(mt)-pr)/sr,Vr=Mr/sr,nn=Or*(1-Vr*Or*(1-2*Vr*Or));if(nn>=0||Dt===1){wt=(st>=0?5:-5)*(nn+_t);var wn=50,Rn;do _t=o(18,P(wt)/5),Dt=p(_t),nn=_t-Dt,zt=Oo[Dt][1],pr=Oo[Dt+1][1],wr=Oo[o(19,Dt+2)][1],wt-=(Rn=(st>=0?i:-i)*(pr+nn*(wr-zt)/2+nn*nn*(wr-2*pr+zt)/2)-st)*L;while(P(Rn)>T&&--wn>0);break}}while(--Dt>=0);var In=Oo[Dt][0],Qn=Oo[Dt+1][0],ka=Oo[o(19,Dt+2)][0];return[$e/(Qn+nn*(ka-In)/2+nn*nn*(ka-2*Qn+In)/2),wt*M]};function sl(){return(0,d.c)(ys).scale(152.63)}function iu($e){function st(mt,wt){var _t=x(wt),Dt=($e-1)/($e-_t*x(mt));return[Dt*_t*l(mt),Dt*l(wt)]}return st.invert=function(mt,wt){var _t=mt*mt+wt*wt,Dt=_(_t),zt=($e-_(1-_t*($e+1)/($e-1)))/(($e-1)/Dt+Dt/($e-1));return[C(mt*zt,Dt*_(1-zt*zt)),Dt?S(wt*zt/Dt):0]},st}function xf($e,st){var mt=iu($e);if(!st)return mt;var wt=x(st),_t=l(st);function Dt(zt,pr){var wr=mt(zt,pr),sr=wr[1],Mr=sr*_t/($e-1)+wt;return[wr[0]*wt/Mr,sr/Mr]}return Dt.invert=function(zt,pr){var wr=($e-1)/($e-1-pr*_t);return mt.invert(wr*zt,wr*pr*wt)},Dt}function Rl(){var $e=2,st=0,mt=(0,d.U)(xf),wt=mt($e,st);return wt.distance=function(_t){return arguments.length?mt($e=+_t,st):$e},wt.tilt=function(_t){return arguments.length?mt($e,st=_t*M):st*L},wt.scale(432.147).clipAngle(w(1/$e)*L-1e-6)}var kl=1e-4,Bc=1e4,Xs=-180,ou=Xs+kl,ll=180,Zs=ll-kl,zu=-90,su=zu+kl,mi=90,lu=mi-kl;function bf($e){return $e.length>0}function Uc($e){return Math.floor($e*Bc)/Bc}function uu($e){return $e===zu||$e===mi?[0,$e]:[Xs,Uc($e)]}function Ou($e){var st=$e[0],mt=$e[1],wt=!1;return st<=ou?(st=Xs,wt=!0):st>=Zs&&(st=ll,wt=!0),mt<=su?(mt=zu,wt=!0):mt>=lu&&(mt=mi,wt=!0),wt?[st,mt]:$e}function wf($e){return $e.map(Ou)}function Qf($e,st,mt){for(var wt=0,_t=$e.length;wt<_t;++wt){var Dt=$e[wt].slice();mt.push({index:-1,polygon:st,ring:Dt});for(var zt=0,pr=Dt.length;zt<pr;++zt){var wr=Dt[zt],sr=wr[0],Mr=wr[1];if(sr<=ou||sr>=Zs||Mr<=su||Mr>=lu){Dt[zt]=Ou(wr);for(var Or=zt+1;Or<pr;++Or){var Vr=Dt[Or],nn=Vr[0],wn=Vr[1];if(nn>ou&&nn<Zs&&wn>su&&wn<lu)break}if(Or===zt+1)continue;if(zt){var Rn={index:-1,polygon:st,ring:Dt.slice(0,zt+1)};Rn.ring[Rn.ring.length-1]=uu(Mr),mt[mt.length-1]=Rn}else mt.pop();if(Or>=pr)break;mt.push({index:-1,polygon:st,ring:Dt=Dt.slice(Or-1)}),Dt[0]=uu(Dt[0][1]),zt=-1,pr=Dt.length}}}}function Fu($e){var st,mt=$e.length,wt={},_t={},Dt,zt,pr,wr,sr;for(st=0;st<mt;++st){if(Dt=$e[st],zt=Dt.ring[0],wr=Dt.ring[Dt.ring.length-1],zt[0]===wr[0]&&zt[1]===wr[1]){Dt.polygon.push(Dt.ring),$e[st]=null;continue}Dt.index=st,wt[zt]=_t[wr]=Dt}for(st=0;st<mt;++st)if(Dt=$e[st],Dt){if(zt=Dt.ring[0],wr=Dt.ring[Dt.ring.length-1],pr=_t[zt],sr=wt[wr],delete wt[zt],delete _t[wr],zt[0]===wr[0]&&zt[1]===wr[1]){Dt.polygon.push(Dt.ring);continue}pr?(delete _t[zt],delete wt[pr.ring[0]],pr.ring.pop(),$e[pr.index]=null,Dt={index:-1,polygon:pr.polygon,ring:pr.ring.concat(Dt.ring)},pr===sr?Dt.polygon.push(Dt.ring):(Dt.index=mt++,$e.push(wt[Dt.ring[0]]=_t[Dt.ring[Dt.ring.length-1]]=Dt))):sr?(delete wt[wr],delete _t[sr.ring[sr.ring.length-1]],Dt.ring.pop(),Dt={index:mt++,polygon:sr.polygon,ring:Dt.ring.concat(sr.ring)},$e[sr.index]=null,$e.push(wt[Dt.ring[0]]=_t[Dt.ring[Dt.ring.length-1]]=Dt)):(Dt.ring.push(Dt.ring[0]),Dt.polygon.push(Dt.ring))}}function Nu($e){var st={type:"Feature",geometry:ul($e.geometry)};return $e.id!=null&&(st.id=$e.id),$e.bbox!=null&&(st.bbox=$e.bbox),$e.properties!=null&&(st.properties=$e.properties),st}function ul($e){if($e==null)return $e;var st,mt,wt,_t;switch($e.type){case"GeometryCollection":st={type:"GeometryCollection",geometries:$e.geometries.map(ul)};break;case"Point":st={type:"Point",coordinates:Ou($e.coordinates)};break;case"MultiPoint":case"LineString":st={type:$e.type,coordinates:wf($e.coordinates)};break;case"MultiLineString":st={type:"MultiLineString",coordinates:$e.coordinates.map(wf)};break;case"Polygon":{var Dt=[];Qf($e.coordinates,Dt,mt=[]),Fu(mt),st={type:"Polygon",coordinates:Dt};break}case"MultiPolygon":{mt=[],wt=-1,_t=$e.coordinates.length;for(var zt=new Array(_t);++wt<_t;)Qf($e.coordinates[wt],zt[wt]=[],mt);Fu(mt),st={type:"MultiPolygon",coordinates:zt.filter(bf)};break}default:return $e}return $e.bbox!=null&&(st.bbox=$e.bbox),st}function Bu($e){if($e==null)return $e;switch($e.type){case"Feature":return Nu($e);case"FeatureCollection":{var st={type:"FeatureCollection",features:$e.features.map(Nu)};return $e.bbox!=null&&(st.bbox=$e.bbox),st}default:return ul($e)}}function fl($e,st){var mt=y(st/2),wt=l(g*mt);return[$e*(.74482-.34588*wt*wt),1.70711*mt]}fl.invert=function($e,st){var mt=st/1.70711,wt=l(g*mt);return[$e/(.74482-.34588*wt*wt),2*n(mt)]};function to(){return(0,d.c)(fl).scale(146.153)}function ks($e,st,mt){var wt=(0,jf.c)(st,mt),_t=wt(.5),Dt=(0,We.c)([-_t[0],-_t[1]])(st),zt=wt.distance/2,pr=-S(l(Dt[1]*M)/l(zt)),wr=[-_t[0],-_t[1],-(Dt[0]>0?h-pr:pr)*L],sr=(0,d.c)($e(zt)).rotate(wr),Mr=(0,We.c)(wr),Or=sr.center;return delete sr.rotate,sr.center=function(Vr){return arguments.length?Or(Mr(Vr)):Mr.invert(Or())},sr.clipAngle(90)}function $f($e){var st=x($e);function mt(wt,_t){var Dt=(0,il.Y)(wt,_t);return Dt[0]*=st,Dt}return mt.invert=function(wt,_t){return il.Y.invert(wt/st,_t)},mt}function Dl(){return Tf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Tf($e,st){return ks($f,$e,st)}function Uu($e){if(!($e*=2))return le.O;var st=-$e/2,mt=-st,wt=$e*$e,_t=y(mt),Dt=.5/l(mt);function zt(pr,wr){var sr=w(x(wr)*x(pr-st)),Mr=w(x(wr)*x(pr-mt)),Or=wr<0?-1:1;return sr*=sr,Mr*=Mr,[(sr-Mr)/(2*$e),Or*_(4*wt*Mr-(wt-sr+Mr)*(wt-sr+Mr))/(2*$e)]}return zt.invert=function(pr,wr){var sr=wr*wr,Mr=x(_(sr+(Vr=pr+st)*Vr)),Or=x(_(sr+(Vr=pr+mt)*Vr)),Vr,nn;return[C(nn=Mr-Or,Vr=(Mr+Or)*_t),(wr<0?-1:1)*w(_(Vr*Vr+nn*nn)*Dt)]},zt}function Wh(){return Hc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Hc($e,st){return ks(Uu,$e,st)}function Po($e,st){if(P(st)<c)return[$e,0];var mt=P(st/i),wt=S(mt);if(P($e)<c||P(P(st)-i)<c)return[0,f(st)*h*y(wt/2)];var _t=x(wt),Dt=P(h/$e-$e/h)/2,zt=Dt*Dt,pr=_t/(mt+_t-1),wr=pr*(2/mt-1),sr=wr*wr,Mr=sr+zt,Or=pr-sr,Vr=zt+pr;return[f($e)*h*(Dt*Or+_(zt*Or*Or-Mr*(pr*pr-sr)))/Mr,f(st)*h*(wr*Vr-Dt*_((zt+1)*Mr-Vr*Vr))/Mr]}Po.invert=function($e,st){if(P(st)<c)return[$e,0];if(P($e)<c)return[0,i*l(2*n(st/h))];var mt=($e/=h)*$e,wt=(st/=h)*st,_t=mt+wt,Dt=_t*_t,zt=-P(st)*(1+_t),pr=zt-2*wt+mt,wr=-2*zt+1+2*wt+Dt,sr=wt/wr+(2*pr*pr*pr/(wr*wr*wr)-9*zt*pr/(wr*wr))/27,Mr=(zt-pr*pr/(3*wr))/wr,Or=2*_(-Mr/3),Vr=w(3*sr/(Mr*Or))/3;return[h*(_t-1+_(1+2*(mt-wt)+Dt))/(2*$e),f(st)*h*(-Or*x(Vr+h/3)-pr/(3*wr))]};function Hu(){return(0,d.c)(Po).scale(79.4183)}function fu($e,st){if(P(st)<c)return[$e,0];var mt=P(st/i),wt=S(mt);if(P($e)<c||P(P(st)-i)<c)return[0,f(st)*h*y(wt/2)];var _t=x(wt),Dt=P(h/$e-$e/h)/2,zt=Dt*Dt,pr=_t*(_(1+zt)-Dt*_t)/(1+zt*mt*mt);return[f($e)*h*pr,f(st)*h*_(1-pr*(2*Dt+pr))]}fu.invert=function($e,st){if(!$e)return[0,i*l(2*n(st/h))];var mt=P($e/h),wt=(1-mt*mt-(st/=h)*st)/(2*mt),_t=wt*wt,Dt=_(_t+1);return[f($e)*h*(Dt-wt),f(st)*i*l(2*C(_((1-2*wt*mt)*(wt+Dt)-mt),_(Dt+wt+mt)))]};function Vc(){return(0,d.c)(fu).scale(79.4183)}function cl($e,st){if(P(st)<c)return[$e,0];var mt=st/i,wt=S(mt);if(P($e)<c||P(P(st)-i)<c)return[0,h*y(wt/2)];var _t=(h/$e-$e/h)/2,Dt=mt/(1+x(wt));return[h*(f($e)*_(_t*_t+1-Dt*Dt)-_t),h*Dt]}cl.invert=function($e,st){if(!st)return[$e,0];var mt=st/h,wt=(h*h*(1-mt*mt)-$e*$e)/(2*h*$e);return[$e?h*(f($e)*_(wt*wt+1)-wt):0,i*l(2*n(mt))]};function jh(){return(0,d.c)(cl).scale(79.4183)}function Xo($e,st){if(!st)return[$e,0];var mt=P(st);if(!$e||mt===i)return[0,st];var wt=mt/i,_t=wt*wt,Dt=(8*wt-_t*(_t+2)-5)/(2*_t*(wt-1)),zt=Dt*Dt,pr=wt*Dt,wr=_t+zt+2*pr,sr=wt+3*Dt,Mr=$e/i,Or=Mr+1/Mr,Vr=f(P($e)-i)*_(Or*Or-4),nn=Vr*Vr,wn=wr*(_t+zt*nn-1)+(1-_t)*(_t*(sr*sr+4*zt)+12*pr*zt+4*zt*zt),Rn=(Vr*(wr+zt-1)+2*_(wn))/(4*wr+nn);return[f($e)*i*Rn,f(st)*i*_(1+Vr*P(Rn)-Rn*Rn)]}Xo.invert=function($e,st){var mt;if(!$e||!st)return[$e,st];st/=h;var wt=f($e)*$e/i,_t=(wt*wt-1+4*st*st)/P(wt),Dt=_t*_t,zt=2*st,pr=50;do{var wr=zt*zt,sr=(8*zt-wr*(wr+2)-5)/(2*wr*(zt-1)),Mr=(3*zt-wr*zt-10)/(2*wr*zt),Or=sr*sr,Vr=zt*sr,nn=zt+sr,wn=nn*nn,Rn=zt+3*sr,In=wn*(wr+Or*Dt-1)+(1-wr)*(wr*(Rn*Rn+4*Or)+Or*(12*Vr+4*Or)),Qn=-2*nn*(4*Vr*Or+(1-4*wr+3*wr*wr)*(1+Mr)+Or*(-6+14*wr-Dt+(-8+8*wr-2*Dt)*Mr)+Vr*(-8+12*wr+(-10+10*wr-Dt)*Mr)),ka=_(In),Da=_t*(wn+Or-1)+2*ka-wt*(4*wn+Dt),_a=_t*(2*sr*Mr+2*nn*(1+Mr))+Qn/ka-8*nn*(_t*(-1+Or+wn)+2*ka)*(1+Mr)/(Dt+4*wn);zt-=mt=Da/_a}while(mt>c&&--pr>0);return[f($e)*(_(_t*_t+4)+_t)*h/4,i*zt]};function Vu(){return(0,d.c)(Xo).scale(127.16)}function Af($e,st,mt,wt,_t){function Dt(zt,pr){var wr=mt*l(wt*pr),sr=_(1-wr*wr),Mr=_(2/(1+sr*x(zt*=_t)));return[$e*sr*Mr*l(zt),st*wr*Mr]}return Dt.invert=function(zt,pr){var wr=zt/$e,sr=pr/st,Mr=_(wr*wr+sr*sr),Or=2*S(Mr/2);return[C(zt*y(Or),$e*Mr)/_t,Mr&&S(pr*l(Or)/(st*mt*Mr))/wt]},Dt}function Ks($e,st,mt,wt){var _t=h/3;$e=t($e,c),st=t(st,c),$e=o($e,i),st=o(st,h-c),mt=t(mt,0),mt=o(mt,100-c),wt=t(wt,c);var Dt=mt/100+1,zt=wt/100,pr=w(Dt*x(_t))/_t,wr=l($e)/l(pr*i),sr=st/h,Mr=_(zt*l($e/2)/l(st/2)),Or=Mr/_(sr*wr*pr),Vr=1/(Mr*_(sr*wr*pr));return Af(Or,Vr,wr,pr,sr)}function hl(){var $e=65*M,st=60*M,mt=20,wt=200,_t=(0,d.U)(Ks),Dt=_t($e,st,mt,wt);return Dt.poleline=function(zt){return arguments.length?_t($e=+zt*M,st,mt,wt):$e*L},Dt.parallels=function(zt){return arguments.length?_t($e,st=+zt*M,mt,wt):st*L},Dt.inflation=function(zt){return arguments.length?_t($e,st,mt=+zt,wt):mt},Dt.ratio=function(zt){return arguments.length?_t($e,st,mt,wt=+zt):wt},Dt.scale(163.775)}function qf(){return hl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Gu=4*h+3*_(3),Wu=2*_(2*h*_(3)/Gu),Sf=Me(Wu*_(3)/h,Wu,Gu/6);function Gc(){return(0,d.c)(Sf).scale(176.84)}function ju($e,st){return[$e*_(1-3*st*st/(h*h)),st]}ju.invert=function($e,st){return[$e/_(1-3*st*st/(h*h)),st]};function ec(){return(0,d.c)(ju).scale(152.63)}function Il($e,st){var mt=x(st),wt=x($e)*mt,_t=1-wt,Dt=x($e=C(l($e)*mt,-l(st))),zt=l($e);return mt=_(1-wt*wt),[zt*mt-Dt*_t,-Dt*mt-zt*_t]}Il.invert=function($e,st){var mt=($e*$e+st*st)/-2,wt=_(-mt*(2+mt)),_t=st*mt+$e*wt,Dt=$e*mt-st*wt,zt=_(Dt*Dt+_t*_t);return[C(wt*_t,zt*(1+mt)),zt?-S(wt*Dt/zt):0]};function tc(){return(0,d.c)(Il).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Yu($e,st){var mt=Y($e,st);return[(mt[0]+$e/i)/2,(mt[1]+st)/2]}Yu.invert=function($e,st){var mt=$e,wt=st,_t=25;do{var Dt=x(wt),zt=l(wt),pr=l(2*wt),wr=zt*zt,sr=Dt*Dt,Mr=l(mt),Or=x(mt/2),Vr=l(mt/2),nn=Vr*Vr,wn=1-sr*Or*Or,Rn=wn?w(Dt*Or)*_(In=1/wn):In=0,In,Qn=.5*(2*Rn*Dt*Vr+mt/i)-$e,ka=.5*(Rn*zt+wt)-st,Da=.5*In*(sr*nn+Rn*Dt*Or*wr)+.5/i,_a=In*(Mr*pr/4-Rn*zt*Vr),Na=.125*In*(pr*Vr-Rn*zt*sr*Mr),$a=.5*In*(wr*Or+Rn*nn*Dt)+.5,xi=_a*Na-$a*Da,Gi=(ka*_a-Qn*$a)/xi,ce=(Qn*Na-ka*Da)/xi;mt-=Gi,wt-=ce}while((P(Gi)>c||P(ce)>c)&&--_t>0);return[mt,wt]};function Wc(){return(0,d.c)(Yu).scale(158.837)}},88728:function(U,N,e){e.d(N,{c:function(){return d}});function d(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(x){C(n,x,this.t),C(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new P;function C(x,v,p){var r=x.s=v+p,t=r-v,o=r-t;x.t=v-o+(p-t)}},95384:function(U,N,e){e.d(N,{cp:function(){return T},mQ:function(){return x},oB:function(){return u}});var d=e(88728),P=e(64528),n=e(70932),C=e(16016),x=(0,d.c)(),v=(0,d.c)(),p,r,t,o,a,u={point:n.c,lineStart:n.c,lineEnd:n.c,polygonStart:function(){x.reset(),u.lineStart=f,u.lineEnd=l},polygonEnd:function(){var h=+x;v.add(h<0?P.kD+h:h),this.lineStart=this.lineEnd=this.point=n.c},sphere:function(){v.add(P.kD)}};function f(){u.point=y}function l(){c(p,r)}function y(h,i){u.point=c,p=h,r=i,h*=P.qw,i*=P.qw,t=h,o=(0,P.W8)(i=i/2+P.wL),a=(0,P.g$)(i)}function c(h,i){h*=P.qw,i*=P.qw,i=i/2+P.wL;var g=h-t,b=g>=0?1:-1,A=b*g,R=(0,P.W8)(i),m=(0,P.g$)(i),L=a*m,M=o*R+L*(0,P.W8)(A),s=L*b*(0,P.g$)(A);x.add((0,P.WE)(s,M)),t=h,o=R,a=m}function T(h){return v.reset(),(0,C.c)(h,u),v*2}},13696:function(U,N,e){e.d(N,{c:function(){return S}});var d=e(88728),P=e(95384),n=e(84220),C=e(64528),x=e(16016),v,p,r,t,o,a,u,f,l=(0,d.c)(),y,c,T={point:h,lineStart:g,lineEnd:b,polygonStart:function(){T.point=A,T.lineStart=R,T.lineEnd=m,l.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),T.point=h,T.lineStart=g,T.lineEnd=b,P.mQ<0?(v=-(r=180),p=-(t=90)):l>C.Gg?t=90:l<-C.Gg&&(p=-90),c[0]=v,c[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function h(w,_){y.push(c=[v=w,r=w]),_<p&&(p=_),_>t&&(t=_)}function i(w,_){var I=(0,n.ux)([w*C.qw,_*C.qw]);if(f){var H=(0,n.CW)(f,I),O=[H[1],-H[0],0],V=(0,n.CW)(O,H);(0,n.cJ)(V),V=(0,n.G)(V);var B=w-o,F=B>0?1:-1,G=V[0]*C.oh*F,Y,Q=(0,C.a2)(B)>180;Q^(F*o<G&&G<F*w)?(Y=V[1]*C.oh,Y>t&&(t=Y)):(G=(G+360)%360-180,Q^(F*o<G&&G<F*w)?(Y=-V[1]*C.oh,Y<p&&(p=Y)):(_<p&&(p=_),_>t&&(t=_))),Q?w<o?L(v,w)>L(v,r)&&(r=w):L(w,r)>L(v,r)&&(v=w):r>=v?(w<v&&(v=w),w>r&&(r=w)):w>o?L(v,w)>L(v,r)&&(r=w):L(w,r)>L(v,r)&&(v=w)}else y.push(c=[v=w,r=w]);_<p&&(p=_),_>t&&(t=_),f=I,o=w}function g(){T.point=i}function b(){c[0]=v,c[1]=r,T.point=h,f=null}function A(w,_){if(f){var I=w-o;l.add((0,C.a2)(I)>180?I+(I>0?360:-360):I)}else a=w,u=_;P.oB.point(w,_),i(w,_)}function R(){P.oB.lineStart()}function m(){A(a,u),P.oB.lineEnd(),(0,C.a2)(l)>C.Gg&&(v=-(r=180)),c[0]=v,c[1]=r,f=null}function L(w,_){return(_-=w)<0?_+360:_}function M(w,_){return w[0]-_[0]}function s(w,_){return w[0]<=w[1]?w[0]<=_&&_<=w[1]:_<w[0]||w[1]<_}function S(w){var _,I,H,O,V,B,F;if(t=r=-(v=p=1/0),y=[],(0,x.c)(w,T),I=y.length){for(y.sort(M),_=1,H=y[0],V=[H];_<I;++_)O=y[_],s(H,O[0])||s(H,O[1])?(L(H[0],O[1])>L(H[0],H[1])&&(H[1]=O[1]),L(O[0],H[1])>L(H[0],H[1])&&(H[0]=O[0])):V.push(H=O);for(B=-1/0,I=V.length-1,_=0,H=V[I];_<=I;H=O,++_)O=V[_],(F=L(H[1],O[0]))>B&&(B=F,v=O[0],r=H[1])}return y=c=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(U,N,e){e.d(N,{CW:function(){return x},Ez:function(){return C},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return n},wx:function(){return p}});var d=e(64528);function P(t){return[(0,d.WE)(t[1],t[0]),(0,d.qR)(t[2])]}function n(t){var o=t[0],a=t[1],u=(0,d.W8)(a);return[u*(0,d.W8)(o),u*(0,d.g$)(o),(0,d.g$)(a)]}function C(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function x(t,o){return[t[1]*o[2]-t[2]*o[1],t[2]*o[0]-t[0]*o[2],t[0]*o[1]-t[1]*o[0]]}function v(t,o){t[0]+=o[0],t[1]+=o[1],t[2]+=o[2]}function p(t,o){return[t[0]*o,t[1]*o,t[2]*o]}function r(t){var o=(0,d._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=o,t[1]/=o,t[2]/=o}},24052:function(U,N,e){e.d(N,{c:function(){return I}});var d=e(64528),P=e(70932),n=e(16016),C,x,v,p,r,t,o,a,u,f,l,y,c,T,h,i,g={sphere:P.c,point:b,lineStart:R,lineEnd:M,polygonStart:function(){g.lineStart=s,g.lineEnd=S},polygonEnd:function(){g.lineStart=R,g.lineEnd=M}};function b(H,O){H*=d.qw,O*=d.qw;var V=(0,d.W8)(O);A(V*(0,d.W8)(H),V*(0,d.g$)(H),(0,d.g$)(O))}function A(H,O,V){++C,v+=(H-v)/C,p+=(O-p)/C,r+=(V-r)/C}function R(){g.point=m}function m(H,O){H*=d.qw,O*=d.qw;var V=(0,d.W8)(O);T=V*(0,d.W8)(H),h=V*(0,d.g$)(H),i=(0,d.g$)(O),g.point=L,A(T,h,i)}function L(H,O){H*=d.qw,O*=d.qw;var V=(0,d.W8)(O),B=V*(0,d.W8)(H),F=V*(0,d.g$)(H),G=(0,d.g$)(O),Y=(0,d.WE)((0,d._I)((Y=h*G-i*F)*Y+(Y=i*B-T*G)*Y+(Y=T*F-h*B)*Y),T*B+h*F+i*G);x+=Y,t+=Y*(T+(T=B)),o+=Y*(h+(h=F)),a+=Y*(i+(i=G)),A(T,h,i)}function M(){g.point=b}function s(){g.point=w}function S(){_(y,c),g.point=b}function w(H,O){y=H,c=O,H*=d.qw,O*=d.qw,g.point=_;var V=(0,d.W8)(O);T=V*(0,d.W8)(H),h=V*(0,d.g$)(H),i=(0,d.g$)(O),A(T,h,i)}function _(H,O){H*=d.qw,O*=d.qw;var V=(0,d.W8)(O),B=V*(0,d.W8)(H),F=V*(0,d.g$)(H),G=(0,d.g$)(O),Y=h*G-i*F,Q=i*B-T*G,te=T*F-h*B,ae=(0,d._I)(Y*Y+Q*Q+te*te),fe=(0,d.qR)(ae),oe=ae&&-fe/ae;u+=oe*Y,f+=oe*Q,l+=oe*te,x+=fe,t+=fe*(T+(T=B)),o+=fe*(h+(h=F)),a+=fe*(i+(i=G)),A(T,h,i)}function I(H){C=x=v=p=r=t=o=a=u=f=l=0,(0,n.c)(H,g);var O=u,V=f,B=l,F=O*O+V*V+B*B;return F<d.a8&&(O=t,V=o,B=a,x<d.Gg&&(O=v,V=p,B=r),F=O*O+V*V+B*B,F<d.a8)?[NaN,NaN]:[(0,d.WE)(V,O)*d.oh,(0,d.qR)(B/(0,d._I)(F))*d.oh]}},61780:function(U,N,e){e.d(N,{Q:function(){return x},c:function(){return p}});var d=e(84220);function P(r){return function(){return r}}var n=e(64528),C=e(92992);function x(r,t,o,a,u,f){if(o){var l=(0,n.W8)(t),y=(0,n.g$)(t),c=a*o;u==null?(u=t+a*n.kD,f=t-c/2):(u=v(l,u),f=v(l,f),(a>0?u<f:u>f)&&(u+=a*n.kD));for(var T,h=u;a>0?h>f:h<f;h-=c)T=(0,d.G)([l,-y*(0,n.W8)(h),-y*(0,n.g$)(h)]),r.point(T[0],T[1])}}function v(r,t){t=(0,d.ux)(t),t[0]-=r,(0,d.cJ)(t);var o=(0,n.mE)(-t[1]);return((-t[2]<0?-o:o)+n.kD-n.Gg)%n.kD}function p(){var r=P([0,0]),t=P(90),o=P(6),a,u,f={point:l};function l(c,T){a.push(c=u(c,T)),c[0]*=n.oh,c[1]*=n.oh}function y(){var c=r.apply(this,arguments),T=t.apply(this,arguments)*n.qw,h=o.apply(this,arguments)*n.qw;return a=[],u=(0,C.O)(-c[0]*n.qw,-c[1]*n.qw,0).invert,x(f,T,h,1),c={type:"Polygon",coordinates:[a]},a=u=null,c}return y.center=function(c){return arguments.length?(r=typeof c=="function"?c:P([+c[0],+c[1]]),y):r},y.radius=function(c){return arguments.length?(t=typeof c=="function"?c:P(+c),y):t},y.precision=function(c){return arguments.length?(o=typeof c=="function"?c:P(+c),y):o},y}},78284:function(U,N,e){var d=e(14229),P=e(64528);N.c=(0,d.c)(function(){return!0},n,x,[-P.pi,-P.or]);function n(v){var p=NaN,r=NaN,t=NaN,o;return{lineStart:function(){v.lineStart(),o=1},point:function(a,u){var f=a>0?P.pi:-P.pi,l=(0,P.a2)(a-p);(0,P.a2)(l-P.pi)<P.Gg?(v.point(p,r=(r+u)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),v.point(a,r),o=0):t!==f&&l>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(a-f)<P.Gg&&(a-=f*P.Gg),r=C(p,r,a,u),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),o=0),v.point(p=a,r=u),t=f},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-o}}}function C(v,p,r,t){var o,a,u=(0,P.g$)(v-r);return(0,P.a2)(u)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(a=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(o=(0,P.W8)(p))*(0,P.g$)(v))/(o*a*u)):(p+t)/2}function x(v,p,r,t){var o;if(v==null)o=r*P.or,t.point(-P.pi,o),t.point(0,o),t.point(P.pi,o),t.point(P.pi,0),t.point(P.pi,-o),t.point(0,-o),t.point(-P.pi,-o),t.point(-P.pi,0),t.point(-P.pi,o);else if((0,P.a2)(v[0]-p[0])>P.Gg){var a=v[0]<p[0]?P.pi:-P.pi;o=r*a/2,t.point(-a,o),t.point(0,o),t.point(a,o)}else t.point(p[0],p[1])}},97208:function(U,N,e){e.d(N,{c:function(){return P}});var d=e(70932);function P(){var n=[],C;return{point:function(x,v,p){C.push([x,v,p])},lineStart:function(){n.push(C=[])},lineEnd:d.c,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var x=n;return n=[],C=null,x}}}},2728:function(U,N,e){e.d(N,{c:function(){return v}});var d=e(84220),P=e(61780),n=e(64528),C=e(41860),x=e(14229);function v(p){var r=(0,n.W8)(p),t=6*n.qw,o=r>0,a=(0,n.a2)(r)>n.Gg;function u(T,h,i,g){(0,P.Q)(g,p,t,i,T,h)}function f(T,h){return(0,n.W8)(T)*(0,n.W8)(h)>r}function l(T){var h,i,g,b,A;return{lineStart:function(){b=g=!1,A=1},point:function(R,m){var L=[R,m],M,s=f(R,m),S=o?s?0:c(R,m):s?c(R+(R<0?n.pi:-n.pi),m):0;if(!h&&(b=g=s)&&T.lineStart(),s!==g&&(M=y(h,L),(!M||(0,C.c)(h,M)||(0,C.c)(L,M))&&(L[2]=1)),s!==g)A=0,s?(T.lineStart(),M=y(L,h),T.point(M[0],M[1])):(M=y(h,L),T.point(M[0],M[1],2),T.lineEnd()),h=M;else if(a&&h&&o^s){var w;!(S&i)&&(w=y(L,h,!0))&&(A=0,o?(T.lineStart(),T.point(w[0][0],w[0][1]),T.point(w[1][0],w[1][1]),T.lineEnd()):(T.point(w[1][0],w[1][1]),T.lineEnd(),T.lineStart(),T.point(w[0][0],w[0][1],3)))}s&&(!h||!(0,C.c)(h,L))&&T.point(L[0],L[1]),h=L,g=s,i=S},lineEnd:function(){g&&T.lineEnd(),h=null},clean:function(){return A|(b&&g)<<1}}}function y(T,h,i){var g=(0,d.ux)(T),b=(0,d.ux)(h),A=[1,0,0],R=(0,d.CW)(g,b),m=(0,d.Ez)(R,R),L=R[0],M=m-L*L;if(!M)return!i&&T;var s=r*m/M,S=-r*L/M,w=(0,d.CW)(A,R),_=(0,d.wx)(A,s),I=(0,d.wx)(R,S);(0,d.mg)(_,I);var H=w,O=(0,d.Ez)(_,H),V=(0,d.Ez)(H,H),B=O*O-V*((0,d.Ez)(_,_)-1);if(!(B<0)){var F=(0,n._I)(B),G=(0,d.wx)(H,(-O-F)/V);if((0,d.mg)(G,_),G=(0,d.G)(G),!i)return G;var Y=T[0],Q=h[0],te=T[1],ae=h[1],fe;Q<Y&&(fe=Y,Y=Q,Q=fe);var oe=Q-Y,J=(0,n.a2)(oe-n.pi)<n.Gg,ee=J||oe<n.Gg;if(!J&&ae<te&&(fe=te,te=ae,ae=fe),ee?J?te+ae>0^G[1]<((0,n.a2)(G[0]-Y)<n.Gg?te:ae):te<=G[1]&&G[1]<=ae:oe>n.pi^(Y<=G[0]&&G[0]<=Q)){var X=(0,d.wx)(H,(-O+F)/V);return(0,d.mg)(X,_),[G,(0,d.G)(X)]}}}function c(T,h){var i=o?p:n.pi-p,g=0;return T<-i?g|=1:T>i&&(g|=2),h<-i?g|=4:h>i&&(g|=8),g}return(0,x.c)(f,l,u,o?[0,-p]:[-n.pi,p-n.pi])}},14229:function(U,N,e){e.d(N,{c:function(){return v}});var d=e(97208),P=e(32232),n=e(64528),C=e(58196),x=e(84706);function v(t,o,a,u){return function(f){var l=o(f),y=(0,d.c)(),c=o(y),T=!1,h,i,g,b={point:A,lineStart:m,lineEnd:L,polygonStart:function(){b.point=M,b.lineStart=s,b.lineEnd=S,i=[],h=[]},polygonEnd:function(){b.point=A,b.lineStart=m,b.lineEnd=L,i=(0,x.Uf)(i);var w=(0,C.c)(h,u);i.length?(T||(f.polygonStart(),T=!0),(0,P.c)(i,r,w,a,f)):w&&(T||(f.polygonStart(),T=!0),f.lineStart(),a(null,null,1,f),f.lineEnd()),T&&(f.polygonEnd(),T=!1),i=h=null},sphere:function(){f.polygonStart(),f.lineStart(),a(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function A(w,_){t(w,_)&&f.point(w,_)}function R(w,_){l.point(w,_)}function m(){b.point=R,l.lineStart()}function L(){b.point=A,l.lineEnd()}function M(w,_){g.push([w,_]),c.point(w,_)}function s(){c.lineStart(),g=[]}function S(){M(g[0][0],g[0][1]),c.lineEnd();var w=c.clean(),_=y.result(),I,H=_.length,O,V,B;if(g.pop(),h.push(g),g=null,!!H){if(w&1){if(V=_[0],(O=V.length-1)>0){for(T||(f.polygonStart(),T=!0),f.lineStart(),I=0;I<O;++I)f.point((B=V[I])[0],B[1]);f.lineEnd()}return}H>1&&w&2&&_.push(_.pop().concat(_.shift())),i.push(_.filter(p))}}return b}}function p(t){return t.length>1}function r(t,o){return((t=t.x)[0]<0?t[1]-n.or-n.Gg:n.or-t[1])-((o=o.x)[0]<0?o[1]-n.or-n.Gg:n.or-o[1])}},21676:function(U,N,e){e.d(N,{c:function(){return r}});var d=e(64528),P=e(97208);function n(t,o,a,u,f,l){var y=t[0],c=t[1],T=o[0],h=o[1],i=0,g=1,b=T-y,A=h-c,R;if(R=a-y,!(!b&&R>0)){if(R/=b,b<0){if(R<i)return;R<g&&(g=R)}else if(b>0){if(R>g)return;R>i&&(i=R)}if(R=f-y,!(!b&&R<0)){if(R/=b,b<0){if(R>g)return;R>i&&(i=R)}else if(b>0){if(R<i)return;R<g&&(g=R)}if(R=u-c,!(!A&&R>0)){if(R/=A,A<0){if(R<i)return;R<g&&(g=R)}else if(A>0){if(R>g)return;R>i&&(i=R)}if(R=l-c,!(!A&&R<0)){if(R/=A,A<0){if(R>g)return;R>i&&(i=R)}else if(A>0){if(R<i)return;R<g&&(g=R)}return i>0&&(t[0]=y+i*b,t[1]=c+i*A),g<1&&(o[0]=y+g*b,o[1]=c+g*A),!0}}}}}var C=e(32232),x=e(84706),v=1e9,p=-v;function r(t,o,a,u){function f(h,i){return t<=h&&h<=a&&o<=i&&i<=u}function l(h,i,g,b){var A=0,R=0;if(h==null||(A=y(h,g))!==(R=y(i,g))||T(h,i)<0^g>0)do b.point(A===0||A===3?t:a,A>1?u:o);while((A=(A+g+4)%4)!==R);else b.point(i[0],i[1])}function y(h,i){return(0,d.a2)(h[0]-t)<d.Gg?i>0?0:3:(0,d.a2)(h[0]-a)<d.Gg?i>0?2:1:(0,d.a2)(h[1]-o)<d.Gg?i>0?1:0:i>0?3:2}function c(h,i){return T(h.x,i.x)}function T(h,i){var g=y(h,1),b=y(i,1);return g!==b?g-b:g===0?i[1]-h[1]:g===1?h[0]-i[0]:g===2?h[1]-i[1]:i[0]-h[0]}return function(h){var i=h,g=(0,P.c)(),b,A,R,m,L,M,s,S,w,_,I,H={point:O,lineStart:G,lineEnd:Y,polygonStart:B,polygonEnd:F};function O(te,ae){f(te,ae)&&i.point(te,ae)}function V(){for(var te=0,ae=0,fe=A.length;ae<fe;++ae)for(var oe=A[ae],J=1,ee=oe.length,X=oe[0],q,le,$=X[0],j=X[1];J<ee;++J)q=$,le=j,X=oe[J],$=X[0],j=X[1],le<=u?j>u&&($-q)*(u-le)>(j-le)*(t-q)&&++te:j<=u&&($-q)*(u-le)<(j-le)*(t-q)&&--te;return te}function B(){i=g,b=[],A=[],I=!0}function F(){var te=V(),ae=I&&te,fe=(b=(0,x.Uf)(b)).length;(ae||fe)&&(h.polygonStart(),ae&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),fe&&(0,C.c)(b,c,te,l,h),h.polygonEnd()),i=h,b=A=R=null}function G(){H.point=Q,A&&A.push(R=[]),_=!0,w=!1,s=S=NaN}function Y(){b&&(Q(m,L),M&&w&&g.rejoin(),b.push(g.result())),H.point=O,w&&i.lineEnd()}function Q(te,ae){var fe=f(te,ae);if(A&&R.push([te,ae]),_)m=te,L=ae,M=fe,_=!1,fe&&(i.lineStart(),i.point(te,ae));else if(fe&&w)i.point(te,ae);else{var oe=[s=Math.max(p,Math.min(v,s)),S=Math.max(p,Math.min(v,S))],J=[te=Math.max(p,Math.min(v,te)),ae=Math.max(p,Math.min(v,ae))];n(oe,J,t,o,a,u)?(w||(i.lineStart(),i.point(oe[0],oe[1])),i.point(J[0],J[1]),fe||i.lineEnd(),I=!1):fe&&(i.lineStart(),i.point(te,ae),I=!1)}s=te,S=ae,w=fe}return H}}},32232:function(U,N,e){e.d(N,{c:function(){return C}});var d=e(41860),P=e(64528);function n(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(v,p,r,t,o){var a=[],u=[],f,l;if(v.forEach(function(g){if(!((b=g.length-1)<=0)){var b,A=g[0],R=g[b],m;if((0,d.c)(A,R)){if(!A[2]&&!R[2]){for(o.lineStart(),f=0;f<b;++f)o.point((A=g[f])[0],A[1]);o.lineEnd();return}R[0]+=2*P.Gg}a.push(m=new n(A,g,null,!0)),u.push(m.o=new n(A,null,m,!1)),a.push(m=new n(R,g,null,!1)),u.push(m.o=new n(R,null,m,!0))}}),!!a.length){for(u.sort(p),x(a),x(u),f=0,l=u.length;f<l;++f)u[f].e=r=!r;for(var y=a[0],c,T;;){for(var h=y,i=!0;h.v;)if((h=h.n)===y)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(i)for(f=0,l=c.length;f<l;++f)o.point((T=c[f])[0],T[1]);else t(h.x,h.n.x,1,o);h=h.n}else{if(i)for(c=h.p.z,f=c.length-1;f>=0;--f)o.point((T=c[f])[0],T[1]);else t(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,i=!i}while(!h.v);o.lineEnd()}}}function x(v){if(p=v.length){for(var p,r=0,t=v[0],o;++r<p;)t.n=o=v[r],o.p=t,t=o;t.n=o=v[0],o.p=t}}},68120:function(U,N,e){e.d(N,{c:function(){return d}});function d(P,n){function C(x,v){return x=P(x,v),n(x[0],x[1])}return P.invert&&n.invert&&(C.invert=function(x,v){return x=n.invert(x,v),x&&P.invert(x[0],x[1])}),C}},7376:function(U,N,e){e.d(N,{c:function(){return d}});function d(P){return P}},83356:function(U,N,e){e.r(N),e.d(N,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return ut},geoArea:function(){return d.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return P.c},geoCentroid:function(){return n.c},geoCircle:function(){return C.c},geoClipAntimeridian:function(){return x.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return $t},geoConicEqualAreaRaw:function(){return Xt},geoConicEquidistant:function(){return Lr},geoConicEquidistantRaw:function(){return fr},geoContains:function(){return B},geoDistance:function(){return M},geoEqualEarth:function(){return Zt},geoEqualEarthRaw:function(){return Pt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return nr.c},geoGnomonicRaw:function(){return nr.Y},geoGraticule:function(){return Q},geoGraticule10:function(){return te},geoIdentity:function(){return Wt},geoInterpolate:function(){return ae.c},geoLength:function(){return R},geoMercator:function(){return Ot},geoMercatorRaw:function(){return Ft},geoNaturalEarth1:function(){return yr.c},geoNaturalEarth1Raw:function(){return yr.g},geoOrthographic:function(){return Dr.c},geoOrthographicRaw:function(){return Dr.t},geoPath:function(){return Lt},geoProjection:function(){return Kt.c},geoProjectionMutator:function(){return Kt.U},geoRotation:function(){return It.c},geoStereographic:function(){return Nr},geoStereographicRaw:function(){return dn},geoStream:function(){return f.c},geoTransform:function(){return Qt.c},geoTransverseMercator:function(){return an},geoTransverseMercatorRaw:function(){return Cn}});var d=e(95384),P=e(13696),n=e(24052),C=e(61780),x=e(78284),v=e(2728),p=e(21676);function r(){var gr=0,Pr=0,Xr=960,_r=500,gn,rn,An;return An={stream:function(Pn){return gn&&rn===Pn?gn:gn=(0,p.c)(gr,Pr,Xr,_r)(rn=Pn)},extent:function(Pn){return arguments.length?(gr=+Pn[0][0],Pr=+Pn[0][1],Xr=+Pn[1][0],_r=+Pn[1][1],gn=rn=null,An):[[gr,Pr],[Xr,_r]]}}}var t=e(58196),o=e(88728),a=e(64528),u=e(70932),f=e(16016),l=(0,o.c)(),y,c,T,h={sphere:u.c,point:u.c,lineStart:i,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function i(){h.point=b,h.lineEnd=g}function g(){h.point=h.lineEnd=u.c}function b(gr,Pr){gr*=a.qw,Pr*=a.qw,y=gr,c=(0,a.g$)(Pr),T=(0,a.W8)(Pr),h.point=A}function A(gr,Pr){gr*=a.qw,Pr*=a.qw;var Xr=(0,a.g$)(Pr),_r=(0,a.W8)(Pr),gn=(0,a.a2)(gr-y),rn=(0,a.W8)(gn),An=(0,a.g$)(gn),Pn=_r*An,Wn=T*Xr-c*_r*rn,ya=c*Xr+T*_r*rn;l.add((0,a.WE)((0,a._I)(Pn*Pn+Wn*Wn),ya)),y=gr,c=Xr,T=_r}function R(gr){return l.reset(),(0,f.c)(gr,h),+l}var m=[null,null],L={type:"LineString",coordinates:m};function M(gr,Pr){return m[0]=gr,m[1]=Pr,R(L)}var s={Feature:function(gr,Pr){return w(gr.geometry,Pr)},FeatureCollection:function(gr,Pr){for(var Xr=gr.features,_r=-1,gn=Xr.length;++_r<gn;)if(w(Xr[_r].geometry,Pr))return!0;return!1}},S={Sphere:function(){return!0},Point:function(gr,Pr){return _(gr.coordinates,Pr)},MultiPoint:function(gr,Pr){for(var Xr=gr.coordinates,_r=-1,gn=Xr.length;++_r<gn;)if(_(Xr[_r],Pr))return!0;return!1},LineString:function(gr,Pr){return I(gr.coordinates,Pr)},MultiLineString:function(gr,Pr){for(var Xr=gr.coordinates,_r=-1,gn=Xr.length;++_r<gn;)if(I(Xr[_r],Pr))return!0;return!1},Polygon:function(gr,Pr){return H(gr.coordinates,Pr)},MultiPolygon:function(gr,Pr){for(var Xr=gr.coordinates,_r=-1,gn=Xr.length;++_r<gn;)if(H(Xr[_r],Pr))return!0;return!1},GeometryCollection:function(gr,Pr){for(var Xr=gr.geometries,_r=-1,gn=Xr.length;++_r<gn;)if(w(Xr[_r],Pr))return!0;return!1}};function w(gr,Pr){return gr&&S.hasOwnProperty(gr.type)?S[gr.type](gr,Pr):!1}function _(gr,Pr){return M(gr,Pr)===0}function I(gr,Pr){for(var Xr,_r,gn,rn=0,An=gr.length;rn<An;rn++){if(_r=M(gr[rn],Pr),_r===0||rn>0&&(gn=M(gr[rn],gr[rn-1]),gn>0&&Xr<=gn&&_r<=gn&&(Xr+_r-gn)*(1-Math.pow((Xr-_r)/gn,2))<a.a8*gn))return!0;Xr=_r}return!1}function H(gr,Pr){return!!(0,t.c)(gr.map(O),V(Pr))}function O(gr){return gr=gr.map(V),gr.pop(),gr}function V(gr){return[gr[0]*a.qw,gr[1]*a.qw]}function B(gr,Pr){return(gr&&s.hasOwnProperty(gr.type)?s[gr.type]:w)(gr,Pr)}var F=e(84706);function G(gr,Pr,Xr){var _r=(0,F.ik)(gr,Pr-a.Gg,Xr).concat(Pr);return function(gn){return _r.map(function(rn){return[gn,rn]})}}function Y(gr,Pr,Xr){var _r=(0,F.ik)(gr,Pr-a.Gg,Xr).concat(Pr);return function(gn){return _r.map(function(rn){return[rn,gn]})}}function Q(){var gr,Pr,Xr,_r,gn,rn,An,Pn,Wn=10,ya=Wn,Ta=90,sa=360,aa,kn,Cr,on,sn=2.5;function un(){return{type:"MultiLineString",coordinates:Bn()}}function Bn(){return(0,F.ik)((0,a.Km)(_r/Ta)*Ta,Xr,Ta).map(Cr).concat((0,F.ik)((0,a.Km)(Pn/sa)*sa,An,sa).map(on)).concat((0,F.ik)((0,a.Km)(Pr/Wn)*Wn,gr,Wn).filter(function(yn){return(0,a.a2)(yn%Ta)>a.Gg}).map(aa)).concat((0,F.ik)((0,a.Km)(rn/ya)*ya,gn,ya).filter(function(yn){return(0,a.a2)(yn%sa)>a.Gg}).map(kn))}return un.lines=function(){return Bn().map(function(yn){return{type:"LineString",coordinates:yn}})},un.outline=function(){return{type:"Polygon",coordinates:[Cr(_r).concat(on(An).slice(1),Cr(Xr).reverse().slice(1),on(Pn).reverse().slice(1))]}},un.extent=function(yn){return arguments.length?un.extentMajor(yn).extentMinor(yn):un.extentMinor()},un.extentMajor=function(yn){return arguments.length?(_r=+yn[0][0],Xr=+yn[1][0],Pn=+yn[0][1],An=+yn[1][1],_r>Xr&&(yn=_r,_r=Xr,Xr=yn),Pn>An&&(yn=Pn,Pn=An,An=yn),un.precision(sn)):[[_r,Pn],[Xr,An]]},un.extentMinor=function(yn){return arguments.length?(Pr=+yn[0][0],gr=+yn[1][0],rn=+yn[0][1],gn=+yn[1][1],Pr>gr&&(yn=Pr,Pr=gr,gr=yn),rn>gn&&(yn=rn,rn=gn,gn=yn),un.precision(sn)):[[Pr,rn],[gr,gn]]},un.step=function(yn){return arguments.length?un.stepMajor(yn).stepMinor(yn):un.stepMinor()},un.stepMajor=function(yn){return arguments.length?(Ta=+yn[0],sa=+yn[1],un):[Ta,sa]},un.stepMinor=function(yn){return arguments.length?(Wn=+yn[0],ya=+yn[1],un):[Wn,ya]},un.precision=function(yn){return arguments.length?(sn=+yn,aa=G(rn,gn,90),kn=Y(Pr,gr,sn),Cr=G(Pn,An,90),on=Y(_r,Xr,sn),un):sn},un.extentMajor([[-180,-90+a.Gg],[180,90-a.Gg]]).extentMinor([[-180,-80-a.Gg],[180,80+a.Gg]])}function te(){return Q()()}var ae=e(27284),fe=e(7376),oe=(0,o.c)(),J=(0,o.c)(),ee,X,q,le,$={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){$.lineStart=j,$.lineEnd=he},polygonEnd:function(){$.lineStart=$.lineEnd=$.point=u.c,oe.add((0,a.a2)(J)),J.reset()},result:function(){var gr=oe/2;return oe.reset(),gr}};function j(){$.point=se}function se(gr,Pr){$.point=ne,ee=q=gr,X=le=Pr}function ne(gr,Pr){J.add(le*gr-q*Pr),q=gr,le=Pr}function he(){ne(ee,X)}var me=$,we=e(73784),Te=0,Le=0,Ie=0,ze=0,Me=0,_e=0,Ce=0,Oe=0,Pe=0,Ge,Ze,it,Je,et={point:ft,lineStart:vt,lineEnd:Mt,polygonStart:function(){et.lineStart=nt,et.lineEnd=Fe},polygonEnd:function(){et.point=ft,et.lineStart=vt,et.lineEnd=Mt},result:function(){var gr=Pe?[Ce/Pe,Oe/Pe]:_e?[ze/_e,Me/_e]:Ie?[Te/Ie,Le/Ie]:[NaN,NaN];return Te=Le=Ie=ze=Me=_e=Ce=Oe=Pe=0,gr}};function ft(gr,Pr){Te+=gr,Le+=Pr,++Ie}function vt(){et.point=dt}function dt(gr,Pr){et.point=xt,ft(it=gr,Je=Pr)}function xt(gr,Pr){var Xr=gr-it,_r=Pr-Je,gn=(0,a._I)(Xr*Xr+_r*_r);ze+=gn*(it+gr)/2,Me+=gn*(Je+Pr)/2,_e+=gn,ft(it=gr,Je=Pr)}function Mt(){et.point=ft}function nt(){et.point=We}function Fe(){je(Ge,Ze)}function We(gr,Pr){et.point=je,ft(Ge=it=gr,Ze=Je=Pr)}function je(gr,Pr){var Xr=gr-it,_r=Pr-Je,gn=(0,a._I)(Xr*Xr+_r*_r);ze+=gn*(it+gr)/2,Me+=gn*(Je+Pr)/2,_e+=gn,gn=Je*gr-it*Pr,Ce+=gn*(it+gr),Oe+=gn*(Je+Pr),Pe+=gn*3,ft(it=gr,Je=Pr)}var Ke=et;function ke(gr){this._context=gr}ke.prototype={_radius:4.5,pointRadius:function(gr){return this._radius=gr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._context.moveTo(gr,Pr),this._point=1;break}case 1:{this._context.lineTo(gr,Pr);break}default:{this._context.moveTo(gr+this._radius,Pr),this._context.arc(gr,Pr,this._radius,0,a.kD);break}}},result:u.c};var Ue=(0,o.c)(),Ve,Re,de,be,Ne,Ye={point:u.c,lineStart:function(){Ye.point=at},lineEnd:function(){Ve&&lt(Re,de),Ye.point=u.c},polygonStart:function(){Ve=!0},polygonEnd:function(){Ve=null},result:function(){var gr=+Ue;return Ue.reset(),gr}};function at(gr,Pr){Ye.point=lt,Re=be=gr,de=Ne=Pr}function lt(gr,Pr){be-=gr,Ne-=Pr,Ue.add((0,a._I)(be*be+Ne*Ne)),be=gr,Ne=Pr}var Ht=Ye;function Yt(){this._string=[]}Yt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(gr){return(gr=+gr)!==this._radius&&(this._radius=gr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._string.push("M",gr,",",Pr),this._point=1;break}case 1:{this._string.push("L",gr,",",Pr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",gr,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var gr=this._string.join("");return this._string=[],gr}else return null}};function Tt(gr){return"m0,"+gr+"a"+gr+","+gr+" 0 1,1 0,"+-2*gr+"a"+gr+","+gr+" 0 1,1 0,"+2*gr+"z"}function Lt(gr,Pr){var Xr=4.5,_r,gn;function rn(An){return An&&(typeof Xr=="function"&&gn.pointRadius(+Xr.apply(this,arguments)),(0,f.c)(An,_r(gn))),gn.result()}return rn.area=function(An){return(0,f.c)(An,_r(me)),me.result()},rn.measure=function(An){return(0,f.c)(An,_r(Ht)),Ht.result()},rn.bounds=function(An){return(0,f.c)(An,_r(we.c)),we.c.result()},rn.centroid=function(An){return(0,f.c)(An,_r(Ke)),Ke.result()},rn.projection=function(An){return arguments.length?(_r=An==null?(gr=null,fe.c):(gr=An).stream,rn):gr},rn.context=function(An){return arguments.length?(gn=An==null?(Pr=null,new Yt):new ke(Pr=An),typeof Xr!="function"&&gn.pointRadius(Xr),rn):Pr},rn.pointRadius=function(An){return arguments.length?(Xr=typeof An=="function"?An:(gn.pointRadius(+An),+An),rn):Xr},rn.projection(gr).context(Pr)}var Kt=e(87952);function vr(gr){var Pr=0,Xr=a.pi/3,_r=(0,Kt.U)(gr),gn=_r(Pr,Xr);return gn.parallels=function(rn){return arguments.length?_r(Pr=rn[0]*a.qw,Xr=rn[1]*a.qw):[Pr*a.oh,Xr*a.oh]},gn}function gt(gr){var Pr=(0,a.W8)(gr);function Xr(_r,gn){return[_r*Pr,(0,a.g$)(gn)/Pr]}return Xr.invert=function(_r,gn){return[_r/Pr,(0,a.qR)(gn*Pr)]},Xr}function Xt(gr,Pr){var Xr=(0,a.g$)(gr),_r=(Xr+(0,a.g$)(Pr))/2;if((0,a.a2)(_r)<a.Gg)return gt(gr);var gn=1+Xr*(2*_r-Xr),rn=(0,a._I)(gn)/_r;function An(Pn,Wn){var ya=(0,a._I)(gn-2*_r*(0,a.g$)(Wn))/_r;return[ya*(0,a.g$)(Pn*=_r),rn-ya*(0,a.W8)(Pn)]}return An.invert=function(Pn,Wn){var ya=rn-Wn,Ta=(0,a.WE)(Pn,(0,a.a2)(ya))*(0,a.kq)(ya);return ya*_r<0&&(Ta-=a.pi*(0,a.kq)(Pn)*(0,a.kq)(ya)),[Ta/_r,(0,a.qR)((gn-(Pn*Pn+ya*ya)*_r*_r)/(2*_r))]},An}function $t(){return vr(Xt).scale(155.424).center([0,33.6442])}function mr(){return $t().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=e(86420);function yt(gr){var Pr=gr.length;return{point:function(Xr,_r){for(var gn=-1;++gn<Pr;)gr[gn].point(Xr,_r)},sphere:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].sphere()},lineStart:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].lineStart()},lineEnd:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].lineEnd()},polygonStart:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].polygonStart()},polygonEnd:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].polygonEnd()}}}function ut(){var gr,Pr,Xr=mr(),_r,gn=$t().rotate([154,0]).center([-2,58.5]).parallels([55,65]),rn,An=$t().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,Wn,ya={point:function(aa,kn){Wn=[aa,kn]}};function Ta(aa){var kn=aa[0],Cr=aa[1];return Wn=null,_r.point(kn,Cr),Wn||(rn.point(kn,Cr),Wn)||(Pn.point(kn,Cr),Wn)}Ta.invert=function(aa){var kn=Xr.scale(),Cr=Xr.translate(),on=(aa[0]-Cr[0])/kn,sn=(aa[1]-Cr[1])/kn;return(sn>=.12&&sn<.234&&on>=-.425&&on<-.214?gn:sn>=.166&&sn<.234&&on>=-.214&&on<-.115?An:Xr).invert(aa)},Ta.stream=function(aa){return gr&&Pr===aa?gr:gr=yt([Xr.stream(Pr=aa),gn.stream(aa),An.stream(aa)])},Ta.precision=function(aa){return arguments.length?(Xr.precision(aa),gn.precision(aa),An.precision(aa),sa()):Xr.precision()},Ta.scale=function(aa){return arguments.length?(Xr.scale(aa),gn.scale(aa*.35),An.scale(aa),Ta.translate(Xr.translate())):Xr.scale()},Ta.translate=function(aa){if(!arguments.length)return Xr.translate();var kn=Xr.scale(),Cr=+aa[0],on=+aa[1];return _r=Xr.translate(aa).clipExtent([[Cr-.455*kn,on-.238*kn],[Cr+.455*kn,on+.238*kn]]).stream(ya),rn=gn.translate([Cr-.307*kn,on+.201*kn]).clipExtent([[Cr-.425*kn+a.Gg,on+.12*kn+a.Gg],[Cr-.214*kn-a.Gg,on+.234*kn-a.Gg]]).stream(ya),Pn=An.translate([Cr-.205*kn,on+.212*kn]).clipExtent([[Cr-.214*kn+a.Gg,on+.166*kn+a.Gg],[Cr-.115*kn-a.Gg,on+.234*kn-a.Gg]]).stream(ya),sa()},Ta.fitExtent=function(aa,kn){return(0,or.QX)(Ta,aa,kn)},Ta.fitSize=function(aa,kn){return(0,or.UV)(Ta,aa,kn)},Ta.fitWidth=function(aa,kn){return(0,or.Qx)(Ta,aa,kn)},Ta.fitHeight=function(aa,kn){return(0,or.OW)(Ta,aa,kn)};function sa(){return gr=Pr=null,Ta}return Ta.scale(1070)}var bt=e(54724),Et=e(69020),It=e(92992);function Ft(gr,Pr){return[gr,(0,a.Yz)((0,a.a6)((a.or+Pr)/2))]}Ft.invert=function(gr,Pr){return[gr,2*(0,a.MQ)((0,a.oN)(Pr))-a.or]};function Ot(){return Nt(Ft).scale(961/a.kD)}function Nt(gr){var Pr=(0,Kt.c)(gr),Xr=Pr.center,_r=Pr.scale,gn=Pr.translate,rn=Pr.clipExtent,An=null,Pn,Wn,ya;Pr.scale=function(sa){return arguments.length?(_r(sa),Ta()):_r()},Pr.translate=function(sa){return arguments.length?(gn(sa),Ta()):gn()},Pr.center=function(sa){return arguments.length?(Xr(sa),Ta()):Xr()},Pr.clipExtent=function(sa){return arguments.length?(sa==null?An=Pn=Wn=ya=null:(An=+sa[0][0],Pn=+sa[0][1],Wn=+sa[1][0],ya=+sa[1][1]),Ta()):An==null?null:[[An,Pn],[Wn,ya]]};function Ta(){var sa=a.pi*_r(),aa=Pr((0,It.c)(Pr.rotate()).invert([0,0]));return rn(An==null?[[aa[0]-sa,aa[1]-sa],[aa[0]+sa,aa[1]+sa]]:gr===Ft?[[Math.max(aa[0]-sa,An),Pn],[Math.min(aa[0]+sa,Wn),ya]]:[[An,Math.max(aa[1]-sa,Pn)],[Wn,Math.min(aa[1]+sa,ya)]])}return Ta()}function Jt(gr){return(0,a.a6)((a.or+gr)/2)}function hr(gr,Pr){var Xr=(0,a.W8)(gr),_r=gr===Pr?(0,a.g$)(gr):(0,a.Yz)(Xr/(0,a.W8)(Pr))/(0,a.Yz)(Jt(Pr)/Jt(gr)),gn=Xr*(0,a.g3)(Jt(gr),_r)/_r;if(!_r)return Ft;function rn(An,Pn){gn>0?Pn<-a.or+a.Gg&&(Pn=-a.or+a.Gg):Pn>a.or-a.Gg&&(Pn=a.or-a.Gg);var Wn=gn/(0,a.g3)(Jt(Pn),_r);return[Wn*(0,a.g$)(_r*An),gn-Wn*(0,a.W8)(_r*An)]}return rn.invert=function(An,Pn){var Wn=gn-Pn,ya=(0,a.kq)(_r)*(0,a._I)(An*An+Wn*Wn),Ta=(0,a.WE)(An,(0,a.a2)(Wn))*(0,a.kq)(Wn);return Wn*_r<0&&(Ta-=a.pi*(0,a.kq)(An)*(0,a.kq)(Wn)),[Ta/_r,2*(0,a.MQ)((0,a.g3)(gn/ya,1/_r))-a.or]},rn}function cr(){return vr(hr).scale(109.5).parallels([30,30])}var dr=e(69604);function fr(gr,Pr){var Xr=(0,a.W8)(gr),_r=gr===Pr?(0,a.g$)(gr):(Xr-(0,a.W8)(Pr))/(Pr-gr),gn=Xr/_r+gr;if((0,a.a2)(_r)<a.Gg)return dr.u;function rn(An,Pn){var Wn=gn-Pn,ya=_r*An;return[Wn*(0,a.g$)(ya),gn-Wn*(0,a.W8)(ya)]}return rn.invert=function(An,Pn){var Wn=gn-Pn,ya=(0,a.WE)(An,(0,a.a2)(Wn))*(0,a.kq)(Wn);return Wn*_r<0&&(ya-=a.pi*(0,a.kq)(An)*(0,a.kq)(Wn)),[ya/_r,gn-(0,a.kq)(_r)*(0,a._I)(An*An+Wn*Wn)]},rn}function Lr(){return vr(fr).scale(131.154).center([0,13.9389])}var xr=1.340264,Qe=-.081106,rt=893e-6,er=.003796,tr=(0,a._I)(3)/2,jt=12;function Pt(gr,Pr){var Xr=(0,a.qR)(tr*(0,a.g$)(Pr)),_r=Xr*Xr,gn=_r*_r*_r;return[gr*(0,a.W8)(Xr)/(tr*(xr+3*Qe*_r+gn*(7*rt+9*er*_r))),Xr*(xr+Qe*_r+gn*(rt+er*_r))]}Pt.invert=function(gr,Pr){for(var Xr=Pr,_r=Xr*Xr,gn=_r*_r*_r,rn=0,An,Pn,Wn;rn<jt&&(Pn=Xr*(xr+Qe*_r+gn*(rt+er*_r))-Pr,Wn=xr+3*Qe*_r+gn*(7*rt+9*er*_r),Xr-=An=Pn/Wn,_r=Xr*Xr,gn=_r*_r*_r,!((0,a.a2)(An)<a.a8));++rn);return[tr*gr*(xr+3*Qe*_r+gn*(7*rt+9*er*_r))/(0,a.W8)(Xr),(0,a.qR)((0,a.g$)(Xr)/tr)]};function Zt(){return(0,Kt.c)(Pt).scale(177.158)}var nr=e(53285),Qt=e(15196);function Wt(){var gr=1,Pr=0,Xr=0,_r=1,gn=1,rn=0,An,Pn,Wn=null,ya,Ta,sa,aa=1,kn=1,Cr=(0,Qt.s)({point:function(Ln,Un){var qn=yn([Ln,Un]);this.stream.point(qn[0],qn[1])}}),on=fe.c,sn,un;function Bn(){return aa=gr*_r,kn=gr*gn,sn=un=null,yn}function yn(Ln){var Un=Ln[0]*aa,qn=Ln[1]*kn;if(rn){var da=qn*An-Un*Pn;Un=Un*An+qn*Pn,qn=da}return[Un+Pr,qn+Xr]}return yn.invert=function(Ln){var Un=Ln[0]-Pr,qn=Ln[1]-Xr;if(rn){var da=qn*An+Un*Pn;Un=Un*An-qn*Pn,qn=da}return[Un/aa,qn/kn]},yn.stream=function(Ln){return sn&&un===Ln?sn:sn=Cr(on(un=Ln))},yn.postclip=function(Ln){return arguments.length?(on=Ln,Wn=ya=Ta=sa=null,Bn()):on},yn.clipExtent=function(Ln){return arguments.length?(on=Ln==null?(Wn=ya=Ta=sa=null,fe.c):(0,p.c)(Wn=+Ln[0][0],ya=+Ln[0][1],Ta=+Ln[1][0],sa=+Ln[1][1]),Bn()):Wn==null?null:[[Wn,ya],[Ta,sa]]},yn.scale=function(Ln){return arguments.length?(gr=+Ln,Bn()):gr},yn.translate=function(Ln){return arguments.length?(Pr=+Ln[0],Xr=+Ln[1],Bn()):[Pr,Xr]},yn.angle=function(Ln){return arguments.length?(rn=Ln%360*a.qw,Pn=(0,a.g$)(rn),An=(0,a.W8)(rn),Bn()):rn*a.oh},yn.reflectX=function(Ln){return arguments.length?(_r=Ln?-1:1,Bn()):_r<0},yn.reflectY=function(Ln){return arguments.length?(gn=Ln?-1:1,Bn()):gn<0},yn.fitExtent=function(Ln,Un){return(0,or.QX)(yn,Ln,Un)},yn.fitSize=function(Ln,Un){return(0,or.UV)(yn,Ln,Un)},yn.fitWidth=function(Ln,Un){return(0,or.Qx)(yn,Ln,Un)},yn.fitHeight=function(Ln,Un){return(0,or.OW)(yn,Ln,Un)},yn}var yr=e(47984),Dr=e(4888),Tr=e(62280);function dn(gr,Pr){var Xr=(0,a.W8)(Pr),_r=1+(0,a.W8)(gr)*Xr;return[Xr*(0,a.g$)(gr)/_r,(0,a.g$)(Pr)/_r]}dn.invert=(0,Tr.g)(function(gr){return 2*(0,a.MQ)(gr)});function Nr(){return(0,Kt.c)(dn).scale(250).clipAngle(142)}function Cn(gr,Pr){return[(0,a.Yz)((0,a.a6)((a.or+Pr)/2)),-gr]}Cn.invert=function(gr,Pr){return[-Pr,2*(0,a.MQ)((0,a.oN)(gr))-a.or]};function an(){var gr=Nt(Cn),Pr=gr.center,Xr=gr.rotate;return gr.center=function(_r){return arguments.length?Pr([-_r[1],_r[0]]):(_r=Pr(),[_r[1],-_r[0]])},gr.rotate=function(_r){return arguments.length?Xr([_r[0],_r[1],_r.length>2?_r[2]+90:90]):(_r=Xr(),[_r[0],_r[1],_r[2]-90])},Xr([0,0,90]).scale(159.155)}},27284:function(U,N,e){e.d(N,{c:function(){return P}});var d=e(64528);function P(n,C){var x=n[0]*d.qw,v=n[1]*d.qw,p=C[0]*d.qw,r=C[1]*d.qw,t=(0,d.W8)(v),o=(0,d.g$)(v),a=(0,d.W8)(r),u=(0,d.g$)(r),f=t*(0,d.W8)(x),l=t*(0,d.g$)(x),y=a*(0,d.W8)(p),c=a*(0,d.g$)(p),T=2*(0,d.qR)((0,d._I)((0,d.SD)(r-v)+t*a*(0,d.SD)(p-x))),h=(0,d.g$)(T),i=T?function(g){var b=(0,d.g$)(g*=T)/h,A=(0,d.g$)(T-g)/h,R=A*f+b*y,m=A*l+b*c,L=A*o+b*u;return[(0,d.WE)(m,R)*d.oh,(0,d.WE)(L,(0,d._I)(R*R+m*m))*d.oh]}:function(){return[x*d.oh,v*d.oh]};return i.distance=T,i}},64528:function(U,N,e){e.d(N,{Gg:function(){return d},Km:function(){return f},MQ:function(){return o},SD:function(){return R},W8:function(){return u},WE:function(){return a},Yz:function(){return y},_I:function(){return i},a2:function(){return t},a6:function(){return g},a8:function(){return P},g$:function(){return T},g3:function(){return c},kD:function(){return v},kq:function(){return h},mE:function(){return b},oN:function(){return l},oh:function(){return p},or:function(){return C},pi:function(){return n},qR:function(){return A},qw:function(){return r},wL:function(){return x}});var d=1e-6,P=1e-12,n=Math.PI,C=n/2,x=n/4,v=n*2,p=180/n,r=n/180,t=Math.abs,o=Math.atan,a=Math.atan2,u=Math.cos,f=Math.ceil,l=Math.exp,y=Math.log,c=Math.pow,T=Math.sin,h=Math.sign||function(m){return m>0?1:m<0?-1:0},i=Math.sqrt,g=Math.tan;function b(m){return m>1?0:m<-1?n:Math.acos(m)}function A(m){return m>1?C:m<-1?-C:Math.asin(m)}function R(m){return(m=T(m/2))*m}},70932:function(U,N,e){e.d(N,{c:function(){return d}});function d(){}},73784:function(U,N,e){var d=e(70932),P=1/0,n=P,C=-P,x=C,v={point:p,lineStart:d.c,lineEnd:d.c,polygonStart:d.c,polygonEnd:d.c,result:function(){var r=[[P,n],[C,x]];return C=x=-(n=P=1/0),r}};function p(r,t){r<P&&(P=r),r>C&&(C=r),t<n&&(n=t),t>x&&(x=t)}N.c=v},41860:function(U,N,e){e.d(N,{c:function(){return P}});var d=e(64528);function P(n,C){return(0,d.a2)(n[0]-C[0])<d.Gg&&(0,d.a2)(n[1]-C[1])<d.Gg}},58196:function(U,N,e){e.d(N,{c:function(){return v}});var d=e(88728),P=e(84220),n=e(64528),C=(0,d.c)();function x(p){return(0,n.a2)(p[0])<=n.pi?p[0]:(0,n.kq)(p[0])*(((0,n.a2)(p[0])+n.pi)%n.kD-n.pi)}function v(p,r){var t=x(r),o=r[1],a=(0,n.g$)(o),u=[(0,n.g$)(t),-(0,n.W8)(t),0],f=0,l=0;C.reset(),a===1?o=n.or+n.Gg:a===-1&&(o=-n.or-n.Gg);for(var y=0,c=p.length;y<c;++y)if(h=(T=p[y]).length)for(var T,h,i=T[h-1],g=x(i),b=i[1]/2+n.wL,A=(0,n.g$)(b),R=(0,n.W8)(b),m=0;m<h;++m,g=M,A=S,R=w,i=L){var L=T[m],M=x(L),s=L[1]/2+n.wL,S=(0,n.g$)(s),w=(0,n.W8)(s),_=M-g,I=_>=0?1:-1,H=I*_,O=H>n.pi,V=A*S;if(C.add((0,n.WE)(V*I*(0,n.g$)(H),R*w+V*(0,n.W8)(H))),f+=O?_+I*n.kD:_,O^g>=t^M>=t){var B=(0,P.CW)((0,P.ux)(i),(0,P.ux)(L));(0,P.cJ)(B);var F=(0,P.CW)(u,B);(0,P.cJ)(F);var G=(O^_>=0?-1:1)*(0,n.qR)(F[2]);(o>G||o===G&&(B[0]||B[1]))&&(l+=O^_>=0?1:-1)}}return(f<-n.Gg||f<n.Gg&&C<-n.Gg)^l&1}},62280:function(U,N,e){e.d(N,{a:function(){return P},g:function(){return n}});var d=e(64528);function P(C){return function(x,v){var p=(0,d.W8)(x),r=(0,d.W8)(v),t=C(p*r);return[t*r*(0,d.g$)(x),t*(0,d.g$)(v)]}}function n(C){return function(x,v){var p=(0,d._I)(x*x+v*v),r=C(p),t=(0,d.g$)(r),o=(0,d.W8)(r);return[(0,d.WE)(x*t,p*o),(0,d.qR)(p&&v*t/p)]}}},54724:function(U,N,e){e.d(N,{c:function(){return x},y:function(){return C}});var d=e(64528),P=e(62280),n=e(87952),C=(0,P.a)(function(v){return(0,d._I)(2/(1+v))});C.invert=(0,P.g)(function(v){return 2*(0,d.qR)(v/2)});function x(){return(0,n.c)(C).scale(124.75).clipAngle(179.999)}},69020:function(U,N,e){e.d(N,{O:function(){return C},c:function(){return x}});var d=e(64528),P=e(62280),n=e(87952),C=(0,P.a)(function(v){return(v=(0,d.mE)(v))&&v/(0,d.g$)(v)});C.invert=(0,P.g)(function(v){return v});function x(){return(0,n.c)(C).scale(79.4188).clipAngle(179.999)}},69604:function(U,N,e){e.d(N,{c:function(){return n},u:function(){return P}});var d=e(87952);function P(C,x){return[C,x]}P.invert=P;function n(){return(0,d.c)(P).scale(152.63)}},86420:function(U,N,e){e.d(N,{OW:function(){return p},QX:function(){return C},Qx:function(){return v},UV:function(){return x}});var d=e(16016),P=e(73784);function n(r,t,o){var a=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),(0,d.c)(o,r.stream(P.c)),t(P.c.result()),a!=null&&r.clipExtent(a),r}function C(r,t,o){return n(r,function(a){var u=t[1][0]-t[0][0],f=t[1][1]-t[0][1],l=Math.min(u/(a[1][0]-a[0][0]),f/(a[1][1]-a[0][1])),y=+t[0][0]+(u-l*(a[1][0]+a[0][0]))/2,c=+t[0][1]+(f-l*(a[1][1]+a[0][1]))/2;r.scale(150*l).translate([y,c])},o)}function x(r,t,o){return C(r,[[0,0],t],o)}function v(r,t,o){return n(r,function(a){var u=+t,f=u/(a[1][0]-a[0][0]),l=(u-f*(a[1][0]+a[0][0]))/2,y=-f*a[0][1];r.scale(150*f).translate([l,y])},o)}function p(r,t,o){return n(r,function(a){var u=+t,f=u/(a[1][1]-a[0][1]),l=-f*a[0][0],y=(u-f*(a[1][1]+a[0][1]))/2;r.scale(150*f).translate([l,y])},o)}},53285:function(U,N,e){e.d(N,{Y:function(){return C},c:function(){return x}});var d=e(64528),P=e(62280),n=e(87952);function C(v,p){var r=(0,d.W8)(p),t=(0,d.W8)(v)*r;return[r*(0,d.g$)(v)/t,(0,d.g$)(p)/t]}C.invert=(0,P.g)(d.MQ);function x(){return(0,n.c)(C).scale(144.049).clipAngle(60)}},87952:function(U,N,e){e.d(N,{c:function(){return g},U:function(){return b}});var d=e(78284),P=e(2728),n=e(21676),C=e(68120),x=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),o=e(84220),a=16,u=(0,v.W8)(30*v.qw);function f(A,R){return+R?y(A,R):l(A)}function l(A){return(0,r.s)({point:function(R,m){R=A(R,m),this.stream.point(R[0],R[1])}})}function y(A,R){function m(L,M,s,S,w,_,I,H,O,V,B,F,G,Y){var Q=I-L,te=H-M,ae=Q*Q+te*te;if(ae>4*R&&G--){var fe=S+V,oe=w+B,J=_+F,ee=(0,v._I)(fe*fe+oe*oe+J*J),X=(0,v.qR)(J/=ee),q=(0,v.a2)((0,v.a2)(J)-1)<v.Gg||(0,v.a2)(s-O)<v.Gg?(s+O)/2:(0,v.WE)(oe,fe),le=A(q,X),$=le[0],j=le[1],se=$-L,ne=j-M,he=te*se-Q*ne;(he*he/ae>R||(0,v.a2)((Q*se+te*ne)/ae-.5)>.3||S*V+w*B+_*F<u)&&(m(L,M,s,S,w,_,$,j,q,fe/=ee,oe/=ee,J,G,Y),Y.point($,j),m($,j,q,fe,oe,J,I,H,O,V,B,F,G,Y))}}return function(L){var M,s,S,w,_,I,H,O,V,B,F,G,Y={point:Q,lineStart:te,lineEnd:fe,polygonStart:function(){L.polygonStart(),Y.lineStart=oe},polygonEnd:function(){L.polygonEnd(),Y.lineStart=te}};function Q(X,q){X=A(X,q),L.point(X[0],X[1])}function te(){O=NaN,Y.point=ae,L.lineStart()}function ae(X,q){var le=(0,o.ux)([X,q]),$=A(X,q);m(O,V,H,B,F,G,O=$[0],V=$[1],H=X,B=le[0],F=le[1],G=le[2],a,L),L.point(O,V)}function fe(){Y.point=Q,L.lineEnd()}function oe(){te(),Y.point=J,Y.lineEnd=ee}function J(X,q){ae(M=X,q),s=O,S=V,w=B,_=F,I=G,Y.point=ae}function ee(){m(O,V,H,B,F,G,s,S,M,w,_,I,a,L),Y.lineEnd=fe,fe()}return Y}}var c=(0,r.s)({point:function(A,R){this.stream.point(A*v.qw,R*v.qw)}});function T(A){return(0,r.s)({point:function(R,m){var L=A(R,m);return this.stream.point(L[0],L[1])}})}function h(A,R,m,L,M){function s(S,w){return S*=L,w*=M,[R+A*S,m-A*w]}return s.invert=function(S,w){return[(S-R)/A*L,(m-w)/A*M]},s}function i(A,R,m,L,M,s){var S=(0,v.W8)(s),w=(0,v.g$)(s),_=S*A,I=w*A,H=S/A,O=w/A,V=(w*m-S*R)/A,B=(w*R+S*m)/A;function F(G,Y){return G*=L,Y*=M,[_*G-I*Y+R,m-I*G-_*Y]}return F.invert=function(G,Y){return[L*(H*G-O*Y+V),M*(B-O*G-H*Y)]},F}function g(A){return b(function(){return A})()}function b(A){var R,m=150,L=480,M=250,s=0,S=0,w=0,_=0,I=0,H,O=0,V=1,B=1,F=null,G=d.c,Y=null,Q,te,ae,fe=x.c,oe=.5,J,ee,X,q,le;function $(he){return X(he[0]*v.qw,he[1]*v.qw)}function j(he){return he=X.invert(he[0],he[1]),he&&[he[0]*v.oh,he[1]*v.oh]}$.stream=function(he){return q&&le===he?q:q=c(T(H)(G(J(fe(le=he)))))},$.preclip=function(he){return arguments.length?(G=he,F=void 0,ne()):G},$.postclip=function(he){return arguments.length?(fe=he,Y=Q=te=ae=null,ne()):fe},$.clipAngle=function(he){return arguments.length?(G=+he?(0,P.c)(F=he*v.qw):(F=null,d.c),ne()):F*v.oh},$.clipExtent=function(he){return arguments.length?(fe=he==null?(Y=Q=te=ae=null,x.c):(0,n.c)(Y=+he[0][0],Q=+he[0][1],te=+he[1][0],ae=+he[1][1]),ne()):Y==null?null:[[Y,Q],[te,ae]]},$.scale=function(he){return arguments.length?(m=+he,se()):m},$.translate=function(he){return arguments.length?(L=+he[0],M=+he[1],se()):[L,M]},$.center=function(he){return arguments.length?(s=he[0]%360*v.qw,S=he[1]%360*v.qw,se()):[s*v.oh,S*v.oh]},$.rotate=function(he){return arguments.length?(w=he[0]%360*v.qw,_=he[1]%360*v.qw,I=he.length>2?he[2]%360*v.qw:0,se()):[w*v.oh,_*v.oh,I*v.oh]},$.angle=function(he){return arguments.length?(O=he%360*v.qw,se()):O*v.oh},$.reflectX=function(he){return arguments.length?(V=he?-1:1,se()):V<0},$.reflectY=function(he){return arguments.length?(B=he?-1:1,se()):B<0},$.precision=function(he){return arguments.length?(J=f(ee,oe=he*he),ne()):(0,v._I)(oe)},$.fitExtent=function(he,me){return(0,t.QX)($,he,me)},$.fitSize=function(he,me){return(0,t.UV)($,he,me)},$.fitWidth=function(he,me){return(0,t.Qx)($,he,me)},$.fitHeight=function(he,me){return(0,t.OW)($,he,me)};function se(){var he=i(m,0,0,V,B,O).apply(null,R(s,S)),me=(O?i:h)(m,L-he[0],M-he[1],V,B,O);return H=(0,p.O)(w,_,I),ee=(0,C.c)(R,me),X=(0,C.c)(H,ee),J=f(ee,oe),ne()}function ne(){return q=le=null,$}return function(){return R=A.apply(this,arguments),$.invert=R.invert&&j,se()}}},47984:function(U,N,e){e.d(N,{c:function(){return C},g:function(){return n}});var d=e(87952),P=e(64528);function n(x,v){var p=v*v,r=p*p;return[x*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}n.invert=function(x,v){var p=v,r=25,t;do{var o=p*p,a=o*o;p-=t=(p*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-v)/(1.007226+o*(.045255+a*(-.311325+.259866*o-.06507600000000001*a)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[x/(.8707+(o=p*p)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),p]};function C(){return(0,d.c)(n).scale(175.295)}},4888:function(U,N,e){e.d(N,{c:function(){return x},t:function(){return C}});var d=e(64528),P=e(62280),n=e(87952);function C(v,p){return[(0,d.W8)(p)*(0,d.g$)(v),(0,d.g$)(p)]}C.invert=(0,P.g)(d.qR);function x(){return(0,n.c)(C).scale(249.5).clipAngle(90+d.Gg)}},92992:function(U,N,e){e.d(N,{O:function(){return C},c:function(){return r}});var d=e(68120),P=e(64528);function n(t,o){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,o]}n.invert=n;function C(t,o,a){return(t%=P.kD)?o||a?(0,d.c)(v(t),p(o,a)):v(t):o||a?p(o,a):n}function x(t){return function(o,a){return o+=t,[o>P.pi?o-P.kD:o<-P.pi?o+P.kD:o,a]}}function v(t){var o=x(t);return o.invert=x(-t),o}function p(t,o){var a=(0,P.W8)(t),u=(0,P.g$)(t),f=(0,P.W8)(o),l=(0,P.g$)(o);function y(c,T){var h=(0,P.W8)(T),i=(0,P.W8)(c)*h,g=(0,P.g$)(c)*h,b=(0,P.g$)(T),A=b*a+i*u;return[(0,P.WE)(g*f-A*l,i*a-b*u),(0,P.qR)(A*f+g*l)]}return y.invert=function(c,T){var h=(0,P.W8)(T),i=(0,P.W8)(c)*h,g=(0,P.g$)(c)*h,b=(0,P.g$)(T),A=b*f-g*l;return[(0,P.WE)(g*f+b*l,i*a+A*u),(0,P.qR)(A*a-i*u)]},y}function r(t){t=C(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function o(a){return a=t(a[0]*P.qw,a[1]*P.qw),a[0]*=P.oh,a[1]*=P.oh,a}return o.invert=function(a){return a=t.invert(a[0]*P.qw,a[1]*P.qw),a[0]*=P.oh,a[1]*=P.oh,a},o}},16016:function(U,N,e){e.d(N,{c:function(){return v}});function d(p,r){p&&n.hasOwnProperty(p.type)&&n[p.type](p,r)}var P={Feature:function(p,r){d(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,o=-1,a=t.length;++o<a;)d(t[o].geometry,r)}},n={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,o=-1,a=t.length;++o<a;)p=t[o],r.point(p[0],p[1],p[2])},LineString:function(p,r){C(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,o=-1,a=t.length;++o<a;)C(t[o],r,0)},Polygon:function(p,r){x(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,o=-1,a=t.length;++o<a;)x(t[o],r)},GeometryCollection:function(p,r){for(var t=p.geometries,o=-1,a=t.length;++o<a;)d(t[o],r)}};function C(p,r,t){var o=-1,a=p.length-t,u;for(r.lineStart();++o<a;)u=p[o],r.point(u[0],u[1],u[2]);r.lineEnd()}function x(p,r){var t=-1,o=p.length;for(r.polygonStart();++t<o;)C(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):d(p,r)}},15196:function(U,N,e){e.d(N,{c:function(){return d},s:function(){return P}});function d(C){return{stream:P(C)}}function P(C){return function(x){var v=new n;for(var p in C)v[p]=C[p];return v.stream=x,v}}function n(){}n.prototype={constructor:n,point:function(C,x){this.stream.point(C,x)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(U,N,e){e.r(N),e.d(N,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return j},packEnclose:function(){return _},packSiblings:function(){return J},partition:function(){return Te},stratify:function(){return Ce},tree:function(){return vt},treemap:function(){return Fe},treemapBinary:function(){return We},treemapDice:function(){return we},treemapResquarify:function(){return Ke},treemapSlice:function(){return dt},treemapSliceDice:function(){return je},treemapSquarify:function(){return nt}});function d(ke,Ue){return ke.parent===Ue.parent?1:2}function P(ke){return ke.reduce(n,0)/ke.length}function n(ke,Ue){return ke+Ue.x}function C(ke){return 1+ke.reduce(x,0)}function x(ke,Ue){return Math.max(ke,Ue.y)}function v(ke){for(var Ue;Ue=ke.children;)ke=Ue[0];return ke}function p(ke){for(var Ue;Ue=ke.children;)ke=Ue[Ue.length-1];return ke}function r(){var ke=d,Ue=1,Ve=1,Re=!1;function de(be){var Ne,Ye=0;be.eachAfter(function(Tt){var Lt=Tt.children;Lt?(Tt.x=P(Lt),Tt.y=C(Lt)):(Tt.x=Ne?Ye+=ke(Tt,Ne):0,Tt.y=0,Ne=Tt)});var at=v(be),lt=p(be),Ht=at.x-ke(at,lt)/2,Yt=lt.x+ke(lt,at)/2;return be.eachAfter(Re?function(Tt){Tt.x=(Tt.x-be.x)*Ue,Tt.y=(be.y-Tt.y)*Ve}:function(Tt){Tt.x=(Tt.x-Ht)/(Yt-Ht)*Ue,Tt.y=(1-(be.y?Tt.y/be.y:1))*Ve})}return de.separation=function(be){return arguments.length?(ke=be,de):ke},de.size=function(be){return arguments.length?(Re=!1,Ue=+be[0],Ve=+be[1],de):Re?null:[Ue,Ve]},de.nodeSize=function(be){return arguments.length?(Re=!0,Ue=+be[0],Ve=+be[1],de):Re?[Ue,Ve]:null},de}function t(ke){var Ue=0,Ve=ke.children,Re=Ve&&Ve.length;if(!Re)Ue=1;else for(;--Re>=0;)Ue+=Ve[Re].value;ke.value=Ue}function o(){return this.eachAfter(t)}function a(ke){var Ue=this,Ve,Re=[Ue],de,be,Ne;do for(Ve=Re.reverse(),Re=[];Ue=Ve.pop();)if(ke(Ue),de=Ue.children,de)for(be=0,Ne=de.length;be<Ne;++be)Re.push(de[be]);while(Re.length);return this}function u(ke){for(var Ue=this,Ve=[Ue],Re,de;Ue=Ve.pop();)if(ke(Ue),Re=Ue.children,Re)for(de=Re.length-1;de>=0;--de)Ve.push(Re[de]);return this}function f(ke){for(var Ue=this,Ve=[Ue],Re=[],de,be,Ne;Ue=Ve.pop();)if(Re.push(Ue),de=Ue.children,de)for(be=0,Ne=de.length;be<Ne;++be)Ve.push(de[be]);for(;Ue=Re.pop();)ke(Ue);return this}function l(ke){return this.eachAfter(function(Ue){for(var Ve=+ke(Ue.data)||0,Re=Ue.children,de=Re&&Re.length;--de>=0;)Ve+=Re[de].value;Ue.value=Ve})}function y(ke){return this.eachBefore(function(Ue){Ue.children&&Ue.children.sort(ke)})}function c(ke){for(var Ue=this,Ve=T(Ue,ke),Re=[Ue];Ue!==Ve;)Ue=Ue.parent,Re.push(Ue);for(var de=Re.length;ke!==Ve;)Re.splice(de,0,ke),ke=ke.parent;return Re}function T(ke,Ue){if(ke===Ue)return ke;var Ve=ke.ancestors(),Re=Ue.ancestors(),de=null;for(ke=Ve.pop(),Ue=Re.pop();ke===Ue;)de=ke,ke=Ve.pop(),Ue=Re.pop();return de}function h(){for(var ke=this,Ue=[ke];ke=ke.parent;)Ue.push(ke);return Ue}function i(){var ke=[];return this.each(function(Ue){ke.push(Ue)}),ke}function g(){var ke=[];return this.eachBefore(function(Ue){Ue.children||ke.push(Ue)}),ke}function b(){var ke=this,Ue=[];return ke.each(function(Ve){Ve!==ke&&Ue.push({source:Ve.parent,target:Ve})}),Ue}function A(ke,Ue){var Ve=new s(ke),Re=+ke.value&&(Ve.value=ke.value),de,be=[Ve],Ne,Ye,at,lt;for(Ue==null&&(Ue=m);de=be.pop();)if(Re&&(de.value=+de.data.value),(Ye=Ue(de.data))&&(lt=Ye.length))for(de.children=new Array(lt),at=lt-1;at>=0;--at)be.push(Ne=de.children[at]=new s(Ye[at])),Ne.parent=de,Ne.depth=de.depth+1;return Ve.eachBefore(M)}function R(){return A(this).eachBefore(L)}function m(ke){return ke.children}function L(ke){ke.data=ke.data.data}function M(ke){var Ue=0;do ke.height=Ue;while((ke=ke.parent)&&ke.height<++Ue)}function s(ke){this.data=ke,this.depth=this.height=0,this.parent=null}s.prototype=A.prototype={constructor:s,count:o,each:a,eachAfter:f,eachBefore:u,sum:l,sort:y,path:c,ancestors:h,descendants:i,leaves:g,links:b,copy:R};var S=Array.prototype.slice;function w(ke){for(var Ue=ke.length,Ve,Re;Ue;)Re=Math.random()*Ue--|0,Ve=ke[Ue],ke[Ue]=ke[Re],ke[Re]=Ve;return ke}function _(ke){for(var Ue=0,Ve=(ke=w(S.call(ke))).length,Re=[],de,be;Ue<Ve;)de=ke[Ue],be&&O(be,de)?++Ue:(be=B(Re=I(Re,de)),Ue=0);return be}function I(ke,Ue){var Ve,Re;if(V(Ue,ke))return[Ue];for(Ve=0;Ve<ke.length;++Ve)if(H(Ue,ke[Ve])&&V(G(ke[Ve],Ue),ke))return[ke[Ve],Ue];for(Ve=0;Ve<ke.length-1;++Ve)for(Re=Ve+1;Re<ke.length;++Re)if(H(G(ke[Ve],ke[Re]),Ue)&&H(G(ke[Ve],Ue),ke[Re])&&H(G(ke[Re],Ue),ke[Ve])&&V(Y(ke[Ve],ke[Re],Ue),ke))return[ke[Ve],ke[Re],Ue];throw new Error}function H(ke,Ue){var Ve=ke.r-Ue.r,Re=Ue.x-ke.x,de=Ue.y-ke.y;return Ve<0||Ve*Ve<Re*Re+de*de}function O(ke,Ue){var Ve=ke.r-Ue.r+1e-6,Re=Ue.x-ke.x,de=Ue.y-ke.y;return Ve>0&&Ve*Ve>Re*Re+de*de}function V(ke,Ue){for(var Ve=0;Ve<Ue.length;++Ve)if(!O(ke,Ue[Ve]))return!1;return!0}function B(ke){switch(ke.length){case 1:return F(ke[0]);case 2:return G(ke[0],ke[1]);case 3:return Y(ke[0],ke[1],ke[2])}}function F(ke){return{x:ke.x,y:ke.y,r:ke.r}}function G(ke,Ue){var Ve=ke.x,Re=ke.y,de=ke.r,be=Ue.x,Ne=Ue.y,Ye=Ue.r,at=be-Ve,lt=Ne-Re,Ht=Ye-de,Yt=Math.sqrt(at*at+lt*lt);return{x:(Ve+be+at/Yt*Ht)/2,y:(Re+Ne+lt/Yt*Ht)/2,r:(Yt+de+Ye)/2}}function Y(ke,Ue,Ve){var Re=ke.x,de=ke.y,be=ke.r,Ne=Ue.x,Ye=Ue.y,at=Ue.r,lt=Ve.x,Ht=Ve.y,Yt=Ve.r,Tt=Re-Ne,Lt=Re-lt,Kt=de-Ye,vr=de-Ht,gt=at-be,Xt=Yt-be,$t=Re*Re+de*de-be*be,mr=$t-Ne*Ne-Ye*Ye+at*at,or=$t-lt*lt-Ht*Ht+Yt*Yt,yt=Lt*Kt-Tt*vr,ut=(Kt*or-vr*mr)/(yt*2)-Re,bt=(vr*gt-Kt*Xt)/yt,Et=(Lt*mr-Tt*or)/(yt*2)-de,It=(Tt*Xt-Lt*gt)/yt,Ft=bt*bt+It*It-1,Ot=2*(be+ut*bt+Et*It),Nt=ut*ut+Et*Et-be*be,Jt=-(Ft?(Ot+Math.sqrt(Ot*Ot-4*Ft*Nt))/(2*Ft):Nt/Ot);return{x:Re+ut+bt*Jt,y:de+Et+It*Jt,r:Jt}}function Q(ke,Ue,Ve){var Re=ke.x-Ue.x,de,be,Ne=ke.y-Ue.y,Ye,at,lt=Re*Re+Ne*Ne;lt?(be=Ue.r+Ve.r,be*=be,at=ke.r+Ve.r,at*=at,be>at?(de=(lt+at-be)/(2*lt),Ye=Math.sqrt(Math.max(0,at/lt-de*de)),Ve.x=ke.x-de*Re-Ye*Ne,Ve.y=ke.y-de*Ne+Ye*Re):(de=(lt+be-at)/(2*lt),Ye=Math.sqrt(Math.max(0,be/lt-de*de)),Ve.x=Ue.x+de*Re-Ye*Ne,Ve.y=Ue.y+de*Ne+Ye*Re)):(Ve.x=Ue.x+Ve.r,Ve.y=Ue.y)}function te(ke,Ue){var Ve=ke.r+Ue.r-1e-6,Re=Ue.x-ke.x,de=Ue.y-ke.y;return Ve>0&&Ve*Ve>Re*Re+de*de}function ae(ke){var Ue=ke._,Ve=ke.next._,Re=Ue.r+Ve.r,de=(Ue.x*Ve.r+Ve.x*Ue.r)/Re,be=(Ue.y*Ve.r+Ve.y*Ue.r)/Re;return de*de+be*be}function fe(ke){this._=ke,this.next=null,this.previous=null}function oe(ke){if(!(de=ke.length))return 0;var Ue,Ve,Re,de,be,Ne,Ye,at,lt,Ht,Yt;if(Ue=ke[0],Ue.x=0,Ue.y=0,!(de>1))return Ue.r;if(Ve=ke[1],Ue.x=-Ve.r,Ve.x=Ue.r,Ve.y=0,!(de>2))return Ue.r+Ve.r;Q(Ve,Ue,Re=ke[2]),Ue=new fe(Ue),Ve=new fe(Ve),Re=new fe(Re),Ue.next=Re.previous=Ve,Ve.next=Ue.previous=Re,Re.next=Ve.previous=Ue;e:for(Ye=3;Ye<de;++Ye){Q(Ue._,Ve._,Re=ke[Ye]),Re=new fe(Re),at=Ve.next,lt=Ue.previous,Ht=Ve._.r,Yt=Ue._.r;do if(Ht<=Yt){if(te(at._,Re._)){Ve=at,Ue.next=Ve,Ve.previous=Ue,--Ye;continue e}Ht+=at._.r,at=at.next}else{if(te(lt._,Re._)){Ue=lt,Ue.next=Ve,Ve.previous=Ue,--Ye;continue e}Yt+=lt._.r,lt=lt.previous}while(at!==lt.next);for(Re.previous=Ue,Re.next=Ve,Ue.next=Ve.previous=Ve=Re,be=ae(Ue);(Re=Re.next)!==Ve;)(Ne=ae(Re))<be&&(Ue=Re,be=Ne);Ve=Ue.next}for(Ue=[Ve._],Re=Ve;(Re=Re.next)!==Ve;)Ue.push(Re._);for(Re=_(Ue),Ye=0;Ye<de;++Ye)Ue=ke[Ye],Ue.x-=Re.x,Ue.y-=Re.y;return Re.r}function J(ke){return oe(ke),ke}function ee(ke){return ke==null?null:X(ke)}function X(ke){if(typeof ke!="function")throw new Error;return ke}function q(){return 0}function le(ke){return function(){return ke}}function $(ke){return Math.sqrt(ke.value)}function j(){var ke=null,Ue=1,Ve=1,Re=q;function de(be){return be.x=Ue/2,be.y=Ve/2,ke?be.eachBefore(se(ke)).eachAfter(ne(Re,.5)).eachBefore(he(1)):be.eachBefore(se($)).eachAfter(ne(q,1)).eachAfter(ne(Re,be.r/Math.min(Ue,Ve))).eachBefore(he(Math.min(Ue,Ve)/(2*be.r))),be}return de.radius=function(be){return arguments.length?(ke=ee(be),de):ke},de.size=function(be){return arguments.length?(Ue=+be[0],Ve=+be[1],de):[Ue,Ve]},de.padding=function(be){return arguments.length?(Re=typeof be=="function"?be:le(+be),de):Re},de}function se(ke){return function(Ue){Ue.children||(Ue.r=Math.max(0,+ke(Ue)||0))}}function ne(ke,Ue){return function(Ve){if(Re=Ve.children){var Re,de,be=Re.length,Ne=ke(Ve)*Ue||0,Ye;if(Ne)for(de=0;de<be;++de)Re[de].r+=Ne;if(Ye=oe(Re),Ne)for(de=0;de<be;++de)Re[de].r-=Ne;Ve.r=Ye+Ne}}}function he(ke){return function(Ue){var Ve=Ue.parent;Ue.r*=ke,Ve&&(Ue.x=Ve.x+ke*Ue.x,Ue.y=Ve.y+ke*Ue.y)}}function me(ke){ke.x0=Math.round(ke.x0),ke.y0=Math.round(ke.y0),ke.x1=Math.round(ke.x1),ke.y1=Math.round(ke.y1)}function we(ke,Ue,Ve,Re,de){for(var be=ke.children,Ne,Ye=-1,at=be.length,lt=ke.value&&(Re-Ue)/ke.value;++Ye<at;)Ne=be[Ye],Ne.y0=Ve,Ne.y1=de,Ne.x0=Ue,Ne.x1=Ue+=Ne.value*lt}function Te(){var ke=1,Ue=1,Ve=0,Re=!1;function de(Ne){var Ye=Ne.height+1;return Ne.x0=Ne.y0=Ve,Ne.x1=ke,Ne.y1=Ue/Ye,Ne.eachBefore(be(Ue,Ye)),Re&&Ne.eachBefore(me),Ne}function be(Ne,Ye){return function(at){at.children&&we(at,at.x0,Ne*(at.depth+1)/Ye,at.x1,Ne*(at.depth+2)/Ye);var lt=at.x0,Ht=at.y0,Yt=at.x1-Ve,Tt=at.y1-Ve;Yt<lt&&(lt=Yt=(lt+Yt)/2),Tt<Ht&&(Ht=Tt=(Ht+Tt)/2),at.x0=lt,at.y0=Ht,at.x1=Yt,at.y1=Tt}}return de.round=function(Ne){return arguments.length?(Re=!!Ne,de):Re},de.size=function(Ne){return arguments.length?(ke=+Ne[0],Ue=+Ne[1],de):[ke,Ue]},de.padding=function(Ne){return arguments.length?(Ve=+Ne,de):Ve},de}var Le="$",Ie={depth:-1},ze={};function Me(ke){return ke.id}function _e(ke){return ke.parentId}function Ce(){var ke=Me,Ue=_e;function Ve(Re){var de,be,Ne=Re.length,Ye,at,lt,Ht=new Array(Ne),Yt,Tt,Lt={};for(be=0;be<Ne;++be)de=Re[be],lt=Ht[be]=new s(de),(Yt=ke(de,be,Re))!=null&&(Yt+="")&&(Tt=Le+(lt.id=Yt),Lt[Tt]=Tt in Lt?ze:lt);for(be=0;be<Ne;++be)if(lt=Ht[be],Yt=Ue(Re[be],be,Re),Yt==null||!(Yt+="")){if(Ye)throw new Error("multiple roots");Ye=lt}else{if(at=Lt[Le+Yt],!at)throw new Error("missing: "+Yt);if(at===ze)throw new Error("ambiguous: "+Yt);at.children?at.children.push(lt):at.children=[lt],lt.parent=at}if(!Ye)throw new Error("no root");if(Ye.parent=Ie,Ye.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--Ne}).eachBefore(M),Ye.parent=null,Ne>0)throw new Error("cycle");return Ye}return Ve.id=function(Re){return arguments.length?(ke=X(Re),Ve):ke},Ve.parentId=function(Re){return arguments.length?(Ue=X(Re),Ve):Ue},Ve}function Oe(ke,Ue){return ke.parent===Ue.parent?1:2}function Pe(ke){var Ue=ke.children;return Ue?Ue[0]:ke.t}function Ge(ke){var Ue=ke.children;return Ue?Ue[Ue.length-1]:ke.t}function Ze(ke,Ue,Ve){var Re=Ve/(Ue.i-ke.i);Ue.c-=Re,Ue.s+=Ve,ke.c+=Re,Ue.z+=Ve,Ue.m+=Ve}function it(ke){for(var Ue=0,Ve=0,Re=ke.children,de=Re.length,be;--de>=0;)be=Re[de],be.z+=Ue,be.m+=Ue,Ue+=be.s+(Ve+=be.c)}function Je(ke,Ue,Ve){return ke.a.parent===Ue.parent?ke.a:Ve}function et(ke,Ue){this._=ke,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ue}et.prototype=Object.create(s.prototype);function ft(ke){for(var Ue=new et(ke,0),Ve,Re=[Ue],de,be,Ne,Ye;Ve=Re.pop();)if(be=Ve._.children)for(Ve.children=new Array(Ye=be.length),Ne=Ye-1;Ne>=0;--Ne)Re.push(de=Ve.children[Ne]=new et(be[Ne],Ne)),de.parent=Ve;return(Ue.parent=new et(null,0)).children=[Ue],Ue}function vt(){var ke=Oe,Ue=1,Ve=1,Re=null;function de(lt){var Ht=ft(lt);if(Ht.eachAfter(be),Ht.parent.m=-Ht.z,Ht.eachBefore(Ne),Re)lt.eachBefore(at);else{var Yt=lt,Tt=lt,Lt=lt;lt.eachBefore(function($t){$t.x<Yt.x&&(Yt=$t),$t.x>Tt.x&&(Tt=$t),$t.depth>Lt.depth&&(Lt=$t)});var Kt=Yt===Tt?1:ke(Yt,Tt)/2,vr=Kt-Yt.x,gt=Ue/(Tt.x+Kt+vr),Xt=Ve/(Lt.depth||1);lt.eachBefore(function($t){$t.x=($t.x+vr)*gt,$t.y=$t.depth*Xt})}return lt}function be(lt){var Ht=lt.children,Yt=lt.parent.children,Tt=lt.i?Yt[lt.i-1]:null;if(Ht){it(lt);var Lt=(Ht[0].z+Ht[Ht.length-1].z)/2;Tt?(lt.z=Tt.z+ke(lt._,Tt._),lt.m=lt.z-Lt):lt.z=Lt}else Tt&&(lt.z=Tt.z+ke(lt._,Tt._));lt.parent.A=Ye(lt,Tt,lt.parent.A||Yt[0])}function Ne(lt){lt._.x=lt.z+lt.parent.m,lt.m+=lt.parent.m}function Ye(lt,Ht,Yt){if(Ht){for(var Tt=lt,Lt=lt,Kt=Ht,vr=Tt.parent.children[0],gt=Tt.m,Xt=Lt.m,$t=Kt.m,mr=vr.m,or;Kt=Ge(Kt),Tt=Pe(Tt),Kt&&Tt;)vr=Pe(vr),Lt=Ge(Lt),Lt.a=lt,or=Kt.z+$t-Tt.z-gt+ke(Kt._,Tt._),or>0&&(Ze(Je(Kt,lt,Yt),lt,or),gt+=or,Xt+=or),$t+=Kt.m,gt+=Tt.m,mr+=vr.m,Xt+=Lt.m;Kt&&!Ge(Lt)&&(Lt.t=Kt,Lt.m+=$t-Xt),Tt&&!Pe(vr)&&(vr.t=Tt,vr.m+=gt-mr,Yt=lt)}return Yt}function at(lt){lt.x*=Ue,lt.y=lt.depth*Ve}return de.separation=function(lt){return arguments.length?(ke=lt,de):ke},de.size=function(lt){return arguments.length?(Re=!1,Ue=+lt[0],Ve=+lt[1],de):Re?null:[Ue,Ve]},de.nodeSize=function(lt){return arguments.length?(Re=!0,Ue=+lt[0],Ve=+lt[1],de):Re?[Ue,Ve]:null},de}function dt(ke,Ue,Ve,Re,de){for(var be=ke.children,Ne,Ye=-1,at=be.length,lt=ke.value&&(de-Ve)/ke.value;++Ye<at;)Ne=be[Ye],Ne.x0=Ue,Ne.x1=Re,Ne.y0=Ve,Ne.y1=Ve+=Ne.value*lt}var xt=(1+Math.sqrt(5))/2;function Mt(ke,Ue,Ve,Re,de,be){for(var Ne=[],Ye=Ue.children,at,lt,Ht=0,Yt=0,Tt=Ye.length,Lt,Kt,vr=Ue.value,gt,Xt,$t,mr,or,yt,ut;Ht<Tt;){Lt=de-Ve,Kt=be-Re;do gt=Ye[Yt++].value;while(!gt&&Yt<Tt);for(Xt=$t=gt,yt=Math.max(Kt/Lt,Lt/Kt)/(vr*ke),ut=gt*gt*yt,or=Math.max($t/ut,ut/Xt);Yt<Tt;++Yt){if(gt+=lt=Ye[Yt].value,lt<Xt&&(Xt=lt),lt>$t&&($t=lt),ut=gt*gt*yt,mr=Math.max($t/ut,ut/Xt),mr>or){gt-=lt;break}or=mr}Ne.push(at={value:gt,dice:Lt<Kt,children:Ye.slice(Ht,Yt)}),at.dice?we(at,Ve,Re,de,vr?Re+=Kt*gt/vr:be):dt(at,Ve,Re,vr?Ve+=Lt*gt/vr:de,be),vr-=gt,Ht=Yt}return Ne}var nt=function ke(Ue){function Ve(Re,de,be,Ne,Ye){Mt(Ue,Re,de,be,Ne,Ye)}return Ve.ratio=function(Re){return ke((Re=+Re)>1?Re:1)},Ve}(xt);function Fe(){var ke=nt,Ue=!1,Ve=1,Re=1,de=[0],be=q,Ne=q,Ye=q,at=q,lt=q;function Ht(Tt){return Tt.x0=Tt.y0=0,Tt.x1=Ve,Tt.y1=Re,Tt.eachBefore(Yt),de=[0],Ue&&Tt.eachBefore(me),Tt}function Yt(Tt){var Lt=de[Tt.depth],Kt=Tt.x0+Lt,vr=Tt.y0+Lt,gt=Tt.x1-Lt,Xt=Tt.y1-Lt;gt<Kt&&(Kt=gt=(Kt+gt)/2),Xt<vr&&(vr=Xt=(vr+Xt)/2),Tt.x0=Kt,Tt.y0=vr,Tt.x1=gt,Tt.y1=Xt,Tt.children&&(Lt=de[Tt.depth+1]=be(Tt)/2,Kt+=lt(Tt)-Lt,vr+=Ne(Tt)-Lt,gt-=Ye(Tt)-Lt,Xt-=at(Tt)-Lt,gt<Kt&&(Kt=gt=(Kt+gt)/2),Xt<vr&&(vr=Xt=(vr+Xt)/2),ke(Tt,Kt,vr,gt,Xt))}return Ht.round=function(Tt){return arguments.length?(Ue=!!Tt,Ht):Ue},Ht.size=function(Tt){return arguments.length?(Ve=+Tt[0],Re=+Tt[1],Ht):[Ve,Re]},Ht.tile=function(Tt){return arguments.length?(ke=X(Tt),Ht):ke},Ht.padding=function(Tt){return arguments.length?Ht.paddingInner(Tt).paddingOuter(Tt):Ht.paddingInner()},Ht.paddingInner=function(Tt){return arguments.length?(be=typeof Tt=="function"?Tt:le(+Tt),Ht):be},Ht.paddingOuter=function(Tt){return arguments.length?Ht.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Ht.paddingTop()},Ht.paddingTop=function(Tt){return arguments.length?(Ne=typeof Tt=="function"?Tt:le(+Tt),Ht):Ne},Ht.paddingRight=function(Tt){return arguments.length?(Ye=typeof Tt=="function"?Tt:le(+Tt),Ht):Ye},Ht.paddingBottom=function(Tt){return arguments.length?(at=typeof Tt=="function"?Tt:le(+Tt),Ht):at},Ht.paddingLeft=function(Tt){return arguments.length?(lt=typeof Tt=="function"?Tt:le(+Tt),Ht):lt},Ht}function We(ke,Ue,Ve,Re,de){var be=ke.children,Ne,Ye=be.length,at,lt=new Array(Ye+1);for(lt[0]=at=Ne=0;Ne<Ye;++Ne)lt[Ne+1]=at+=be[Ne].value;Ht(0,Ye,ke.value,Ue,Ve,Re,de);function Ht(Yt,Tt,Lt,Kt,vr,gt,Xt){if(Yt>=Tt-1){var $t=be[Yt];$t.x0=Kt,$t.y0=vr,$t.x1=gt,$t.y1=Xt;return}for(var mr=lt[Yt],or=Lt/2+mr,yt=Yt+1,ut=Tt-1;yt<ut;){var bt=yt+ut>>>1;lt[bt]<or?yt=bt+1:ut=bt}or-lt[yt-1]<lt[yt]-or&&Yt+1<yt&&--yt;var Et=lt[yt]-mr,It=Lt-Et;if(gt-Kt>Xt-vr){var Ft=(Kt*It+gt*Et)/Lt;Ht(Yt,yt,Et,Kt,vr,Ft,Xt),Ht(yt,Tt,It,Ft,vr,gt,Xt)}else{var Ot=(vr*It+Xt*Et)/Lt;Ht(Yt,yt,Et,Kt,vr,gt,Ot),Ht(yt,Tt,It,Kt,Ot,gt,Xt)}}}function je(ke,Ue,Ve,Re,de){(ke.depth&1?dt:we)(ke,Ue,Ve,Re,de)}var Ke=function ke(Ue){function Ve(Re,de,be,Ne,Ye){if((at=Re._squarify)&&at.ratio===Ue)for(var at,lt,Ht,Yt,Tt=-1,Lt,Kt=at.length,vr=Re.value;++Tt<Kt;){for(lt=at[Tt],Ht=lt.children,Yt=lt.value=0,Lt=Ht.length;Yt<Lt;++Yt)lt.value+=Ht[Yt].value;lt.dice?we(lt,de,be,Ne,be+=(Ye-be)*lt.value/vr):dt(lt,de,be,de+=(Ne-de)*lt.value/vr,Ye),vr-=lt.value}else Re._squarify=at=Mt(Ue,Re,de,be,Ne,Ye),at.ratio=Ue}return Ve.ratio=function(Re){return ke((Re=+Re)>1?Re:1)},Ve}(xt)},10132:function(U,N,e){e.d(N,{ak:function(){return c}});var d=Math.PI,P=2*d,n=1e-6,C=P-n;function x(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new x}x.prototype=v.prototype={constructor:x,moveTo:function(T,h){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,h){this._+="L"+(this._x1=+T)+","+(this._y1=+h)},quadraticCurveTo:function(T,h,i,g){this._+="Q"+ +T+","+ +h+","+(this._x1=+i)+","+(this._y1=+g)},bezierCurveTo:function(T,h,i,g,b,A){this._+="C"+ +T+","+ +h+","+ +i+","+ +g+","+(this._x1=+b)+","+(this._y1=+A)},arcTo:function(T,h,i,g,b){T=+T,h=+h,i=+i,g=+g,b=+b;var A=this._x1,R=this._y1,m=i-T,L=g-h,M=A-T,s=R-h,S=M*M+s*s;if(b<0)throw new Error("negative radius: "+b);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=h);else if(S>n)if(!(Math.abs(s*m-L*M)>n)||!b)this._+="L"+(this._x1=T)+","+(this._y1=h);else{var w=i-A,_=g-R,I=m*m+L*L,H=w*w+_*_,O=Math.sqrt(I),V=Math.sqrt(S),B=b*Math.tan((d-Math.acos((I+S-H)/(2*O*V)))/2),F=B/V,G=B/O;Math.abs(F-1)>n&&(this._+="L"+(T+F*M)+","+(h+F*s)),this._+="A"+b+","+b+",0,0,"+ +(s*w>M*_)+","+(this._x1=T+G*m)+","+(this._y1=h+G*L)}},arc:function(T,h,i,g,b,A){T=+T,h=+h,i=+i,A=!!A;var R=i*Math.cos(g),m=i*Math.sin(g),L=T+R,M=h+m,s=1^A,S=A?g-b:b-g;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+L+","+M:(Math.abs(this._x1-L)>n||Math.abs(this._y1-M)>n)&&(this._+="L"+L+","+M),i&&(S<0&&(S=S%P+P),S>C?this._+="A"+i+","+i+",0,1,"+s+","+(T-R)+","+(h-m)+"A"+i+","+i+",0,1,"+s+","+(this._x1=L)+","+(this._y1=M):S>n&&(this._+="A"+i+","+i+",0,"+ +(S>=d)+","+s+","+(this._x1=T+i*Math.cos(b))+","+(this._y1=h+i*Math.sin(b))))},rect:function(T,h,i,g){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)+"h"+ +i+"v"+ +g+"h"+-i+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function o(T){return T[0]}function a(T){return T[1]}function u(T){return T.source}function f(T){return T.target}function l(T){var h=u,i=f,g=o,b=a,A=null;function R(){var m,L=r.call(arguments),M=h.apply(this,L),s=i.apply(this,L);if(A||(A=m=p()),T(A,+g.apply(this,(L[0]=M,L)),+b.apply(this,L),+g.apply(this,(L[0]=s,L)),+b.apply(this,L)),m)return A=null,m+""||null}return R.source=function(m){return arguments.length?(h=m,R):h},R.target=function(m){return arguments.length?(i=m,R):i},R.x=function(m){return arguments.length?(g=typeof m=="function"?m:t(+m),R):g},R.y=function(m){return arguments.length?(b=typeof m=="function"?m:t(+m),R):b},R.context=function(m){return arguments.length?(A=m??null,R):A},R}function y(T,h,i,g,b){T.moveTo(h,i),T.bezierCurveTo(h=(h+g)/2,i,h,b,g,b)}function c(){return l(y)}},94336:function(U,N,e){e.d(N,{Yn:function(){return We},m_:function(){return o},E9:function(){return je}});var d=e(8208),P=e(58931),n=e(46192),C=e(68936),x=e(32171),v=e(53528);function p(ke){if(0<=ke.y&&ke.y<100){var Ue=new Date(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L);return Ue.setFullYear(ke.y),Ue}return new Date(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L)}function r(ke){if(0<=ke.y&&ke.y<100){var Ue=new Date(Date.UTC(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L));return Ue.setUTCFullYear(ke.y),Ue}return new Date(Date.UTC(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L))}function t(ke,Ue,Ve){return{y:ke,m:Ue,d:Ve,H:0,M:0,S:0,L:0}}function o(ke){var Ue=ke.dateTime,Ve=ke.date,Re=ke.time,de=ke.periods,be=ke.days,Ne=ke.shortDays,Ye=ke.months,at=ke.shortMonths,lt=T(de),Ht=h(de),Yt=T(be),Tt=h(be),Lt=T(Ne),Kt=h(Ne),vr=T(Ye),gt=h(Ye),Xt=T(at),$t=h(at),mr={a:fr,A:Lr,b:xr,B:Qe,c:null,d:Q,e:Q,f:J,H:te,I:ae,j:fe,L:oe,m:ee,M:X,p:rt,q:er,Q:Mt,s:nt,S:q,u:le,U:$,V:j,w:se,W:ne,x:null,X:null,y:he,Y:me,Z:we,"%":xt},or={a:tr,A:jt,b:Pt,B:Zt,c:null,d:Te,e:Te,f:_e,H:Le,I:Ie,j:ze,L:Me,m:Ce,M:Oe,p:nr,q:Qt,Q:Mt,s:nt,S:Pe,u:Ge,U:Ze,V:it,w:Je,W:et,x:null,X:null,y:ft,Y:vt,Z:dt,"%":xt},yt={a:Ft,A:Ot,b:Nt,B:Jt,c:hr,d:w,e:w,f:B,H:I,I,j:_,L:V,m:S,M:H,p:It,q:s,Q:G,s:Y,S:O,u:g,U:b,V:A,w:i,W:R,x:cr,X:dr,y:L,Y:m,Z:M,"%":F};mr.x=ut(Ve,mr),mr.X=ut(Re,mr),mr.c=ut(Ue,mr),or.x=ut(Ve,or),or.X=ut(Re,or),or.c=ut(Ue,or);function ut(Wt,yr){return function(Dr){var Tr=[],dn=-1,Nr=0,Cn=Wt.length,an,gr,Pr;for(Dr instanceof Date||(Dr=new Date(+Dr));++dn<Cn;)Wt.charCodeAt(dn)===37&&(Tr.push(Wt.slice(Nr,dn)),(gr=a[an=Wt.charAt(++dn)])!=null?an=Wt.charAt(++dn):gr=an==="e"?" ":"0",(Pr=yr[an])&&(an=Pr(Dr,gr)),Tr.push(an),Nr=dn+1);return Tr.push(Wt.slice(Nr,dn)),Tr.join("")}}function bt(Wt,yr){return function(Dr){var Tr=t(1900,void 0,1),dn=Et(Tr,Wt,Dr+="",0),Nr,Cn;if(dn!=Dr.length)return null;if("Q"in Tr)return new Date(Tr.Q);if("s"in Tr)return new Date(Tr.s*1e3+("L"in Tr?Tr.L:0));if(yr&&!("Z"in Tr)&&(Tr.Z=0),"p"in Tr&&(Tr.H=Tr.H%12+Tr.p*12),Tr.m===void 0&&(Tr.m="q"in Tr?Tr.q:0),"V"in Tr){if(Tr.V<1||Tr.V>53)return null;"w"in Tr||(Tr.w=1),"Z"in Tr?(Nr=r(t(Tr.y,0,1)),Cn=Nr.getUTCDay(),Nr=Cn>4||Cn===0?d.ot.ceil(Nr):(0,d.ot)(Nr),Nr=P.c.offset(Nr,(Tr.V-1)*7),Tr.y=Nr.getUTCFullYear(),Tr.m=Nr.getUTCMonth(),Tr.d=Nr.getUTCDate()+(Tr.w+6)%7):(Nr=p(t(Tr.y,0,1)),Cn=Nr.getDay(),Nr=Cn>4||Cn===0?n.qT.ceil(Nr):(0,n.qT)(Nr),Nr=C.c.offset(Nr,(Tr.V-1)*7),Tr.y=Nr.getFullYear(),Tr.m=Nr.getMonth(),Tr.d=Nr.getDate()+(Tr.w+6)%7)}else("W"in Tr||"U"in Tr)&&("w"in Tr||(Tr.w="u"in Tr?Tr.u%7:"W"in Tr?1:0),Cn="Z"in Tr?r(t(Tr.y,0,1)).getUTCDay():p(t(Tr.y,0,1)).getDay(),Tr.m=0,Tr.d="W"in Tr?(Tr.w+6)%7+Tr.W*7-(Cn+5)%7:Tr.w+Tr.U*7-(Cn+6)%7);return"Z"in Tr?(Tr.H+=Tr.Z/100|0,Tr.M+=Tr.Z%100,r(Tr)):p(Tr)}}function Et(Wt,yr,Dr,Tr){for(var dn=0,Nr=yr.length,Cn=Dr.length,an,gr;dn<Nr;){if(Tr>=Cn)return-1;if(an=yr.charCodeAt(dn++),an===37){if(an=yr.charAt(dn++),gr=yt[an in a?yr.charAt(dn++):an],!gr||(Tr=gr(Wt,Dr,Tr))<0)return-1}else if(an!=Dr.charCodeAt(Tr++))return-1}return Tr}function It(Wt,yr,Dr){var Tr=lt.exec(yr.slice(Dr));return Tr?(Wt.p=Ht[Tr[0].toLowerCase()],Dr+Tr[0].length):-1}function Ft(Wt,yr,Dr){var Tr=Lt.exec(yr.slice(Dr));return Tr?(Wt.w=Kt[Tr[0].toLowerCase()],Dr+Tr[0].length):-1}function Ot(Wt,yr,Dr){var Tr=Yt.exec(yr.slice(Dr));return Tr?(Wt.w=Tt[Tr[0].toLowerCase()],Dr+Tr[0].length):-1}function Nt(Wt,yr,Dr){var Tr=Xt.exec(yr.slice(Dr));return Tr?(Wt.m=$t[Tr[0].toLowerCase()],Dr+Tr[0].length):-1}function Jt(Wt,yr,Dr){var Tr=vr.exec(yr.slice(Dr));return Tr?(Wt.m=gt[Tr[0].toLowerCase()],Dr+Tr[0].length):-1}function hr(Wt,yr,Dr){return Et(Wt,Ue,yr,Dr)}function cr(Wt,yr,Dr){return Et(Wt,Ve,yr,Dr)}function dr(Wt,yr,Dr){return Et(Wt,Re,yr,Dr)}function fr(Wt){return Ne[Wt.getDay()]}function Lr(Wt){return be[Wt.getDay()]}function xr(Wt){return at[Wt.getMonth()]}function Qe(Wt){return Ye[Wt.getMonth()]}function rt(Wt){return de[+(Wt.getHours()>=12)]}function er(Wt){return 1+~~(Wt.getMonth()/3)}function tr(Wt){return Ne[Wt.getUTCDay()]}function jt(Wt){return be[Wt.getUTCDay()]}function Pt(Wt){return at[Wt.getUTCMonth()]}function Zt(Wt){return Ye[Wt.getUTCMonth()]}function nr(Wt){return de[+(Wt.getUTCHours()>=12)]}function Qt(Wt){return 1+~~(Wt.getUTCMonth()/3)}return{format:function(Wt){var yr=ut(Wt+="",mr);return yr.toString=function(){return Wt},yr},parse:function(Wt){var yr=bt(Wt+="",!1);return yr.toString=function(){return Wt},yr},utcFormat:function(Wt){var yr=ut(Wt+="",or);return yr.toString=function(){return Wt},yr},utcParse:function(Wt){var yr=bt(Wt+="",!0);return yr.toString=function(){return Wt},yr}}}var a={"-":"",_:" ",0:"0"},u=/^\s*\d+/,f=/^%/,l=/[\\^$*+?|[\]().{}]/g;function y(ke,Ue,Ve){var Re=ke<0?"-":"",de=(Re?-ke:ke)+"",be=de.length;return Re+(be<Ve?new Array(Ve-be+1).join(Ue)+de:de)}function c(ke){return ke.replace(l,"\\$&")}function T(ke){return new RegExp("^(?:"+ke.map(c).join("|")+")","i")}function h(ke){for(var Ue={},Ve=-1,Re=ke.length;++Ve<Re;)Ue[ke[Ve].toLowerCase()]=Ve;return Ue}function i(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+1));return Re?(ke.w=+Re[0],Ve+Re[0].length):-1}function g(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+1));return Re?(ke.u=+Re[0],Ve+Re[0].length):-1}function b(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.U=+Re[0],Ve+Re[0].length):-1}function A(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.V=+Re[0],Ve+Re[0].length):-1}function R(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.W=+Re[0],Ve+Re[0].length):-1}function m(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+4));return Re?(ke.y=+Re[0],Ve+Re[0].length):-1}function L(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.y=+Re[0]+(+Re[0]>68?1900:2e3),Ve+Re[0].length):-1}function M(ke,Ue,Ve){var Re=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ue.slice(Ve,Ve+6));return Re?(ke.Z=Re[1]?0:-(Re[2]+(Re[3]||"00")),Ve+Re[0].length):-1}function s(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+1));return Re?(ke.q=Re[0]*3-3,Ve+Re[0].length):-1}function S(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.m=Re[0]-1,Ve+Re[0].length):-1}function w(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.d=+Re[0],Ve+Re[0].length):-1}function _(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+3));return Re?(ke.m=0,ke.d=+Re[0],Ve+Re[0].length):-1}function I(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.H=+Re[0],Ve+Re[0].length):-1}function H(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.M=+Re[0],Ve+Re[0].length):-1}function O(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+2));return Re?(ke.S=+Re[0],Ve+Re[0].length):-1}function V(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+3));return Re?(ke.L=+Re[0],Ve+Re[0].length):-1}function B(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve,Ve+6));return Re?(ke.L=Math.floor(Re[0]/1e3),Ve+Re[0].length):-1}function F(ke,Ue,Ve){var Re=f.exec(Ue.slice(Ve,Ve+1));return Re?Ve+Re[0].length:-1}function G(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve));return Re?(ke.Q=+Re[0],Ve+Re[0].length):-1}function Y(ke,Ue,Ve){var Re=u.exec(Ue.slice(Ve));return Re?(ke.s=+Re[0],Ve+Re[0].length):-1}function Q(ke,Ue){return y(ke.getDate(),Ue,2)}function te(ke,Ue){return y(ke.getHours(),Ue,2)}function ae(ke,Ue){return y(ke.getHours()%12||12,Ue,2)}function fe(ke,Ue){return y(1+C.c.count((0,x.c)(ke),ke),Ue,3)}function oe(ke,Ue){return y(ke.getMilliseconds(),Ue,3)}function J(ke,Ue){return oe(ke,Ue)+"000"}function ee(ke,Ue){return y(ke.getMonth()+1,Ue,2)}function X(ke,Ue){return y(ke.getMinutes(),Ue,2)}function q(ke,Ue){return y(ke.getSeconds(),Ue,2)}function le(ke){var Ue=ke.getDay();return Ue===0?7:Ue}function $(ke,Ue){return y(n.uU.count((0,x.c)(ke)-1,ke),Ue,2)}function j(ke,Ue){var Ve=ke.getDay();return ke=Ve>=4||Ve===0?(0,n.kD)(ke):n.kD.ceil(ke),y(n.kD.count((0,x.c)(ke),ke)+((0,x.c)(ke).getDay()===4),Ue,2)}function se(ke){return ke.getDay()}function ne(ke,Ue){return y(n.qT.count((0,x.c)(ke)-1,ke),Ue,2)}function he(ke,Ue){return y(ke.getFullYear()%100,Ue,2)}function me(ke,Ue){return y(ke.getFullYear()%1e4,Ue,4)}function we(ke){var Ue=ke.getTimezoneOffset();return(Ue>0?"-":(Ue*=-1,"+"))+y(Ue/60|0,"0",2)+y(Ue%60,"0",2)}function Te(ke,Ue){return y(ke.getUTCDate(),Ue,2)}function Le(ke,Ue){return y(ke.getUTCHours(),Ue,2)}function Ie(ke,Ue){return y(ke.getUTCHours()%12||12,Ue,2)}function ze(ke,Ue){return y(1+P.c.count((0,v.c)(ke),ke),Ue,3)}function Me(ke,Ue){return y(ke.getUTCMilliseconds(),Ue,3)}function _e(ke,Ue){return Me(ke,Ue)+"000"}function Ce(ke,Ue){return y(ke.getUTCMonth()+1,Ue,2)}function Oe(ke,Ue){return y(ke.getUTCMinutes(),Ue,2)}function Pe(ke,Ue){return y(ke.getUTCSeconds(),Ue,2)}function Ge(ke){var Ue=ke.getUTCDay();return Ue===0?7:Ue}function Ze(ke,Ue){return y(d.EV.count((0,v.c)(ke)-1,ke),Ue,2)}function it(ke,Ue){var Ve=ke.getUTCDay();return ke=Ve>=4||Ve===0?(0,d.yA)(ke):d.yA.ceil(ke),y(d.yA.count((0,v.c)(ke),ke)+((0,v.c)(ke).getUTCDay()===4),Ue,2)}function Je(ke){return ke.getUTCDay()}function et(ke,Ue){return y(d.ot.count((0,v.c)(ke)-1,ke),Ue,2)}function ft(ke,Ue){return y(ke.getUTCFullYear()%100,Ue,2)}function vt(ke,Ue){return y(ke.getUTCFullYear()%1e4,Ue,4)}function dt(){return"+0000"}function xt(){return"%"}function Mt(ke){return+ke}function nt(ke){return Math.floor(+ke/1e3)}var Fe,We,je;Ke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ke(ke){return Fe=o(ke),We=Fe.format,Fe.parse,je=Fe.utcFormat,Fe.utcParse,Fe}},68936:function(U,N,e){e.d(N,{m:function(){return C}});var d=e(81628),P=e(69792),n=(0,d.c)(function(x){x.setHours(0,0,0,0)},function(x,v){x.setDate(x.getDate()+v)},function(x,v){return(v-x-(v.getTimezoneOffset()-x.getTimezoneOffset())*P.iy)/P.SK},function(x){return x.getDate()-1});N.c=n;var C=n.range},69792:function(U,N,e){e.d(N,{KK:function(){return x},SK:function(){return C},cg:function(){return n},iy:function(){return P},yc:function(){return d}});var d=1e3,P=6e4,n=36e5,C=864e5,x=6048e5},73220:function(U,N,e){e.r(N),e.d(N,{timeDay:function(){return y.c},timeDays:function(){return y.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return f},timeHours:function(){return l},timeInterval:function(){return d.c},timeMillisecond:function(){return n},timeMilliseconds:function(){return C},timeMinute:function(){return o},timeMinutes:function(){return a},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return h},timeMonths:function(){return i},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return g.c},timeYears:function(){return g.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return S.od},utcFridays:function(){return S.iG},utcHour:function(){return L},utcHours:function(){return M},utcMillisecond:function(){return n},utcMilliseconds:function(){return C},utcMinute:function(){return A},utcMinutes:function(){return R},utcMonday:function(){return S.ot},utcMondays:function(){return S.iO},utcMonth:function(){return _},utcMonths:function(){return I},utcSaturday:function(){return S.Ad},utcSaturdays:function(){return S.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return S.EV},utcSundays:function(){return S.Wq},utcThursday:function(){return S.yA},utcThursdays:function(){return S.ob},utcTuesday:function(){return S.sG},utcTuesdays:function(){return S.kl},utcWednesday:function(){return S._6},utcWednesdays:function(){return S.W_},utcWeek:function(){return S.EV},utcWeeks:function(){return S.Wq},utcYear:function(){return H.c},utcYears:function(){return H.i}});var d=e(81628),P=(0,d.c)(function(){},function(O,V){O.setTime(+O+V)},function(O,V){return V-O});P.every=function(O){return O=Math.floor(O),!isFinite(O)||!(O>0)?null:O>1?(0,d.c)(function(V){V.setTime(Math.floor(V/O)*O)},function(V,B){V.setTime(+V+B*O)},function(V,B){return(B-V)/O}):P};var n=P,C=P.range,x=e(69792),v=(0,d.c)(function(O){O.setTime(O-O.getMilliseconds())},function(O,V){O.setTime(+O+V*x.yc)},function(O,V){return(V-O)/x.yc},function(O){return O.getUTCSeconds()}),p=v,r=v.range,t=(0,d.c)(function(O){O.setTime(O-O.getMilliseconds()-O.getSeconds()*x.yc)},function(O,V){O.setTime(+O+V*x.iy)},function(O,V){return(V-O)/x.iy},function(O){return O.getMinutes()}),o=t,a=t.range,u=(0,d.c)(function(O){O.setTime(O-O.getMilliseconds()-O.getSeconds()*x.yc-O.getMinutes()*x.iy)},function(O,V){O.setTime(+O+V*x.cg)},function(O,V){return(V-O)/x.cg},function(O){return O.getHours()}),f=u,l=u.range,y=e(68936),c=e(46192),T=(0,d.c)(function(O){O.setDate(1),O.setHours(0,0,0,0)},function(O,V){O.setMonth(O.getMonth()+V)},function(O,V){return V.getMonth()-O.getMonth()+(V.getFullYear()-O.getFullYear())*12},function(O){return O.getMonth()}),h=T,i=T.range,g=e(32171),b=(0,d.c)(function(O){O.setUTCSeconds(0,0)},function(O,V){O.setTime(+O+V*x.iy)},function(O,V){return(V-O)/x.iy},function(O){return O.getUTCMinutes()}),A=b,R=b.range,m=(0,d.c)(function(O){O.setUTCMinutes(0,0,0)},function(O,V){O.setTime(+O+V*x.cg)},function(O,V){return(V-O)/x.cg},function(O){return O.getUTCHours()}),L=m,M=m.range,s=e(58931),S=e(8208),w=(0,d.c)(function(O){O.setUTCDate(1),O.setUTCHours(0,0,0,0)},function(O,V){O.setUTCMonth(O.getUTCMonth()+V)},function(O,V){return V.getUTCMonth()-O.getUTCMonth()+(V.getUTCFullYear()-O.getUTCFullYear())*12},function(O){return O.getUTCMonth()}),_=w,I=w.range,H=e(53528)},81628:function(U,N,e){e.d(N,{c:function(){return n}});var d=new Date,P=new Date;function n(C,x,v,p){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),x(t,1),C(t),t},r.round=function(t){var o=r(t),a=r.ceil(t);return t-o<a-t?o:a},r.offset=function(t,o){return x(t=new Date(+t),o==null?1:Math.floor(o)),t},r.range=function(t,o,a){var u=[],f;if(t=r.ceil(t),a=a==null?1:Math.floor(a),!(t<o)||!(a>0))return u;do u.push(f=new Date(+t)),x(t,a),C(t);while(f<t&&t<o);return u},r.filter=function(t){return n(function(o){if(o>=o)for(;C(o),!t(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;x(o,-1),!t(o););else for(;--a>=0;)for(;x(o,1),!t(o););})},v&&(r.count=function(t,o){return d.setTime(+t),P.setTime(+o),C(d),C(P),Math.floor(v(d,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(o){return p(o)%t===0}:function(o){return r.count(0,o)%t===0}):r}),r}},58931:function(U,N,e){e.d(N,{o:function(){return C}});var d=e(81628),P=e(69792),n=(0,d.c)(function(x){x.setUTCHours(0,0,0,0)},function(x,v){x.setUTCDate(x.getUTCDate()+v)},function(x,v){return(v-x)/P.SK},function(x){return x.getUTCDate()-1});N.c=n;var C=n.range},8208:function(U,N,e){e.d(N,{Ad:function(){return o},EV:function(){return C},K8:function(){return T},W_:function(){return l},Wq:function(){return a},_6:function(){return p},iG:function(){return c},iO:function(){return u},kl:function(){return f},ob:function(){return y},od:function(){return t},ot:function(){return x},sG:function(){return v},yA:function(){return r}});var d=e(81628),P=e(69792);function n(h){return(0,d.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-h)%7),i.setUTCHours(0,0,0,0)},function(i,g){i.setUTCDate(i.getUTCDate()+g*7)},function(i,g){return(g-i)/P.KK})}var C=n(0),x=n(1),v=n(2),p=n(3),r=n(4),t=n(5),o=n(6),a=C.range,u=x.range,f=v.range,l=p.range,y=r.range,c=t.range,T=o.range},53528:function(U,N,e){e.d(N,{i:function(){return n}});var d=e(81628),P=(0,d.c)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,x){C.setUTCFullYear(C.getUTCFullYear()+x)},function(C,x){return x.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});P.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,d.c)(function(x){x.setUTCFullYear(Math.floor(x.getUTCFullYear()/C)*C),x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,v){x.setUTCFullYear(x.getUTCFullYear()+v*C)})},N.c=P;var n=P.range},46192:function(U,N,e){e.d(N,{Ab:function(){return a},Mf:function(){return v},Oc:function(){return f},QP:function(){return u},Wc:function(){return o},aI:function(){return T},eC:function(){return y},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return x},sJ:function(){return c},sn:function(){return l},uU:function(){return C}});var d=e(81628),P=e(69792);function n(h){return(0,d.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-h)%7),i.setHours(0,0,0,0)},function(i,g){i.setDate(i.getDate()+g*7)},function(i,g){return(g-i-(g.getTimezoneOffset()-i.getTimezoneOffset())*P.iy)/P.KK})}var C=n(0),x=n(1),v=n(2),p=n(3),r=n(4),t=n(5),o=n(6),a=C.range,u=x.range,f=v.range,l=p.range,y=r.range,c=t.range,T=o.range},32171:function(U,N,e){e.d(N,{Q:function(){return n}});var d=e(81628),P=(0,d.c)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,x){C.setFullYear(C.getFullYear()+x)},function(C,x){return x.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});P.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,d.c)(function(x){x.setFullYear(Math.floor(x.getFullYear()/C)*C),x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,v){x.setFullYear(x.getFullYear()+v*C)})},N.c=P;var n=P.range},64348:function(U,N,e){var d=e(39640)(),P=e(53664),n=d&&P("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch{n=!1}var C=P("%SyntaxError%"),x=P("%TypeError%"),v=e(2304);U.exports=function(r,t,o){if(!r||typeof r!="object"&&typeof r!="function")throw new x("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new x("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new x("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new x("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new x("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new x("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,y=!!v&&v(r,t);if(n)n(r,t,{configurable:f===null&&y?y.configurable:!f,enumerable:a===null&&y?y.enumerable:!a,value:o,writable:u===null&&y?y.writable:!u});else if(l||!a&&!u&&!f)r[t]=o;else throw new C("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(U,N,e){var d=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,C=Array.prototype.concat,x=Object.defineProperty,v=function(a){return typeof a=="function"&&n.call(a)==="[object Function]"},p=e(39640)(),r=x&&p,t=function(a,u,f,l){if(u in a){if(l===!0){if(a[u]===f)return}else if(!v(l)||!l())return}r?x(a,u,{configurable:!0,enumerable:!1,value:f,writable:!0}):a[u]=f},o=function(a,u){var f=arguments.length>2?arguments[2]:{},l=d(u);P&&(l=C.call(l,Object.getOwnPropertySymbols(u)));for(var y=0;y<l.length;y+=1)t(a,l[y],u[l[y]],f[l[y]])};o.supportsDescriptors=!!r,U.exports=o},31264:function(U){U.exports=function(){for(var N=0;N<arguments.length;N++)if(arguments[N]!==void 0)return arguments[N]}},63768:function(U){U.exports=P;var N=P.canvas=document.createElement("canvas"),e=N.getContext("2d"),d=n([32,126]);P.createPairs=n,P.ascii=d;function P(C,x){Array.isArray(C)&&(C=C.join(", "));var v={},p,r=16,t=.05;x&&(x.length===2&&typeof x[0]=="number"?p=n(x):Array.isArray(x)?p=x:(x.o?p=n(x.o):x.pairs&&(p=x.pairs),x.fontSize&&(r=x.fontSize),x.threshold!=null&&(t=x.threshold))),p||(p=d),e.font=r+"px "+C;for(var o=0;o<p.length;o++){var a=p[o],u=e.measureText(a[0]).width+e.measureText(a[1]).width,f=e.measureText(a).width;if(Math.abs(u-f)>r*t){var l=(f-u)/r;v[a]=l*1e3}}return v}function n(C){for(var x=[],v=C[0];v<=C[1];v++)for(var p=String.fromCharCode(v),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),o=p+t;x.push(o)}return x}},22235:function(U,N,e){var d=e(49972),P=e(48816),n={M:"moveTo",C:"bezierCurveTo"};U.exports=function(C,x){C.beginPath(),P(d(x)).forEach(function(v){var p=v[0],r=v.slice(1);C[n[p]].apply(C,r)}),C.closePath()}},72512:function(U){U.exports=function(N){switch(N){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(U){function N(P,n,C){var x=P[C]|0;if(x<=0)return[];var v=new Array(x),p;if(C===P.length-1)for(p=0;p<x;++p)v[p]=n;else for(p=0;p<x;++p)v[p]=N(P,n,C+1);return v}function e(P,n){var C,x;for(C=new Array(P),x=0;x<P;++x)C[x]=n;return C}function d(P,n){switch(typeof n>"u"&&(n=0),typeof P){case"number":if(P>0)return e(P|0,n);break;case"object":if(typeof P.length=="number")return N(P,n,0);break}return[]}U.exports=d},28912:function(U){U.exports=N,U.exports.default=N;function N(I,H,O){O=O||2;var V=H&&H.length,B=V?H[0]*O:I.length,F=e(I,0,B,O,!0),G=[];if(!F||F.next===F.prev)return G;var Y,Q,te,ae,fe,oe,J;if(V&&(F=p(I,H,F,O)),I.length>80*O){Y=te=I[0],Q=ae=I[1];for(var ee=O;ee<B;ee+=O)fe=I[ee],oe=I[ee+1],fe<Y&&(Y=fe),oe<Q&&(Q=oe),fe>te&&(te=fe),oe>ae&&(ae=oe);J=Math.max(te-Y,ae-Q),J=J!==0?1/J:0}return P(F,G,O,Y,Q,J),G}function e(I,H,O,V,B){var F,G;if(B===_(I,H,O,V)>0)for(F=H;F<O;F+=V)G=s(F,I[F],I[F+1],G);else for(F=O-V;F>=H;F-=V)G=s(F,I[F],I[F+1],G);return G&&i(G,G.next)&&(S(G),G=G.next),G}function d(I,H){if(!I)return I;H||(H=I);var O=I,V;do if(V=!1,!O.steiner&&(i(O,O.next)||h(O.prev,O,O.next)===0)){if(S(O),O=H=O.prev,O===O.next)break;V=!0}else O=O.next;while(V||O!==H);return H}function P(I,H,O,V,B,F,G){if(I){!G&&F&&u(I,V,B,F);for(var Y=I,Q,te;I.prev!==I.next;){if(Q=I.prev,te=I.next,F?C(I,V,B,F):n(I)){H.push(Q.i/O),H.push(I.i/O),H.push(te.i/O),S(I),I=te.next,Y=te.next;continue}if(I=te,I===Y){G?G===1?(I=x(d(I),H,O),P(I,H,O,V,B,F,2)):G===2&&v(I,H,O,V,B,F):P(d(I),H,O,V,B,F,1);break}}}}function n(I){var H=I.prev,O=I,V=I.next;if(h(H,O,V)>=0)return!1;for(var B=I.next.next;B!==I.prev;){if(c(H.x,H.y,O.x,O.y,V.x,V.y,B.x,B.y)&&h(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function C(I,H,O,V){var B=I.prev,F=I,G=I.next;if(h(B,F,G)>=0)return!1;for(var Y=B.x<F.x?B.x<G.x?B.x:G.x:F.x<G.x?F.x:G.x,Q=B.y<F.y?B.y<G.y?B.y:G.y:F.y<G.y?F.y:G.y,te=B.x>F.x?B.x>G.x?B.x:G.x:F.x>G.x?F.x:G.x,ae=B.y>F.y?B.y>G.y?B.y:G.y:F.y>G.y?F.y:G.y,fe=l(Y,Q,H,O,V),oe=l(te,ae,H,O,V),J=I.prevZ,ee=I.nextZ;J&&J.z>=fe&&ee&&ee.z<=oe;){if(J!==I.prev&&J!==I.next&&c(B.x,B.y,F.x,F.y,G.x,G.y,J.x,J.y)&&h(J.prev,J,J.next)>=0||(J=J.prevZ,ee!==I.prev&&ee!==I.next&&c(B.x,B.y,F.x,F.y,G.x,G.y,ee.x,ee.y)&&h(ee.prev,ee,ee.next)>=0))return!1;ee=ee.nextZ}for(;J&&J.z>=fe;){if(J!==I.prev&&J!==I.next&&c(B.x,B.y,F.x,F.y,G.x,G.y,J.x,J.y)&&h(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;ee&&ee.z<=oe;){if(ee!==I.prev&&ee!==I.next&&c(B.x,B.y,F.x,F.y,G.x,G.y,ee.x,ee.y)&&h(ee.prev,ee,ee.next)>=0)return!1;ee=ee.nextZ}return!0}function x(I,H,O){var V=I;do{var B=V.prev,F=V.next.next;!i(B,F)&&g(B,V,V.next,F)&&m(B,F)&&m(F,B)&&(H.push(B.i/O),H.push(V.i/O),H.push(F.i/O),S(V),S(V.next),V=I=F),V=V.next}while(V!==I);return d(V)}function v(I,H,O,V,B,F){var G=I;do{for(var Y=G.next.next;Y!==G.prev;){if(G.i!==Y.i&&T(G,Y)){var Q=M(G,Y);G=d(G,G.next),Q=d(Q,Q.next),P(G,H,O,V,B,F),P(Q,H,O,V,B,F);return}Y=Y.next}G=G.next}while(G!==I)}function p(I,H,O,V){var B=[],F,G,Y,Q,te;for(F=0,G=H.length;F<G;F++)Y=H[F]*V,Q=F<G-1?H[F+1]*V:I.length,te=e(I,Y,Q,V,!1),te===te.next&&(te.steiner=!0),B.push(y(te));for(B.sort(r),F=0;F<B.length;F++)t(B[F],O),O=d(O,O.next);return O}function r(I,H){return I.x-H.x}function t(I,H){if(H=o(I,H),H){var O=M(H,I);d(H,H.next),d(O,O.next)}}function o(I,H){var O=H,V=I.x,B=I.y,F=-1/0,G;do{if(B<=O.y&&B>=O.next.y&&O.next.y!==O.y){var Y=O.x+(B-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(Y<=V&&Y>F){if(F=Y,Y===V){if(B===O.y)return O;if(B===O.next.y)return O.next}G=O.x<O.next.x?O:O.next}}O=O.next}while(O!==H);if(!G)return null;if(V===F)return G;var Q=G,te=G.x,ae=G.y,fe=1/0,oe;O=G;do V>=O.x&&O.x>=te&&V!==O.x&&c(B<ae?V:F,B,te,ae,B<ae?F:V,B,O.x,O.y)&&(oe=Math.abs(B-O.y)/(V-O.x),m(O,I)&&(oe<fe||oe===fe&&(O.x>G.x||O.x===G.x&&a(G,O)))&&(G=O,fe=oe)),O=O.next;while(O!==Q);return G}function a(I,H){return h(I.prev,I,H.prev)<0&&h(H.next,I,I.next)<0}function u(I,H,O,V){var B=I;do B.z===null&&(B.z=l(B.x,B.y,H,O,V)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==I);B.prevZ.nextZ=null,B.prevZ=null,f(B)}function f(I){var H,O,V,B,F,G,Y,Q,te=1;do{for(O=I,I=null,F=null,G=0;O;){for(G++,V=O,Y=0,H=0;H<te&&(Y++,V=V.nextZ,!!V);H++);for(Q=te;Y>0||Q>0&&V;)Y!==0&&(Q===0||!V||O.z<=V.z)?(B=O,O=O.nextZ,Y--):(B=V,V=V.nextZ,Q--),F?F.nextZ=B:I=B,B.prevZ=F,F=B;O=V}F.nextZ=null,te*=2}while(G>1);return I}function l(I,H,O,V,B){return I=32767*(I-O)*B,H=32767*(H-V)*B,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,I|H<<1}function y(I){var H=I,O=I;do(H.x<O.x||H.x===O.x&&H.y<O.y)&&(O=H),H=H.next;while(H!==I);return O}function c(I,H,O,V,B,F,G,Y){return(B-G)*(H-Y)-(I-G)*(F-Y)>=0&&(I-G)*(V-Y)-(O-G)*(H-Y)>=0&&(O-G)*(F-Y)-(B-G)*(V-Y)>=0}function T(I,H){return I.next.i!==H.i&&I.prev.i!==H.i&&!R(I,H)&&(m(I,H)&&m(H,I)&&L(I,H)&&(h(I.prev,I,H.prev)||h(I,H.prev,H))||i(I,H)&&h(I.prev,I,I.next)>0&&h(H.prev,H,H.next)>0)}function h(I,H,O){return(H.y-I.y)*(O.x-H.x)-(H.x-I.x)*(O.y-H.y)}function i(I,H){return I.x===H.x&&I.y===H.y}function g(I,H,O,V){var B=A(h(I,H,O)),F=A(h(I,H,V)),G=A(h(O,V,I)),Y=A(h(O,V,H));return!!(B!==F&&G!==Y||B===0&&b(I,O,H)||F===0&&b(I,V,H)||G===0&&b(O,I,V)||Y===0&&b(O,H,V))}function b(I,H,O){return H.x<=Math.max(I.x,O.x)&&H.x>=Math.min(I.x,O.x)&&H.y<=Math.max(I.y,O.y)&&H.y>=Math.min(I.y,O.y)}function A(I){return I>0?1:I<0?-1:0}function R(I,H){var O=I;do{if(O.i!==I.i&&O.next.i!==I.i&&O.i!==H.i&&O.next.i!==H.i&&g(O,O.next,I,H))return!0;O=O.next}while(O!==I);return!1}function m(I,H){return h(I.prev,I,I.next)<0?h(I,H,I.next)>=0&&h(I,I.prev,H)>=0:h(I,H,I.prev)<0||h(I,I.next,H)<0}function L(I,H){var O=I,V=!1,B=(I.x+H.x)/2,F=(I.y+H.y)/2;do O.y>F!=O.next.y>F&&O.next.y!==O.y&&B<(O.next.x-O.x)*(F-O.y)/(O.next.y-O.y)+O.x&&(V=!V),O=O.next;while(O!==I);return V}function M(I,H){var O=new w(I.i,I.x,I.y),V=new w(H.i,H.x,H.y),B=I.next,F=H.prev;return I.next=H,H.prev=I,O.next=B,B.prev=O,V.next=O,O.prev=V,F.next=V,V.prev=F,V}function s(I,H,O,V){var B=new w(I,H,O);return V?(B.next=V.next,B.prev=V,V.next.prev=B,V.next=B):(B.prev=B,B.next=B),B}function S(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function w(I,H,O){this.i=I,this.x=H,this.y=O,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}N.deviation=function(I,H,O,V){var B=H&&H.length,F=B?H[0]*O:I.length,G=Math.abs(_(I,0,F,O));if(B)for(var Y=0,Q=H.length;Y<Q;Y++){var te=H[Y]*O,ae=Y<Q-1?H[Y+1]*O:I.length;G-=Math.abs(_(I,te,ae,O))}var fe=0;for(Y=0;Y<V.length;Y+=3){var oe=V[Y]*O,J=V[Y+1]*O,ee=V[Y+2]*O;fe+=Math.abs((I[oe]-I[ee])*(I[J+1]-I[oe+1])-(I[oe]-I[J])*(I[ee+1]-I[oe+1]))}return G===0&&fe===0?0:Math.abs((fe-G)/G)};function _(I,H,O,V){for(var B=0,F=H,G=O-V;F<O;F+=V)B+=(I[G]-I[F])*(I[F+1]+I[G+1]),G=F;return B}N.flatten=function(I){for(var H=I[0][0].length,O={vertices:[],holes:[],dimensions:H},V=0,B=0;B<I.length;B++){for(var F=0;F<I[B].length;F++)for(var G=0;G<H;G++)O.vertices.push(I[B][F][G]);B>0&&(V+=I[B-1].length,O.holes.push(V))}return O}},6688:function(U,N,e){var d=e(78484);U.exports=function(n,C){var x=[],v=[],p=[],r={},t=[],o;function a(b){p[b]=!1,r.hasOwnProperty(b)&&Object.keys(r[b]).forEach(function(A){delete r[b][A],p[A]&&a(A)})}function u(b){var A=!1;v.push(b),p[b]=!0;var R,m;for(R=0;R<t[b].length;R++)m=t[b][R],m===o?(f(o,v),A=!0):p[m]||(A=u(m));if(A)a(b);else for(R=0;R<t[b].length;R++){m=t[b][R];var L=r[m];L||(L={},r[m]=L),L[m]=!0}return v.pop(),A}function f(b,A){var R=[].concat(A).concat(b);C?C(u):x.push(R)}function l(b){for(var A=0;A<n.length;A++)A<b&&(n[A]=[]),n[A]=n[A].filter(function(R){return R>=b})}function y(b){l(b);for(var A=n,R=d(A),m=R.components.filter(function(I){return I.length>1}),L=1/0,M,s=0;s<m.length;s++)for(var S=0;S<m[s].length;S++)m[s][S]<L&&(L=m[s][S],M=s);var w=m[M];if(!w)return!1;var _=n.map(function(I,H){return w.indexOf(H)===-1?[]:I.filter(function(O){return w.indexOf(O)!==-1})});return{leastVertex:L,adjList:_}}o=0;for(var c=n.length;o<c;){var T=y(o);if(o=T.leastVertex,t=T.adjList,t){for(var h=0;h<t.length;h++)for(var i=0;i<t[h].length;i++){var g=t[h][i];p[+g]=!1,r[g]={}}u(o),o=o+1}else o=c}if(!C)return x}},41476:function(U,N,e){var d=e(9252);U.exports=function(){return d(this).length=0,this}},74772:function(U,N,e){U.exports=e(44716)()?Array.from:e(80816)},44716:function(U){U.exports=function(){var N=Array.from,e,d;return typeof N!="function"?!1:(e=["raz","dwa"],d=N(e),!!(d&&d!==e&&d[1]==="dwa"))}},80816:function(U,N,e){var d=e(92664).iterator,P=e(60948),n=e(17024),C=e(81304),x=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,o=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;U.exports=function(f){var l=arguments[1],y=arguments[2],c,T,h,i,g,b,A,R,m,L;if(f=Object(v(f)),p(l)&&x(l),!this||this===Array||!n(this)){if(!l){if(P(f))return g=f.length,g!==1?Array.apply(null,f):(i=new Array(1),i[0]=f[0],i);if(t(f)){for(i=new Array(g=f.length),T=0;T<g;++T)i[T]=f[T];return i}}i=[]}else c=this;if(!t(f)){if((m=f[d])!==void 0){for(A=x(m).call(f),c&&(i=new c),R=A.next(),T=0;!R.done;)L=l?o.call(l,y,R.value,T):R.value,c?(a.value=L,u(i,T,a)):i[T]=L,R=A.next(),++T;g=T}else if(r(f)){for(g=f.length,c&&(i=new c),T=0,h=0;T<g;++T)L=f[T],T+1<g&&(b=L.charCodeAt(0),b>=55296&&b<=56319&&(L+=f[++T])),L=l?o.call(l,y,L,h):L,c?(a.value=L,u(i,h,a)):i[h]=L,++h;g=h}}if(g===void 0)for(g=C(f.length),c&&(i=new c(g)),T=0;T<g;++T)L=l?o.call(l,y,f[T],T):f[T],c?(a.value=L,u(i,T,a)):i[T]=L;return c&&(a.value=null,i.length=g),i}},60948:function(U){var N=Object.prototype.toString,e=N.call(function(){return arguments}());U.exports=function(d){return N.call(d)===e}},17024:function(U){var N=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);U.exports=function(d){return typeof d=="function"&&e(N.call(d))}},33208:function(U){U.exports=function(){}},85608:function(U,N,e){U.exports=e(37328)()?Math.sign:e(92928)},37328:function(U){U.exports=function(){var N=Math.sign;return typeof N!="function"?!1:N(10)===1&&N(-20)===-1}},92928:function(U){U.exports=function(N){return N=Number(N),isNaN(N)||N===0?N:N>0?1:-1}},96936:function(U,N,e){var d=e(85608),P=Math.abs,n=Math.floor;U.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:d(C)*n(P(C)))}},81304:function(U,N,e){var d=e(96936),P=Math.max;U.exports=function(n){return P(0,d(n))}},14428:function(U,N,e){var d=e(34044),P=e(9252),n=Function.prototype.bind,C=Function.prototype.call,x=Object.keys,v=Object.prototype.propertyIsEnumerable;U.exports=function(p,r){return function(t,o){var a,u=arguments[2],f=arguments[3];return t=Object(P(t)),d(o),a=x(t),f&&a.sort(typeof f=="function"?n.call(f,t):void 0),typeof p!="function"&&(p=a[p]),C.call(p,a,function(l,y){return v.call(t,l)?C.call(o,u,t[l],l,t,y):r})}}},38452:function(U,N,e){U.exports=e(96276)()?Object.assign:e(81892)},96276:function(U){U.exports=function(){var N=Object.assign,e;return typeof N!="function"?!1:(e={foo:"raz"},N(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(U,N,e){var d=e(54768),P=e(9252),n=Math.max;U.exports=function(C,x){var v,p,r=n(arguments.length,2),t;for(C=Object(P(C)),t=function(o){try{C[o]=x[o]}catch(a){v||(v=a)}},p=1;p<r;++p)x=arguments[p],d(x).forEach(t);if(v!==void 0)throw v;return C}},95920:function(U,N,e){var d=e(74772),P=e(38452),n=e(9252);U.exports=function(C){var x=Object(n(C)),v=arguments[1],p=Object(arguments[2]);if(x!==C&&!v)return x;var r={};return v?d(v,function(t){(p.ensure||t in C)&&(r[t]=C[t])}):P(r,C),r}},14452:function(U,N,e){var d=Object.create,P;e(63092)()||(P=e(8672)),U.exports=function(){var n,C,x;return!P||P.level!==1?d:(n={},C={},x={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=x}),Object.defineProperties(n,C),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(v,p){return d(v===null?n:v,p)})}()},42748:function(U,N,e){U.exports=e(14428)("forEach")},69127:function(U,N,e){var d=e(42584),P={function:!0,object:!0};U.exports=function(n){return d(n)&&P[typeof n]||!1}},42584:function(U,N,e){var d=e(33208)();U.exports=function(P){return P!==d&&P!==null}},54768:function(U,N,e){U.exports=e(87888)()?Object.keys:e(89592)},87888:function(U){U.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(U,N,e){var d=e(42584),P=Object.keys;U.exports=function(n){return P(d(n)?Object(n):n)}},84323:function(U,N,e){var d=e(34044),P=e(42748),n=Function.prototype.call;U.exports=function(C,x){var v={},p=arguments[2];return d(x),P(C,function(r,t,o,a){v[t]=n.call(x,p,r,t,o,a)}),v}},50868:function(U,N,e){var d=e(42584),P=Array.prototype.forEach,n=Object.create,C=function(x,v){var p;for(p in x)v[p]=x[p]};U.exports=function(x){var v=n(null);return P.call(arguments,function(p){d(p)&&C(Object(p),v)}),v}},69932:function(U,N,e){U.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(U){var N=Object.create,e=Object.getPrototypeOf,d={};U.exports=function(){var P=Object.setPrototypeOf,n=arguments[0]||N;return typeof P!="function"?!1:e(P(n(null),d))===d}},8672:function(U,N,e){var d=e(69127),P=e(9252),n=Object.prototype.isPrototypeOf,C=Object.defineProperty,x={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||d(r))return p;throw new TypeError("Prototype must be null or an object")},U.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(o,a){return t.call(v(o,a),a),o}):r=function(o,a){return v(o,a).__proto__=a,o}:r=function o(a,u){var f;return v(a,u),f=n.call(o.nullPolyfill,a),f&&delete o.nullPolyfill.__proto__,u===null&&(u=o.nullPolyfill),a.__proto__=u,f&&C(o.nullPolyfill,"__proto__",x),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{t=o.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(U){U.exports=function(N){if(typeof N!="function")throw new TypeError(N+" is not a function");return N}},92584:function(U,N,e){var d=e(69127);U.exports=function(P){if(!d(P))throw new TypeError(P+" is not an Object");return P}},9252:function(U,N,e){var d=e(42584);U.exports=function(P){if(!d(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(U,N,e){U.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(U){var N="razdwatrzy";U.exports=function(){return typeof N.contains!="function"?!1:N.contains("dwa")===!0&&N.contains("foo")===!1}},93040:function(U){var N=String.prototype.indexOf;U.exports=function(e){return N.call(this,e,arguments[1])>-1}},29768:function(U){var N=Object.prototype.toString,e=N.call("");U.exports=function(d){return typeof d=="string"||d&&typeof d=="object"&&(d instanceof String||N.call(d)===e)||!1}},82252:function(U){var N=Object.create(null),e=Math.random;U.exports=function(){var d;do d=e().toString(36).slice(2);while(N[d]);return d}},52104:function(U,N,e){var d=e(69932),P=e(71056),n=e(21092),C=e(92664),x=e(85512),v=Object.defineProperty,p;p=U.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");x.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",n("",t))},d&&d(p,x),delete p.prototype.constructor,p.prototype=Object.create(x.prototype,{_resolve:n(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,C.toStringTag,n("c","Array Iterator"))},76024:function(U,N,e){var d=e(60948),P=e(34044),n=e(29768),C=e(76252),x=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;U.exports=function(r,t){var o,a=arguments[2],u,f,l,y,c,T,h;if(x(r)||d(r)?o="array":n(r)?o="string":r=C(r),P(t),f=function(){l=!0},o==="array"){p.call(r,function(i){return v.call(t,a,i,f),l});return}if(o==="string"){for(c=r.length,y=0;y<c&&(T=r[y],y+1<c&&(h=T.charCodeAt(0),h>=55296&&h<=56319&&(T+=r[++y])),v.call(t,a,T,f),!l);++y);return}for(u=r.next();!u.done;){if(v.call(t,a,u.value,f),l)return;u=r.next()}}},76252:function(U,N,e){var d=e(60948),P=e(29768),n=e(52104),C=e(80940),x=e(52891),v=e(92664).iterator;U.exports=function(p){return typeof x(p)[v]=="function"?p[v]():d(p)?new n(p):P(p)?new C(p):new n(p)}},85512:function(U,N,e){var d=e(41476),P=e(38452),n=e(34044),C=e(9252),x=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,o;U.exports=o=function(a,u){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");t(this,{__list__:x("w",C(a)),__context__:x("w",u),__nextIndex__:x("w",0)}),u&&(n(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete o.prototype.constructor,t(o.prototype,P({_next:x(function(){var a;if(this.__list__){if(this.__redo__&&(a=this.__redo__.shift(),a!==void 0))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:x(function(){return this._createResult(this._next())}),_createResult:x(function(a){return a===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:x(function(a){return this.__list__[a]}),_unBind:x(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:x(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:x(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",x("c",[a]));return}this.__redo__.forEach(function(u,f){u>=a&&(this.__redo__[f]=++u)},this),this.__redo__.push(a)}}),_onDelete:x(function(a){var u;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(a),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(f,l){f>a&&(this.__redo__[l]=--f)},this)))}),_onClear:x(function(){this.__redo__&&d.call(this.__redo__),this.__nextIndex__=0})}))),r(o.prototype,p.iterator,x(function(){return this}))},76368:function(U,N,e){var d=e(60948),P=e(42584),n=e(29768),C=e(92664).iterator,x=Array.isArray;U.exports=function(v){return P(v)?x(v)||n(v)||d(v)?!0:typeof v[C]=="function":!1}},80940:function(U,N,e){var d=e(69932),P=e(21092),n=e(92664),C=e(85512),x=Object.defineProperty,v;v=U.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),C.call(this,p),x(this,"__length__",P("",p.length))},d&&d(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),x(v.prototype,n.toStringTag,P("c","String Iterator"))},52891:function(U,N,e){var d=e(76368);U.exports=function(P){if(!d(P))throw new TypeError(P+" is not iterable");return P}},60964:function(U){function N(d,P){if(d==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(d),C=1;C<arguments.length;C++){var x=arguments[C];if(x!=null)for(var v=Object.keys(Object(x)),p=0,r=v.length;p<r;p++){var t=v[p],o=Object.getOwnPropertyDescriptor(x,t);o!==void 0&&o.enumerable&&(n[t]=x[t])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:N})}U.exports={assign:N,polyfill:e}},92664:function(U,N,e){U.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(U,N,e){var d=e(12296),P={object:!0,symbol:!0};U.exports=function(){var n=d.Symbol,C;if(typeof n!="function")return!1;C=n("test symbol");try{String(C)}catch{return!1}return!(!P[typeof n.iterator]||!P[typeof n.toPrimitive]||!P[typeof n.toStringTag])}},53908:function(U){U.exports=function(N){return N?typeof N=="symbol"?!0:!N.constructor||N.constructor.name!=="Symbol"?!1:N[N.constructor.toStringTag]==="Symbol":!1}},96863:function(U,N,e){var d=e(21092),P=Object.create,n=Object.defineProperty,C=Object.prototype,x=P(null);U.exports=function(v){for(var p=0,r,t;x[v+(p||"")];)++p;return v+=p||"",x[v]=!0,r="@@"+v,n(C,r,d.gs(null,function(o){t||(t=!0,n(this,r,d(o)),t=!1)})),r}},53540:function(U,N,e){var d=e(21092),P=e(12296).Symbol;U.exports=function(n){return Object.defineProperties(n,{hasInstance:d("",P&&P.hasInstance||n("hasInstance")),isConcatSpreadable:d("",P&&P.isConcatSpreadable||n("isConcatSpreadable")),iterator:d("",P&&P.iterator||n("iterator")),match:d("",P&&P.match||n("match")),replace:d("",P&&P.replace||n("replace")),search:d("",P&&P.search||n("search")),species:d("",P&&P.species||n("species")),split:d("",P&&P.split||n("split")),toPrimitive:d("",P&&P.toPrimitive||n("toPrimitive")),toStringTag:d("",P&&P.toStringTag||n("toStringTag")),unscopables:d("",P&&P.unscopables||n("unscopables"))})}},73852:function(U,N,e){var d=e(21092),P=e(63948),n=Object.create(null);U.exports=function(C){return Object.defineProperties(C,{for:d(function(x){return n[x]?n[x]:n[x]=C(String(x))}),keyFor:d(function(x){var v;P(x);for(v in n)if(n[v]===x)return v})})}},18376:function(U,N,e){var d=e(21092),P=e(63948),n=e(12296).Symbol,C=e(96863),x=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,o,a,u;if(typeof n=="function")try{String(n()),u=!0}catch{}else n=null;a=function(l){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return o(l)},U.exports=o=function f(l){var y;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return u?n(l):(y=p(a.prototype),l=l===void 0?"":String(l),r(y,{__description__:d("",l),__name__:d("",C(l))}))},x(o),v(o),r(a.prototype,{constructor:d(o),toString:d("",function(){return this.__name__})}),r(o.prototype,{toString:d(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:d(function(){return P(this)})}),t(o.prototype,o.toPrimitive,d("",function(){var f=P(this);return typeof f=="symbol"?f:f.toString()})),t(o.prototype,o.toStringTag,d("c","Symbol")),t(a.prototype,o.toStringTag,d("c",o.prototype[o.toStringTag])),t(a.prototype,o.toPrimitive,d("c",o.prototype[o.toPrimitive]))},63948:function(U,N,e){var d=e(53908);U.exports=function(P){if(!d(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(U,N,e){U.exports=e(96979)()?WeakMap:e(64864)},96979:function(U){U.exports=function(){var N,e;if(typeof WeakMap!="function")return!1;try{N=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(N)!=="[object WeakMap]"||typeof N.set!="function"||N.set({},1)!==N||typeof N.delete!="function"||typeof N.has!="function"||N.get(e)!=="one")}},69876:function(U){U.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(U,N,e){var d=e(42584),P=e(69932),n=e(92584),C=e(9252),x=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,o=e(69876),a=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,y;U.exports=y=function(){var c=arguments[0],T;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return T=o&&P&&WeakMap!==y?P(new WeakMap,l(this)):this,d(c)&&(a(c)||(c=p(c))),u(T,"__weakMapData__",v("c","$weakMap$"+x())),c&&r(c,function(h){C(h),T.set(h[0],h[1])}),T},o&&(P&&P(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(c){return f.call(n(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(f.call(n(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return f.call(n(c),this.__weakMapData__)}),set:v(function(c,T){return u(n(c),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),u(y.prototype,t,v("c","WeakMap"))},61252:function(U){var N=typeof Reflect=="object"?Reflect:null,e=N&&typeof N.apply=="function"?N.apply:function(g,b,A){return Function.prototype.apply.call(g,b,A)},d;N&&typeof N.ownKeys=="function"?d=N.ownKeys:Object.getOwnPropertySymbols?d=function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:d=function(g){return Object.getOwnPropertyNames(g)};function P(i){console&&console.warn&&console.warn(i)}var n=Number.isNaN||function(g){return g!==g};function C(){C.init.call(this)}U.exports=C,U.exports.once=c,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var x=10;function v(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(i){if(typeof i!="number"||i<0||n(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");x=i}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||n(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this};function p(i){return i._maxListeners===void 0?C.defaultMaxListeners:i._maxListeners}C.prototype.getMaxListeners=function(){return p(this)},C.prototype.emit=function(g){for(var b=[],A=1;A<arguments.length;A++)b.push(arguments[A]);var R=g==="error",m=this._events;if(m!==void 0)R=R&&m.error===void 0;else if(!R)return!1;if(R){var L;if(b.length>0&&(L=b[0]),L instanceof Error)throw L;var M=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw M.context=L,M}var s=m[g];if(s===void 0)return!1;if(typeof s=="function")e(s,this,b);else for(var S=s.length,w=f(s,S),A=0;A<S;++A)e(w[A],this,b);return!0};function r(i,g,b,A){var R,m,L;if(v(b),m=i._events,m===void 0?(m=i._events=Object.create(null),i._eventsCount=0):(m.newListener!==void 0&&(i.emit("newListener",g,b.listener?b.listener:b),m=i._events),L=m[g]),L===void 0)L=m[g]=b,++i._eventsCount;else if(typeof L=="function"?L=m[g]=A?[b,L]:[L,b]:A?L.unshift(b):L.push(b),R=p(i),R>0&&L.length>R&&!L.warned){L.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=i,M.type=g,M.count=L.length,P(M)}return i}C.prototype.addListener=function(g,b){return r(this,g,b,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(g,b){return r(this,g,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(i,g,b){var A={fired:!1,wrapFn:void 0,target:i,type:g,listener:b},R=t.bind(A);return R.listener=b,A.wrapFn=R,R}C.prototype.once=function(g,b){return v(b),this.on(g,o(this,g,b)),this},C.prototype.prependOnceListener=function(g,b){return v(b),this.prependListener(g,o(this,g,b)),this},C.prototype.removeListener=function(g,b){var A,R,m,L,M;if(v(b),R=this._events,R===void 0)return this;if(A=R[g],A===void 0)return this;if(A===b||A.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete R[g],R.removeListener&&this.emit("removeListener",g,A.listener||b));else if(typeof A!="function"){for(m=-1,L=A.length-1;L>=0;L--)if(A[L]===b||A[L].listener===b){M=A[L].listener,m=L;break}if(m<0)return this;m===0?A.shift():l(A,m),A.length===1&&(R[g]=A[0]),R.removeListener!==void 0&&this.emit("removeListener",g,M||b)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(g){var b,A,R;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[g]),this;if(arguments.length===0){var m=Object.keys(A),L;for(R=0;R<m.length;++R)L=m[R],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=A[g],typeof b=="function")this.removeListener(g,b);else if(b!==void 0)for(R=b.length-1;R>=0;R--)this.removeListener(g,b[R]);return this};function a(i,g,b){var A=i._events;if(A===void 0)return[];var R=A[g];return R===void 0?[]:typeof R=="function"?b?[R.listener||R]:[R]:b?y(R):f(R,R.length)}C.prototype.listeners=function(g){return a(this,g,!0)},C.prototype.rawListeners=function(g){return a(this,g,!1)},C.listenerCount=function(i,g){return typeof i.listenerCount=="function"?i.listenerCount(g):u.call(i,g)},C.prototype.listenerCount=u;function u(i){var g=this._events;if(g!==void 0){var b=g[i];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function f(i,g){for(var b=new Array(g),A=0;A<g;++A)b[A]=i[A];return b}function l(i,g){for(;g+1<i.length;g++)i[g]=i[g+1];i.pop()}function y(i){for(var g=new Array(i.length),b=0;b<g.length;++b)g[b]=i[b].listener||i[b];return g}function c(i,g){return new Promise(function(b,A){function R(L){i.removeListener(g,m),A(L)}function m(){typeof i.removeListener=="function"&&i.removeListener("error",R),b([].slice.call(arguments))}h(i,g,m,{once:!0}),g!=="error"&&T(i,R,{once:!0})})}function T(i,g,b){typeof i.on=="function"&&h(i,"error",g,b)}function h(i,g,b,A){if(typeof i.on=="function")A.once?i.once(g,b):i.on(g,b);else if(typeof i.addEventListener=="function")i.addEventListener(g,function R(m){A.once&&i.removeEventListener(g,R),b(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(U){var N=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};U.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return N()}try{return __global__||N()}finally{delete Object.prototype.__global__}}()},12296:function(U,N,e){U.exports=e(45072)()?globalThis:e(39072)},45072:function(U){U.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(U,N,e){var d=e(94576);U.exports=function(P){var n=typeof P;if(n==="string"){var C=P;if(P=+P,P===0&&d(C))return!1}else if(n!=="number")return!1;return P-P<1}},47520:function(U,N,e){var d=e(72512);U.exports=P;function P(n,C,x){if(!n)throw new TypeError("must specify data as first parameter");if(x=+(x||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var v=n[0].length,p=n.length*v,r,t,o,a;(!C||typeof C=="string")&&(C=new(d(C||"float32"))(p+x));var u=C.length-x;if(p!==u)throw new Error("source length "+p+" ("+v+"x"+n.length+") does not match destination length "+u);for(r=0,o=x;r<n.length;r++)for(t=0;t<v;t++)C[o++]=n[r][t]===null?NaN:n[r][t]}else if(!C||typeof C=="string"){var f=d(C||"float32");if(Array.isArray(n)||C==="array")for(C=new f(n.length+x),r=0,o=x,a=C.length;o<a;o++,r++)C[o]=n[r]===null?NaN:n[r];else x===0?C=new f(n):(C=new f(n.length+x),C.set(n,x))}else C.set(n,x);return C}},33888:function(U,N,e){var d=e(49395),P=[32,126];U.exports=n;function n(C){C=C||{};var x=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),p=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||P;if(p&&typeof p!="string"&&(p=d(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var o=[],a=t[0],u=0;a<=t[1];a++)o[u++]=String.fromCharCode(a);t=o}x=x.slice(),v.width=x[0],v.height=x[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=p,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var l=r[0]/2,y=r[1]/2,a=0;a<t.length;a++)f.fillText(t[a],l,y),(l+=r[0])>x[0]-r[0]/2&&(l=r[0]/2,y+=r[1]);return v}},71920:function(U){U.exports=N,N.canvas=document.createElement("canvas"),N.cache={};function N(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var x=Array.isArray(C.family)?C.family.join(", "):C.family;if(!x)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,p=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,p,v].join(" ")+"px "+x,o=C.origin||"top";if(N.cache[x]&&v<=N.cache[x].em)return e(N.cache[x],o);var a=C.canvas||N.canvas,u=a.getContext("2d"),f={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},l=Math.ceil(v*1.5);a.height=l,a.width=l*.5,u.font=t;var y="H",c={top:0};u.clearRect(0,0,l,l),u.textBaseline="top",u.fillStyle="black",u.fillText(y,0,0);var T=d(u.getImageData(0,0,l,l));u.clearRect(0,0,l,l),u.textBaseline="bottom",u.fillText(y,0,l);var h=d(u.getImageData(0,0,l,l));c.lineHeight=c.bottom=l-h+T,u.clearRect(0,0,l,l),u.textBaseline="alphabetic",u.fillText(y,0,l);var i=d(u.getImageData(0,0,l,l)),g=l-i-1+T;c.baseline=c.alphabetic=g,u.clearRect(0,0,l,l),u.textBaseline="middle",u.fillText(y,0,l*.5);var b=d(u.getImageData(0,0,l,l));c.median=c.middle=l-b-1+T-l*.5,u.clearRect(0,0,l,l),u.textBaseline="hanging",u.fillText(y,0,l*.5);var A=d(u.getImageData(0,0,l,l));c.hanging=l-A-1+T-l*.5,u.clearRect(0,0,l,l),u.textBaseline="ideographic",u.fillText(y,0,l);var R=d(u.getImageData(0,0,l,l));if(c.ideographic=l-R-1+T,f.upper&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.upper,0,0),c.upper=d(u.getImageData(0,0,l,l)),c.capHeight=c.baseline-c.upper),f.lower&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.lower,0,0),c.lower=d(u.getImageData(0,0,l,l)),c.xHeight=c.baseline-c.lower),f.tittle&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.tittle,0,0),c.tittle=d(u.getImageData(0,0,l,l))),f.ascent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.ascent,0,0),c.ascent=d(u.getImageData(0,0,l,l))),f.descent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.descent,0,0),c.descent=P(u.getImageData(0,0,l,l))),f.overshoot){u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.overshoot,0,0);var m=P(u.getImageData(0,0,l,l));c.overshoot=m-g}for(var L in c)c[L]/=v;return c.em=v,N.cache[x]=c,e(c,o)}function e(n,C){var x={};typeof C=="string"&&(C=n[C]);for(var v in n)v!=="em"&&(x[v]=n[v]-C);return x}function d(n){for(var C=n.height,x=n.data,v=3;v<x.length;v+=4)if(x[v]!==0)return Math.floor((v-3)*.25/C)}function P(n){for(var C=n.height,x=n.data,v=x.length-1;v>0;v-=4)if(x[v]!==0)return Math.floor((v-3)*.25/C)}},46492:function(U,N,e){var d=e(90720),P=Object.prototype.toString,n=Object.prototype.hasOwnProperty,C=function(t,o,a){for(var u=0,f=t.length;u<f;u++)n.call(t,u)&&(a==null?o(t[u],u,t):o.call(a,t[u],u,t))},x=function(t,o,a){for(var u=0,f=t.length;u<f;u++)a==null?o(t.charAt(u),u,t):o.call(a,t.charAt(u),u,t)},v=function(t,o,a){for(var u in t)n.call(t,u)&&(a==null?o(t[u],u,t):o.call(a,t[u],u,t))},p=function(t,o,a){if(!d(o))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=a),P.call(t)==="[object Array]"?C(t,o,u):typeof t=="string"?x(t,o,u):v(t,o,u)};U.exports=p},74336:function(U){var N="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,d=Math.max,P="[object Function]",n=function(p,r){for(var t=[],o=0;o<p.length;o+=1)t[o]=p[o];for(var a=0;a<r.length;a+=1)t[a+p.length]=r[a];return t},C=function(p,r){for(var t=[],o=r,a=0;o<p.length;o+=1,a+=1)t[a]=p[o];return t},x=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};U.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(N+r);for(var t=C(arguments,1),o,a=function(){if(this instanceof o){var c=r.apply(this,n(t,arguments));return Object(c)===c?c:this}return r.apply(p,n(t,arguments))},u=d(0,r.length-t.length),f=[],l=0;l<u;l++)f[l]="$"+l;if(o=Function("binder","return function ("+x(f,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var y=function(){};y.prototype=r.prototype,o.prototype=new y,y.prototype=null}return o}},8844:function(U,N,e){var d=e(74336);U.exports=Function.prototype.bind||d},13380:function(U){U.exports=N;function N(e,d){if(typeof e!="string")throw new TypeError("must specify type string");if(d=d||{},typeof document>"u"&&!d.canvas)return null;var P=d.canvas||document.createElement("canvas");typeof d.width=="number"&&(P.width=d.width),typeof d.height=="number"&&(P.height=d.height);var n=d,C;try{var x=[e];e.indexOf("webgl")===0&&x.push("experimental-"+e);for(var v=0;v<x.length;v++)if(C=P.getContext(x[v],n),C)return C}catch{C=null}return C||null}},53664:function(U,N,e){var d,P=SyntaxError,n=Function,C=TypeError,x=function(w){try{return n('"use strict"; return ('+w+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new C},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),o=e(69572)(),a=Object.getPrototypeOf||(o?function(w){return w.__proto__}:null),u={},f=typeof Uint8Array>"u"||!a?d:a(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?d:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?d:ArrayBuffer,"%ArrayIteratorPrototype%":t&&a?a([][Symbol.iterator]()):d,"%AsyncFromSyncIteratorPrototype%":d,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?d:Atomics,"%BigInt%":typeof BigInt>"u"?d:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?d:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?d:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?d:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?d:Float32Array,"%Float64Array%":typeof Float64Array>"u"?d:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?d:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?d:Int8Array,"%Int16Array%":typeof Int16Array>"u"?d:Int16Array,"%Int32Array%":typeof Int32Array>"u"?d:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&a?a(a([][Symbol.iterator]())):d,"%JSON%":typeof JSON=="object"?JSON:d,"%Map%":typeof Map>"u"?d:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!a?d:a(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?d:Promise,"%Proxy%":typeof Proxy>"u"?d:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?d:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?d:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!a?d:a(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?d:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&a?a(""[Symbol.iterator]()):d,"%Symbol%":t?Symbol:d,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?d:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?d:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?d:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?d:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?d:WeakMap,"%WeakRef%":typeof WeakRef>"u"?d:WeakRef,"%WeakSet%":typeof WeakSet>"u"?d:WeakSet};if(a)try{null.error}catch(w){var y=a(a(w));l["%Error.prototype%"]=y}var c=function w(_){var I;if(_==="%AsyncFunction%")I=x("async function () {}");else if(_==="%GeneratorFunction%")I=x("function* () {}");else if(_==="%AsyncGeneratorFunction%")I=x("async function* () {}");else if(_==="%AsyncGenerator%"){var H=w("%AsyncGeneratorFunction%");H&&(I=H.prototype)}else if(_==="%AsyncIteratorPrototype%"){var O=w("%AsyncGenerator%");O&&a&&(I=a(O.prototype))}return l[_]=I,I},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h=e(8844),i=e(92064),g=h.call(Function.call,Array.prototype.concat),b=h.call(Function.apply,Array.prototype.splice),A=h.call(Function.call,String.prototype.replace),R=h.call(Function.call,String.prototype.slice),m=h.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,s=function(_){var I=R(_,0,1),H=R(_,-1);if(I==="%"&&H!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(H==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var O=[];return A(_,L,function(V,B,F,G){O[O.length]=F?A(G,M,"$1"):B||V}),O},S=function(_,I){var H=_,O;if(i(T,H)&&(O=T[H],H="%"+O[0]+"%"),i(l,H)){var V=l[H];if(V===u&&(V=c(H)),typeof V>"u"&&!I)throw new C("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:O,name:H,value:V}}throw new P("intrinsic "+_+" does not exist!")};U.exports=function(_,I){if(typeof _!="string"||_.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new C('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,_)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var H=s(_),O=H.length>0?H[0]:"",V=S("%"+O+"%",I),B=V.name,F=V.value,G=!1,Y=V.alias;Y&&(O=Y[0],b(H,g([0,1],Y)));for(var Q=1,te=!0;Q<H.length;Q+=1){var ae=H[Q],fe=R(ae,0,1),oe=R(ae,-1);if((fe==='"'||fe==="'"||fe==="`"||oe==='"'||oe==="'"||oe==="`")&&fe!==oe)throw new P("property names with quotes must have matching quotes");if((ae==="constructor"||!te)&&(G=!0),O+="."+ae,B="%"+O+"%",i(l,B))F=l[B];else if(F!=null){if(!(ae in F)){if(!I)throw new C("base intrinsic for "+_+" exists, but the property is not available.");return}if(v&&Q+1>=H.length){var J=v(F,ae);te=!!J,te&&"get"in J&&!("originalValue"in J.get)?F=J.get:F=F[ae]}else te=i(F,ae),F=F[ae];te&&!G&&(l[B]=F)}}return F}},12408:function(U){U.exports=N;function N(e,d){var P=d[0],n=d[1],C=d[2],x=d[3],v=d[4],p=d[5],r=d[6],t=d[7],o=d[8],a=d[9],u=d[10],f=d[11],l=d[12],y=d[13],c=d[14],T=d[15];return e[0]=p*(u*T-f*c)-a*(r*T-t*c)+y*(r*f-t*u),e[1]=-(n*(u*T-f*c)-a*(C*T-x*c)+y*(C*f-x*u)),e[2]=n*(r*T-t*c)-p*(C*T-x*c)+y*(C*t-x*r),e[3]=-(n*(r*f-t*u)-p*(C*f-x*u)+a*(C*t-x*r)),e[4]=-(v*(u*T-f*c)-o*(r*T-t*c)+l*(r*f-t*u)),e[5]=P*(u*T-f*c)-o*(C*T-x*c)+l*(C*f-x*u),e[6]=-(P*(r*T-t*c)-v*(C*T-x*c)+l*(C*t-x*r)),e[7]=P*(r*f-t*u)-v*(C*f-x*u)+o*(C*t-x*r),e[8]=v*(a*T-f*y)-o*(p*T-t*y)+l*(p*f-t*a),e[9]=-(P*(a*T-f*y)-o*(n*T-x*y)+l*(n*f-x*a)),e[10]=P*(p*T-t*y)-v*(n*T-x*y)+l*(n*t-x*p),e[11]=-(P*(p*f-t*a)-v*(n*f-x*a)+o*(n*t-x*p)),e[12]=-(v*(a*c-u*y)-o*(p*c-r*y)+l*(p*u-r*a)),e[13]=P*(a*c-u*y)-o*(n*c-C*y)+l*(n*u-C*a),e[14]=-(P*(p*c-r*y)-v*(n*c-C*y)+l*(n*r-C*p)),e[15]=P*(p*u-r*a)-v*(n*u-C*a)+o*(n*r-C*p),e}},76860:function(U){U.exports=N;function N(e){var d=new Float32Array(16);return d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],d[6]=e[6],d[7]=e[7],d[8]=e[8],d[9]=e[9],d[10]=e[10],d[11]=e[11],d[12]=e[12],d[13]=e[13],d[14]=e[14],d[15]=e[15],d}},64492:function(U){U.exports=N;function N(e,d){return e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3],e[4]=d[4],e[5]=d[5],e[6]=d[6],e[7]=d[7],e[8]=d[8],e[9]=d[9],e[10]=d[10],e[11]=d[11],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15],e}},54212:function(U){U.exports=N;function N(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(U){U.exports=N;function N(e){var d=e[0],P=e[1],n=e[2],C=e[3],x=e[4],v=e[5],p=e[6],r=e[7],t=e[8],o=e[9],a=e[10],u=e[11],f=e[12],l=e[13],y=e[14],c=e[15],T=d*v-P*x,h=d*p-n*x,i=d*r-C*x,g=P*p-n*v,b=P*r-C*v,A=n*r-C*p,R=t*l-o*f,m=t*y-a*f,L=t*c-u*f,M=o*y-a*l,s=o*c-u*l,S=a*c-u*y;return T*S-h*s+i*M+g*L-b*m+A*R}},61784:function(U){U.exports=N;function N(e,d){var P=d[0],n=d[1],C=d[2],x=d[3],v=P+P,p=n+n,r=C+C,t=P*v,o=n*v,a=n*p,u=C*v,f=C*p,l=C*r,y=x*v,c=x*p,T=x*r;return e[0]=1-a-l,e[1]=o+T,e[2]=u-c,e[3]=0,e[4]=o-T,e[5]=1-t-l,e[6]=f+y,e[7]=0,e[8]=u+c,e[9]=f-y,e[10]=1-t-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(U){U.exports=N;function N(e,d,P){var n,C,x,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,n=Math.sin(d),C=Math.cos(d),x=1-C,e[0]=v*v*x+C,e[1]=p*v*x+r*n,e[2]=r*v*x-p*n,e[3]=0,e[4]=v*p*x-r*n,e[5]=p*p*x+C,e[6]=r*p*x+v*n,e[7]=0,e[8]=v*r*x+p*n,e[9]=p*r*x-v*n,e[10]=r*r*x+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(U){U.exports=N;function N(e,d,P){var n=d[0],C=d[1],x=d[2],v=d[3],p=n+n,r=C+C,t=x+x,o=n*p,a=n*r,u=n*t,f=C*r,l=C*t,y=x*t,c=v*p,T=v*r,h=v*t;return e[0]=1-(f+y),e[1]=a+h,e[2]=u-T,e[3]=0,e[4]=a-h,e[5]=1-(o+y),e[6]=l+c,e[7]=0,e[8]=u+T,e[9]=l-c,e[10]=1-(o+f),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(U){U.exports=N;function N(e,d){return e[0]=d[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=d[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(U){U.exports=N;function N(e,d){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=d[0],e[13]=d[1],e[14]=d[2],e[15]=1,e}},21856:function(U){U.exports=N;function N(e,d){var P=Math.sin(d),n=Math.cos(d);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(U){U.exports=N;function N(e,d){var P=Math.sin(d),n=Math.cos(d);return e[0]=n,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(U){U.exports=N;function N(e,d){var P=Math.sin(d),n=Math.cos(d);return e[0]=n,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(U){U.exports=N;function N(e,d,P,n,C,x,v){var p=1/(P-d),r=1/(C-n),t=1/(x-v);return e[0]=x*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x*2*r,e[6]=0,e[7]=0,e[8]=(P+d)*p,e[9]=(C+n)*r,e[10]=(v+x)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*x*2*t,e[15]=0,e}},36635:function(U){U.exports=N;function N(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(U,N,e){U.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(U){U.exports=N;function N(e,d){var P=d[0],n=d[1],C=d[2],x=d[3],v=d[4],p=d[5],r=d[6],t=d[7],o=d[8],a=d[9],u=d[10],f=d[11],l=d[12],y=d[13],c=d[14],T=d[15],h=P*p-n*v,i=P*r-C*v,g=P*t-x*v,b=n*r-C*p,A=n*t-x*p,R=C*t-x*r,m=o*y-a*l,L=o*c-u*l,M=o*T-f*l,s=a*c-u*y,S=a*T-f*y,w=u*T-f*c,_=h*w-i*S+g*s+b*M-A*L+R*m;return _?(_=1/_,e[0]=(p*w-r*S+t*s)*_,e[1]=(C*S-n*w-x*s)*_,e[2]=(y*R-c*A+T*b)*_,e[3]=(u*A-a*R-f*b)*_,e[4]=(r*M-v*w-t*L)*_,e[5]=(P*w-C*M+x*L)*_,e[6]=(c*g-l*R-T*i)*_,e[7]=(o*R-u*g+f*i)*_,e[8]=(v*S-p*M+t*m)*_,e[9]=(n*M-P*S-x*m)*_,e[10]=(l*A-y*g+T*h)*_,e[11]=(a*g-o*A-f*h)*_,e[12]=(p*L-v*s-r*m)*_,e[13]=(P*s-n*L+C*m)*_,e[14]=(y*i-l*b-c*h)*_,e[15]=(o*b-a*i+u*h)*_,e):null}},56508:function(U,N,e){var d=e(36635);U.exports=P;function P(n,C,x,v){var p,r,t,o,a,u,f,l,y,c,T=C[0],h=C[1],i=C[2],g=v[0],b=v[1],A=v[2],R=x[0],m=x[1],L=x[2];return Math.abs(T-R)<1e-6&&Math.abs(h-m)<1e-6&&Math.abs(i-L)<1e-6?d(n):(f=T-R,l=h-m,y=i-L,c=1/Math.sqrt(f*f+l*l+y*y),f*=c,l*=c,y*=c,p=b*y-A*l,r=A*f-g*y,t=g*l-b*f,c=Math.sqrt(p*p+r*r+t*t),c?(c=1/c,p*=c,r*=c,t*=c):(p=0,r=0,t=0),o=l*t-y*r,a=y*p-f*t,u=f*r-l*p,c=Math.sqrt(o*o+a*a+u*u),c?(c=1/c,o*=c,a*=c,u*=c):(o=0,a=0,u=0),n[0]=p,n[1]=o,n[2]=f,n[3]=0,n[4]=r,n[5]=a,n[6]=l,n[7]=0,n[8]=t,n[9]=u,n[10]=y,n[11]=0,n[12]=-(p*T+r*h+t*i),n[13]=-(o*T+a*h+u*i),n[14]=-(f*T+l*h+y*i),n[15]=1,n)}},80944:function(U){U.exports=N;function N(e,d,P){var n=d[0],C=d[1],x=d[2],v=d[3],p=d[4],r=d[5],t=d[6],o=d[7],a=d[8],u=d[9],f=d[10],l=d[11],y=d[12],c=d[13],T=d[14],h=d[15],i=P[0],g=P[1],b=P[2],A=P[3];return e[0]=i*n+g*p+b*a+A*y,e[1]=i*C+g*r+b*u+A*c,e[2]=i*x+g*t+b*f+A*T,e[3]=i*v+g*o+b*l+A*h,i=P[4],g=P[5],b=P[6],A=P[7],e[4]=i*n+g*p+b*a+A*y,e[5]=i*C+g*r+b*u+A*c,e[6]=i*x+g*t+b*f+A*T,e[7]=i*v+g*o+b*l+A*h,i=P[8],g=P[9],b=P[10],A=P[11],e[8]=i*n+g*p+b*a+A*y,e[9]=i*C+g*r+b*u+A*c,e[10]=i*x+g*t+b*f+A*T,e[11]=i*v+g*o+b*l+A*h,i=P[12],g=P[13],b=P[14],A=P[15],e[12]=i*n+g*p+b*a+A*y,e[13]=i*C+g*r+b*u+A*c,e[14]=i*x+g*t+b*f+A*T,e[15]=i*v+g*o+b*l+A*h,e}},97688:function(U){U.exports=N;function N(e,d,P,n,C,x,v){var p=1/(d-P),r=1/(n-C),t=1/(x-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(d+P)*p,e[13]=(C+n)*r,e[14]=(v+x)*t,e[15]=1,e}},51296:function(U){U.exports=N;function N(e,d,P,n,C){var x=1/Math.tan(d/2),v=1/(n-C);return e[0]=x/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+n)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*n*v,e[15]=0,e}},63688:function(U){U.exports=N;function N(e,d,P,n){var C=Math.tan(d.upDegrees*Math.PI/180),x=Math.tan(d.downDegrees*Math.PI/180),v=Math.tan(d.leftDegrees*Math.PI/180),p=Math.tan(d.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(C+x);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(C-x)*t*.5,e[10]=n/(P-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*P/(P-n),e[15]=0,e}},30016:function(U){U.exports=N;function N(e,d,P,n){var C=n[0],x=n[1],v=n[2],p=Math.sqrt(C*C+x*x+v*v),r,t,o,a,u,f,l,y,c,T,h,i,g,b,A,R,m,L,M,s,S,w,_,I;return Math.abs(p)<1e-6?null:(p=1/p,C*=p,x*=p,v*=p,r=Math.sin(P),t=Math.cos(P),o=1-t,a=d[0],u=d[1],f=d[2],l=d[3],y=d[4],c=d[5],T=d[6],h=d[7],i=d[8],g=d[9],b=d[10],A=d[11],R=C*C*o+t,m=x*C*o+v*r,L=v*C*o-x*r,M=C*x*o-v*r,s=x*x*o+t,S=v*x*o+C*r,w=C*v*o+x*r,_=x*v*o-C*r,I=v*v*o+t,e[0]=a*R+y*m+i*L,e[1]=u*R+c*m+g*L,e[2]=f*R+T*m+b*L,e[3]=l*R+h*m+A*L,e[4]=a*M+y*s+i*S,e[5]=u*M+c*s+g*S,e[6]=f*M+T*s+b*S,e[7]=l*M+h*s+A*S,e[8]=a*w+y*_+i*I,e[9]=u*w+c*_+g*I,e[10]=f*w+T*_+b*I,e[11]=l*w+h*_+A*I,d!==e&&(e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e)}},15456:function(U){U.exports=N;function N(e,d,P){var n=Math.sin(P),C=Math.cos(P),x=d[4],v=d[5],p=d[6],r=d[7],t=d[8],o=d[9],a=d[10],u=d[11];return d!==e&&(e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e[4]=x*C+t*n,e[5]=v*C+o*n,e[6]=p*C+a*n,e[7]=r*C+u*n,e[8]=t*C-x*n,e[9]=o*C-v*n,e[10]=a*C-p*n,e[11]=u*C-r*n,e}},64840:function(U){U.exports=N;function N(e,d,P){var n=Math.sin(P),C=Math.cos(P),x=d[0],v=d[1],p=d[2],r=d[3],t=d[8],o=d[9],a=d[10],u=d[11];return d!==e&&(e[4]=d[4],e[5]=d[5],e[6]=d[6],e[7]=d[7],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e[0]=x*C-t*n,e[1]=v*C-o*n,e[2]=p*C-a*n,e[3]=r*C-u*n,e[8]=x*n+t*C,e[9]=v*n+o*C,e[10]=p*n+a*C,e[11]=r*n+u*C,e}},4192:function(U){U.exports=N;function N(e,d,P){var n=Math.sin(P),C=Math.cos(P),x=d[0],v=d[1],p=d[2],r=d[3],t=d[4],o=d[5],a=d[6],u=d[7];return d!==e&&(e[8]=d[8],e[9]=d[9],e[10]=d[10],e[11]=d[11],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e[0]=x*C+t*n,e[1]=v*C+o*n,e[2]=p*C+a*n,e[3]=r*C+u*n,e[4]=t*C-x*n,e[5]=o*C-v*n,e[6]=a*C-p*n,e[7]=u*C-r*n,e}},68152:function(U){U.exports=N;function N(e,d,P){var n=P[0],C=P[1],x=P[2];return e[0]=d[0]*n,e[1]=d[1]*n,e[2]=d[2]*n,e[3]=d[3]*n,e[4]=d[4]*C,e[5]=d[5]*C,e[6]=d[6]*C,e[7]=d[7]*C,e[8]=d[8]*x,e[9]=d[9]*x,e[10]=d[10]*x,e[11]=d[11]*x,e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15],e}},89412:function(U){U.exports=N;function N(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(U){U.exports=N;function N(e,d,P){var n=P[0],C=P[1],x=P[2],v,p,r,t,o,a,u,f,l,y,c,T;return d===e?(e[12]=d[0]*n+d[4]*C+d[8]*x+d[12],e[13]=d[1]*n+d[5]*C+d[9]*x+d[13],e[14]=d[2]*n+d[6]*C+d[10]*x+d[14],e[15]=d[3]*n+d[7]*C+d[11]*x+d[15]):(v=d[0],p=d[1],r=d[2],t=d[3],o=d[4],a=d[5],u=d[6],f=d[7],l=d[8],y=d[9],c=d[10],T=d[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=o,e[5]=a,e[6]=u,e[7]=f,e[8]=l,e[9]=y,e[10]=c,e[11]=T,e[12]=v*n+o*C+l*x+d[12],e[13]=p*n+a*C+y*x+d[13],e[14]=r*n+u*C+c*x+d[14],e[15]=t*n+f*C+T*x+d[15]),e}},86520:function(U){U.exports=N;function N(e,d){if(e===d){var P=d[1],n=d[2],C=d[3],x=d[6],v=d[7],p=d[11];e[1]=d[4],e[2]=d[8],e[3]=d[12],e[4]=P,e[6]=d[9],e[7]=d[13],e[8]=n,e[9]=x,e[11]=d[14],e[12]=C,e[13]=v,e[14]=p}else e[0]=d[0],e[1]=d[4],e[2]=d[8],e[3]=d[12],e[4]=d[1],e[5]=d[5],e[6]=d[9],e[7]=d[13],e[8]=d[2],e[9]=d[6],e[10]=d[10],e[11]=d[14],e[12]=d[3],e[13]=d[7],e[14]=d[11],e[15]=d[15];return e}},23352:function(U,N,e){var d=e(42771),P=e(55616),n=e(28624),C=e(55212),x=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),o=e(58908),a=e(65819),u=e(23464),f=e(63768),l=e(50896),y=e(71920),c=e(47520),T=e(308),h=T.nextPow2,i=new x,g=!1;if(document.body){var b=document.body.appendChild(document.createElement("div"));b.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(b).fontStretch&&(g=!0),document.body.removeChild(b)}var A=function(L){R(L)?(L={regl:L},this.gl=L.regl._gl):this.gl=C(L),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=L.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(o(L)?L:{})};A.prototype.createShader=function(){var L=this.regl,M=L({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:L.prop("count"),offset:L.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:L.this("sizeBuffer")},width:{offset:0,stride:8,buffer:L.this("sizeBuffer")},char:L.this("charBuffer"),position:L.this("position")},uniforms:{atlasSize:function(S,w){return[w.atlas.width,w.atlas.height]},atlasDim:function(S,w){return[w.atlas.cols,w.atlas.rows]},atlas:function(S,w){return w.atlas.texture},charStep:function(S,w){return w.atlas.step},em:function(S,w){return w.atlas.em},color:L.prop("color"),opacity:L.prop("opacity"),viewport:L.this("viewportArray"),scale:L.this("scale"),align:L.prop("align"),baseline:L.prop("baseline"),translate:L.this("translate"),positionOffset:L.prop("positionOffset")},primitive:"points",viewport:L.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:L,draw:M,atlas:s}},A.prototype.update=function(L){var M=this;if(typeof L=="string")L={text:L};else if(!L)return;L=P(L,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),L.opacity!=null&&(Array.isArray(L.opacity)?this.opacity=L.opacity.map(function(Pe){return parseFloat(Pe)}):this.opacity=parseFloat(L.opacity)),L.viewport!=null&&(this.viewport=t(L.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),L.kerning!=null&&(this.kerning=L.kerning),L.offset!=null&&(typeof L.offset=="number"&&(L.offset=[L.offset,0]),this.positionOffset=c(L.offset)),L.direction&&(this.direction=L.direction),L.range&&(this.range=L.range,this.scale=[1/(L.range[2]-L.range[0]),1/(L.range[3]-L.range[1])],this.translate=[-L.range[0],-L.range[1]]),L.scale&&(this.scale=L.scale),L.translate&&(this.translate=L.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!L.font&&(L.font=A.baseFontSize+"px sans-serif");var s=!1,S=!1;if(L.font&&(Array.isArray(L.font)?L.font:[L.font]).forEach(function(Pe,Ge){if(typeof Pe=="string")try{Pe=d.parse(Pe)}catch{Pe=d.parse(A.baseFontSize+"px "+Pe)}else{var Ze=Pe.style,it=Pe.weight,Je=Pe.stretch,et=Pe.variant;Pe=d.parse(d.stringify(Pe)),Ze&&(Pe.style=Ze),it&&(Pe.weight=it),Je&&(Pe.stretch=Je),et&&(Pe.variant=et)}var ft=d.stringify({size:A.baseFontSize,family:Pe.family,stretch:g?Pe.stretch:void 0,variant:Pe.variant,weight:Pe.weight,style:Pe.style}),vt=a(Pe.size),dt=Math.round(vt[0]*u(vt[1]));if(dt!==M.fontSize[Ge]&&(S=!0,M.fontSize[Ge]=dt),(!M.font[Ge]||ft!=M.font[Ge].baseString)&&(s=!0,M.font[Ge]=A.fonts[ft],!M.font[Ge])){var xt=Pe.family.join(", "),Mt=[Pe.style];Pe.style!=Pe.variant&&Mt.push(Pe.variant),Pe.variant!=Pe.weight&&Mt.push(Pe.weight),g&&Pe.weight!=Pe.stretch&&Mt.push(Pe.stretch),M.font[Ge]={baseString:ft,family:xt,weight:Pe.weight,stretch:Pe.stretch,style:Pe.style,variant:Pe.variant,width:{},kerning:{},metrics:y(xt,{origin:"top",fontSize:A.baseFontSize,fontStyle:Mt.join(" ")})},A.fonts[ft]=M.font[Ge]}}),(s||S)&&this.font.forEach(function(Pe,Ge){var Ze=d.stringify({size:M.fontSize[Ge],family:Pe.family,stretch:g?Pe.stretch:void 0,variant:Pe.variant,weight:Pe.weight,style:Pe.style});if(M.fontAtlas[Ge]=M.shader.atlas[Ze],!M.fontAtlas[Ge]){var it=Pe.metrics;M.shader.atlas[Ze]=M.fontAtlas[Ge]={fontString:Ze,step:Math.ceil(M.fontSize[Ge]*it.bottom*.5)*2,em:M.fontSize[Ge],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}}L.text==null&&(L.text=M.text)}),typeof L.text=="string"&&L.position&&L.position.length>2){for(var w=Array(L.position.length*.5),_=0;_<w.length;_++)w[_]=L.text;L.text=w}var I;if(L.text!=null||s){if(this.textOffsets=[0],Array.isArray(L.text)){this.count=L.text[0].length,this.counts=[this.count];for(var H=1;H<L.text.length;H++)this.textOffsets[H]=this.textOffsets[H-1]+L.text[H-1].length,this.count+=L.text[H].length,this.counts.push(L.text[H].length);this.text=L.text.join("")}else this.text=L.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(Pe,Ge){A.atlasContext.font=Pe.baseString;for(var Ze=M.fontAtlas[Ge],it=0;it<M.text.length;it++){var Je=M.text.charAt(it);if(Ze.ids[Je]==null&&(Ze.ids[Je]=Ze.chars.length,Ze.chars.push(Je),I.push(Je)),Pe.width[Je]==null&&(Pe.width[Je]=A.atlasContext.measureText(Je).width/A.baseFontSize,M.kerning)){var et=[];for(var ft in Pe.width)et.push(ft+Je,Je+ft);l(Pe.kerning,f(Pe.family,{pairs:et}))}}})}if(L.position)if(L.position.length>2){for(var O=!L.position[0].length,V=r.mallocFloat(this.count*2),B=0,F=0;B<this.counts.length;B++){var G=this.counts[B];if(O)for(var Y=0;Y<G;Y++)V[F++]=L.position[B*2],V[F++]=L.position[B*2+1];else for(var Q=0;Q<G;Q++)V[F++]=L.position[B][0],V[F++]=L.position[B][1]}this.position.call?this.position({type:"float",data:V}):this.position=this.regl.buffer({type:"float",data:V}),r.freeFloat(V)}else this.position.destroy&&this.position.destroy(),this.position={constant:L.position};if(L.text||s){var te=r.mallocUint8(this.count),ae=r.mallocFloat(this.count*2);this.textWidth=[];for(var fe=0,oe=0;fe<this.counts.length;fe++){for(var J=this.counts[fe],ee=this.font[fe]||this.font[0],X=this.fontAtlas[fe]||this.fontAtlas[0],q=0;q<J;q++){var le=this.text.charAt(oe),$=this.text.charAt(oe-1);if(te[oe]=X.ids[le],ae[oe*2]=ee.width[le],q){var j=ae[oe*2-2],se=ae[oe*2],ne=ae[oe*2-1],he=ne+j*.5+se*.5;if(this.kerning){var me=ee.kerning[$+le];me&&(he+=me*.001)}ae[oe*2+1]=he}else ae[oe*2+1]=ae[oe*2]*.5;oe++}this.textWidth.push(ae.length?ae[oe*2-2]*.5+ae[oe*2-1]:0)}L.align||(L.align=this.align),this.charBuffer({data:te,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ae,type:"float",usage:"stream"}),r.freeUint8(te),r.freeFloat(ae),I.length&&this.font.forEach(function(Pe,Ge){var Ze=M.fontAtlas[Ge],it=Ze.step,Je=Math.floor(A.maxAtlasSize/it),et=Math.min(Je,Ze.chars.length),ft=Math.ceil(Ze.chars.length/et),vt=h(et*it),dt=h(ft*it);Ze.width=vt,Ze.height=dt,Ze.rows=ft,Ze.cols=et,Ze.em&&Ze.texture({data:p({canvas:A.atlasCanvas,font:Ze.fontString,chars:Ze.chars,shape:[vt,dt],step:[it,it]})})})}if(L.align&&(this.align=L.align,this.alignOffset=this.textWidth.map(function(Pe,Ge){var Ze=Array.isArray(M.align)?M.align.length>1?M.align[Ge]:M.align[0]:M.align;if(typeof Ze=="number")return Ze;switch(Ze){case"right":case"end":return-Pe;case"center":case"centre":case"middle":return-Pe*.5}return 0})),this.baseline==null&&L.baseline==null&&(L.baseline=0),L.baseline!=null&&(this.baseline=L.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Pe,Ge){var Ze=(M.font[Ge]||M.font[0]).metrics,it=0;return it+=Ze.bottom*.5,typeof Pe=="number"?it+=Pe-Ze.baseline:it+=-Ze[Pe],it*=-1,it})),L.color!=null)if(L.color||(L.color="transparent"),typeof L.color=="string"||!isNaN(L.color))this.color=v(L.color,"uint8");else{var we;if(typeof L.color[0]=="number"&&L.color.length>this.counts.length){var Te=L.color.length;we=r.mallocUint8(Te);for(var Le=(L.color.subarray||L.color.slice).bind(L.color),Ie=0;Ie<Te;Ie+=4)we.set(v(Le(Ie,Ie+4),"uint8"),Ie)}else{var ze=L.color.length;we=r.mallocUint8(ze*4);for(var Me=0;Me<ze;Me++)we.set(v(L.color[Me]||0,"uint8"),Me*4)}this.color=we}if(L.position||L.text||L.color||L.baseline||L.align||L.font||L.offset||L.opacity){var _e=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(_e){var Ce=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ce);for(var Oe=0;Oe<this.batch.length;Oe++)this.batch[Oe]={count:this.counts.length>1?this.counts[Oe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Oe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Oe*4,Oe*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Oe]:this.opacity,baseline:this.baselineOffset[Oe]!=null?this.baselineOffset[Oe]:this.baselineOffset[0],align:this.align?this.alignOffset[Oe]!=null?this.alignOffset[Oe]:this.alignOffset[0]:0,atlas:this.fontAtlas[Oe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Oe*2,Oe*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function R(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}U.exports=A},55212:function(U,N,e){var d=e(55616);U.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},n(r)?r={container:r}:C(r)?r={container:r}:x(r)?r={gl:r}:r=d(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}n(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(o){try{r.gl=r.canvas.getContext(o,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function n(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function C(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function x(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(U){U.exports=function(N){typeof N=="string"&&(N=[N]);for(var e=[].slice.call(arguments,1),d=[],P=0;P<N.length-1;P++)d.push(N[P],e[P]||"");return d.push(N[P]),d.join("")}},2304:function(U,N,e){var d=e(53664),P=d("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}U.exports=P},52264:function(U,N,e){var d=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=d,U.exports=P},89184:function(U,N,e){var d=e(24200);function P(){var n=!1;try{var C=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{n=!1}return n}U.exports=d&&P()},39640:function(U,N,e){var d=e(53664),P=d("%Object.defineProperty%",!0),n=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},U.exports=n},69572:function(U){var N={foo:{}},e=Object;U.exports=function(){return{__proto__:N}.foo===N.foo&&!({__proto__:null}instanceof e)}},71080:function(U,N,e){var d=typeof Symbol<"u"&&Symbol,P=e(89320);U.exports=function(){return typeof d!="function"||typeof Symbol!="function"||typeof d("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(U){U.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},d=Symbol("test"),P=Object(d);if(typeof d=="string"||Object.prototype.toString.call(d)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var n=42;e[d]=n;for(d in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==d||!Object.prototype.propertyIsEnumerable.call(e,d))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var x=Object.getOwnPropertyDescriptor(e,d);if(x.value!==n||x.enumerable!==!0)return!1}return!0}},46672:function(U,N,e){var d=e(89320);U.exports=function(){return d()&&!!Symbol.toStringTag}},92064:function(U,N,e){var d=Function.prototype.call,P=Object.prototype.hasOwnProperty,n=e(8844);U.exports=n.call(d,P)},35984:function(U,N){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */N.read=function(e,d,P,n,C){var x,v,p=C*8-n-1,r=(1<<p)-1,t=r>>1,o=-7,a=P?C-1:0,u=P?-1:1,f=e[d+a];for(a+=u,x=f&(1<<-o)-1,f>>=-o,o+=p;o>0;x=x*256+e[d+a],a+=u,o-=8);for(v=x&(1<<-o)-1,x>>=-o,o+=n;o>0;v=v*256+e[d+a],a+=u,o-=8);if(x===0)x=1-t;else{if(x===r)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,n),x=x-t}return(f?-1:1)*v*Math.pow(2,x-n)},N.write=function(e,d,P,n,C,x){var v,p,r,t=x*8-C-1,o=(1<<t)-1,a=o>>1,u=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:x-1,l=n?1:-1,y=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(p=isNaN(d)?1:0,v=o):(v=Math.floor(Math.log(d)/Math.LN2),d*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+a>=1?d+=u/r:d+=u*Math.pow(2,1-a),d*r>=2&&(v++,r/=2),v+a>=o?(p=0,v=o):v+a>=1?(p=(d*r-1)*Math.pow(2,C),v=v+a):(p=d*Math.pow(2,a-1)*Math.pow(2,C),v=0));C>=8;e[P+f]=p&255,f+=l,p/=256,C-=8);for(v=v<<C|p,t+=C;t>0;e[P+f]=v&255,f+=l,v/=256,t-=8);e[P+f-l]|=y*128}},6768:function(U){typeof Object.create=="function"?U.exports=function(e,d){d&&(e.super_=d,e.prototype=Object.create(d.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:U.exports=function(e,d){if(d){e.super_=d;var P=function(){};P.prototype=d.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(U,N,e){var d=e(46672)(),P=e(99676),n=P("Object.prototype.toString"),C=function(r){return d&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:n(r)==="[object Arguments]"},x=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&n(r)!=="[object Array]"&&n(r.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=x,U.exports=v?C:x},24200:function(U){U.exports=!0},90720:function(U){var N=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,d,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{d=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,d)}catch(T){T!==P&&(e=null)}else e=null;var n=/^\s*class\b/,C=function(h){try{var i=N.call(h);return n.test(i)}catch{return!1}},x=function(h){try{return C(h)?!1:(N.call(h),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",o="[object HTMLAllCollection]",a="[object HTML document.all class]",u="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(y=function(h){if((l||!h)&&(typeof h>"u"||typeof h=="object"))try{var i=v.call(h);return(i===o||i===a||i===u||i===p)&&h("")==null}catch{}return!1})}U.exports=e?function(h){if(y(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,d)}catch(i){if(i!==P)return!1}return!C(h)&&x(h)}:function(h){if(y(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(f)return x(h);if(C(h))return!1;var i=v.call(h);return i!==r&&i!==t&&!/^\[object HTML/.test(i)?!1:x(h)}},84420:function(U,N,e){var d=Object.prototype.toString,P=Function.prototype.toString,n=/^\s*(?:function)?\*/,C=e(46672)(),x=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},p;U.exports=function(t){if(typeof t!="function")return!1;if(n.test(P.call(t)))return!0;if(!C){var o=d.call(t);return o==="[object GeneratorFunction]"}if(!x)return!1;if(typeof p>"u"){var a=v();p=a?x(a):!1}return x(t)===p}},96604:function(U){U.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(U){U.exports=function(e){return e!==e}},1560:function(U,N,e){var d=e(57916),P=e(81288),n=e(85992),C=e(57740),x=e(59736),v=d(C(),Number);P(v,{getPolyfill:C,implementation:n,shim:x}),U.exports=v},57740:function(U,N,e){var d=e(85992);U.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:d}},59736:function(U,N,e){var d=e(81288),P=e(57740);U.exports=function(){var C=P();return d(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},18400:function(U){U.exports=function(N){var e=typeof N;return N!==null&&(e==="object"||e==="function")}},58908:function(U){var N=Object.prototype.toString;U.exports=function(e){var d;return N.call(e)==="[object Object]"&&(d=Object.getPrototypeOf(e),d===null||d===Object.getPrototypeOf({}))}},94576:function(U){U.exports=function(N){for(var e=N.length,d,P=0;P<e;P++)if(d=N.charCodeAt(P),(d<9||d>13)&&d!==32&&d!==133&&d!==160&&d!==5760&&d!==6158&&(d<8192||d>8205)&&d!==8232&&d!==8233&&d!==8239&&d!==8287&&d!==8288&&d!==12288&&d!==65279)return!1;return!0}},53520:function(U){U.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(U,N,e){var d=e(46492),P=e(63436),n=e(99676),C=n("Object.prototype.toString"),x=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=n("Array.prototype.indexOf",!0)||function(y,c){for(var T=0;T<y.length;T+=1)if(y[T]===c)return T;return-1},o=n("String.prototype.slice"),a={},u=Object.getPrototypeOf;x&&v&&u&&d(r,function(l){var y=new p[l];if(Symbol.toStringTag in y){var c=u(y),T=v(c,Symbol.toStringTag);if(!T){var h=u(c);T=v(h,Symbol.toStringTag)}a[l]=T.get}});var f=function(y){var c=!1;return d(a,function(T,h){if(!c)try{c=T.call(y)===h}catch{}}),c};U.exports=function(y){if(!y||typeof y!="object")return!1;if(!x||!(Symbol.toStringTag in y)){var c=o(C(y),8,-1);return t(r,c)>-1}return v?f(y):!1}},76244:function(U){U.exports=Math.log2||function(N){return Math.log(N)*Math.LOG2E}},62644:function(U,N,e){U.exports=P;var d=e(93784);function P(n,C){C||(C=n,n=window);var x=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function o(b){var A=!1;return"altKey"in b&&(A=A||b.altKey!==r.alt,r.alt=!!b.altKey),"shiftKey"in b&&(A=A||b.shiftKey!==r.shift,r.shift=!!b.shiftKey),"ctrlKey"in b&&(A=A||b.ctrlKey!==r.control,r.control=!!b.ctrlKey),"metaKey"in b&&(A=A||b.metaKey!==r.meta,r.meta=!!b.metaKey),A}function a(b,A){var R=d.x(A),m=d.y(A);"buttons"in A&&(b=A.buttons|0),(b!==x||R!==v||m!==p||o(A))&&(x=b|0,v=R||0,p=m||0,C&&C(x,v,p,r))}function u(b){a(0,b)}function f(){(x||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,x=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function l(b){o(b)&&C&&C(x,v,p,r)}function y(b){d.buttons(b)===0?a(0,b):a(x,b)}function c(b){a(x|d.buttons(b),b)}function T(b){a(x&~d.buttons(b),b)}function h(){t||(t=!0,n.addEventListener("mousemove",y),n.addEventListener("mousedown",c),n.addEventListener("mouseup",T),n.addEventListener("mouseleave",u),n.addEventListener("mouseenter",u),n.addEventListener("mouseout",u),n.addEventListener("mouseover",u),n.addEventListener("blur",f),n.addEventListener("keyup",l),n.addEventListener("keydown",l),n.addEventListener("keypress",l),n!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function i(){t&&(t=!1,n.removeEventListener("mousemove",y),n.removeEventListener("mousedown",c),n.removeEventListener("mouseup",T),n.removeEventListener("mouseleave",u),n.removeEventListener("mouseenter",u),n.removeEventListener("mouseout",u),n.removeEventListener("mouseover",u),n.removeEventListener("blur",f),n.removeEventListener("keyup",l),n.removeEventListener("keydown",l),n.removeEventListener("keypress",l),n!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}h();var g={element:n};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(b){b?h():i()},enumerable:!0},buttons:{get:function(){return x},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),g}},29128:function(U){var N={left:0,top:0};U.exports=e;function e(P,n,C){n=n||P.currentTarget||P.srcElement,Array.isArray(C)||(C=[0,0]);var x=P.clientX||0,v=P.clientY||0,p=d(n);return C[0]=x-p.left,C[1]=v-p.top,C}function d(P){return P===window||P===document||P===document.body?N:P.getBoundingClientRect()}},93784:function(U,N){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var x=C.which;if(x===2)return 4;if(x===3)return 2;if(x>0)return 1<<x-1}else if("button"in C){var x=C.button;if(x===1)return 4;if(x===2)return 2;if(x>=0)return 1<<x}}return 0}N.buttons=e;function d(C){return C.target||C.srcElement||window}N.element=d;function P(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var x=d(C),v=x.getBoundingClientRect();return C.clientX-v.left}return 0}N.x=P;function n(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var x=d(C),v=x.getBoundingClientRect();return C.clientY-v.top}return 0}N.y=n},97264:function(U,N,e){var d=e(23464);U.exports=P;function P(n,C,x){typeof n=="function"&&(x=!!C,C=n,n=window);var v=d("ex",n),p=function(r){x&&r.preventDefault();var t=r.deltaX||0,o=r.deltaY||0,a=r.deltaZ||0,u=r.deltaMode,f=1;switch(u){case 1:f=v;break;case 2:f=window.innerHeight;break}if(t*=f,o*=f,a*=f,t||o||a)return C(t,o,a,r)};return n.addEventListener("wheel",p),p}},88324:function(U,N,e){var d;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,C,x){C[n]=C[n]||x(),U.exports?U.exports=C[n]:(d=(function(){return C[n]}).call(N,e,N,U),d!==void 0&&(U.exports=d))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,C,x,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(g){return setImmediate(g)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(g,b,A,R){return Object.defineProperty(g,b,{value:A,writable:!0,configurable:R!==!1})}}catch{n=function(b,A,R){return b[A]=R,b}}x=function(){var g,b,A;function R(m,L){this.fn=m,this.self=L,this.next=void 0}return{add:function(L,M){A=new R(L,M),b?b.next=A:g=A,b=A,A=void 0},drain:function(){var L=g;for(g=b=C=void 0;L;)L.fn.call(L.self),L=L.next}}}();function r(i,g){x.add(i,g),C||(C=p(x.drain))}function t(i){var g,b=typeof i;return i!=null&&(b=="object"||b=="function")&&(g=i.then),typeof g=="function"?g:!1}function o(){for(var i=0;i<this.chain.length;i++)a(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function a(i,g,b){var A,R;try{g===!1?b.reject(i.msg):(g===!0?A=i.msg:A=g.call(void 0,i.msg),A===b.promise?b.reject(TypeError("Promise-chain cycle")):(R=t(A))?R.call(A,b.resolve,b.reject):b.resolve(A))}catch(m){b.reject(m)}}function u(i){var g,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(g=t(i))?r(function(){var A=new y(b);try{g.call(i,function(){u.apply(A,arguments)},function(){f.apply(A,arguments)})}catch(R){f.call(A,R)}}):(b.msg=i,b.state=1,b.chain.length>0&&r(o,b))}catch(A){f.call(new y(b),A)}}}function f(i){var g=this;g.triggered||(g.triggered=!0,g.def&&(g=g.def),g.msg=i,g.state=2,g.chain.length>0&&r(o,g))}function l(i,g,b,A){for(var R=0;R<g.length;R++)(function(L){i.resolve(g[L]).then(function(s){b(L,s)},A)})(R)}function y(i){this.def=i,this.triggered=!1}function c(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var g=new c(this);this.then=function(A,R){var m={success:typeof A=="function"?A:!0,failure:typeof R=="function"?R:!1};return m.promise=new this.constructor(function(M,s){if(typeof M!="function"||typeof s!="function")throw TypeError("Not a function");m.resolve=M,m.reject=s}),g.chain.push(m),g.state!==0&&r(o,g),m.promise},this.catch=function(A){return this.then(void 0,A)};try{i.call(void 0,function(A){u.call(g,A)},function(A){f.call(g,A)})}catch(b){f.call(g,b)}}var h=n({},"constructor",T,!1);return T.prototype=h,n(h,"__NPO__",0,!1),n(T,"resolve",function(g){var b=this;return g&&typeof g=="object"&&g.__NPO__===1?g:new b(function(R,m){if(typeof R!="function"||typeof m!="function")throw TypeError("Not a function");R(g)})}),n(T,"reject",function(g){return new this(function(A,R){if(typeof A!="function"||typeof R!="function")throw TypeError("Not a function");R(g)})}),n(T,"all",function(g){var b=this;return v.call(g)!="[object Array]"?b.reject(TypeError("Not an array")):g.length===0?b.resolve([]):new b(function(R,m){if(typeof R!="function"||typeof m!="function")throw TypeError("Not a function");var L=g.length,M=Array(L),s=0;l(b,g,function(w,_){M[w]=_,++s===L&&R(M)},m)})}),n(T,"race",function(g){var b=this;return v.call(g)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(R,m){if(typeof R!="function"||typeof m!="function")throw TypeError("Not a function");l(b,g,function(M,s){R(s)},m)})}),T})},48816:function(U){var N=Math.PI,e=v(120);U.exports=d;function d(p){for(var r,t=[],o=0,a=0,u=0,f=0,l=null,y=null,c=0,T=0,h=0,i=p.length;h<i;h++){var g=p[h],b=g[0];switch(b){case"M":u=g[1],f=g[2];break;case"A":g=C(c,T,g[1],g[2],v(g[3]),g[4],g[5],g[6],g[7]),g.unshift("C"),g.length>7&&(t.push(g.splice(0,7)),g.unshift("C"));break;case"S":var A=c,R=T;(r=="C"||r=="S")&&(A+=A-o,R+=R-a),g=["C",A,R,g[1],g[2],g[3],g[4]];break;case"T":r=="Q"||r=="T"?(l=c*2-l,y=T*2-y):(l=c,y=T),g=n(c,T,l,y,g[1],g[2]);break;case"Q":l=g[1],y=g[2],g=n(c,T,g[1],g[2],g[3],g[4]);break;case"L":g=P(c,T,g[1],g[2]);break;case"H":g=P(c,T,g[1],T);break;case"V":g=P(c,T,c,g[1]);break;case"Z":g=P(c,T,u,f);break}r=b,c=g[g.length-2],T=g[g.length-1],g.length>4?(o=g[g.length-4],a=g[g.length-3]):(o=c,a=T),t.push(g)}return t}function P(p,r,t,o){return["C",p,r,t,o,t,o]}function n(p,r,t,o,a,u){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*o,a/3+.6666666666666666*t,u/3+.6666666666666666*o,a,u]}function C(p,r,t,o,a,u,f,l,y,c){if(c)M=c[0],s=c[1],m=c[2],L=c[3];else{var T=x(p,r,-a);p=T.x,r=T.y,T=x(l,y,-a),l=T.x,y=T.y;var h=(p-l)/2,i=(r-y)/2,g=h*h/(t*t)+i*i/(o*o);g>1&&(g=Math.sqrt(g),t=g*t,o=g*o);var b=t*t,A=o*o,R=(u==f?-1:1)*Math.sqrt(Math.abs((b*A-b*i*i-A*h*h)/(b*i*i+A*h*h)));R==1/0&&(R=1);var m=R*t*i/o+(p+l)/2,L=R*-o*h/t+(r+y)/2,M=Math.asin(((r-L)/o).toFixed(9)),s=Math.asin(((y-L)/o).toFixed(9));M=p<m?N-M:M,s=l<m?N-s:s,M<0&&(M=N*2+M),s<0&&(s=N*2+s),f&&M>s&&(M=M-N*2),!f&&s>M&&(s=s-N*2)}if(Math.abs(s-M)>e){var S=s,w=l,_=y;s=M+e*(f&&s>M?1:-1),l=m+t*Math.cos(s),y=L+o*Math.sin(s);var I=C(l,y,t,o,a,0,f,w,_,[s,S,m,L])}var H=Math.tan((s-M)/4),O=4/3*t*H,V=4/3*o*H,B=[2*p-(p+O*Math.sin(M)),2*r-(r-V*Math.cos(M)),l+O*Math.sin(s),y-V*Math.cos(s),l,y];if(c)return B;I&&(B=B.concat(I));for(var F=0;F<B.length;){var G=x(B[F],B[F+1],a);B[F++]=G.x,B[F++]=G.y}return B}function x(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(N/180)}},50896:function(U){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var N=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function P(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function n(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var x={},v=0;v<10;v++)x["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(x).map(function(t){return x[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}U.exports=n()?Object.assign:function(C,x){for(var v,p=P(C),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var o in v)e.call(v,o)&&(p[o]=v[o]);if(N){r=N(v);for(var a=0;a<r.length;a++)d.call(v,r[a])&&(p[r[a]]=v[r[a]])}}return p}},76835:function(U){var N=function(e){return e!==e};U.exports=function(d,P){return d===0&&P===0?1/d===1/P:!!(d===P||N(d)&&N(P))}},39896:function(U,N,e){var d=e(81288),P=e(57916),n=e(76835),C=e(66148),x=e(16408),v=P(C(),Object);d(v,{getPolyfill:C,implementation:n,shim:x}),U.exports=v},66148:function(U,N,e){var d=e(76835);U.exports=function(){return typeof Object.is=="function"?Object.is:d}},16408:function(U,N,e){var d=e(66148),P=e(81288);U.exports=function(){var C=d();return P(Object,{is:C},{is:function(){return Object.is!==C}}),C}},32764:function(U,N,e){var d;if(!Object.keys){var P=Object.prototype.hasOwnProperty,n=Object.prototype.toString,C=e(97344),x=Object.prototype.propertyIsEnumerable,v=!x.call({toString:null},"toString"),p=x.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(f){var l=f.constructor;return l&&l.prototype===f},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!o["$"+f]&&P.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{t(window[f])}catch{return!0}}catch{return!0}return!1}(),u=function(f){if(typeof window>"u"||!a)return t(f);try{return t(f)}catch{return!1}};d=function(l){var y=l!==null&&typeof l=="object",c=n.call(l)==="[object Function]",T=C(l),h=y&&n.call(l)==="[object String]",i=[];if(!y&&!c&&!T)throw new TypeError("Object.keys called on a non-object");var g=p&&c;if(h&&l.length>0&&!P.call(l,0))for(var b=0;b<l.length;++b)i.push(String(b));if(T&&l.length>0)for(var A=0;A<l.length;++A)i.push(String(A));else for(var R in l)!(g&&R==="prototype")&&P.call(l,R)&&i.push(String(R));if(v)for(var m=u(l),L=0;L<r.length;++L)!(m&&r[L]==="constructor")&&P.call(l,r[L])&&i.push(r[L]);return i}}U.exports=d},41820:function(U,N,e){var d=Array.prototype.slice,P=e(97344),n=Object.keys,C=n?function(p){return n(p)}:e(32764),x=Object.keys;C.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?x(d.call(t)):x(t)})}else Object.keys=C;return Object.keys||C},U.exports=C},97344:function(U){var N=Object.prototype.toString;U.exports=function(d){var P=N.call(d),n=P==="[object Arguments]";return n||(n=P!=="[object Array]"&&d!==null&&typeof d=="object"&&typeof d.length=="number"&&d.length>=0&&N.call(d.callee)==="[object Function]"),n}},32868:function(U){function N(P,n){if(typeof P!="string")return[P];var C=[P];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var x=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],v=n.escape||"___",p=!!n.flat;x.forEach(function(o){var a=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),u=[];function f(l,y,c){var T=C.push(l.slice(o[0].length,-o[1].length))-1;return u.push(T),v+T+v}C.forEach(function(l,y){for(var c,T=0;l!=c;)if(c=l,l=l.replace(a,f),T++>1e4)throw Error("References have circular dependency. Please, check them.");C[y]=l}),u=u.reverse(),C=C.map(function(l){return u.forEach(function(y){l=l.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),o[0]+"$1"+o[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(o,a,u){for(var f=[],l,y=0;l=r.exec(o);){if(y++>1e4)throw Error("Circular references in parenthesis");f.push(o.slice(0,l.index)),f.push(t(a[l[1]],a)),o=o.slice(l.index+l[0].length)}return f.push(o),f}return p?C:t(C[0],C)}function e(P,n){if(n&&n.flat){var C=n&&n.escape||"___",x=P[0],v;if(!x)return"";for(var p=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;x!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=x,x=x.replace(p,t)}return x}return P.reduce(function o(a,u){return Array.isArray(u)&&(u=u.reduce(o,"")),a+u},"");function t(o,a){if(P[a]==null)throw Error("Reference "+a+"is undefined");return P[a]}}function d(P,n){return Array.isArray(P)?e(P,n):N(P,n)}d.parse=N,d.stringify=e,U.exports=d},51160:function(U,N,e){var d=e(55616);U.exports=P;function P(n){var C;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?C={width:n[0],height:n[0],x:0,y:0}:n.length===2?C={width:n[0],height:n[1],x:0,y:0}:C={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=d(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:n.left||0,y:n.top||0},n.width==null?n.right?C.width=n.right-C.x:C.width=0:C.width=n.width,n.height==null?n.bottom?C.height=n.bottom-C.y:C.height=0:C.height=n.height),C}},21984:function(U){U.exports=d;var N={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function d(C){var x=[];return C.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=n(r),t=="m"&&r.length>2&&(x.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==N[t])return r.unshift(p),x.push(r);if(r.length<N[t])throw new Error("malformed path data");x.push([p].concat(r.splice(0,N[t])))}}),x}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(C){var x=C.match(P);return x?x.map(Number):[]}},65819:function(U){U.exports=function(e,d){d||(d=[0,""]),e=String(e);var P=parseFloat(e,10);return d[0]=P,d[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",d}},41984:function(U,N,e){var d=e(4168);(function(){var P,n,C,x,v,p;typeof performance<"u"&&performance!==null&&performance.now?U.exports=function(){return performance.now()}:typeof d<"u"&&d!==null&&d.hrtime?(U.exports=function(){return(P()-v)/1e6},n=d.hrtime,P=function(){var r;return r=n(),r[0]*1e9+r[1]},x=P(),p=d.uptime()*1e9,v=x-p):Date.now?(U.exports=function(){return Date.now()-C},C=Date.now()):(U.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},55616:function(U){U.exports=function(P,n,C){var x={},v,p;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var r={};for(p=0;p<n.length;p++)r[n[p]]=!0;n=r}for(v in n)n[v]=e(n[v]);var t={};for(v in n){var o=n[v];if(Array.isArray(o))for(p=0;p<o.length;p++){var a=o[p];if(C&&(t[a]=!0),a in P){if(x[v]=P[a],C)for(var u=p;u<o.length;u++)t[o[u]]=!0;break}}else v in P&&(n[v]&&(x[v]=P[v]),C&&(t[v]=!0))}if(C)for(v in P)t[v]||(x[v]=P[v]);return x};var N={};function e(d){return N[d]?N[d]:(typeof d=="string"&&(d=N[d]=d.split(/\s*,\s*|\s+/)),d)}},61456:function(U){U.exports=function(e,d,P,n){var C=e[0],x=e[1],v=!1;P===void 0&&(P=0),n===void 0&&(n=d.length);for(var p=n-P,r=0,t=p-1;r<p;t=r++){var o=d[r+P][0],a=d[r+P][1],u=d[t+P][0],f=d[t+P][1],l=a>x!=f>x&&C<(u-o)*(x-a)/(f-a)+o;l&&(v=!v)}return v}},14756:function(U,N,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var d=e(7688),P=e(28648),n=e(72200),C=e(11403),x=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(a){return a===!0?p=d():a===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(a){return r.epsilon(a)},segments:function(a){var u=n(!0,r,p);return a.regions.forEach(u.addRegion),{segments:u.calculate(a.inverted),inverted:a.inverted}},combine:function(a,u){var f=n(!1,r,p);return{combined:f.calculate(a.segments,a.inverted,u.segments,u.inverted),inverted1:a.inverted,inverted2:u.inverted}},selectUnion:function(a){return{segments:x.union(a.combined,p),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:x.intersect(a.combined,p),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:x.difference(a.combined,p),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:x.differenceRev(a.combined,p),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:x.xor(a.combined,p),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:C(a.segments,r,p),inverted:a.inverted}},polygonFromGeoJSON:function(a){return v.toPolygon(t,a)},polygonToGeoJSON:function(a){return v.fromPolygon(t,r,a)},union:function(a,u){return o(a,u,t.selectUnion)},intersect:function(a,u){return o(a,u,t.selectIntersect)},difference:function(a,u){return o(a,u,t.selectDifference)},differenceRev:function(a,u){return o(a,u,t.selectDifferenceRev)},xor:function(a,u){return o(a,u,t.selectXor)}};function o(a,u,f){var l=t.segments(a),y=t.segments(u),c=t.combine(l,y),T=f(c);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),U.exports=t},7688:function(U){function N(){var e,d=0,P=!1;function n(C,x){return e.list.push({type:C,data:x?JSON.parse(JSON.stringify(x)):void 0}),e}return e={list:[],segmentId:function(){return d++},checkIntersection:function(C,x){return n("check",{seg1:C,seg2:x})},segmentChop:function(C,x){return n("div_seg",{seg:C,pt:x}),n("chop",{seg:C,pt:x})},statusRemove:function(C){return n("pop_seg",{seg:C})},segmentUpdate:function(C){return n("seg_update",{seg:C})},segmentNew:function(C,x){return n("new_seg",{seg:C,primary:x})},segmentRemove:function(C){return n("rem_seg",{seg:C})},tempStatus:function(C,x,v){return n("temp_status",{seg:C,above:x,below:v})},rewind:function(C){return n("rewind",{seg:C})},status:function(C,x,v){return n("status",{seg:C,above:x,below:v})},vert:function(C){return C===P?e:(P=C,n("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),n("log",{txt:C})},reset:function(){return n("reset")},selected:function(C){return n("selected",{segs:C})},chainStart:function(C){return n("chain_start",{seg:C})},chainRemoveHead:function(C,x){return n("chain_rem_head",{index:C,pt:x})},chainRemoveTail:function(C,x){return n("chain_rem_tail",{index:C,pt:x})},chainNew:function(C,x){return n("chain_new",{pt1:C,pt2:x})},chainMatch:function(C){return n("chain_match",{index:C})},chainClose:function(C){return n("chain_close",{index:C})},chainAddHead:function(C,x){return n("chain_add_head",{index:C,pt:x})},chainAddTail:function(C,x){return n("chain_add_tail",{index:C,pt:x})},chainConnect:function(C,x){return n("chain_con",{index1:C,index2:x})},chainReverse:function(C){return n("chain_rev",{index:C})},chainJoin:function(C,x){return n("chain_join",{index1:C,index2:x})},done:function(){return n("done")}},e}U.exports=N},28648:function(U){function N(e){typeof e!="number"&&(e=1e-10);var d={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,n,C){var x=n[0],v=n[1],p=C[0],r=C[1],t=P[0],o=P[1];return(p-x)*(o-v)-(r-v)*(t-x)>=-e},pointBetween:function(P,n,C){var x=P[1]-n[1],v=C[0]-n[0],p=P[0]-n[0],r=C[1]-n[1],t=p*v+x*r;if(t<e)return!1;var o=v*v+r*r;return!(t-o>-e)},pointsSameX:function(P,n){return Math.abs(P[0]-n[0])<e},pointsSameY:function(P,n){return Math.abs(P[1]-n[1])<e},pointsSame:function(P,n){return d.pointsSameX(P,n)&&d.pointsSameY(P,n)},pointsCompare:function(P,n){return d.pointsSameX(P,n)?d.pointsSameY(P,n)?0:P[1]<n[1]?-1:1:P[0]<n[0]?-1:1},pointsCollinear:function(P,n,C){var x=P[0]-n[0],v=P[1]-n[1],p=n[0]-C[0],r=n[1]-C[1];return Math.abs(x*r-p*v)<e},linesIntersect:function(P,n,C,x){var v=n[0]-P[0],p=n[1]-P[1],r=x[0]-C[0],t=x[1]-C[1],o=v*t-p*r;if(Math.abs(o)<e)return!1;var a=P[0]-C[0],u=P[1]-C[1],f=(r*u-t*a)/o,l=(v*u-p*a)/o,y={alongA:0,alongB:0,pt:[P[0]+f*v,P[1]+f*p]};return f<=-e?y.alongA=-2:f<e?y.alongA=-1:f-1<=-e?y.alongA=0:f-1<e?y.alongA=1:y.alongA=2,l<=-e?y.alongB=-2:l<e?y.alongB=-1:l-1<=-e?y.alongB=0:l-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(P,n){for(var C=P[0],x=P[1],v=n[n.length-1][0],p=n[n.length-1][1],r=!1,t=0;t<n.length;t++){var o=n[t][0],a=n[t][1];a-x>e!=p-x>e&&(v-o)*(x-a)/(p-a)+o-C>e&&(r=!r),v=o,p=a}return r}};return d}U.exports=N},17792:function(U){var N={toPolygon:function(e,d){function P(x){if(x.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var o=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[o]})}for(var p=v(x[0]),r=1;r<x.length;r++)p=e.selectDifference(e.combine(p,v(x[r])));return p}if(d.type==="Polygon")return e.polygon(P(d.coordinates));if(d.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),C=0;C<d.coordinates.length;C++)n=e.selectUnion(e.combine(n,P(d.coordinates[C])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,d,P){P=e.polygon(e.segments(P));function n(f,l){return d.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],l)}function C(f){return{region:f,children:[]}}var x=C(null);function v(f,l){for(var y=0;y<f.children.length;y++){var c=f.children[y];if(n(l,c.region)){v(c,l);return}}for(var T=C(l),y=0;y<f.children.length;y++){var c=f.children[y];n(c.region,l)&&(T.children.push(c),f.children.splice(y,1),y--)}f.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(x,r)}function t(f,l){for(var y=0,c=f[f.length-1][0],T=f[f.length-1][1],h=[],i=0;i<f.length;i++){var g=f[i][0],b=f[i][1];h.push([g,b]),y+=b*c-g*T,c=g,T=b}var A=y<0;return A!==l&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var o=[];function a(f){var l=[t(f.region,!1)];o.push(l);for(var y=0;y<f.children.length;y++)l.push(u(f.children[y]))}function u(f){for(var l=0;l<f.children.length;l++)a(f.children[l]);return t(f.region,!0)}for(var p=0;p<x.children.length;p++)a(x.children[p]);return o.length<=0?{type:"Polygon",coordinates:[]}:o.length==1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}};U.exports=N},72200:function(U,N,e){var d=e(48088);function P(n,C,x){function v(T,h){return{id:x?x.segmentId():-1,start:T,end:h,myFill:{above:null,below:null},otherFill:null}}function p(T,h,i){return{id:x?x.segmentId():-1,start:T,end:h,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=d.create();function t(T,h,i,g,b,A){var R=C.pointsCompare(h,b);return R!==0?R:C.pointsSame(i,A)?0:T!==g?T?1:-1:C.pointAboveOrOnLine(i,g?b:A,g?A:b)?1:-1}function o(T,h){r.insertBefore(T,function(i){var g=t(T.isStart,T.pt,h,i.isStart,i.pt,i.other.pt);return g<0})}function a(T,h){var i=d.node({isStart:!0,pt:T.start,seg:T,primary:h,other:null,status:null});return o(i,T.end),i}function u(T,h,i){var g=d.node({isStart:!1,pt:h.end,seg:h,primary:i,other:T,status:null});T.other=g,o(g,T.pt)}function f(T,h){var i=a(T,h);return u(i,T,h),i}function l(T,h){x&&x.segmentChop(T.seg,h),T.other.remove(),T.seg.end=h,T.other.pt=h,o(T.other,T.pt)}function y(T,h){var i=p(h,T.seg.end,T.seg);return l(T,h),f(i,T.primary)}function c(T,h){var i=d.create();function g(O,V){var B=O.seg.start,F=O.seg.end,G=V.seg.start,Y=V.seg.end;return C.pointsCollinear(B,G,Y)?C.pointsCollinear(F,G,Y)||C.pointAboveOrOnLine(F,G,Y)?1:-1:C.pointAboveOrOnLine(B,G,Y)?1:-1}function b(O){return i.findTransition(function(V){var B=g(O,V.ev);return B>0})}function A(O,V){var B=O.seg,F=V.seg,G=B.start,Y=B.end,Q=F.start,te=F.end;x&&x.checkIntersection(B,F);var ae=C.linesIntersect(G,Y,Q,te);if(ae===!1){if(!C.pointsCollinear(G,Y,Q)||C.pointsSame(G,te)||C.pointsSame(Y,Q))return!1;var fe=C.pointsSame(G,Q),oe=C.pointsSame(Y,te);if(fe&&oe)return V;var J=!fe&&C.pointBetween(G,Q,te),ee=!oe&&C.pointBetween(Y,Q,te);if(fe)return ee?y(V,Y):y(O,te),V;J&&(oe||(ee?y(V,Y):y(O,te)),y(V,G))}else ae.alongA===0&&(ae.alongB===-1?y(O,Q):ae.alongB===0?y(O,ae.pt):ae.alongB===1&&y(O,te)),ae.alongB===0&&(ae.alongA===-1?y(V,G):ae.alongA===0?y(V,ae.pt):ae.alongA===1&&y(V,Y));return!1}for(var R=[];!r.isEmpty();){var m=r.getHead();if(x&&x.vert(m.pt[0]),m.isStart){let O=function(){if(M){var V=A(m,M);if(V)return V}return s?A(m,s):!1};x&&x.segmentNew(m.seg,m.primary);var L=b(m),M=L.before?L.before.ev:null,s=L.after?L.after.ev:null;x&&x.tempStatus(m.seg,M?M.seg:!1,s?s.seg:!1);var S=O();if(S){if(n){var w;m.seg.myFill.below===null?w=!0:w=m.seg.myFill.above!==m.seg.myFill.below,w&&(S.seg.myFill.above=!S.seg.myFill.above)}else S.seg.otherFill=m.seg.myFill;x&&x.segmentUpdate(S.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){x&&x.rewind(m.seg);continue}if(n){var w;m.seg.myFill.below===null?w=!0:w=m.seg.myFill.above!==m.seg.myFill.below,s?m.seg.myFill.below=s.seg.myFill.above:m.seg.myFill.below=T,w?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var _;s?m.primary===s.primary?_=s.seg.otherFill.above:_=s.seg.myFill.above:_=m.primary?h:T,m.seg.otherFill={above:_,below:_}}x&&x.status(m.seg,M?M.seg:!1,s?s.seg:!1),m.other.status=L.insert(d.node({ev:m}))}else{var I=m.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(I.prev)&&i.exists(I.next)&&A(I.prev.ev,I.next.ev),x&&x.statusRemove(I.ev.seg),I.remove(),!m.primary){var H=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=H}R.push(m.seg)}r.getHead().remove()}return x&&x.done(),R}return n?{addRegion:function(T){for(var h,i=T[T.length-1],g=0;g<T.length;g++){h=i,i=T[g];var b=C.pointsCompare(h,i);b!==0&&f(v(b<0?h:i,b<0?i:h),!0)}},calculate:function(T){return c(T,!1)}}:{calculate:function(T,h,i,g){return T.forEach(function(b){f(p(b.start,b.end,b),!0)}),i.forEach(function(b){f(p(b.start,b.end,b),!1)}),c(h,g)}}}U.exports=P},48088:function(U){var N={create:function(){var e={root:{root:!0,next:null},exists:function(d){return!(d===null||d===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(d,P){for(var n=e.root,C=e.root.next;C!==null;){if(P(C)){d.prev=C.prev,d.next=C,C.prev.next=d,C.prev=d;return}n=C,C=C.next}n.next=d,d.prev=n,d.next=null},findTransition:function(d){for(var P=e.root,n=e.root.next;n!==null&&!d(n);)P=n,n=n.next;return{before:P===e.root?null:P,after:n,insert:function(C){return C.prev=P,C.next=n,P.next=C,n!==null&&(n.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};U.exports=N},11403:function(U){function N(e,d,P){var n=[],C=[];return e.forEach(function(x){var v=x.start,p=x.end;if(d.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(x);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},o=r;function a(S,w,_){return o.index=S,o.matches_head=w,o.matches_pt1=_,o===r?(o=t,!1):(o=null,!0)}for(var u=0;u<n.length;u++){var f=n[u],l=f[0];f[1];var y=f[f.length-1];if(f[f.length-2],d.pointsSame(l,v)){if(a(u,!0,!0))break}else if(d.pointsSame(l,p)){if(a(u,!0,!1))break}else if(d.pointsSame(y,v)){if(a(u,!1,!0))break}else if(d.pointsSame(y,p)&&a(u,!1,!1))break}if(o===r){n.push([v,p]),P&&P.chainNew(v,p);return}if(o===t){P&&P.chainMatch(r.index);var c=r.index,T=r.matches_pt1?p:v,h=r.matches_head,f=n[c],i=h?f[0]:f[f.length-1],g=h?f[1]:f[f.length-2],b=h?f[f.length-1]:f[0],A=h?f[f.length-2]:f[1];if(d.pointsCollinear(g,i,T)&&(h?(P&&P.chainRemoveHead(r.index,T),f.shift()):(P&&P.chainRemoveTail(r.index,T),f.pop()),i=g),d.pointsSame(b,T)){n.splice(c,1),d.pointsCollinear(A,b,i)&&(h?(P&&P.chainRemoveTail(r.index,i),f.pop()):(P&&P.chainRemoveHead(r.index,i),f.shift())),P&&P.chainClose(r.index),C.push(f);return}h?(P&&P.chainAddHead(r.index,T),f.unshift(T)):(P&&P.chainAddTail(r.index,T),f.push(T));return}function R(S){P&&P.chainReverse(S),n[S].reverse()}function m(S,w){var _=n[S],I=n[w],H=_[_.length-1],O=_[_.length-2],V=I[0],B=I[1];d.pointsCollinear(O,H,V)&&(P&&P.chainRemoveTail(S,H),_.pop(),H=O),d.pointsCollinear(H,V,B)&&(P&&P.chainRemoveHead(w,V),I.shift()),P&&P.chainJoin(S,w),n[S]=_.concat(I),n.splice(w,1)}var L=r.index,M=t.index;P&&P.chainConnect(L,M);var s=n[L].length<n[M].length;r.matches_head?t.matches_head?s?(R(L),m(L,M)):(R(M),m(M,L)):m(M,L):t.matches_head?m(L,M):s?(R(L),m(M,L)):(R(M),m(L,M))}),C}U.exports=N},82368:function(U){function N(d,P,n){var C=[];return d.forEach(function(x){var v=(x.myFill.above?8:0)+(x.myFill.below?4:0)+(x.otherFill&&x.otherFill.above?2:0)+(x.otherFill&&x.otherFill.below?1:0);P[v]!==0&&C.push({id:n?n.segmentId():-1,start:x.start,end:x.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),n&&n.selected(C),C}var e={union:function(d,P){return N(d,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(d,P){return N(d,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(d,P){return N(d,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(d,P){return N(d,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(d,P){return N(d,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};U.exports=e},9696:function(U,N,e){var d=e(29936).Transform,P=e(55619);function n(){d.call(this,{readableObjectMode:!0})}n.prototype=Object.create(d.prototype),n.prototype.constructor=n,P(n.prototype),N.gS=function(x,v,p){for(var r=v,t=0;t<p.length;)if(x[r++]!==p[t++])return!1;return!0},N.wR=function(x,v){var p=[],r=0;if(v&&v==="hex")for(;r<x.length;)p.push(parseInt(x.slice(r,r+2),16)),r+=2;else for(;r<x.length;r++)p.push(x.charCodeAt(r)&255);return p},N.Bz=function(x,v){return x[v]|x[v+1]<<8},N.eW=function(x,v){return x[v+1]|x[v]<<8},N.st=function(x,v){return x[v]|x[v+1]<<8|x[v+2]<<16|x[v+3]*16777216},N.eI=function(x,v){return x[v+3]|x[v+2]<<8|x[v+1]<<16|x[v]*16777216};function C(x,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=x,v&&(this.code=v),p&&(this.statusCode=p)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},11688:function(U){function N(P,n){var C=new Error(P);return C.code=n,C}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function d(P,n,C){this.input=P.subarray(n,C),this.start=n;var x=String.fromCharCode.apply(null,this.input.subarray(0,4));if(x!=="II*\0"&&x!=="MM\0*")throw N("invalid TIFF signature","EBADDATA");this.big_endian=x[0]==="M"}d.prototype.each=function(P){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,P)}},d.prototype.read_uint16=function(P){var n=this.input;if(P+2>n.length)throw N("unexpected EOF","EBADDATA");return this.big_endian?n[P]*256+n[P+1]:n[P]+n[P+1]*256},d.prototype.read_uint32=function(P){var n=this.input;if(P+4>n.length)throw N("unexpected EOF","EBADDATA");return this.big_endian?n[P]*16777216+n[P+1]*65536+n[P+2]*256+n[P+3]:n[P]+n[P+1]*256+n[P+2]*65536+n[P+3]*16777216},d.prototype.is_subifd_link=function(P,n){return P===0&&n===34665||P===0&&n===34853||P===34665&&n===40965},d.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},d.prototype.exif_format_read=function(P,n){var C;switch(P){case 1:case 2:return C=this.input[n],C;case 6:return C=this.input[n],C|(C&128)*33554430;case 3:return C=this.read_uint16(n),C;case 8:return C=this.read_uint16(n),C|(C&32768)*131070;case 4:return C=this.read_uint32(n),C;case 9:return C=this.read_uint32(n),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},d.prototype.scan_ifd=function(P,n,C){var x=this.read_uint16(n);n+=2;for(var v=0;v<x;v++){var p=this.read_uint16(n),r=this.read_uint16(n+2),t=this.read_uint32(n+4),o=this.exif_format_length(r),a=t*o,u=a<=4?n+8:this.read_uint32(n+8),f=!1;if(u+a>this.input.length)throw N("unexpected EOF","EBADDATA");for(var l=[],y=u,c=0;c<t;c++,y+=o){var T=this.exif_format_read(r,y);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),f=!0);var h={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:n+this.start,data_length:a,data_offset:u+this.start,value:l,is_subifd_link:f};if(C(h)===!1){this.aborted=!0;return}n+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},U.exports.ExifParser=d,U.exports.get_orientation=function(P){var n=0;try{return new d(P,0,P.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return n=C.value[0],!1}),n}catch{return-1}}},44600:function(U,N,e){var d=e(9696).eW,P=e(9696).eI;function n(a,u){if(a.length<4+u)return null;var f=P(a,u);return a.length<f+u||f<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(u+4,u+8)),data:a.slice(u+8,u+f),end:u+f}}U.exports.unbox=n;function C(a,u){for(var f=0;;){var l=n(a,f);if(!l)break;switch(l.boxtype){case"ispe":u.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":u.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:l.data[0]&1});break}f=l.end}}function x(a,u,f){for(var l=0,y=0;y<f;y++)l=l*256+(a[u+y]||0);return l}function v(a,u){for(var f=a[4]>>4&15,l=a[4]&15,y=a[5]>>4&15,c=d(a,6),T=8,h=0;h<c;h++){var i=d(a,T);T+=2;var g=d(a,T);T+=2;var b=x(a,T,y);T+=y;var A=d(a,T);if(T+=2,g===0&&A===1){var R=x(a,T,f),m=x(a,T+f,l);u.item_loc[i]={length:m,offset:R+b}}T+=A*(f+l)}}function p(a,u){for(var f=d(a,4),l=6,y=0;y<f;y++){var c=n(a,l);if(!c)break;if(c.boxtype==="infe"){for(var T=d(c.data,4),h="",i=8;i<c.data.length&&c.data[i];i++)h+=String.fromCharCode(c.data[i]);u.item_inf[h]=T}l=c.end}}function r(a,u){for(var f=0;;){var l=n(a,f);if(!l)break;l.boxtype==="ipco"&&C(l.data,u),f=l.end}}function t(a,u){for(var f=4;;){var l=n(a,f);if(!l)break;l.boxtype==="iprp"&&r(l.data,u),l.boxtype==="iloc"&&v(l.data,u),l.boxtype==="iinf"&&p(l.data,u),f=l.end}}function o(a){var u=a.reduce(function(y,c){return y.width>c.width||y.width===c.width&&y.height>c.height?y:c}),f=a.reduce(function(y,c){return y.height>c.height||y.height===c.height&&y.width>c.width?y:c}),l;return u.width>f.height||u.width===f.height&&u.height>f.width?l=u:l=f,l}U.exports.readSizeFromMeta=function(a){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(a,u),!!u.sizes.length){var f=o(u.sizes),l=1;u.transforms.forEach(function(c){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?l=h[l]:(l=h[l],l=T[l],l=T[l])),c.type==="irot")for(var i=0;i<c.value;i++)l=T[l]});var y=null;return u.item_inf.Exif&&(y=u.item_loc[u.item_inf.Exif]),{width:f.width,height:f.height,orientation:u.transforms.length?l:null,variants:u.sizes,exif_location:y}}},U.exports.getMimeType=function(a){var u=String.fromCharCode.apply(null,a.slice(0,4)),f={};f[u]=!0;for(var l=8;l<a.length;l+=4)f[String.fromCharCode.apply(null,a.slice(l,l+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).eI,C=e(44600),x=e(11688),v=d("ftyp");U.exports=function(p){if(P(p,4,v)){var r=C.unbox(p,0);if(r){var t=C.getMimeType(r.data);if(t){for(var o,a=r.end;;){var u=C.unbox(p,a);if(!u)break;if(a=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){o=u.data;break}}if(o){var f=C.readSizeFromMeta(o);if(f){var l={width:f.width,height:f.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(l.variants=f.variants),f.orientation&&(l.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=p.length){var y=n(p,f.exif_location.offset),c=p.slice(f.exif_location.offset+y+4,f.exif_location.offset+f.exif_location.length),T=x.get_orientation(c);T>0&&(l.orientation=T)}return l}}}}}}},38728:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).Bz,C=d("BM");U.exports=function(x){if(!(x.length<26)&&P(x,0,C))return{width:n(x,18),height:n(x,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).Bz,C=d("GIF87a"),x=d("GIF89a");U.exports=function(v){if(!(v.length<10)&&!(!P(v,0,C)&&!P(v,0,x)))return{width:n(v,6),height:n(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(U,N,e){var d=e(9696).Bz,P=0,n=1,C=16;U.exports=function(x){var v=d(x,0),p=d(x,2),r=d(x,4);if(!(v!==P||p!==n||!r)){for(var t=[],o={width:0,height:0},a=0;a<r;a++){var u=x[6+C*a]||256,f=x[6+C*a+1]||256,l={width:u,height:f};t.push(l),(u>o.width||f>o.height)&&(o=l)}return{width:o.width,height:o.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(U,N,e){var d=e(9696).eW,P=e(9696).wR,n=e(9696).gS,C=e(11688),x=P("Exif\0\0");U.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=d(v,p)-2,p+=2}else return;if(r===217||r===218)return;var o;if(r===225&&t>=10&&n(v,p,x)&&(o=C.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var a={width:d(v,p+3),height:d(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(a.orientation=o),a}p+=t}}},37276:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).eI,C=d(`PNG\r

`),x=d("IHDR");U.exports=function(v){if(!(v.length<24)&&P(v,0,C)&&P(v,12,x))return{width:n(v,16),height:n(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).eI,C=d("8BPS\0");U.exports=function(x){if(!(x.length<22)&&P(x,0,C))return{width:n(x,18),height:n(x,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(U){function N(o){return o===32||o===9||o===13||o===10}function e(o){return typeof o=="number"&&isFinite(o)&&o>0}function d(o){var a=0,u=o.length;for(o[0]===239&&o[1]===187&&o[2]===191&&(a=3);a<u&&N(o[a]);)a++;return a===u?!1:o[a]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,x=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(o){var a=o.match(C),u=o.match(x),f=o.match(v);return{width:a&&(a[1]||a[2]),height:u&&(u[1]||u[2]),viewbox:f&&(f[1]||f[2])}}function t(o){return p.test(o)?o.match(p)[0]:"px"}U.exports=function(o){if(d(o)){for(var a="",u=0;u<o.length;u++)a+=String.fromCharCode(o[u]);var f=(a.match(P)||[""])[0];if(n.test(f)){var l=r(f),y=parseFloat(l.width),c=parseFloat(l.height);if(l.width&&l.height)return!e(y)||!e(c)?void 0:{width:y,height:c,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),h={width:T[2],height:T[3]},i=parseFloat(h.width),g=parseFloat(h.height);if(!(!e(i)||!e(g))&&t(h.width)===t(h.height)){var b=i/g;return l.width?e(y)?{width:y,height:y/b,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(c)?{width:c*b,height:c,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:i,height:g,type:"svg",mime:"image/svg+xml",wUnits:t(h.width),hUnits:t(h.height)}}}}}},98792:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).Bz,C=e(9696).eW,x=e(9696).st,v=e(9696).eI,p=d("II*\0"),r=d("MM\0*");function t(u,f,l){return l?C(u,f):n(u,f)}function o(u,f,l){return l?v(u,f):x(u,f)}function a(u,f,l){var y=t(u,f+2,l),c=o(u,f+4,l);return c!==1||y!==3&&y!==4?null:y===3?t(u,f+8,l):o(u,f+8,l)}U.exports=function(u){if(!(u.length<8)&&!(!P(u,0,p)&&!P(u,0,r))){var f=u[0]===77,l=o(u,4,f)-8;if(!(l<0)){var y=l+8;if(!(u.length-y<2)){var c=t(u,y+0,f)*12;if(!(c<=0)&&(y+=2,!(u.length-y<c))){var T,h,i,g;for(T=0;T<c;T+=12)g=t(u,y+T,f),g===256?h=a(u,y+T,f):g===257&&(i=a(u,y+T,f));if(h&&i)return{width:h,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(U,N,e){var d=e(9696).wR,P=e(9696).gS,n=e(9696).Bz,C=e(9696).st,x=e(11688),v=d("RIFF"),p=d("WEBP");function r(a,u){if(!(a[u+3]!==157||a[u+4]!==1||a[u+5]!==42))return{width:n(a,u+6)&16383,height:n(a,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(a,u){if(a[u]===47){var f=C(a,u+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function o(a,u){return{width:(a[u+6]<<16|a[u+5]<<8|a[u+4])+1,height:(a[u+9]<<u|a[u+8]<<8|a[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}U.exports=function(a){if(!(a.length<16)&&!(!P(a,0,v)&&!P(a,8,p))){var u=12,f=null,l=0,y=C(a,4)+8;if(!(y>a.length)){for(;u+8<y;){if(a[u]===0){u++;continue}var c=String.fromCharCode.apply(null,a.slice(u,u+4)),T=C(a,u+4);c==="VP8 "&&T>=10?f=f||r(a,u+8):c==="VP8L"&&T>=9?f=f||t(a,u+8):c==="VP8X"&&T>=10?f=f||o(a,u+8):c==="EXIF"&&(l=x.get_orientation(a.slice(u+8,u+8+T)),u=1/0),u+=8+T}if(f)return l>0&&(f.orientation=l),f}}}},87480:function(U,N,e){U.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(U,N,e){var d=e(87480);function P(n){for(var C=Object.keys(d),x=0;x<C.length;x++){var v=d[C[x]](n);if(v)return v}return null}U.exports=function(C){return P(C)},U.exports.parsers=d},4168:function(U){var N=U.exports={},e,d;function P(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?d=clearTimeout:d=n}catch{d=n}})();function C(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function x(l){if(d===clearTimeout)return clearTimeout(l);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(l);try{return d(l)}catch{try{return d.call(null,l)}catch{return d.call(this,l)}}}var v=[],p=!1,r,t=-1;function o(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&a())}function a(){if(!p){var l=C(o);p=!0;for(var y=v.length;y;){for(r=v,v=[];++t<y;)r&&r[t].run();t=-1,y=v.length}r=null,p=!1,x(l)}}N.nextTick=function(l){var y=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)y[c-1]=arguments[c];v.push(new u(l,y)),v.length===1&&!p&&C(a)};function u(l,y){this.fun=l,this.array=y}u.prototype.run=function(){this.fun.apply(null,this.array)},N.title="browser",N.browser=!0,N.env={},N.argv=[],N.version="",N.versions={};function f(){}N.on=f,N.addListener=f,N.once=f,N.off=f,N.removeListener=f,N.removeAllListeners=f,N.emit=f,N.prependListener=f,N.prependOnceListener=f,N.listeners=function(l){return[]},N.binding=function(l){throw new Error("process.binding is not supported")},N.cwd=function(){return"/"},N.chdir=function(l){throw new Error("process.chdir is not supported")},N.umask=function(){return 0}},3951:function(U,N,e){for(var d=e(41984),P=typeof window>"u"?e.g:window,n=["moz","webkit"],C="AnimationFrame",x=P["request"+C],v=P["cancel"+C]||P["cancelRequest"+C],p=0;!x&&p<n.length;p++)x=P[n[p]+"Request"+C],v=P[n[p]+"Cancel"+C]||P[n[p]+"CancelRequest"+C];if(!x||!v){var r=0,t=0,o=[],a=1e3/60;x=function(u){if(o.length===0){var f=d(),l=Math.max(0,a-(f-r));r=l+f,setTimeout(function(){var y=o.slice(0);o.length=0;for(var c=0;c<y.length;c++)if(!y[c].cancelled)try{y[c].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return o.push({handle:++t,callback:u,cancelled:!1}),t},v=function(u){for(var f=0;f<o.length;f++)o[f].handle===u&&(o[f].cancelled=!0)}}U.exports=function(u){return x.call(P,u)},U.exports.cancel=function(){v.apply(P,arguments)},U.exports.polyfill=function(u){u||(u=P),u.requestAnimationFrame=x,u.cancelAnimationFrame=v}},24544:function(U,N,e){var d=e(76752),P=e(72160),n=e(45223),C=e(55616),x=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;U.exports=a;var o=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function a(u,f){if(typeof u=="function"?(f||(f={}),f.regl=u):f=u,f.length&&(f.positions=f),u=f.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=u._gl,y,c,T,h,i,g,b={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return h=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=u.buffer({usage:"static",type:"float",data:o}),M(f),y=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(S,w){return[w.viewport.x,w.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{color:{buffer:h,offset:function(S,w){return w.offset*4},divisor:1},position:{buffer:c,offset:function(S,w){return w.offset*8},divisor:1},positionFract:{buffer:T,offset:function(S,w){return w.offset*8},divisor:1},error:{buffer:i,offset:function(S,w){return w.offset*16},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:o.length}),x(R,{update:M,draw:m,destroy:s,regl:u,gl:l,canvas:l.canvas,groups:A}),R;function R(S){S?M(S):S===null&&s(),m()}function m(S){if(typeof S=="number")return L(S);S&&!Array.isArray(S)&&(S=[S]),u._refresh(),A.forEach(function(w,_){if(w){if(S&&(S[_]?w.draw=!0:w.draw=!1),!w.draw){w.draw=!0;return}L(_)}})}function L(S){typeof S=="number"&&(S=A[S]),S!=null&&S&&S.count&&S.color&&S.opacity&&S.positions&&S.positions.length>1&&(S.scaleRatio=[S.scale[0]*S.viewport.width,S.scale[1]*S.viewport.height],y(S),S.after&&S.after(S))}function M(S){if(S){S.length!=null?typeof S[0]=="number"&&(S=[{positions:S}]):Array.isArray(S)||(S=[S]);var w=0,_=0;if(R.groups=A=S.map(function(G,Y){var Q=A[Y];if(G)typeof G=="function"?G={after:G}:typeof G[0]=="number"&&(G={positions:G});else return Q;return G=C(G,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Q||(A[Y]=Q={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},G=x({},b,G)),n(Q,G,[{lineWidth:function(te){return+te*.5},capSize:function(te){return+te*.5},opacity:parseFloat,errors:function(te){return te=v(te),_+=te.length,te},positions:function(te,ae){return te=v(te,"float64"),ae.count=Math.floor(te.length/2),ae.bounds=d(te,2),ae.offset=w,w+=ae.count,te}},{color:function(te,ae){var fe=ae.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var oe=te;te=Array(fe);for(var J=0;J<fe;J++)te[J]=oe}if(te.length<fe)throw Error("Not enough colors");for(var ee=new Uint8Array(fe*4),X=0;X<fe;X++){var q=P(te[X],"uint8");ee.set(q,X*4)}return ee},range:function(te,ae,fe){var oe=ae.bounds;return te||(te=oe),ae.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],ae.translate=[-te[0],-te[1]],ae.scaleFract=t(ae.scale),ae.translateFract=t(ae.translate),te},viewport:function(te){var ae;return Array.isArray(te)?ae={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(ae={x:te.x||te.left||0,y:te.y||te.top||0},te.right?ae.width=te.right-ae.x:ae.width=te.w||te.width||0,te.bottom?ae.height=te.bottom-ae.y:ae.height=te.h||te.height||0):ae={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ae}}]),Q}),w||_){var I=A.reduce(function(G,Y,Q){return G+(Y?Y.count:0)},0),H=new Float64Array(I*2),O=new Uint8Array(I*4),V=new Float32Array(I*4);A.forEach(function(G,Y){if(G){var Q=G.positions,te=G.count,ae=G.offset,fe=G.color,oe=G.errors;te&&(O.set(fe,ae*4),V.set(oe,ae*4),H.set(Q,ae*2))}});var B=r(H);c(B);var F=t(H,B);T(F),h(O),i(V)}}}function s(){c.destroy(),T.destroy(),h.destroy(),i.destroy(),g.destroy()}}},13472:function(U,N,e){var d=e(72160),P=e(76752),n=e(50896),C=e(55616),x=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,o=r.fract32,a=e(60463),u=e(51160),f=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,y=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,c=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,h=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;U.exports=g;function g(b,A){if(!(this instanceof g))return new g(b,A);if(typeof b=="function"?(A||(A={}),A.regl=b):A=b,A.length&&(A.positions=A),b=A.regl,!b.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=b._gl,this.regl=b,this.passes=[],this.shaders=g.shaders.has(b)?g.shaders.get(b):g.shaders.set(b,g.createShaders(b)).get(b),this.update(A)}g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new a,g.createShaders=function(b){var A=b.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),R={primitive:"triangle strip",instances:b.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,S){return S.join==="round"?2:1},miterLimit:b.prop("miterLimit"),scale:b.prop("scale"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),thickness:b.prop("thickness"),dashTexture:b.prop("dashTexture"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),dashLength:b.prop("dashLength"),viewport:function(s,S){return[S.viewport.x,S.viewport.y,s.viewportWidth,s.viewportHeight]},depth:b.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,S){return!S.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:b.prop("viewport")},viewport:b.prop("viewport")},m=b(n({vert:l,frag:y,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},R)),L;try{L=b(n({cull:{enable:!0,face:"back"},vert:h,frag:i,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:b.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},R))}catch{L=m}var M=b({primitive:"triangle",elements:function(s,S){return S.triangles},offset:0,vert:c,frag:T,uniforms:{scale:b.prop("scale"),color:b.prop("fill"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),viewport:function(s,S){return[S.viewport.x,S.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:b.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8}},blend:R.blend,depth:{enable:!1},scissor:R.scissor,stencil:R.stencil,viewport:R.viewport});return{fill:M,rect:m,miter:L}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var b,A=[],R=arguments.length;R--;)A[R]=arguments[R];A.length&&(b=this).update.apply(b,A),this.draw()},g.prototype.draw=function(){for(var b=this,A=[],R=arguments.length;R--;)A[R]=arguments[R];return(A.length?A:this.passes).forEach(function(m,L){var M;if(m&&Array.isArray(m))return(M=b).draw.apply(M,m);typeof m=="number"&&(m=b.passes[m]),m&&m.count>1&&m.opacity&&(b.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&b.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>g.precisionThreshold||m.scale[1]*m.viewport.height>g.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=g.maxPoints)?b.shaders.rect(m):b.shaders.miter(m)))}),this},g.prototype.update=function(b){var A=this;if(b){b.length!=null?typeof b[0]=="number"&&(b=[{positions:b}]):Array.isArray(b)||(b=[b]);var R=this,m=R.regl,L=R.gl;if(b.forEach(function(_,I){var H=A.passes[I];if(_!==void 0){if(_===null){A.passes[I]=null;return}if(typeof _[0]=="number"&&(_={positions:_}),_=C(_,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),H||(A.passes[I]=H={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},_=n({},g.defaults,_)),_.thickness!=null&&(H.thickness=parseFloat(_.thickness)),_.opacity!=null&&(H.opacity=parseFloat(_.opacity)),_.miterLimit!=null&&(H.miterLimit=parseFloat(_.miterLimit)),_.overlay!=null&&(H.overlay=!!_.overlay,I<g.maxLines&&(H.depth=2*(g.maxLines-1-I%g.maxLines)/g.maxLines-1)),_.join!=null&&(H.join=_.join),_.hole!=null&&(H.hole=_.hole),_.fill!=null&&(H.fill=_.fill?d(_.fill,"uint8"):null),_.viewport!=null&&(H.viewport=u(_.viewport)),H.viewport||(H.viewport=u([L.drawingBufferWidth,L.drawingBufferHeight])),_.close!=null&&(H.close=_.close),_.positions===null&&(_.positions=[]),_.positions){var O,V;if(_.positions.x&&_.positions.y){var B=_.positions.x,F=_.positions.y;V=H.count=Math.max(B.length,F.length),O=new Float64Array(V*2);for(var G=0;G<V;G++)O[G*2]=B[G],O[G*2+1]=F[G]}else O=x(_.positions,"float64"),V=H.count=Math.floor(O.length/2);var Y=H.bounds=P(O,2);if(H.fill){for(var Q=[],te={},ae=0,fe=0,oe=0,J=H.count;fe<J;fe++){var ee=O[fe*2],X=O[fe*2+1];isNaN(ee)||isNaN(X)||ee==null||X==null?(ee=O[ae*2],X=O[ae*2+1],te[fe]=ae):ae=fe,Q[oe++]=ee,Q[oe++]=X}if(_.splitNull){H.count-1 in te||(te[H.count]=H.count-1);var q=Object.keys(te).map(Number).sort(function(de,be){return de-be}),le=[],$=0,j=H.hole!=null?H.hole[0]:null;if(j!=null){var se=f(q,function(de){return de>=j});q=q.slice(0,se),q.push(j)}for(var ne=function(de){var be=Q.slice($*2,q[de]*2).concat(j?Q.slice(j*2):[]),Ne=(H.hole||[]).map(function(at){return at-j+(q[de]-$)}),Ye=v(be,Ne);Ye=Ye.map(function(at){return at+$+(at+$<q[de]?0:j-q[de])}),le.push.apply(le,Ye),$=q[de]+1},he=0;he<q.length;he++)ne(he);for(var me=0,we=le.length;me<we;me++)te[le[me]]!=null&&(le[me]=te[le[me]]);H.triangles=le}else{for(var Te=v(Q,H.hole||[]),Le=0,Ie=Te.length;Le<Ie;Le++)te[Te[Le]]!=null&&(Te[Le]=te[Te[Le]]);H.triangles=Te}}var ze=new Float64Array(O);p(ze,2,Y);var Me=new Float64Array(V*2+6);H.close?O[0]===O[V*2-2]&&O[1]===O[V*2-1]?(Me[0]=ze[V*2-4],Me[1]=ze[V*2-3]):(Me[0]=ze[V*2-2],Me[1]=ze[V*2-1]):(Me[0]=ze[0],Me[1]=ze[1]),Me.set(ze,2),H.close?O[0]===O[V*2-2]&&O[1]===O[V*2-1]?(Me[V*2+2]=ze[2],Me[V*2+3]=ze[3],H.count-=1):(Me[V*2+2]=ze[0],Me[V*2+3]=ze[1],Me[V*2+4]=ze[2],Me[V*2+5]=ze[3]):(Me[V*2+2]=ze[V*2-2],Me[V*2+3]=ze[V*2-1],Me[V*2+4]=ze[V*2-2],Me[V*2+5]=ze[V*2-1]);var _e=t(Me);H.positionBuffer(_e);var Ce=o(Me,_e);H.positionFractBuffer(Ce)}if(_.range?H.range=_.range:H.range||(H.range=H.bounds),(_.range||_.positions)&&H.count){var Oe=H.bounds,Pe=Oe[2]-Oe[0],Ge=Oe[3]-Oe[1],Ze=H.range[2]-H.range[0],it=H.range[3]-H.range[1];H.scale=[Pe/Ze,Ge/it],H.translate=[-H.range[0]/Ze+Oe[0]/Ze||0,-H.range[1]/it+Oe[1]/it||0],H.scaleFract=o(H.scale),H.translateFract=o(H.translate)}if(_.dashes){var Je=0,et;if(!_.dashes||_.dashes.length<2)Je=1,et=new Uint8Array([255,255,255,255,255,255,255,255]);else{Je=0;for(var ft=0;ft<_.dashes.length;++ft)Je+=_.dashes[ft];et=new Uint8Array(Je*g.dashMult);for(var vt=0,dt=255,xt=0;xt<2;xt++)for(var Mt=0;Mt<_.dashes.length;++Mt){for(var nt=0,Fe=_.dashes[Mt]*g.dashMult*.5;nt<Fe;++nt)et[vt++]=dt;dt^=255}}H.dashLength=Je,H.dashTexture({channels:1,data:et,width:et.length,height:1,mag:"linear",min:"linear"},0,0)}if(_.color){var We=H.count,je=_.color;je||(je="transparent");var Ke=new Uint8Array(We*4+4);if(!Array.isArray(je)||typeof je[0]=="number")for(var ke=d(je,"uint8"),Ue=0;Ue<We+1;Ue++)Ke.set(ke,Ue*4);else{for(var Ve=0;Ve<We;Ve++){var Re=d(je[Ve],"uint8");Ke.set(Re,Ve*4)}Ke.set(d(je[0],"uint8"),We*4)}H.colorBuffer({usage:"dynamic",type:"uint8",data:Ke})}}}),b.length<this.passes.length){for(var M=b.length;M<this.passes.length;M++){var s=this.passes[M];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=b.length}for(var S=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&S.push(this.passes[w]);return this.passes=S,this}},g.prototype.destroy=function(){return this.passes.forEach(function(b){b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(U,N,e){function d(s,S){var w=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(w!=null){var _,I,H,O,V=[],B=!0,F=!1;try{if(H=(w=w.call(s)).next,S!==0)for(;!(B=(_=H.call(w)).done)&&(V.push(_.value),V.length!==S);B=!0);}catch(G){F=!0,I=G}finally{try{if(!B&&w.return!=null&&(O=w.return(),Object(O)!==O))return}finally{if(F)throw I}}return V}}function P(s,S){return x(s)||d(s,S)||p(s,S)||o()}function n(s){return C(s)||v(s)||p(s)||t()}function C(s){if(Array.isArray(s))return r(s)}function x(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function p(s,S){if(s){if(typeof s=="string")return r(s,S);var w=Object.prototype.toString.call(s).slice(8,-1);if(w==="Object"&&s.constructor&&(w=s.constructor.name),w==="Map"||w==="Set")return Array.from(s);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return r(s,S)}}function r(s,S){(S==null||S>s.length)&&(S=s.length);for(var w=0,_=new Array(S);w<S;w++)_[w]=s[w];return _}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=e(72160),u=e(76752),f=e(3808),l=e(3108),y=e(50896),c=e(26444),T=e(55616),h=e(45223),i=e(47520),g=e(96604),b=e(37816),A=e(51160),R=m;function m(s,S){var w=this;if(!(this instanceof m))return new m(s,S);typeof s=="function"?(S||(S={}),S.regl=s):(S=s,s=null),S&&S.length&&(S.positions=S),s=S.regl;var _=s._gl,I,H=[],O={},V=[],B=[null],F=[null],G=255,Y=100;this.tooManyColors=g,I=s.texture({data:new Uint8Array(G*4),width:G,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:s,gl:_,groups:V,markerCache:F,markerTextures:B,palette:H,paletteIds:O,paletteTexture:I,maxColors:G,maxSize:Y,canvas:_.canvas}),this.update(S);var Q={uniforms:{constPointSize:!!S.constPointSize,opacity:s.prop("opacity"),paletteSize:function(oe,J){return[w.tooManyColors?0:G,I.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:I},attributes:{x:function(oe,J){return J.xAttr||{buffer:J.positionBuffer,stride:8,offset:0}},y:function(oe,J){return J.yAttr||{buffer:J.positionBuffer,stride:8,offset:4}},xFract:function(oe,J){return J.xAttr?{constant:[0,0]}:{buffer:J.positionFractBuffer,stride:8,offset:0}},yFract:function(oe,J){return J.yAttr?{constant:[0,0]}:{buffer:J.positionFractBuffer,stride:8,offset:4}},size:function(oe,J){return J.size.length?{buffer:J.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(J.size*255/w.maxSize)]}},borderSize:function(oe,J){return J.borderSize.length?{buffer:J.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(J.borderSize*255/w.maxSize)]}},colorId:function(oe,J){return J.color.length?{buffer:J.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?H.slice(J.color*4,J.color*4+4):[J.color]}},borderColorId:function(oe,J){return J.borderColor.length?{buffer:J.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?H.slice(J.borderColor*4,J.borderColor*4+4):[J.borderColor]}},isActive:function(oe,J){return J.activation===!0?{constant:[1]}:J.activation?J.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},te=y({},Q);te.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),te.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(te);var ae=y({},Q);ae.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ae.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),g&&(ae.frag=ae.frag.replace("smoothstep","smoothStep"),te.frag=te.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(ae)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var s=this,S=arguments.length,w=new Array(S),_=0;_<S;_++)w[_]=arguments[_];var I=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var H=0;H<w.length;H++)this.drawItem(H,w[H]);else I.forEach(function(O,V){s.drawItem(V)});return this},m.prototype.drawItem=function(s,S){var w=this.groups,_=w[s];if(typeof S=="number"&&(s=S,_=w[S],S=null),!!(_&&_.count&&_.opacity)){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,S));for(var I=[],H=1;H<_.activation.length;H++)!_.activation[H]||_.activation[H]!==!0&&!_.activation[H].data.length||I.push.apply(I,n(this.getMarkerDrawOptions(H,_,S)));I.length&&this.drawMarker(I)}},m.prototype.getMarkerDrawOptions=function(s,S,w){var _=S.range,I=S.tree,H=S.viewport,O=S.activation,V=S.selectionBuffer,B=S.count;if(this.regl,!I)return w?[y({},S,{markerTexture:this.markerTextures[s],activation:O[s],count:w.length,elements:w,offset:0})]:[y({},S,{markerTexture:this.markerTextures[s],activation:O[s],offset:0})];var F=[],G=I.range(_,{lod:!0,px:[(_[2]-_[0])/H.width,(_[3]-_[1])/H.height]});if(w){for(var Y=O[s],Q=Y.data,te=new Uint8Array(B),ae=0;ae<w.length;ae++){var fe=w[ae];te[fe]=Q?Q[fe]:1}V.subdata(te)}for(var oe=G.length;oe--;){var J=P(G[oe],2),ee=J[0],X=J[1];F.push(y({},S,{markerTexture:this.markerTextures[s],activation:w?V:O[s],offset:ee,count:X-ee}))}return F},m.prototype.update=function(){for(var s=this,S=arguments.length,w=new Array(S),_=0;_<S;_++)w[_]=arguments[_];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var I=this.groups,H=this.gl,O=this.regl,V=this.maxSize,B=this.maxColors,F=this.palette;this.groups=I=w.map(function(G,Y){var Q=I[Y];if(G===void 0)return Q;G===null?G={positions:null}:typeof G=="function"?G={ondraw:G}:typeof G[0]=="number"&&(G={positions:G}),G=T(G,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),G.positions===null&&(G.positions=[]),G.tooManyColors!=null&&(s.tooManyColors=G.tooManyColors),Q||(I[Y]=Q={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:O.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},G=y({},m.defaults,G)),G.positions&&!("marker"in G)&&(G.marker=Q.marker,delete Q.marker),G.marker&&!("positions"in G)&&(G.positions=Q.positions,delete Q.positions);var te=0,ae=0;if(h(Q,G,[{snap:!0,size:function(Me,_e){return Me==null&&(Me=m.defaults.size),te+=Me&&Me.length?1:0,Me},borderSize:function(Me,_e){return Me==null&&(Me=m.defaults.borderSize),te+=Me&&Me.length?1:0,Me},opacity:parseFloat,color:function(Me,_e){return Me==null&&(Me=m.defaults.color),Me=s.updateColor(Me),ae++,Me},borderColor:function(Me,_e){return Me==null&&(Me=m.defaults.borderColor),Me=s.updateColor(Me),ae++,Me},bounds:function(Me,_e,Ce){return"range"in Ce||(Ce.range=null),Me},positions:function(Me,_e,Ce){var Oe=_e.snap,Pe=_e.positionBuffer,Ge=_e.positionFractBuffer,Ze=_e.selectionBuffer;if(Me.x||Me.y)return Me.x.length?_e.xAttr={buffer:O.buffer(Me.x),offset:0,stride:4,count:Me.x.length}:_e.xAttr={buffer:Me.x.buffer,offset:Me.x.offset*4||0,stride:(Me.x.stride||1)*4,count:Me.x.count},Me.y.length?_e.yAttr={buffer:O.buffer(Me.y),offset:0,stride:4,count:Me.y.length}:_e.yAttr={buffer:Me.y.buffer,offset:Me.y.offset*4||0,stride:(Me.y.stride||1)*4,count:Me.y.count},_e.count=Math.max(_e.xAttr.count,_e.yAttr.count),Me;Me=i(Me,"float64");var it=_e.count=Math.floor(Me.length/2),Je=_e.bounds=it?u(Me,2):null;if(!Ce.range&&!_e.range&&(delete _e.range,Ce.range=Je),!Ce.marker&&!_e.marker&&(delete _e.marker,Ce.marker=null),Oe&&(Oe===!0||it>Oe)?_e.tree=l(Me,{bounds:Je}):Oe&&Oe.length&&(_e.tree=Oe),_e.tree){var et={primitive:"points",usage:"static",data:_e.tree,type:"uint32"};_e.elements?_e.elements(et):_e.elements=O.elements(et)}var ft=b.float32(Me);Pe({data:ft,usage:"dynamic"});var vt=b.fract32(Me,ft);return Ge({data:vt,usage:"dynamic"}),Ze({data:new Uint8Array(it),type:"uint8",usage:"stream"}),Me}},{marker:function(Me,_e,Ce){var Oe=_e.activation;if(Oe.forEach(function(vt){return vt&&vt.destroy&&vt.destroy()}),Oe.length=0,!Me||typeof Me[0]=="number"){var Pe=s.addMarker(Me);Oe[Pe]=!0}else{for(var Ge=[],Ze=0,it=Math.min(Me.length,_e.count);Ze<it;Ze++){var Je=s.addMarker(Me[Ze]);Ge[Je]||(Ge[Je]=new Uint8Array(_e.count)),Ge[Je][Ze]=1}for(var et=0;et<Ge.length;et++)if(Ge[et]){var ft={data:Ge[et],type:"uint8",usage:"static"};Oe[et]?Oe[et](ft):Oe[et]=O.buffer(ft),Oe[et].data=Ge[et]}}return Me},range:function(Me,_e,Ce){var Oe=_e.bounds;if(Oe)return Me||(Me=Oe),_e.scale=[1/(Me[2]-Me[0]),1/(Me[3]-Me[1])],_e.translate=[-Me[0],-Me[1]],_e.scaleFract=b.fract(_e.scale),_e.translateFract=b.fract(_e.translate),Me},viewport:function(Me){var _e=A(Me||[H.drawingBufferWidth,H.drawingBufferHeight]);return _e}}]),te){var fe=Q,oe=fe.count,J=fe.size,ee=fe.borderSize,X=fe.sizeBuffer,q=new Uint8Array(oe*2);if(J.length||ee.length)for(var le=0;le<oe;le++)q[le*2]=Math.round((J[le]==null?J:J[le])*255/V),q[le*2+1]=Math.round((ee[le]==null?ee:ee[le])*255/V);X({data:q,usage:"dynamic"})}if(ae){var $=Q,j=$.count,se=$.color,ne=$.borderColor,he=$.colorBuffer,me;if(s.tooManyColors){if(se.length||ne.length){me=new Uint8Array(j*8);for(var we=0;we<j;we++){var Te=se[we];me[we*8]=F[Te*4],me[we*8+1]=F[Te*4+1],me[we*8+2]=F[Te*4+2],me[we*8+3]=F[Te*4+3];var Le=ne[we];me[we*8+4]=F[Le*4],me[we*8+5]=F[Le*4+1],me[we*8+6]=F[Le*4+2],me[we*8+7]=F[Le*4+3]}}}else if(se.length||ne.length){me=new Uint8Array(j*4+2);for(var Ie=0;Ie<j;Ie++)se[Ie]!=null&&(me[Ie*4]=se[Ie]%B,me[Ie*4+1]=Math.floor(se[Ie]/B)),ne[Ie]!=null&&(me[Ie*4+2]=ne[Ie]%B,me[Ie*4+3]=Math.floor(ne[Ie]/B))}he({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Q})}},m.prototype.addMarker=function(s){var S=this.markerTextures,w=this.regl,_=this.markerCache,I=s==null?0:_.indexOf(s);if(I>=0)return I;var H;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)H=s;else{H=new Uint8Array(s.length);for(var O=0,V=s.length;O<V;O++)H[O]=s[O]*255}var B=Math.floor(Math.sqrt(H.length));return I=S.length,_.push(s),S.push(w.texture({channels:1,data:H,radius:B,mag:"linear",min:"linear"})),I},m.prototype.updateColor=function(s){var S=this.paletteIds,w=this.palette,_=this.maxColors;Array.isArray(s)||(s=[s]);var I=[];if(typeof s[0]=="number"){var H=[];if(Array.isArray(s))for(var O=0;O<s.length;O+=4)H.push(s.slice(O,O+4));else for(var V=0;V<s.length;V+=4)H.push(s.subarray(V,V+4));s=H}for(var B=0;B<s.length;B++){var F=s[B];F=a(F,"uint8");var G=f(F,!1);if(S[G]==null){var Y=w.length;S[G]=Math.floor(Y/4),w[Y]=F[0],w[Y+1]=F[1],w[Y+2]=F[2],w[Y+3]=F[3]}I[B]=S[G]}return!this.tooManyColors&&w.length>_*4&&(this.tooManyColors=!0),this.updatePalette(w),I.length===1?I[0]:I},m.prototype.updatePalette=function(s){if(!this.tooManyColors){var S=this.maxColors,w=this.paletteTexture,_=Math.ceil(s.length*.25/S);if(_>1){s=s.slice();for(var I=s.length*.25%S;I<_*S;I++)s.push(0,0,0,0)}w.height<_&&w.resize(S,_),w.subimage({width:Math.min(s.length*.25,S),height:_,data:s},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(S){return S&&S.destroy&&S.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var L=e(50896),M=function(S,w){var _=new R(S,w),I=_.render.bind(_);return L(I,{render:I,update:_.update.bind(_),draw:_.draw.bind(_),destroy:_.destroy.bind(_),regl:_.regl,gl:_.gl,canvas:_.gl.canvas,groups:_.groups,markers:_.markerCache,palette:_.palette}),I};U.exports=M},55795:function(U,N,e){var d=e(38540),P=e(55616),n=e(76752),C=e(3951),x=e(67752),v=e(51160),p=e(47520);U.exports=r;function r(u,f){if(!(this instanceof r))return new r(u);this.traces=[],this.passes={},this.regl=u,this.scatter=d(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,f,l=[],y=arguments.length;y--;)l[y]=arguments[y];return l.length&&(f=this).update.apply(f,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,C(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(f.length){for(var y=0;y<f.length;y++)this.updateItem(y,f[y]);this.traces=this.traces.filter(Boolean);for(var c=[],T=0,h=0;h<this.traces.length;h++){for(var i=this.traces[h],g=this.traces[h].passes,b=0;b<g.length;b++)c.push(this.passes[g[b]]);i.passOffset=T,T+=i.passes.length}return(u=this.scatter).update.apply(u,c),this}},r.prototype.updateItem=function(u,f){var l=this,y=l.regl;if(f===null)return this.traces[u]=null,this;if(!f)return this;var c=P(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[u]||(this.traces[u]={id:u,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(T.color=c.color),c.size!=null&&(T.size=c.size),c.marker!=null&&(T.marker=c.marker),c.borderColor!=null&&(T.borderColor=c.borderColor),c.borderSize!=null&&(T.borderSize=c.borderSize),c.opacity!=null&&(T.opacity=c.opacity),c.viewport&&(T.viewport=v(c.viewport)),c.diagonal!=null&&(T.diagonal=c.diagonal),c.upper!=null&&(T.upper=c.upper),c.lower!=null&&(T.lower=c.lower),c.data){T.buffer(p(c.data)),T.columns=c.data.length,T.count=c.data[0].length,T.bounds=[];for(var h=0;h<T.columns;h++)T.bounds[h]=n(c.data[h],1)}var i;c.range&&(T.range=c.range,i=T.range&&typeof T.range[0]!="number"),c.domain&&(T.domain=c.domain);var g=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===T.columns&&typeof c.padding[c.padding.length-1]=="number"?(T.padding=c.padding.map(a),g=!0):T.padding=a(c.padding));var b=T.columns,A=T.count,R=T.viewport.width,m=T.viewport.height,L=T.viewport.x,M=T.viewport.y,s=R/b,S=m/b;T.passes=[];for(var w=0;w<b;w++)for(var _=0;_<b;_++)if(!(!T.diagonal&&_===w)&&!(!T.upper&&w>_)&&!(!T.lower&&w<_)){var I=t(T.id,w,_),H=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?H.positions={x:{buffer:T.buffer,offset:_,count:A,stride:b},y:{buffer:T.buffer,offset:w,count:A,stride:b}}:H.positions={x:{buffer:T.buffer,offset:_*A,count:A},y:{buffer:T.buffer,offset:w*A,count:A}},H.bounds=o(T.bounds,w,_)),c.domain||c.viewport||c.data){var O=g?o(T.padding,w,_):T.padding;if(T.domain){var V=o(T.domain,w,_),B=V[0],F=V[1],G=V[2],Y=V[3];H.viewport=[L+B*R+O[0],M+F*m+O[1],L+G*R-O[2],M+Y*m-O[3]]}else H.viewport=[L+_*s+s*O[0],M+w*S+S*O[1],L+(_+1)*s-s*O[2],M+(w+1)*S-S*O[3]]}c.color&&(H.color=T.color),c.size&&(H.size=T.size),c.marker&&(H.marker=T.marker),c.borderSize&&(H.borderSize=T.borderSize),c.borderColor&&(H.borderColor=T.borderColor),c.opacity&&(H.opacity=T.opacity),c.range&&(H.range=i?o(T.range,w,_):T.range||H.bounds),T.passes.push(I)}return this},r.prototype.draw=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(!f.length)this.scatter.draw();else{for(var y=[],c=0;c<f.length;c++)if(typeof f[c]=="number"){var T=this.traces[f[c]],h=T.passes,i=T.passOffset;y.push.apply(y,x(i,i+h.length))}else if(f[c].length){var g=f[c],b=this.traces[c],A=b.passes,R=b.passOffset;A=A.map(function(m,L){y[R+L]=g})}(u=this.scatter).draw.apply(u,y)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(u,f,l){var y=u.id!=null?u.id:u,c=f,T=l,h=y<<16|(c&255)<<8|T&255;return h}function o(u,f,l){var y,c,T,h,i=u[f],g=u[l];return i.length>2?(i[0],i[2],y=i[1],c=i[3]):i.length?(y=i[0],c=i[1]):(i.x,y=i.y,i.x+i.width,c=i.y+i.height),g.length>2?(T=g[0],h=g[2],g[1],g[3]):g.length?(T=g[0],h=g[1]):(T=g.x,g.y,h=g.x+g.width,g.y+g.height),[T,y,h,c]}function a(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var f=v(u);return[f.x,f.y,f.x+f.width,f.y+f.height]}},28624:function(U){(function(N,e){U.exports=e()})(this,function(){function N(gt,Xt){this.id=he++,this.type=gt,this.data=Xt}function e(gt){if(gt.length===0)return[];var Xt=gt.charAt(0),$t=gt.charAt(gt.length-1);if(1<gt.length&&Xt===$t&&(Xt==='"'||Xt==="'"))return['"'+gt.substr(1,gt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Xt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(gt))return e(gt.substr(0,Xt.index)).concat(e(Xt[1])).concat(e(gt.substr(Xt.index+Xt[0].length)));if(Xt=gt.split("."),Xt.length===1)return['"'+gt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(gt=[],$t=0;$t<Xt.length;++$t)gt=gt.concat(e(Xt[$t]));return gt}function d(gt){return"["+e(gt).join("][")+"]"}function P(gt,Xt){if(typeof gt=="function")return new N(0,gt);if(typeof gt=="number"||typeof gt=="boolean")return new N(5,gt);if(Array.isArray(gt))return new N(6,gt.map(function($t,mr){return P($t)}));if(gt instanceof N)return gt}function n(){var gt={"":0},Xt=[""];return{id:function($t){var mr=gt[$t];return mr||(mr=gt[$t]=Xt.length,Xt.push($t),mr)},str:function($t){return Xt[$t]}}}function C(gt,Xt,$t){function mr(){var ut=window.innerWidth,bt=window.innerHeight;gt!==document.body&&(bt=or.getBoundingClientRect(),ut=bt.right-bt.left,bt=bt.bottom-bt.top),or.width=$t*ut,or.height=$t*bt}var or=document.createElement("canvas");ne(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),gt.appendChild(or),gt===document.body&&(or.style.position="absolute",ne(gt.style,{margin:0,padding:0}));var yt;return gt!==document.body&&typeof ResizeObserver=="function"?(yt=new ResizeObserver(function(){setTimeout(mr)}),yt.observe(gt)):window.addEventListener("resize",mr,!1),mr(),{canvas:or,onDestroy:function(){yt?yt.disconnect():window.removeEventListener("resize",mr),gt.removeChild(or)}}}function x(gt,Xt){function $t(mr){try{return gt.getContext(mr,Xt)}catch{return null}}return $t("webgl")||$t("experimental-webgl")||$t("webgl-experimental")}function v(gt){return typeof gt=="string"?gt.split():gt}function p(gt){return typeof gt=="string"?document.querySelector(gt):gt}function r(gt){var Xt=gt||{},$t,mr,or,yt;gt={};var ut=[],bt=[],Et=typeof window>"u"?1:window.devicePixelRatio,It=!1,Ft={},Ot=function(Jt){},Nt=function(){};if(typeof Xt=="string"?$t=document.querySelector(Xt):typeof Xt=="object"&&(typeof Xt.nodeName=="string"&&typeof Xt.appendChild=="function"&&typeof Xt.getBoundingClientRect=="function"?$t=Xt:typeof Xt.drawArrays=="function"||typeof Xt.drawElements=="function"?(yt=Xt,or=yt.canvas):("gl"in Xt?yt=Xt.gl:"canvas"in Xt?or=p(Xt.canvas):"container"in Xt&&(mr=p(Xt.container)),"attributes"in Xt&&(gt=Xt.attributes),"extensions"in Xt&&(ut=v(Xt.extensions)),"optionalExtensions"in Xt&&(bt=v(Xt.optionalExtensions)),"onDone"in Xt&&(Ot=Xt.onDone),"profile"in Xt&&(It=!!Xt.profile),"pixelRatio"in Xt&&(Et=+Xt.pixelRatio),"cachedCode"in Xt&&(Ft=Xt.cachedCode))),$t&&($t.nodeName.toLowerCase()==="canvas"?or=$t:mr=$t),!yt){if(!or){if($t=C(mr||document.body,Ot,Et),!$t)return null;or=$t.canvas,Nt=$t.onDestroy}gt.premultipliedAlpha===void 0&&(gt.premultipliedAlpha=!0),yt=x(or,gt)}return yt?{gl:yt,canvas:or,container:mr,extensions:ut,optionalExtensions:bt,pixelRatio:Et,profile:It,cachedCode:Ft,onDone:Ot,onDestroy:Nt}:(Nt(),Ot("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(gt,Xt){function $t(ut){ut=ut.toLowerCase();var bt;try{bt=mr[ut]=gt.getExtension(ut)}catch{}return!!bt}for(var mr={},or=0;or<Xt.extensions.length;++or){var yt=Xt.extensions[or];if(!$t(yt))return Xt.onDestroy(),Xt.onDone('"'+yt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Xt.optionalExtensions.forEach($t),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(ut){if(mr[ut]&&!$t(ut))throw Error("(regl): error restoring extension "+ut)})}}}function o(gt,Xt){for(var $t=Array(gt),mr=0;mr<gt;++mr)$t[mr]=Xt(mr);return $t}function a(gt){var Xt,$t;return Xt=(65535<gt)<<4,gt>>>=Xt,$t=(255<gt)<<3,gt>>>=$t,Xt|=$t,$t=(15<gt)<<2,gt>>>=$t,Xt|=$t,$t=(3<gt)<<1,Xt|$t|gt>>>$t>>1}function u(){function gt(mr){e:{for(var or=16;268435456>=or;or*=16)if(mr<=or){mr=or;break e}mr=0}return or=$t[a(mr)>>2],0<or.length?or.pop():new ArrayBuffer(mr)}function Xt(mr){$t[a(mr.byteLength)>>2].push(mr)}var $t=o(8,function(){return[]});return{alloc:gt,free:Xt,allocType:function(mr,or){var yt=null;switch(mr){case 5120:yt=new Int8Array(gt(or),0,or);break;case 5121:yt=new Uint8Array(gt(or),0,or);break;case 5122:yt=new Int16Array(gt(2*or),0,or);break;case 5123:yt=new Uint16Array(gt(2*or),0,or);break;case 5124:yt=new Int32Array(gt(4*or),0,or);break;case 5125:yt=new Uint32Array(gt(4*or),0,or);break;case 5126:yt=new Float32Array(gt(4*or),0,or);break;default:return null}return yt.length!==or?yt.subarray(0,or):yt},freeType:function(mr){Xt(mr.buffer)}}}function f(gt){return!!gt&&typeof gt=="object"&&Array.isArray(gt.shape)&&Array.isArray(gt.stride)&&typeof gt.offset=="number"&&gt.shape.length===gt.stride.length&&(Array.isArray(gt.data)||ze(gt.data))}function l(gt,Xt,$t,mr,or,yt){for(var ut=0;ut<Xt;++ut)for(var bt=gt[ut],Et=0;Et<$t;++Et)for(var It=bt[Et],Ft=0;Ft<mr;++Ft)or[yt++]=It[Ft]}function y(gt,Xt,$t,mr,or){for(var yt=1,ut=$t+1;ut<Xt.length;++ut)yt*=Xt[ut];var bt=Xt[$t];if(Xt.length-$t===4){var Et=Xt[$t+1],It=Xt[$t+2];for(Xt=Xt[$t+3],ut=0;ut<bt;++ut)l(gt[ut],Et,It,Xt,mr,or),or+=yt}else for(ut=0;ut<bt;++ut)y(gt[ut],Xt,$t+1,mr,or),or+=yt}function c(gt){return Ce[Object.prototype.toString.call(gt)]|0}function T(gt,Xt){for(var $t=0;$t<Xt.length;++$t)gt[$t]=Xt[$t]}function h(gt,Xt,$t,mr,or,yt,ut){for(var bt=0,Et=0;Et<$t;++Et)for(var It=0;It<mr;++It)gt[bt++]=Xt[or*Et+yt*It+ut]}function i(gt,Xt,$t,mr){function or(Ot){this.id=Et++,this.buffer=gt.createBuffer(),this.type=Ot,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,$t.profile&&(this.stats={size:0})}function yt(Ot,Nt,Jt){Ot.byteLength=Nt.byteLength,gt.bufferData(Ot.type,Nt,Jt)}function ut(Ot,Nt,Jt,hr,cr,dr){if(Ot.usage=Jt,Array.isArray(Nt)){if(Ot.dtype=hr||5126,0<Nt.length)if(Array.isArray(Nt[0])){cr=Ze(Nt);for(var fr=hr=1;fr<cr.length;++fr)hr*=cr[fr];Ot.dimension=hr,Nt=Ge(Nt,cr,Ot.dtype),yt(Ot,Nt,Jt),dr?Ot.persistentData=Nt:Le.freeType(Nt)}else typeof Nt[0]=="number"?(Ot.dimension=cr,cr=Le.allocType(Ot.dtype,Nt.length),T(cr,Nt),yt(Ot,cr,Jt),dr?Ot.persistentData=cr:Le.freeType(cr)):ze(Nt[0])&&(Ot.dimension=Nt[0].length,Ot.dtype=hr||c(Nt[0])||5126,Nt=Ge(Nt,[Nt.length,Nt[0].length],Ot.dtype),yt(Ot,Nt,Jt),dr?Ot.persistentData=Nt:Le.freeType(Nt))}else if(ze(Nt))Ot.dtype=hr||c(Nt),Ot.dimension=cr,yt(Ot,Nt,Jt),dr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(f(Nt)){cr=Nt.shape;var Lr=Nt.stride,fr=Nt.offset,xr=0,Qe=0,rt=0,er=0;cr.length===1?(xr=cr[0],Qe=1,rt=Lr[0],er=0):cr.length===2&&(xr=cr[0],Qe=cr[1],rt=Lr[0],er=Lr[1]),Ot.dtype=hr||c(Nt.data)||5126,Ot.dimension=Qe,cr=Le.allocType(Ot.dtype,xr*Qe),h(cr,Nt.data,xr,Qe,rt,er,fr),yt(Ot,cr,Jt),dr?Ot.persistentData=cr:Le.freeType(cr)}else Nt instanceof ArrayBuffer&&(Ot.dtype=5121,Ot.dimension=cr,yt(Ot,Nt,Jt),dr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Nt))))}function bt(Ot){Xt.bufferCount--,mr(Ot),gt.deleteBuffer(Ot.buffer),Ot.buffer=null,delete It[Ot.id]}var Et=0,It={};or.prototype.bind=function(){gt.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){bt(this)};var Ft=[];return $t.profile&&(Xt.getTotalBufferSize=function(){var Ot=0;return Object.keys(It).forEach(function(Nt){Ot+=It[Nt].stats.size}),Ot}),{create:function(Ot,Nt,Jt,hr){function cr(fr){var Lr=35044,xr=null,Qe=0,rt=0,er=1;return Array.isArray(fr)||ze(fr)||f(fr)||fr instanceof ArrayBuffer?xr=fr:typeof fr=="number"?Qe=fr|0:fr&&("data"in fr&&(xr=fr.data),"usage"in fr&&(Lr=Pe[fr.usage]),"type"in fr&&(rt=Oe[fr.type]),"dimension"in fr&&(er=fr.dimension|0),"length"in fr&&(Qe=fr.length|0)),dr.bind(),xr?ut(dr,xr,Lr,rt,er,hr):(Qe&&gt.bufferData(dr.type,Qe,Lr),dr.dtype=rt||5121,dr.usage=Lr,dr.dimension=er,dr.byteLength=Qe),$t.profile&&(dr.stats.size=dr.byteLength*it[dr.dtype]),cr}Xt.bufferCount++;var dr=new or(Nt);return It[dr.id]=dr,Jt||cr(Ot),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(fr,Lr){var xr=(Lr||0)|0,Qe;if(dr.bind(),ze(fr)||fr instanceof ArrayBuffer)gt.bufferSubData(dr.type,xr,fr);else if(Array.isArray(fr)){if(0<fr.length)if(typeof fr[0]=="number"){var rt=Le.allocType(dr.dtype,fr.length);T(rt,fr),gt.bufferSubData(dr.type,xr,rt),Le.freeType(rt)}else(Array.isArray(fr[0])||ze(fr[0]))&&(Qe=Ze(fr),rt=Ge(fr,Qe,dr.dtype),gt.bufferSubData(dr.type,xr,rt),Le.freeType(rt))}else if(f(fr)){Qe=fr.shape;var er=fr.stride,tr=rt=0,jt=0,Pt=0;Qe.length===1?(rt=Qe[0],tr=1,jt=er[0],Pt=0):Qe.length===2&&(rt=Qe[0],tr=Qe[1],jt=er[0],Pt=er[1]),Qe=Array.isArray(fr.data)?dr.dtype:c(fr.data),Qe=Le.allocType(Qe,rt*tr),h(Qe,fr.data,rt,tr,jt,Pt,fr.offset),gt.bufferSubData(dr.type,xr,Qe),Le.freeType(Qe)}return cr},$t.profile&&(cr.stats=dr.stats),cr.destroy=function(){bt(dr)},cr},createStream:function(Ot,Nt){var Jt=Ft.pop();return Jt||(Jt=new or(Ot)),Jt.bind(),ut(Jt,Nt,35040,0,1,!1),Jt},destroyStream:function(Ot){Ft.push(Ot)},clear:function(){Me(It).forEach(bt),Ft.forEach(bt)},getBuffer:function(Ot){return Ot&&Ot._buffer instanceof or?Ot._buffer:null},restore:function(){Me(It).forEach(function(Ot){Ot.buffer=gt.createBuffer(),gt.bindBuffer(Ot.type,Ot.buffer),gt.bufferData(Ot.type,Ot.persistentData||Ot.byteLength,Ot.usage)})},_initBuffer:ut}}function g(gt,Xt,$t,mr){function or(Ot){this.id=Et++,bt[this.id]=this,this.buffer=Ot,this.primType=4,this.type=this.vertCount=0}function yt(Ot,Nt,Jt,hr,cr,dr,fr){Ot.buffer.bind();var Lr;if(Nt?((Lr=fr)||ze(Nt)&&(!f(Nt)||ze(Nt.data))||(Lr=Xt.oes_element_index_uint?5125:5123),$t._initBuffer(Ot.buffer,Nt,Jt,Lr,3)):(gt.bufferData(34963,dr,Jt),Ot.buffer.dtype=Lr||5121,Ot.buffer.usage=Jt,Ot.buffer.dimension=3,Ot.buffer.byteLength=dr),Lr=fr,!fr){switch(Ot.buffer.dtype){case 5121:case 5120:Lr=5121;break;case 5123:case 5122:Lr=5123;break;case 5125:case 5124:Lr=5125}Ot.buffer.dtype=Lr}Ot.type=Lr,Nt=cr,0>Nt&&(Nt=Ot.buffer.byteLength,Lr===5123?Nt>>=1:Lr===5125&&(Nt>>=2)),Ot.vertCount=Nt,Nt=hr,0>hr&&(Nt=4,hr=Ot.buffer.dimension,hr===1&&(Nt=0),hr===2&&(Nt=1),hr===3&&(Nt=4)),Ot.primType=Nt}function ut(Ot){mr.elementsCount--,delete bt[Ot.id],Ot.buffer.destroy(),Ot.buffer=null}var bt={},Et=0,It={uint8:5121,uint16:5123};Xt.oes_element_index_uint&&(It.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Ft=[];return{create:function(Ot,Nt){function Jt(dr){if(dr)if(typeof dr=="number")hr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var fr=null,Lr=35044,xr=-1,Qe=-1,rt=0,er=0;Array.isArray(dr)||ze(dr)||f(dr)?fr=dr:("data"in dr&&(fr=dr.data),"usage"in dr&&(Lr=Pe[dr.usage]),"primitive"in dr&&(xr=Je[dr.primitive]),"count"in dr&&(Qe=dr.count|0),"type"in dr&&(er=It[dr.type]),"length"in dr?rt=dr.length|0:(rt=Qe,er===5123||er===5122?rt*=2:(er===5125||er===5124)&&(rt*=4))),yt(cr,fr,Lr,xr,Qe,rt,er)}else hr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Jt}var hr=$t.create(null,34963,!0),cr=new or(hr._buffer);return mr.elementsCount++,Jt(Ot),Jt._reglType="elements",Jt._elements=cr,Jt.subdata=function(dr,fr){return hr.subdata(dr,fr),Jt},Jt.destroy=function(){ut(cr)},Jt},createStream:function(Ot){var Nt=Ft.pop();return Nt||(Nt=new or($t.create(null,34963,!0,!1)._buffer)),yt(Nt,Ot,35040,-1,-1,0,0),Nt},destroyStream:function(Ot){Ft.push(Ot)},getElements:function(Ot){return typeof Ot=="function"&&Ot._elements instanceof or?Ot._elements:null},clear:function(){Me(bt).forEach(ut)}}}function b(gt){for(var Xt=Le.allocType(5123,gt.length),$t=0;$t<gt.length;++$t)if(isNaN(gt[$t]))Xt[$t]=65535;else if(gt[$t]===1/0)Xt[$t]=31744;else if(gt[$t]===-1/0)Xt[$t]=64512;else{et[0]=gt[$t];var yt=ft[0],mr=yt>>>31<<15,or=(yt<<1>>>24)-127,yt=yt>>13&1023;Xt[$t]=-24>or?mr:-14>or?mr+(yt+1024>>-14-or):15<or?mr+31744:mr+(or+15<<10)+yt}return Xt}function A(gt){return Array.isArray(gt)||ze(gt)}function R(gt){return"[object "+gt+"]"}function m(gt){return Array.isArray(gt)&&(gt.length===0||typeof gt[0]=="number")}function L(gt){return!!(Array.isArray(gt)&&gt.length!==0&&A(gt[0]))}function M(gt){return Object.prototype.toString.call(gt)}function s(gt){if(!gt)return!1;var Xt=M(gt);return 0<=ke.indexOf(Xt)?!0:m(gt)||L(gt)||f(gt)}function S(gt,Xt){gt.type===36193?(gt.data=b(Xt),Le.freeType(Xt)):gt.data=Xt}function w(gt,Xt,$t,mr,or,yt){if(gt=typeof Ve[gt]<"u"?Ve[gt]:xt[gt]*Ue[Xt],yt&&(gt*=6),or){for(mr=0;1<=$t;)mr+=gt*$t*$t,$t/=2;return mr}return gt*$t*mr}function _(gt,Xt,$t,mr,or,yt,ut){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(Cr,on){Cr.internalformat=on.internalformat,Cr.format=on.format,Cr.type=on.type,Cr.compressed=on.compressed,Cr.premultiplyAlpha=on.premultiplyAlpha,Cr.flipY=on.flipY,Cr.unpackAlignment=on.unpackAlignment,Cr.colorSpace=on.colorSpace,Cr.width=on.width,Cr.height=on.height,Cr.channels=on.channels}function It(Cr,on){if(typeof on=="object"&&on){"premultiplyAlpha"in on&&(Cr.premultiplyAlpha=on.premultiplyAlpha),"flipY"in on&&(Cr.flipY=on.flipY),"alignment"in on&&(Cr.unpackAlignment=on.alignment),"colorSpace"in on&&(Cr.colorSpace=dn[on.colorSpace]),"type"in on&&(Cr.type=Nr[on.type]);var sn=Cr.width,un=Cr.height,Bn=Cr.channels,yn=!1;"shape"in on?(sn=on.shape[0],un=on.shape[1],on.shape.length===3&&(Bn=on.shape[2],yn=!0)):("radius"in on&&(sn=un=on.radius),"width"in on&&(sn=on.width),"height"in on&&(un=on.height),"channels"in on&&(Bn=on.channels,yn=!0)),Cr.width=sn|0,Cr.height=un|0,Cr.channels=Bn|0,sn=!1,"format"in on&&(sn=on.format,un=Cr.internalformat=Cn[sn],Cr.format=Pn[un],sn in Nr&&!("type"in on)&&(Cr.type=Nr[sn]),sn in an&&(Cr.compressed=!0),sn=!0),!yn&&sn?Cr.channels=xt[Cr.format]:yn&&!sn&&Cr.channels!==dt[Cr.format]&&(Cr.format=Cr.internalformat=dt[Cr.channels])}}function Ft(Cr){gt.pixelStorei(37440,Cr.flipY),gt.pixelStorei(37441,Cr.premultiplyAlpha),gt.pixelStorei(37443,Cr.colorSpace),gt.pixelStorei(3317,Cr.unpackAlignment)}function Ot(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Cr,on){var sn=null;if(s(on)?sn=on:on&&(It(Cr,on),"x"in on&&(Cr.xOffset=on.x|0),"y"in on&&(Cr.yOffset=on.y|0),s(on.data)&&(sn=on.data)),on.copy){var un=or.viewportWidth,Bn=or.viewportHeight;Cr.width=Cr.width||un-Cr.xOffset,Cr.height=Cr.height||Bn-Cr.yOffset,Cr.needsCopy=!0}else if(!sn)Cr.width=Cr.width||1,Cr.height=Cr.height||1,Cr.channels=Cr.channels||4;else if(ze(sn))Cr.channels=Cr.channels||4,Cr.data=sn,"type"in on||Cr.type!==5121||(Cr.type=Ce[Object.prototype.toString.call(sn)]|0);else if(m(sn)){switch(Cr.channels=Cr.channels||4,un=sn,Bn=un.length,Cr.type){case 5121:case 5123:case 5125:case 5126:Bn=Le.allocType(Cr.type,Bn),Bn.set(un),Cr.data=Bn;break;case 36193:Cr.data=b(un)}Cr.alignment=1,Cr.needsFree=!0}else if(f(sn)){un=sn.data,Array.isArray(un)||Cr.type!==5121||(Cr.type=Ce[Object.prototype.toString.call(un)]|0);var Bn=sn.shape,yn=sn.stride,Ln,Un,qn,da;Bn.length===3?(qn=Bn[2],da=yn[2]):da=qn=1,Ln=Bn[0],Un=Bn[1],Bn=yn[0],yn=yn[1],Cr.alignment=1,Cr.width=Ln,Cr.height=Un,Cr.channels=qn,Cr.format=Cr.internalformat=dt[qn],Cr.needsFree=!0,Ln=da,sn=sn.offset,qn=Cr.width,da=Cr.height,Un=Cr.channels;for(var Ia=Le.allocType(Cr.type===36193?5126:Cr.type,qn*da*Un),Ar=0,Br=0;Br<da;++Br)for(var Sr=0;Sr<qn;++Sr)for(var Ur=0;Ur<Un;++Ur)Ia[Ar++]=un[Bn*Sr+yn*Br+Ln*Ur+sn];S(Cr,Ia)}else if(M(sn)===Mt||M(sn)===nt||M(sn)===Fe)M(sn)===Mt||M(sn)===nt?Cr.element=sn:Cr.element=sn.canvas,Cr.width=Cr.element.width,Cr.height=Cr.element.height,Cr.channels=4;else if(M(sn)===We)Cr.element=sn,Cr.width=sn.width,Cr.height=sn.height,Cr.channels=4;else if(M(sn)===je)Cr.element=sn,Cr.width=sn.naturalWidth,Cr.height=sn.naturalHeight,Cr.channels=4;else if(M(sn)===Ke)Cr.element=sn,Cr.width=sn.videoWidth,Cr.height=sn.videoHeight,Cr.channels=4;else if(L(sn)){for(un=Cr.width||sn[0].length,Bn=Cr.height||sn.length,yn=Cr.channels,yn=A(sn[0][0])?yn||sn[0][0].length:yn||1,Ln=_e.shape(sn),qn=1,da=0;da<Ln.length;++da)qn*=Ln[da];qn=Le.allocType(Cr.type===36193?5126:Cr.type,qn),_e.flatten(sn,Ln,"",qn),S(Cr,qn),Cr.alignment=1,Cr.width=un,Cr.height=Bn,Cr.channels=yn,Cr.format=Cr.internalformat=dt[yn],Cr.needsFree=!0}}function Jt(Cr,on,sn,un,Bn){var yn=Cr.element,Ln=Cr.data,Un=Cr.internalformat,qn=Cr.format,da=Cr.type,Ia=Cr.width,Ar=Cr.height;Ft(Cr),yn?gt.texSubImage2D(on,Bn,sn,un,qn,da,yn):Cr.compressed?gt.compressedTexSubImage2D(on,Bn,sn,un,Un,Ia,Ar,Ln):Cr.needsCopy?(mr(),gt.copyTexSubImage2D(on,Bn,sn,un,Cr.xOffset,Cr.yOffset,Ia,Ar)):gt.texSubImage2D(on,Bn,sn,un,Ia,Ar,qn,da,Ln)}function hr(){return Wn.pop()||new Ot}function cr(Cr){Cr.needsFree&&Le.freeType(Cr.data),Ot.call(Cr),Wn.push(Cr)}function dr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function fr(Cr,on,sn){var un=Cr.images[0]=hr();Cr.mipmask=1,un.width=Cr.width=on,un.height=Cr.height=sn,un.channels=Cr.channels=4}function Lr(Cr,on){var sn=null;if(s(on))sn=Cr.images[0]=hr(),Et(sn,Cr),Nt(sn,on),Cr.mipmask=1;else if(It(Cr,on),Array.isArray(on.mipmap))for(var un=on.mipmap,Bn=0;Bn<un.length;++Bn)sn=Cr.images[Bn]=hr(),Et(sn,Cr),sn.width>>=Bn,sn.height>>=Bn,Nt(sn,un[Bn]),Cr.mipmask|=1<<Bn;else sn=Cr.images[0]=hr(),Et(sn,Cr),Nt(sn,on),Cr.mipmask=1;Et(Cr,Cr.images[0])}function xr(Cr,on){for(var sn=Cr.images,un=0;un<sn.length&&sn[un];++un){var Bn=sn[un],yn=on,Ln=un,Un=Bn.element,qn=Bn.data,da=Bn.internalformat,Ia=Bn.format,Ar=Bn.type,Br=Bn.width,Sr=Bn.height;Ft(Bn),Un?gt.texImage2D(yn,Ln,Ia,Ia,Ar,Un):Bn.compressed?gt.compressedTexImage2D(yn,Ln,da,Br,Sr,0,qn):Bn.needsCopy?(mr(),gt.copyTexImage2D(yn,Ln,Ia,Bn.xOffset,Bn.yOffset,Br,Sr,0)):gt.texImage2D(yn,Ln,Ia,Br,Sr,0,Ia,Ar,qn||null)}}function Qe(){var Cr=ya.pop()||new dr;bt.call(Cr);for(var on=Cr.mipmask=0;16>on;++on)Cr.images[on]=null;return Cr}function rt(Cr){for(var on=Cr.images,sn=0;sn<on.length;++sn)on[sn]&&cr(on[sn]),on[sn]=null;ya.push(Cr)}function er(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function tr(Cr,on){"min"in on&&(Cr.minFilter=Tr[on.min],0<=vt.indexOf(Cr.minFilter)&&!("faces"in on)&&(Cr.genMipmaps=!0)),"mag"in on&&(Cr.magFilter=Dr[on.mag]);var sn=Cr.wrapS,un=Cr.wrapT;if("wrap"in on){var Bn=on.wrap;typeof Bn=="string"?sn=un=yr[Bn]:Array.isArray(Bn)&&(sn=yr[Bn[0]],un=yr[Bn[1]])}else"wrapS"in on&&(sn=yr[on.wrapS]),"wrapT"in on&&(un=yr[on.wrapT]);if(Cr.wrapS=sn,Cr.wrapT=un,"anisotropic"in on&&(Cr.anisotropic=on.anisotropic),"mipmap"in on){switch(sn=!1,typeof on.mipmap){case"string":Cr.mipmapHint=Wt[on.mipmap],sn=Cr.genMipmaps=!0;break;case"boolean":sn=Cr.genMipmaps=on.mipmap;break;case"object":Cr.genMipmaps=!1,sn=!0}!sn||"min"in on||(Cr.minFilter=9984)}}function jt(Cr,on){gt.texParameteri(on,10241,Cr.minFilter),gt.texParameteri(on,10240,Cr.magFilter),gt.texParameteri(on,10242,Cr.wrapS),gt.texParameteri(on,10243,Cr.wrapT),Xt.ext_texture_filter_anisotropic&&gt.texParameteri(on,34046,Cr.anisotropic),Cr.genMipmaps&&(gt.hint(33170,Cr.mipmapHint),gt.generateMipmap(on))}function Pt(Cr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Ta++,this.refCount=1,this.target=Cr,this.texture=gt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new er,ut.profile&&(this.stats={size:0})}function Zt(Cr){gt.activeTexture(33984),gt.bindTexture(Cr.target,Cr.texture)}function nr(){var Cr=kn[0];Cr?gt.bindTexture(Cr.target,Cr.texture):gt.bindTexture(3553,null)}function Qt(Cr){var on=Cr.texture,sn=Cr.unit,un=Cr.target;0<=sn&&(gt.activeTexture(33984+sn),gt.bindTexture(un,null),kn[sn]=null),gt.deleteTexture(on),Cr.texture=null,Cr.params=null,Cr.pixels=null,Cr.refCount=0,delete sa[Cr.id],yt.textureCount--}var Wt={"don't care":4352,"dont care":4352,nice:4354,fast:4353},yr={repeat:10497,clamp:33071,mirror:33648},Dr={nearest:9728,linear:9729},Tr=ne({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Dr),dn={none:0,browser:37444},Nr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Cn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},an={};Xt.ext_srgb&&(Cn.srgb=35904,Cn.srgba=35906),Xt.oes_texture_float&&(Nr.float32=Nr.float=5126),Xt.oes_texture_half_float&&(Nr.float16=Nr["half float"]=36193),Xt.webgl_depth_texture&&(ne(Cn,{depth:6402,"depth stencil":34041}),ne(Nr,{uint16:5123,uint32:5125,"depth stencil":34042})),Xt.webgl_compressed_texture_s3tc&&ne(an,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Xt.webgl_compressed_texture_atc&&ne(an,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Xt.webgl_compressed_texture_pvrtc&&ne(an,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Xt.webgl_compressed_texture_etc1&&(an["rgb etc1"]=36196);var gr=Array.prototype.slice.call(gt.getParameter(34467));Object.keys(an).forEach(function(Cr){var on=an[Cr];0<=gr.indexOf(on)&&(Cn[Cr]=on)});var Pr=Object.keys(Cn);$t.textureFormats=Pr;var Xr=[];Object.keys(Cn).forEach(function(Cr){Xr[Cn[Cr]]=Cr});var _r=[];Object.keys(Nr).forEach(function(Cr){_r[Nr[Cr]]=Cr});var gn=[];Object.keys(Dr).forEach(function(Cr){gn[Dr[Cr]]=Cr});var rn=[];Object.keys(Tr).forEach(function(Cr){rn[Tr[Cr]]=Cr});var An=[];Object.keys(yr).forEach(function(Cr){An[yr[Cr]]=Cr});var Pn=Pr.reduce(function(Cr,on){var sn=Cn[on];return sn===6409||sn===6406||sn===6409||sn===6410||sn===6402||sn===34041||Xt.ext_srgb&&(sn===35904||sn===35906)?Cr[sn]=sn:sn===32855||0<=on.indexOf("rgba")?Cr[sn]=6408:Cr[sn]=6407,Cr},{}),Wn=[],ya=[],Ta=0,sa={},aa=$t.maxTextureUnits,kn=Array(aa).map(function(){return null});return ne(Pt.prototype,{bind:function(){this.bindCount+=1;var Cr=this.unit;if(0>Cr){for(var on=0;on<aa;++on){var sn=kn[on];if(sn){if(0<sn.bindCount)continue;sn.unit=-1}kn[on]=this,Cr=on;break}ut.profile&&yt.maxTextureUnits<Cr+1&&(yt.maxTextureUnits=Cr+1),this.unit=Cr,gt.activeTexture(33984+Cr),gt.bindTexture(this.target,this.texture)}return Cr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Qt(this)}}),ut.profile&&(yt.getTotalTextureSize=function(){var Cr=0;return Object.keys(sa).forEach(function(on){Cr+=sa[on].stats.size}),Cr}),{create2D:function(Cr,on){function sn(Bn,yn){var Ln=un.texInfo;er.call(Ln);var Un=Qe();return typeof Bn=="number"?typeof yn=="number"?fr(Un,Bn|0,yn|0):fr(Un,Bn|0,Bn|0):Bn?(tr(Ln,Bn),Lr(Un,Bn)):fr(Un,1,1),Ln.genMipmaps&&(Un.mipmask=(Un.width<<1)-1),un.mipmask=Un.mipmask,Et(un,Un),un.internalformat=Un.internalformat,sn.width=Un.width,sn.height=Un.height,Zt(un),xr(Un,3553),jt(Ln,3553),nr(),rt(Un),ut.profile&&(un.stats.size=w(un.internalformat,un.type,Un.width,Un.height,Ln.genMipmaps,!1)),sn.format=Xr[un.internalformat],sn.type=_r[un.type],sn.mag=gn[Ln.magFilter],sn.min=rn[Ln.minFilter],sn.wrapS=An[Ln.wrapS],sn.wrapT=An[Ln.wrapT],sn}var un=new Pt(3553);return sa[un.id]=un,yt.textureCount++,sn(Cr,on),sn.subimage=function(Bn,yn,Ln,Un){yn|=0,Ln|=0,Un|=0;var qn=hr();return Et(qn,un),qn.width=0,qn.height=0,Nt(qn,Bn),qn.width=qn.width||(un.width>>Un)-yn,qn.height=qn.height||(un.height>>Un)-Ln,Zt(un),Jt(qn,3553,yn,Ln,Un),nr(),cr(qn),sn},sn.resize=function(Bn,yn){var Ln=Bn|0,Un=yn|0||Ln;if(Ln===un.width&&Un===un.height)return sn;sn.width=un.width=Ln,sn.height=un.height=Un,Zt(un);for(var qn=0;un.mipmask>>qn;++qn){var da=Ln>>qn,Ia=Un>>qn;if(!da||!Ia)break;gt.texImage2D(3553,qn,un.format,da,Ia,0,un.format,un.type,null)}return nr(),ut.profile&&(un.stats.size=w(un.internalformat,un.type,Ln,Un,!1,!1)),sn},sn._reglType="texture2d",sn._texture=un,ut.profile&&(sn.stats=un.stats),sn.destroy=function(){un.decRef()},sn},createCube:function(Cr,on,sn,un,Bn,yn){function Ln(da,Ia,Ar,Br,Sr,Ur){var fn,Dn=Un.texInfo;for(er.call(Dn),fn=0;6>fn;++fn)qn[fn]=Qe();if(typeof da=="number"||!da)for(da=da|0||1,fn=0;6>fn;++fn)fr(qn[fn],da,da);else if(typeof da=="object")if(Ia)Lr(qn[0],da),Lr(qn[1],Ia),Lr(qn[2],Ar),Lr(qn[3],Br),Lr(qn[4],Sr),Lr(qn[5],Ur);else if(tr(Dn,da),It(Un,da),"faces"in da)for(da=da.faces,fn=0;6>fn;++fn)Et(qn[fn],Un),Lr(qn[fn],da[fn]);else for(fn=0;6>fn;++fn)Lr(qn[fn],da);for(Et(Un,qn[0]),Un.mipmask=Dn.genMipmaps?(qn[0].width<<1)-1:qn[0].mipmask,Un.internalformat=qn[0].internalformat,Ln.width=qn[0].width,Ln.height=qn[0].height,Zt(Un),fn=0;6>fn;++fn)xr(qn[fn],34069+fn);for(jt(Dn,34067),nr(),ut.profile&&(Un.stats.size=w(Un.internalformat,Un.type,Ln.width,Ln.height,Dn.genMipmaps,!0)),Ln.format=Xr[Un.internalformat],Ln.type=_r[Un.type],Ln.mag=gn[Dn.magFilter],Ln.min=rn[Dn.minFilter],Ln.wrapS=An[Dn.wrapS],Ln.wrapT=An[Dn.wrapT],fn=0;6>fn;++fn)rt(qn[fn]);return Ln}var Un=new Pt(34067);sa[Un.id]=Un,yt.cubeCount++;var qn=Array(6);return Ln(Cr,on,sn,un,Bn,yn),Ln.subimage=function(da,Ia,Ar,Br,Sr){Ar|=0,Br|=0,Sr|=0;var Ur=hr();return Et(Ur,Un),Ur.width=0,Ur.height=0,Nt(Ur,Ia),Ur.width=Ur.width||(Un.width>>Sr)-Ar,Ur.height=Ur.height||(Un.height>>Sr)-Br,Zt(Un),Jt(Ur,34069+da,Ar,Br,Sr),nr(),cr(Ur),Ln},Ln.resize=function(da){if(da|=0,da!==Un.width){Ln.width=Un.width=da,Ln.height=Un.height=da,Zt(Un);for(var Ia=0;6>Ia;++Ia)for(var Ar=0;Un.mipmask>>Ar;++Ar)gt.texImage2D(34069+Ia,Ar,Un.format,da>>Ar,da>>Ar,0,Un.format,Un.type,null);return nr(),ut.profile&&(Un.stats.size=w(Un.internalformat,Un.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=Un,ut.profile&&(Ln.stats=Un.stats),Ln.destroy=function(){Un.decRef()},Ln},clear:function(){for(var Cr=0;Cr<aa;++Cr)gt.activeTexture(33984+Cr),gt.bindTexture(3553,null),kn[Cr]=null;Me(sa).forEach(Qt),yt.cubeCount=0,yt.textureCount=0},getTexture:function(Cr){return null},restore:function(){for(var Cr=0;Cr<aa;++Cr){var on=kn[Cr];on&&(on.bindCount=0,on.unit=-1,kn[Cr]=null)}Me(sa).forEach(function(sn){sn.texture=gt.createTexture(),gt.bindTexture(sn.target,sn.texture);for(var un=0;32>un;++un)if(sn.mipmask&1<<un)if(sn.target===3553)gt.texImage2D(3553,un,sn.internalformat,sn.width>>un,sn.height>>un,0,sn.internalformat,sn.type,null);else for(var Bn=0;6>Bn;++Bn)gt.texImage2D(34069+Bn,un,sn.internalformat,sn.width>>un,sn.height>>un,0,sn.internalformat,sn.type,null);jt(sn.texInfo,sn.target)})},refresh:function(){for(var Cr=0;Cr<aa;++Cr){var on=kn[Cr];on&&(on.bindCount=0,on.unit=-1,kn[Cr]=null),gt.activeTexture(33984+Cr),gt.bindTexture(3553,null),gt.bindTexture(34067,null)}}}}function I(gt,Xt,$t,mr,or,yt){function ut(Pt,Zt,nr){this.target=Pt,this.texture=Zt,this.renderbuffer=nr;var Qt=Pt=0;Zt?(Pt=Zt.width,Qt=Zt.height):nr&&(Pt=nr.width,Qt=nr.height),this.width=Pt,this.height=Qt}function bt(Pt){Pt&&(Pt.texture&&Pt.texture._texture.decRef(),Pt.renderbuffer&&Pt.renderbuffer._renderbuffer.decRef())}function Et(Pt,Zt,nr){Pt&&(Pt.texture?Pt.texture._texture.refCount+=1:Pt.renderbuffer._renderbuffer.refCount+=1)}function It(Pt,Zt){Zt&&(Zt.texture?gt.framebufferTexture2D(36160,Pt,Zt.target,Zt.texture._texture.texture,0):gt.framebufferRenderbuffer(36160,Pt,36161,Zt.renderbuffer._renderbuffer.renderbuffer))}function Ft(Pt){var Zt=3553,nr=null,Qt=null,Wt=Pt;return typeof Pt=="object"&&(Wt=Pt.data,"target"in Pt&&(Zt=Pt.target|0)),Pt=Wt._reglType,Pt==="texture2d"||Pt==="textureCube"?nr=Wt:Pt==="renderbuffer"&&(Qt=Wt,Zt=36161),new ut(Zt,nr,Qt)}function Ot(Pt,Zt,nr,Qt,Wt){return nr?(Pt=mr.create2D({width:Pt,height:Zt,format:Qt,type:Wt}),Pt._texture.refCount=0,new ut(3553,Pt,null)):(Pt=or.create({width:Pt,height:Zt,format:Qt}),Pt._renderbuffer.refCount=0,new ut(36161,null,Pt))}function Nt(Pt){return Pt&&(Pt.texture||Pt.renderbuffer)}function Jt(Pt,Zt,nr){Pt&&(Pt.texture?Pt.texture.resize(Zt,nr):Pt.renderbuffer&&Pt.renderbuffer.resize(Zt,nr),Pt.width=Zt,Pt.height=nr)}function hr(){this.id=tr++,jt[this.id]=this,this.framebuffer=gt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Pt){Pt.colorAttachments.forEach(bt),bt(Pt.depthAttachment),bt(Pt.stencilAttachment),bt(Pt.depthStencilAttachment)}function dr(Pt){gt.deleteFramebuffer(Pt.framebuffer),Pt.framebuffer=null,yt.framebufferCount--,delete jt[Pt.id]}function fr(Pt){var Zt;gt.bindFramebuffer(36160,Pt.framebuffer);var nr=Pt.colorAttachments;for(Zt=0;Zt<nr.length;++Zt)It(36064+Zt,nr[Zt]);for(Zt=nr.length;Zt<$t.maxColorAttachments;++Zt)gt.framebufferTexture2D(36160,36064+Zt,3553,null,0);gt.framebufferTexture2D(36160,33306,3553,null,0),gt.framebufferTexture2D(36160,36096,3553,null,0),gt.framebufferTexture2D(36160,36128,3553,null,0),It(36096,Pt.depthAttachment),It(36128,Pt.stencilAttachment),It(33306,Pt.depthStencilAttachment),gt.checkFramebufferStatus(36160),gt.isContextLost(),gt.bindFramebuffer(36160,xr.next?xr.next.framebuffer:null),xr.cur=xr.next,gt.getError()}function Lr(Pt,Zt){function nr(Wt,yr){var Dr,Tr=0,dn=0,Nr=!0,Cn=!0;Dr=null;var an=!0,gr="rgba",Pr="uint8",Xr=1,_r=null,gn=null,rn=null,An=!1;typeof Wt=="number"?(Tr=Wt|0,dn=yr|0||Tr):Wt?("shape"in Wt?(dn=Wt.shape,Tr=dn[0],dn=dn[1]):("radius"in Wt&&(Tr=dn=Wt.radius),"width"in Wt&&(Tr=Wt.width),"height"in Wt&&(dn=Wt.height)),("color"in Wt||"colors"in Wt)&&(Dr=Wt.color||Wt.colors),Dr||("colorCount"in Wt&&(Xr=Wt.colorCount|0),"colorTexture"in Wt&&(an=!!Wt.colorTexture,gr="rgba4"),"colorType"in Wt&&(Pr=Wt.colorType,!an)&&(Pr==="half float"||Pr==="float16"?gr="rgba16f":(Pr==="float"||Pr==="float32")&&(gr="rgba32f")),"colorFormat"in Wt&&(gr=Wt.colorFormat,0<=Qe.indexOf(gr)?an=!0:0<=rt.indexOf(gr)&&(an=!1))),("depthTexture"in Wt||"depthStencilTexture"in Wt)&&(An=!(!Wt.depthTexture&&!Wt.depthStencilTexture)),"depth"in Wt&&(typeof Wt.depth=="boolean"?Nr=Wt.depth:(_r=Wt.depth,Cn=!1)),"stencil"in Wt&&(typeof Wt.stencil=="boolean"?Cn=Wt.stencil:(gn=Wt.stencil,Nr=!1)),"depthStencil"in Wt&&(typeof Wt.depthStencil=="boolean"?Nr=Cn=Wt.depthStencil:(rn=Wt.depthStencil,Cn=Nr=!1))):Tr=dn=1;var Pn=null,Wn=null,ya=null,Ta=null;if(Array.isArray(Dr))Pn=Dr.map(Ft);else if(Dr)Pn=[Ft(Dr)];else for(Pn=Array(Xr),Dr=0;Dr<Xr;++Dr)Pn[Dr]=Ot(Tr,dn,an,gr,Pr);for(Tr=Tr||Pn[0].width,dn=dn||Pn[0].height,_r?Wn=Ft(_r):Nr&&!Cn&&(Wn=Ot(Tr,dn,An,"depth","uint32")),gn?ya=Ft(gn):Cn&&!Nr&&(ya=Ot(Tr,dn,!1,"stencil","uint8")),rn?Ta=Ft(rn):!_r&&!gn&&Cn&&Nr&&(Ta=Ot(Tr,dn,An,"depth stencil","depth stencil")),Nr=null,Dr=0;Dr<Pn.length;++Dr)Et(Pn[Dr]),Pn[Dr]&&Pn[Dr].texture&&(Cn=be[Pn[Dr].texture._texture.format]*Ne[Pn[Dr].texture._texture.type],Nr===null&&(Nr=Cn));return Et(Wn),Et(ya),Et(Ta),cr(Qt),Qt.width=Tr,Qt.height=dn,Qt.colorAttachments=Pn,Qt.depthAttachment=Wn,Qt.stencilAttachment=ya,Qt.depthStencilAttachment=Ta,nr.color=Pn.map(Nt),nr.depth=Nt(Wn),nr.stencil=Nt(ya),nr.depthStencil=Nt(Ta),nr.width=Qt.width,nr.height=Qt.height,fr(Qt),nr}var Qt=new hr;return yt.framebufferCount++,nr(Pt,Zt),ne(nr,{resize:function(Wt,yr){var Dr=Math.max(Wt|0,1),Tr=Math.max(yr|0||Dr,1);if(Dr===Qt.width&&Tr===Qt.height)return nr;for(var dn=Qt.colorAttachments,Nr=0;Nr<dn.length;++Nr)Jt(dn[Nr],Dr,Tr);return Jt(Qt.depthAttachment,Dr,Tr),Jt(Qt.stencilAttachment,Dr,Tr),Jt(Qt.depthStencilAttachment,Dr,Tr),Qt.width=nr.width=Dr,Qt.height=nr.height=Tr,fr(Qt),nr},_reglType:"framebuffer",_framebuffer:Qt,destroy:function(){dr(Qt),cr(Qt)},use:function(Wt){xr.setFBO({framebuffer:nr},Wt)}})}var xr={cur:null,next:null,dirty:!1,setFBO:null},Qe=["rgba"],rt=["rgba4","rgb565","rgb5 a1"];Xt.ext_srgb&&rt.push("srgba"),Xt.ext_color_buffer_half_float&&rt.push("rgba16f","rgb16f"),Xt.webgl_color_buffer_float&&rt.push("rgba32f");var er=["uint8"];Xt.oes_texture_half_float&&er.push("half float","float16"),Xt.oes_texture_float&&er.push("float","float32");var tr=0,jt={};return ne(xr,{getFramebuffer:function(Pt){return typeof Pt=="function"&&Pt._reglType==="framebuffer"&&(Pt=Pt._framebuffer,Pt instanceof hr)?Pt:null},create:Lr,createCube:function(Pt){function Zt(Qt){var Wt,yr={color:null},Dr=0,Tr=null;Wt="rgba";var dn="uint8",Nr=1;if(typeof Qt=="number"?Dr=Qt|0:Qt?("shape"in Qt?Dr=Qt.shape[0]:("radius"in Qt&&(Dr=Qt.radius|0),"width"in Qt?Dr=Qt.width|0:"height"in Qt&&(Dr=Qt.height|0)),("color"in Qt||"colors"in Qt)&&(Tr=Qt.color||Qt.colors),Tr||("colorCount"in Qt&&(Nr=Qt.colorCount|0),"colorType"in Qt&&(dn=Qt.colorType),"colorFormat"in Qt&&(Wt=Qt.colorFormat)),"depth"in Qt&&(yr.depth=Qt.depth),"stencil"in Qt&&(yr.stencil=Qt.stencil),"depthStencil"in Qt&&(yr.depthStencil=Qt.depthStencil)):Dr=1,Tr)if(Array.isArray(Tr))for(Qt=[],Wt=0;Wt<Tr.length;++Wt)Qt[Wt]=Tr[Wt];else Qt=[Tr];else for(Qt=Array(Nr),Tr={radius:Dr,format:Wt,type:dn},Wt=0;Wt<Nr;++Wt)Qt[Wt]=mr.createCube(Tr);for(yr.color=Array(Qt.length),Wt=0;Wt<Qt.length;++Wt)Nr=Qt[Wt],Dr=Dr||Nr.width,yr.color[Wt]={target:34069,data:Qt[Wt]};for(Wt=0;6>Wt;++Wt){for(Nr=0;Nr<Qt.length;++Nr)yr.color[Nr].target=34069+Wt;0<Wt&&(yr.depth=nr[0].depth,yr.stencil=nr[0].stencil,yr.depthStencil=nr[0].depthStencil),nr[Wt]?nr[Wt](yr):nr[Wt]=Lr(yr)}return ne(Zt,{width:Dr,height:Dr,color:Qt})}var nr=Array(6);return Zt(Pt),ne(Zt,{faces:nr,resize:function(Qt){var Wt=Qt|0;if(Wt===Zt.width)return Zt;var yr=Zt.color;for(Qt=0;Qt<yr.length;++Qt)yr[Qt].resize(Wt);for(Qt=0;6>Qt;++Qt)nr[Qt].resize(Wt);return Zt.width=Zt.height=Wt,Zt},_reglType:"framebufferCube",destroy:function(){nr.forEach(function(Qt){Qt.destroy()})}})},clear:function(){Me(jt).forEach(dr)},restore:function(){xr.cur=null,xr.next=null,xr.dirty=!0,Me(jt).forEach(function(Pt){Pt.framebuffer=gt.createFramebuffer(),fr(Pt)})}})}function H(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function O(gt,Xt,$t,mr,or,yt,ut){function bt(fr){if(fr!==dr.currentVAO){var Lr=Xt.oes_vertex_array_object;fr?Lr.bindVertexArrayOES(fr.vao):Lr.bindVertexArrayOES(null),dr.currentVAO=fr}}function Et(fr){if(fr!==dr.currentVAO){if(fr)fr.bindAttrs();else{for(var Lr=Xt.angle_instanced_arrays,xr=0;xr<Jt.length;++xr){var Qe=Jt[xr];Qe.buffer?(gt.enableVertexAttribArray(xr),Qe.buffer.bind(),gt.vertexAttribPointer(xr,Qe.size,Qe.type,Qe.normalized,Qe.stride,Qe.offfset),Lr&&Qe.divisor&&Lr.vertexAttribDivisorANGLE(xr,Qe.divisor)):(gt.disableVertexAttribArray(xr),gt.vertexAttrib4f(xr,Qe.x,Qe.y,Qe.z,Qe.w))}ut.elements?gt.bindBuffer(34963,ut.elements.buffer.buffer):gt.bindBuffer(34963,null)}dr.currentVAO=fr}}function It(){Me(cr).forEach(function(fr){fr.destroy()})}function Ft(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var fr=Xt.oes_vertex_array_object;this.vao=fr?fr.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Ot(){Xt.oes_vertex_array_object&&Me(cr).forEach(function(fr){fr.refresh()})}var Nt=$t.maxAttributes,Jt=Array(Nt);for($t=0;$t<Nt;++$t)Jt[$t]=new H;var hr=0,cr={},dr={Record:H,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:Xt.oes_vertex_array_object?Ot:function(){},createVAO:function(fr){function Lr(Qe){var rt;Array.isArray(Qe)?(rt=Qe,xr.elements&&xr.ownsElements&&xr.elements.destroy(),xr.elements=null,xr.ownsElements=!1,xr.offset=0,xr.count=0,xr.instances=-1,xr.primitive=4):(Qe.elements?(rt=Qe.elements,xr.ownsElements?(typeof rt=="function"&&rt._reglType==="elements"?xr.elements.destroy():xr.elements(rt),xr.ownsElements=!1):yt.getElements(Qe.elements)?(xr.elements=Qe.elements,xr.ownsElements=!1):(xr.elements=yt.create(Qe.elements),xr.ownsElements=!0)):(xr.elements=null,xr.ownsElements=!1),rt=Qe.attributes,xr.offset=0,xr.count=-1,xr.instances=-1,xr.primitive=4,xr.elements&&(xr.count=xr.elements._elements.vertCount,xr.primitive=xr.elements._elements.primType),"offset"in Qe&&(xr.offset=Qe.offset|0),"count"in Qe&&(xr.count=Qe.count|0),"instances"in Qe&&(xr.instances=Qe.instances|0),"primitive"in Qe&&(xr.primitive=Je[Qe.primitive])),Qe={};var er=xr.attributes;er.length=rt.length;for(var tr=0;tr<rt.length;++tr){var jt=rt[tr],Pt=er[tr]=new H,Zt=jt.data||jt;if(Array.isArray(Zt)||ze(Zt)||f(Zt)){var nr;xr.buffers[tr]&&(nr=xr.buffers[tr],ze(Zt)&&nr._buffer.byteLength>=Zt.byteLength?nr.subdata(Zt):(nr.destroy(),xr.buffers[tr]=null)),xr.buffers[tr]||(nr=xr.buffers[tr]=or.create(jt,34962,!1,!0)),Pt.buffer=or.getBuffer(nr),Pt.size=Pt.buffer.dimension|0,Pt.normalized=!1,Pt.type=Pt.buffer.dtype,Pt.offset=0,Pt.stride=0,Pt.divisor=0,Pt.state=1,Qe[tr]=1}else or.getBuffer(jt)?(Pt.buffer=or.getBuffer(jt),Pt.size=Pt.buffer.dimension|0,Pt.normalized=!1,Pt.type=Pt.buffer.dtype,Pt.offset=0,Pt.stride=0,Pt.divisor=0,Pt.state=1):or.getBuffer(jt.buffer)?(Pt.buffer=or.getBuffer(jt.buffer),Pt.size=(+jt.size||Pt.buffer.dimension)|0,Pt.normalized=!!jt.normalized||!1,Pt.type="type"in jt?Oe[jt.type]:Pt.buffer.dtype,Pt.offset=(jt.offset||0)|0,Pt.stride=(jt.stride||0)|0,Pt.divisor=(jt.divisor||0)|0,Pt.state=1):"x"in jt&&(Pt.x=+jt.x||0,Pt.y=+jt.y||0,Pt.z=+jt.z||0,Pt.w=+jt.w||0,Pt.state=2)}for(nr=0;nr<xr.buffers.length;++nr)!Qe[nr]&&xr.buffers[nr]&&(xr.buffers[nr].destroy(),xr.buffers[nr]=null);return xr.refresh(),Lr}var xr=new Ft;return mr.vaoCount+=1,Lr.destroy=function(){for(var Qe=0;Qe<xr.buffers.length;++Qe)xr.buffers[Qe]&&xr.buffers[Qe].destroy();xr.buffers.length=0,xr.ownsElements&&(xr.elements.destroy(),xr.elements=null,xr.ownsElements=!1),xr.destroy()},Lr._vao=xr,Lr._reglType="vao",Lr(fr)},getVAO:function(fr){return typeof fr=="function"&&fr._vao?fr._vao:null},destroyBuffer:function(fr){for(var Lr=0;Lr<Jt.length;++Lr){var xr=Jt[Lr];xr.buffer===fr&&(gt.disableVertexAttribArray(Lr),xr.buffer=null)}},setVAO:Xt.oes_vertex_array_object?bt:Et,clear:Xt.oes_vertex_array_object?It:function(){}};return Ft.prototype.bindAttrs=function(){for(var fr=Xt.angle_instanced_arrays,Lr=this.attributes,xr=0;xr<Lr.length;++xr){var Qe=Lr[xr];Qe.buffer?(gt.enableVertexAttribArray(xr),gt.bindBuffer(34962,Qe.buffer.buffer),gt.vertexAttribPointer(xr,Qe.size,Qe.type,Qe.normalized,Qe.stride,Qe.offset),fr&&Qe.divisor&&fr.vertexAttribDivisorANGLE(xr,Qe.divisor)):(gt.disableVertexAttribArray(xr),gt.vertexAttrib4f(xr,Qe.x,Qe.y,Qe.z,Qe.w))}for(fr=Lr.length;fr<Nt;++fr)gt.disableVertexAttribArray(fr);(fr=yt.getElements(this.elements))?gt.bindBuffer(34963,fr.buffer.buffer):gt.bindBuffer(34963,null)},Ft.prototype.refresh=function(){var fr=Xt.oes_vertex_array_object;fr&&(fr.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,fr.bindVertexArrayOES(null))},Ft.prototype.destroy=function(){if(this.vao){var fr=Xt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,fr.bindVertexArrayOES(null)),fr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--mr.vaoCount)},dr}function V(gt,Xt,$t,mr){function or(hr,cr,dr,fr){this.name=hr,this.id=cr,this.location=dr,this.info=fr}function yt(hr,cr){for(var dr=0;dr<hr.length;++dr)if(hr[dr].id===cr.id){hr[dr].location=cr.location;return}hr.push(cr)}function ut(hr,cr,dr){dr=hr===35632?It:Ft;var fr=dr[cr];if(!fr){var Lr=Xt.str(cr),fr=gt.createShader(hr);gt.shaderSource(fr,Lr),gt.compileShader(fr),dr[cr]=fr}return fr}function bt(hr,cr){this.id=Jt++,this.fragId=hr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(hr,cr,dr){var fr;fr=ut(35632,hr.fragId);var Lr=ut(35633,hr.vertId);if(cr=hr.program=gt.createProgram(),gt.attachShader(cr,fr),gt.attachShader(cr,Lr),dr)for(fr=0;fr<dr.length;++fr)Lr=dr[fr],gt.bindAttribLocation(cr,Lr[0],Lr[1]);gt.linkProgram(cr),Lr=gt.getProgramParameter(cr,35718),mr.profile&&(hr.stats.uniformsCount=Lr);var xr=hr.uniforms;for(fr=0;fr<Lr;++fr)if(dr=gt.getActiveUniform(cr,fr))if(1<dr.size)for(var Qe=0;Qe<dr.size;++Qe){var rt=dr.name.replace("[0]","["+Qe+"]");yt(xr,new or(rt,Xt.id(rt),gt.getUniformLocation(cr,rt),dr))}else yt(xr,new or(dr.name,Xt.id(dr.name),gt.getUniformLocation(cr,dr.name),dr));for(Lr=gt.getProgramParameter(cr,35721),mr.profile&&(hr.stats.attributesCount=Lr),hr=hr.attributes,fr=0;fr<Lr;++fr)(dr=gt.getActiveAttrib(cr,fr))&&yt(hr,new or(dr.name,Xt.id(dr.name),gt.getAttribLocation(cr,dr.name),dr))}var It={},Ft={},Ot={},Nt=[],Jt=0;return mr.profile&&($t.getMaxUniformsCount=function(){var hr=0;return Nt.forEach(function(cr){cr.stats.uniformsCount>hr&&(hr=cr.stats.uniformsCount)}),hr},$t.getMaxAttributesCount=function(){var hr=0;return Nt.forEach(function(cr){cr.stats.attributesCount>hr&&(hr=cr.stats.attributesCount)}),hr}),{clear:function(){var hr=gt.deleteShader.bind(gt);Me(It).forEach(hr),It={},Me(Ft).forEach(hr),Ft={},Nt.forEach(function(cr){gt.deleteProgram(cr.program)}),Nt.length=0,Ot={},$t.shaderCount=0},program:function(hr,cr,dr,fr){var Lr=Ot[cr];Lr||(Lr=Ot[cr]={});var xr=Lr[hr];if(xr&&(xr.refCount++,!fr))return xr;var Qe=new bt(cr,hr);return $t.shaderCount++,Et(Qe,dr,fr),xr||(Lr[hr]=Qe),Nt.push(Qe),ne(Qe,{destroy:function(){if(Qe.refCount--,0>=Qe.refCount){gt.deleteProgram(Qe.program);var rt=Nt.indexOf(Qe);Nt.splice(rt,1),$t.shaderCount--}0>=Lr[Qe.vertId].refCount&&(gt.deleteShader(Ft[Qe.vertId]),delete Ft[Qe.vertId],delete Ot[Qe.fragId][Qe.vertId]),Object.keys(Ot[Qe.fragId]).length||(gt.deleteShader(It[Qe.fragId]),delete It[Qe.fragId],delete Ot[Qe.fragId])}})},restore:function(){It={},Ft={};for(var hr=0;hr<Nt.length;++hr)Et(Nt[hr],null,Nt[hr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:ut,frag:-1,vert:-1}}function B(gt,Xt,$t,mr,or,yt,ut){function bt(It){var Ft;Ft=Xt.next===null?5121:Xt.next.colorAttachments[0].texture._texture.type;var Ot=0,Nt=0,Jt=mr.framebufferWidth,hr=mr.framebufferHeight,cr=null;return ze(It)?cr=It:It&&(Ot=It.x|0,Nt=It.y|0,Jt=(It.width||mr.framebufferWidth-Ot)|0,hr=(It.height||mr.framebufferHeight-Nt)|0,cr=It.data||null),$t(),It=Jt*hr*4,cr||(Ft===5121?cr=new Uint8Array(It):Ft===5126&&(cr=cr||new Float32Array(It))),gt.pixelStorei(3333,4),gt.readPixels(Ot,Nt,Jt,hr,6408,Ft,cr),cr}function Et(It){var Ft;return Xt.setFBO({framebuffer:It.framebuffer},function(){Ft=bt(It)}),Ft}return function(It){return It&&"framebuffer"in It?Et(It):bt(It)}}function F(gt){for(var Xt=Array(gt.length>>2),mr=0;mr<Xt.length;mr++)Xt[mr]=0;for(mr=0;mr<8*gt.length;mr+=8)Xt[mr>>5]|=(gt.charCodeAt(mr/8)&255)<<24-mr%32;var $t=8*gt.length;gt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),or,yt,ut,bt,Et,It,Ft,Ot,Nt,Jt,hr;for(Xt[$t>>5]|=128<<24-$t%32,Xt[($t+64>>9<<4)+15]=$t,Ot=0;Ot<Xt.length;Ot+=16){for($t=gt[0],or=gt[1],yt=gt[2],ut=gt[3],bt=gt[4],Et=gt[5],It=gt[6],Ft=gt[7],Nt=0;64>Nt;Nt++){if(16>Nt)mr[Nt]=Xt[Nt+Ot];else{Jt=Nt,hr=mr[Nt-2],hr=Q(hr,17)^Q(hr,19)^hr>>>10,hr=te(hr,mr[Nt-7]);var cr;cr=mr[Nt-15],cr=Q(cr,7)^Q(cr,18)^cr>>>3,mr[Jt]=te(te(hr,cr),mr[Nt-16])}Jt=bt,Jt=Q(Jt,6)^Q(Jt,11)^Q(Jt,25),Jt=te(te(te(te(Ft,Jt),bt&Et^~bt&It),Ye[Nt]),mr[Nt]),Ft=$t,Ft=Q(Ft,2)^Q(Ft,13)^Q(Ft,22),hr=te(Ft,$t&or^$t&yt^or&yt),Ft=It,It=Et,Et=bt,bt=te(ut,Jt),ut=yt,yt=or,or=$t,$t=te(Jt,hr)}gt[0]=te($t,gt[0]),gt[1]=te(or,gt[1]),gt[2]=te(yt,gt[2]),gt[3]=te(ut,gt[3]),gt[4]=te(bt,gt[4]),gt[5]=te(Et,gt[5]),gt[6]=te(It,gt[6]),gt[7]=te(Ft,gt[7])}for(Xt="",mr=0;mr<32*gt.length;mr+=8)Xt+=String.fromCharCode(gt[mr>>5]>>>24-mr%32&255);return Xt}function G(gt){for(var Xt="",$t,mr=0;mr<gt.length;mr++)$t=gt.charCodeAt(mr),Xt+="0123456789abcdef".charAt($t>>>4&15)+"0123456789abcdef".charAt($t&15);return Xt}function Y(gt){for(var Xt="",$t=-1,mr,or;++$t<gt.length;)mr=gt.charCodeAt($t),or=$t+1<gt.length?gt.charCodeAt($t+1):0,55296<=mr&&56319>=mr&&56320<=or&&57343>=or&&(mr=65536+((mr&1023)<<10)+(or&1023),$t++),127>=mr?Xt+=String.fromCharCode(mr):2047>=mr?Xt+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?Xt+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(Xt+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return Xt}function Q(gt,Xt){return gt>>>Xt|gt<<32-Xt}function te(gt,Xt){var $t=(gt&65535)+(Xt&65535);return(gt>>16)+(Xt>>16)+($t>>16)<<16|$t&65535}function ae(gt){return Array.prototype.slice.call(gt)}function fe(gt){return ae(gt).join("")}function oe(gt){function Xt(){var Ft=[],Ot=[];return ne(function(){Ft.push.apply(Ft,ae(arguments))},{def:function(){var Nt="v"+or++;return Ot.push(Nt),0<arguments.length&&(Ft.push(Nt,"="),Ft.push.apply(Ft,ae(arguments)),Ft.push(";")),Nt},toString:function(){return fe([0<Ot.length?"var "+Ot.join(",")+";":"",fe(Ft)])}})}function $t(){function Ft(cr,dr){Nt(cr,dr,"=",Ot.def(cr,dr),";")}var Ot=Xt(),Nt=Xt(),Jt=Ot.toString,hr=Nt.toString;return ne(function(){Ot.apply(Ot,ae(arguments))},{def:Ot.def,entry:Ot,exit:Nt,save:Ft,set:function(cr,dr,fr){Ft(cr,dr),Ot(cr,dr,"=",fr,";")},toString:function(){return Jt()+hr()}})}var mr=gt&&gt.cache,or=0,yt=[],ut=[],bt=[],Et=Xt(),It={};return{global:Et,link:function(Ft,Ot){var Nt=Ot&&Ot.stable;if(!Nt){for(var Jt=0;Jt<ut.length;++Jt)if(ut[Jt]===Ft&&!bt[Jt])return yt[Jt]}return Jt="g"+or++,yt.push(Jt),ut.push(Ft),bt.push(Nt),Jt},block:Xt,proc:function(Ft,Ot){function Nt(){var dr="a"+Jt.length;return Jt.push(dr),dr}var Jt=[];Ot=Ot||0;for(var hr=0;hr<Ot;++hr)Nt();var hr=$t(),cr=hr.toString;return It[Ft]=ne(hr,{arg:Nt,toString:function(){return fe(["function(",Jt.join(),"){",cr(),"}"])}})},scope:$t,cond:function(){var Ft=fe(arguments),Ot=$t(),Nt=$t(),Jt=Ot.toString,hr=Nt.toString;return ne(Ot,{then:function(){return Ot.apply(Ot,ae(arguments)),this},else:function(){return Nt.apply(Nt,ae(arguments)),this},toString:function(){var cr=hr();return cr&&(cr="else{"+cr+"}"),fe(["if(",Ft,"){",Jt(),"}",cr])}})},compile:function(){var Ft=['"use strict";',Et,"return {"];Object.keys(It).forEach(function(Jt){Ft.push('"',Jt,'":',It[Jt].toString(),",")}),Ft.push("}");var Ot=fe(Ft).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return mr&&(Nt=G(F(Y(Ot))),mr[Nt])?mr[Nt].apply(null,ut):(Ot=Function.apply(null,yt.concat(Ot)),mr&&(mr[Nt]=Ot),Ot.apply(null,ut))}}}function J(gt){return Array.isArray(gt)||ze(gt)||f(gt)}function ee(gt){return gt.sort(function(Xt,$t){return Xt==="viewport"?-1:$t==="viewport"?1:Xt<$t?-1:1})}function X(gt,Xt,$t,mr){this.thisDep=gt,this.contextDep=Xt,this.propDep=$t,this.append=mr}function q(gt){return gt&&!(gt.thisDep||gt.contextDep||gt.propDep)}function le(gt){return new X(!1,!1,!1,gt)}function $(gt,Xt){var $t=gt.type;if($t===0)return $t=gt.data.length,new X(!0,1<=$t,2<=$t,Xt);if($t===4)return $t=gt.data,new X($t.thisDep,$t.contextDep,$t.propDep,Xt);if($t===5)return new X(!1,!1,!1,Xt);if($t===6){for(var mr=$t=!1,or=!1,yt=0;yt<gt.data.length;++yt){var ut=gt.data[yt];ut.type===1?or=!0:ut.type===2?mr=!0:ut.type===3?$t=!0:ut.type===0?($t=!0,ut=ut.data,1<=ut&&(mr=!0),2<=ut&&(or=!0)):ut.type===4&&($t=$t||ut.data.thisDep,mr=mr||ut.data.contextDep,or=or||ut.data.propDep)}return new X($t,mr,or,Xt)}return new X($t===3,$t===2,$t===1,Xt)}function j(gt,Xt,$t,mr,or,yt,ut,bt,Et,It,Ft,Ot,Nt,Jt,hr,cr){function dr(Ar){return Ar.replace(".","_")}function fr(Ar,Br,Sr){var Ur=dr(Ar);yn.push(Ar),Bn[Ur]=un[Ur]=!!Sr,Ln[Ur]=Br}function Lr(Ar,Br,Sr){var Ur=dr(Ar);yn.push(Ar),Array.isArray(Sr)?(un[Ur]=Sr.slice(),Bn[Ur]=Sr.slice()):un[Ur]=Bn[Ur]=Sr,Un[Ur]=Br}function xr(){var Ar=oe({cache:hr}),Br=Ar.link,Sr=Ar.global;Ar.id=Ia++,Ar.batchId="0";var Ur=Br(qn),fn=Ar.shared={props:"a0"};Object.keys(qn).forEach(function(Yr){fn[Yr]=Sr.def(Ur,".",Yr)});var Dn=Ar.next={},xn=Ar.current={};Object.keys(Un).forEach(function(Yr){Array.isArray(un[Yr])&&(Dn[Yr]=Sr.def(fn.next,".",Yr),xn[Yr]=Sr.def(fn.current,".",Yr))});var hn=Ar.constants={};Object.keys(da).forEach(function(Yr){hn[Yr]=Sr.def(JSON.stringify(da[Yr]))}),Ar.invoke=function(Yr,Wr){switch(Wr.type){case 0:var qr=["this",fn.context,fn.props,Ar.batchId];return Yr.def(Br(Wr.data),".call(",qr.slice(0,Math.max(Wr.data.length+1,4)),")");case 1:return Yr.def(fn.props,Wr.data);case 2:return Yr.def(fn.context,Wr.data);case 3:return Yr.def("this",Wr.data);case 4:return Wr.data.append(Ar,Yr),Wr.data.ref;case 5:return Wr.data.toString();case 6:return Wr.data.map(function(Tn){return Ar.invoke(Yr,Tn)})}},Ar.attribCache={};var Er={};return Ar.scopeAttrib=function(Yr){if(Yr=Xt.id(Yr),Yr in Er)return Er[Yr];var Wr=It.scope[Yr];return Wr||(Wr=It.scope[Yr]=new aa),Er[Yr]=Br(Wr)},Ar}function Qe(Ar){var Br=Ar.static;Ar=Ar.dynamic;var Sr;if("profile"in Br){var Ur=!!Br.profile;Sr=le(function(Dn,xn){return Ur}),Sr.enable=Ur}else if("profile"in Ar){var fn=Ar.profile;Sr=$(fn,function(Dn,xn){return Dn.invoke(xn,fn)})}return Sr}function rt(Ar,Br){var Sr=Ar.static,Ur=Ar.dynamic;if("framebuffer"in Sr){var fn=Sr.framebuffer;return fn?(fn=bt.getFramebuffer(fn),le(function(xn,hn){var Er=xn.link(fn),Yr=xn.shared;return hn.set(Yr.framebuffer,".next",Er),Yr=Yr.context,hn.set(Yr,".framebufferWidth",Er+".width"),hn.set(Yr,".framebufferHeight",Er+".height"),Er})):le(function(xn,hn){var Er=xn.shared;return hn.set(Er.framebuffer,".next","null"),Er=Er.context,hn.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),hn.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Ur){var Dn=Ur.framebuffer;return $(Dn,function(xn,hn){var Wr=xn.invoke(hn,Dn),Er=xn.shared,Yr=Er.framebuffer,Wr=hn.def(Yr,".getFramebuffer(",Wr,")");return hn.set(Yr,".next",Wr),Er=Er.context,hn.set(Er,".framebufferWidth",Wr+"?"+Wr+".width:"+Er+".drawingBufferWidth"),hn.set(Er,".framebufferHeight",Wr+"?"+Wr+".height:"+Er+".drawingBufferHeight"),Wr})}return null}function er(Ar,Br,Sr){function Ur(hn){if(hn in fn){var Er=fn[hn];hn=!0;var Yr=Er.x|0,Wr=Er.y|0,qr,Tn;return"width"in Er?qr=Er.width|0:hn=!1,"height"in Er?Tn=Er.height|0:hn=!1,new X(!hn&&Br&&Br.thisDep,!hn&&Br&&Br.contextDep,!hn&&Br&&Br.propDep,function(Nn,Hn){var zn=Nn.shared.context,Yn=qr;"width"in Er||(Yn=Hn.def(zn,".","framebufferWidth","-",Yr));var Kn=Tn;return"height"in Er||(Kn=Hn.def(zn,".","framebufferHeight","-",Wr)),[Yr,Wr,Yn,Kn]})}if(hn in Dn){var Sn=Dn[hn];return hn=$(Sn,function(Nn,Hn){var Ra=Nn.invoke(Hn,Sn),zn=Nn.shared.context,Yn=Hn.def(Ra,".x|0"),Kn=Hn.def(Ra,".y|0"),la=Hn.def('"width" in ',Ra,"?",Ra,".width|0:","(",zn,".","framebufferWidth","-",Yn,")"),Ra=Hn.def('"height" in ',Ra,"?",Ra,".height|0:","(",zn,".","framebufferHeight","-",Kn,")");return[Yn,Kn,la,Ra]}),Br&&(hn.thisDep=hn.thisDep||Br.thisDep,hn.contextDep=hn.contextDep||Br.contextDep,hn.propDep=hn.propDep||Br.propDep),hn}return Br?new X(Br.thisDep,Br.contextDep,Br.propDep,function(Nn,Hn){var zn=Nn.shared.context;return[0,0,Hn.def(zn,".","framebufferWidth"),Hn.def(zn,".","framebufferHeight")]}):null}var fn=Ar.static,Dn=Ar.dynamic;if(Ar=Ur("viewport")){var xn=Ar;Ar=new X(Ar.thisDep,Ar.contextDep,Ar.propDep,function(hn,Er){var Yr=xn.append(hn,Er),Wr=hn.shared.context;return Er.set(Wr,".viewportWidth",Yr[2]),Er.set(Wr,".viewportHeight",Yr[3]),Yr})}return{viewport:Ar,scissor_box:Ur("scissor.box")}}function tr(Ar,Br){var Sr=Ar.static;if(typeof Sr.frag=="string"&&typeof Sr.vert=="string"){if(0<Object.keys(Br.dynamic).length)return null;var Sr=Br.static,Ur=Object.keys(Sr);if(0<Ur.length&&typeof Sr[Ur[0]]=="number"){for(var fn=[],Dn=0;Dn<Ur.length;++Dn)fn.push([Sr[Ur[Dn]]|0,Ur[Dn]]);return fn}}return null}function jt(Ar,Br,Sr){function Ur(Yr){if(Yr in fn){var Wr=Xt.id(fn[Yr]);return Yr=le(function(){return Wr}),Yr.id=Wr,Yr}if(Yr in Dn){var qr=Dn[Yr];return $(qr,function(Tn,Sn){var Nn=Tn.invoke(Sn,qr);return Sn.def(Tn.shared.strings,".id(",Nn,")")})}return null}var fn=Ar.static,Dn=Ar.dynamic,xn=Ur("frag"),hn=Ur("vert"),Er=null;return q(xn)&&q(hn)?(Er=Ft.program(hn.id,xn.id,null,Sr),Ar=le(function(Yr,Wr){return Yr.link(Er)})):Ar=new X(xn&&xn.thisDep||hn&&hn.thisDep,xn&&xn.contextDep||hn&&hn.contextDep,xn&&xn.propDep||hn&&hn.propDep,function(Yr,Wr){var qr=Yr.shared.shader,Tn;Tn=xn?xn.append(Yr,Wr):Wr.def(qr,".","frag");var Sn;return Sn=hn?hn.append(Yr,Wr):Wr.def(qr,".","vert"),Wr.def(qr+".program("+Sn+","+Tn+")")}),{frag:xn,vert:hn,progVar:Ar,program:Er}}function Pt(Ar,Br){function Sr(Nn,Hn){if(Nn in Ur){var zn=Ur[Nn]|0;return Hn?Dn.offset=zn:Dn.instances=zn,le(function(Kn,la){return Hn&&(Kn.OFFSET=zn),zn})}if(Nn in fn){var Yn=fn[Nn];return $(Yn,function(Kn,la){var Ra=Kn.invoke(la,Yn);return Hn&&(Kn.OFFSET=Ra),Ra})}if(Hn){if(Er)return le(function(Kn,la){return Kn.OFFSET=0});if(xn)return new X(hn.thisDep,hn.contextDep,hn.propDep,function(Kn,la){return la.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.offset:0")})}else if(xn)return new X(hn.thisDep,hn.contextDep,hn.propDep,function(Kn,la){return la.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.instances:-1")});return null}var Ur=Ar.static,fn=Ar.dynamic,Dn={},xn=!1,hn=function(){if("vao"in Ur){var Nn=Ur.vao;return Nn!==null&&It.getVAO(Nn)===null&&(Nn=It.createVAO(Nn)),xn=!0,Dn.vao=Nn,le(function(zn){var Yn=It.getVAO(Nn);return Yn?zn.link(Yn):"null"})}if("vao"in fn){xn=!0;var Hn=fn.vao;return $(Hn,function(zn,Yn){var Kn=zn.invoke(Yn,Hn);return Yn.def(zn.shared.vao+".getVAO("+Kn+")")})}return null}(),Er=!1,Yr=function(){if("elements"in Ur){var Nn=Ur.elements;if(Dn.elements=Nn,J(Nn)){var Hn=Dn.elements=yt.create(Nn,!0),Nn=yt.getElements(Hn);Er=!0}else Nn&&(Nn=yt.getElements(Nn),Er=!0);return Hn=le(function(Yn,Kn){if(Nn){var la=Yn.link(Nn);return Yn.ELEMENTS=la}return Yn.ELEMENTS=null}),Hn.value=Nn,Hn}if("elements"in fn){Er=!0;var zn=fn.elements;return $(zn,function(Yn,Kn){var la=Yn.shared,wi=la.isBufferArgs,la=la.elements,ii=Yn.invoke(Kn,zn),Ra=Kn.def("null"),wi=Kn.def(wi,"(",ii,")"),ii=Yn.cond(wi).then(Ra,"=",la,".createStream(",ii,");").else(Ra,"=",la,".getElements(",ii,");");return Kn.entry(ii),Kn.exit(Yn.cond(wi).then(la,".destroyStream(",Ra,");")),Yn.ELEMENTS=Ra})}return xn?new X(hn.thisDep,hn.contextDep,hn.propDep,function(Yn,Kn){return Kn.def(Yn.shared.vao+".currentVAO?"+Yn.shared.elements+".getElements("+Yn.shared.vao+".currentVAO.elements):null")}):null}(),Wr=Sr("offset",!0),qr=function(){if("primitive"in Ur){var Nn=Ur.primitive;return Dn.primitive=Nn,le(function(zn,Yn){return Je[Nn]})}if("primitive"in fn){var Hn=fn.primitive;return $(Hn,function(zn,Yn){var Kn=zn.constants.primTypes,la=zn.invoke(Yn,Hn);return Yn.def(Kn,"[",la,"]")})}return Er?q(Yr)?Yr.value?le(function(zn,Yn){return Yn.def(zn.ELEMENTS,".primType")}):le(function(){return 4}):new X(Yr.thisDep,Yr.contextDep,Yr.propDep,function(zn,Yn){var Kn=zn.ELEMENTS;return Yn.def(Kn,"?",Kn,".primType:",4)}):xn?new X(hn.thisDep,hn.contextDep,hn.propDep,function(zn,Yn){return Yn.def(zn.shared.vao+".currentVAO?"+zn.shared.vao+".currentVAO.primitive:4")}):null}(),Tn=function(){if("count"in Ur){var Nn=Ur.count|0;return Dn.count=Nn,le(function(){return Nn})}if("count"in fn){var Hn=fn.count;return $(Hn,function(zn,Yn){return zn.invoke(Yn,Hn)})}return Er?q(Yr)?Yr?Wr?new X(Wr.thisDep,Wr.contextDep,Wr.propDep,function(zn,Yn){return Yn.def(zn.ELEMENTS,".vertCount-",zn.OFFSET)}):le(function(zn,Yn){return Yn.def(zn.ELEMENTS,".vertCount")}):le(function(){return-1}):new X(Yr.thisDep||Wr.thisDep,Yr.contextDep||Wr.contextDep,Yr.propDep||Wr.propDep,function(zn,Yn){var Kn=zn.ELEMENTS;return zn.OFFSET?Yn.def(Kn,"?",Kn,".vertCount-",zn.OFFSET,":-1"):Yn.def(Kn,"?",Kn,".vertCount:-1")}):xn?new X(hn.thisDep,hn.contextDep,hn.propDep,function(zn,Yn){return Yn.def(zn.shared.vao,".currentVAO?",zn.shared.vao,".currentVAO.count:-1")}):null}(),Sn=Sr("instances",!1);return{elements:Yr,primitive:qr,count:Tn,instances:Sn,offset:Wr,vao:hn,vaoActive:xn,elementsActive:Er,static:Dn}}function Zt(Ar,Br){var Sr=Ar.static,Ur=Ar.dynamic,fn={};return yn.forEach(function(Dn){function xn(Er,Yr){if(Dn in Sr){var Wr=Er(Sr[Dn]);fn[hn]=le(function(){return Wr})}else if(Dn in Ur){var qr=Ur[Dn];fn[hn]=$(qr,function(Tn,Sn){return Yr(Tn,Sn,Tn.invoke(Sn,qr))})}}var hn=dr(Dn);switch(Dn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return xn(function(Er){return Er},function(Er,Yr,Wr){return Wr});case"depth.func":return xn(function(Er){return Yt[Er]},function(Er,Yr,Wr){return Yr.def(Er.constants.compareFuncs,"[",Wr,"]")});case"depth.range":return xn(function(Er){return Er},function(Er,Yr,Wr){return Er=Yr.def("+",Wr,"[0]"),Yr=Yr.def("+",Wr,"[1]"),[Er,Yr]});case"blend.func":return xn(function(Er){return[Ht["srcRGB"in Er?Er.srcRGB:Er.src],Ht["dstRGB"in Er?Er.dstRGB:Er.dst],Ht["srcAlpha"in Er?Er.srcAlpha:Er.src],Ht["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Yr,Wr){function qr(Hn,zn){return Yr.def('"',Hn,zn,'" in ',Wr,"?",Wr,".",Hn,zn,":",Wr,".",Hn)}Er=Er.constants.blendFuncs;var Tn=qr("src","RGB"),Nn=qr("dst","RGB"),Tn=Yr.def(Er,"[",Tn,"]"),Sn=Yr.def(Er,"[",qr("src","Alpha"),"]"),Nn=Yr.def(Er,"[",Nn,"]");return Er=Yr.def(Er,"[",qr("dst","Alpha"),"]"),[Tn,Nn,Sn,Er]});case"blend.equation":return xn(function(Er){if(typeof Er=="string")return[kn[Er],kn[Er]];if(typeof Er=="object")return[kn[Er.rgb],kn[Er.alpha]]},function(Er,Yr,Wr){var qr=Er.constants.blendEquations,Tn=Yr.def(),Sn=Yr.def();return Er=Er.cond("typeof ",Wr,'==="string"'),Er.then(Tn,"=",Sn,"=",qr,"[",Wr,"];"),Er.else(Tn,"=",qr,"[",Wr,".rgb];",Sn,"=",qr,"[",Wr,".alpha];"),Yr(Er),[Tn,Sn]});case"blend.color":return xn(function(Er){return o(4,function(Yr){return+Er[Yr]})},function(Er,Yr,Wr){return o(4,function(qr){return Yr.def("+",Wr,"[",qr,"]")})});case"stencil.mask":return xn(function(Er){return Er|0},function(Er,Yr,Wr){return Yr.def(Wr,"|0")});case"stencil.func":return xn(function(Er){return[Yt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Yr,Wr){Er=Yr.def('"cmp" in ',Wr,"?",Er.constants.compareFuncs,"[",Wr,".cmp]",":",7680);var qr=Yr.def(Wr,".ref|0");return Yr=Yr.def('"mask" in ',Wr,"?",Wr,".mask|0:-1"),[Er,qr,Yr]});case"stencil.opFront":case"stencil.opBack":return xn(function(Er){return[Dn==="stencil.opBack"?1029:1028,Tt[Er.fail||"keep"],Tt[Er.zfail||"keep"],Tt[Er.zpass||"keep"]]},function(Er,Yr,Wr){function qr(Sn){return Yr.def('"',Sn,'" in ',Wr,"?",Tn,"[",Wr,".",Sn,"]:",7680)}var Tn=Er.constants.stencilOps;return[Dn==="stencil.opBack"?1029:1028,qr("fail"),qr("zfail"),qr("zpass")]});case"polygonOffset.offset":return xn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Yr,Wr){return Er=Yr.def(Wr,".factor|0"),Yr=Yr.def(Wr,".units|0"),[Er,Yr]});case"cull.face":return xn(function(Er){var Yr=0;return Er==="front"?Yr=1028:Er==="back"&&(Yr=1029),Yr},function(Er,Yr,Wr){return Yr.def(Wr,'==="front"?',1028,":",1029)});case"lineWidth":return xn(function(Er){return Er},function(Er,Yr,Wr){return Wr});case"frontFace":return xn(function(Er){return Lt[Er]},function(Er,Yr,Wr){return Yr.def(Wr+'==="cw"?2304:2305')});case"colorMask":return xn(function(Er){return Er.map(function(Yr){return!!Yr})},function(Er,Yr,Wr){return o(4,function(qr){return"!!"+Wr+"["+qr+"]"})});case"sample.coverage":return xn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Yr,Wr){return Er=Yr.def('"value" in ',Wr,"?+",Wr,".value:1"),Yr=Yr.def("!!",Wr,".invert"),[Er,Yr]})}}),fn}function nr(Ar,Br){var Sr=Ar.static,Ur=Ar.dynamic,fn={};return Object.keys(Sr).forEach(function(Dn){var xn=Sr[Dn],hn;if(typeof xn=="number"||typeof xn=="boolean")hn=le(function(){return xn});else if(typeof xn=="function"){var Er=xn._reglType;Er==="texture2d"||Er==="textureCube"?hn=le(function(Yr){return Yr.link(xn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(hn=le(function(Yr){return Yr.link(xn.color[0])}))}else A(xn)&&(hn=le(function(Yr){return Yr.global.def("[",o(xn.length,function(Wr){return xn[Wr]}),"]")}));hn.value=xn,fn[Dn]=hn}),Object.keys(Ur).forEach(function(Dn){var xn=Ur[Dn];fn[Dn]=$(xn,function(hn,Er){return hn.invoke(Er,xn)})}),fn}function Qt(Ar,Br){var Sr=Ar.static,Ur=Ar.dynamic,fn={};return Object.keys(Sr).forEach(function(Dn){var xn=Sr[Dn],hn=Xt.id(Dn),Er=new aa;if(J(xn))Er.state=1,Er.buffer=or.getBuffer(or.create(xn,34962,!1,!0)),Er.type=0;else{var Yr=or.getBuffer(xn);if(Yr)Er.state=1,Er.buffer=Yr,Er.type=0;else if("constant"in xn){var Wr=xn.constant;Er.buffer="null",Er.state=2,typeof Wr=="number"?Er.x=Wr:at.forEach(function(zn,Yn){Yn<Wr.length&&(Er[zn]=Wr[Yn])})}else{var Yr=J(xn.buffer)?or.getBuffer(or.create(xn.buffer,34962,!1,!0)):or.getBuffer(xn.buffer),qr=xn.offset|0,Tn=xn.stride|0,Sn=xn.size|0,Nn=!!xn.normalized,Hn=0;"type"in xn&&(Hn=Oe[xn.type]),xn=xn.divisor|0,Er.buffer=Yr,Er.state=1,Er.size=Sn,Er.normalized=Nn,Er.type=Hn||Yr.dtype,Er.offset=qr,Er.stride=Tn,Er.divisor=xn}}fn[Dn]=le(function(zn,Yn){var Kn=zn.attribCache;if(hn in Kn)return Kn[hn];var la={isStream:!1};return Object.keys(Er).forEach(function(Ra){la[Ra]=Er[Ra]}),Er.buffer&&(la.buffer=zn.link(Er.buffer),la.type=la.type||la.buffer+".dtype"),Kn[hn]=la})}),Object.keys(Ur).forEach(function(Dn){var xn=Ur[Dn];fn[Dn]=$(xn,function(hn,Er){function Yr(Kn){Er(Nn[Kn],"=",Wr,".",Kn,"|0;")}var Wr=hn.invoke(Er,xn),Sn=hn.shared,qr=hn.constants,Tn=Sn.isBufferArgs,Sn=Sn.buffer,Nn={isStream:Er.def(!1)},Hn=new aa;Hn.state=1,Object.keys(Hn).forEach(function(Kn){Nn[Kn]=Er.def(""+Hn[Kn])});var zn=Nn.buffer,Yn=Nn.type;return Er("if(",Tn,"(",Wr,")){",Nn.isStream,"=true;",zn,"=",Sn,".createStream(",34962,",",Wr,");",Yn,"=",zn,".dtype;","}else{",zn,"=",Sn,".getBuffer(",Wr,");","if(",zn,"){",Yn,"=",zn,".dtype;",'}else if("constant" in ',Wr,"){",Nn.state,"=",2,";","if(typeof "+Wr+'.constant === "number"){',Nn[at[0]],"=",Wr,".constant;",at.slice(1).map(function(Kn){return Nn[Kn]}).join("="),"=0;","}else{",at.map(function(Kn,la){return Nn[Kn]+"="+Wr+".constant.length>"+la+"?"+Wr+".constant["+la+"]:0;"}).join(""),"}}else{","if(",Tn,"(",Wr,".buffer)){",zn,"=",Sn,".createStream(",34962,",",Wr,".buffer);","}else{",zn,"=",Sn,".getBuffer(",Wr,".buffer);","}",Yn,'="type" in ',Wr,"?",qr.glTypes,"[",Wr,".type]:",zn,".dtype;",Nn.normalized,"=!!",Wr,".normalized;"),Yr("size"),Yr("offset"),Yr("stride"),Yr("divisor"),Er("}}"),Er.exit("if(",Nn.isStream,"){",Sn,".destroyStream(",zn,");","}"),Nn})}),fn}function Wt(Ar){var Br=Ar.static,Sr=Ar.dynamic,Ur={};return Object.keys(Br).forEach(function(fn){var Dn=Br[fn];Ur[fn]=le(function(xn,hn){return typeof Dn=="number"||typeof Dn=="boolean"?""+Dn:xn.link(Dn)})}),Object.keys(Sr).forEach(function(fn){var Dn=Sr[fn];Ur[fn]=$(Dn,function(xn,hn){return xn.invoke(hn,Dn)})}),Ur}function yr(Ar,Br,Sr,Ur,fn){function Dn(Hn){var zn=hn[Hn];zn&&(Yr[Hn]=zn)}var xn=tr(Ar,Br),Tn=rt(Ar),hn=er(Ar,Tn),Er=Pt(Ar),Yr=Zt(Ar),Wr=jt(Ar,fn,xn);Dn("viewport"),Dn(dr("scissor.box"));var qr=0<Object.keys(Yr).length,Tn={framebuffer:Tn,draw:Er,shader:Wr,state:Yr,dirty:qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Tn.profile=Qe(Ar),Tn.uniforms=nr(Sr),Tn.drawVAO=Tn.scopeVAO=Er.vao,!Tn.drawVAO&&Wr.program&&!xn&&$t.angle_instanced_arrays&&Er.static.elements){var Sn=!0;if(Ar=Wr.program.attributes.map(function(Hn){return Hn=Br.static[Hn],Sn=Sn&&!!Hn,Hn}),Sn&&0<Ar.length){var Nn=It.getVAO(It.createVAO({attributes:Ar,elements:Er.static.elements}));Tn.drawVAO=new X(null,null,null,function(Hn,zn){return Hn.link(Nn)}),Tn.useVAO=!0}}return xn?Tn.useVAO=!0:Tn.attributes=Qt(Br),Tn.context=Wt(Ur),Tn}function Dr(Ar,Br,Sr){var Ur=Ar.shared.context,fn=Ar.scope();Object.keys(Sr).forEach(function(Dn){Br.save(Ur,"."+Dn);var xn=Sr[Dn].append(Ar,Br);Array.isArray(xn)?fn(Ur,".",Dn,"=[",xn.join(),"];"):fn(Ur,".",Dn,"=",xn,";")}),Br(fn)}function Tr(Ar,Br,Sr,Ur){var hn=Ar.shared,fn=hn.gl,Dn=hn.framebuffer,xn;on&&(xn=Br.def(hn.extensions,".webgl_draw_buffers"));var Er=Ar.constants,hn=Er.drawBuffer,Er=Er.backBuffer;Ar=Sr?Sr.append(Ar,Br):Br.def(Dn,".next"),Ur||Br("if(",Ar,"!==",Dn,".cur){"),Br("if(",Ar,"){",fn,".bindFramebuffer(",36160,",",Ar,".framebuffer);"),on&&Br(xn,".drawBuffersWEBGL(",hn,"[",Ar,".colorAttachments.length]);"),Br("}else{",fn,".bindFramebuffer(",36160,",null);"),on&&Br(xn,".drawBuffersWEBGL(",Er,");"),Br("}",Dn,".cur=",Ar,";"),Ur||Br("}")}function dn(Ar,Br,Sr){var Ur=Ar.shared,fn=Ur.gl,Dn=Ar.current,xn=Ar.next,hn=Ur.current,Er=Ur.next,Yr=Ar.cond(hn,".dirty");yn.forEach(function(Wr){if(Wr=dr(Wr),!(Wr in Sr.state)){var qr,Tn;if(Wr in xn){qr=xn[Wr],Tn=Dn[Wr];var Sn=o(un[Wr].length,function(Nn){return Yr.def(qr,"[",Nn,"]")});Yr(Ar.cond(Sn.map(function(Nn,Hn){return Nn+"!=="+Tn+"["+Hn+"]"}).join("||")).then(fn,".",Un[Wr],"(",Sn,");",Sn.map(function(Nn,Hn){return Tn+"["+Hn+"]="+Nn}).join(";"),";"))}else qr=Yr.def(Er,".",Wr),Sn=Ar.cond(qr,"!==",hn,".",Wr),Yr(Sn),Wr in Ln?Sn(Ar.cond(qr).then(fn,".enable(",Ln[Wr],");").else(fn,".disable(",Ln[Wr],");"),hn,".",Wr,"=",qr,";"):Sn(fn,".",Un[Wr],"(",qr,");",hn,".",Wr,"=",qr,";")}}),Object.keys(Sr.state).length===0&&Yr(hn,".dirty=false;"),Br(Yr)}function Nr(Ar,Br,Sr,Ur){var fn=Ar.shared,Dn=Ar.current,xn=fn.current,hn=fn.gl,Er;ee(Object.keys(Sr)).forEach(function(Yr){var Wr=Sr[Yr];if(!Ur||Ur(Wr)){var qr=Wr.append(Ar,Br);if(Ln[Yr]){var Tn=Ln[Yr];q(Wr)?(Er=Ar.link(qr,{stable:!0}),Br(Ar.cond(Er).then(hn,".enable(",Tn,");").else(hn,".disable(",Tn,");")),Br(xn,".",Yr,"=",Er,";")):(Br(Ar.cond(qr).then(hn,".enable(",Tn,");").else(hn,".disable(",Tn,");")),Br(xn,".",Yr,"=",qr,";"))}else if(A(qr)){var Sn=Dn[Yr];Br(hn,".",Un[Yr],"(",qr,");",qr.map(function(Nn,Hn){return Sn+"["+Hn+"]="+Nn}).join(";"),";")}else q(Wr)?(Er=Ar.link(qr,{stable:!0}),Br(hn,".",Un[Yr],"(",Er,");",xn,".",Yr,"=",Er,";")):Br(hn,".",Un[Yr],"(",qr,");",xn,".",Yr,"=",qr,";")}})}function Cn(Ar,Br){Cr&&(Ar.instancing=Br.def(Ar.shared.extensions,".angle_instanced_arrays"))}function an(Ar,Br,Sr,Ur,fn){function Dn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function xn(Hn){Sn=Br.def(),Hn(Sn,"=",Dn(),";"),typeof fn=="string"?Hn(Wr,".count+=",fn,";"):Hn(Wr,".count++;"),Jt&&(Ur?(Nn=Br.def(),Hn(Nn,"=",Tn,".getNumPendingQueries();")):Hn(Tn,".beginQuery(",Wr,");"))}function hn(Hn){Hn(Wr,".cpuTime+=",Dn(),"-",Sn,";"),Jt&&(Ur?Hn(Tn,".pushScopeStats(",Nn,",",Tn,".getNumPendingQueries(),",Wr,");"):Hn(Tn,".endQuery();"))}function Er(Hn){var zn=Br.def(qr,".profile");Br(qr,".profile=",Hn,";"),Br.exit(qr,".profile=",zn,";")}var Yr=Ar.shared,Wr=Ar.stats,qr=Yr.current,Tn=Yr.timer;Sr=Sr.profile;var Sn,Nn;if(Sr){if(q(Sr)){Sr.enable?(xn(Br),hn(Br.exit),Er("true")):Er("false");return}Sr=Sr.append(Ar,Br),Er(Sr)}else Sr=Br.def(qr,".profile");Yr=Ar.block(),xn(Yr),Br("if(",Sr,"){",Yr,"}"),Ar=Ar.block(),hn(Ar),Br.exit("if(",Sr,"){",Ar,"}")}function gr(Ar,Br,Sr,Ur,fn){function Dn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function xn(Er,Yr,Wr){function qr(){Br("if(!",Hn,".buffer){",Sn,".enableVertexAttribArray(",Nn,");}");var la=Wr.type,Ra;Ra=Wr.size?Br.def(Wr.size,"||",Yr):Yr,Br("if(",Hn,".type!==",la,"||",Hn,".size!==",Ra,"||",Kn.map(function(wi){return Hn+"."+wi+"!=="+Wr[wi]}).join("||"),"){",Sn,".bindBuffer(",34962,",",zn,".buffer);",Sn,".vertexAttribPointer(",[Nn,Ra,la,Wr.normalized,Wr.stride,Wr.offset],");",Hn,".type=",la,";",Hn,".size=",Ra,";",Kn.map(function(wi){return Hn+"."+wi+"="+Wr[wi]+";"}).join(""),"}"),Cr&&(la=Wr.divisor,Br("if(",Hn,".divisor!==",la,"){",Ar.instancing,".vertexAttribDivisorANGLE(",[Nn,la],");",Hn,".divisor=",la,";}"))}function Tn(){Br("if(",Hn,".buffer){",Sn,".disableVertexAttribArray(",Nn,");",Hn,".buffer=null;","}if(",at.map(function(la,Ra){return Hn+"."+la+"!=="+Yn[Ra]}).join("||"),"){",Sn,".vertexAttrib4f(",Nn,",",Yn,");",at.map(function(la,Ra){return Hn+"."+la+"="+Yn[Ra]+";"}).join(""),"}")}var Sn=hn.gl,Nn=Br.def(Er,".location"),Hn=Br.def(hn.attributes,"[",Nn,"]");Er=Wr.state;var zn=Wr.buffer,Yn=[Wr.x,Wr.y,Wr.z,Wr.w],Kn=["buffer","normalized","offset","stride"];Er===1?qr():Er===2?Tn():(Br("if(",Er,"===",1,"){"),qr(),Br("}else{"),Tn(),Br("}"))}var hn=Ar.shared;Ur.forEach(function(Er){var Yr=Er.name,Wr=Sr.attributes[Yr],qr;if(Wr){if(!fn(Wr))return;qr=Wr.append(Ar,Br)}else{if(!fn(Kt))return;var Tn=Ar.scopeAttrib(Yr);qr={},Object.keys(new aa).forEach(function(Sn){qr[Sn]=Br.def(Tn,".",Sn)})}xn(Ar.link(Er),Dn(Er.info.type),qr)})}function Pr(Ar,Br,Sr,Ur,fn,Dn){for(var xn=Ar.shared,hn=xn.gl,Er,Yr=0;Yr<Ur.length;++Yr){var Sn=Ur[Yr],Wr=Sn.name,qr=Sn.info.type,Tn=Sr.uniforms[Wr],Sn=Ar.link(Sn)+".location",Nn;if(Tn){if(!fn(Tn))continue;if(q(Tn)){if(Wr=Tn.value,qr===35678||qr===35680)qr=Ar.link(Wr._texture||Wr.color[0]._texture),Br(hn,".uniform1i(",Sn,",",qr+".bind());"),Br.exit(qr,".unbind();");else if(qr===35674||qr===35675||qr===35676)Wr=Ar.global.def("new Float32Array(["+Array.prototype.slice.call(Wr)+"])"),Tn=2,qr===35675?Tn=3:qr===35676&&(Tn=4),Br(hn,".uniformMatrix",Tn,"fv(",Sn,",false,",Wr,");");else{switch(qr){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}Br(hn,".uniform",Er,"(",Sn,",",A(Wr)?Array.prototype.slice.call(Wr):Wr,");")}continue}else Nn=Tn.append(Ar,Br)}else{if(!fn(Kt))continue;Nn=Br.def(xn.uniforms,"[",Xt.id(Wr),"]")}switch(qr===35678?Br("if(",Nn,"&&",Nn,'._reglType==="framebuffer"){',Nn,"=",Nn,".color[0];","}"):qr===35680&&Br("if(",Nn,"&&",Nn,'._reglType==="framebufferCube"){',Nn,"=",Nn,".color[0];","}"),Wr=1,qr){case 35678:case 35680:qr=Br.def(Nn,"._texture"),Br(hn,".uniform1i(",Sn,",",qr,".bind());"),Br.exit(qr,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Wr=2;break;case 35668:case 35672:Er="3i",Wr=3;break;case 35669:case 35673:Er="4i",Wr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Wr=2;break;case 35665:Er="3f",Wr=3;break;case 35666:Er="4f",Wr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){Br(hn,".uniform",Er,"(",Sn,",");var Sn=Math.pow(qr-35674+2,2),Hn=Ar.global.def("new Float32Array(",Sn,")");Array.isArray(Nn)?Br("false,(",o(Sn,function(Kn){return Hn+"["+Kn+"]="+Nn[Kn]}),",",Hn,")"):Br("false,(Array.isArray(",Nn,")||",Nn," instanceof Float32Array)?",Nn,":(",o(Sn,function(Kn){return Hn+"["+Kn+"]="+Nn+"["+Kn+"]"}),",",Hn,")"),Br(");")}else{if(1<Wr){for(var qr=[],zn=[],Tn=0;Tn<Wr;++Tn)Array.isArray(Nn)?zn.push(Nn[Tn]):zn.push(Br.def(Nn+"["+Tn+"]")),Dn&&qr.push(Br.def());Dn&&Br("if(!",Ar.batchId,"||",qr.map(function(Yn,Kn){return Yn+"!=="+zn[Kn]}).join("||"),"){",qr.map(function(Yn,Kn){return Yn+"="+zn[Kn]+";"}).join("")),Br(hn,".uniform",Er,"(",Sn,",",zn.join(","),");")}else Dn&&(qr=Br.def(),Br("if(!",Ar.batchId,"||",qr,"!==",Nn,"){",qr,"=",Nn,";")),Br(hn,".uniform",Er,"(",Sn,",",Nn,");");Dn&&Br("}")}}}function Xr(Ar,Br,Sr,Ur){function fn(la){var Ra=Wr[la];return Ra?Ra.contextDep&&Ur.contextDynamic||Ra.propDep?Ra.append(Ar,Sr):Ra.append(Ar,Br):Br.def(Yr,".",la)}function Dn(){function la(){Sr(zn,".drawElementsInstancedANGLE(",[Tn,Nn,Yn,Sn+"<<(("+Yn+"-5121)>>1)",Hn],");")}function Ra(){Sr(zn,".drawArraysInstancedANGLE(",[Tn,Sn,Nn,Hn],");")}qr&&qr!=="null"?Kn?la():(Sr("if(",qr,"){"),la(),Sr("}else{"),Ra(),Sr("}")):Ra()}function xn(){function la(){Sr(Er+".drawElements("+[Tn,Nn,Yn,Sn+"<<(("+Yn+"-5121)>>1)"]+");")}function Ra(){Sr(Er+".drawArrays("+[Tn,Sn,Nn]+");")}qr&&qr!=="null"?Kn?la():(Sr("if(",qr,"){"),la(),Sr("}else{"),Ra(),Sr("}")):Ra()}var hn=Ar.shared,Er=hn.gl,Yr=hn.draw,Wr=Ur.draw,qr=function(){var la=Wr.elements,Ra=Br;return la?((la.contextDep&&Ur.contextDynamic||la.propDep)&&(Ra=Sr),la=la.append(Ar,Ra),Wr.elementsActive&&Ra("if("+la+")"+Er+".bindBuffer(34963,"+la+".buffer.buffer);")):(la=Ra.def(),Ra(la,"=",Yr,".","elements",";","if(",la,"){",Er,".bindBuffer(",34963,",",la,".buffer.buffer);}","else if(",hn.vao,".currentVAO){",la,"=",Ar.shared.elements+".getElements("+hn.vao,".currentVAO.elements);",sn?"":"if("+la+")"+Er+".bindBuffer(34963,"+la+".buffer.buffer);","}")),la}(),Tn=fn("primitive"),Sn=fn("offset"),Nn=function(){var la=Wr.count,Ra=Br;return la?((la.contextDep&&Ur.contextDynamic||la.propDep)&&(Ra=Sr),la=la.append(Ar,Ra)):la=Ra.def(Yr,".","count"),la}();if(typeof Nn=="number"){if(Nn===0)return}else Sr("if(",Nn,"){"),Sr.exit("}");var Hn,zn;Cr&&(Hn=fn("instances"),zn=Ar.instancing);var Yn=qr+".type",Kn=Wr.elements&&q(Wr.elements)&&!Wr.vaoActive;Cr&&(typeof Hn!="number"||0<=Hn)?typeof Hn=="string"?(Sr("if(",Hn,">0){"),Dn(),Sr("}else if(",Hn,"<0){"),xn(),Sr("}")):Dn():xn()}function _r(Ar,Br,Sr,Ur,fn){return Br=xr(),fn=Br.proc("body",fn),Cr&&(Br.instancing=fn.def(Br.shared.extensions,".angle_instanced_arrays")),Ar(Br,fn,Sr,Ur),Br.compile().body}function gn(Ar,Br,Sr,Ur){Cn(Ar,Br),Sr.useVAO?Sr.drawVAO?Br(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Br),");"):Br(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Br(Ar.shared.vao,".setVAO(null);"),gr(Ar,Br,Sr,Ur.attributes,function(){return!0})),Pr(Ar,Br,Sr,Ur.uniforms,function(){return!0},!1),Xr(Ar,Br,Br,Sr)}function rn(Ar,Br){var Sr=Ar.proc("draw",1);Cn(Ar,Sr),Dr(Ar,Sr,Br.context),Tr(Ar,Sr,Br.framebuffer),dn(Ar,Sr,Br),Nr(Ar,Sr,Br.state),an(Ar,Sr,Br,!1,!0);var Ur=Br.shader.progVar.append(Ar,Sr);if(Sr(Ar.shared.gl,".useProgram(",Ur,".program);"),Br.shader.program)gn(Ar,Sr,Br,Br.shader.program);else{Sr(Ar.shared.vao,".setVAO(null);");var fn=Ar.global.def("{}"),Dn=Sr.def(Ur,".id"),xn=Sr.def(fn,"[",Dn,"]");Sr(Ar.cond(xn).then(xn,".call(this,a0);").else(xn,"=",fn,"[",Dn,"]=",Ar.link(function(hn){return _r(gn,Ar,Br,hn,1)}),"(",Ur,");",xn,".call(this,a0);"))}0<Object.keys(Br.state).length&&Sr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Sr(Ar.shared.vao,".setVAO(null);")}function An(Ar,Br,Sr,Ur){function fn(){return!0}Ar.batchId="a1",Cn(Ar,Br),gr(Ar,Br,Sr,Ur.attributes,fn),Pr(Ar,Br,Sr,Ur.uniforms,fn,!1),Xr(Ar,Br,Br,Sr)}function Pn(Ar,Br,Sr,Ur){function fn(qr){return qr.contextDep&&xn||qr.propDep}function Dn(qr){return!fn(qr)}Cn(Ar,Br);var xn=Sr.contextDep,hn=Br.def(),Er=Br.def();Ar.shared.props=Er,Ar.batchId=hn;var Yr=Ar.scope(),Wr=Ar.scope();Br(Yr.entry,"for(",hn,"=0;",hn,"<","a1",";++",hn,"){",Er,"=","a0","[",hn,"];",Wr,"}",Yr.exit),Sr.needsContext&&Dr(Ar,Wr,Sr.context),Sr.needsFramebuffer&&Tr(Ar,Wr,Sr.framebuffer),Nr(Ar,Wr,Sr.state,fn),Sr.profile&&fn(Sr.profile)&&an(Ar,Wr,Sr,!1,!0),Ur?(Sr.useVAO?Sr.drawVAO?fn(Sr.drawVAO)?Wr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Wr),");"):Yr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Yr),");"):Yr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Yr(Ar.shared.vao,".setVAO(null);"),gr(Ar,Yr,Sr,Ur.attributes,Dn),gr(Ar,Wr,Sr,Ur.attributes,fn)),Pr(Ar,Yr,Sr,Ur.uniforms,Dn,!1),Pr(Ar,Wr,Sr,Ur.uniforms,fn,!0),Xr(Ar,Yr,Wr,Sr)):(Br=Ar.global.def("{}"),Ur=Sr.shader.progVar.append(Ar,Wr),Er=Wr.def(Ur,".id"),Yr=Wr.def(Br,"[",Er,"]"),Wr(Ar.shared.gl,".useProgram(",Ur,".program);","if(!",Yr,"){",Yr,"=",Br,"[",Er,"]=",Ar.link(function(qr){return _r(An,Ar,Sr,qr,2)}),"(",Ur,");}",Yr,".call(this,a0[",hn,"],",hn,");"))}function Wn(Ar,Br){function Sr(Yr){return Yr.contextDep&&fn||Yr.propDep}var Ur=Ar.proc("batch",2);Ar.batchId="0",Cn(Ar,Ur);var fn=!1,Dn=!0;Object.keys(Br.context).forEach(function(Yr){fn=fn||Br.context[Yr].propDep}),fn||(Dr(Ar,Ur,Br.context),Dn=!1);var xn=Br.framebuffer,hn=!1;if(xn?(xn.propDep?fn=hn=!0:xn.contextDep&&fn&&(hn=!0),hn||Tr(Ar,Ur,xn)):Tr(Ar,Ur,null),Br.state.viewport&&Br.state.viewport.propDep&&(fn=!0),dn(Ar,Ur,Br),Nr(Ar,Ur,Br.state,function(Yr){return!Sr(Yr)}),Br.profile&&Sr(Br.profile)||an(Ar,Ur,Br,!1,"a1"),Br.contextDep=fn,Br.needsContext=Dn,Br.needsFramebuffer=hn,Dn=Br.shader.progVar,Dn.contextDep&&fn||Dn.propDep)Pn(Ar,Ur,Br,null);else if(Dn=Dn.append(Ar,Ur),Ur(Ar.shared.gl,".useProgram(",Dn,".program);"),Br.shader.program)Pn(Ar,Ur,Br,Br.shader.program);else{Ur(Ar.shared.vao,".setVAO(null);");var xn=Ar.global.def("{}"),hn=Ur.def(Dn,".id"),Er=Ur.def(xn,"[",hn,"]");Ur(Ar.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",xn,"[",hn,"]=",Ar.link(function(qr){return _r(Pn,Ar,Br,qr,2)}),"(",Dn,");",Er,".call(this,a0,a1);"))}0<Object.keys(Br.state).length&&Ur(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Ur(Ar.shared.vao,".setVAO(null);")}function ya(Ar,Br){function Sr(hn){var Er=Br.shader[hn];Er&&(Er=Er.append(Ar,Ur),isNaN(Er)?Ur.set(fn.shader,"."+hn,Er):Ur.set(fn.shader,"."+hn,Ar.link(Er,{stable:!0})))}var Ur=Ar.proc("scope",3);Ar.batchId="a2";var fn=Ar.shared,Dn=fn.current;if(Dr(Ar,Ur,Br.context),Br.framebuffer&&Br.framebuffer.append(Ar,Ur),ee(Object.keys(Br.state)).forEach(function(hn){var Er=Br.state[hn],Yr=Er.append(Ar,Ur);A(Yr)?Yr.forEach(function(Wr,qr){isNaN(Wr)?Ur.set(Ar.next[hn],"["+qr+"]",Wr):Ur.set(Ar.next[hn],"["+qr+"]",Ar.link(Wr,{stable:!0}))}):q(Er)?Ur.set(fn.next,"."+hn,Ar.link(Yr,{stable:!0})):Ur.set(fn.next,"."+hn,Yr)}),an(Ar,Ur,Br,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(hn){var Er=Br.draw[hn];Er&&(Er=Er.append(Ar,Ur),isNaN(Er)?Ur.set(fn.draw,"."+hn,Er):Ur.set(fn.draw,"."+hn,Ar.link(Er),{stable:!0}))}),Object.keys(Br.uniforms).forEach(function(hn){var Er=Br.uniforms[hn].append(Ar,Ur);Array.isArray(Er)&&(Er="["+Er.map(function(Yr){return isNaN(Yr)?Yr:Ar.link(Yr,{stable:!0})})+"]"),Ur.set(fn.uniforms,"["+Ar.link(Xt.id(hn),{stable:!0})+"]",Er)}),Object.keys(Br.attributes).forEach(function(hn){var Er=Br.attributes[hn].append(Ar,Ur),Yr=Ar.scopeAttrib(hn);Object.keys(new aa).forEach(function(Wr){Ur.set(Yr,"."+Wr,Er[Wr])})}),Br.scopeVAO){var xn=Br.scopeVAO.append(Ar,Ur);isNaN(xn)?Ur.set(fn.vao,".targetVAO",xn):Ur.set(fn.vao,".targetVAO",Ar.link(xn,{stable:!0}))}Sr("vert"),Sr("frag"),0<Object.keys(Br.state).length&&(Ur(Dn,".dirty=true;"),Ur.exit(Dn,".dirty=true;")),Ur("a1(",Ar.shared.context,",a0,",Ar.batchId,");")}function Ta(Ar){if(typeof Ar=="object"&&!A(Ar)){for(var Br=Object.keys(Ar),Sr=0;Sr<Br.length;++Sr)if(me.isDynamic(Ar[Br[Sr]]))return!0;return!1}}function sa(Ar,Br,Sr){function Ur(qr,Tn){xn.forEach(function(Sn){var Nn=fn[Sn];me.isDynamic(Nn)&&(Nn=qr.invoke(Tn,Nn),Tn(Wr,".",Sn,"=",Nn,";"))})}var fn=Br.static[Sr];if(fn&&Ta(fn)){var Dn=Ar.global,xn=Object.keys(fn),hn=!1,Er=!1,Yr=!1,Wr=Ar.global.def("{}");xn.forEach(function(qr){var Tn=fn[qr];if(me.isDynamic(Tn))typeof Tn=="function"&&(Tn=fn[qr]=me.unbox(Tn)),qr=$(Tn,null),hn=hn||qr.thisDep,Yr=Yr||qr.propDep,Er=Er||qr.contextDep;else{switch(Dn(Wr,".",qr,"="),typeof Tn){case"number":Dn(Tn);break;case"string":Dn('"',Tn,'"');break;case"object":Array.isArray(Tn)&&Dn("[",Tn.join(),"]");break;default:Dn(Ar.link(Tn))}Dn(";")}}),Br.dynamic[Sr]=new me.DynamicVariable(4,{thisDep:hn,contextDep:Er,propDep:Yr,ref:Wr,append:Ur}),delete Br.static[Sr]}}var aa=It.Record,kn={add:32774,subtract:32778,"reverse subtract":32779};$t.ext_blend_minmax&&(kn.min=32775,kn.max=32776);var Cr=$t.angle_instanced_arrays,on=$t.webgl_draw_buffers,sn=$t.oes_vertex_array_object,un={dirty:!0,profile:cr.profile},Bn={},yn=[],Ln={},Un={};fr("dither",3024),fr("blend.enable",3042),Lr("blend.color","blendColor",[0,0,0,0]),Lr("blend.equation","blendEquationSeparate",[32774,32774]),Lr("blend.func","blendFuncSeparate",[1,0,1,0]),fr("depth.enable",2929,!0),Lr("depth.func","depthFunc",513),Lr("depth.range","depthRange",[0,1]),Lr("depth.mask","depthMask",!0),Lr("colorMask","colorMask",[!0,!0,!0,!0]),fr("cull.enable",2884),Lr("cull.face","cullFace",1029),Lr("frontFace","frontFace",2305),Lr("lineWidth","lineWidth",1),fr("polygonOffset.enable",32823),Lr("polygonOffset.offset","polygonOffset",[0,0]),fr("sample.alpha",32926),fr("sample.enable",32928),Lr("sample.coverage","sampleCoverage",[1,!1]),fr("stencil.enable",2960),Lr("stencil.mask","stencilMask",-1),Lr("stencil.func","stencilFunc",[519,0,-1]),Lr("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Lr("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),fr("scissor.enable",3089),Lr("scissor.box","scissor",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]),Lr("viewport","viewport",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]);var qn={gl:gt,context:Nt,strings:Xt,next:Bn,current:un,draw:Ot,elements:yt,buffer:or,shader:Ft,attributes:It.state,vao:It,uniforms:Et,framebuffer:bt,extensions:$t,timer:Jt,isBufferArgs:J},da={primTypes:Je,compareFuncs:Yt,blendFuncs:Ht,blendEquations:kn,stencilOps:Tt,glTypes:Oe,orientationType:Lt};on&&(da.backBuffer=[1029],da.drawBuffer=o(mr.maxDrawbuffers,function(Ar){return Ar===0?[0]:o(Ar,function(Br){return 36064+Br})}));var Ia=0;return{next:Bn,current:un,procs:function(){var Ar=xr(),Br=Ar.proc("poll"),Sr=Ar.proc("refresh"),Ur=Ar.block();Br(Ur),Sr(Ur);var Er=Ar.shared,fn=Er.gl,Dn=Er.next,xn=Er.current;Ur(xn,".dirty=false;"),Tr(Ar,Br),Tr(Ar,Sr,null,!0);var hn;Cr&&(hn=Ar.link(Cr)),$t.oes_vertex_array_object&&Sr(Ar.link($t.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Sr.def(Er.attributes),Yr=Sr.def(0),Wr=Ar.cond(Yr,".buffer");Wr.then(fn,".enableVertexAttribArray(i);",fn,".bindBuffer(",34962,",",Yr,".buffer.buffer);",fn,".vertexAttribPointer(i,",Yr,".size,",Yr,".type,",Yr,".normalized,",Yr,".stride,",Yr,".offset);").else(fn,".disableVertexAttribArray(i);",fn,".vertexAttrib4f(i,",Yr,".x,",Yr,".y,",Yr,".z,",Yr,".w);",Yr,".buffer=null;");var qr=Ar.link(mr.maxAttributes,{stable:!0});return Sr("for(var i=0;i<",qr,";++i){",Yr,"=",Er,"[i];",Wr,"}"),Cr&&Sr("for(var i=0;i<",qr,";++i){",hn,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Sr(Ar.shared.vao,".currentVAO=null;",Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"),Object.keys(Ln).forEach(function(Tn){var Sn=Ln[Tn],Nn=Ur.def(Dn,".",Tn),Hn=Ar.block();Hn("if(",Nn,"){",fn,".enable(",Sn,")}else{",fn,".disable(",Sn,")}",xn,".",Tn,"=",Nn,";"),Sr(Hn),Br("if(",Nn,"!==",xn,".",Tn,"){",Hn,"}")}),Object.keys(Un).forEach(function(Tn){var Sn=Un[Tn],Nn=un[Tn],Hn,zn,Yn=Ar.block();Yn(fn,".",Sn,"("),A(Nn)?(Sn=Nn.length,Hn=Ar.global.def(Dn,".",Tn),zn=Ar.global.def(xn,".",Tn),Yn(o(Sn,function(Kn){return Hn+"["+Kn+"]"}),");",o(Sn,function(Kn){return zn+"["+Kn+"]="+Hn+"["+Kn+"];"}).join("")),Br("if(",o(Sn,function(Kn){return Hn+"["+Kn+"]!=="+zn+"["+Kn+"]"}).join("||"),"){",Yn,"}")):(Hn=Ur.def(Dn,".",Tn),zn=Ur.def(xn,".",Tn),Yn(Hn,");",xn,".",Tn,"=",Hn,";"),Br("if(",Hn,"!==",zn,"){",Yn,"}")),Sr(Yn)}),Ar.compile()}(),compile:function(Ar,Br,Sr,Ur,fn){var Dn=xr();Dn.stats=Dn.link(fn),Object.keys(Br.static).forEach(function(hn){sa(Dn,Br,hn)}),lt.forEach(function(hn){sa(Dn,Ar,hn)});var xn=yr(Ar,Br,Sr,Ur,Dn);return xn.shader.program&&(xn.shader.program.attributes.sort(function(hn,Er){return hn.name<Er.name?-1:1}),xn.shader.program.uniforms.sort(function(hn,Er){return hn.name<Er.name?-1:1})),rn(Dn,xn),ya(Dn,xn),Wn(Dn,xn),ne(Dn.compile(),{destroy:function(){xn.shader.program.destroy()}})}}}function se(gt,Xt){for(var $t=0;$t<gt.length;++$t)if(gt[$t]===Xt)return $t;return-1}var ne=function(gt,Xt){for(var $t=Object.keys(Xt),mr=0;mr<$t.length;++mr)gt[$t[mr]]=Xt[$t[mr]];return gt},he=0,me={DynamicVariable:N,define:function(gt,Xt){return new N(gt,d(Xt+""))},isDynamic:function(gt){return typeof gt=="function"&&!gt._reglType||gt instanceof N},unbox:P,accessor:d},we={next:typeof requestAnimationFrame=="function"?function(gt){return requestAnimationFrame(gt)}:function(gt){return setTimeout(gt,16)},cancel:typeof cancelAnimationFrame=="function"?function(gt){return cancelAnimationFrame(gt)}:clearTimeout},Te=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Le=u();Le.zero=u();var Ie=function(gt,Xt){var $t=1;Xt.ext_texture_filter_anisotropic&&($t=gt.getParameter(34047));var mr=1,or=1;Xt.webgl_draw_buffers&&(mr=gt.getParameter(34852),or=gt.getParameter(36063));var yt=!!Xt.oes_texture_float;if(yt){yt=gt.createTexture(),gt.bindTexture(3553,yt),gt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=gt.createFramebuffer();if(gt.bindFramebuffer(36160,ut),gt.framebufferTexture2D(36160,36064,3553,yt,0),gt.bindTexture(3553,null),gt.checkFramebufferStatus(36160)!==36053)yt=!1;else{gt.viewport(0,0,1,1),gt.clearColor(1,0,0,1),gt.clear(16384);var bt=Le.allocType(5126,4);gt.readPixels(0,0,1,1,6408,5126,bt),gt.getError()?yt=!1:(gt.deleteFramebuffer(ut),gt.deleteTexture(yt),yt=bt[0]===1),Le.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=gt.createTexture(),ut=Le.allocType(5121,36),gt.activeTexture(33984),gt.bindTexture(34067,bt),gt.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),Le.freeType(ut),gt.bindTexture(34067,null),gt.deleteTexture(bt),bt=!gt.getError()),{colorBits:[gt.getParameter(3410),gt.getParameter(3411),gt.getParameter(3412),gt.getParameter(3413)],depthBits:gt.getParameter(3414),stencilBits:gt.getParameter(3415),subpixelBits:gt.getParameter(3408),extensions:Object.keys(Xt).filter(function(Et){return!!Xt[Et]}),maxAnisotropic:$t,maxDrawbuffers:mr,maxColorAttachments:or,pointSizeDims:gt.getParameter(33901),lineWidthDims:gt.getParameter(33902),maxViewportDims:gt.getParameter(3386),maxCombinedTextureUnits:gt.getParameter(35661),maxCubeMapSize:gt.getParameter(34076),maxRenderbufferSize:gt.getParameter(34024),maxTextureUnits:gt.getParameter(34930),maxTextureSize:gt.getParameter(3379),maxAttributes:gt.getParameter(34921),maxVertexUniforms:gt.getParameter(36347),maxVertexTextureUnits:gt.getParameter(35660),maxVaryingVectors:gt.getParameter(36348),maxFragmentUniforms:gt.getParameter(36349),glsl:gt.getParameter(35724),renderer:gt.getParameter(7937),vendor:gt.getParameter(7936),version:gt.getParameter(7938),readFloat:yt,npotTextureCube:bt}},ze=function(gt){return gt instanceof Uint8Array||gt instanceof Uint16Array||gt instanceof Uint32Array||gt instanceof Int8Array||gt instanceof Int16Array||gt instanceof Int32Array||gt instanceof Float32Array||gt instanceof Float64Array||gt instanceof Uint8ClampedArray},Me=function(gt){return Object.keys(gt).map(function(Xt){return gt[Xt]})},_e={shape:function(gt){for(var Xt=[];gt.length;gt=gt[0])Xt.push(gt.length);return Xt},flatten:function(gt,Xt,$t,mr){var or=1;if(Xt.length)for(var yt=0;yt<Xt.length;++yt)or*=Xt[yt];else or=0;switch($t=mr||Le.allocType($t,or),Xt.length){case 0:break;case 1:for(mr=Xt[0],Xt=0;Xt<mr;++Xt)$t[Xt]=gt[Xt];break;case 2:for(mr=Xt[0],Xt=Xt[1],yt=or=0;yt<mr;++yt)for(var ut=gt[yt],bt=0;bt<Xt;++bt)$t[or++]=ut[bt];break;case 3:l(gt,Xt[0],Xt[1],Xt[2],$t,0);break;default:y(gt,Xt,0,$t,0)}return $t}},Ce={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Oe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Pe={dynamic:35048,stream:35040,static:35044},Ge=_e.flatten,Ze=_e.shape,it=[];it[5120]=1,it[5122]=2,it[5124]=4,it[5121]=1,it[5123]=2,it[5125]=4,it[5126]=4;var Je={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},et=new Float32Array(1),ft=new Uint32Array(et.buffer),vt=[9984,9986,9985,9987],dt=[0,6409,6410,6407,6408],xt={};xt[6409]=xt[6406]=xt[6402]=1,xt[34041]=xt[6410]=2,xt[6407]=xt[35904]=3,xt[6408]=xt[35906]=4;var Mt=R("HTMLCanvasElement"),nt=R("OffscreenCanvas"),Fe=R("CanvasRenderingContext2D"),We=R("ImageBitmap"),je=R("HTMLImageElement"),Ke=R("HTMLVideoElement"),ke=Object.keys(Ce).concat([Mt,nt,Fe,We,je,Ke]),Ue=[];Ue[5121]=1,Ue[5126]=4,Ue[36193]=2,Ue[5123]=2,Ue[5125]=4;var Ve=[];Ve[32854]=2,Ve[32855]=2,Ve[36194]=2,Ve[34041]=4,Ve[33776]=.5,Ve[33777]=.5,Ve[33778]=1,Ve[33779]=1,Ve[35986]=.5,Ve[35987]=1,Ve[34798]=1,Ve[35840]=.5,Ve[35841]=.25,Ve[35842]=.5,Ve[35843]=.25,Ve[36196]=.5;var Re=[];Re[32854]=2,Re[32855]=2,Re[36194]=2,Re[33189]=2,Re[36168]=1,Re[34041]=4,Re[35907]=4,Re[34836]=16,Re[34842]=8,Re[34843]=6;var de=function(gt,Xt,$t,mr,or){function yt(Ot){this.id=It++,this.refCount=1,this.renderbuffer=Ot,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function ut(Ot){var Nt=Ot.renderbuffer;gt.bindRenderbuffer(36161,null),gt.deleteRenderbuffer(Nt),Ot.renderbuffer=null,Ot.refCount=0,delete Ft[Ot.id],mr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Xt.ext_srgb&&(bt.srgba=35907),Xt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Xt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Et=[];Object.keys(bt).forEach(function(Ot){Et[bt[Ot]]=Ot});var It=0,Ft={};return yt.prototype.decRef=function(){0>=--this.refCount&&ut(this)},or.profile&&(mr.getTotalRenderbufferSize=function(){var Ot=0;return Object.keys(Ft).forEach(function(Nt){Ot+=Ft[Nt].stats.size}),Ot}),{create:function(Ot,Nt){function Jt(cr,dr){var fr=0,Lr=0,xr=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Lr=cr.shape,fr=Lr[0]|0,Lr=Lr[1]|0):("radius"in cr&&(fr=Lr=cr.radius|0),"width"in cr&&(fr=cr.width|0),"height"in cr&&(Lr=cr.height|0)),"format"in cr&&(xr=bt[cr.format])):typeof cr=="number"?(fr=cr|0,Lr=typeof dr=="number"?dr|0:fr):cr||(fr=Lr=1),fr!==hr.width||Lr!==hr.height||xr!==hr.format)return Jt.width=hr.width=fr,Jt.height=hr.height=Lr,hr.format=xr,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,xr,fr,Lr),or.profile&&(hr.stats.size=Re[hr.format]*hr.width*hr.height),Jt.format=Et[hr.format],Jt}var hr=new yt(gt.createRenderbuffer());return Ft[hr.id]=hr,mr.renderbufferCount++,Jt(Ot,Nt),Jt.resize=function(cr,dr){var fr=cr|0,Lr=dr|0||fr;return fr===hr.width&&Lr===hr.height||(Jt.width=hr.width=fr,Jt.height=hr.height=Lr,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,hr.format,fr,Lr),or.profile&&(hr.stats.size=Re[hr.format]*hr.width*hr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=hr,or.profile&&(Jt.stats=hr.stats),Jt.destroy=function(){hr.decRef()},Jt},clear:function(){Me(Ft).forEach(ut)},restore:function(){Me(Ft).forEach(function(Ot){Ot.renderbuffer=gt.createRenderbuffer(),gt.bindRenderbuffer(36161,Ot.renderbuffer),gt.renderbufferStorage(36161,Ot.format,Ot.width,Ot.height)}),gt.bindRenderbuffer(36161,null)}}},be=[];be[6408]=4,be[6407]=3;var Ne=[];Ne[5121]=1,Ne[5126]=4,Ne[36193]=2;var Ye=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],at=["x","y","z","w"],lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ht={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Yt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Lt={cw:2304,ccw:2305},Kt=new X(!1,!1,!1,function(){}),vr=function(gt,Xt){function $t(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Ft,Ot,Nt){var Jt=ut.pop()||new $t;Jt.startQueryIndex=Ft,Jt.endQueryIndex=Ot,Jt.sum=0,Jt.stats=Nt,bt.push(Jt)}if(!Xt.ext_disjoint_timer_query)return null;var or=[],yt=[],ut=[],bt=[],Et=[],It=[];return{beginQuery:function(Ft){var Ot=or.pop()||Xt.ext_disjoint_timer_query.createQueryEXT();Xt.ext_disjoint_timer_query.beginQueryEXT(35007,Ot),yt.push(Ot),mr(yt.length-1,yt.length,Ft)},endQuery:function(){Xt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Ft,Ot;if(Ft=yt.length,Ft!==0){It.length=Math.max(It.length,Ft+1),Et.length=Math.max(Et.length,Ft+1),Et[0]=0;var Nt=It[0]=0;for(Ot=Ft=0;Ot<yt.length;++Ot){var Jt=yt[Ot];Xt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Nt+=Xt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),or.push(Jt)):yt[Ft++]=Jt,Et[Ot+1]=Nt,It[Ot+1]=Ft}for(yt.length=Ft,Ot=Ft=0;Ot<bt.length;++Ot){var Nt=bt[Ot],hr=Nt.startQueryIndex,Jt=Nt.endQueryIndex;Nt.sum+=Et[Jt]-Et[hr],hr=It[hr],Jt=It[Jt],Jt===hr?(Nt.stats.gpuTime+=Nt.sum/1e6,ut.push(Nt)):(Nt.startQueryIndex=hr,Nt.endQueryIndex=Jt,bt[Ft++]=Nt)}bt.length=Ft}},getNumPendingQueries:function(){return yt.length},clear:function(){or.push.apply(or,yt);for(var Ft=0;Ft<or.length;Ft++)Xt.ext_disjoint_timer_query.deleteQueryEXT(or[Ft]);yt.length=0,or.length=0},restore:function(){yt.length=0,or.length=0}}};return function(gt){function Xt(){if(an.length===0)xr&&xr.update(),_r=null;else{_r=we.next(Xt),Ft();for(var rn=an.length-1;0<=rn;--rn){var An=an[rn];An&&An(er,null,0)}Jt.flush(),xr&&xr.update()}}function $t(){!_r&&0<an.length&&(_r=we.next(Xt))}function mr(){_r&&(we.cancel(Xt),_r=null)}function or(rn){rn.preventDefault(),mr(),gr.forEach(function(An){An()})}function yt(rn){Jt.getError(),cr.restore(),Qt.restore(),Pt.restore(),Wt.restore(),yr.restore(),Dr.restore(),nr.restore(),xr&&xr.restore(),Tr.procs.refresh(),$t(),Pr.forEach(function(An){An()})}function ut(rn){function An(un,Bn){var yn={},Ln={};return Object.keys(un).forEach(function(Un){var qn=un[Un];if(me.isDynamic(qn))Ln[Un]=me.unbox(qn,Un);else{if(Bn&&Array.isArray(qn)){for(var da=0;da<qn.length;++da)if(me.isDynamic(qn[da])){Ln[Un]=me.unbox(qn,Un);return}}yn[Un]=qn}}),{dynamic:Ln,static:yn}}function Pn(un){for(;sn.length<un;)sn.push(null);return sn}var Wn=An(rn.context||{},!0),ya=An(rn.uniforms||{},!0),Ta=An(rn.attributes||{},!1);rn=An(function(un){function Bn(Ln){if(Ln in yn){var Un=yn[Ln];delete yn[Ln],Object.keys(Un).forEach(function(qn){yn[Ln+"."+qn]=Un[qn]})}}var yn=ne({},un);return delete yn.uniforms,delete yn.attributes,delete yn.context,delete yn.vao,"stencil"in yn&&yn.stencil.op&&(yn.stencil.opBack=yn.stencil.opFront=yn.stencil.op,delete yn.stencil.op),Bn("blend"),Bn("depth"),Bn("cull"),Bn("stencil"),Bn("polygonOffset"),Bn("scissor"),Bn("sample"),"vao"in un&&(yn.vao=un.vao),yn}(rn),!1);var sa={gpuTime:0,cpuTime:0,count:0},aa=Tr.compile(rn,Ta,ya,Wn,sa),kn=aa.draw,Cr=aa.batch,on=aa.scope,sn=[];return ne(function(un,Bn){var yn;if(typeof un=="function")return on.call(this,null,un,0);if(typeof Bn=="function")if(typeof un=="number")for(yn=0;yn<un;++yn)on.call(this,null,Bn,yn);else if(Array.isArray(un))for(yn=0;yn<un.length;++yn)on.call(this,un[yn],Bn,yn);else return on.call(this,un,Bn,0);else if(typeof un=="number"){if(0<un)return Cr.call(this,Pn(un|0),un|0)}else if(Array.isArray(un)){if(un.length)return Cr.call(this,un,un.length)}else return kn.call(this,un)},{stats:sa,destroy:function(){aa.destroy()}})}function bt(rn,An){var Pn=0;Tr.procs.poll();var Wn=An.color;Wn&&(Jt.clearColor(+Wn[0]||0,+Wn[1]||0,+Wn[2]||0,+Wn[3]||0),Pn|=16384),"depth"in An&&(Jt.clearDepth(+An.depth),Pn|=256),"stencil"in An&&(Jt.clearStencil(An.stencil|0),Pn|=1024),Jt.clear(Pn)}function Et(rn){return an.push(rn),$t(),{cancel:function(){function An(){var Wn=se(an,An);an[Wn]=an[an.length-1],--an.length,0>=an.length&&mr()}var Pn=se(an,rn);an[Pn]=An}}}function It(){var rn=Nr.viewport,An=Nr.scissor_box;rn[0]=rn[1]=An[0]=An[1]=0,er.viewportWidth=er.framebufferWidth=er.drawingBufferWidth=rn[2]=An[2]=Jt.drawingBufferWidth,er.viewportHeight=er.framebufferHeight=er.drawingBufferHeight=rn[3]=An[3]=Jt.drawingBufferHeight}function Ft(){er.tick+=1,er.time=Nt(),It(),Tr.procs.poll()}function Ot(){Wt.refresh(),It(),Tr.procs.refresh(),xr&&xr.update()}function Nt(){return(Te()-Qe)/1e3}if(gt=r(gt),!gt)return null;var Jt=gt.gl,hr=Jt.getContextAttributes();Jt.isContextLost();var cr=t(Jt,gt);if(!cr)return null;var dn=n(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},fr=gt.cachedCode||{},Lr=cr.extensions,xr=vr(Jt,Lr),Qe=Te(),tr=Jt.drawingBufferWidth,rt=Jt.drawingBufferHeight,er={tick:0,time:0,viewportWidth:tr,viewportHeight:rt,framebufferWidth:tr,framebufferHeight:rt,drawingBufferWidth:tr,drawingBufferHeight:rt,pixelRatio:gt.pixelRatio},tr={elements:null,primitive:4,count:-1,offset:0,instances:-1},jt=Ie(Jt,Lr),Pt=i(Jt,dr,gt,function(rn){return nr.destroyBuffer(rn)}),Zt=g(Jt,Lr,Pt,dr),nr=O(Jt,Lr,jt,dr,Pt,Zt,tr),Qt=V(Jt,dn,dr,gt),Wt=_(Jt,Lr,jt,function(){Tr.procs.poll()},er,dr,gt),yr=de(Jt,Lr,jt,dr,gt),Dr=I(Jt,Lr,jt,Wt,yr,dr),Tr=j(Jt,dn,Lr,jt,Pt,Zt,Wt,Dr,{},nr,Qt,tr,er,xr,fr,gt),dn=B(Jt,Dr,Tr.procs.poll,er),Nr=Tr.next,Cn=Jt.canvas,an=[],gr=[],Pr=[],Xr=[gt.onDestroy],_r=null;Cn&&(Cn.addEventListener("webglcontextlost",or,!1),Cn.addEventListener("webglcontextrestored",yt,!1));var gn=Dr.setFBO=ut({framebuffer:me.define.call(null,1,"framebuffer")});return Ot(),hr=ne(ut,{clear:function(rn){if("framebuffer"in rn)if(rn.framebuffer&&rn.framebuffer_reglType==="framebufferCube")for(var An=0;6>An;++An)gn(ne({framebuffer:rn.framebuffer.faces[An]},rn),bt);else gn(rn,bt);else bt(null,rn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:ut({}),buffer:function(rn){return Pt.create(rn,34962,!1,!1)},elements:function(rn){return Zt.create(rn,!1)},texture:Wt.create2D,cube:Wt.createCube,renderbuffer:yr.create,framebuffer:Dr.create,framebufferCube:Dr.createCube,vao:nr.createVAO,attributes:hr,frame:Et,on:function(rn,An){var Pn;switch(rn){case"frame":return Et(An);case"lost":Pn=gr;break;case"restore":Pn=Pr;break;case"destroy":Pn=Xr}return Pn.push(An),{cancel:function(){for(var Wn=0;Wn<Pn.length;++Wn)if(Pn[Wn]===An){Pn[Wn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:jt,hasExtension:function(rn){return 0<=jt.extensions.indexOf(rn.toLowerCase())},read:dn,destroy:function(){an.length=0,mr(),Cn&&(Cn.removeEventListener("webglcontextlost",or),Cn.removeEventListener("webglcontextrestored",yt)),Qt.clear(),Dr.clear(),yr.clear(),nr.clear(),Wt.clear(),Zt.clear(),Pt.clear(),xr&&xr.clear(),Xr.forEach(function(rn){rn()})},_gl:Jt,_refresh:Ot,poll:function(){Ft(),xr&&xr.update()},now:Nt,stats:dr,getCachedCode:function(){return fr},preloadCachedCode:function(rn){Object.entries(rn).forEach(function(An){fr[An[0]]=An[1]})}}),gt.onDone(null,hr),hr}})},30456:function(U,N,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var d=e(33576),P=d.Buffer;function n(x,v){for(var p in x)v[p]=x[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?U.exports=d:(n(d,N),N.Buffer=C);function C(x,v,p){return P(x,v,p)}C.prototype=Object.create(P.prototype),n(P,C),C.from=function(x,v,p){if(typeof x=="number")throw new TypeError("Argument must not be a number");return P(x,v,p)},C.alloc=function(x,v,p){if(typeof x!="number")throw new TypeError("Argument must be a number");var r=P(x);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},C.allocUnsafe=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return P(x)},C.allocUnsafeSlow=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(x)}},14500:function(U,N,e){var d=e(53664),P=e(64348),n=e(39640)(),C=e(2304),x=d("%TypeError%"),v=d("%Math.floor%");U.exports=function(r,t){if(typeof r!="function")throw new x("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new x("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],a=!0,u=!0;if("length"in r&&C){var f=C(r,"length");f&&!f.configurable&&(a=!1),f&&!f.writable&&(u=!1)}return(a||u||!o)&&(n?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(U,N,e){U.exports=n;var d=e(61252).EventEmitter,P=e(6768);P(n,d),n.Readable=e(12348),n.Writable=e(11288),n.Duplex=e(15316),n.Transform=e(22477),n.PassThrough=e(27136),n.finished=e(15932),n.pipeline=e(38180),n.Stream=n;function n(){d.call(this)}n.prototype.pipe=function(C,x){var v=this;function p(l){C.writable&&C.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}C.on("drain",r),!C._isStdio&&(!x||x.end!==!1)&&(v.on("end",o),v.on("close",a));var t=!1;function o(){t||(t=!0,C.end())}function a(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function u(l){if(f(),d.listenerCount(this,"error")===0)throw l}v.on("error",u),C.on("error",u);function f(){v.removeListener("data",p),C.removeListener("drain",r),v.removeListener("end",o),v.removeListener("close",a),v.removeListener("error",u),C.removeListener("error",u),v.removeListener("end",f),v.removeListener("close",f),C.removeListener("close",f)}return v.on("end",f),v.on("close",f),C.on("close",f),C.emit("pipe",v),C}},92784:function(U){function N(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function d(v,p,r){r||(r=Error);function t(a,u,f){return typeof p=="string"?p:p(a,u,f)}var o=function(a){N(u,a);function u(f,l,y){return a.call(this,t(f,l,y))||this}return u}(r);o.prototype.name=r.name,o.prototype.code=v,e[v]=o}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function n(v,p,r){return v.substr(0,p.length)===p}function C(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function x(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}d("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&n(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var o;if(C(v," argument"))o="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var a=x(v,".")?"property":"argument";o='The "'.concat(v,'" ').concat(a," ").concat(t," ").concat(P(p,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.i=e},15316:function(U,N,e){var d=e(4168),P=Object.keys||function(a){var u=[];for(var f in a)u.push(f);return u};U.exports=r;var n=e(12348),C=e(11288);e(6768)(r,n);for(var x=P(C.prototype),v=0;v<x.length;v++){var p=x[v];r.prototype[p]||(r.prototype[p]=C.prototype[p])}function r(a){if(!(this instanceof r))return new r(a);n.call(this,a),C.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||d.nextTick(o,this)}function o(a){a.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(U,N,e){U.exports=P;var d=e(22477);e(6768)(P,d);function P(n){if(!(this instanceof P))return new P(n);d.call(this,n)}P.prototype._transform=function(n,C,x){x(null,n)}},12348:function(U,N,e){var d=e(4168);U.exports=s;var P;s.ReadableState=M,e(61252).EventEmitter;var n=function(j,se){return j.listeners(se).length},C=e(4776),x=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p($){return x.from($)}function r($){return x.isBuffer($)||$ instanceof v}var t=e(19768),o;t&&t.debuglog?o=t.debuglog("stream"):o=function(){};var a=e(47264),u=e(55324),f=e(24888),l=f.getHighWaterMark,y=e(92784).i,c=y.ERR_INVALID_ARG_TYPE,T=y.ERR_STREAM_PUSH_AFTER_EOF,h=y.ERR_METHOD_NOT_IMPLEMENTED,i=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,b,A;e(6768)(s,C);var R=u.errorOrDestroy,m=["error","close","destroy","pause","resume"];function L($,j,se){if(typeof $.prependListener=="function")return $.prependListener(j,se);!$._events||!$._events[j]?$.on(j,se):Array.isArray($._events[j])?$._events[j].unshift(se):$._events[j]=[se,$._events[j]]}function M($,j,se){P=P||e(15316),$=$||{},typeof se!="boolean"&&(se=j instanceof P),this.objectMode=!!$.objectMode,se&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=l(this,$,"readableHighWaterMark",se),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(g||(g=e(86032).o),this.decoder=new g($.encoding),this.encoding=$.encoding)}function s($){if(P=P||e(15316),!(this instanceof s))return new s($);var j=this instanceof P;this._readableState=new M($,this,j),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),C.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),s.prototype.destroy=u.destroy,s.prototype._undestroy=u.undestroy,s.prototype._destroy=function($,j){j($)},s.prototype.push=function($,j){var se=this._readableState,ne;return se.objectMode?ne=!0:typeof $=="string"&&(j=j||se.defaultEncoding,j!==se.encoding&&($=x.from($,j),j=""),ne=!0),S(this,$,j,!1,ne)},s.prototype.unshift=function($){return S(this,$,null,!0,!1)};function S($,j,se,ne,he){o("readableAddChunk",j);var me=$._readableState;if(j===null)me.reading=!1,V($,me);else{var we;if(he||(we=_(me,j)),we)R($,we);else if(me.objectMode||j&&j.length>0)if(typeof j!="string"&&!me.objectMode&&Object.getPrototypeOf(j)!==x.prototype&&(j=p(j)),ne)me.endEmitted?R($,new i):w($,me,j,!0);else if(me.ended)R($,new T);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!se?(j=me.decoder.write(j),me.objectMode||j.length!==0?w($,me,j,!1):G($,me)):w($,me,j,!1)}else ne||(me.reading=!1,G($,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function w($,j,se,ne){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,$.emit("data",se)):(j.length+=j.objectMode?1:se.length,ne?j.buffer.unshift(se):j.buffer.push(se),j.needReadable&&B($)),G($,j)}function _($,j){var se;return!r(j)&&typeof j!="string"&&j!==void 0&&!$.objectMode&&(se=new c("chunk",["string","Buffer","Uint8Array"],j)),se}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function($){g||(g=e(86032).o);var j=new g($);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ne="";se!==null;)ne+=j.write(se.data),se=se.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var I=1073741824;function H($){return $>=I?$=I:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function O($,j){return $<=0||j.length===0&&j.ended?0:j.objectMode?1:$!==$?j.flowing&&j.length?j.buffer.head.data.length:j.length:($>j.highWaterMark&&(j.highWaterMark=H($)),$<=j.length?$:j.ended?j.length:(j.needReadable=!0,0))}s.prototype.read=function($){o("read",$),$=parseInt($,10);var j=this._readableState,se=$;if($!==0&&(j.emittedReadable=!1),$===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return o("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?X(this):B(this),null;if($=O($,j),$===0&&j.ended)return j.length===0&&X(this),null;var ne=j.needReadable;o("need readable",ne),(j.length===0||j.length-$<j.highWaterMark)&&(ne=!0,o("length less than watermark",ne)),j.ended||j.reading?(ne=!1,o("reading or ended",ne)):ne&&(o("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||($=O(se,j)));var he;return $>0?he=ee($,j):he=null,he===null?(j.needReadable=j.length<=j.highWaterMark,$=0):(j.length-=$,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),se!==$&&j.ended&&X(this)),he!==null&&this.emit("data",he),he};function V($,j){if(o("onEofChunk"),!j.ended){if(j.decoder){var se=j.decoder.end();se&&se.length&&(j.buffer.push(se),j.length+=j.objectMode?1:se.length)}j.ended=!0,j.sync?B($):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,F($)))}}function B($){var j=$._readableState;o("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(o("emitReadable",j.flowing),j.emittedReadable=!0,d.nextTick(F,$))}function F($){var j=$._readableState;o("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&($.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,J($)}function G($,j){j.readingMore||(j.readingMore=!0,d.nextTick(Y,$,j))}function Y($,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var se=j.length;if(o("maybeReadMore read 0"),$.read(0),se===j.length)break}j.readingMore=!1}s.prototype._read=function($){R(this,new h("_read()"))},s.prototype.pipe=function($,j){var se=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=$;break;case 1:ne.pipes=[ne.pipes,$];break;default:ne.pipes.push($);break}ne.pipesCount+=1,o("pipe count=%d opts=%j",ne.pipesCount,j);var he=(!j||j.end!==!1)&&$!==d.stdout&&$!==d.stderr,me=he?Te:Pe;ne.endEmitted?d.nextTick(me):se.once("end",me),$.on("unpipe",we);function we(Ge,Ze){o("onunpipe"),Ge===se&&Ze&&Ze.hasUnpiped===!1&&(Ze.hasUnpiped=!0,ze())}function Te(){o("onend"),$.end()}var Le=Q(se);$.on("drain",Le);var Ie=!1;function ze(){o("cleanup"),$.removeListener("close",Ce),$.removeListener("finish",Oe),$.removeListener("drain",Le),$.removeListener("error",_e),$.removeListener("unpipe",we),se.removeListener("end",Te),se.removeListener("end",Pe),se.removeListener("data",Me),Ie=!0,ne.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Le()}se.on("data",Me);function Me(Ge){o("ondata");var Ze=$.write(Ge);o("dest.write",Ze),Ze===!1&&((ne.pipesCount===1&&ne.pipes===$||ne.pipesCount>1&&le(ne.pipes,$)!==-1)&&!Ie&&(o("false write response, pause",ne.awaitDrain),ne.awaitDrain++),se.pause())}function _e(Ge){o("onerror",Ge),Pe(),$.removeListener("error",_e),n($,"error")===0&&R($,Ge)}L($,"error",_e);function Ce(){$.removeListener("finish",Oe),Pe()}$.once("close",Ce);function Oe(){o("onfinish"),$.removeListener("close",Ce),Pe()}$.once("finish",Oe);function Pe(){o("unpipe"),se.unpipe($)}return $.emit("pipe",se),ne.flowing||(o("pipe resume"),se.resume()),$};function Q($){return function(){var se=$._readableState;o("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&n($,"data")&&(se.flowing=!0,J($))}}s.prototype.unpipe=function($){var j=this._readableState,se={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return $&&$!==j.pipes?this:($||($=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,$&&$.emit("unpipe",this,se),this);if(!$){var ne=j.pipes,he=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var me=0;me<he;me++)ne[me].emit("unpipe",this,{hasUnpiped:!1});return this}var we=le(j.pipes,$);return we===-1?this:(j.pipes.splice(we,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),$.emit("unpipe",this,se),this)},s.prototype.on=function($,j){var se=C.prototype.on.call(this,$,j),ne=this._readableState;return $==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):$==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,o("on readable",ne.length,ne.reading),ne.length?B(this):ne.reading||d.nextTick(ae,this)),se},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function($,j){var se=C.prototype.removeListener.call(this,$,j);return $==="readable"&&d.nextTick(te,this),se},s.prototype.removeAllListeners=function($){var j=C.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&d.nextTick(te,this),j};function te($){var j=$._readableState;j.readableListening=$.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:$.listenerCount("data")>0&&$.resume()}function ae($){o("readable nexttick read 0"),$.read(0)}s.prototype.resume=function(){var $=this._readableState;return $.flowing||(o("resume"),$.flowing=!$.readableListening,fe(this,$)),$.paused=!1,this};function fe($,j){j.resumeScheduled||(j.resumeScheduled=!0,d.nextTick(oe,$,j))}function oe($,j){o("resume",j.reading),j.reading||$.read(0),j.resumeScheduled=!1,$.emit("resume"),J($),j.flowing&&!j.reading&&$.read(0)}s.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J($){var j=$._readableState;for(o("flow",j.flowing);j.flowing&&$.read()!==null;);}s.prototype.wrap=function($){var j=this,se=this._readableState,ne=!1;$.on("end",function(){if(o("wrapped end"),se.decoder&&!se.ended){var we=se.decoder.end();we&&we.length&&j.push(we)}j.push(null)}),$.on("data",function(we){if(o("wrapped data"),se.decoder&&(we=se.decoder.write(we)),!(se.objectMode&&we==null)&&!(!se.objectMode&&(!we||!we.length))){var Te=j.push(we);Te||(ne=!0,$.pause())}});for(var he in $)this[he]===void 0&&typeof $[he]=="function"&&(this[he]=function(Te){return function(){return $[Te].apply($,arguments)}}(he));for(var me=0;me<m.length;me++)$.on(m[me],this.emit.bind(this,m[me]));return this._read=function(we){o("wrapped _read",we),ne&&(ne=!1,$.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e(60328)),b(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),s._fromList=ee,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee($,j){if(j.length===0)return null;var se;return j.objectMode?se=j.buffer.shift():!$||$>=j.length?(j.decoder?se=j.buffer.join(""):j.buffer.length===1?se=j.buffer.first():se=j.buffer.concat(j.length),j.buffer.clear()):se=j.buffer.consume($,j.decoder),se}function X($){var j=$._readableState;o("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,d.nextTick(q,j,$))}function q($,j){if(o("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,j.readable=!1,j.emit("end"),$.autoDestroy)){var se=j._writableState;(!se||se.autoDestroy&&se.finished)&&j.destroy()}}typeof Symbol=="function"&&(s.from=function($,j){return A===void 0&&(A=e(90555)),A(s,$,j)});function le($,j){for(var se=0,ne=$.length;se<ne;se++)if($[se]===j)return se;return-1}},22477:function(U,N,e){U.exports=r;var d=e(92784).i,P=d.ERR_METHOD_NOT_IMPLEMENTED,n=d.ERR_MULTIPLE_CALLBACK,C=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,x=d.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(a,u){var f=this._transformState;f.transforming=!1;var l=f.writecb;if(l===null)return this.emit("error",new n);f.writechunk=null,f.writecb=null,u!=null&&this.push(u),l(a);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function r(a){if(!(this instanceof r))return new r(a);v.call(this,a),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",t)}function t(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,f){o(a,u,f)}):o(this,null,null)}r.prototype.push=function(a,u){return this._transformState.needTransform=!1,v.prototype.push.call(this,a,u)},r.prototype._transform=function(a,u,f){f(new P("_transform()"))},r.prototype._write=function(a,u,f){var l=this._transformState;if(l.writecb=f,l.writechunk=a,l.writeencoding=u,!l.transforming){var y=this._readableState;(l.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},r.prototype._read=function(a){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(a,u){v.prototype._destroy.call(this,a,function(f){u(f)})};function o(a,u,f){if(u)return a.emit("error",u);if(f!=null&&a.push(f),a._writableState.length)throw new x;if(a._transformState.transforming)throw new C;return a.push(null)}},11288:function(U,N,e){var d=e(4168);U.exports=M;function P(J){var ee=this;this.next=null,this.entry=null,this.finish=function(){oe(ee,J)}}var n;M.WritableState=m;var C={deprecate:e(96656)},x=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(J){return v.from(J)}function t(J){return v.isBuffer(J)||J instanceof p}var o=e(55324),a=e(24888),u=a.getHighWaterMark,f=e(92784).i,l=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,T=f.ERR_STREAM_CANNOT_PIPE,h=f.ERR_STREAM_DESTROYED,i=f.ERR_STREAM_NULL_VALUES,g=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,A=o.errorOrDestroy;e(6768)(M,x);function R(){}function m(J,ee,X){n=n||e(15316),J=J||{},typeof X!="boolean"&&(X=ee instanceof n),this.objectMode=!!J.objectMode,X&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=u(this,J,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=J.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){V(ee,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}m.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,X=[];ee;)X.push(ee),ee=ee.next;return X},function(){try{Object.defineProperty(m.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var L;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(ee){return L.call(this,ee)?!0:this!==M?!1:ee&&ee._writableState instanceof m}})):L=function(ee){return ee instanceof this};function M(J){n=n||e(15316);var ee=this instanceof n;if(!ee&&!L.call(M,this))return new M(J);this._writableState=new m(J,this,ee),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),x.call(this)}M.prototype.pipe=function(){A(this,new T)};function s(J,ee){var X=new g;A(J,X),d.nextTick(ee,X)}function S(J,ee,X,q){var le;return X===null?le=new i:typeof X!="string"&&!ee.objectMode&&(le=new l("chunk",["string","Buffer"],X)),le?(A(J,le),d.nextTick(q,le),!1):!0}M.prototype.write=function(J,ee,X){var q=this._writableState,le=!1,$=!q.objectMode&&t(J);return $&&!v.isBuffer(J)&&(J=r(J)),typeof ee=="function"&&(X=ee,ee=null),$?ee="buffer":ee||(ee=q.defaultEncoding),typeof X!="function"&&(X=R),q.ending?s(this,X):($||S(this,q,J,X))&&(q.pendingcb++,le=_(this,q,$,J,ee,X)),le},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&G(this,J))},M.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new b(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(J,ee,X){return!J.objectMode&&J.decodeStrings!==!1&&typeof ee=="string"&&(ee=v.from(ee,X)),ee}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(J,ee,X,q,le,$){if(!X){var j=w(ee,q,le);q!==j&&(X=!0,le="buffer",q=j)}var se=ee.objectMode?1:q.length;ee.length+=se;var ne=ee.length<ee.highWaterMark;if(ne||(ee.needDrain=!0),ee.writing||ee.corked){var he=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:q,encoding:le,isBuf:X,callback:$,next:null},he?he.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else I(J,ee,!1,se,q,le,$);return ne}function I(J,ee,X,q,le,$,j){ee.writelen=q,ee.writecb=j,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new h("write")):X?J._writev(le,ee.onwrite):J._write(le,$,ee.onwrite),ee.sync=!1}function H(J,ee,X,q,le){--ee.pendingcb,X?(d.nextTick(le,q),d.nextTick(ae,J,ee),J._writableState.errorEmitted=!0,A(J,q)):(le(q),J._writableState.errorEmitted=!0,A(J,q),ae(J,ee))}function O(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function V(J,ee){var X=J._writableState,q=X.sync,le=X.writecb;if(typeof le!="function")throw new c;if(O(X),ee)H(J,X,q,ee,le);else{var $=Y(X)||J.destroyed;!$&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(J,X),q?d.nextTick(B,J,X,$,le):B(J,X,$,le)}}function B(J,ee,X,q){X||F(J,ee),ee.pendingcb--,q(),ae(J,ee)}function F(J,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,J.emit("drain"))}function G(J,ee){ee.bufferProcessing=!0;var X=ee.bufferedRequest;if(J._writev&&X&&X.next){var q=ee.bufferedRequestCount,le=new Array(q),$=ee.corkedRequestsFree;$.entry=X;for(var j=0,se=!0;X;)le[j]=X,X.isBuf||(se=!1),X=X.next,j+=1;le.allBuffers=se,I(J,ee,!0,ee.length,le,"",$.finish),ee.pendingcb++,ee.lastBufferedRequest=null,$.next?(ee.corkedRequestsFree=$.next,$.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;X;){var ne=X.chunk,he=X.encoding,me=X.callback,we=ee.objectMode?1:ne.length;if(I(J,ee,!1,we,ne,he,me),X=X.next,ee.bufferedRequestCount--,ee.writing)break}X===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=X,ee.bufferProcessing=!1}M.prototype._write=function(J,ee,X){X(new y("_write()"))},M.prototype._writev=null,M.prototype.end=function(J,ee,X){var q=this._writableState;return typeof J=="function"?(X=J,J=null,ee=null):typeof ee=="function"&&(X=ee,ee=null),J!=null&&this.write(J,ee),q.corked&&(q.corked=1,this.uncork()),q.ending||fe(this,q,X),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function Q(J,ee){J._final(function(X){ee.pendingcb--,X&&A(J,X),ee.prefinished=!0,J.emit("prefinish"),ae(J,ee)})}function te(J,ee){!ee.prefinished&&!ee.finalCalled&&(typeof J._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,d.nextTick(Q,J,ee)):(ee.prefinished=!0,J.emit("prefinish")))}function ae(J,ee){var X=Y(ee);if(X&&(te(J,ee),ee.pendingcb===0&&(ee.finished=!0,J.emit("finish"),ee.autoDestroy))){var q=J._readableState;(!q||q.autoDestroy&&q.endEmitted)&&J.destroy()}return X}function fe(J,ee,X){ee.ending=!0,ae(J,ee),X&&(ee.finished?d.nextTick(X):J.once("finish",X)),ee.ended=!0,J.writable=!1}function oe(J,ee,X){var q=J.entry;for(J.entry=null;q;){var le=q.callback;ee.pendingcb--,le(X),q=q.next}ee.corkedRequestsFree.next=J}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),M.prototype.destroy=o.destroy,M.prototype._undestroy=o.undestroy,M.prototype._destroy=function(J,ee){ee(J)}},60328:function(U,N,e){var d=e(4168),P;function n(i,g,b){return g in i?Object.defineProperty(i,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):i[g]=b,i}var C=e(15932),x=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),o=Symbol("handlePromise"),a=Symbol("stream");function u(i,g){return{value:i,done:g}}function f(i){var g=i[x];if(g!==null){var b=i[a].read();b!==null&&(i[t]=null,i[x]=null,i[v]=null,g(u(b,!1)))}}function l(i){d.nextTick(f,i)}function y(i,g){return function(b,A){i.then(function(){if(g[r]){b(u(void 0,!0));return}g[o](b,A)},A)}}var c=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[a]},next:function(){var g=this,b=this[p];if(b!==null)return Promise.reject(b);if(this[r])return Promise.resolve(u(void 0,!0));if(this[a].destroyed)return new Promise(function(L,M){d.nextTick(function(){g[p]?M(g[p]):L(u(void 0,!0))})});var A=this[t],R;if(A)R=new Promise(y(A,this));else{var m=this[a].read();if(m!==null)return Promise.resolve(u(m,!1));R=new Promise(this[o])}return this[t]=R,R}},n(P,Symbol.asyncIterator,function(){return this}),n(P,"return",function(){var g=this;return new Promise(function(b,A){g[a].destroy(null,function(R){if(R){A(R);return}b(u(void 0,!0))})})}),P),c),h=function(g){var b,A=Object.create(T,(b={},n(b,a,{value:g,writable:!0}),n(b,x,{value:null,writable:!0}),n(b,v,{value:null,writable:!0}),n(b,p,{value:null,writable:!0}),n(b,r,{value:g._readableState.endEmitted,writable:!0}),n(b,o,{value:function(m,L){var M=A[a].read();M?(A[t]=null,A[x]=null,A[v]=null,m(u(M,!1))):(A[x]=m,A[v]=L)},writable:!0}),b));return A[t]=null,C(g,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=A[v];m!==null&&(A[t]=null,A[x]=null,A[v]=null,m(R)),A[p]=R;return}var L=A[x];L!==null&&(A[t]=null,A[x]=null,A[v]=null,L(u(void 0,!0))),A[r]=!0}),g.on("readable",l.bind(null,A)),A};U.exports=h},47264:function(U,N,e){function d(f,l){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);l&&(c=c.filter(function(T){return Object.getOwnPropertyDescriptor(f,T).enumerable})),y.push.apply(y,c)}return y}function P(f){for(var l=1;l<arguments.length;l++){var y=arguments[l]!=null?arguments[l]:{};l%2?d(Object(y),!0).forEach(function(c){n(f,c,y[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):d(Object(y)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(y,c))})}return f}function n(f,l,y){return l in f?Object.defineProperty(f,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[l]=y,f}function C(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function x(f,l){for(var y=0;y<l.length;y++){var c=l[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function v(f,l,y){return l&&x(f.prototype,l),f}var p=e(33576),r=p.Buffer,t=e(21576),o=t.inspect,a=o&&o.custom||"inspect";function u(f,l,y){r.prototype.copy.call(f,l,y)}U.exports=function(){function f(){C(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(y){var c={data:y,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(y){var c={data:y,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var c=this.head,T=""+c.data;c=c.next;)T+=y+c.data;return T}},{key:"concat",value:function(y){if(this.length===0)return r.alloc(0);for(var c=r.allocUnsafe(y>>>0),T=this.head,h=0;T;)u(T.data,c,h),h+=T.data.length,T=T.next;return c}},{key:"consume",value:function(y,c){var T;return y<this.head.data.length?(T=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?T=this.shift():T=c?this._getString(y):this._getBuffer(y),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var c=this.head,T=1,h=c.data;for(y-=h.length;c=c.next;){var i=c.data,g=y>i.length?i.length:y;if(g===i.length?h+=i:h+=i.slice(0,y),y-=g,y===0){g===i.length?(++T,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=i.slice(g));break}++T}return this.length-=T,h}},{key:"_getBuffer",value:function(y){var c=r.allocUnsafe(y),T=this.head,h=1;for(T.data.copy(c),y-=T.data.length;T=T.next;){var i=T.data,g=y>i.length?i.length:y;if(i.copy(c,c.length-y,0,g),y-=g,y===0){g===i.length?(++h,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=i.slice(g));break}++h}return this.length-=h,c}},{key:a,value:function(y,c){return o(this,P({},c,{depth:0,customInspect:!1}))}}]),f}()},55324:function(U,N,e){var d=e(4168);function P(r,t){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(v,this,r)):d.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!t&&f?o._writableState?o._writableState.errorEmitted?d.nextTick(C,o):(o._writableState.errorEmitted=!0,d.nextTick(n,o,f)):d.nextTick(n,o,f):t?(d.nextTick(C,o),t(f)):d.nextTick(C,o)}),this)}function n(r,t){v(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var o=r._readableState,a=r._writableState;o&&o.autoDestroy||a&&a.autoDestroy?r.destroy(t):r.emit("error",t)}U.exports={destroy:P,undestroy:x,errorOrDestroy:p}},15932:function(U,N,e){var d=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];v.apply(this,t)}}}function n(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function x(v,p,r){if(typeof p=="function")return x(v,null,p);p||(p={}),r=P(r||n);var t=p.readable||p.readable!==!1&&v.readable,o=p.writable||p.writable!==!1&&v.writable,a=function(){v.writable||f()},u=v._writableState&&v._writableState.finished,f=function(){o=!1,u=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,y=function(){t=!1,l=!0,o||r.call(v)},c=function(g){r.call(v,g)},T=function(){var g;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(g=new d),r.call(v,g);if(o&&!u)return(!v._writableState||!v._writableState.ended)&&(g=new d),r.call(v,g)},h=function(){v.req.on("finish",f)};return C(v)?(v.on("complete",f),v.on("abort",T),v.req?h():v.on("request",h)):o&&!v._writableState&&(v.on("end",a),v.on("close",a)),v.on("end",y),v.on("finish",f),p.error!==!1&&v.on("error",c),v.on("close",T),function(){v.removeListener("complete",f),v.removeListener("abort",T),v.removeListener("request",h),v.req&&v.req.removeListener("finish",f),v.removeListener("end",a),v.removeListener("close",a),v.removeListener("finish",f),v.removeListener("end",y),v.removeListener("error",c),v.removeListener("close",T)}}U.exports=x},90555:function(U){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(U,N,e){var d;function P(f){var l=!1;return function(){l||(l=!0,f.apply(void 0,arguments))}}var n=e(92784).i,C=n.ERR_MISSING_ARGS,x=n.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function p(f){return f.setHeader&&typeof f.abort=="function"}function r(f,l,y,c){c=P(c);var T=!1;f.on("close",function(){T=!0}),d===void 0&&(d=e(15932)),d(f,{readable:l,writable:y},function(i){if(i)return c(i);T=!0,c()});var h=!1;return function(i){if(!T&&!h){if(h=!0,p(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();c(i||new x("pipe"))}}}function t(f){f()}function o(f,l){return f.pipe(l)}function a(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function u(){for(var f=arguments.length,l=new Array(f),y=0;y<f;y++)l[y]=arguments[y];var c=a(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new C("streams");var T,h=l.map(function(i,g){var b=g<l.length-1,A=g>0;return r(i,b,A,function(R){T||(T=R),R&&h.forEach(t),!b&&(h.forEach(t),c(T))})});return l.reduce(o)}U.exports=u},24888:function(U,N,e){var d=e(92784).i.ERR_INVALID_OPT_VALUE;function P(C,x,v){return C.highWaterMark!=null?C.highWaterMark:x?C[v]:null}function n(C,x,v,p){var r=P(x,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new d(t,r)}return Math.floor(r)}return C.objectMode?16:16384}U.exports={getHighWaterMark:n}},4776:function(U,N,e){U.exports=e(61252).EventEmitter},86032:function(U,N,e){var d=e(30456).Buffer,P=d.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(h){if(!h)return"utf8";for(var i;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(i)return;h=(""+h).toLowerCase(),i=!0}}function C(h){var i=n(h);if(typeof i!="string"&&(d.isEncoding===P||!P(h)))throw new Error("Unknown encoding: "+h);return i||h}N.o=x;function x(h){this.encoding=C(h);var i;switch(this.encoding){case"utf16le":this.text=u,this.end=f,i=4;break;case"utf8":this.fillLast=t,i=4;break;case"base64":this.text=l,this.end=y,i=3;break;default:this.write=c,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(i)}x.prototype.write=function(h){if(h.length===0)return"";var i,g;if(this.lastNeed){if(i=this.fillLast(h),i===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<h.length?i?i+this.text(h,g):this.text(h,g):i||""},x.prototype.end=a,x.prototype.text=o,x.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function p(h,i,g){var b=i.length-1;if(b<g)return 0;var A=v(i[b]);return A>=0?(A>0&&(h.lastNeed=A-1),A):--b<g||A===-2?0:(A=v(i[b]),A>=0?(A>0&&(h.lastNeed=A-2),A):--b<g||A===-2?0:(A=v(i[b]),A>=0?(A>0&&(A===2?A=0:h.lastNeed=A-3),A):0))}function r(h,i,g){if((i[0]&192)!==128)return h.lastNeed=0,"�";if(h.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return h.lastNeed=1,"�";if(h.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return h.lastNeed=2,"�"}}function t(h){var i=this.lastTotal-this.lastNeed,g=r(this,h);if(g!==void 0)return g;if(this.lastNeed<=h.length)return h.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,i,0,h.length),this.lastNeed-=h.length}function o(h,i){var g=p(this,h,i);if(!this.lastNeed)return h.toString("utf8",i);this.lastTotal=g;var b=h.length-(g-this.lastNeed);return h.copy(this.lastChar,0,b),h.toString("utf8",i,b)}function a(h){var i=h&&h.length?this.write(h):"";return this.lastNeed?i+"�":i}function u(h,i){if((h.length-i)%2===0){var g=h.toString("utf16le",i);if(g){var b=g.charCodeAt(g.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",i,h.length-1)}function f(h){var i=h&&h.length?this.write(h):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,g)}return i}function l(h,i){var g=(h.length-i)%3;return g===0?h.toString("base64",i):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",i,h.length-g))}function y(h){var i=h&&h.length?this.write(h):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function c(h){return h.toString(this.encoding)}function T(h){return h&&h.length?this.write(h):""}},55619:function(U,N,e){var d=e(45408),P=e(86844)("stream-parser");U.exports=p;var n=-1,C=0,x=1,v=2;function p(h){var i=h&&typeof h._transform=="function",g=h&&typeof h._write=="function";if(!i&&!g)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),h._bytes=t,h._skipBytes=o,i&&(h._passthrough=a),i?h._transform=f:h._write=u}function r(h){P("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=n,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function t(h,i){d(!this._parserCallback,'there is already a "callback" set!'),d(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||r(this),P("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=C}function o(h,i){d(!this._parserCallback,'there is already a "callback" set!'),d(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=x}function a(h,i){d(!this._parserCallback,'There is already a "callback" set!'),d(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=v}function u(h,i,g){this._parserInit||r(this),P("write(%o bytes)",h.length),typeof i=="function"&&(g=i),c(this,h,null,g)}function f(h,i,g){this._parserInit||r(this),P("transform(%o bytes)",h.length),typeof i!="function"&&(i=this._parserOutput),c(this,h,i,g)}function l(h,i,g,b){return h._parserBytesLeft<=0?b(new Error("got data but not currently parsing anything")):i.length<=h._parserBytesLeft?function(){return y(h,i,g,b)}:function(){var A=i.slice(0,h._parserBytesLeft);return y(h,A,g,function(R){if(R)return b(R);if(i.length>A.length)return function(){return l(h,i.slice(A.length),g,b)}})}}function y(h,i,g,b){if(h._parserBytesLeft-=i.length,P("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===C?(h._parserBuffers.push(i),h._parserBuffered+=i.length):h._parserState===v&&g(i),h._parserBytesLeft===0){var A=h._parserCallback;if(A&&h._parserState===C&&h._parserBuffers.length>1&&(i=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==C&&(i=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=n,h._parserBuffers.splice(0),A){var R=[];i&&R.push(i),g&&R.push(g);var m=A.length>R.length;m&&R.push(T(b));var L=A.apply(h,R);if(!m||b===L)return b}}else return b}var c=T(l);function T(h){return function(){for(var i=h.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(U,N,e){var d=e(4168);N=U.exports=e(89416),N.log=C,N.formatArgs=n,N.save=x,N.load=v,N.useColors=P,N.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),N.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}N.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function n(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+N.humanize(this.diff),!!t){var o="color: "+this.color;r.splice(1,0,o,"color: inherit");var a=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(a++,f==="%c"&&(u=a))}),r.splice(u,0,o)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function x(r){try{r==null?N.storage.removeItem("debug"):N.storage.debug=r}catch{}}function v(){var r;try{r=N.storage.debug}catch{}return!r&&typeof d<"u"&&"env"in d&&(r=d.env.DEBUG),r}N.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(U,N,e){N=U.exports=n.debug=n.default=n,N.coerce=p,N.disable=x,N.enable=C,N.enabled=v,N.humanize=e(93744),N.names=[],N.skips=[],N.formatters={};var d;function P(r){var t=0,o;for(o in r)t=(t<<5)-t+r.charCodeAt(o),t|=0;return N.colors[Math.abs(t)%N.colors.length]}function n(r){function t(){if(t.enabled){var o=t,a=+new Date,u=a-(d||a);o.diff=u,o.prev=d,o.curr=a,d=a;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=N.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var y=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(T,h){if(T==="%%")return T;y++;var i=N.formatters[h];if(typeof i=="function"){var g=f[y];T=i.call(o,g),f.splice(y,1),y--}return T}),N.formatArgs.call(o,f);var c=t.log||N.log||console.log.bind(console);c.apply(o,f)}}return t.namespace=r,t.enabled=N.enabled(r),t.useColors=N.useColors(),t.color=P(r),typeof N.init=="function"&&N.init(t),t}function C(r){N.save(r),N.names=[],N.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),o=t.length,a=0;a<o;a++)t[a]&&(r=t[a].replace(/\*/g,".*?"),r[0]==="-"?N.skips.push(new RegExp("^"+r.substr(1)+"$")):N.names.push(new RegExp("^"+r+"$")))}function x(){N.enable("")}function v(r){var t,o;for(t=0,o=N.skips.length;t<o;t++)if(N.skips[t].test(r))return!1;for(t=0,o=N.names.length;t<o;t++)if(N.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(U){var N=1e3,e=N*60,d=e*60,P=d*24,n=P*365.25;U.exports=function(r,t){t=t||{};var o=typeof r;if(o==="string"&&r.length>0)return C(r);if(o==="number"&&isNaN(r)===!1)return t.long?v(r):x(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var o=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return o*n;case"days":case"day":case"d":return o*P;case"hours":case"hour":case"hrs":case"hr":case"h":return o*d;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*N;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function x(r){return r>=P?Math.round(r/P)+"d":r>=d?Math.round(r/d)+"h":r>=e?Math.round(r/e)+"m":r>=N?Math.round(r/N)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,d,"hour")||p(r,e,"minute")||p(r,N,"second")||r+" ms"}function p(r,t,o){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+o:Math.ceil(r/t)+" "+o+"s"}},39956:function(U,N,e){var d=e(32868);U.exports=function(n,C,x){if(n==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");x?(typeof x=="string"||Array.isArray(x))&&(x={ignore:x}):x={},x.escape==null&&(x.escape=!0),x.ignore==null?x.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof x.ignore=="string"&&(x.ignore=[x.ignore]),x.ignore=x.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=d.parse(n,{flat:!0,brackets:x.ignore}),p=v[0],r=p.split(C);if(x.escape){for(var t=[],o=0;o<r.length;o++){var a=r[o],u=r[o+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(t.push(a+C+u),o++):t.push(a)}r=t}for(var o=0;o<r.length;o++)v[0]=r[o],r[o]=d.stringify(v,{flat:!0});return r}},78484:function(U){U.exports=N;function N(e){for(var d=e.length,P=new Array(d),n=new Array(d),C=new Array(d),x=new Array(d),v=new Array(d),p=new Array(d),r=0;r<d;++r)P[r]=-1,n[r]=0,C[r]=!1,x[r]=0,v[r]=-1,p[r]=[];var t=0,o=[],a=[];function u(c){var T=[c],h=[c];for(P[c]=n[c]=t,C[c]=!0,t+=1;h.length>0;){c=h[h.length-1];var i=e[c];if(x[c]<i.length){for(var g=x[c];g<i.length;++g){var b=i[g];if(P[b]<0){P[b]=n[b]=t,C[b]=!0,t+=1,T.push(b),h.push(b);break}else C[b]&&(n[c]=Math.min(n[c],n[b])|0);v[b]>=0&&p[c].push(v[b])}x[c]=g}else{if(n[c]===P[c]){for(var A=[],R=[],m=0,g=T.length-1;g>=0;--g){var L=T[g];if(C[L]=!1,A.push(L),R.push(p[L]),m+=p[L].length,v[L]=o.length,L===c){T.length=g;break}}o.push(A);for(var M=new Array(m),g=0;g<R.length;g++)for(var s=0;s<R[g].length;s++)M[--m]=R[g][s];a.push(M)}h.pop()}}}for(var r=0;r<d;++r)P[r]<0&&u(r);for(var f,r=0;r<a.length;r++){var l=a[r];if(l.length!==0){l.sort(function(T,h){return T-h}),f=[l[0]];for(var y=1;y<l.length;y++)l[y]!==l[y-1]&&f.push(l[y]);a[r]=f}}return{components:o,adjacencyList:a}}},92848:function(U,N,e){e.r(N);var d=function(){function r(t,o){var a=[],u=!0,f=!1,l=void 0;try{for(var y=t[Symbol.iterator](),c;!(u=(c=y.next()).done)&&(a.push(c.value),!(o&&a.length===o));u=!0);}catch(T){f=!0,l=T}finally{try{!u&&y.return&&y.return()}finally{if(f)throw l}}return a}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,n=function(t,o,a,u,f,l,y){var c=t.x,T=t.y;c*=o,T*=a;var h=u*c-f*T,i=f*c+u*T;return{x:h+l,y:i+y}},C=function(t,o){var a=o===1.5707963267948966?.551915024494:o===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(o/4),u=Math.cos(t),f=Math.sin(t),l=Math.cos(t+o),y=Math.sin(t+o);return[{x:u-f*a,y:f+u*a},{x:l+y*a,y:y-l*a},{x:l,y}]},x=function(t,o,a,u){var f=t*u-o*a<0?-1:1,l=t*a+o*u;return l>1&&(l=1),l<-1&&(l=-1),f*Math.acos(l)},v=function(t,o,a,u,f,l,y,c,T,h,i,g){var b=Math.pow(f,2),A=Math.pow(l,2),R=Math.pow(i,2),m=Math.pow(g,2),L=b*A-b*m-A*R;L<0&&(L=0),L/=b*m+A*R,L=Math.sqrt(L)*(y===c?-1:1);var M=L*f/l*g,s=L*-l/f*i,S=h*M-T*s+(t+a)/2,w=T*M+h*s+(o+u)/2,_=(i-M)/f,I=(g-s)/l,H=(-i-M)/f,O=(-g-s)/l,V=x(1,0,_,I),B=x(_,I,H,O);return c===0&&B>0&&(B-=P),c===1&&B<0&&(B+=P),[S,w,V,B]},p=function(t){var o=t.px,a=t.py,u=t.cx,f=t.cy,l=t.rx,y=t.ry,c=t.xAxisRotation,T=c===void 0?0:c,h=t.largeArcFlag,i=h===void 0?0:h,g=t.sweepFlag,b=g===void 0?0:g,A=[];if(l===0||y===0)return[];var R=Math.sin(T*P/360),m=Math.cos(T*P/360),L=m*(o-u)/2+R*(a-f)/2,M=-R*(o-u)/2+m*(a-f)/2;if(L===0&&M===0)return[];l=Math.abs(l),y=Math.abs(y);var s=Math.pow(L,2)/Math.pow(l,2)+Math.pow(M,2)/Math.pow(y,2);s>1&&(l*=Math.sqrt(s),y*=Math.sqrt(s));var S=v(o,a,u,f,l,y,i,b,R,m,L,M),w=d(S,4),_=w[0],I=w[1],H=w[2],O=w[3],V=Math.abs(O)/(P/4);Math.abs(1-V)<1e-7&&(V=1);var B=Math.max(Math.ceil(V),1);O/=B;for(var F=0;F<B;F++)A.push(C(H,O)),H+=O;return A.map(function(G){var Y=n(G[0],l,y,m,R,_,I),Q=Y.x,te=Y.y,ae=n(G[1],l,y,m,R,_,I),fe=ae.x,oe=ae.y,J=n(G[2],l,y,m,R,_,I),ee=J.x,X=J.y;return{x1:Q,y1:te,x2:fe,y2:oe,x:ee,y:X}})};N.default=p},74840:function(U,N,e){var d=e(21984),P=e(49972),n=e(41976),C=e(53520),x=e(45408);U.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(x(C(p),"String is not an SVG path."),p=d(p)),x(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=n(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,o=p.length;t<o;t++)for(var a=p[t].slice(1),u=0;u<a.length;u+=2)a[u+0]<r[0]&&(r[0]=a[u+0]),a[u+1]<r[1]&&(r[1]=a[u+1]),a[u+0]>r[2]&&(r[2]=a[u+0]),a[u+1]>r[3]&&(r[3]=a[u+1]);return r}},41976:function(U,N,e){U.exports=P;var d=e(92848);function P(x){for(var v,p=[],r=0,t=0,o=0,a=0,u=null,f=null,l=0,y=0,c=0,T=x.length;c<T;c++){var h=x[c],i=h[0];switch(i){case"M":o=h[1],a=h[2];break;case"A":var g=d({px:l,py:y,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!g.length)continue;for(var b=0,A;b<g.length;b++)A=g[b],h=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],b<g.length-1&&p.push(h);break;case"S":var R=l,m=y;(v=="C"||v=="S")&&(R+=R-r,m+=m-t),h=["C",R,m,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(u=l*2-u,f=y*2-f):(u=l,f=y),h=C(l,y,u,f,h[1],h[2]);break;case"Q":u=h[1],f=h[2],h=C(l,y,h[1],h[2],h[3],h[4]);break;case"L":h=n(l,y,h[1],h[2]);break;case"H":h=n(l,y,h[1],y);break;case"V":h=n(l,y,l,h[1]);break;case"Z":h=n(l,y,o,a);break}v=i,l=h[h.length-2],y=h[h.length-1],h.length>4?(r=h[h.length-4],t=h[h.length-3]):(r=l,t=y),p.push(h)}return p}function n(x,v,p,r){return["C",x,v,p,r,p,r]}function C(x,v,p,r,t,o){return["C",x/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,o/3+.6666666666666666*r,t,o]}},20472:function(U,N,e){var d=e(74840),P=e(21984),n=e(22235),C=e(53520),x=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");U.exports=r;function r(a,u){if(!C(a))throw Error("Argument should be valid svg path string");u||(u={});var f,l;u.shape?(f=u.shape[0],l=u.shape[1]):(f=v.width=u.w||u.width||200,l=v.height=u.h||u.height||200);var y=Math.min(f,l),c=u.stroke||0,T=u.viewbox||u.viewBox||d(a),h=[f/(T[2]-T[0]),l/(T[3]-T[1])],i=Math.min(h[0]||0,h[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,f,l),p.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(c)),p.translate(f*.5,l*.5),p.scale(i,i),o()){var g=new Path2D(a);p.fill(g),c&&p.stroke(g)}else{var b=P(a);n(p,b),p.fill(),c&&p.stroke()}p.setTransform(1,0,0,1,0,0);var A=x(p,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:y*.5});return A}var t;function o(){if(t!=null)return t;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return t=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(u);var f=a.getImageData(0,0,1,1);return t=f&&f.data&&f.data[3]===255}},49760:function(U,N,e){var d;(function(P){var n=/^\s+/,C=/\s+$/,x=0,v=P.round,p=P.min,r=P.max,t=P.random;function o(j,se){if(j=j||"",se=se||{},j instanceof o)return j;if(!(this instanceof o))return new o(j,se);var ne=a(j);this._originalInput=j,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=v(100*this._a)/100,this._format=se.format||ne.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ne.ok,this._tc_id=x++}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),se,ne,he,me,we,Te;return se=j.r/255,ne=j.g/255,he=j.b/255,se<=.03928?me=se/12.92:me=P.pow((se+.055)/1.055,2.4),ne<=.03928?we=ne/12.92:we=P.pow((ne+.055)/1.055,2.4),he<=.03928?Te=he/12.92:Te=P.pow((he+.055)/1.055,2.4),.2126*me+.7152*we+.0722*Te},setAlpha:function(j){return this._a=F(j),this._roundA=v(100*this._a)/100,this},toHsv:function(){var j=y(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=y(this._r,this._g,this._b),se=v(j.h*360),ne=v(j.s*100),he=v(j.v*100);return this._a==1?"hsv("+se+", "+ne+"%, "+he+"%)":"hsva("+se+", "+ne+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var j=f(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=f(this._r,this._g,this._b),se=v(j.h*360),ne=v(j.s*100),he=v(j.l*100);return this._a==1?"hsl("+se+", "+ne+"%, "+he+"%)":"hsla("+se+", "+ne+"%, "+he+"%, "+this._roundA+")"},toHex:function(j){return T(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return h(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(G(this._r,255)*100)+"%",g:v(G(this._g,255)*100)+"%",b:v(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(G(this._r,255)*100)+"%, "+v(G(this._g,255)*100)+"%, "+v(G(this._b,255)*100)+"%)":"rgba("+v(G(this._r,255)*100)+"%, "+v(G(this._g,255)*100)+"%, "+v(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:V[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var se="#"+i(this._r,this._g,this._b,this._a),ne=se,he=this._gradientType?"GradientType = 1, ":"";if(j){var me=o(j);ne="#"+i(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+se+",endColorstr="+ne+")"},toString:function(j){var se=!!j;j=j||this._format;var ne=!1,he=this._a<1&&this._a>=0,me=!se&&he&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return me?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(ne=this.toRgbString()),j==="prgb"&&(ne=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(ne=this.toHexString()),j==="hex3"&&(ne=this.toHexString(!0)),j==="hex4"&&(ne=this.toHex8String(!0)),j==="hex8"&&(ne=this.toHex8String()),j==="name"&&(ne=this.toName()),j==="hsl"&&(ne=this.toHslString()),j==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(j,se){var ne=j.apply(null,[this].concat([].slice.call(se)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(R,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(L,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(j,se){return j.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},o.fromRatio=function(j,se){if(typeof j=="object"){var ne={};for(var he in j)j.hasOwnProperty(he)&&(he==="a"?ne[he]=j[he]:ne[he]=oe(j[he]));j=ne}return o(j,se)};function a(j){var se={r:0,g:0,b:0},ne=1,he=null,me=null,we=null,Te=!1,Le=!1;return typeof j=="string"&&(j=le(j)),typeof j=="object"&&(q(j.r)&&q(j.g)&&q(j.b)?(se=u(j.r,j.g,j.b),Te=!0,Le=String(j.r).substr(-1)==="%"?"prgb":"rgb"):q(j.h)&&q(j.s)&&q(j.v)?(he=oe(j.s),me=oe(j.v),se=c(j.h,he,me),Te=!0,Le="hsv"):q(j.h)&&q(j.s)&&q(j.l)&&(he=oe(j.s),we=oe(j.l),se=l(j.h,he,we),Te=!0,Le="hsl"),j.hasOwnProperty("a")&&(ne=j.a)),ne=F(ne),{ok:Te,format:j.format||Le,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:ne}}function u(j,se,ne){return{r:G(j,255)*255,g:G(se,255)*255,b:G(ne,255)*255}}function f(j,se,ne){j=G(j,255),se=G(se,255),ne=G(ne,255);var he=r(j,se,ne),me=p(j,se,ne),we,Te,Le=(he+me)/2;if(he==me)we=Te=0;else{var Ie=he-me;switch(Te=Le>.5?Ie/(2-he-me):Ie/(he+me),he){case j:we=(se-ne)/Ie+(se<ne?6:0);break;case se:we=(ne-j)/Ie+2;break;case ne:we=(j-se)/Ie+4;break}we/=6}return{h:we,s:Te,l:Le}}function l(j,se,ne){var he,me,we;j=G(j,360),se=G(se,100),ne=G(ne,100);function Te(ze,Me,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<.16666666666666666?ze+(Me-ze)*6*_e:_e<.5?Me:_e<.6666666666666666?ze+(Me-ze)*(.6666666666666666-_e)*6:ze}if(se===0)he=me=we=ne;else{var Le=ne<.5?ne*(1+se):ne+se-ne*se,Ie=2*ne-Le;he=Te(Ie,Le,j+.3333333333333333),me=Te(Ie,Le,j),we=Te(Ie,Le,j-.3333333333333333)}return{r:he*255,g:me*255,b:we*255}}function y(j,se,ne){j=G(j,255),se=G(se,255),ne=G(ne,255);var he=r(j,se,ne),me=p(j,se,ne),we,Te,Le=he,Ie=he-me;if(Te=he===0?0:Ie/he,he==me)we=0;else{switch(he){case j:we=(se-ne)/Ie+(se<ne?6:0);break;case se:we=(ne-j)/Ie+2;break;case ne:we=(j-se)/Ie+4;break}we/=6}return{h:we,s:Te,v:Le}}function c(j,se,ne){j=G(j,360)*6,se=G(se,100),ne=G(ne,100);var he=P.floor(j),me=j-he,we=ne*(1-se),Te=ne*(1-me*se),Le=ne*(1-(1-me)*se),Ie=he%6,ze=[ne,Te,we,we,Le,ne][Ie],Me=[Le,ne,ne,Te,we,we][Ie],_e=[we,we,Le,ne,ne,Te][Ie];return{r:ze*255,g:Me*255,b:_e*255}}function T(j,se,ne,he){var me=[fe(v(j).toString(16)),fe(v(se).toString(16)),fe(v(ne).toString(16))];return he&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function h(j,se,ne,he,me){var we=[fe(v(j).toString(16)),fe(v(se).toString(16)),fe(v(ne).toString(16)),fe(J(he))];return me&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function i(j,se,ne,he){var me=[fe(J(he)),fe(v(j).toString(16)),fe(v(se).toString(16)),fe(v(ne).toString(16))];return me.join("")}o.equals=function(j,se){return!j||!se?!1:o(j).toRgbString()==o(se).toRgbString()},o.random=function(){return o.fromRatio({r:t(),g:t(),b:t()})};function g(j,se){se=se===0?0:se||10;var ne=o(j).toHsl();return ne.s-=se/100,ne.s=Y(ne.s),o(ne)}function b(j,se){se=se===0?0:se||10;var ne=o(j).toHsl();return ne.s+=se/100,ne.s=Y(ne.s),o(ne)}function A(j){return o(j).desaturate(100)}function R(j,se){se=se===0?0:se||10;var ne=o(j).toHsl();return ne.l+=se/100,ne.l=Y(ne.l),o(ne)}function m(j,se){se=se===0?0:se||10;var ne=o(j).toRgb();return ne.r=r(0,p(255,ne.r-v(255*-(se/100)))),ne.g=r(0,p(255,ne.g-v(255*-(se/100)))),ne.b=r(0,p(255,ne.b-v(255*-(se/100)))),o(ne)}function L(j,se){se=se===0?0:se||10;var ne=o(j).toHsl();return ne.l-=se/100,ne.l=Y(ne.l),o(ne)}function M(j,se){var ne=o(j).toHsl(),he=(ne.h+se)%360;return ne.h=he<0?360+he:he,o(ne)}function s(j){var se=o(j).toHsl();return se.h=(se.h+180)%360,o(se)}function S(j){var se=o(j).toHsl(),ne=se.h;return[o(j),o({h:(ne+120)%360,s:se.s,l:se.l}),o({h:(ne+240)%360,s:se.s,l:se.l})]}function w(j){var se=o(j).toHsl(),ne=se.h;return[o(j),o({h:(ne+90)%360,s:se.s,l:se.l}),o({h:(ne+180)%360,s:se.s,l:se.l}),o({h:(ne+270)%360,s:se.s,l:se.l})]}function _(j){var se=o(j).toHsl(),ne=se.h;return[o(j),o({h:(ne+72)%360,s:se.s,l:se.l}),o({h:(ne+216)%360,s:se.s,l:se.l})]}function I(j,se,ne){se=se||6,ne=ne||30;var he=o(j).toHsl(),me=360/ne,we=[o(j)];for(he.h=(he.h-(me*se>>1)+720)%360;--se;)he.h=(he.h+me)%360,we.push(o(he));return we}function H(j,se){se=se||6;for(var ne=o(j).toHsv(),he=ne.h,me=ne.s,we=ne.v,Te=[],Le=1/se;se--;)Te.push(o({h:he,s:me,v:we})),we=(we+Le)%1;return Te}o.mix=function(j,se,ne){ne=ne===0?0:ne||50;var he=o(j).toRgb(),me=o(se).toRgb(),we=ne/100,Te={r:(me.r-he.r)*we+he.r,g:(me.g-he.g)*we+he.g,b:(me.b-he.b)*we+he.b,a:(me.a-he.a)*we+he.a};return o(Te)},o.readability=function(j,se){var ne=o(j),he=o(se);return(P.max(ne.getLuminance(),he.getLuminance())+.05)/(P.min(ne.getLuminance(),he.getLuminance())+.05)},o.isReadable=function(j,se,ne){var he=o.readability(j,se),me,we;switch(we=!1,me=$(ne),me.level+me.size){case"AAsmall":case"AAAlarge":we=he>=4.5;break;case"AAlarge":we=he>=3;break;case"AAAsmall":we=he>=7;break}return we},o.mostReadable=function(j,se,ne){var he=null,me=0,we,Te,Le,Ie;ne=ne||{},Te=ne.includeFallbackColors,Le=ne.level,Ie=ne.size;for(var ze=0;ze<se.length;ze++)we=o.readability(j,se[ze]),we>me&&(me=we,he=o(se[ze]));return o.isReadable(j,he,{level:Le,size:Ie})||!Te?he:(ne.includeFallbackColors=!1,o.mostReadable(j,["#fff","#000"],ne))};var O=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=o.hexNames=B(O);function B(j){var se={};for(var ne in j)j.hasOwnProperty(ne)&&(se[j[ne]]=ne);return se}function F(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function G(j,se){te(j)&&(j="100%");var ne=ae(j);return j=p(se,r(0,parseFloat(j))),ne&&(j=parseInt(j*se,10)/100),P.abs(j-se)<1e-6?1:j%se/parseFloat(se)}function Y(j){return p(1,r(0,j))}function Q(j){return parseInt(j,16)}function te(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function ae(j){return typeof j=="string"&&j.indexOf("%")!=-1}function fe(j){return j.length==1?"0"+j:""+j}function oe(j){return j<=1&&(j=j*100+"%"),j}function J(j){return P.round(parseFloat(j)*255).toString(16)}function ee(j){return Q(j)/255}var X=function(){var j="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+se+")|(?:"+j+")",he="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",me="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(j){return!!X.CSS_UNIT.exec(j)}function le(j){j=j.replace(n,"").replace(C,"").toLowerCase();var se=!1;if(O[j])j=O[j],se=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=X.rgb.exec(j))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=X.rgba.exec(j))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=X.hsl.exec(j))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=X.hsla.exec(j))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=X.hsv.exec(j))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=X.hsva.exec(j))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=X.hex8.exec(j))?{r:Q(ne[1]),g:Q(ne[2]),b:Q(ne[3]),a:ee(ne[4]),format:se?"name":"hex8"}:(ne=X.hex6.exec(j))?{r:Q(ne[1]),g:Q(ne[2]),b:Q(ne[3]),format:se?"name":"hex"}:(ne=X.hex4.exec(j))?{r:Q(ne[1]+""+ne[1]),g:Q(ne[2]+""+ne[2]),b:Q(ne[3]+""+ne[3]),a:ee(ne[4]+""+ne[4]),format:se?"name":"hex8"}:(ne=X.hex3.exec(j))?{r:Q(ne[1]+""+ne[1]),g:Q(ne[2]+""+ne[2]),b:Q(ne[3]+""+ne[3]),format:se?"name":"hex"}:!1}function $(j){var se,ne;return j=j||{level:"AA",size:"small"},se=(j.level||"AA").toUpperCase(),ne=(j.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:se,size:ne}}U.exports?U.exports=o:(d=(function(){return o}).call(N,e,N,U),d!==void 0&&(U.exports=d))})(Math)},37816:function(U){U.exports=d,U.exports.float32=U.exports.float=d,U.exports.fract32=U.exports.fract=e;var N=new Float32Array(1);function e(P,n){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);n instanceof Float32Array||(n=d(P));for(var C=0,x=n.length;C<x;C++)n[C]=P[C]-n[C];return n}return d(P-d(P))}function d(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(N[0]=P,N[0])}},23464:function(U,N,e){var d=e(65819);U.exports=x;var P=96;function n(v,p){var r=d(getComputedStyle(v).getPropertyValue(p));return r[0]*x(r[1],v)}function C(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=n(r,"font-size")/128;return p.removeChild(r),t}function x(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return C(v,p);case"em":return n(p,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(U,N,e){e.d(N,{NO:function(){return C}});function d(p,r){for(var t,o=p.length,a=o-r;a<--o;)t=p[a],p[a++]=p[o],p[o]=t}function P(p){return p}function n(p){if(p==null)return P;var r,t,o=p.scale[0],a=p.scale[1],u=p.translate[0],f=p.translate[1];return function(l,y){y||(r=t=0);var c=2,T=l.length,h=new Array(T);for(h[0]=(r+=l[0])*o+u,h[1]=(t+=l[1])*a+f;c<T;)h[c]=l[c],++c;return h}}function C(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return x(p,t)})}:x(p,r)}function x(p,r){var t=r.id,o=r.bbox,a=r.properties==null?{}:r.properties,u=v(p,r);return t==null&&o==null?{type:"Feature",properties:a,geometry:u}:o==null?{type:"Feature",id:t,properties:a,geometry:u}:{type:"Feature",id:t,bbox:o,properties:a,geometry:u}}function v(p,r){var t=n(p.transform),o=p.arcs;function a(T,h){h.length&&h.pop();for(var i=o[T<0?~T:T],g=0,b=i.length;g<b;++g)h.push(t(i[g],g));T<0&&d(h,b)}function u(T){return t(T)}function f(T){for(var h=[],i=0,g=T.length;i<g;++i)a(T[i],h);return h.length<2&&h.push(h[0]),h}function l(T){for(var h=f(T);h.length<4;)h.push(h[0]);return h}function y(T){return T.map(l)}function c(T){var h=T.type,i;switch(h){case"GeometryCollection":return{type:h,geometries:T.geometries.map(c)};case"Point":i=u(T.coordinates);break;case"MultiPoint":i=T.coordinates.map(u);break;case"LineString":i=f(T.arcs);break;case"MultiLineString":i=T.arcs.map(f);break;case"Polygon":i=y(T.arcs);break;case"MultiPolygon":i=T.arcs.map(y);break;default:return null}return{type:h,coordinates:i}}return c(r)}},73384:function(U,N,e){var d=e(54612);U.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!d(P)}},57980:function(U,N,e){var d=e(81680),P=e(7328),n=e(33940),C=e(18856),x=function(v,p){return v.replace("%v",C(p))};U.exports=function(v,p,r){if(!P(r))throw new TypeError(x(p,v));if(!d(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=n(r.errorMessage);throw d(t)||(t=p),new TypeError(x(t,v))}},32336:function(U){U.exports=function(N){try{return N.toString()}catch{try{return String(N)}catch{return null}}}},18856:function(U,N,e){var d=e(32336),P=/[\n\r\u2028\u2029]/g;U.exports=function(n){var C=d(n);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+"…"),C=C.replace(P,function(x){switch(x){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},7328:function(U,N,e){var d=e(81680),P={object:!0,function:!0,undefined:!0};U.exports=function(n){return d(n)?hasOwnProperty.call(P,typeof n):!1}},87396:function(U,N,e){var d=e(57980),P=e(85488);U.exports=function(n){return P(n)?n:d(n,"%v is not a plain function",arguments[1])}},85488:function(U,N,e){var d=e(73384),P=/^\s*class[\s{/}]/,n=Function.prototype.toString;U.exports=function(C){return!(!d(C)||P.test(n.call(C)))}},54612:function(U,N,e){var d=e(7328);U.exports=function(P){if(!d(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(U,N,e){var d=e(81680),P=e(7328),n=Object.prototype.toString;U.exports=function(C){if(!d(C))return null;if(P(C)){var x=C.toString;if(typeof x!="function"||x===n)return null}try{return""+C}catch{return null}}},18496:function(U,N,e){var d=e(57980),P=e(81680);U.exports=function(n){return P(n)?n:d(n,"Cannot use %v",arguments[1])}},81680:function(U){var N=void 0;U.exports=function(e){return e!==N&&e!==null}},14144:function(U,N,e){var d=e(308),P=e(10352),n=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var C=typeof Uint8ClampedArray<"u",x=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;N.free=function(s){if(n.isBuffer(s))t[d.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var S=s.length||s.byteLength,w=d.log2(S)|0;r[w].push(s)}};function o(M){if(M){var s=M.length||M.byteLength,S=d.log2(s);r[S].push(M)}}function a(M){o(M.buffer)}N.freeUint8=N.freeUint16=N.freeUint32=N.freeBigUint64=N.freeInt8=N.freeInt16=N.freeInt32=N.freeBigInt64=N.freeFloat32=N.freeFloat=N.freeFloat64=N.freeDouble=N.freeUint8Clamped=N.freeDataView=a,N.freeArrayBuffer=o,N.freeBuffer=function(s){t[d.log2(s.length)].push(s)},N.malloc=function(s,S){if(S===void 0||S==="arraybuffer")return u(s);switch(S){case"uint8":return f(s);case"uint16":return l(s);case"uint32":return y(s);case"int8":return c(s);case"int16":return T(s);case"int32":return h(s);case"float":case"float32":return i(s);case"double":case"float64":return g(s);case"uint8_clamped":return b(s);case"bigint64":return R(s);case"biguint64":return A(s);case"buffer":return L(s);case"data":case"dataview":return m(s);default:return null}return null};function u(s){var s=d.nextPow2(s),S=d.log2(s),w=r[S];return w.length>0?w.pop():new ArrayBuffer(s)}N.mallocArrayBuffer=u;function f(M){return new Uint8Array(u(M),0,M)}N.mallocUint8=f;function l(M){return new Uint16Array(u(2*M),0,M)}N.mallocUint16=l;function y(M){return new Uint32Array(u(4*M),0,M)}N.mallocUint32=y;function c(M){return new Int8Array(u(M),0,M)}N.mallocInt8=c;function T(M){return new Int16Array(u(2*M),0,M)}N.mallocInt16=T;function h(M){return new Int32Array(u(4*M),0,M)}N.mallocInt32=h;function i(M){return new Float32Array(u(4*M),0,M)}N.mallocFloat32=N.mallocFloat=i;function g(M){return new Float64Array(u(8*M),0,M)}N.mallocFloat64=N.mallocDouble=g;function b(M){return C?new Uint8ClampedArray(u(M),0,M):f(M)}N.mallocUint8Clamped=b;function A(M){return x?new BigUint64Array(u(8*M),0,M):null}N.mallocBigUint64=A;function R(M){return v?new BigInt64Array(u(8*M),0,M):null}N.mallocBigInt64=R;function m(M){return new DataView(u(M),0,M)}N.mallocDataView=m;function L(M){M=d.nextPow2(M);var s=d.log2(M),S=t[s];return S.length>0?S.pop():new n(M)}N.mallocBuffer=L,N.clearCache=function(){for(var s=0;s<32;++s)p.UINT8[s].length=0,p.UINT16[s].length=0,p.UINT32[s].length=0,p.INT8[s].length=0,p.INT16[s].length=0,p.INT32[s].length=0,p.FLOAT[s].length=0,p.DOUBLE[s].length=0,p.BIGUINT64[s].length=0,p.BIGINT64[s].length=0,p.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(U){var N=/[\'\"]/;U.exports=function(d){return d?(N.test(d.charAt(0))&&(d=d.substr(1)),N.test(d.charAt(d.length-1))&&(d=d.substr(0,d.length-1)),d):""}},45223:function(U){U.exports=function(e,d,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var n=0,C=P.length;n<C;n++){var x=P[n];for(var v in x)if(!(d[v]!==void 0&&!Array.isArray(d[v])&&e[v]===d[v])&&v in d){var p;if(x[v]===!0)p=d[v];else{if(x[v]===!1)continue;if(typeof x[v]=="function"&&(p=x[v](d[v],e,d),p===void 0))continue}e[v]=p}}return e}},96656:function(U,N,e){U.exports=d;function d(n,C){if(P("noDeprecation"))return n;var x=!1;function v(){if(!x){if(P("throwDeprecation"))throw new Error(C);P("traceDeprecation")?console.trace(C):console.warn(C),x=!0}return n.apply(this,arguments)}return v}function P(n){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[n];return C==null?!1:String(C).toLowerCase()==="true"}},75272:function(U){U.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(U,N,e){var d=e(91148),P=e(84420),n=e(96632),C=e(7728);function x(we){return we.call.bind(we)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=x(Object.prototype.toString),t=x(Number.prototype.valueOf),o=x(String.prototype.valueOf),a=x(Boolean.prototype.valueOf);if(v)var u=x(BigInt.prototype.valueOf);if(p)var f=x(Symbol.prototype.valueOf);function l(we,Te){if(typeof we!="object")return!1;try{return Te(we),!0}catch{return!1}}N.isArgumentsObject=d,N.isGeneratorFunction=P,N.isTypedArray=C;function y(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}N.isPromise=y;function c(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):C(we)||Q(we)}N.isArrayBufferView=c;function T(we){return n(we)==="Uint8Array"}N.isUint8Array=T;function h(we){return n(we)==="Uint8ClampedArray"}N.isUint8ClampedArray=h;function i(we){return n(we)==="Uint16Array"}N.isUint16Array=i;function g(we){return n(we)==="Uint32Array"}N.isUint32Array=g;function b(we){return n(we)==="Int8Array"}N.isInt8Array=b;function A(we){return n(we)==="Int16Array"}N.isInt16Array=A;function R(we){return n(we)==="Int32Array"}N.isInt32Array=R;function m(we){return n(we)==="Float32Array"}N.isFloat32Array=m;function L(we){return n(we)==="Float64Array"}N.isFloat64Array=L;function M(we){return n(we)==="BigInt64Array"}N.isBigInt64Array=M;function s(we){return n(we)==="BigUint64Array"}N.isBigUint64Array=s;function S(we){return r(we)==="[object Map]"}S.working=typeof Map<"u"&&S(new Map);function w(we){return typeof Map>"u"?!1:S.working?S(we):we instanceof Map}N.isMap=w;function _(we){return r(we)==="[object Set]"}_.working=typeof Set<"u"&&_(new Set);function I(we){return typeof Set>"u"?!1:_.working?_(we):we instanceof Set}N.isSet=I;function H(we){return r(we)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function O(we){return typeof WeakMap>"u"?!1:H.working?H(we):we instanceof WeakMap}N.isWeakMap=O;function V(we){return r(we)==="[object WeakSet]"}V.working=typeof WeakSet<"u"&&V(new WeakSet);function B(we){return V(we)}N.isWeakSet=B;function F(we){return r(we)==="[object ArrayBuffer]"}F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer);function G(we){return typeof ArrayBuffer>"u"?!1:F.working?F(we):we instanceof ArrayBuffer}N.isArrayBuffer=G;function Y(we){return r(we)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function Q(we){return typeof DataView>"u"?!1:Y.working?Y(we):we instanceof DataView}N.isDataView=Q;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(we){return r(we)==="[object SharedArrayBuffer]"}function fe(we){return typeof te>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new te)),ae.working?ae(we):we instanceof te)}N.isSharedArrayBuffer=fe;function oe(we){return r(we)==="[object AsyncFunction]"}N.isAsyncFunction=oe;function J(we){return r(we)==="[object Map Iterator]"}N.isMapIterator=J;function ee(we){return r(we)==="[object Set Iterator]"}N.isSetIterator=ee;function X(we){return r(we)==="[object Generator]"}N.isGeneratorObject=X;function q(we){return r(we)==="[object WebAssembly.Module]"}N.isWebAssemblyCompiledModule=q;function le(we){return l(we,t)}N.isNumberObject=le;function $(we){return l(we,o)}N.isStringObject=$;function j(we){return l(we,a)}N.isBooleanObject=j;function se(we){return v&&l(we,u)}N.isBigIntObject=se;function ne(we){return p&&l(we,f)}N.isSymbolObject=ne;function he(we){return le(we)||$(we)||j(we)||se(we)||ne(we)}N.isBoxedPrimitive=he;function me(we){return typeof Uint8Array<"u"&&(G(we)||fe(we))}N.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(N,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},35840:function(U,N,e){var d=e(4168),P=Object.getOwnPropertyDescriptors||function(te){for(var ae=Object.keys(te),fe={},oe=0;oe<ae.length;oe++)fe[ae[oe]]=Object.getOwnPropertyDescriptor(te,ae[oe]);return fe},n=/%[sdj%]/g;N.format=function(Q){if(!A(Q)){for(var te=[],ae=0;ae<arguments.length;ae++)te.push(p(arguments[ae]));return te.join(" ")}for(var ae=1,fe=arguments,oe=fe.length,J=String(Q).replace(n,function(X){if(X==="%%")return"%";if(ae>=oe)return X;switch(X){case"%s":return String(fe[ae++]);case"%d":return Number(fe[ae++]);case"%j":try{return JSON.stringify(fe[ae++])}catch{return"[Circular]"}default:return X}}),ee=fe[ae];ae<oe;ee=fe[++ae])i(ee)||!M(ee)?J+=" "+ee:J+=" "+p(ee);return J},N.deprecate=function(Q,te){if(typeof d<"u"&&d.noDeprecation===!0)return Q;if(typeof d>"u")return function(){return N.deprecate(Q,te).apply(this,arguments)};var ae=!1;function fe(){if(!ae){if(d.throwDeprecation)throw new Error(te);d.traceDeprecation?console.trace(te):console.error(te),ae=!0}return Q.apply(this,arguments)}return fe};var C={},x=/^$/;if(d.env.NODE_DEBUG){var v=d.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),x=new RegExp("^"+v+"$","i")}N.debuglog=function(Q){if(Q=Q.toUpperCase(),!C[Q])if(x.test(Q)){var te=d.pid;C[Q]=function(){var ae=N.format.apply(N,arguments);console.error("%s %d: %s",Q,te,ae)}}else C[Q]=function(){};return C[Q]};function p(Q,te){var ae={seen:[],stylize:t};return arguments.length>=3&&(ae.depth=arguments[2]),arguments.length>=4&&(ae.colors=arguments[3]),h(te)?ae.showHidden=te:te&&N._extend(ae,te),m(ae.showHidden)&&(ae.showHidden=!1),m(ae.depth)&&(ae.depth=2),m(ae.colors)&&(ae.colors=!1),m(ae.customInspect)&&(ae.customInspect=!0),ae.colors&&(ae.stylize=r),a(ae,Q,ae.depth)}N.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(Q,te){var ae=p.styles[te];return ae?"\x1B["+p.colors[ae][0]+"m"+Q+"\x1B["+p.colors[ae][1]+"m":Q}function t(Q,te){return Q}function o(Q){var te={};return Q.forEach(function(ae,fe){te[ae]=!0}),te}function a(Q,te,ae){if(Q.customInspect&&te&&w(te.inspect)&&te.inspect!==N.inspect&&!(te.constructor&&te.constructor.prototype===te)){var fe=te.inspect(ae,Q);return A(fe)||(fe=a(Q,fe,ae)),fe}var oe=u(Q,te);if(oe)return oe;var J=Object.keys(te),ee=o(J);if(Q.showHidden&&(J=Object.getOwnPropertyNames(te)),S(te)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return f(te);if(J.length===0){if(w(te)){var X=te.name?": "+te.name:"";return Q.stylize("[Function"+X+"]","special")}if(L(te))return Q.stylize(RegExp.prototype.toString.call(te),"regexp");if(s(te))return Q.stylize(Date.prototype.toString.call(te),"date");if(S(te))return f(te)}var q="",le=!1,$=["{","}"];if(T(te)&&(le=!0,$=["[","]"]),w(te)){var j=te.name?": "+te.name:"";q=" [Function"+j+"]"}if(L(te)&&(q=" "+RegExp.prototype.toString.call(te)),s(te)&&(q=" "+Date.prototype.toUTCString.call(te)),S(te)&&(q=" "+f(te)),J.length===0&&(!le||te.length==0))return $[0]+q+$[1];if(ae<0)return L(te)?Q.stylize(RegExp.prototype.toString.call(te),"regexp"):Q.stylize("[Object]","special");Q.seen.push(te);var se;return le?se=l(Q,te,ae,ee,J):se=J.map(function(ne){return y(Q,te,ae,ee,ne,le)}),Q.seen.pop(),c(se,q,$)}function u(Q,te){if(m(te))return Q.stylize("undefined","undefined");if(A(te)){var ae="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(ae,"string")}if(b(te))return Q.stylize(""+te,"number");if(h(te))return Q.stylize(""+te,"boolean");if(i(te))return Q.stylize("null","null")}function f(Q){return"["+Error.prototype.toString.call(Q)+"]"}function l(Q,te,ae,fe,oe){for(var J=[],ee=0,X=te.length;ee<X;++ee)B(te,String(ee))?J.push(y(Q,te,ae,fe,String(ee),!0)):J.push("");return oe.forEach(function(q){q.match(/^\d+$/)||J.push(y(Q,te,ae,fe,q,!0))}),J}function y(Q,te,ae,fe,oe,J){var ee,X,q;if(q=Object.getOwnPropertyDescriptor(te,oe)||{value:te[oe]},q.get?q.set?X=Q.stylize("[Getter/Setter]","special"):X=Q.stylize("[Getter]","special"):q.set&&(X=Q.stylize("[Setter]","special")),B(fe,oe)||(ee="["+oe+"]"),X||(Q.seen.indexOf(q.value)<0?(i(ae)?X=a(Q,q.value,null):X=a(Q,q.value,ae-1),X.indexOf(`
`)>-1&&(J?X=X.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(le){return"   "+le}).join(`
`))):X=Q.stylize("[Circular]","special")),m(ee)){if(J&&oe.match(/^\d+$/))return X;ee=JSON.stringify(""+oe),ee.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ee=ee.slice(1,-1),ee=Q.stylize(ee,"name")):(ee=ee.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ee=Q.stylize(ee,"string"))}return ee+": "+X}function c(Q,te,ae){var fe=Q.reduce(function(oe,J){return J.indexOf(`
`)>=0,oe+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?ae[0]+(te===""?"":te+`
 `)+" "+Q.join(`,
  `)+" "+ae[1]:ae[0]+te+" "+Q.join(", ")+" "+ae[1]}N.types=e(41088);function T(Q){return Array.isArray(Q)}N.isArray=T;function h(Q){return typeof Q=="boolean"}N.isBoolean=h;function i(Q){return Q===null}N.isNull=i;function g(Q){return Q==null}N.isNullOrUndefined=g;function b(Q){return typeof Q=="number"}N.isNumber=b;function A(Q){return typeof Q=="string"}N.isString=A;function R(Q){return typeof Q=="symbol"}N.isSymbol=R;function m(Q){return Q===void 0}N.isUndefined=m;function L(Q){return M(Q)&&I(Q)==="[object RegExp]"}N.isRegExp=L,N.types.isRegExp=L;function M(Q){return typeof Q=="object"&&Q!==null}N.isObject=M;function s(Q){return M(Q)&&I(Q)==="[object Date]"}N.isDate=s,N.types.isDate=s;function S(Q){return M(Q)&&(I(Q)==="[object Error]"||Q instanceof Error)}N.isError=S,N.types.isNativeError=S;function w(Q){return typeof Q=="function"}N.isFunction=w;function _(Q){return Q===null||typeof Q=="boolean"||typeof Q=="number"||typeof Q=="string"||typeof Q=="symbol"||typeof Q>"u"}N.isPrimitive=_,N.isBuffer=e(75272);function I(Q){return Object.prototype.toString.call(Q)}function H(Q){return Q<10?"0"+Q.toString(10):Q.toString(10)}var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function V(){var Q=new Date,te=[H(Q.getHours()),H(Q.getMinutes()),H(Q.getSeconds())].join(":");return[Q.getDate(),O[Q.getMonth()],te].join(" ")}N.log=function(){console.log("%s - %s",V(),N.format.apply(N,arguments))},N.inherits=e(6768),N._extend=function(Q,te){if(!te||!M(te))return Q;for(var ae=Object.keys(te),fe=ae.length;fe--;)Q[ae[fe]]=te[ae[fe]];return Q};function B(Q,te){return Object.prototype.hasOwnProperty.call(Q,te)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;N.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&te[F]){var ae=te[F];if(typeof ae!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ae,F,{value:ae,enumerable:!1,writable:!1,configurable:!0}),ae}function ae(){for(var fe,oe,J=new Promise(function(q,le){fe=q,oe=le}),ee=[],X=0;X<arguments.length;X++)ee.push(arguments[X]);ee.push(function(q,le){q?oe(q):fe(le)});try{te.apply(this,ee)}catch(q){oe(q)}return J}return Object.setPrototypeOf(ae,Object.getPrototypeOf(te)),F&&Object.defineProperty(ae,F,{value:ae,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ae,P(te))},N.promisify.custom=F;function G(Q,te){if(!Q){var ae=new Error("Promise was rejected with a falsy value");ae.reason=Q,Q=ae}return te(Q)}function Y(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var ae=[],fe=0;fe<arguments.length;fe++)ae.push(arguments[fe]);var oe=ae.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var J=this,ee=function(){return oe.apply(J,arguments)};Q.apply(this,ae).then(function(X){d.nextTick(ee.bind(null,null,X))},function(X){d.nextTick(G.bind(null,X,ee))})}return Object.setPrototypeOf(te,Object.getPrototypeOf(Q)),Object.defineProperties(te,P(Q)),te}N.callbackify=Y},5408:function(U,N,e){var d=e(13380);U.exports=function(n){return d("webgl",n)}},96632:function(U,N,e){var d=e(46492),P=e(63436),n=e(57916),C=e(99676),x=e(2304),v=C("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),o=C("String.prototype.slice"),a=Object.getPrototypeOf,u=C("Array.prototype.indexOf",!0)||function(T,h){for(var i=0;i<T.length;i+=1)if(T[i]===h)return i;return-1},f={__proto__:null};p&&x&&a?d(t,function(c){var T=new r[c];if(Symbol.toStringTag in T){var h=a(T),i=x(h,Symbol.toStringTag);if(!i){var g=a(h);i=x(g,Symbol.toStringTag)}f["$"+c]=n(i.get)}}):d(t,function(c){var T=new r[c],h=T.slice||T.set;h&&(f["$"+c]=n(h))});var l=function(T){var h=!1;return d(f,function(i,g){if(!h)try{"$"+i(T)===g&&(h=o(g,1))}catch{}}),h},y=function(T){var h=!1;return d(f,function(i,g){if(!h)try{i(T),h=o(g,1)}catch{}}),h};U.exports=function(T){if(!T||typeof T!="object")return!1;if(!p){var h=o(v(T),8,-1);return u(t,h)>-1?h:h!=="Object"?!1:y(T)}return x?l(T):null}},67020:function(U,N,e){var d=e(38700),P=e(50896),n=d.instance();function C(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}C.prototype=new d.baseCalendar,P(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,l){if(typeof f=="string"){var y=f.match(v);return y?y[0]:""}var c=this._validateYear(f),T=f.month(),h=""+this.toChineseMonth(c,T);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,T)&&(h+="i"),h},monthNames:function(f){if(typeof f=="string"){var l=f.match(p);return l?l[0]:""}var y=this._validateYear(f),c=f.month(),T=this.toChineseMonth(y,c),h=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][T-1];return this.isIntercalaryMonth(y,c)&&(h="闰"+h),h},monthNamesShort:function(f){if(typeof f=="string"){var l=f.match(r);return l?l[0]:""}var y=this._validateYear(f),c=f.month(),T=this.toChineseMonth(y,c),h=["一","二","三","四","五","六","七","八","九","十","十一","十二"][T-1];return this.isIntercalaryMonth(y,c)&&(h="闰"+h),h},parseMonth:function(f,l){f=this._validateYear(f);var y=parseInt(l),c;if(isNaN(y))l[0]==="闰"&&(c=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),y=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var T=l[l.length-1];c=T==="i"||T==="I"}var h=this.toMonthIndex(f,y,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,l){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw l.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,l,y){var c=this.intercalaryMonth(f),T=y&&l!==c;if(T||l<1||l>12)throw d.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!y&&l<=c?h=l-1:h=l:h=l-1,h},toChineseMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var y=this.intercalaryMonth(f),c=y?12:11;if(l<0||l>c)throw d.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return y?l<y?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(f){f=this._validateYear(f);var l=t[f-t[0]],y=l>>13;return y},isIntercalaryMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var y=this.intercalaryMonth(f);return!!y&&y===l},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,l,y){var c=this._validateYear(f,d.local.invalidyear),T=o[c-o[0]],h=T>>9&4095,i=T>>5&15,g=T&31,b;b=n.newDate(h,i,g),b.add(4-(b.dayOfWeek()||7),"d");var A=this.toJD(f,l,y)-b.toJD();return 1+Math.floor(A/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,l){f.year&&(l=f.month(),f=f.year()),f=this._validateYear(f);var y=t[f-t[0]],c=y>>13,T=c?12:11;if(l>T)throw d.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=y&1<<12-l?30:29;return h},weekDay:function(f,l,y){return(this.dayOfWeek(f,l,y)||7)<6},toJD:function(f,l,y){var c=this._validate(f,h,y,d.local.invalidDate);f=this._validateYear(c.year()),l=c.month(),y=c.day();var T=this.isIntercalaryMonth(f,l),h=this.toChineseMonth(f,l),i=u(f,h,y,T);return n.toJD(i.year,i.month,i.day)},fromJD:function(f){var l=n.fromJD(f),y=a(l.year(),l.month(),l.day()),c=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,c,y.day)},fromString:function(f){var l=f.match(x),y=this._validateYear(+l[1]),c=+l[2],T=!!l[3],h=this.toMonthIndex(y,c,T),i=+l[4];return this.newDate(y,h,i)},add:function(f,l,y){var c=f.year(),T=f.month(),h=this.isIntercalaryMonth(c,T),i=this.toChineseMonth(c,T),g=Object.getPrototypeOf(C.prototype).add.call(this,f,l,y);if(y==="y"){var b=g.year(),A=g.month(),R=this.isIntercalaryMonth(b,i),m=h&&R?this.toMonthIndex(b,i,!0):this.toMonthIndex(b,i,!1);m!==A&&g.month(m)}return g}});var x=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;d.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],o=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function a(f,l,y,c){var T,h;if(typeof f=="object")T=f,h=l||{};else{var i=typeof f=="number"&&f>=1888&&f<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var g=typeof l=="number"&&l>=1&&l<=12;if(!g)throw new Error("Solar month outside range 1 - 12");var b=typeof y=="number"&&y>=1&&y<=31;if(!b)throw new Error("Solar day outside range 1 - 31");T={year:f,month:l,day:y},h={}}var A=o[T.year-o[0]],R=T.year<<9|T.month<<5|T.day;h.year=R>=A?T.year:T.year-1,A=o[h.year-o[0]];var m=A>>9&4095,L=A>>5&15,M=A&31,s,S=new Date(m,L-1,M),w=new Date(T.year,T.month-1,T.day);s=Math.round((w-S)/864e5);var _=t[h.year-t[0]],I;for(I=0;I<13;I++){var H=_&1<<12-I?30:29;if(s<H)break;s-=H}var O=_>>13;return!O||I<O?(h.isIntercalary=!1,h.month=1+I):I===O?(h.isIntercalary=!0,h.month=I):(h.isIntercalary=!1,h.month=I),h.day=1+s,h}function u(f,l,y,c,T){var h,i;if(typeof f=="object")i=f,h=l||{};else{var g=typeof f=="number"&&f>=1888&&f<=2111;if(!g)throw new Error("Lunar year outside range 1888-2111");var b=typeof l=="number"&&l>=1&&l<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var A=typeof y=="number"&&y>=1&&y<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var R;typeof c=="object"?(R=!1,h=c):(R=!!c,h={}),i={year:f,month:l,day:y,isIntercalary:R}}var m;m=i.day-1;var L=t[i.year-t[0]],M=L>>13,s;M&&(i.month>M||i.isIntercalary)?s=i.month:s=i.month-1;for(var S=0;S<s;S++){var w=L&1<<12-S?30:29;m+=w}var _=o[i.year-o[0]],I=_>>9&4095,H=_>>5&15,O=_&31,V=new Date(I,H-1,O+m);return h.year=V.getFullYear(),h.month=1+V.getMonth(),h.day=V.getDate(),h}},89792:function(U,N,e){var d=e(38700),P=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var x=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),v=x.year()+(x.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),13},weekOfYear:function(C,x,v){var p=this.newDate(C,x,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,x){var v=this._validate(C,x,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,x,v){return(this.dayOfWeek(C,x,v)||7)<6},toJD:function(C,x,v){var p=this._validate(C,x,v,d.local.invalidDate);return C=p.year(),C<0&&C++,p.day()+(p.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var x=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((x-Math.floor((x+366)/1461))/365)+1;v<=0&&v--,x=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(x/30)+1,r=x-(p-1)*30+1;return this.newDate(v,p,r)}}),d.calendars.coptic=n},55668:function(U,N,e){var d=e(38700),P=e(50896);function n(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(x){return this._validate(x,this.minMonth,this.minDay,d.local.invalidYear),!1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,d.local.invalidYear),13},daysInYear:function(x){return this._validate(x,this.minMonth,this.minDay,d.local.invalidYear),400},weekOfYear:function(x,v,p){var r=this.newDate(x,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(x,v){var p=this._validate(x,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate);return(r.day()+1)%8},weekDay:function(x,v,p){var r=this.dayOfWeek(x,v,p);return r>=2&&r<=6},extraInfo:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate);return x=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(x-1)*400+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(x/400)+1;x-=(v-1)*400,x+=x>15?16:0;var p=Math.floor(x/32)+1,r=x-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var C={20:"Fruitbat",21:"Anchovy"};d.calendars.discworld=n},65168:function(U,N,e){var d=e(38700),P=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var x=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),v=x.year()+(x.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),13},weekOfYear:function(C,x,v){var p=this.newDate(C,x,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,x){var v=this._validate(C,x,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,x,v){return(this.dayOfWeek(C,x,v)||7)<6},toJD:function(C,x,v){var p=this._validate(C,x,v,d.local.invalidDate);return C=p.year(),C<0&&C++,p.day()+(p.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var x=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((x-Math.floor((x+366)/1461))/365)+1;v<=0&&v--,x=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(x/30)+1,r=x-(p-1)*30+1;return this.newDate(v,p,r)}}),d.calendars.ethiopian=n},2084:function(U,N,e){var d=e(38700),P=e(50896);function n(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var v=this._validate(x,this.minMonth,this.minDay,d.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(x){return x=x<0?x+1:x,C(x*7+1,19)<7},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,d.local.invalidYear),this._leapYear(x.year?x.year():x)?13:12},weekOfYear:function(x,v,p){var r=this.newDate(x,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(x){var v=this._validate(x,this.minMonth,this.minDay,d.local.invalidYear);return x=v.year(),this.toJD(x===-1?1:x+1,7,1)-this.toJD(x,7,1)},daysInMonth:function(x,v){return x.year&&(v=x.month(),x=x.year()),this._validate(x,v,this.minDay,d.local.invalidMonth),v===12&&this.leapYear(x)||v===8&&C(this.daysInYear(x),10)===5?30:v===9&&C(this.daysInYear(x),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(x,v,p){return this.dayOfWeek(x,v,p)!==6},extraInfo:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate);x=r.year(),v=r.month(),p=r.day();var t=x<=0?x+1:x,o=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var a=7;a<=this.monthsInYear(x);a++)o+=this.daysInMonth(x,a);for(var a=1;a<v;a++)o+=this.daysInMonth(x,a)}else for(var a=7;a<v;a++)o+=this.daysInMonth(x,a);return o},_delay1:function(x){var v=Math.floor((235*x-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(x){var v=this._delay1(x-1),p=this._delay1(x),r=this._delay1(x+1);return r-p===356?2:p-v===382?1:0},fromJD:function(x){x=Math.floor(x)+.5;for(var v=Math.floor((x-this.jdEpoch)*98496/35975351)-1;x>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=x<this.toJD(v,1,1)?7:1;x>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=x-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function C(x,v){return x-v*Math.floor(x/v)}d.calendars.hebrew=n},26368:function(U,N,e){var d=e(38700),P=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var x=this._validate(C,this.minMonth,this.minDay,d.local.invalidYear);return(x.year()*11+14)%30<11},weekOfYear:function(C,x,v){var p=this.newDate(C,x,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,x){var v=this._validate(C,x,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,x,v){return this.dayOfWeek(C,x,v)!==5},toJD:function(C,x,v){var p=this._validate(C,x,v,d.local.invalidDate);return C=p.year(),x=p.month(),v=p.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(x-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var x=Math.floor((30*(C-this.jdEpoch)+10646)/10631);x=x<=0?x-1:x;var v=Math.min(12,Math.ceil((C-29-this.toJD(x,1,1))/29.5)+1),p=C-this.toJD(x,v,1)+1;return this.newDate(x,v,p)}}),d.calendars.islamic=n},24747:function(U,N,e){var d=e(38700),P=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var x=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),v=x.year()<0?x.year()+1:x.year();return v%4===0},weekOfYear:function(C,x,v){var p=this.newDate(C,x,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,x){var v=this._validate(C,x,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,x,v){return(this.dayOfWeek(C,x,v)||7)<6},toJD:function(C,x,v){var p=this._validate(C,x,v,d.local.invalidDate);return C=p.year(),x=p.month(),v=p.day(),C<0&&C++,x<=2&&(C--,x+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(x+1))+v-1524.5},fromJD:function(C){var x=Math.floor(C+.5),v=x+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),o=t-Math.floor(t<14?1:13),a=p-Math.floor(o>2?4716:4715),u=v-r-Math.floor(30.6001*t);return a<=0&&a--,this.newDate(a,o,u)}}),d.calendars.julian=n},65616:function(U,N,e){var d=e(38700),P=e(50896);function n(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,d.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,d.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,d.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,d.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,d.local.invalidDate),o=t.toJD(),a=this._toHaab(o),u=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=C(v+8+17*20,365);return[Math.floor(p/20)+1,C(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[x(v+20,20),x(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,d.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function C(v,p){return v-p*Math.floor(v/p)}function x(v,p){return C(v-1,p)+1}d.calendars.mayan=n},30632:function(U,N,e){var d=e(38700),P=e(50896);function n(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar;var C=d.instance("gregorian");P(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var v=this._validate(x,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(x,v,p){var r=this.newDate(x,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(x,v){var p=this._validate(x,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(x,v,p){return(this.dayOfWeek(x,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,d.local.invalidMonth),t=r.year();t<0&&t++;for(var o=r.day(),a=1;a<r.month();a++)o+=this.daysPerMonth[a-1];return o+C.toJD(t+1468,3,13)},fromJD:function(x){x=Math.floor(x+.5);for(var v=Math.floor((x-(this.jdEpoch-1))/366);x>=this.toJD(v+1,1,1);)v++;for(var p=x-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),d.calendars.nanakshahi=n},73040:function(U,N,e){var d=e(38700),P=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,x,v){var p=this.newDate(C,x,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(C){var x=this._validate(C,this.minMonth,this.minDay,d.local.invalidYear);if(C=x.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[C][p];return v},daysInMonth:function(C,x){return C.year&&(x=C.month(),C=C.year()),this._validate(C,x,this.minDay,d.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[x-1]:this.NEPALI_CALENDAR_DATA[C][x]},weekDay:function(C,x,v){return this.dayOfWeek(C,x,v)!==6},toJD:function(C,x,v){var p=this._validate(C,x,v,d.local.invalidDate);C=p.year(),x=p.month(),v=p.day();var r=d.instance(),t=0,o=x,a=C;this._createMissingCalendarData(C);var u=C-(o>9||o===9&&v>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(x!==9&&(t=v,o--);o!==9;)o<=0&&(o=12,a--),t+=this.NEPALI_CALENDAR_DATA[a][o],o--;return x===9?(t+=v-this.NEPALI_CALENDAR_DATA[a][0],t<0&&(t+=r.daysInYear(u))):t+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],r.newDate(u,1,1).add(t,"d").toJD()},fromJD:function(C){var x=d.instance(),v=x.fromJD(C),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var o=9,a=this.NEPALI_CALENDAR_DATA[t][0],u=this.NEPALI_CALENDAR_DATA[t][o]-a+1;r>u;)o++,o>12&&(o=1,t++),u+=this.NEPALI_CALENDAR_DATA[t][o];var f=this.NEPALI_CALENDAR_DATA[t][o]-(u-r);return this.newDate(t,o,f)},_createMissingCalendarData:function(C){var x=this.daysPerMonth.slice(0);x.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=x)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),d.calendars.nepali=n},1104:function(U,N,e){var d=e(38700),P=e(50896);function n(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(x){var v=this._validate(x,this.minMonth,this.minDay,d.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(x,v,p){var r=this.newDate(x,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(x,v){var p=this._validate(x,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(x,v,p){return this.dayOfWeek(x,v,p)!==5},toJD:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate);x=r.year(),v=r.month(),p=r.day();var t=x-(x>=0?474:473),o=474+C(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x)+.5;var v=x-this.toJD(475,1,1),p=Math.floor(v/1029983),r=C(v,1029983),t=2820;if(r!==1029982){var o=Math.floor(r/366),a=C(r,366);t=Math.floor((2134*o+2816*a+2815)/1028522)+o+1}var u=t+2820*p+474;u=u<=0?u-1:u;var f=x-this.toJD(u,1,1)+1,l=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),y=x-this.toJD(u,l,1)+1;return this.newDate(u,l,y)}});function C(x,v){return x-v*Math.floor(x/v)}d.calendars.persian=n,d.calendars.jalali=n},51456:function(U,N,e){var d=e(38700),P=e(50896),n=d.instance();function C(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}C.prototype=new d.baseCalendar,P(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,d.local.invalidYear),p=this._t2gYear(v.year());return n.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(x,v){var p=this._validate(x,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(x,v,p){return(this.dayOfWeek(x,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,d.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(x){var v=n.fromJD(x),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(x){return x+this.yearsOffset+(x>=-this.yearsOffset&&x<=-1?1:0)},_g2tYear:function(x){return x-this.yearsOffset-(x>=1&&x<=this.yearsOffset?1:0)}}),d.calendars.taiwan=C},4592:function(U,N,e){var d=e(38700),P=e(50896),n=d.instance();function C(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}C.prototype=new d.baseCalendar,P(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,d.local.invalidYear),p=this._t2gYear(v.year());return n.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(x,v){var p=this._validate(x,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(x,v,p){return(this.dayOfWeek(x,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,d.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(x){var v=n.fromJD(x),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(x){return x-this.yearsOffset-(x>=1&&x<=this.yearsOffset?1:0)},_g2tYear:function(x){return x+this.yearsOffset+(x>=-this.yearsOffset&&x<=-1?1:0)}}),d.calendars.thai=C},45348:function(U,N,e){var d=e(38700),P=e(50896);function n(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,P(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(x){var v=this._validate(x,this.minMonth,this.minDay,d.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(x,v,p){var r=this.newDate(x,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(x){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(x,p);return v},daysInMonth:function(x,v){for(var p=this._validate(x,v,this.minDay,d.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,o=0;o<C.length;o++){if(C[o]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(x,v,p){return this.dayOfWeek(x,v,p)!==5},toJD:function(x,v,p){var r=this._validate(x,v,p,d.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,o=r.day()+C[t-1]-1;return o+24e5-.5},fromJD:function(x){for(var v=x-24e5+.5,p=0,r=0;r<C.length&&!(C[r]>v);r++)p++;var t=p+15292,o=Math.floor((t-1)/12),a=o+1,u=t-12*o,f=v-C[p-1]+1;return this.newDate(a,u,f)},isValid:function(x,v,p){var r=d.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(x=x.year!=null?x.year:x,r=x>=1276&&x<=1500),r},_validate:function(x,v,p,r){var t=d.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),d.calendars.ummalqura=n;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(U,N,e){var d=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}d(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var o=this._localCals[r+"-"+t];if(!o&&this.calendars[r]&&(o=new this.calendars[r](t),this._localCals[r+"-"+t]=o),!o)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return o},newDate:function(r,t,o,a,u){return a=(r!=null&&r.year?r.calendar():typeof a=="string"?this.instance(a,u):a)||this.instance(),a.newDate(r,t,o)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(o){return r[o]})}},substituteChineseDigits:function(r,t){return function(o){for(var a="",u=0;o>0;){var f=o%10;a=(f===0?"":r[f]+t[u])+a,u++,o=Math.floor(o/10)}return a.indexOf(r[1]+t[1])===0&&(a=a.substr(1)),a||r[0]}}});function n(r,t,o,a){if(this._calendar=r,this._year=t,this._month=o,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}d(n.prototype,{newDate:function(r,t,o){return this._calendar.newDate(r??this,t,o)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,o){if(!this._calendar.isValid(r,t,o))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=o,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function x(){this.shortYearCutoff="+10"}d(x.prototype,{_validateLevel:0,newDate:function(r,t,o){return r==null?this.today():(r.year&&(this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),o=r.day(),t=r.month(),r=r.year()),new n(this,r,t,o))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(o.month()+this.monthsInYear(o)-this.firstMonth)%this.monthsInYear(o)+this.minMonth},fromMonthOfYear:function(r,t){var o=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,o,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),o},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,o){var a=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,o){var a=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(r,t,o){return this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,o){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,o),t,o)},_add:function(r,t,o){if(this._validateLevel++,o==="d"||o==="w"){var a=r.toJD()+t*(o==="w"?this.daysInWeek():1),u=r.calendar().fromJD(a);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var f=r.year()+(o==="y"?t:0),l=r.monthOfYear()+(o==="m"?t:0),u=r.day(),y=function(h){for(;l<h.minMonth;)f--,l+=h.monthsInYear(f);for(var i=h.monthsInYear(f);l>i-1+h.minMonth;)f++,l-=i,i=h.monthsInYear(f)};o==="y"?(r.month()!==this.fromMonthOfYear(f,l)&&(l=this.newDate(f,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(f)),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l)))):o==="m"&&(y(this),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l))));var c=[f,this.fromMonthOfYear(f,l),u];return this._validateLevel--,c}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,o,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],f=o<0?-1:1;t=this._add(r,o*u[0]+f*u[1],u[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,o){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var a=o==="y"?t:r.year(),u=o==="m"?t:r.month(),f=o==="d"?t:r.day();return(o==="y"||o==="m")&&(f=Math.min(f,this.daysInMonth(a,u))),r.date(a,u,f)},isValid:function(r,t,o){this._validateLevel++;var a=this.hasYearZero||r!==0;if(a){var u=this.newDate(r,t,this.minDay);a=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(u)&&o>=this.minDay&&o-this.minDay<this.daysInMonth(u)}return this._validateLevel--,a},toJSDate:function(r,t,o){var a=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,o,a){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,o))throw a.replace(/\{0\}/,this.local.name);var u=this.newDate(r,t,o);return this._validateLevel--,u}catch(f){throw this._validateLevel--,f}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new x,d(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var t=this._validate(o,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),o=t.year()+(t.year()<0?1:0);return o%4===0&&(o%100!==0||o%400===0)},weekOfYear:function(r,t,o){var a=this.newDate(r,t,o);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,t,o){return(this.dayOfWeek(r,t,o)||7)<6},toJD:function(r,t,o){var a=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=a.year(),t=a.month(),o=a.day(),r<0&&r++,t<3&&(t+=12,r--);var u=Math.floor(r/100),f=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+o+f-1524.5},fromJD:function(r){var t=Math.floor(r+.5),o=Math.floor((t-186721625e-2)/36524.25);o=t+1+o-Math.floor(o/4);var a=o+1524,u=Math.floor((a-122.1)/365.25),f=Math.floor(365.25*u),l=Math.floor((a-f)/30.6001),y=a-f-Math.floor(l*30.6001),c=l-(l>13.5?13:1),T=u-(c>2.5?4716:4715);return T<=0&&T--,this.newDate(T,c,y)},toJSDate:function(r,t,o){var a=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),u=new Date(a.year(),a.month()-1,a.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=U.exports=new P;p.cdate=n,p.baseCalendar=x,p.calendars.gregorian=v},15168:function(U,N,e){var d=e(50896),P=e(38700);d(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],d(P.cdate.prototype,{formatDate:function(n,C){return typeof n!="string"&&(C=n,n=""),this._calendar.formatDate(n||"",this,C)}}),d(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,C,x){if(typeof n!="string"&&(x=C,C=n,n=""),!C)return"";if(C.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,x=x||{};var v=x.dayNamesShort||this.local.dayNamesShort,p=x.dayNames||this.local.dayNames,r=x.monthNumbers||this.local.monthNumbers,t=x.monthNamesShort||this.local.monthNamesShort,o=x.monthNames||this.local.monthNames;x.calculateWeek||this.local.calculateWeek;for(var a=function(A,R){for(var m=1;b+m<n.length&&n.charAt(b+m)===A;)m++;return b+=m-1,Math.floor(m/(R||1))>1},u=function(A,R,m,L){var M=""+R;if(a(A,L))for(;M.length<m;)M="0"+M;return M},f=function(A,R,m,L){return a(A)?L[R]:m[R]},l=this,y=function(A){return typeof r=="function"?r.call(l,A,a("m")):h(u("m",A.month(),2))},c=function(A,R){return R?typeof o=="function"?o.call(l,A):o[A.month()-l.minMonth]:typeof t=="function"?t.call(l,A):t[A.month()-l.minMonth]},T=this.local.digits,h=function(A){return x.localNumbers&&T?T(A):A},i="",g=!1,b=0;b<n.length;b++)if(g)n.charAt(b)==="'"&&!a("'")?g=!1:i+=n.charAt(b);else switch(n.charAt(b)){case"d":i+=h(u("d",C.day(),2));break;case"D":i+=f("D",C.dayOfWeek(),v,p);break;case"o":i+=u("o",C.dayOfYear(),3);break;case"w":i+=u("w",C.weekOfYear(),2);break;case"m":i+=y(C);break;case"M":i+=c(C,a("M"));break;case"y":i+=a("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":a("Y",2),i+=C.formatYear();break;case"J":i+=C.toJD();break;case"@":i+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":a("'")?i+="'":g=!0;break;default:i+=n.charAt(b)}return i},parseDate:function(n,C,x){if(C==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;n=n||this.local.dateFormat,x=x||{};var v=x.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=x.dayNamesShort||this.local.dayNamesShort,r=x.dayNames||this.local.dayNames,t=x.parseMonth||this.local.parseMonth,o=x.monthNumbers||this.local.monthNumbers,a=x.monthNamesShort||this.local.monthNamesShort,u=x.monthNames||this.local.monthNames,f=-1,l=-1,y=-1,c=-1,T=-1,h=!1,i=!1,g=function(I,H){for(var O=1;S+O<n.length&&n.charAt(S+O)===I;)O++;return S+=O-1,Math.floor(O/(H||1))>1},b=function(I,H){var O=g(I,H),V=[2,3,O?4:2,O?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],B=new RegExp("^-?\\d{1,"+V+"}"),F=C.substring(s).match(B);if(!F)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=F[0].length,parseInt(F[0],10)},A=this,R=function(){if(typeof o=="function"){g("m");var I=o.call(A,C.substring(s));return s+=I.length,I}return b("m")},m=function(I,H,O,V){for(var B=g(I,V)?O:H,F=0;F<B.length;F++)if(C.substr(s,B[F].length).toLowerCase()===B[F].toLowerCase())return s+=B[F].length,F+A.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},L=function(){if(typeof u=="function"){var I=g("M")?u.call(A,C.substring(s)):a.call(A,C.substring(s));return s+=I.length,I}return m("M",a,u)},M=function(){if(C.charAt(s)!==n.charAt(S))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,S=0;S<n.length;S++)if(i)n.charAt(S)==="'"&&!g("'")?i=!1:M();else switch(n.charAt(S)){case"d":c=b("d");break;case"D":m("D",p,r);break;case"o":T=b("o");break;case"w":b("w");break;case"m":y=R();break;case"M":y=L();break;case"y":var w=S;h=!g("y",2),S=w,l=b("y",2);break;case"Y":l=b("Y",2);break;case"J":f=b("J")+.5,C.charAt(s)==="."&&(s++,b("J"));break;case"@":f=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=C.length;break;case"'":g("'")?M():i=!0;break;default:M()}if(s<C.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&h&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof y=="string"&&(y=t.call(this,l,y)),T>-1){y=1,c=T;for(var _=this.daysInMonth(l,y);c>_;_=this.daysInMonth(l,y))y++,c-=_}return f>-1?this.fromJD(f):this.newDate(l,y,c)},determineDate:function(n,C,x,v,p){x&&typeof x!="object"&&(p=v,v=x,x=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(o){try{return r.parseDate(v,o,p)}catch{}o=o.toLowerCase();for(var a=(o.match(/^c/)&&x?x.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(o);f;)a.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(o);return a};return C=C?C.newDate():null,n=n==null?C:typeof n=="string"?t(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?C:r.today().add(n,"d"):r.newDate(n),n}})},21576:function(){},19768:function(){},63436:function(U,N,e){var d=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;U.exports=function(){for(var C=[],x=0;x<d.length;x++)typeof P[d[x]]=="function"&&(C[C.length]=d[x]);return C}},67756:function(U,N,e){e.d(N,{qy:function(){return ze},Gz:function(){return le}});function d(Me,_e,Ce){Me.prototype=_e.prototype=Ce,Ce.constructor=Me}function P(Me,_e){var Ce=Object.create(Me.prototype);for(var Oe in _e)Ce[Oe]=_e[Oe];return Ce}function n(){}var C=.7,x=1/C,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,o=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),a=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),f=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),y=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d(n,b,{copy:function(_e){return Object.assign(new this.constructor,this,_e)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:h,formatHsl:i,formatRgb:g,toString:g});function T(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function i(){return V(this).formatHsl()}function g(){return this.rgb().formatRgb()}function b(Me){var _e,Ce;return Me=(Me+"").trim().toLowerCase(),(_e=t.exec(Me))?(Ce=_e[1].length,_e=parseInt(_e[1],16),Ce===6?A(_e):Ce===3?new M(_e>>8&15|_e>>4&240,_e>>4&15|_e&240,(_e&15)<<4|_e&15,1):Ce===8?R(_e>>24&255,_e>>16&255,_e>>8&255,(_e&255)/255):Ce===4?R(_e>>12&15|_e>>8&240,_e>>8&15|_e>>4&240,_e>>4&15|_e&240,((_e&15)<<4|_e&15)/255):null):(_e=o.exec(Me))?new M(_e[1],_e[2],_e[3],1):(_e=a.exec(Me))?new M(_e[1]*255/100,_e[2]*255/100,_e[3]*255/100,1):(_e=u.exec(Me))?R(_e[1],_e[2],_e[3],_e[4]):(_e=f.exec(Me))?R(_e[1]*255/100,_e[2]*255/100,_e[3]*255/100,_e[4]):(_e=l.exec(Me))?O(_e[1],_e[2]/100,_e[3]/100,1):(_e=y.exec(Me))?O(_e[1],_e[2]/100,_e[3]/100,_e[4]):c.hasOwnProperty(Me)?A(c[Me]):Me==="transparent"?new M(NaN,NaN,NaN,0):null}function A(Me){return new M(Me>>16&255,Me>>8&255,Me&255,1)}function R(Me,_e,Ce,Oe){return Oe<=0&&(Me=_e=Ce=NaN),new M(Me,_e,Ce,Oe)}function m(Me){return Me instanceof n||(Me=b(Me)),Me?(Me=Me.rgb(),new M(Me.r,Me.g,Me.b,Me.opacity)):new M}function L(Me,_e,Ce,Oe){return arguments.length===1?m(Me):new M(Me,_e,Ce,Oe??1)}function M(Me,_e,Ce,Oe){this.r=+Me,this.g=+_e,this.b=+Ce,this.opacity=+Oe}d(M,L,P(n,{brighter:function(_e){return _e=_e==null?x:Math.pow(x,_e),new M(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker:function(_e){return _e=_e==null?C:Math.pow(C,_e),new M(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb:function(){return this},clamp:function(){return new M(I(this.r),I(this.g),I(this.b),_(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:S,formatRgb:w,toString:w}));function s(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b))}function S(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b)).concat(H((isNaN(this.opacity)?1:this.opacity)*255))}function w(){var Me=_(this.opacity);return"".concat(Me===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(Me===1?")":", ".concat(Me,")"))}function _(Me){return isNaN(Me)?1:Math.max(0,Math.min(1,Me))}function I(Me){return Math.max(0,Math.min(255,Math.round(Me)||0))}function H(Me){return Me=I(Me),(Me<16?"0":"")+Me.toString(16)}function O(Me,_e,Ce,Oe){return Oe<=0?Me=_e=Ce=NaN:Ce<=0||Ce>=1?Me=_e=NaN:_e<=0&&(Me=NaN),new F(Me,_e,Ce,Oe)}function V(Me){if(Me instanceof F)return new F(Me.h,Me.s,Me.l,Me.opacity);if(Me instanceof n||(Me=b(Me)),!Me)return new F;if(Me instanceof F)return Me;Me=Me.rgb();var _e=Me.r/255,Ce=Me.g/255,Oe=Me.b/255,Pe=Math.min(_e,Ce,Oe),Ge=Math.max(_e,Ce,Oe),Ze=NaN,it=Ge-Pe,Je=(Ge+Pe)/2;return it?(_e===Ge?Ze=(Ce-Oe)/it+(Ce<Oe)*6:Ce===Ge?Ze=(Oe-_e)/it+2:Ze=(_e-Ce)/it+4,it/=Je<.5?Ge+Pe:2-Ge-Pe,Ze*=60):it=Je>0&&Je<1?0:Ze,new F(Ze,it,Je,Me.opacity)}function B(Me,_e,Ce,Oe){return arguments.length===1?V(Me):new F(Me,_e,Ce,Oe??1)}function F(Me,_e,Ce,Oe){this.h=+Me,this.s=+_e,this.l=+Ce,this.opacity=+Oe}d(F,B,P(n,{brighter:function(_e){return _e=_e==null?x:Math.pow(x,_e),new F(this.h,this.s,this.l*_e,this.opacity)},darker:function(_e){return _e=_e==null?C:Math.pow(C,_e),new F(this.h,this.s,this.l*_e,this.opacity)},rgb:function(){var _e=this.h%360+(this.h<0)*360,Ce=isNaN(_e)||isNaN(this.s)?0:this.s,Oe=this.l,Pe=Oe+(Oe<.5?Oe:1-Oe)*Ce,Ge=2*Oe-Pe;return new M(Q(_e>=240?_e-240:_e+120,Ge,Pe),Q(_e,Ge,Pe),Q(_e<120?_e+240:_e-120,Ge,Pe),this.opacity)},clamp:function(){return new F(G(this.h),Y(this.s),Y(this.l),_(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var _e=_(this.opacity);return"".concat(_e===1?"hsl(":"hsla(").concat(G(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(_e===1?")":", ".concat(_e,")"))}}));function G(Me){return Me=(Me||0)%360,Me<0?Me+360:Me}function Y(Me){return Math.max(0,Math.min(1,Me||0))}function Q(Me,_e,Ce){return(Me<60?_e+(Ce-_e)*Me/60:Me<180?Ce:Me<240?_e+(Ce-_e)*(240-Me)/60:_e)*255}var te=function(Me){return function(){return Me}};function ae(Me,_e){return function(Ce){return Me+Ce*_e}}function fe(Me,_e,Ce){return Me=Math.pow(Me,Ce),_e=Math.pow(_e,Ce)-Me,Ce=1/Ce,function(Oe){return Math.pow(Me+Oe*_e,Ce)}}function oe(Me){return(Me=+Me)==1?J:function(_e,Ce){return Ce-_e?fe(_e,Ce,Me):te(isNaN(_e)?Ce:_e)}}function J(Me,_e){var Ce=_e-Me;return Ce?ae(Me,Ce):te(isNaN(Me)?_e:Me)}var ee=function Me(_e){var Ce=oe(_e);function Oe(Pe,Ge){var Ze=Ce((Pe=L(Pe)).r,(Ge=L(Ge)).r),it=Ce(Pe.g,Ge.g),Je=Ce(Pe.b,Ge.b),et=J(Pe.opacity,Ge.opacity);return function(ft){return Pe.r=Ze(ft),Pe.g=it(ft),Pe.b=Je(ft),Pe.opacity=et(ft),Pe+""}}return Oe.gamma=Me,Oe}(1);function X(Me,_e){var Ce=_e?_e.length:0,Oe=Me?Math.min(Ce,Me.length):0,Pe=new Array(Oe),Ge=new Array(Ce),Ze;for(Ze=0;Ze<Oe;++Ze)Pe[Ze]=ze(Me[Ze],_e[Ze]);for(;Ze<Ce;++Ze)Ge[Ze]=_e[Ze];return function(it){for(Ze=0;Ze<Oe;++Ze)Ge[Ze]=Pe[Ze](it);return Ge}}function q(Me,_e){var Ce=new Date;return Me=+Me,_e=+_e,function(Oe){return Ce.setTime(Me*(1-Oe)+_e*Oe),Ce}}function le(Me,_e){return Me=+Me,_e=+_e,function(Ce){return Me*(1-Ce)+_e*Ce}}function $(Me){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},$(Me)}function j(Me,_e){var Ce={},Oe={},Pe;(Me===null||$(Me)!=="object")&&(Me={}),(_e===null||$(_e)!=="object")&&(_e={});for(Pe in _e)Pe in Me?Ce[Pe]=ze(Me[Pe],_e[Pe]):Oe[Pe]=_e[Pe];return function(Ge){for(Pe in Ce)Oe[Pe]=Ce[Pe](Ge);return Oe}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ne=new RegExp(se.source,"g");function he(Me){return function(){return Me}}function me(Me){return function(_e){return Me(_e)+""}}function we(Me,_e){var Ce=se.lastIndex=ne.lastIndex=0,Oe,Pe,Ge,Ze=-1,it=[],Je=[];for(Me=Me+"",_e=_e+"";(Oe=se.exec(Me))&&(Pe=ne.exec(_e));)(Ge=Pe.index)>Ce&&(Ge=_e.slice(Ce,Ge),it[Ze]?it[Ze]+=Ge:it[++Ze]=Ge),(Oe=Oe[0])===(Pe=Pe[0])?it[Ze]?it[Ze]+=Pe:it[++Ze]=Pe:(it[++Ze]=null,Je.push({i:Ze,x:le(Oe,Pe)})),Ce=ne.lastIndex;return Ce<_e.length&&(Ge=_e.slice(Ce),it[Ze]?it[Ze]+=Ge:it[++Ze]=Ge),it.length<2?Je[0]?me(Je[0].x):he(_e):(_e=Je.length,function(et){for(var ft=0,vt;ft<_e;++ft)it[(vt=Je[ft]).i]=vt.x(et);return it.join("")})}function Te(Me,_e){_e||(_e=[]);var Ce=Me?Math.min(_e.length,Me.length):0,Oe=_e.slice(),Pe;return function(Ge){for(Pe=0;Pe<Ce;++Pe)Oe[Pe]=Me[Pe]*(1-Ge)+_e[Pe]*Ge;return Oe}}function Le(Me){return ArrayBuffer.isView(Me)&&!(Me instanceof DataView)}function Ie(Me){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},Ie(Me)}function ze(Me,_e){var Ce=Ie(_e),Oe;return _e==null||Ce==="boolean"?te(_e):(Ce==="number"?le:Ce==="string"?(Oe=b(_e))?(_e=Oe,ee):we:_e instanceof b?ee:_e instanceof Date?q:Le(_e)?Te:Array.isArray(_e)?X:typeof _e.valueOf!="function"&&typeof _e.toString!="function"||isNaN(_e)?j:le)(Me,_e)}},30584:function(U){U.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(U){U.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(U){U.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(U){U.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(U){U.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(U){U.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ue={};function xe(U){var N=ue[U];if(N!==void 0)return N.exports;var e=ue[U]={exports:{}};return Z[U].call(e.exports,e,e.exports,xe),e.exports}(function(){xe.n=function(U){var N=U&&U.__esModule?function(){return U.default}:function(){return U};return xe.d(N,{a:N}),N}})(),function(){xe.d=function(U,N){for(var e in N)xe.o(N,e)&&!xe.o(U,e)&&Object.defineProperty(U,e,{enumerable:!0,get:N[e]})}}(),function(){xe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){xe.o=function(U,N){return Object.prototype.hasOwnProperty.call(U,N)}}(),function(){xe.r=function(U){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})}}();var Se=xe(13792);return Se}()})})(X5);var IL=X5.exports;(function(E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var z=ue(Y5),Z=ue(IL);function ue(U){return U&&U.__esModule?U:{default:U}}var xe=(0,z.default)(Z.default),Se=xe;E.default=Se})(j5);const _L=wc(j5),Uw=["http","https","mailto","tel"];function zL(E){const z=(E||"").trim(),Z=z.charAt(0);if(Z==="#"||Z==="/")return z;const ue=z.indexOf(":");if(ue===-1)return z;let xe=-1;for(;++xe<Uw.length;){const Se=Uw[xe];if(ue===Se.length&&z.slice(0,Se.length).toLowerCase()===Se)return z}return xe=z.indexOf("?"),xe!==-1&&ue>xe||(xe=z.indexOf("#"),xe!==-1&&ue>xe)?z:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var OL=function(z){return z!=null&&z.constructor!=null&&typeof z.constructor.isBuffer=="function"&&z.constructor.isBuffer(z)};const Z5=wc(OL);function FL(E){return!E||typeof E!="object"?"":"position"in E||"type"in E?Hw(E.position):"start"in E||"end"in E?Hw(E):"line"in E||"column"in E?D1(E):""}function D1(E){return Vw(E&&E.line)+":"+Vw(E&&E.column)}function Hw(E){return D1(E&&E.start)+"-"+D1(E&&E.end)}function Vw(E){return E&&typeof E=="number"?E:1}class Au extends Error{constructor(z,Z,ue){const xe=[null,null];let Se={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof Z=="string"&&(ue=Z,Z=void 0),typeof ue=="string"){const U=ue.indexOf(":");U===-1?xe[1]=ue:(xe[0]=ue.slice(0,U),xe[1]=ue.slice(U+1))}Z&&("type"in Z||"position"in Z?Z.position&&(Se=Z.position):"start"in Z||"end"in Z?Se=Z:("line"in Z||"column"in Z)&&(Se.start=Z)),this.name=FL(Z)||"1:1",this.message=typeof z=="object"?z.message:z,this.stack="",typeof z=="object"&&z.stack&&(this.stack=z.stack),this.reason=this.message,this.fatal,this.line=Se.start.line,this.column=Se.start.column,this.position=Se,this.source=xe[0],this.ruleId=xe[1],this.file,this.actual,this.expected,this.url,this.note}}Au.prototype.file="";Au.prototype.name="";Au.prototype.reason="";Au.prototype.message="";Au.prototype.stack="";Au.prototype.fatal=null;Au.prototype.column=null;Au.prototype.line=null;Au.prototype.source=null;Au.prototype.ruleId=null;Au.prototype.position=null;const Df={basename:NL,dirname:BL,extname:UL,join:HL,sep:"/"};function NL(E,z){if(z!==void 0&&typeof z!="string")throw new TypeError('"ext" argument must be a string');Jp(E);let Z=0,ue=-1,xe=E.length,Se;if(z===void 0||z.length===0||z.length>E.length){for(;xe--;)if(E.charCodeAt(xe)===47){if(Se){Z=xe+1;break}}else ue<0&&(Se=!0,ue=xe+1);return ue<0?"":E.slice(Z,ue)}if(z===E)return"";let U=-1,N=z.length-1;for(;xe--;)if(E.charCodeAt(xe)===47){if(Se){Z=xe+1;break}}else U<0&&(Se=!0,U=xe+1),N>-1&&(E.charCodeAt(xe)===z.charCodeAt(N--)?N<0&&(ue=xe):(N=-1,ue=U));return Z===ue?ue=U:ue<0&&(ue=E.length),E.slice(Z,ue)}function BL(E){if(Jp(E),E.length===0)return".";let z=-1,Z=E.length,ue;for(;--Z;)if(E.charCodeAt(Z)===47){if(ue){z=Z;break}}else ue||(ue=!0);return z<0?E.charCodeAt(0)===47?"/":".":z===1&&E.charCodeAt(0)===47?"//":E.slice(0,z)}function UL(E){Jp(E);let z=E.length,Z=-1,ue=0,xe=-1,Se=0,U;for(;z--;){const N=E.charCodeAt(z);if(N===47){if(U){ue=z+1;break}continue}Z<0&&(U=!0,Z=z+1),N===46?xe<0?xe=z:Se!==1&&(Se=1):xe>-1&&(Se=-1)}return xe<0||Z<0||Se===0||Se===1&&xe===Z-1&&xe===ue+1?"":E.slice(xe,Z)}function HL(...E){let z=-1,Z;for(;++z<E.length;)Jp(E[z]),E[z]&&(Z=Z===void 0?E[z]:Z+"/"+E[z]);return Z===void 0?".":VL(Z)}function VL(E){Jp(E);const z=E.charCodeAt(0)===47;let Z=GL(E,!z);return Z.length===0&&!z&&(Z="."),Z.length>0&&E.charCodeAt(E.length-1)===47&&(Z+="/"),z?"/"+Z:Z}function GL(E,z){let Z="",ue=0,xe=-1,Se=0,U=-1,N,e;for(;++U<=E.length;){if(U<E.length)N=E.charCodeAt(U);else{if(N===47)break;N=47}if(N===47){if(!(xe===U-1||Se===1))if(xe!==U-1&&Se===2){if(Z.length<2||ue!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){if(e=Z.lastIndexOf("/"),e!==Z.length-1){e<0?(Z="",ue=0):(Z=Z.slice(0,e),ue=Z.length-1-Z.lastIndexOf("/")),xe=U,Se=0;continue}}else if(Z.length>0){Z="",ue=0,xe=U,Se=0;continue}}z&&(Z=Z.length>0?Z+"/..":"..",ue=2)}else Z.length>0?Z+="/"+E.slice(xe+1,U):Z=E.slice(xe+1,U),ue=U-xe-1;xe=U,Se=0}else N===46&&Se>-1?Se++:Se=-1}return Z}function Jp(E){if(typeof E!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(E))}const WL={cwd:jL};function jL(){return"/"}function I1(E){return E!==null&&typeof E=="object"&&E.href&&E.origin}function YL(E){if(typeof E=="string")E=new URL(E);else if(!I1(E)){const z=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+E+"`");throw z.code="ERR_INVALID_ARG_TYPE",z}if(E.protocol!=="file:"){const z=new TypeError("The URL must be of scheme file");throw z.code="ERR_INVALID_URL_SCHEME",z}return XL(E)}function XL(E){if(E.hostname!==""){const ue=new TypeError('File URL host must be "localhost" or empty on darwin');throw ue.code="ERR_INVALID_FILE_URL_HOST",ue}const z=E.pathname;let Z=-1;for(;++Z<z.length;)if(z.charCodeAt(Z)===37&&z.charCodeAt(Z+1)===50){const ue=z.charCodeAt(Z+2);if(ue===70||ue===102){const xe=new TypeError("File URL path must not include encoded / characters");throw xe.code="ERR_INVALID_FILE_URL_PATH",xe}}return decodeURIComponent(z)}const xm=["history","path","basename","stem","extname","dirname"];class K5{constructor(z){let Z;z?typeof z=="string"||ZL(z)?Z={value:z}:I1(z)?Z={path:z}:Z=z:Z={},this.data={},this.messages=[],this.history=[],this.cwd=WL.cwd(),this.value,this.stored,this.result,this.map;let ue=-1;for(;++ue<xm.length;){const Se=xm[ue];Se in Z&&Z[Se]!==void 0&&Z[Se]!==null&&(this[Se]=Se==="history"?[...Z[Se]]:Z[Se])}let xe;for(xe in Z)xm.includes(xe)||(this[xe]=Z[xe])}get path(){return this.history[this.history.length-1]}set path(z){I1(z)&&(z=YL(z)),wm(z,"path"),this.path!==z&&this.history.push(z)}get dirname(){return typeof this.path=="string"?Df.dirname(this.path):void 0}set dirname(z){Gw(this.basename,"dirname"),this.path=Df.join(z||"",this.basename)}get basename(){return typeof this.path=="string"?Df.basename(this.path):void 0}set basename(z){wm(z,"basename"),bm(z,"basename"),this.path=Df.join(this.dirname||"",z)}get extname(){return typeof this.path=="string"?Df.extname(this.path):void 0}set extname(z){if(bm(z,"extname"),Gw(this.dirname,"extname"),z){if(z.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(z.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Df.join(this.dirname,this.stem+(z||""))}get stem(){return typeof this.path=="string"?Df.basename(this.path,this.extname):void 0}set stem(z){wm(z,"stem"),bm(z,"stem"),this.path=Df.join(this.dirname||"",z+(this.extname||""))}toString(z){return(this.value||"").toString(z||void 0)}message(z,Z,ue){const xe=new Au(z,Z,ue);return this.path&&(xe.name=this.path+":"+xe.name,xe.file=this.path),xe.fatal=!1,this.messages.push(xe),xe}info(z,Z,ue){const xe=this.message(z,Z,ue);return xe.fatal=null,xe}fail(z,Z,ue){const xe=this.message(z,Z,ue);throw xe.fatal=!0,xe}}function bm(E,z){if(E&&E.includes(Df.sep))throw new Error("`"+z+"` cannot be a path: did not expect `"+Df.sep+"`")}function wm(E,z){if(!E)throw new Error("`"+z+"` cannot be empty")}function Gw(E,z){if(!E)throw new Error("Setting `"+z+"` requires `path` to be set too")}function ZL(E){return Z5(E)}function Ww(E){if(E)throw E}var lg=Object.prototype.hasOwnProperty,J5=Object.prototype.toString,jw=Object.defineProperty,Yw=Object.getOwnPropertyDescriptor,Xw=function(z){return typeof Array.isArray=="function"?Array.isArray(z):J5.call(z)==="[object Array]"},Zw=function(z){if(!z||J5.call(z)!=="[object Object]")return!1;var Z=lg.call(z,"constructor"),ue=z.constructor&&z.constructor.prototype&&lg.call(z.constructor.prototype,"isPrototypeOf");if(z.constructor&&!Z&&!ue)return!1;var xe;for(xe in z);return typeof xe>"u"||lg.call(z,xe)},Kw=function(z,Z){jw&&Z.name==="__proto__"?jw(z,Z.name,{enumerable:!0,configurable:!0,value:Z.newValue,writable:!0}):z[Z.name]=Z.newValue},Jw=function(z,Z){if(Z==="__proto__")if(lg.call(z,Z)){if(Yw)return Yw(z,Z).value}else return;return z[Z]},KL=function E(){var z,Z,ue,xe,Se,U,N=arguments[0],e=1,d=arguments.length,P=!1;for(typeof N=="boolean"&&(P=N,N=arguments[1]||{},e=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});e<d;++e)if(z=arguments[e],z!=null)for(Z in z)ue=Jw(N,Z),xe=Jw(z,Z),N!==xe&&(P&&xe&&(Zw(xe)||(Se=Xw(xe)))?(Se?(Se=!1,U=ue&&Xw(ue)?ue:[]):U=ue&&Zw(ue)?ue:{},Kw(N,{name:Z,newValue:E(P,U,xe)})):typeof xe<"u"&&Kw(N,{name:Z,newValue:xe}));return N};const Qw=wc(KL);function _1(E){if(typeof E!="object"||E===null)return!1;const z=Object.getPrototypeOf(E);return(z===null||z===Object.prototype||Object.getPrototypeOf(z)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)}function JL(){const E=[],z={run:Z,use:ue};return z;function Z(...xe){let Se=-1;const U=xe.pop();if(typeof U!="function")throw new TypeError("Expected function as last argument, not "+U);N(null,...xe);function N(e,...d){const P=E[++Se];let n=-1;if(e){U(e);return}for(;++n<xe.length;)(d[n]===null||d[n]===void 0)&&(d[n]=xe[n]);xe=d,P?QL(P,N)(...d):U(null,...d)}}function ue(xe){if(typeof xe!="function")throw new TypeError("Expected `middelware` to be a function, not "+xe);return E.push(xe),z}}function QL(E,z){let Z;return ue;function ue(...U){const N=E.length>U.length;let e;N&&U.push(xe);try{e=E.apply(this,U)}catch(d){const P=d;if(N&&Z)throw P;return xe(P)}N||(e&&e.then&&typeof e.then=="function"?e.then(Se,xe):e instanceof Error?xe(e):Se(e))}function xe(U,...N){Z||(Z=!0,z(U,...N))}function Se(U){xe(null,U)}}const $L=$5().freeze(),Q5={}.hasOwnProperty;function $5(){const E=JL(),z=[];let Z={},ue,xe=-1;return Se.data=U,Se.Parser=void 0,Se.Compiler=void 0,Se.freeze=N,Se.attachers=z,Se.use=e,Se.parse=d,Se.stringify=P,Se.run=n,Se.runSync=C,Se.process=x,Se.processSync=v,Se;function Se(){const p=$5();let r=-1;for(;++r<z.length;)p.use(...z[r]);return p.data(Qw(!0,{},Z)),p}function U(p,r){return typeof p=="string"?arguments.length===2?(Sm("data",ue),Z[p]=r,Se):Q5.call(Z,p)&&Z[p]||null:p?(Sm("data",ue),Z=p,Se):Z}function N(){if(ue)return Se;for(;++xe<z.length;){const[p,...r]=z[xe];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const t=p.call(Se,...r);typeof t=="function"&&E.use(t)}return ue=!0,xe=Number.POSITIVE_INFINITY,Se}function e(p,...r){let t;if(Sm("use",ue),p!=null)if(typeof p=="function")f(p,...r);else if(typeof p=="object")Array.isArray(p)?u(p):a(p);else throw new TypeError("Expected usable value, not `"+p+"`");return t&&(Z.settings=Object.assign(Z.settings||{},t)),Se;function o(l){if(typeof l=="function")f(l);else if(typeof l=="object")if(Array.isArray(l)){const[y,...c]=l;f(y,...c)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){u(l.plugins),l.settings&&(t=Object.assign(t||{},l.settings))}function u(l){let y=-1;if(l!=null)if(Array.isArray(l))for(;++y<l.length;){const c=l[y];o(c)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function f(l,y){let c=-1,T;for(;++c<z.length;)if(z[c][0]===l){T=z[c];break}T?(_1(T[1])&&_1(y)&&(y=Qw(!0,T[1],y)),T[1]=y):z.push([...arguments])}}function d(p){Se.freeze();const r=lp(p),t=Se.Parser;return Tm("parse",t),$w(t,"parse")?new t(String(r),r).parse():t(String(r),r)}function P(p,r){Se.freeze();const t=lp(r),o=Se.Compiler;return Am("stringify",o),qw(p),$w(o,"compile")?new o(p,t).compile():o(p,t)}function n(p,r,t){if(qw(p),Se.freeze(),!t&&typeof r=="function"&&(t=r,r=void 0),!t)return new Promise(o);o(null,t);function o(a,u){E.run(p,lp(r),f);function f(l,y,c){y=y||p,l?u(l):a?a(y):t(null,y,c)}}}function C(p,r){let t,o;return Se.run(p,r,a),e2("runSync","run",o),t;function a(u,f){Ww(u),t=f,o=!0}}function x(p,r){if(Se.freeze(),Tm("process",Se.Parser),Am("process",Se.Compiler),!r)return new Promise(t);t(null,r);function t(o,a){const u=lp(p);Se.run(Se.parse(u),u,(l,y,c)=>{if(l||!y||!c)f(l);else{const T=Se.stringify(y,c);T==null||(t7(T)?c.value=T:c.result=T),f(l,c)}});function f(l,y){l||!y?a(l):o?o(y):r(null,y)}}}function v(p){let r;Se.freeze(),Tm("processSync",Se.Parser),Am("processSync",Se.Compiler);const t=lp(p);return Se.process(t,o),e2("processSync","process",r),t;function o(a){r=!0,Ww(a)}}}function $w(E,z){return typeof E=="function"&&E.prototype&&(qL(E.prototype)||z in E.prototype)}function qL(E){let z;for(z in E)if(Q5.call(E,z))return!0;return!1}function Tm(E,z){if(typeof z!="function")throw new TypeError("Cannot `"+E+"` without `Parser`")}function Am(E,z){if(typeof z!="function")throw new TypeError("Cannot `"+E+"` without `Compiler`")}function Sm(E,z){if(z)throw new Error("Cannot call `"+E+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qw(E){if(!_1(E)||typeof E.type!="string")throw new TypeError("Expected node, got `"+E+"`")}function e2(E,z,Z){if(!Z)throw new Error("`"+E+"` finished async. Use `"+z+"` instead")}function lp(E){return e7(E)?E:new K5(E)}function e7(E){return!!(E&&typeof E=="object"&&"message"in E&&"messages"in E)}function t7(E){return typeof E=="string"||Z5(E)}const r7={};function n7(E,z){const Z=r7,ue=typeof Z.includeImageAlt=="boolean"?Z.includeImageAlt:!0,xe=typeof Z.includeHtml=="boolean"?Z.includeHtml:!0;return q5(E,ue,xe)}function q5(E,z,Z){if(a7(E)){if("value"in E)return E.type==="html"&&!Z?"":E.value;if(z&&"alt"in E&&E.alt)return E.alt;if("children"in E)return t2(E.children,z,Z)}return Array.isArray(E)?t2(E,z,Z):""}function t2(E,z,Z){const ue=[];let xe=-1;for(;++xe<E.length;)ue[xe]=q5(E[xe],z,Z);return ue.join("")}function a7(E){return!!(E&&typeof E=="object")}function Nf(E,z,Z,ue){const xe=E.length;let Se=0,U;if(z<0?z=-z>xe?0:xe+z:z=z>xe?xe:z,Z=Z>0?Z:0,ue.length<1e4)U=Array.from(ue),U.unshift(z,Z),E.splice(...U);else for(Z&&E.splice(z,Z);Se<ue.length;)U=ue.slice(Se,Se+1e4),U.unshift(z,0),E.splice(...U),Se+=1e4,z+=1e4}function mu(E,z){return E.length>0?(Nf(E,E.length,0,z),E):z}const r2={}.hasOwnProperty;function i7(E){const z={};let Z=-1;for(;++Z<E.length;)o7(z,E[Z]);return z}function o7(E,z){let Z;for(Z in z){const xe=(r2.call(E,Z)?E[Z]:void 0)||(E[Z]={}),Se=z[Z];let U;if(Se)for(U in Se){r2.call(xe,U)||(xe[U]=[]);const N=Se[U];s7(xe[U],Array.isArray(N)?N:N?[N]:[])}}}function s7(E,z){let Z=-1;const ue=[];for(;++Z<z.length;)(z[Z].add==="after"?E:ue).push(z[Z]);Nf(E,0,0,ue)}const l7=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,_f=Lh(/[A-Za-z]/),af=Lh(/[\dA-Za-z]/),u7=Lh(/[#-'*+\--9=?A-Z^-~]/);function z1(E){return E!==null&&(E<32||E===127)}const O1=Lh(/\d/),f7=Lh(/[\dA-Fa-f]/),c7=Lh(/[!-/:-@[-`{-~]/);function Qa(E){return E!==null&&E<-2}function Ml(E){return E!==null&&(E<0||E===32)}function _i(E){return E===-2||E===-1||E===32}const h7=Lh(l7),v7=Lh(/\s/);function Lh(E){return z;function z(Z){return Z!==null&&E.test(String.fromCharCode(Z))}}function qi(E,z,Z,ue){const xe=ue?ue-1:Number.POSITIVE_INFINITY;let Se=0;return U;function U(e){return _i(e)?(E.enter(Z),N(e)):z(e)}function N(e){return _i(e)&&Se++<xe?(E.consume(e),N):(E.exit(Z),z(e))}}const d7={tokenize:p7};function p7(E){const z=E.attempt(this.parser.constructs.contentInitial,ue,xe);let Z;return z;function ue(N){if(N===null){E.consume(N);return}return E.enter("lineEnding"),E.consume(N),E.exit("lineEnding"),qi(E,z,"linePrefix")}function xe(N){return E.enter("paragraph"),Se(N)}function Se(N){const e=E.enter("chunkText",{contentType:"text",previous:Z});return Z&&(Z.next=e),Z=e,U(N)}function U(N){if(N===null){E.exit("chunkText"),E.exit("paragraph"),E.consume(N);return}return Qa(N)?(E.consume(N),E.exit("chunkText"),Se):(E.consume(N),U)}}const g7={tokenize:y7},n2={tokenize:m7};function y7(E){const z=this,Z=[];let ue=0,xe,Se,U;return N;function N(a){if(ue<Z.length){const u=Z[ue];return z.containerState=u[1],E.attempt(u[0].continuation,e,d)(a)}return d(a)}function e(a){if(ue++,z.containerState._closeFlow){z.containerState._closeFlow=void 0,xe&&o();const u=z.events.length;let f=u,l;for(;f--;)if(z.events[f][0]==="exit"&&z.events[f][1].type==="chunkFlow"){l=z.events[f][1].end;break}t(ue);let y=u;for(;y<z.events.length;)z.events[y][1].end=Object.assign({},l),y++;return Nf(z.events,f+1,0,z.events.slice(u)),z.events.length=y,d(a)}return N(a)}function d(a){if(ue===Z.length){if(!xe)return C(a);if(xe.currentConstruct&&xe.currentConstruct.concrete)return v(a);z.interrupt=!!(xe.currentConstruct&&!xe._gfmTableDynamicInterruptHack)}return z.containerState={},E.check(n2,P,n)(a)}function P(a){return xe&&o(),t(ue),C(a)}function n(a){return z.parser.lazy[z.now().line]=ue!==Z.length,U=z.now().offset,v(a)}function C(a){return z.containerState={},E.attempt(n2,x,v)(a)}function x(a){return ue++,Z.push([z.currentConstruct,z.containerState]),C(a)}function v(a){if(a===null){xe&&o(),t(0),E.consume(a);return}return xe=xe||z.parser.flow(z.now()),E.enter("chunkFlow",{contentType:"flow",previous:Se,_tokenizer:xe}),p(a)}function p(a){if(a===null){r(E.exit("chunkFlow"),!0),t(0),E.consume(a);return}return Qa(a)?(E.consume(a),r(E.exit("chunkFlow")),ue=0,z.interrupt=void 0,N):(E.consume(a),p)}function r(a,u){const f=z.sliceStream(a);if(u&&f.push(null),a.previous=Se,Se&&(Se.next=a),Se=a,xe.defineSkip(a.start),xe.write(f),z.parser.lazy[a.start.line]){let l=xe.events.length;for(;l--;)if(xe.events[l][1].start.offset<U&&(!xe.events[l][1].end||xe.events[l][1].end.offset>U))return;const y=z.events.length;let c=y,T,h;for(;c--;)if(z.events[c][0]==="exit"&&z.events[c][1].type==="chunkFlow"){if(T){h=z.events[c][1].end;break}T=!0}for(t(ue),l=y;l<z.events.length;)z.events[l][1].end=Object.assign({},h),l++;Nf(z.events,c+1,0,z.events.slice(y)),z.events.length=l}}function t(a){let u=Z.length;for(;u-- >a;){const f=Z[u];z.containerState=f[1],f[0].exit.call(z,E)}Z.length=a}function o(){xe.write([null]),Se=void 0,xe=void 0,z.containerState._closeFlow=void 0}}function m7(E,z,Z){return qi(E,E.attempt(this.parser.constructs.document,z,Z),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function a2(E){if(E===null||Ml(E)||v7(E))return 1;if(h7(E))return 2}function eb(E,z,Z){const ue=[];let xe=-1;for(;++xe<E.length;){const Se=E[xe].resolveAll;Se&&!ue.includes(Se)&&(z=Se(z,Z),ue.push(Se))}return z}const F1={name:"attention",tokenize:b7,resolveAll:x7};function x7(E,z){let Z=-1,ue,xe,Se,U,N,e,d,P;for(;++Z<E.length;)if(E[Z][0]==="enter"&&E[Z][1].type==="attentionSequence"&&E[Z][1]._close){for(ue=Z;ue--;)if(E[ue][0]==="exit"&&E[ue][1].type==="attentionSequence"&&E[ue][1]._open&&z.sliceSerialize(E[ue][1]).charCodeAt(0)===z.sliceSerialize(E[Z][1]).charCodeAt(0)){if((E[ue][1]._close||E[Z][1]._open)&&(E[Z][1].end.offset-E[Z][1].start.offset)%3&&!((E[ue][1].end.offset-E[ue][1].start.offset+E[Z][1].end.offset-E[Z][1].start.offset)%3))continue;e=E[ue][1].end.offset-E[ue][1].start.offset>1&&E[Z][1].end.offset-E[Z][1].start.offset>1?2:1;const n=Object.assign({},E[ue][1].end),C=Object.assign({},E[Z][1].start);i2(n,-e),i2(C,e),U={type:e>1?"strongSequence":"emphasisSequence",start:n,end:Object.assign({},E[ue][1].end)},N={type:e>1?"strongSequence":"emphasisSequence",start:Object.assign({},E[Z][1].start),end:C},Se={type:e>1?"strongText":"emphasisText",start:Object.assign({},E[ue][1].end),end:Object.assign({},E[Z][1].start)},xe={type:e>1?"strong":"emphasis",start:Object.assign({},U.start),end:Object.assign({},N.end)},E[ue][1].end=Object.assign({},U.start),E[Z][1].start=Object.assign({},N.end),d=[],E[ue][1].end.offset-E[ue][1].start.offset&&(d=mu(d,[["enter",E[ue][1],z],["exit",E[ue][1],z]])),d=mu(d,[["enter",xe,z],["enter",U,z],["exit",U,z],["enter",Se,z]]),d=mu(d,eb(z.parser.constructs.insideSpan.null,E.slice(ue+1,Z),z)),d=mu(d,[["exit",Se,z],["enter",N,z],["exit",N,z],["exit",xe,z]]),E[Z][1].end.offset-E[Z][1].start.offset?(P=2,d=mu(d,[["enter",E[Z][1],z],["exit",E[Z][1],z]])):P=0,Nf(E,ue-1,Z-ue+3,d),Z=ue+d.length-P-2;break}}for(Z=-1;++Z<E.length;)E[Z][1].type==="attentionSequence"&&(E[Z][1].type="data");return E}function b7(E,z){const Z=this.parser.constructs.attentionMarkers.null,ue=this.previous,xe=a2(ue);let Se;return U;function U(e){return Se=e,E.enter("attentionSequence"),N(e)}function N(e){if(e===Se)return E.consume(e),N;const d=E.exit("attentionSequence"),P=a2(e),n=!P||P===2&&xe||Z.includes(e),C=!xe||xe===2&&P||Z.includes(ue);return d._open=!!(Se===42?n:n&&(xe||!C)),d._close=!!(Se===42?C:C&&(P||!n)),z(e)}}function i2(E,z){E.column+=z,E.offset+=z,E._bufferIndex+=z}const w7={name:"autolink",tokenize:T7};function T7(E,z,Z){let ue=0;return xe;function xe(x){return E.enter("autolink"),E.enter("autolinkMarker"),E.consume(x),E.exit("autolinkMarker"),E.enter("autolinkProtocol"),Se}function Se(x){return _f(x)?(E.consume(x),U):d(x)}function U(x){return x===43||x===45||x===46||af(x)?(ue=1,N(x)):d(x)}function N(x){return x===58?(E.consume(x),ue=0,e):(x===43||x===45||x===46||af(x))&&ue++<32?(E.consume(x),N):(ue=0,d(x))}function e(x){return x===62?(E.exit("autolinkProtocol"),E.enter("autolinkMarker"),E.consume(x),E.exit("autolinkMarker"),E.exit("autolink"),z):x===null||x===32||x===60||z1(x)?Z(x):(E.consume(x),e)}function d(x){return x===64?(E.consume(x),P):u7(x)?(E.consume(x),d):Z(x)}function P(x){return af(x)?n(x):Z(x)}function n(x){return x===46?(E.consume(x),ue=0,P):x===62?(E.exit("autolinkProtocol").type="autolinkEmail",E.enter("autolinkMarker"),E.consume(x),E.exit("autolinkMarker"),E.exit("autolink"),z):C(x)}function C(x){if((x===45||af(x))&&ue++<63){const v=x===45?C:n;return E.consume(x),v}return Z(x)}}const ny={tokenize:A7,partial:!0};function A7(E,z,Z){return ue;function ue(Se){return _i(Se)?qi(E,xe,"linePrefix")(Se):xe(Se)}function xe(Se){return Se===null||Qa(Se)?z(Se):Z(Se)}}const eA={name:"blockQuote",tokenize:S7,continuation:{tokenize:M7},exit:E7};function S7(E,z,Z){const ue=this;return xe;function xe(U){if(U===62){const N=ue.containerState;return N.open||(E.enter("blockQuote",{_container:!0}),N.open=!0),E.enter("blockQuotePrefix"),E.enter("blockQuoteMarker"),E.consume(U),E.exit("blockQuoteMarker"),Se}return Z(U)}function Se(U){return _i(U)?(E.enter("blockQuotePrefixWhitespace"),E.consume(U),E.exit("blockQuotePrefixWhitespace"),E.exit("blockQuotePrefix"),z):(E.exit("blockQuotePrefix"),z(U))}}function M7(E,z,Z){const ue=this;return xe;function xe(U){return _i(U)?qi(E,Se,"linePrefix",ue.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):Se(U)}function Se(U){return E.attempt(eA,z,Z)(U)}}function E7(E){E.exit("blockQuote")}const tA={name:"characterEscape",tokenize:C7};function C7(E,z,Z){return ue;function ue(Se){return E.enter("characterEscape"),E.enter("escapeMarker"),E.consume(Se),E.exit("escapeMarker"),xe}function xe(Se){return c7(Se)?(E.enter("characterEscapeValue"),E.consume(Se),E.exit("characterEscapeValue"),E.exit("characterEscape"),z):Z(Se)}}const o2=document.createElement("i");function tb(E){const z="&"+E+";";o2.innerHTML=z;const Z=o2.textContent;return Z.charCodeAt(Z.length-1)===59&&E!=="semi"||Z===z?!1:Z}const rA={name:"characterReference",tokenize:L7};function L7(E,z,Z){const ue=this;let xe=0,Se,U;return N;function N(n){return E.enter("characterReference"),E.enter("characterReferenceMarker"),E.consume(n),E.exit("characterReferenceMarker"),e}function e(n){return n===35?(E.enter("characterReferenceMarkerNumeric"),E.consume(n),E.exit("characterReferenceMarkerNumeric"),d):(E.enter("characterReferenceValue"),Se=31,U=af,P(n))}function d(n){return n===88||n===120?(E.enter("characterReferenceMarkerHexadecimal"),E.consume(n),E.exit("characterReferenceMarkerHexadecimal"),E.enter("characterReferenceValue"),Se=6,U=f7,P):(E.enter("characterReferenceValue"),Se=7,U=O1,P(n))}function P(n){if(n===59&&xe){const C=E.exit("characterReferenceValue");return U===af&&!tb(ue.sliceSerialize(C))?Z(n):(E.enter("characterReferenceMarker"),E.consume(n),E.exit("characterReferenceMarker"),E.exit("characterReference"),z)}return U(n)&&xe++<Se?(E.consume(n),P):Z(n)}}const s2={tokenize:R7,partial:!0},l2={name:"codeFenced",tokenize:P7,concrete:!0};function P7(E,z,Z){const ue=this,xe={tokenize:f,partial:!0};let Se=0,U=0,N;return e;function e(l){return d(l)}function d(l){const y=ue.events[ue.events.length-1];return Se=y&&y[1].type==="linePrefix"?y[2].sliceSerialize(y[1],!0).length:0,N=l,E.enter("codeFenced"),E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),P(l)}function P(l){return l===N?(U++,E.consume(l),P):U<3?Z(l):(E.exit("codeFencedFenceSequence"),_i(l)?qi(E,n,"whitespace")(l):n(l))}function n(l){return l===null||Qa(l)?(E.exit("codeFencedFence"),ue.interrupt?z(l):E.check(s2,p,u)(l)):(E.enter("codeFencedFenceInfo"),E.enter("chunkString",{contentType:"string"}),C(l))}function C(l){return l===null||Qa(l)?(E.exit("chunkString"),E.exit("codeFencedFenceInfo"),n(l)):_i(l)?(E.exit("chunkString"),E.exit("codeFencedFenceInfo"),qi(E,x,"whitespace")(l)):l===96&&l===N?Z(l):(E.consume(l),C)}function x(l){return l===null||Qa(l)?n(l):(E.enter("codeFencedFenceMeta"),E.enter("chunkString",{contentType:"string"}),v(l))}function v(l){return l===null||Qa(l)?(E.exit("chunkString"),E.exit("codeFencedFenceMeta"),n(l)):l===96&&l===N?Z(l):(E.consume(l),v)}function p(l){return E.attempt(xe,u,r)(l)}function r(l){return E.enter("lineEnding"),E.consume(l),E.exit("lineEnding"),t}function t(l){return Se>0&&_i(l)?qi(E,o,"linePrefix",Se+1)(l):o(l)}function o(l){return l===null||Qa(l)?E.check(s2,p,u)(l):(E.enter("codeFlowValue"),a(l))}function a(l){return l===null||Qa(l)?(E.exit("codeFlowValue"),o(l)):(E.consume(l),a)}function u(l){return E.exit("codeFenced"),z(l)}function f(l,y,c){let T=0;return h;function h(R){return l.enter("lineEnding"),l.consume(R),l.exit("lineEnding"),i}function i(R){return l.enter("codeFencedFence"),_i(R)?qi(l,g,"linePrefix",ue.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):g(R)}function g(R){return R===N?(l.enter("codeFencedFenceSequence"),b(R)):c(R)}function b(R){return R===N?(T++,l.consume(R),b):T>=U?(l.exit("codeFencedFenceSequence"),_i(R)?qi(l,A,"whitespace")(R):A(R)):c(R)}function A(R){return R===null||Qa(R)?(l.exit("codeFencedFence"),y(R)):c(R)}}}function R7(E,z,Z){const ue=this;return xe;function xe(U){return U===null?Z(U):(E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),Se)}function Se(U){return ue.parser.lazy[ue.now().line]?Z(U):z(U)}}const Mm={name:"codeIndented",tokenize:D7},k7={tokenize:I7,partial:!0};function D7(E,z,Z){const ue=this;return xe;function xe(d){return E.enter("codeIndented"),qi(E,Se,"linePrefix",5)(d)}function Se(d){const P=ue.events[ue.events.length-1];return P&&P[1].type==="linePrefix"&&P[2].sliceSerialize(P[1],!0).length>=4?U(d):Z(d)}function U(d){return d===null?e(d):Qa(d)?E.attempt(k7,U,e)(d):(E.enter("codeFlowValue"),N(d))}function N(d){return d===null||Qa(d)?(E.exit("codeFlowValue"),U(d)):(E.consume(d),N)}function e(d){return E.exit("codeIndented"),z(d)}}function I7(E,z,Z){const ue=this;return xe;function xe(U){return ue.parser.lazy[ue.now().line]?Z(U):Qa(U)?(E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),xe):qi(E,Se,"linePrefix",5)(U)}function Se(U){const N=ue.events[ue.events.length-1];return N&&N[1].type==="linePrefix"&&N[2].sliceSerialize(N[1],!0).length>=4?z(U):Qa(U)?xe(U):Z(U)}}const _7={name:"codeText",tokenize:F7,resolve:z7,previous:O7};function z7(E){let z=E.length-4,Z=3,ue,xe;if((E[Z][1].type==="lineEnding"||E[Z][1].type==="space")&&(E[z][1].type==="lineEnding"||E[z][1].type==="space")){for(ue=Z;++ue<z;)if(E[ue][1].type==="codeTextData"){E[Z][1].type="codeTextPadding",E[z][1].type="codeTextPadding",Z+=2,z-=2;break}}for(ue=Z-1,z++;++ue<=z;)xe===void 0?ue!==z&&E[ue][1].type!=="lineEnding"&&(xe=ue):(ue===z||E[ue][1].type==="lineEnding")&&(E[xe][1].type="codeTextData",ue!==xe+2&&(E[xe][1].end=E[ue-1][1].end,E.splice(xe+2,ue-xe-2),z-=ue-xe-2,ue=xe+2),xe=void 0);return E}function O7(E){return E!==96||this.events[this.events.length-1][1].type==="characterEscape"}function F7(E,z,Z){let ue=0,xe,Se;return U;function U(n){return E.enter("codeText"),E.enter("codeTextSequence"),N(n)}function N(n){return n===96?(E.consume(n),ue++,N):(E.exit("codeTextSequence"),e(n))}function e(n){return n===null?Z(n):n===32?(E.enter("space"),E.consume(n),E.exit("space"),e):n===96?(Se=E.enter("codeTextSequence"),xe=0,P(n)):Qa(n)?(E.enter("lineEnding"),E.consume(n),E.exit("lineEnding"),e):(E.enter("codeTextData"),d(n))}function d(n){return n===null||n===32||n===96||Qa(n)?(E.exit("codeTextData"),e(n)):(E.consume(n),d)}function P(n){return n===96?(E.consume(n),xe++,P):xe===ue?(E.exit("codeTextSequence"),E.exit("codeText"),z(n)):(Se.type="codeTextData",d(n))}}function nA(E){const z={};let Z=-1,ue,xe,Se,U,N,e,d;for(;++Z<E.length;){for(;Z in z;)Z=z[Z];if(ue=E[Z],Z&&ue[1].type==="chunkFlow"&&E[Z-1][1].type==="listItemPrefix"&&(e=ue[1]._tokenizer.events,Se=0,Se<e.length&&e[Se][1].type==="lineEndingBlank"&&(Se+=2),Se<e.length&&e[Se][1].type==="content"))for(;++Se<e.length&&e[Se][1].type!=="content";)e[Se][1].type==="chunkText"&&(e[Se][1]._isInFirstContentOfListItem=!0,Se++);if(ue[0]==="enter")ue[1].contentType&&(Object.assign(z,N7(E,Z)),Z=z[Z],d=!0);else if(ue[1]._container){for(Se=Z,xe=void 0;Se--&&(U=E[Se],U[1].type==="lineEnding"||U[1].type==="lineEndingBlank");)U[0]==="enter"&&(xe&&(E[xe][1].type="lineEndingBlank"),U[1].type="lineEnding",xe=Se);xe&&(ue[1].end=Object.assign({},E[xe][1].start),N=E.slice(xe,Z),N.unshift(ue),Nf(E,xe,Z-xe+1,N))}}return!d}function N7(E,z){const Z=E[z][1],ue=E[z][2];let xe=z-1;const Se=[],U=Z._tokenizer||ue.parser[Z.contentType](Z.start),N=U.events,e=[],d={};let P,n,C=-1,x=Z,v=0,p=0;const r=[p];for(;x;){for(;E[++xe][1]!==x;);Se.push(xe),x._tokenizer||(P=ue.sliceStream(x),x.next||P.push(null),n&&U.defineSkip(x.start),x._isInFirstContentOfListItem&&(U._gfmTasklistFirstContentOfListItem=!0),U.write(P),x._isInFirstContentOfListItem&&(U._gfmTasklistFirstContentOfListItem=void 0)),n=x,x=x.next}for(x=Z;++C<N.length;)N[C][0]==="exit"&&N[C-1][0]==="enter"&&N[C][1].type===N[C-1][1].type&&N[C][1].start.line!==N[C][1].end.line&&(p=C+1,r.push(p),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(U.events=[],x?(x._tokenizer=void 0,x.previous=void 0):r.pop(),C=r.length;C--;){const t=N.slice(r[C],r[C+1]),o=Se.pop();e.unshift([o,o+t.length-1]),Nf(E,o,2,t)}for(C=-1;++C<e.length;)d[v+e[C][0]]=v+e[C][1],v+=e[C][1]-e[C][0]-1;return d}const B7={tokenize:V7,resolve:H7},U7={tokenize:G7,partial:!0};function H7(E){return nA(E),E}function V7(E,z){let Z;return ue;function ue(N){return E.enter("content"),Z=E.enter("chunkContent",{contentType:"content"}),xe(N)}function xe(N){return N===null?Se(N):Qa(N)?E.check(U7,U,Se)(N):(E.consume(N),xe)}function Se(N){return E.exit("chunkContent"),E.exit("content"),z(N)}function U(N){return E.consume(N),E.exit("chunkContent"),Z.next=E.enter("chunkContent",{contentType:"content",previous:Z}),Z=Z.next,xe}}function G7(E,z,Z){const ue=this;return xe;function xe(U){return E.exit("chunkContent"),E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),qi(E,Se,"linePrefix")}function Se(U){if(U===null||Qa(U))return Z(U);const N=ue.events[ue.events.length-1];return!ue.parser.constructs.disable.null.includes("codeIndented")&&N&&N[1].type==="linePrefix"&&N[2].sliceSerialize(N[1],!0).length>=4?z(U):E.interrupt(ue.parser.constructs.flow,Z,z)(U)}}function aA(E,z,Z,ue,xe,Se,U,N,e){const d=e||Number.POSITIVE_INFINITY;let P=0;return n;function n(t){return t===60?(E.enter(ue),E.enter(xe),E.enter(Se),E.consume(t),E.exit(Se),C):t===null||t===32||t===41||z1(t)?Z(t):(E.enter(ue),E.enter(U),E.enter(N),E.enter("chunkString",{contentType:"string"}),p(t))}function C(t){return t===62?(E.enter(Se),E.consume(t),E.exit(Se),E.exit(xe),E.exit(ue),z):(E.enter(N),E.enter("chunkString",{contentType:"string"}),x(t))}function x(t){return t===62?(E.exit("chunkString"),E.exit(N),C(t)):t===null||t===60||Qa(t)?Z(t):(E.consume(t),t===92?v:x)}function v(t){return t===60||t===62||t===92?(E.consume(t),x):x(t)}function p(t){return!P&&(t===null||t===41||Ml(t))?(E.exit("chunkString"),E.exit(N),E.exit(U),E.exit(ue),z(t)):P<d&&t===40?(E.consume(t),P++,p):t===41?(E.consume(t),P--,p):t===null||t===32||t===40||z1(t)?Z(t):(E.consume(t),t===92?r:p)}function r(t){return t===40||t===41||t===92?(E.consume(t),p):p(t)}}function iA(E,z,Z,ue,xe,Se){const U=this;let N=0,e;return d;function d(x){return E.enter(ue),E.enter(xe),E.consume(x),E.exit(xe),E.enter(Se),P}function P(x){return N>999||x===null||x===91||x===93&&!e||x===94&&!N&&"_hiddenFootnoteSupport"in U.parser.constructs?Z(x):x===93?(E.exit(Se),E.enter(xe),E.consume(x),E.exit(xe),E.exit(ue),z):Qa(x)?(E.enter("lineEnding"),E.consume(x),E.exit("lineEnding"),P):(E.enter("chunkString",{contentType:"string"}),n(x))}function n(x){return x===null||x===91||x===93||Qa(x)||N++>999?(E.exit("chunkString"),P(x)):(E.consume(x),e||(e=!_i(x)),x===92?C:n)}function C(x){return x===91||x===92||x===93?(E.consume(x),N++,n):n(x)}}function oA(E,z,Z,ue,xe,Se){let U;return N;function N(C){return C===34||C===39||C===40?(E.enter(ue),E.enter(xe),E.consume(C),E.exit(xe),U=C===40?41:C,e):Z(C)}function e(C){return C===U?(E.enter(xe),E.consume(C),E.exit(xe),E.exit(ue),z):(E.enter(Se),d(C))}function d(C){return C===U?(E.exit(Se),e(U)):C===null?Z(C):Qa(C)?(E.enter("lineEnding"),E.consume(C),E.exit("lineEnding"),qi(E,d,"linePrefix")):(E.enter("chunkString",{contentType:"string"}),P(C))}function P(C){return C===U||C===null||Qa(C)?(E.exit("chunkString"),d(C)):(E.consume(C),C===92?n:P)}function n(C){return C===U||C===92?(E.consume(C),P):P(C)}}function Sp(E,z){let Z;return ue;function ue(xe){return Qa(xe)?(E.enter("lineEnding"),E.consume(xe),E.exit("lineEnding"),Z=!0,ue):_i(xe)?qi(E,ue,Z?"linePrefix":"lineSuffix")(xe):z(xe)}}function pd(E){return E.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const W7={name:"definition",tokenize:Y7},j7={tokenize:X7,partial:!0};function Y7(E,z,Z){const ue=this;let xe;return Se;function Se(x){return E.enter("definition"),U(x)}function U(x){return iA.call(ue,E,N,Z,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function N(x){return xe=pd(ue.sliceSerialize(ue.events[ue.events.length-1][1]).slice(1,-1)),x===58?(E.enter("definitionMarker"),E.consume(x),E.exit("definitionMarker"),e):Z(x)}function e(x){return Ml(x)?Sp(E,d)(x):d(x)}function d(x){return aA(E,P,Z,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function P(x){return E.attempt(j7,n,n)(x)}function n(x){return _i(x)?qi(E,C,"whitespace")(x):C(x)}function C(x){return x===null||Qa(x)?(E.exit("definition"),ue.parser.defined.push(xe),z(x)):Z(x)}}function X7(E,z,Z){return ue;function ue(N){return Ml(N)?Sp(E,xe)(N):Z(N)}function xe(N){return oA(E,Se,Z,"definitionTitle","definitionTitleMarker","definitionTitleString")(N)}function Se(N){return _i(N)?qi(E,U,"whitespace")(N):U(N)}function U(N){return N===null||Qa(N)?z(N):Z(N)}}const Z7={name:"hardBreakEscape",tokenize:K7};function K7(E,z,Z){return ue;function ue(Se){return E.enter("hardBreakEscape"),E.consume(Se),xe}function xe(Se){return Qa(Se)?(E.exit("hardBreakEscape"),z(Se)):Z(Se)}}const J7={name:"headingAtx",tokenize:$7,resolve:Q7};function Q7(E,z){let Z=E.length-2,ue=3,xe,Se;return E[ue][1].type==="whitespace"&&(ue+=2),Z-2>ue&&E[Z][1].type==="whitespace"&&(Z-=2),E[Z][1].type==="atxHeadingSequence"&&(ue===Z-1||Z-4>ue&&E[Z-2][1].type==="whitespace")&&(Z-=ue+1===Z?2:4),Z>ue&&(xe={type:"atxHeadingText",start:E[ue][1].start,end:E[Z][1].end},Se={type:"chunkText",start:E[ue][1].start,end:E[Z][1].end,contentType:"text"},Nf(E,ue,Z-ue+1,[["enter",xe,z],["enter",Se,z],["exit",Se,z],["exit",xe,z]])),E}function $7(E,z,Z){let ue=0;return xe;function xe(P){return E.enter("atxHeading"),Se(P)}function Se(P){return E.enter("atxHeadingSequence"),U(P)}function U(P){return P===35&&ue++<6?(E.consume(P),U):P===null||Ml(P)?(E.exit("atxHeadingSequence"),N(P)):Z(P)}function N(P){return P===35?(E.enter("atxHeadingSequence"),e(P)):P===null||Qa(P)?(E.exit("atxHeading"),z(P)):_i(P)?qi(E,N,"whitespace")(P):(E.enter("atxHeadingText"),d(P))}function e(P){return P===35?(E.consume(P),e):(E.exit("atxHeadingSequence"),N(P))}function d(P){return P===null||P===35||Ml(P)?(E.exit("atxHeadingText"),N(P)):(E.consume(P),d)}}const q7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],u2=["pre","script","style","textarea"],eP={name:"htmlFlow",tokenize:aP,resolveTo:nP,concrete:!0},tP={tokenize:oP,partial:!0},rP={tokenize:iP,partial:!0};function nP(E){let z=E.length;for(;z--&&!(E[z][0]==="enter"&&E[z][1].type==="htmlFlow"););return z>1&&E[z-2][1].type==="linePrefix"&&(E[z][1].start=E[z-2][1].start,E[z+1][1].start=E[z-2][1].start,E.splice(z-2,2)),E}function aP(E,z,Z){const ue=this;let xe,Se,U,N,e;return d;function d(I){return P(I)}function P(I){return E.enter("htmlFlow"),E.enter("htmlFlowData"),E.consume(I),n}function n(I){return I===33?(E.consume(I),C):I===47?(E.consume(I),Se=!0,p):I===63?(E.consume(I),xe=3,ue.interrupt?z:S):_f(I)?(E.consume(I),U=String.fromCharCode(I),r):Z(I)}function C(I){return I===45?(E.consume(I),xe=2,x):I===91?(E.consume(I),xe=5,N=0,v):_f(I)?(E.consume(I),xe=4,ue.interrupt?z:S):Z(I)}function x(I){return I===45?(E.consume(I),ue.interrupt?z:S):Z(I)}function v(I){const H="CDATA[";return I===H.charCodeAt(N++)?(E.consume(I),N===H.length?ue.interrupt?z:g:v):Z(I)}function p(I){return _f(I)?(E.consume(I),U=String.fromCharCode(I),r):Z(I)}function r(I){if(I===null||I===47||I===62||Ml(I)){const H=I===47,O=U.toLowerCase();return!H&&!Se&&u2.includes(O)?(xe=1,ue.interrupt?z(I):g(I)):q7.includes(U.toLowerCase())?(xe=6,H?(E.consume(I),t):ue.interrupt?z(I):g(I)):(xe=7,ue.interrupt&&!ue.parser.lazy[ue.now().line]?Z(I):Se?o(I):a(I))}return I===45||af(I)?(E.consume(I),U+=String.fromCharCode(I),r):Z(I)}function t(I){return I===62?(E.consume(I),ue.interrupt?z:g):Z(I)}function o(I){return _i(I)?(E.consume(I),o):h(I)}function a(I){return I===47?(E.consume(I),h):I===58||I===95||_f(I)?(E.consume(I),u):_i(I)?(E.consume(I),a):h(I)}function u(I){return I===45||I===46||I===58||I===95||af(I)?(E.consume(I),u):f(I)}function f(I){return I===61?(E.consume(I),l):_i(I)?(E.consume(I),f):a(I)}function l(I){return I===null||I===60||I===61||I===62||I===96?Z(I):I===34||I===39?(E.consume(I),e=I,y):_i(I)?(E.consume(I),l):c(I)}function y(I){return I===e?(E.consume(I),e=null,T):I===null||Qa(I)?Z(I):(E.consume(I),y)}function c(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Ml(I)?f(I):(E.consume(I),c)}function T(I){return I===47||I===62||_i(I)?a(I):Z(I)}function h(I){return I===62?(E.consume(I),i):Z(I)}function i(I){return I===null||Qa(I)?g(I):_i(I)?(E.consume(I),i):Z(I)}function g(I){return I===45&&xe===2?(E.consume(I),m):I===60&&xe===1?(E.consume(I),L):I===62&&xe===4?(E.consume(I),w):I===63&&xe===3?(E.consume(I),S):I===93&&xe===5?(E.consume(I),s):Qa(I)&&(xe===6||xe===7)?(E.exit("htmlFlowData"),E.check(tP,_,b)(I)):I===null||Qa(I)?(E.exit("htmlFlowData"),b(I)):(E.consume(I),g)}function b(I){return E.check(rP,A,_)(I)}function A(I){return E.enter("lineEnding"),E.consume(I),E.exit("lineEnding"),R}function R(I){return I===null||Qa(I)?b(I):(E.enter("htmlFlowData"),g(I))}function m(I){return I===45?(E.consume(I),S):g(I)}function L(I){return I===47?(E.consume(I),U="",M):g(I)}function M(I){if(I===62){const H=U.toLowerCase();return u2.includes(H)?(E.consume(I),w):g(I)}return _f(I)&&U.length<8?(E.consume(I),U+=String.fromCharCode(I),M):g(I)}function s(I){return I===93?(E.consume(I),S):g(I)}function S(I){return I===62?(E.consume(I),w):I===45&&xe===2?(E.consume(I),S):g(I)}function w(I){return I===null||Qa(I)?(E.exit("htmlFlowData"),_(I)):(E.consume(I),w)}function _(I){return E.exit("htmlFlow"),z(I)}}function iP(E,z,Z){const ue=this;return xe;function xe(U){return Qa(U)?(E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),Se):Z(U)}function Se(U){return ue.parser.lazy[ue.now().line]?Z(U):z(U)}}function oP(E,z,Z){return ue;function ue(xe){return E.enter("lineEnding"),E.consume(xe),E.exit("lineEnding"),E.attempt(ny,z,Z)}}const sP={name:"htmlText",tokenize:lP};function lP(E,z,Z){const ue=this;let xe,Se,U;return N;function N(S){return E.enter("htmlText"),E.enter("htmlTextData"),E.consume(S),e}function e(S){return S===33?(E.consume(S),d):S===47?(E.consume(S),f):S===63?(E.consume(S),a):_f(S)?(E.consume(S),c):Z(S)}function d(S){return S===45?(E.consume(S),P):S===91?(E.consume(S),Se=0,v):_f(S)?(E.consume(S),o):Z(S)}function P(S){return S===45?(E.consume(S),x):Z(S)}function n(S){return S===null?Z(S):S===45?(E.consume(S),C):Qa(S)?(U=n,L(S)):(E.consume(S),n)}function C(S){return S===45?(E.consume(S),x):n(S)}function x(S){return S===62?m(S):S===45?C(S):n(S)}function v(S){const w="CDATA[";return S===w.charCodeAt(Se++)?(E.consume(S),Se===w.length?p:v):Z(S)}function p(S){return S===null?Z(S):S===93?(E.consume(S),r):Qa(S)?(U=p,L(S)):(E.consume(S),p)}function r(S){return S===93?(E.consume(S),t):p(S)}function t(S){return S===62?m(S):S===93?(E.consume(S),t):p(S)}function o(S){return S===null||S===62?m(S):Qa(S)?(U=o,L(S)):(E.consume(S),o)}function a(S){return S===null?Z(S):S===63?(E.consume(S),u):Qa(S)?(U=a,L(S)):(E.consume(S),a)}function u(S){return S===62?m(S):a(S)}function f(S){return _f(S)?(E.consume(S),l):Z(S)}function l(S){return S===45||af(S)?(E.consume(S),l):y(S)}function y(S){return Qa(S)?(U=y,L(S)):_i(S)?(E.consume(S),y):m(S)}function c(S){return S===45||af(S)?(E.consume(S),c):S===47||S===62||Ml(S)?T(S):Z(S)}function T(S){return S===47?(E.consume(S),m):S===58||S===95||_f(S)?(E.consume(S),h):Qa(S)?(U=T,L(S)):_i(S)?(E.consume(S),T):m(S)}function h(S){return S===45||S===46||S===58||S===95||af(S)?(E.consume(S),h):i(S)}function i(S){return S===61?(E.consume(S),g):Qa(S)?(U=i,L(S)):_i(S)?(E.consume(S),i):T(S)}function g(S){return S===null||S===60||S===61||S===62||S===96?Z(S):S===34||S===39?(E.consume(S),xe=S,b):Qa(S)?(U=g,L(S)):_i(S)?(E.consume(S),g):(E.consume(S),A)}function b(S){return S===xe?(E.consume(S),xe=void 0,R):S===null?Z(S):Qa(S)?(U=b,L(S)):(E.consume(S),b)}function A(S){return S===null||S===34||S===39||S===60||S===61||S===96?Z(S):S===47||S===62||Ml(S)?T(S):(E.consume(S),A)}function R(S){return S===47||S===62||Ml(S)?T(S):Z(S)}function m(S){return S===62?(E.consume(S),E.exit("htmlTextData"),E.exit("htmlText"),z):Z(S)}function L(S){return E.exit("htmlTextData"),E.enter("lineEnding"),E.consume(S),E.exit("lineEnding"),M}function M(S){return _i(S)?qi(E,s,"linePrefix",ue.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):s(S)}function s(S){return E.enter("htmlTextData"),U(S)}}const rb={name:"labelEnd",tokenize:dP,resolveTo:vP,resolveAll:hP},uP={tokenize:pP},fP={tokenize:gP},cP={tokenize:yP};function hP(E){let z=-1;for(;++z<E.length;){const Z=E[z][1];(Z.type==="labelImage"||Z.type==="labelLink"||Z.type==="labelEnd")&&(E.splice(z+1,Z.type==="labelImage"?4:2),Z.type="data",z++)}return E}function vP(E,z){let Z=E.length,ue=0,xe,Se,U,N;for(;Z--;)if(xe=E[Z][1],Se){if(xe.type==="link"||xe.type==="labelLink"&&xe._inactive)break;E[Z][0]==="enter"&&xe.type==="labelLink"&&(xe._inactive=!0)}else if(U){if(E[Z][0]==="enter"&&(xe.type==="labelImage"||xe.type==="labelLink")&&!xe._balanced&&(Se=Z,xe.type!=="labelLink")){ue=2;break}}else xe.type==="labelEnd"&&(U=Z);const e={type:E[Se][1].type==="labelLink"?"link":"image",start:Object.assign({},E[Se][1].start),end:Object.assign({},E[E.length-1][1].end)},d={type:"label",start:Object.assign({},E[Se][1].start),end:Object.assign({},E[U][1].end)},P={type:"labelText",start:Object.assign({},E[Se+ue+2][1].end),end:Object.assign({},E[U-2][1].start)};return N=[["enter",e,z],["enter",d,z]],N=mu(N,E.slice(Se+1,Se+ue+3)),N=mu(N,[["enter",P,z]]),N=mu(N,eb(z.parser.constructs.insideSpan.null,E.slice(Se+ue+4,U-3),z)),N=mu(N,[["exit",P,z],E[U-2],E[U-1],["exit",d,z]]),N=mu(N,E.slice(U+1)),N=mu(N,[["exit",e,z]]),Nf(E,Se,E.length,N),E}function dP(E,z,Z){const ue=this;let xe=ue.events.length,Se,U;for(;xe--;)if((ue.events[xe][1].type==="labelImage"||ue.events[xe][1].type==="labelLink")&&!ue.events[xe][1]._balanced){Se=ue.events[xe][1];break}return N;function N(C){return Se?Se._inactive?n(C):(U=ue.parser.defined.includes(pd(ue.sliceSerialize({start:Se.end,end:ue.now()}))),E.enter("labelEnd"),E.enter("labelMarker"),E.consume(C),E.exit("labelMarker"),E.exit("labelEnd"),e):Z(C)}function e(C){return C===40?E.attempt(uP,P,U?P:n)(C):C===91?E.attempt(fP,P,U?d:n)(C):U?P(C):n(C)}function d(C){return E.attempt(cP,P,n)(C)}function P(C){return z(C)}function n(C){return Se._balanced=!0,Z(C)}}function pP(E,z,Z){return ue;function ue(n){return E.enter("resource"),E.enter("resourceMarker"),E.consume(n),E.exit("resourceMarker"),xe}function xe(n){return Ml(n)?Sp(E,Se)(n):Se(n)}function Se(n){return n===41?P(n):aA(E,U,N,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(n)}function U(n){return Ml(n)?Sp(E,e)(n):P(n)}function N(n){return Z(n)}function e(n){return n===34||n===39||n===40?oA(E,d,Z,"resourceTitle","resourceTitleMarker","resourceTitleString")(n):P(n)}function d(n){return Ml(n)?Sp(E,P)(n):P(n)}function P(n){return n===41?(E.enter("resourceMarker"),E.consume(n),E.exit("resourceMarker"),E.exit("resource"),z):Z(n)}}function gP(E,z,Z){const ue=this;return xe;function xe(N){return iA.call(ue,E,Se,U,"reference","referenceMarker","referenceString")(N)}function Se(N){return ue.parser.defined.includes(pd(ue.sliceSerialize(ue.events[ue.events.length-1][1]).slice(1,-1)))?z(N):Z(N)}function U(N){return Z(N)}}function yP(E,z,Z){return ue;function ue(Se){return E.enter("reference"),E.enter("referenceMarker"),E.consume(Se),E.exit("referenceMarker"),xe}function xe(Se){return Se===93?(E.enter("referenceMarker"),E.consume(Se),E.exit("referenceMarker"),E.exit("reference"),z):Z(Se)}}const mP={name:"labelStartImage",tokenize:xP,resolveAll:rb.resolveAll};function xP(E,z,Z){const ue=this;return xe;function xe(N){return E.enter("labelImage"),E.enter("labelImageMarker"),E.consume(N),E.exit("labelImageMarker"),Se}function Se(N){return N===91?(E.enter("labelMarker"),E.consume(N),E.exit("labelMarker"),E.exit("labelImage"),U):Z(N)}function U(N){return N===94&&"_hiddenFootnoteSupport"in ue.parser.constructs?Z(N):z(N)}}const bP={name:"labelStartLink",tokenize:wP,resolveAll:rb.resolveAll};function wP(E,z,Z){const ue=this;return xe;function xe(U){return E.enter("labelLink"),E.enter("labelMarker"),E.consume(U),E.exit("labelMarker"),E.exit("labelLink"),Se}function Se(U){return U===94&&"_hiddenFootnoteSupport"in ue.parser.constructs?Z(U):z(U)}}const Em={name:"lineEnding",tokenize:TP};function TP(E,z){return Z;function Z(ue){return E.enter("lineEnding"),E.consume(ue),E.exit("lineEnding"),qi(E,z,"linePrefix")}}const ug={name:"thematicBreak",tokenize:AP};function AP(E,z,Z){let ue=0,xe;return Se;function Se(d){return E.enter("thematicBreak"),U(d)}function U(d){return xe=d,N(d)}function N(d){return d===xe?(E.enter("thematicBreakSequence"),e(d)):ue>=3&&(d===null||Qa(d))?(E.exit("thematicBreak"),z(d)):Z(d)}function e(d){return d===xe?(E.consume(d),ue++,e):(E.exit("thematicBreakSequence"),_i(d)?qi(E,N,"whitespace")(d):N(d))}}const ml={name:"list",tokenize:EP,continuation:{tokenize:CP},exit:PP},SP={tokenize:RP,partial:!0},MP={tokenize:LP,partial:!0};function EP(E,z,Z){const ue=this,xe=ue.events[ue.events.length-1];let Se=xe&&xe[1].type==="linePrefix"?xe[2].sliceSerialize(xe[1],!0).length:0,U=0;return N;function N(x){const v=ue.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!ue.containerState.marker||x===ue.containerState.marker:O1(x)){if(ue.containerState.type||(ue.containerState.type=v,E.enter(v,{_container:!0})),v==="listUnordered")return E.enter("listItemPrefix"),x===42||x===45?E.check(ug,Z,d)(x):d(x);if(!ue.interrupt||x===49)return E.enter("listItemPrefix"),E.enter("listItemValue"),e(x)}return Z(x)}function e(x){return O1(x)&&++U<10?(E.consume(x),e):(!ue.interrupt||U<2)&&(ue.containerState.marker?x===ue.containerState.marker:x===41||x===46)?(E.exit("listItemValue"),d(x)):Z(x)}function d(x){return E.enter("listItemMarker"),E.consume(x),E.exit("listItemMarker"),ue.containerState.marker=ue.containerState.marker||x,E.check(ny,ue.interrupt?Z:P,E.attempt(SP,C,n))}function P(x){return ue.containerState.initialBlankLine=!0,Se++,C(x)}function n(x){return _i(x)?(E.enter("listItemPrefixWhitespace"),E.consume(x),E.exit("listItemPrefixWhitespace"),C):Z(x)}function C(x){return ue.containerState.size=Se+ue.sliceSerialize(E.exit("listItemPrefix"),!0).length,z(x)}}function CP(E,z,Z){const ue=this;return ue.containerState._closeFlow=void 0,E.check(ny,xe,Se);function xe(N){return ue.containerState.furtherBlankLines=ue.containerState.furtherBlankLines||ue.containerState.initialBlankLine,qi(E,z,"listItemIndent",ue.containerState.size+1)(N)}function Se(N){return ue.containerState.furtherBlankLines||!_i(N)?(ue.containerState.furtherBlankLines=void 0,ue.containerState.initialBlankLine=void 0,U(N)):(ue.containerState.furtherBlankLines=void 0,ue.containerState.initialBlankLine=void 0,E.attempt(MP,z,U)(N))}function U(N){return ue.containerState._closeFlow=!0,ue.interrupt=void 0,qi(E,E.attempt(ml,z,Z),"linePrefix",ue.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N)}}function LP(E,z,Z){const ue=this;return qi(E,xe,"listItemIndent",ue.containerState.size+1);function xe(Se){const U=ue.events[ue.events.length-1];return U&&U[1].type==="listItemIndent"&&U[2].sliceSerialize(U[1],!0).length===ue.containerState.size?z(Se):Z(Se)}}function PP(E){E.exit(this.containerState.type)}function RP(E,z,Z){const ue=this;return qi(E,xe,"listItemPrefixWhitespace",ue.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function xe(Se){const U=ue.events[ue.events.length-1];return!_i(Se)&&U&&U[1].type==="listItemPrefixWhitespace"?z(Se):Z(Se)}}const f2={name:"setextUnderline",tokenize:DP,resolveTo:kP};function kP(E,z){let Z=E.length,ue,xe,Se;for(;Z--;)if(E[Z][0]==="enter"){if(E[Z][1].type==="content"){ue=Z;break}E[Z][1].type==="paragraph"&&(xe=Z)}else E[Z][1].type==="content"&&E.splice(Z,1),!Se&&E[Z][1].type==="definition"&&(Se=Z);const U={type:"setextHeading",start:Object.assign({},E[xe][1].start),end:Object.assign({},E[E.length-1][1].end)};return E[xe][1].type="setextHeadingText",Se?(E.splice(xe,0,["enter",U,z]),E.splice(Se+1,0,["exit",E[ue][1],z]),E[ue][1].end=Object.assign({},E[Se][1].end)):E[ue][1]=U,E.push(["exit",U,z]),E}function DP(E,z,Z){const ue=this;let xe;return Se;function Se(d){let P=ue.events.length,n;for(;P--;)if(ue.events[P][1].type!=="lineEnding"&&ue.events[P][1].type!=="linePrefix"&&ue.events[P][1].type!=="content"){n=ue.events[P][1].type==="paragraph";break}return!ue.parser.lazy[ue.now().line]&&(ue.interrupt||n)?(E.enter("setextHeadingLine"),xe=d,U(d)):Z(d)}function U(d){return E.enter("setextHeadingLineSequence"),N(d)}function N(d){return d===xe?(E.consume(d),N):(E.exit("setextHeadingLineSequence"),_i(d)?qi(E,e,"lineSuffix")(d):e(d))}function e(d){return d===null||Qa(d)?(E.exit("setextHeadingLine"),z(d)):Z(d)}}const IP={tokenize:_P};function _P(E){const z=this,Z=E.attempt(ny,ue,E.attempt(this.parser.constructs.flowInitial,xe,qi(E,E.attempt(this.parser.constructs.flow,xe,E.attempt(B7,xe)),"linePrefix")));return Z;function ue(Se){if(Se===null){E.consume(Se);return}return E.enter("lineEndingBlank"),E.consume(Se),E.exit("lineEndingBlank"),z.currentConstruct=void 0,Z}function xe(Se){if(Se===null){E.consume(Se);return}return E.enter("lineEnding"),E.consume(Se),E.exit("lineEnding"),z.currentConstruct=void 0,Z}}const zP={resolveAll:lA()},OP=sA("string"),FP=sA("text");function sA(E){return{tokenize:z,resolveAll:lA(E==="text"?NP:void 0)};function z(Z){const ue=this,xe=this.parser.constructs[E],Se=Z.attempt(xe,U,N);return U;function U(P){return d(P)?Se(P):N(P)}function N(P){if(P===null){Z.consume(P);return}return Z.enter("data"),Z.consume(P),e}function e(P){return d(P)?(Z.exit("data"),Se(P)):(Z.consume(P),e)}function d(P){if(P===null)return!0;const n=xe[P];let C=-1;if(n)for(;++C<n.length;){const x=n[C];if(!x.previous||x.previous.call(ue,ue.previous))return!0}return!1}}}function lA(E){return z;function z(Z,ue){let xe=-1,Se;for(;++xe<=Z.length;)Se===void 0?Z[xe]&&Z[xe][1].type==="data"&&(Se=xe,xe++):(!Z[xe]||Z[xe][1].type!=="data")&&(xe!==Se+2&&(Z[Se][1].end=Z[xe-1][1].end,Z.splice(Se+2,xe-Se-2),xe=Se+2),Se=void 0);return E?E(Z,ue):Z}}function NP(E,z){let Z=0;for(;++Z<=E.length;)if((Z===E.length||E[Z][1].type==="lineEnding")&&E[Z-1][1].type==="data"){const ue=E[Z-1][1],xe=z.sliceStream(ue);let Se=xe.length,U=-1,N=0,e;for(;Se--;){const d=xe[Se];if(typeof d=="string"){for(U=d.length;d.charCodeAt(U-1)===32;)N++,U--;if(U)break;U=-1}else if(d===-2)e=!0,N++;else if(d!==-1){Se++;break}}if(N){const d={type:Z===E.length||e||N<2?"lineSuffix":"hardBreakTrailing",start:{line:ue.end.line,column:ue.end.column-N,offset:ue.end.offset-N,_index:ue.start._index+Se,_bufferIndex:Se?U:ue.start._bufferIndex+U},end:Object.assign({},ue.end)};ue.end=Object.assign({},d.start),ue.start.offset===ue.end.offset?Object.assign(ue,d):(E.splice(Z,0,["enter",d,z],["exit",d,z]),Z+=2)}Z++}return E}function BP(E,z,Z){let ue=Object.assign(Z?Object.assign({},Z):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const xe={},Se=[];let U=[],N=[];const e={consume:o,enter:a,exit:u,attempt:y(f),check:y(l),interrupt:y(l,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:E,sliceStream:x,sliceSerialize:C,now:v,defineSkip:p,write:n};let P=z.tokenize.call(d,e);return z.resolveAll&&Se.push(z),d;function n(i){return U=mu(U,i),r(),U[U.length-1]!==null?[]:(c(z,0),d.events=eb(Se,d.events,d),d.events)}function C(i,g){return HP(x(i),g)}function x(i){return UP(U,i)}function v(){const{line:i,column:g,offset:b,_index:A,_bufferIndex:R}=ue;return{line:i,column:g,offset:b,_index:A,_bufferIndex:R}}function p(i){xe[i.line]=i.column,h()}function r(){let i;for(;ue._index<U.length;){const g=U[ue._index];if(typeof g=="string")for(i=ue._index,ue._bufferIndex<0&&(ue._bufferIndex=0);ue._index===i&&ue._bufferIndex<g.length;)t(g.charCodeAt(ue._bufferIndex));else t(g)}}function t(i){P=P(i)}function o(i){Qa(i)?(ue.line++,ue.column=1,ue.offset+=i===-3?2:1,h()):i!==-1&&(ue.column++,ue.offset++),ue._bufferIndex<0?ue._index++:(ue._bufferIndex++,ue._bufferIndex===U[ue._index].length&&(ue._bufferIndex=-1,ue._index++)),d.previous=i}function a(i,g){const b=g||{};return b.type=i,b.start=v(),d.events.push(["enter",b,d]),N.push(b),b}function u(i){const g=N.pop();return g.end=v(),d.events.push(["exit",g,d]),g}function f(i,g){c(i,g.from)}function l(i,g){g.restore()}function y(i,g){return b;function b(A,R,m){let L,M,s,S;return Array.isArray(A)?_(A):"tokenize"in A?_([A]):w(A);function w(V){return B;function B(F){const G=F!==null&&V[F],Y=F!==null&&V.null,Q=[...Array.isArray(G)?G:G?[G]:[],...Array.isArray(Y)?Y:Y?[Y]:[]];return _(Q)(F)}}function _(V){return L=V,M=0,V.length===0?m:I(V[M])}function I(V){return B;function B(F){return S=T(),s=V,V.partial||(d.currentConstruct=V),V.name&&d.parser.constructs.disable.null.includes(V.name)?O():V.tokenize.call(g?Object.assign(Object.create(d),g):d,e,H,O)(F)}}function H(V){return i(s,S),R}function O(V){return S.restore(),++M<L.length?I(L[M]):m}}}function c(i,g){i.resolveAll&&!Se.includes(i)&&Se.push(i),i.resolve&&Nf(d.events,g,d.events.length-g,i.resolve(d.events.slice(g),d)),i.resolveTo&&(d.events=i.resolveTo(d.events,d))}function T(){const i=v(),g=d.previous,b=d.currentConstruct,A=d.events.length,R=Array.from(N);return{restore:m,from:A};function m(){ue=i,d.previous=g,d.currentConstruct=b,d.events.length=A,N=R,h()}}function h(){ue.line in xe&&ue.column<2&&(ue.column=xe[ue.line],ue.offset+=xe[ue.line]-1)}}function UP(E,z){const Z=z.start._index,ue=z.start._bufferIndex,xe=z.end._index,Se=z.end._bufferIndex;let U;if(Z===xe)U=[E[Z].slice(ue,Se)];else{if(U=E.slice(Z,xe),ue>-1){const N=U[0];typeof N=="string"?U[0]=N.slice(ue):U.shift()}Se>0&&U.push(E[xe].slice(0,Se))}return U}function HP(E,z){let Z=-1;const ue=[];let xe;for(;++Z<E.length;){const Se=E[Z];let U;if(typeof Se=="string")U=Se;else switch(Se){case-5:{U="\r";break}case-4:{U=`
`;break}case-3:{U=`\r
`;break}case-2:{U=z?" ":"	";break}case-1:{if(!z&&xe)continue;U=" ";break}default:U=String.fromCharCode(Se)}xe=Se===-2,ue.push(U)}return ue.join("")}const VP={42:ml,43:ml,45:ml,48:ml,49:ml,50:ml,51:ml,52:ml,53:ml,54:ml,55:ml,56:ml,57:ml,62:eA},GP={91:W7},WP={[-2]:Mm,[-1]:Mm,32:Mm},jP={35:J7,42:ug,45:[f2,ug],60:eP,61:f2,95:ug,96:l2,126:l2},YP={38:rA,92:tA},XP={[-5]:Em,[-4]:Em,[-3]:Em,33:mP,38:rA,42:F1,60:[w7,sP],91:bP,92:[Z7,tA],93:rb,95:F1,96:_7},ZP={null:[F1,zP]},KP={null:[42,95]},JP={null:[]},QP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KP,contentInitial:GP,disable:JP,document:VP,flow:jP,flowInitial:WP,insideSpan:ZP,string:YP,text:XP},Symbol.toStringTag,{value:"Module"}));function $P(E){const Z=i7([QP,...(E||{}).extensions||[]]),ue={defined:[],lazy:{},constructs:Z,content:xe(d7),document:xe(g7),flow:xe(IP),string:xe(OP),text:xe(FP)};return ue;function xe(Se){return U;function U(N){return BP(ue,Se,N)}}}const c2=/[\0\t\n\r]/g;function qP(){let E=1,z="",Z=!0,ue;return xe;function xe(Se,U,N){const e=[];let d,P,n,C,x;for(Se=z+Se.toString(U),n=0,z="",Z&&(Se.charCodeAt(0)===65279&&n++,Z=void 0);n<Se.length;){if(c2.lastIndex=n,d=c2.exec(Se),C=d&&d.index!==void 0?d.index:Se.length,x=Se.charCodeAt(C),!d){z=Se.slice(n);break}if(x===10&&n===C&&ue)e.push(-3),ue=void 0;else switch(ue&&(e.push(-5),ue=void 0),n<C&&(e.push(Se.slice(n,C)),E+=C-n),x){case 0:{e.push(65533),E++;break}case 9:{for(P=Math.ceil(E/4)*4,e.push(-2);E++<P;)e.push(-1);break}case 10:{e.push(-4),E=1;break}default:ue=!0,E=1}n=C+1}return N&&(ue&&e.push(-5),z&&e.push(z),e.push(null)),e}}function e9(E){for(;!nA(E););return E}function uA(E,z){const Z=Number.parseInt(E,z);return Z<9||Z===11||Z>13&&Z<32||Z>126&&Z<160||Z>55295&&Z<57344||Z>64975&&Z<65008||(Z&65535)===65535||(Z&65535)===65534||Z>1114111?"�":String.fromCharCode(Z)}const t9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function r9(E){return E.replace(t9,n9)}function n9(E,z,Z){if(z)return z;if(Z.charCodeAt(0)===35){const xe=Z.charCodeAt(1),Se=xe===120||xe===88;return uA(Z.slice(Se?2:1),Se?16:10)}return tb(Z)||E}function fg(E){return!E||typeof E!="object"?"":"position"in E||"type"in E?h2(E.position):"start"in E||"end"in E?h2(E):"line"in E||"column"in E?N1(E):""}function N1(E){return v2(E&&E.line)+":"+v2(E&&E.column)}function h2(E){return N1(E&&E.start)+"-"+N1(E&&E.end)}function v2(E){return E&&typeof E=="number"?E:1}const fA={}.hasOwnProperty,a9=function(E,z,Z){return typeof z!="string"&&(Z=z,z=void 0),i9(Z)(e9($P(Z).document().write(qP()(E,z,!0))))};function i9(E){const z={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:N(le),autolinkProtocol:i,autolinkEmail:i,atxHeading:N(J),blockQuote:N(Q),characterEscape:i,characterReference:i,codeFenced:N(te),codeFencedFenceInfo:e,codeFencedFenceMeta:e,codeIndented:N(te,e),codeText:N(ae,e),codeTextData:i,data:i,codeFlowValue:i,definition:N(fe),definitionDestinationString:e,definitionLabelString:e,definitionTitleString:e,emphasis:N(oe),hardBreakEscape:N(ee),hardBreakTrailing:N(ee),htmlFlow:N(X,e),htmlFlowData:i,htmlText:N(X,e),htmlTextData:i,image:N(q),label:e,link:N(le),listItem:N(j),listItemValue:v,listOrdered:N($,x),listUnordered:N($),paragraph:N(se),reference:O,referenceString:e,resourceDestinationString:e,resourceTitleString:e,setextHeading:N(J),strong:N(ne),thematicBreak:N(me)},exit:{atxHeading:P(),atxHeadingSequence:y,autolink:P(),autolinkEmail:Y,autolinkProtocol:G,blockQuote:P(),characterEscapeValue:g,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:F,codeFenced:P(o),codeFencedFence:t,codeFencedFenceInfo:p,codeFencedFenceMeta:r,codeFlowValue:g,codeIndented:P(a),codeText:P(L),codeTextData:g,data:g,definition:P(),definitionDestinationString:l,definitionLabelString:u,definitionTitleString:f,emphasis:P(),hardBreakEscape:P(A),hardBreakTrailing:P(A),htmlFlow:P(R),htmlFlowData:g,htmlText:P(m),htmlTextData:g,image:P(s),label:w,labelText:S,lineEnding:b,link:P(M),listItem:P(),listOrdered:P(),listUnordered:P(),paragraph:P(),referenceString:V,resourceDestinationString:_,resourceTitleString:I,resource:H,setextHeading:P(h),setextHeadingLineSequence:T,setextHeadingText:c,strong:P(),thematicBreak:P()}};cA(z,(E||{}).mdastExtensions||[]);const Z={};return ue;function ue(we){let Te={type:"root",children:[]};const Le={stack:[Te],tokenStack:[],config:z,enter:d,exit:n,buffer:e,resume:C,setData:Se,getData:U},Ie=[];let ze=-1;for(;++ze<we.length;)if(we[ze][1].type==="listOrdered"||we[ze][1].type==="listUnordered")if(we[ze][0]==="enter")Ie.push(ze);else{const Me=Ie.pop();ze=xe(we,Me,ze)}for(ze=-1;++ze<we.length;){const Me=z[we[ze][0]];fA.call(Me,we[ze][1].type)&&Me[we[ze][1].type].call(Object.assign({sliceSerialize:we[ze][2].sliceSerialize},Le),we[ze][1])}if(Le.tokenStack.length>0){const Me=Le.tokenStack[Le.tokenStack.length-1];(Me[1]||d2).call(Le,void 0,Me[0])}for(Te.position={start:sh(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:sh(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<z.transforms.length;)Te=z.transforms[ze](Te)||Te;return Te}function xe(we,Te,Le){let Ie=Te-1,ze=-1,Me=!1,_e,Ce,Oe,Pe;for(;++Ie<=Le;){const Ge=we[Ie];if(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered"||Ge[1].type==="blockQuote"?(Ge[0]==="enter"?ze++:ze--,Pe=void 0):Ge[1].type==="lineEndingBlank"?Ge[0]==="enter"&&(_e&&!Pe&&!ze&&!Oe&&(Oe=Ie),Pe=void 0):Ge[1].type==="linePrefix"||Ge[1].type==="listItemValue"||Ge[1].type==="listItemMarker"||Ge[1].type==="listItemPrefix"||Ge[1].type==="listItemPrefixWhitespace"||(Pe=void 0),!ze&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||ze===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(_e){let Ze=Ie;for(Ce=void 0;Ze--;){const it=we[Ze];if(it[1].type==="lineEnding"||it[1].type==="lineEndingBlank"){if(it[0]==="exit")continue;Ce&&(we[Ce][1].type="lineEndingBlank",Me=!0),it[1].type="lineEnding",Ce=Ze}else if(!(it[1].type==="linePrefix"||it[1].type==="blockQuotePrefix"||it[1].type==="blockQuotePrefixWhitespace"||it[1].type==="blockQuoteMarker"||it[1].type==="listItemIndent"))break}Oe&&(!Ce||Oe<Ce)&&(_e._spread=!0),_e.end=Object.assign({},Ce?we[Ce][1].start:Ge[1].end),we.splice(Ce||Ie,0,["exit",_e,Ge[2]]),Ie++,Le++}Ge[1].type==="listItemPrefix"&&(_e={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0},we.splice(Ie,0,["enter",_e,Ge[2]]),Ie++,Le++,Oe=void 0,Pe=!0)}}return we[Te][1]._spread=Me,Le}function Se(we,Te){Z[we]=Te}function U(we){return Z[we]}function N(we,Te){return Le;function Le(Ie){d.call(this,we(Ie),Ie),Te&&Te.call(this,Ie)}}function e(){this.stack.push({type:"fragment",children:[]})}function d(we,Te,Le){return this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Te,Le]),we.position={start:sh(Te.start)},we}function P(we){return Te;function Te(Le){we&&we.call(this,Le),n.call(this,Le)}}function n(we,Te){const Le=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==we.type&&(Te?Te.call(this,we,Ie[0]):(Ie[1]||d2).call(this,we,Ie[0]));else throw new Error("Cannot close `"+we.type+"` ("+fg({start:we.start,end:we.end})+"): it’s not open");return Le.position.end=sh(we.end),Le}function C(){return n7(this.stack.pop())}function x(){Se("expectingFirstListItemValue",!0)}function v(we){if(U("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(we),10),Se("expectingFirstListItemValue")}}function p(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=we}function r(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=we}function t(){U("flowCodeInside")||(this.buffer(),Se("flowCodeInside",!0))}function o(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),Se("flowCodeInside")}function a(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.value=we.replace(/(\r?\n|\r)$/g,"")}function u(we){const Te=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Te,Le.identifier=pd(this.sliceSerialize(we)).toLowerCase()}function f(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.title=we}function l(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.url=we}function y(we){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Le=this.sliceSerialize(we).length;Te.depth=Le}}function c(){Se("setextHeadingSlurpLineEnding",!0)}function T(we){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(we).charCodeAt(0)===61?1:2}function h(){Se("setextHeadingSlurpLineEnding")}function i(we){const Te=this.stack[this.stack.length-1];let Le=Te.children[Te.children.length-1];(!Le||Le.type!=="text")&&(Le=he(),Le.position={start:sh(we.start)},Te.children.push(Le)),this.stack.push(Le)}function g(we){const Te=this.stack.pop();Te.value+=this.sliceSerialize(we),Te.position.end=sh(we.end)}function b(we){const Te=this.stack[this.stack.length-1];if(U("atHardBreak")){const Le=Te.children[Te.children.length-1];Le.position.end=sh(we.end),Se("atHardBreak");return}!U("setextHeadingSlurpLineEnding")&&z.canContainEols.includes(Te.type)&&(i.call(this,we),g.call(this,we))}function A(){Se("atHardBreak",!0)}function R(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.value=we}function m(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.value=we}function L(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.value=we}function M(){const we=this.stack[this.stack.length-1];if(U("inReference")){const Te=U("referenceType")||"shortcut";we.type+="Reference",we.referenceType=Te,delete we.url,delete we.title}else delete we.identifier,delete we.label;Se("referenceType")}function s(){const we=this.stack[this.stack.length-1];if(U("inReference")){const Te=U("referenceType")||"shortcut";we.type+="Reference",we.referenceType=Te,delete we.url,delete we.title}else delete we.identifier,delete we.label;Se("referenceType")}function S(we){const Te=this.sliceSerialize(we),Le=this.stack[this.stack.length-2];Le.label=r9(Te),Le.identifier=pd(Te).toLowerCase()}function w(){const we=this.stack[this.stack.length-1],Te=this.resume(),Le=this.stack[this.stack.length-1];if(Se("inReference",!0),Le.type==="link"){const Ie=we.children;Le.children=Ie}else Le.alt=Te}function _(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.url=we}function I(){const we=this.resume(),Te=this.stack[this.stack.length-1];Te.title=we}function H(){Se("inReference")}function O(){Se("referenceType","collapsed")}function V(we){const Te=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Te,Le.identifier=pd(this.sliceSerialize(we)).toLowerCase(),Se("referenceType","full")}function B(we){Se("characterReferenceType",we.type)}function F(we){const Te=this.sliceSerialize(we),Le=U("characterReferenceType");let Ie;Le?(Ie=uA(Te,Le==="characterReferenceMarkerNumeric"?10:16),Se("characterReferenceType")):Ie=tb(Te);const ze=this.stack.pop();ze.value+=Ie,ze.position.end=sh(we.end)}function G(we){g.call(this,we);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(we)}function Y(we){g.call(this,we);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(we)}function Q(){return{type:"blockquote",children:[]}}function te(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oe(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function X(){return{type:"html",value:""}}function q(){return{type:"image",title:null,url:"",alt:null}}function le(){return{type:"link",title:null,url:"",children:[]}}function $(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function j(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ne(){return{type:"strong",children:[]}}function he(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function sh(E){return{line:E.line,column:E.column,offset:E.offset}}function cA(E,z){let Z=-1;for(;++Z<z.length;){const ue=z[Z];Array.isArray(ue)?cA(E,ue):o9(E,ue)}}function o9(E,z){let Z;for(Z in z)if(fA.call(z,Z)){if(Z==="canContainEols"){const ue=z[Z];ue&&E[Z].push(...ue)}else if(Z==="transforms"){const ue=z[Z];ue&&E[Z].push(...ue)}else if(Z==="enter"||Z==="exit"){const ue=z[Z];ue&&Object.assign(E[Z],ue)}}}function d2(E,z){throw E?new Error("Cannot close `"+E.type+"` ("+fg({start:E.start,end:E.end})+"): a different token (`"+z.type+"`, "+fg({start:z.start,end:z.end})+") is open"):new Error("Cannot close document, a token (`"+z.type+"`, "+fg({start:z.start,end:z.end})+") is still open")}function s9(E){Object.assign(this,{Parser:Z=>{const ue=this.data("settings");return a9(Z,Object.assign({},ue,E,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function l9(E,z){const Z={type:"element",tagName:"blockquote",properties:{},children:E.wrap(E.all(z),!0)};return E.patch(z,Z),E.applyData(z,Z)}function u9(E,z){const Z={type:"element",tagName:"br",properties:{},children:[]};return E.patch(z,Z),[E.applyData(z,Z),{type:"text",value:`
`}]}function f9(E,z){const Z=z.value?z.value+`
`:"",ue=z.lang?z.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,xe={};ue&&(xe.className=["language-"+ue]);let Se={type:"element",tagName:"code",properties:xe,children:[{type:"text",value:Z}]};return z.meta&&(Se.data={meta:z.meta}),E.patch(z,Se),Se=E.applyData(z,Se),Se={type:"element",tagName:"pre",properties:{},children:[Se]},E.patch(z,Se),Se}function c9(E,z){const Z={type:"element",tagName:"del",properties:{},children:E.all(z)};return E.patch(z,Z),E.applyData(z,Z)}function h9(E,z){const Z={type:"element",tagName:"em",properties:{},children:E.all(z)};return E.patch(z,Z),E.applyData(z,Z)}const p2=v9(/[\dA-Za-z]/);function v9(E){return z;function z(Z){return Z!==null&&E.test(String.fromCharCode(Z))}}function Rd(E){const z=[];let Z=-1,ue=0,xe=0;for(;++Z<E.length;){const Se=E.charCodeAt(Z);let U="";if(Se===37&&p2(E.charCodeAt(Z+1))&&p2(E.charCodeAt(Z+2)))xe=2;else if(Se<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(Se))||(U=String.fromCharCode(Se));else if(Se>55295&&Se<57344){const N=E.charCodeAt(Z+1);Se<56320&&N>56319&&N<57344?(U=String.fromCharCode(Se,N),xe=1):U="�"}else U=String.fromCharCode(Se);U&&(z.push(E.slice(ue,Z),encodeURIComponent(U)),ue=Z+xe+1,U=""),xe&&(Z+=xe,xe=0)}return z.join("")+E.slice(ue)}function hA(E,z){const Z=String(z.identifier).toUpperCase(),ue=Rd(Z.toLowerCase()),xe=E.footnoteOrder.indexOf(Z);let Se;xe===-1?(E.footnoteOrder.push(Z),E.footnoteCounts[Z]=1,Se=E.footnoteOrder.length):(E.footnoteCounts[Z]++,Se=xe+1);const U=E.footnoteCounts[Z],N={type:"element",tagName:"a",properties:{href:"#"+E.clobberPrefix+"fn-"+ue,id:E.clobberPrefix+"fnref-"+ue+(U>1?"-"+U:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(Se)}]};E.patch(z,N);const e={type:"element",tagName:"sup",properties:{},children:[N]};return E.patch(z,e),E.applyData(z,e)}function d9(E,z){const Z=E.footnoteById;let ue=1;for(;ue in Z;)ue++;const xe=String(ue);return Z[xe]={type:"footnoteDefinition",identifier:xe,children:[{type:"paragraph",children:z.children}],position:z.position},hA(E,{type:"footnoteReference",identifier:xe,position:z.position})}function p9(E,z){const Z={type:"element",tagName:"h"+z.depth,properties:{},children:E.all(z)};return E.patch(z,Z),E.applyData(z,Z)}function g9(E,z){if(E.dangerous){const Z={type:"raw",value:z.value};return E.patch(z,Z),E.applyData(z,Z)}return null}function vA(E,z){const Z=z.referenceType;let ue="]";if(Z==="collapsed"?ue+="[]":Z==="full"&&(ue+="["+(z.label||z.identifier)+"]"),z.type==="imageReference")return{type:"text",value:"!["+z.alt+ue};const xe=E.all(z),Se=xe[0];Se&&Se.type==="text"?Se.value="["+Se.value:xe.unshift({type:"text",value:"["});const U=xe[xe.length-1];return U&&U.type==="text"?U.value+=ue:xe.push({type:"text",value:ue}),xe}function y9(E,z){const Z=E.definition(z.identifier);if(!Z)return vA(E,z);const ue={src:Rd(Z.url||""),alt:z.alt};Z.title!==null&&Z.title!==void 0&&(ue.title=Z.title);const xe={type:"element",tagName:"img",properties:ue,children:[]};return E.patch(z,xe),E.applyData(z,xe)}function m9(E,z){const Z={src:Rd(z.url)};z.alt!==null&&z.alt!==void 0&&(Z.alt=z.alt),z.title!==null&&z.title!==void 0&&(Z.title=z.title);const ue={type:"element",tagName:"img",properties:Z,children:[]};return E.patch(z,ue),E.applyData(z,ue)}function x9(E,z){const Z={type:"text",value:z.value.replace(/\r?\n|\r/g," ")};E.patch(z,Z);const ue={type:"element",tagName:"code",properties:{},children:[Z]};return E.patch(z,ue),E.applyData(z,ue)}function b9(E,z){const Z=E.definition(z.identifier);if(!Z)return vA(E,z);const ue={href:Rd(Z.url||"")};Z.title!==null&&Z.title!==void 0&&(ue.title=Z.title);const xe={type:"element",tagName:"a",properties:ue,children:E.all(z)};return E.patch(z,xe),E.applyData(z,xe)}function w9(E,z){const Z={href:Rd(z.url)};z.title!==null&&z.title!==void 0&&(Z.title=z.title);const ue={type:"element",tagName:"a",properties:Z,children:E.all(z)};return E.patch(z,ue),E.applyData(z,ue)}function T9(E,z,Z){const ue=E.all(z),xe=Z?A9(Z):dA(z),Se={},U=[];if(typeof z.checked=="boolean"){const P=ue[0];let n;P&&P.type==="element"&&P.tagName==="p"?n=P:(n={type:"element",tagName:"p",properties:{},children:[]},ue.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:z.checked,disabled:!0},children:[]}),Se.className=["task-list-item"]}let N=-1;for(;++N<ue.length;){const P=ue[N];(xe||N!==0||P.type!=="element"||P.tagName!=="p")&&U.push({type:"text",value:`
`}),P.type==="element"&&P.tagName==="p"&&!xe?U.push(...P.children):U.push(P)}const e=ue[ue.length-1];e&&(xe||e.type!=="element"||e.tagName!=="p")&&U.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:Se,children:U};return E.patch(z,d),E.applyData(z,d)}function A9(E){let z=!1;if(E.type==="list"){z=E.spread||!1;const Z=E.children;let ue=-1;for(;!z&&++ue<Z.length;)z=dA(Z[ue])}return z}function dA(E){const z=E.spread;return z??E.children.length>1}function S9(E,z){const Z={},ue=E.all(z);let xe=-1;for(typeof z.start=="number"&&z.start!==1&&(Z.start=z.start);++xe<ue.length;){const U=ue[xe];if(U.type==="element"&&U.tagName==="li"&&U.properties&&Array.isArray(U.properties.className)&&U.properties.className.includes("task-list-item")){Z.className=["contains-task-list"];break}}const Se={type:"element",tagName:z.ordered?"ol":"ul",properties:Z,children:E.wrap(ue,!0)};return E.patch(z,Se),E.applyData(z,Se)}function M9(E,z){const Z={type:"element",tagName:"p",properties:{},children:E.all(z)};return E.patch(z,Z),E.applyData(z,Z)}function E9(E,z){const Z={type:"root",children:E.wrap(E.all(z))};return E.patch(z,Z),E.applyData(z,Z)}function C9(E,z){const Z={type:"element",tagName:"strong",properties:{},children:E.all(z)};return E.patch(z,Z),E.applyData(z,Z)}const nb=pA("start"),ab=pA("end");function L9(E){return{start:nb(E),end:ab(E)}}function pA(E){return z;function z(Z){const ue=Z&&Z.position&&Z.position[E]||{};return{line:ue.line||null,column:ue.column||null,offset:ue.offset>-1?ue.offset:null}}}function P9(E,z){const Z=E.all(z),ue=Z.shift(),xe=[];if(ue){const U={type:"element",tagName:"thead",properties:{},children:E.wrap([ue],!0)};E.patch(z.children[0],U),xe.push(U)}if(Z.length>0){const U={type:"element",tagName:"tbody",properties:{},children:E.wrap(Z,!0)},N=nb(z.children[1]),e=ab(z.children[z.children.length-1]);N.line&&e.line&&(U.position={start:N,end:e}),xe.push(U)}const Se={type:"element",tagName:"table",properties:{},children:E.wrap(xe,!0)};return E.patch(z,Se),E.applyData(z,Se)}function R9(E,z,Z){const ue=Z?Z.children:void 0,Se=(ue?ue.indexOf(z):1)===0?"th":"td",U=Z&&Z.type==="table"?Z.align:void 0,N=U?U.length:z.children.length;let e=-1;const d=[];for(;++e<N;){const n=z.children[e],C={},x=U?U[e]:void 0;x&&(C.align=x);let v={type:"element",tagName:Se,properties:C,children:[]};n&&(v.children=E.all(n),E.patch(n,v),v=E.applyData(z,v)),d.push(v)}const P={type:"element",tagName:"tr",properties:{},children:E.wrap(d,!0)};return E.patch(z,P),E.applyData(z,P)}function k9(E,z){const Z={type:"element",tagName:"td",properties:{},children:E.all(z)};return E.patch(z,Z),E.applyData(z,Z)}const g2=9,y2=32;function D9(E){const z=String(E),Z=/\r?\n|\r/g;let ue=Z.exec(z),xe=0;const Se=[];for(;ue;)Se.push(m2(z.slice(xe,ue.index),xe>0,!0),ue[0]),xe=ue.index+ue[0].length,ue=Z.exec(z);return Se.push(m2(z.slice(xe),xe>0,!1)),Se.join("")}function m2(E,z,Z){let ue=0,xe=E.length;if(z){let Se=E.codePointAt(ue);for(;Se===g2||Se===y2;)ue++,Se=E.codePointAt(ue)}if(Z){let Se=E.codePointAt(xe-1);for(;Se===g2||Se===y2;)xe--,Se=E.codePointAt(xe-1)}return xe>ue?E.slice(ue,xe):""}function I9(E,z){const Z={type:"text",value:D9(String(z.value))};return E.patch(z,Z),E.applyData(z,Z)}function _9(E,z){const Z={type:"element",tagName:"hr",properties:{},children:[]};return E.patch(z,Z),E.applyData(z,Z)}const z9={blockquote:l9,break:u9,code:f9,delete:c9,emphasis:h9,footnoteReference:hA,footnote:d9,heading:p9,html:g9,imageReference:y9,image:m9,inlineCode:x9,linkReference:b9,link:w9,listItem:T9,list:S9,paragraph:M9,root:E9,strong:C9,table:P9,tableCell:k9,tableRow:R9,text:I9,thematicBreak:_9,toml:W0,yaml:W0,definition:W0,footnoteDefinition:W0};function W0(){return null}const gA=function(E){if(E==null)return B9;if(typeof E=="string")return N9(E);if(typeof E=="object")return Array.isArray(E)?O9(E):F9(E);if(typeof E=="function")return ay(E);throw new Error("Expected function, string, or object as test")};function O9(E){const z=[];let Z=-1;for(;++Z<E.length;)z[Z]=gA(E[Z]);return ay(ue);function ue(...xe){let Se=-1;for(;++Se<z.length;)if(z[Se].call(this,...xe))return!0;return!1}}function F9(E){return ay(z);function z(Z){let ue;for(ue in E)if(Z[ue]!==E[ue])return!1;return!0}}function N9(E){return ay(z);function z(Z){return Z&&Z.type===E}}function ay(E){return z;function z(Z,...ue){return!!(Z&&typeof Z=="object"&&"type"in Z&&E.call(this,Z,...ue))}}function B9(){return!0}const U9=!0,x2=!1,H9="skip",V9=function(E,z,Z,ue){typeof z=="function"&&typeof Z!="function"&&(ue=Z,Z=z,z=null);const xe=gA(z),Se=ue?-1:1;U(E,void 0,[])();function U(N,e,d){const P=N&&typeof N=="object"?N:{};if(typeof P.type=="string"){const C=typeof P.tagName=="string"?P.tagName:typeof P.name=="string"?P.name:void 0;Object.defineProperty(n,"name",{value:"node ("+(N.type+(C?"<"+C+">":""))+")"})}return n;function n(){let C=[],x,v,p;if((!z||xe(N,e,d[d.length-1]||null))&&(C=G9(Z(N,d)),C[0]===x2))return C;if(N.children&&C[0]!==H9)for(v=(ue?N.children.length:-1)+Se,p=d.concat(N);v>-1&&v<N.children.length;){if(x=U(N.children[v],v,p)(),x[0]===x2)return x;v=typeof x[1]=="number"?x[1]:v+Se}return C}}};function G9(E){return Array.isArray(E)?E:typeof E=="number"?[U9,E]:[E]}const ib=function(E,z,Z,ue){typeof z=="function"&&typeof Z!="function"&&(ue=Z,Z=z,z=null),V9(E,z,xe,ue);function xe(Se,U){const N=U[U.length-1];return Z(Se,N?N.children.indexOf(Se):null,N)}};function W9(E){return!E||!E.position||!E.position.start||!E.position.start.line||!E.position.start.column||!E.position.end||!E.position.end.line||!E.position.end.column}const b2={}.hasOwnProperty;function j9(E){const z=Object.create(null);if(!E||!E.type)throw new Error("mdast-util-definitions expected node");return ib(E,"definition",ue=>{const xe=w2(ue.identifier);xe&&!b2.call(z,xe)&&(z[xe]=ue)}),Z;function Z(ue){const xe=w2(ue);return xe&&b2.call(z,xe)?z[xe]:null}}function w2(E){return String(E||"").toUpperCase()}const Og={}.hasOwnProperty;function Y9(E,z){const Z=z||{},ue=Z.allowDangerousHtml||!1,xe={};return U.dangerous=ue,U.clobberPrefix=Z.clobberPrefix===void 0||Z.clobberPrefix===null?"user-content-":Z.clobberPrefix,U.footnoteLabel=Z.footnoteLabel||"Footnotes",U.footnoteLabelTagName=Z.footnoteLabelTagName||"h2",U.footnoteLabelProperties=Z.footnoteLabelProperties||{className:["sr-only"]},U.footnoteBackLabel=Z.footnoteBackLabel||"Back to content",U.unknownHandler=Z.unknownHandler,U.passThrough=Z.passThrough,U.handlers={...z9,...Z.handlers},U.definition=j9(E),U.footnoteById=xe,U.footnoteOrder=[],U.footnoteCounts={},U.patch=X9,U.applyData=Z9,U.one=N,U.all=e,U.wrap=J9,U.augment=Se,ib(E,"footnoteDefinition",d=>{const P=String(d.identifier).toUpperCase();Og.call(xe,P)||(xe[P]=d)}),U;function Se(d,P){if(d&&"data"in d&&d.data){const n=d.data;n.hName&&(P.type!=="element"&&(P={type:"element",tagName:"",properties:{},children:[]}),P.tagName=n.hName),P.type==="element"&&n.hProperties&&(P.properties={...P.properties,...n.hProperties}),"children"in P&&P.children&&n.hChildren&&(P.children=n.hChildren)}if(d){const n="type"in d?d:{position:d};W9(n)||(P.position={start:nb(n),end:ab(n)})}return P}function U(d,P,n,C){return Array.isArray(n)&&(C=n,n={}),Se(d,{type:"element",tagName:P,properties:n||{},children:C||[]})}function N(d,P){return yA(U,d,P)}function e(d){return ob(U,d)}}function X9(E,z){E.position&&(z.position=L9(E))}function Z9(E,z){let Z=z;if(E&&E.data){const ue=E.data.hName,xe=E.data.hChildren,Se=E.data.hProperties;typeof ue=="string"&&(Z.type==="element"?Z.tagName=ue:Z={type:"element",tagName:ue,properties:{},children:[]}),Z.type==="element"&&Se&&(Z.properties={...Z.properties,...Se}),"children"in Z&&Z.children&&xe!==null&&xe!==void 0&&(Z.children=xe)}return Z}function yA(E,z,Z){const ue=z&&z.type;if(!ue)throw new Error("Expected node, got `"+z+"`");return Og.call(E.handlers,ue)?E.handlers[ue](E,z,Z):E.passThrough&&E.passThrough.includes(ue)?"children"in z?{...z,children:ob(E,z)}:z:E.unknownHandler?E.unknownHandler(E,z,Z):K9(E,z)}function ob(E,z){const Z=[];if("children"in z){const ue=z.children;let xe=-1;for(;++xe<ue.length;){const Se=yA(E,ue[xe],z);if(Se){if(xe&&ue[xe-1].type==="break"&&(!Array.isArray(Se)&&Se.type==="text"&&(Se.value=Se.value.replace(/^\s+/,"")),!Array.isArray(Se)&&Se.type==="element")){const U=Se.children[0];U&&U.type==="text"&&(U.value=U.value.replace(/^\s+/,""))}Array.isArray(Se)?Z.push(...Se):Z.push(Se)}}}return Z}function K9(E,z){const Z=z.data||{},ue="value"in z&&!(Og.call(Z,"hProperties")||Og.call(Z,"hChildren"))?{type:"text",value:z.value}:{type:"element",tagName:"div",properties:{},children:ob(E,z)};return E.patch(z,ue),E.applyData(z,ue)}function J9(E,z){const Z=[];let ue=-1;for(z&&Z.push({type:"text",value:`
`});++ue<E.length;)ue&&Z.push({type:"text",value:`
`}),Z.push(E[ue]);return z&&E.length>0&&Z.push({type:"text",value:`
`}),Z}function Q9(E){const z=[];let Z=-1;for(;++Z<E.footnoteOrder.length;){const ue=E.footnoteById[E.footnoteOrder[Z]];if(!ue)continue;const xe=E.all(ue),Se=String(ue.identifier).toUpperCase(),U=Rd(Se.toLowerCase());let N=0;const e=[];for(;++N<=E.footnoteCounts[Se];){const n={type:"element",tagName:"a",properties:{href:"#"+E.clobberPrefix+"fnref-"+U+(N>1?"-"+N:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:E.footnoteBackLabel},children:[{type:"text",value:"↩"}]};N>1&&n.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(N)}]}),e.length>0&&e.push({type:"text",value:" "}),e.push(n)}const d=xe[xe.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const n=d.children[d.children.length-1];n&&n.type==="text"?n.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...e)}else xe.push(...e);const P={type:"element",tagName:"li",properties:{id:E.clobberPrefix+"fn-"+U},children:E.wrap(xe,!0)};E.patch(ue,P),z.push(P)}if(z.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:E.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(E.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:E.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:E.wrap(z,!0)},{type:"text",value:`
`}]}}function mA(E,z){const Z=Y9(E,z),ue=Z.one(E,null),xe=Q9(Z);return xe&&ue.children.push({type:"text",value:`
`},xe),Array.isArray(ue)?{type:"root",children:ue}:ue}const $9=function(E,z){return E&&"run"in E?q9(E,z):eR(E||z)};function q9(E,z){return(Z,ue,xe)=>{E.run(mA(Z,z),ue,Se=>{xe(Se)})}}function eR(E){return z=>mA(z,E)}class Qp{constructor(z,Z,ue){this.property=z,this.normal=Z,ue&&(this.space=ue)}}Qp.prototype.property={};Qp.prototype.normal={};Qp.prototype.space=null;function xA(E,z){const Z={},ue={};let xe=-1;for(;++xe<E.length;)Object.assign(Z,E[xe].property),Object.assign(ue,E[xe].normal);return new Qp(Z,ue,z)}function B1(E){return E.toLowerCase()}class Su{constructor(z,Z){this.property=z,this.attribute=Z}}Su.prototype.space=null;Su.prototype.boolean=!1;Su.prototype.booleanish=!1;Su.prototype.overloadedBoolean=!1;Su.prototype.number=!1;Su.prototype.commaSeparated=!1;Su.prototype.spaceSeparated=!1;Su.prototype.commaOrSpaceSeparated=!1;Su.prototype.mustUseProperty=!1;Su.prototype.defined=!1;let tR=0;const ui=wv(),Jo=wv(),bA=wv(),ba=wv(),Qi=wv(),gd=wv(),Bl=wv();function wv(){return 2**++tR}const U1=Object.freeze(Object.defineProperty({__proto__:null,boolean:ui,booleanish:Jo,commaOrSpaceSeparated:Bl,commaSeparated:gd,number:ba,overloadedBoolean:bA,spaceSeparated:Qi},Symbol.toStringTag,{value:"Module"})),Cm=Object.keys(U1);class sb extends Su{constructor(z,Z,ue,xe){let Se=-1;if(super(z,Z),T2(this,"space",xe),typeof ue=="number")for(;++Se<Cm.length;){const U=Cm[Se];T2(this,Cm[Se],(ue&U1[U])===U1[U])}}}sb.prototype.defined=!0;function T2(E,z,Z){Z&&(E[z]=Z)}const rR={}.hasOwnProperty;function kd(E){const z={},Z={};let ue;for(ue in E.properties)if(rR.call(E.properties,ue)){const xe=E.properties[ue],Se=new sb(ue,E.transform(E.attributes||{},ue),xe,E.space);E.mustUseProperty&&E.mustUseProperty.includes(ue)&&(Se.mustUseProperty=!0),z[ue]=Se,Z[B1(ue)]=ue,Z[B1(Se.attribute)]=ue}return new Qp(z,Z,E.space)}const wA=kd({space:"xlink",transform(E,z){return"xlink:"+z.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),TA=kd({space:"xml",transform(E,z){return"xml:"+z.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function AA(E,z){return z in E?E[z]:z}function SA(E,z){return AA(E,z.toLowerCase())}const MA=kd({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:SA,properties:{xmlns:null,xmlnsXLink:null}}),EA=kd({transform(E,z){return z==="role"?z:"aria-"+z.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Jo,ariaAutoComplete:null,ariaBusy:Jo,ariaChecked:Jo,ariaColCount:ba,ariaColIndex:ba,ariaColSpan:ba,ariaControls:Qi,ariaCurrent:null,ariaDescribedBy:Qi,ariaDetails:null,ariaDisabled:Jo,ariaDropEffect:Qi,ariaErrorMessage:null,ariaExpanded:Jo,ariaFlowTo:Qi,ariaGrabbed:Jo,ariaHasPopup:null,ariaHidden:Jo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qi,ariaLevel:ba,ariaLive:null,ariaModal:Jo,ariaMultiLine:Jo,ariaMultiSelectable:Jo,ariaOrientation:null,ariaOwns:Qi,ariaPlaceholder:null,ariaPosInSet:ba,ariaPressed:Jo,ariaReadOnly:Jo,ariaRelevant:null,ariaRequired:Jo,ariaRoleDescription:Qi,ariaRowCount:ba,ariaRowIndex:ba,ariaRowSpan:ba,ariaSelected:Jo,ariaSetSize:ba,ariaSort:null,ariaValueMax:ba,ariaValueMin:ba,ariaValueNow:ba,ariaValueText:null,role:null}}),nR=kd({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:SA,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gd,acceptCharset:Qi,accessKey:Qi,action:null,allow:null,allowFullScreen:ui,allowPaymentRequest:ui,allowUserMedia:ui,alt:null,as:null,async:ui,autoCapitalize:null,autoComplete:Qi,autoFocus:ui,autoPlay:ui,blocking:Qi,capture:null,charSet:null,checked:ui,cite:null,className:Qi,cols:ba,colSpan:null,content:null,contentEditable:Jo,controls:ui,controlsList:Qi,coords:ba|gd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ui,defer:ui,dir:null,dirName:null,disabled:ui,download:bA,draggable:Jo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ui,formTarget:null,headers:Qi,height:ba,hidden:ui,high:ba,href:null,hrefLang:null,htmlFor:Qi,httpEquiv:Qi,id:null,imageSizes:null,imageSrcSet:null,inert:ui,inputMode:null,integrity:null,is:null,isMap:ui,itemId:null,itemProp:Qi,itemRef:Qi,itemScope:ui,itemType:Qi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ui,low:ba,manifest:null,max:null,maxLength:ba,media:null,method:null,min:null,minLength:ba,multiple:ui,muted:ui,name:null,nonce:null,noModule:ui,noValidate:ui,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ui,optimum:ba,pattern:null,ping:Qi,placeholder:null,playsInline:ui,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ui,referrerPolicy:null,rel:Qi,required:ui,reversed:ui,rows:ba,rowSpan:ba,sandbox:Qi,scope:null,scoped:ui,seamless:ui,selected:ui,shadowRootClonable:ui,shadowRootDelegatesFocus:ui,shadowRootMode:null,shape:null,size:ba,sizes:null,slot:null,span:ba,spellCheck:Jo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ba,step:null,style:null,tabIndex:ba,target:null,title:null,translate:null,type:null,typeMustMatch:ui,useMap:null,value:Jo,width:ba,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qi,axis:null,background:null,bgColor:null,border:ba,borderColor:null,bottomMargin:ba,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ui,declare:ui,event:null,face:null,frame:null,frameBorder:null,hSpace:ba,leftMargin:ba,link:null,longDesc:null,lowSrc:null,marginHeight:ba,marginWidth:ba,noResize:ui,noHref:ui,noShade:ui,noWrap:ui,object:null,profile:null,prompt:null,rev:null,rightMargin:ba,rules:null,scheme:null,scrolling:Jo,standby:null,summary:null,text:null,topMargin:ba,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ba,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ui,disableRemotePlayback:ui,prefix:null,property:null,results:ba,security:null,unselectable:null}}),aR=kd({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:AA,properties:{about:Bl,accentHeight:ba,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ba,amplitude:ba,arabicForm:null,ascent:ba,attributeName:null,attributeType:null,azimuth:ba,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ba,by:null,calcMode:null,capHeight:ba,className:Qi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ba,diffuseConstant:ba,direction:null,display:null,dur:null,divisor:ba,dominantBaseline:null,download:ui,dx:null,dy:null,edgeMode:null,editable:null,elevation:ba,enableBackground:null,end:null,event:null,exponent:ba,externalResourcesRequired:null,fill:null,fillOpacity:ba,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gd,g2:gd,glyphName:gd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ba,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ba,horizOriginX:ba,horizOriginY:ba,id:null,ideographic:ba,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ba,k:ba,k1:ba,k2:ba,k3:ba,k4:ba,kernelMatrix:Bl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ba,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ba,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ba,overlineThickness:ba,paintOrder:null,panose1:null,path:null,pathLength:ba,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ba,pointsAtY:ba,pointsAtZ:ba,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bl,rev:Bl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bl,requiredFeatures:Bl,requiredFonts:Bl,requiredFormats:Bl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ba,specularExponent:ba,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ba,strikethroughThickness:ba,string:null,stroke:null,strokeDashArray:Bl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ba,strokeOpacity:ba,strokeWidth:null,style:null,surfaceScale:ba,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bl,tabIndex:ba,tableValues:null,target:null,targetX:ba,targetY:ba,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ba,underlineThickness:ba,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ba,values:null,vAlphabetic:ba,vMathematical:ba,vectorEffect:null,vHanging:ba,vIdeographic:ba,version:null,vertAdvY:ba,vertOriginX:ba,vertOriginY:ba,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ba,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),iR=/^data[-\w.:]+$/i,A2=/-[a-z]/g,oR=/[A-Z]/g;function sR(E,z){const Z=B1(z);let ue=z,xe=Su;if(Z in E.normal)return E.property[E.normal[Z]];if(Z.length>4&&Z.slice(0,4)==="data"&&iR.test(z)){if(z.charAt(4)==="-"){const Se=z.slice(5).replace(A2,uR);ue="data"+Se.charAt(0).toUpperCase()+Se.slice(1)}else{const Se=z.slice(4);if(!A2.test(Se)){let U=Se.replace(oR,lR);U.charAt(0)!=="-"&&(U="-"+U),z="data"+U}}xe=sb}return new xe(ue,z)}function lR(E){return"-"+E.toLowerCase()}function uR(E){return E.charAt(1).toUpperCase()}const S2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fR=xA([TA,wA,MA,EA,nR],"html"),cR=xA([TA,wA,MA,EA,aR],"svg");function hR(E){if(E.allowedElements&&E.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(E.allowedElements||E.disallowedElements||E.allowElement)return z=>{ib(z,"element",(Z,ue,xe)=>{const Se=xe;let U;if(E.allowedElements?U=!E.allowedElements.includes(Z.tagName):E.disallowedElements&&(U=E.disallowedElements.includes(Z.tagName)),!U&&E.allowElement&&typeof ue=="number"&&(U=!E.allowElement(Z,ue,Se)),U&&typeof ue=="number")return E.unwrapDisallowed&&Z.children?Se.children.splice(ue,1,...Z.children):Se.children.splice(ue,1),ue})}}var CA={exports:{}},Ui={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=Symbol.for("react.element"),ub=Symbol.for("react.portal"),iy=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),ly=Symbol.for("react.provider"),uy=Symbol.for("react.context"),vR=Symbol.for("react.server_context"),fy=Symbol.for("react.forward_ref"),cy=Symbol.for("react.suspense"),hy=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),dy=Symbol.for("react.lazy"),dR=Symbol.for("react.offscreen"),LA;LA=Symbol.for("react.module.reference");function Mu(E){if(typeof E=="object"&&E!==null){var z=E.$$typeof;switch(z){case lb:switch(E=E.type,E){case iy:case sy:case oy:case cy:case hy:return E;default:switch(E=E&&E.$$typeof,E){case vR:case uy:case fy:case dy:case vy:case ly:return E;default:return z}}case ub:return z}}}Ui.ContextConsumer=uy;Ui.ContextProvider=ly;Ui.Element=lb;Ui.ForwardRef=fy;Ui.Fragment=iy;Ui.Lazy=dy;Ui.Memo=vy;Ui.Portal=ub;Ui.Profiler=sy;Ui.StrictMode=oy;Ui.Suspense=cy;Ui.SuspenseList=hy;Ui.isAsyncMode=function(){return!1};Ui.isConcurrentMode=function(){return!1};Ui.isContextConsumer=function(E){return Mu(E)===uy};Ui.isContextProvider=function(E){return Mu(E)===ly};Ui.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===lb};Ui.isForwardRef=function(E){return Mu(E)===fy};Ui.isFragment=function(E){return Mu(E)===iy};Ui.isLazy=function(E){return Mu(E)===dy};Ui.isMemo=function(E){return Mu(E)===vy};Ui.isPortal=function(E){return Mu(E)===ub};Ui.isProfiler=function(E){return Mu(E)===sy};Ui.isStrictMode=function(E){return Mu(E)===oy};Ui.isSuspense=function(E){return Mu(E)===cy};Ui.isSuspenseList=function(E){return Mu(E)===hy};Ui.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===iy||E===sy||E===oy||E===cy||E===hy||E===dR||typeof E=="object"&&E!==null&&(E.$$typeof===dy||E.$$typeof===vy||E.$$typeof===ly||E.$$typeof===uy||E.$$typeof===fy||E.$$typeof===LA||E.getModuleId!==void 0)};Ui.typeOf=Mu;CA.exports=Ui;var pR=CA.exports;const gR=wc(pR);function yR(E){const z=E&&typeof E=="object"&&E.type==="text"?E.value||"":E;return typeof z=="string"&&z.replace(/[ \t\n\f\r]/g,"")===""}function mR(E){return E.join(" ").trim()}function xR(E,z){const Z={};return(E[E.length-1]===""?[...E,""]:E).join((Z.padRight?" ":"")+","+(Z.padLeft===!1?"":" ")).trim()}var fb={exports:{}},M2=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,bR=/\n/g,wR=/^\s*/,TR=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,AR=/^:\s*/,SR=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,MR=/^[;\s]*/,ER=/^\s+|\s+$/g,CR=`
`,E2="/",C2="*",ov="",LR="comment",PR="declaration",RR=function(E,z){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];z=z||{};var Z=1,ue=1;function xe(v){var p=v.match(bR);p&&(Z+=p.length);var r=v.lastIndexOf(CR);ue=~r?v.length-r:ue+v.length}function Se(){var v={line:Z,column:ue};return function(p){return p.position=new U(v),d(),p}}function U(v){this.start=v,this.end={line:Z,column:ue},this.source=z.source}U.prototype.content=E;function N(v){var p=new Error(z.source+":"+Z+":"+ue+": "+v);if(p.reason=v,p.filename=z.source,p.line=Z,p.column=ue,p.source=E,!z.silent)throw p}function e(v){var p=v.exec(E);if(p){var r=p[0];return xe(r),E=E.slice(r.length),p}}function d(){e(wR)}function P(v){var p;for(v=v||[];p=n();)p!==!1&&v.push(p);return v}function n(){var v=Se();if(!(E2!=E.charAt(0)||C2!=E.charAt(1))){for(var p=2;ov!=E.charAt(p)&&(C2!=E.charAt(p)||E2!=E.charAt(p+1));)++p;if(p+=2,ov===E.charAt(p-1))return N("End of comment missing");var r=E.slice(2,p-2);return ue+=2,xe(r),E=E.slice(p),ue+=2,v({type:LR,comment:r})}}function C(){var v=Se(),p=e(TR);if(p){if(n(),!e(AR))return N("property missing ':'");var r=e(SR),t=v({type:PR,property:L2(p[0].replace(M2,ov)),value:r?L2(r[0].replace(M2,ov)):ov});return e(MR),t}}function x(){var v=[];P(v);for(var p;p=C();)p!==!1&&(v.push(p),P(v));return v}return d(),x()};function L2(E){return E?E.replace(ER,ov):ov}var kR=RR;function PA(E,z){var Z=null;if(!E||typeof E!="string")return Z;for(var ue,xe=kR(E),Se=typeof z=="function",U,N,e=0,d=xe.length;e<d;e++)ue=xe[e],U=ue.property,N=ue.value,Se?z(U,N,ue):N&&(Z||(Z={}),Z[U]=N);return Z}fb.exports=PA;fb.exports.default=PA;var DR=fb.exports;const IR=wc(DR),H1={}.hasOwnProperty,_R=new Set(["table","thead","tbody","tfoot","tr"]);function RA(E,z){const Z=[];let ue=-1,xe;for(;++ue<z.children.length;)xe=z.children[ue],xe.type==="element"?Z.push(zR(E,xe,ue,z)):xe.type==="text"?(z.type!=="element"||!_R.has(z.tagName)||!yR(xe))&&Z.push(xe.value):xe.type==="raw"&&!E.options.skipHtml&&Z.push(xe.value);return Z}function zR(E,z,Z,ue){const xe=E.options,Se=xe.transformLinkUri===void 0?zL:xe.transformLinkUri,U=E.schema,N=z.tagName,e={};let d=U,P;if(U.space==="html"&&N==="svg"&&(d=cR,E.schema=d),z.properties)for(P in z.properties)H1.call(z.properties,P)&&FR(e,P,z.properties[P],E);(N==="ol"||N==="ul")&&E.listDepth++;const n=RA(E,z);(N==="ol"||N==="ul")&&E.listDepth--,E.schema=U;const C=z.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},x=xe.components&&H1.call(xe.components,N)?xe.components[N]:N,v=typeof x=="string"||x===ja.Fragment;if(!gR.isValidElementType(x))throw new TypeError(`Component for name \`${N}\` not defined or is not renderable`);if(e.key=Z,N==="a"&&xe.linkTarget&&(e.target=typeof xe.linkTarget=="function"?xe.linkTarget(String(e.href||""),z.children,typeof e.title=="string"?e.title:null):xe.linkTarget),N==="a"&&Se&&(e.href=Se(String(e.href||""),z.children,typeof e.title=="string"?e.title:null)),!v&&N==="code"&&ue.type==="element"&&ue.tagName!=="pre"&&(e.inline=!0),!v&&(N==="h1"||N==="h2"||N==="h3"||N==="h4"||N==="h5"||N==="h6")&&(e.level=Number.parseInt(N.charAt(1),10)),N==="img"&&xe.transformImageUri&&(e.src=xe.transformImageUri(String(e.src||""),String(e.alt||""),typeof e.title=="string"?e.title:null)),!v&&N==="li"&&ue.type==="element"){const p=OR(z);e.checked=p&&p.properties?!!p.properties.checked:null,e.index=Lm(ue,z),e.ordered=ue.tagName==="ol"}return!v&&(N==="ol"||N==="ul")&&(e.ordered=N==="ol",e.depth=E.listDepth),(N==="td"||N==="th")&&(e.align&&(e.style||(e.style={}),e.style.textAlign=e.align,delete e.align),v||(e.isHeader=N==="th")),!v&&N==="tr"&&ue.type==="element"&&(e.isHeader=ue.tagName==="thead"),xe.sourcePos&&(e["data-sourcepos"]=UR(C)),!v&&xe.rawSourcePos&&(e.sourcePosition=z.position),!v&&xe.includeElementIndex&&(e.index=Lm(ue,z),e.siblingCount=Lm(ue)),v||(e.node=z),n.length>0?ja.createElement(x,e,n):ja.createElement(x,e)}function OR(E){let z=-1;for(;++z<E.children.length;){const Z=E.children[z];if(Z.type==="element"&&Z.tagName==="input")return Z}return null}function Lm(E,z){let Z=-1,ue=0;for(;++Z<E.children.length&&E.children[Z]!==z;)E.children[Z].type==="element"&&ue++;return ue}function FR(E,z,Z,ue){const xe=sR(ue.schema,z);let Se=Z;Se==null||Se!==Se||(Array.isArray(Se)&&(Se=xe.commaSeparated?xR(Se):mR(Se)),xe.property==="style"&&typeof Se=="string"&&(Se=NR(Se)),xe.space&&xe.property?E[H1.call(S2,xe.property)?S2[xe.property]:xe.property]=Se:xe.attribute&&(E[xe.attribute]=Se))}function NR(E){const z={};try{IR(E,Z)}catch{}return z;function Z(ue,xe){const Se=ue.slice(0,4)==="-ms-"?`ms-${ue.slice(4)}`:ue;z[Se.replace(/-([a-z])/g,BR)]=xe}}function BR(E,z){return z.toUpperCase()}function UR(E){return[E.start.line,":",E.start.column,"-",E.end.line,":",E.end.column].map(String).join("")}const P2={}.hasOwnProperty,HR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",j0={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function mv(E){for(const Se in j0)if(P2.call(j0,Se)&&P2.call(E,Se)){const U=j0[Se];console.warn(`[react-markdown] Warning: please ${U.to?`use \`${U.to}\` instead of`:"remove"} \`${Se}\` (see <${HR}#${U.id}> for more info)`),delete j0[Se]}const z=$L().use(s9).use(E.remarkPlugins||[]).use($9,{...E.remarkRehypeOptions,allowDangerousHtml:!0}).use(E.rehypePlugins||[]).use(hR,E),Z=new K5;typeof E.children=="string"?Z.value=E.children:E.children!==void 0&&E.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${E.children}\`)`);const ue=z.runSync(z.parse(Z),Z);if(ue.type!=="root")throw new TypeError("Expected a `root` node");let xe=ja.createElement(ja.Fragment,{},RA({options:E,schema:fR,listDepth:0},ue));return E.className&&(xe=ja.createElement("div",{className:E.className},xe)),xe}mv.propTypes={children:Xa.string,className:Xa.string,allowElement:Xa.func,allowedElements:Xa.arrayOf(Xa.string),disallowedElements:Xa.arrayOf(Xa.string),unwrapDisallowed:Xa.bool,remarkPlugins:Xa.arrayOf(Xa.oneOfType([Xa.object,Xa.func,Xa.arrayOf(Xa.oneOfType([Xa.bool,Xa.string,Xa.object,Xa.func,Xa.arrayOf(Xa.any)]))])),rehypePlugins:Xa.arrayOf(Xa.oneOfType([Xa.object,Xa.func,Xa.arrayOf(Xa.oneOfType([Xa.bool,Xa.string,Xa.object,Xa.func,Xa.arrayOf(Xa.any)]))])),sourcePos:Xa.bool,rawSourcePos:Xa.bool,skipHtml:Xa.bool,includeElementIndex:Xa.bool,transformLinkUri:Xa.oneOfType([Xa.func,Xa.bool]),linkTarget:Xa.oneOfType([Xa.func,Xa.string]),transformImageUri:Xa.func,components:Xa.object};const VR=()=>{const[E,z]=Fn.useState(!0),[Z,ue]=Fn.useState("This is a page for notes, click the save icon to export to a text file"),xe=()=>{z(N=>!N)},Se=N=>{ue(N.target.value)},U=()=>{const N=new Blob([Z],{type:"text/plain;charset=utf-8"}),e=window.URL.createObjectURL(N),d=document.createElement("a");d.href=e,d.download="Notes.txt",d.click(),window.URL.revokeObjectURL(e)};return Ir.jsx(dd,{children:Ir.jsx("div",{className:`post-it-note ${E?"minimized":""}`,style:{padding:"10px",paddingTop:"0px",paddingBottom:"0px"},children:Ir.jsxs(pc,{children:[Ir.jsx("div",{className:"post-it-header",children:Ir.jsxs(Li,{className:"align-items-center",children:[Ir.jsx(Ja,{className:"d-flex justify-content-start",children:Ir.jsx("span",{children:"Notes"})}),Ir.jsxs(Ja,{className:"d-flex justify-content-end",children:[Ir.jsx(ti,{id:"save-btn",variant:"light",onClick:U,children:"💾"}),Ir.jsx(ti,{id:"minimize-btn",variant:"light",onClick:xe,children:E?"+":"-"})]})]})}),Ir.jsx(Li,{children:!E&&Ir.jsx("textarea",{className:"post-it-body",value:Z,onChange:Se,rows:10,style:{width:"30vw",backgroundColor:"white",color:"black"}})})]})})})},Ho="http://192.168.0.64:8000",GR={USER_NAME:"Alan",USER_DOB:"2012",USER_AGE:21,USER_SEX:"M",SESSION_DATE:"2012",TIME_SINCE:"2012",SESSION_ID:52418964157,PLAYER_ID:15241868411},WR=()=>{const[E,z]=Fn.useState(GR),[Z,ue]=Fn.useState(null),[xe,Se]=Fn.useState(!1),U=()=>{Se(N=>!N)};return Fn.useEffect(()=>{fetch(`${Ho}/get-UserData`).then(N=>N.json()).then(N=>z(N)).catch(N=>console.error("Error fetching user data:",N)),fetch(`${Ho}/get-HeaderLabels`).then(N=>N.json()).then(N=>ue(N)).catch(N=>console.error("Error fetching header labels:",N))},[]),Z?Ir.jsxs("div",{className:"UserInfo",children:[Ir.jsx(pc,{children:Ir.jsxs(Li,{children:[Ir.jsx(Ja,{className:"col-3",children:Ir.jsx("h1",{style:{fontWeight:"bold",fontSize:64},children:E.USER_NAME})}),Ir.jsx(Ja,{className:"col-3",children:Ir.jsxs("p",{children:[Z.DEMOGRAPHICS.DOB,": ",Ir.jsx("b",{children:E.USER_DOB})," ",Ir.jsx("br",{}),Z.DEMOGRAPHICS.AGE,": ",Ir.jsx("b",{children:E.USER_AGE})," ",Ir.jsx("br",{}),Z.DEMOGRAPHICS.SEX,": ",Ir.jsx("b",{children:E.USER_SEX})]})}),Ir.jsx(Ja,{className:"col-4",children:Ir.jsxs("p",{children:[Z.DEMOGRAPHICS.SESS_DATE,": ",Ir.jsx("b",{children:E.SESSION_DATE})," (",E.TIME_SINCE," months ago) ",Ir.jsx("br",{}),Z.DEMOGRAPHICS.SESS_ID,": ",Ir.jsx("b",{children:E.SESSION_ID})," ",Ir.jsx("br",{}),Z.DEMOGRAPHICS.PLAYER_ID,": ",Ir.jsx("b",{children:E.PLAYER_ID})]})}),Ir.jsx(Ja,{className:"col-2",style:{alignSelf:"flex-start"},children:Ir.jsxs(Gp,{gap:1,children:[Ir.jsx(ti,{variant:"dark",children:Z.BUTTONS.PRINT_REPORT}),Ir.jsx(ti,{variant:"dark",children:Z.BUTTONS.ADD_SESSION})]})})]})}),Ir.jsxs("div",{style:{position:"fixed",right:xe?"auto":"10px",left:xe?"10px":"auto",bottom:"10px",zIndex:1e3},children:[Ir.jsx(ti,{className:`arrow-btn ${xe?"right":"left"} no-underline`,onClick:U,variant:"link",style:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:xe?"-10px":"auto",left:xe?"auto":"-10px",zIndex:1001},children:xe?"→":"←"}),Ir.jsx(VR,{})]})]}):Ir.jsx("div",{children:"Loading..."})},jR=()=>{const[E,z]=Fn.useState(null),[Z,ue]=Fn.useState(null),[xe,Se]=Fn.useState(null),[U,N]=Fn.useState(null),[e,d]=Fn.useState({}),[P,n]=Fn.useState(!1),[C,x]=Fn.useState({}),[v,p]=Fn.useState(!0),[r,t]=Fn.useState(!1),[o,a]=Fn.useState(!1),[u,f]=Fn.useState(!0),[l,y]=Fn.useState(!1),[c,T]=Fn.useState(!1),[h,i]=Fn.useState(!0),[g,b]=Fn.useState(!1),[A,R]=Fn.useState(!1),[m,L]=Fn.useState(!0),[M,s]=Fn.useState(!1),[S,w]=Fn.useState(!1),[_,I]=Fn.useState(!0),[H,O]=Fn.useState(!1),[V,B]=Fn.useState(!1),[F,G]=Fn.useState(!1),[Y,Q]=Fn.useState(!1);if(Fn.useEffect(()=>{fetch(Ho+"/get-UserMetrics").then(X=>X.json()).then(X=>z(X)).catch(X=>console.error("Error fetching user metrics:",X)),fetch(Ho+"/get-HeaderLabels").then(X=>X.json()).then(X=>ue(X)).catch(X=>console.error("Error fetching data:",X)),fetch(Ho+"/get-AdviceIntro").then(X=>X.json()).then(X=>N(X)).catch(X=>console.error("Error fetching data:",X)),fetch(Ho+"/get-adviceLabels").then(X=>X.json()).then(X=>Se(X)).catch(X=>console.error("Error fetching data:",X)),(async()=>{try{const q=await(await fetch(Ho+"/get-Advice")).json();d(q);const le=Object.keys(q).reduce(($,j)=>($[j]=!1,$),{});x(le)}catch(X){console.error("Error fetching advice data:",X)}})()},[]),!e||!E||!Z||!xe||!U)return Ir.jsx("div",{children:"Loading..."});const te=(ee,X)=>{x(q=>({...q,[ee]:X}))},ae=()=>{I(!0),O(!1),B(!1),G(!1),Q(!1)},fe=ee=>{I(!1),ee(X=>!X)},oe=()=>{n(!1),ae(),p(!0),t(!1),a(!1),f(!0),y(!1),T(!1),i(!0),b(!1),R(!1),L(!0),s(!1),w(!1)},J=Object.entries(e).filter(([ee,X])=>{const q=!P||P&&C[ee],le=v||r&&X["MDS/Planning"]===1||o&&X["MDS/Planning"]===2,$=u||l&&X["TACR/Adaptability"]===1||c&&X["TACR/Adaptability"]===2,j=h||g&&X["SAD/Inhibition"]===1||A&&X["SAD/Inhibition"]===2,se=m||M&&X["SAV/WorkingMemory"]===1||S&&X["SAV/WorkingMemory"]===2,ne=le&&$&&j&&se,he=_||H||V||F||Y?_||H&&X["Getting Ready"]>=1||V&&X.Academics>=1||F&&X["Friends/Family"]>=1||Y&&X.Bedtime>=1:!0;return q&&ne&&he});return Ir.jsxs("div",{children:[Ir.jsx("h1",{style:{fontWeight:"bold",fontSize:40,textAlign:"center"},children:Z.SECTION_NAMES.FOR_DOCTORS}),Ir.jsx("div",{children:U.INTRO.map((ee,X)=>Ir.jsx(mv,{children:ee},X))}),Ir.jsxs(pc,{fluid:!0,children:[Ir.jsx(Li,{children:Ir.jsx("h4",{children:xe.SHOW.BOOKMARK})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{children:Ir.jsx(ti,{variant:P?"outline-info":"info",onClick:()=>n(!1),style:{width:"20vw"},children:xe.SHOW.ALL})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{variant:P?"info":"outline-info",onClick:()=>n(!0),style:{width:"20vw"},children:xe.SHOW.KEPT})})]}),Ir.jsx(Li,{children:Ir.jsxs("h5",{children:[E.MDS.metricLayman," (MDS)"]})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{p(!0),t(!1),a(!1)},variant:v?"info":"outline-info",style:{width:"12vw"},children:xe.N_A.replace("//","/")})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{p(!1),t(!0),a(!1)},variant:r?"info":"outline-info",style:{width:"12vw"},children:xe.LOW})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{p(!1),t(!1),a(!0)},variant:o?"info":"outline-info",style:{width:"12vw"},children:xe.HIGH})})]}),Ir.jsx(Li,{children:Ir.jsxs("h5",{children:[E.TACR.metricLayman," (TACR)"]})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{f(!0),y(!1),T(!1)},variant:u?"info":"outline-info",style:{width:"12vw"},children:xe.N_A.replace("//","/")})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{f(!1),y(!0),T(!1)},variant:l?"info":"outline-info",style:{width:"12vw"},children:xe.LOW})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{f(!1),y(!1),T(!0)},variant:c?"info":"outline-info",style:{width:"12vw"},children:xe.HIGH})})]}),Ir.jsx(Li,{children:Ir.jsxs("h5",{children:[E.SAD.metricLayman," (SAD)"]})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{i(!0),b(!1),R(!1)},variant:h?"info":"outline-info",style:{width:"12vw"},children:xe.N_A.replace("//","/")})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{i(!1),b(!0),R(!1)},variant:g?"info":"outline-info",style:{width:"12vw"},children:xe.LOW})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{i(!1),b(!1),R(!0)},variant:A?"info":"outline-info",style:{width:"12vw"},children:xe.HIGH})})]}),Ir.jsx(Li,{children:Ir.jsxs("h5",{children:[E.SAV.metricLayman," (SAV)"]})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{L(!0),s(!1),w(!1)},variant:m?"info":"outline-info",style:{width:"12vw"},children:xe.N_A.replace("//","/")})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{L(!1),s(!0),w(!1)},variant:M?"info":"outline-info",style:{width:"12vw"},children:xe.LOW})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>{L(!1),s(!1),w(!0)},variant:S?"info":"outline-info",style:{width:"12vw"},children:xe.HIGH})})]}),Ir.jsx(Li,{children:Ir.jsx("h4",{children:xe.SITUATIONS.TITLE})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{className:"col-1",children:Ir.jsx(ti,{onClick:ae,variant:_?"info":"outline-info",children:xe.ALL})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>fe(O),variant:H?"info":"outline-info",children:xe.SITUATIONS.GETTING_READY})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>fe(B),variant:V?"info":"outline-info",children:xe.SITUATIONS.ACADEMICS})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>fe(G),variant:F?"info":"outline-info",children:xe.SITUATIONS.FRIENDS_FAMILY})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{onClick:()=>fe(Q),variant:Y?"info":"outline-info",children:xe.SITUATIONS.BED})})]}),Ir.jsx(Li,{className:"mb-3",children:Ir.jsx(ti,{onClick:oe,variant:_?"info":"outline-info",children:xe.RESET})})]}),J.map(([ee,X])=>Ir.jsx(Gp,{gap:2,className:"mx-auto mb-3",children:Ir.jsxs(dd,{children:[Ir.jsxs(ry,{children:[Ir.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[Ir.jsx(dd.Title,{className:"mb-0",children:Ir.jsx("h3",{className:"mb-0",children:X["Advice Title"]})}),Ir.jsx(ti,{className:`btn-height-match ${C[ee]?"btn-info":"btn-light"}`,onClick:()=>te(ee,!C[ee]),children:xe.KEEP})]}),Ir.jsx(Qx,{children:X["Advice Content"]})]}),Ir.jsxs(Kx,{children:[Object.entries(X.tags).map(([q,le],$)=>Ir.jsx("span",{children:Ir.jsxs("i",{children:["#",le," "]})},$)),Ir.jsx("span",{children:X["Match Level"]})]})]})},ee))]})},YR={},XR=()=>{const[E,z]=Fn.useState(null),[Z,ue]=Fn.useState(null),[xe,Se]=Fn.useState(null),[U,N]=Fn.useState(YR),[e,d]=Fn.useState(!1),[P,n]=Fn.useState({}),[C,x]=Fn.useState(!0),[v,p]=Fn.useState(!1),[r,t]=Fn.useState(!1),[o,a]=Fn.useState(!1),[u,f]=Fn.useState(!0),[l,y]=Fn.useState(!1),[c,T]=Fn.useState(!1),[h,i]=Fn.useState(!1),[g,b]=Fn.useState(!1),[A,R]=Fn.useState(!0),[m,L]=Fn.useState(!1),[M,s]=Fn.useState(!1),[S,w]=Fn.useState(!1),[_,I]=Fn.useState(!1),[H,O]=Fn.useState(!1),V=(oe,J)=>{n(ee=>({...ee,[oe]:J}))},B=()=>{R(!0),L(!1),s(!1),w(!1),I(!1),O(!1)},F=oe=>{R(!1),oe(J=>!J)},G=()=>{f(!0),y(!1),T(!1),i(!1),b(!1)},Y=oe=>{f(!1),oe(J=>!J)},Q=()=>{x(!0),p(!1),t(!1),a(!1)},te=oe=>{x(!1),oe(J=>!J)},ae=()=>{d(!1),Q(),G(),B()};if(Fn.useEffect(()=>{(async()=>{try{const ee=await(await fetch(Ho+"/get-HeaderLabels")).json();z(ee);const q=await(await fetch(Ho+"/get-adviceLabels")).json();ue(q);const $=await(await fetch(Ho+"/get-AdviceIntro")).json();Se($);const se=await(await fetch(Ho+"/get-Advice")).json();N(se);const ne=Object.keys(se).reduce((he,me)=>(he[me]=!1,he),{});n(ne)}catch(J){console.error("Error fetching data:",J)}})()},[]),!U)return Ir.jsx("div",{children:"Loading Advice..."});if(!E)return Ir.jsx("div",{children:"Loading Header Labels..."});if(!Z)return Ir.jsx("div",{children:"Loading Advice Labels..."});if(!xe)return Ir.jsx("div",{children:"Loading Advice Introduction..."});const fe=Object.entries(U).filter(([oe,J])=>{const ee=!e||e&&P[oe],X=C||v||r||o?C||v&&J["Match Level"]===1||r&&J["Match Level"]===2||o&&J["Match Level"]===3:!0,q=u||l||c||h||g?u||l&&J["Getting Ready"]>=1||c&&J.Academics>=1||h&&J["Friends/Family"]>=1||g&&J.Bedtime>=1:!0,le=A||m||M||S||_||H?A||m&&J["External Aids"]>=1||M&&J.Reframing>=1||S&&J["Role Playing"]>=1||_&&J["Behavior Activation"]>=1||H&&J["Successive Approximation"]>=1:!0;return ee&&X&&q&&le});return Ir.jsxs("div",{children:[Ir.jsx("h1",{style:{fontWeight:"bold",fontSize:40,textAlign:"center"},children:E.TAB_NAMES.PERSONALIZED_SUGGESTIONS}),xe.INTRO.map((oe,J)=>Ir.jsx(mv,{children:oe},J)),Ir.jsxs(pc,{fluid:!0,children:[Ir.jsx(Li,{children:Ir.jsx("h4",{children:Z.SHOW.BOOKMARK})}),Ir.jsxs(Li,{className:"mb-3",children:[Ir.jsx(Ja,{children:Ir.jsx(ti,{variant:e?"outline-info":"info",onClick:()=>d(!1),style:{width:"20vw"},children:Z.SHOW.ALL})}),Ir.jsx(Ja,{children:Ir.jsx(ti,{variant:e?"info":"outline-info",onClick:()=>d(!0),style:{width:"20vw"},children:Z.SHOW.KEPT})})]}),Ir.jsx(Li,{children:Ir.jsx("h4",{children:Z.MATCH_LEVEL.TITLE})}),Ir.jsxs(Li,{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:Q,variant:C?"info":"outline-info",style:{width:"100%"},children:Z.ALL})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>te(p),variant:v?"info":"outline-info",style:{width:"100%"},children:"★"})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>te(t),variant:r?"info":"outline-info",style:{width:"100%"},children:"★★"})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>te(a),variant:o?"info":"outline-info",style:{width:"100%"},children:"★★★"})})]}),Ir.jsx(Li,{className:"mt-3",children:Ir.jsx("h4",{children:Z.SITUATIONS.TITLE})}),Ir.jsxs(Li,{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:G,variant:u?"info":"outline-info",style:{width:"100%"},children:Z.ALL})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>Y(y),variant:l?"info":"outline-info",style:{width:"100%"},children:Z.SITUATIONS.GETTING_READY})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>Y(T),variant:c?"info":"outline-info",style:{width:"100%"},children:Z.SITUATIONS.ACADEMICS})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>Y(i),variant:h?"info":"outline-info",style:{width:"100%"},children:Z.SITUATIONS.FRIENDS_FAMILY})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>Y(b),variant:g?"info":"outline-info",style:{width:"100%"},children:Z.SITUATIONS.BEDTIME})})]}),Ir.jsx(Li,{className:"mt-3",children:Ir.jsx("h4",{children:Z.STRATEGY.TITLE})}),Ir.jsxs(Li,{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:B,variant:A?"info":"outline-info",style:{width:"100%"},children:Z.ALL})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>F(L),variant:m?"info":"outline-info",style:{width:"100%"},children:Z.STRATEGY.EXTERNAL_AID})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>F(s),variant:M?"info":"outline-info",style:{width:"100%"},children:Z.STRATEGY.REFRAME})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>F(w),variant:S?"info":"outline-info",style:{width:"100%"},children:Z.STRATEGY.RP})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>F(I),variant:_?"info":"outline-info",style:{width:"100%"},children:Z.STRATEGY.BA})}),Ir.jsx(Ja,{style:{flex:1,padding:"0 5px"},children:Ir.jsx(ti,{onClick:()=>F(O),variant:H?"info":"outline-info",style:{width:"100%"},children:Z.STRATEGY.SA})})]}),Ir.jsx(Li,{className:"mt-4",children:Ir.jsx("h4",{children:Z.ADVICE})}),Ir.jsx(Li,{children:Ir.jsx(ti,{onClick:ae,variant:"warning",children:Z.RESET})}),Ir.jsx(Li,{children:Ir.jsx(Gp,{gap:3,className:"mt-3",children:fe.map(([oe,J])=>Ir.jsxs(dd,{children:[Ir.jsx(dd.Header,{children:Ir.jsxs(Gp,{direction:"horizontal",gap:3,children:[Ir.jsx("div",{children:J["Advice Title"]}),Ir.jsx(ti,{onClick:()=>V(oe,!P[oe]),variant:P[oe]?"success":"outline-success",style:{marginLeft:"auto"},children:P[oe]?Z.UNKEEP:Z.KEEP})]})}),Ir.jsx(dd.Body,{children:Ir.jsx(mv,{children:J["Advice Content"]})})]},oe))})})]})]})},ZR=()=>{const[E,z]=Fn.useState(null),[Z,ue]=Fn.useState(null),[xe,Se]=Fn.useState(null);return Fn.useEffect(()=>{(async()=>{try{const[N,e,d]=await Promise.all([fetch(Ho+"/get-HeaderLabels"),fetch(Ho+"/get-DocOnlyContent"),fetch(Ho+"/get-OverviewContent")]),P=await N.json();z(P);const n=await e.json();ue(n);const C=await d.json();Se(C)}catch(N){console.error("Error fetching data:",N)}})()},[]),E?!Z||!xe?Ir.jsx("div",{children:"Loading..."}):Ir.jsxs("div",{children:[Ir.jsx("h1",{style:{fontWeight:"bold",fontSize:40,textAlign:"center"},children:E.TAB_NAMES.OVERVIEW}),Ir.jsx("div",{style:{backgroundColor:"lightblue",padding:"15px",borderRadius:"8px"},children:Z.OVERVIEW_INTRO.map((U,N)=>Ir.jsx(mv,{children:U},N))}),Ir.jsx("hr",{}),Ir.jsx("div",{children:xe.COG_SUM.map((U,N)=>Ir.jsx(mv,{children:U},N))})]}):Ir.jsx("div",{children:"Error fetching header labels..."})},KR=()=>{const[E,z]=Fn.useState("Results"),[Z,ue]=Fn.useState("Overview"),[xe,Se]=Fn.useState(null),[U,N]=Fn.useState("LineChart"),[e,d]=Fn.useState(null),[P,n]=Fn.useState(null),[C,x]=Fn.useState(null),[v,p]=Fn.useState(null),[r,t]=Fn.useState(null);Fn.useEffect(()=>{(async()=>{try{const[T,h,i,g,b,A]=await Promise.all([fetch(`${Ho}/get-HeaderLabels`),fetch(`${Ho}/get-LineChart`),fetch(`${Ho}/get-UserData`),fetch(`${Ho}/get-UserMetrics`),fetch(`${Ho}/get-dataSummary`),fetch(`${Ho}/get-AboutData`)]),R=await T.json();Se(R);const m=await h.json();d(typeof m=="string"?JSON.parse(m):m);const L=await i.json();n(L);const M=await g.json();x(M);const s=await b.json();p(s);const S=await A.json();t(S),console.log("Line Chart Data: ",m),console.log("Header Labels: ",R)}catch(T){console.error("Error fetching data:",T)}})()},[]);const o=E??"Results",a=U??"LineChart",u=Z??"Overview";if(!xe)return Ir.jsx("div",{children:"HeadersLabels Problem..."});if(!e)return Ir.jsx("div",{children:"Loading LineChartData..."});if(!P)return Ir.jsx("div",{children:"Loading UserData..."});if(!C)return Ir.jsx("div",{children:"Loading UserMetrics..."});if(!v)return Ir.jsx("div",{children:"Loading dataSummary..."});if(!r)return Ir.jsx("div",{children:"Loading AboutData..."});const f=["EFCS","TACR","MDS","SAR","SAD","SAV"],l=Object.entries(C).map(([c,T])=>({...T,metricCode:c})).sort((c,T)=>f.indexOf(c.metricCode)-f.indexOf(T.metricCode)),y=async()=>{try{const c=await fetch(`${Ho}/download/UserMetrics`,{method:"GET"});if(!c.ok)throw new Error("Network response was not ok");const T=await c.blob(),h=window.URL.createObjectURL(T),i=document.createElement("a");i.href=h,i.download=`${P.USER_NAME}_UserMetrics.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(c){console.error("Error downloading the file:",c)}};return Ir.jsx("div",{style:{position:"fixed",left:5,top:5,margin:"2vw",width:"97%"},children:Ir.jsxs(pc,{fluid:!0,children:[Ir.jsx(Li,{className:"justify-content-between",style:{width:"100vw"},children:Ir.jsx(WR,{})}),Ir.jsxs(Li,{className:"justify-content-between",children:[Ir.jsx(Ja,{className:"col-6",children:Ir.jsx("div",{style:{overflowX:"auto"},children:Ir.jsx(ef.Container,{id:"menu-tabs",activeKey:o,onSelect:c=>z(c??"Results"),children:Ir.jsx(ef.Content,{style:{height:"75vh",overflowY:"auto"},children:Ir.jsx(ef.Pane,{eventKey:"Results",children:Ir.jsxs("div",{children:[Ir.jsx("h2",{children:xe.SECTION_NAMES.PERFORMANCE_PLOT}),Ir.jsx(pc,{children:Ir.jsx(Li,{children:Ir.jsx(Ja,{children:Ir.jsxs(ef.Container,{id:"charts",activeKey:a,onSelect:c=>N(c??"LineChart"),children:[Ir.jsx(Rf,{variant:"tabs",style:{fontSize:16},children:Ir.jsx(Rf.Item,{children:Ir.jsx(Rf.Link,{eventKey:"LineChart",children:xe.CHART_LABELS.LINE_CHART})})}),Ir.jsx(ef.Content,{children:Ir.jsx(ef.Pane,{eventKey:"LineChart",children:Ir.jsx(_L,{data:e.data,layout:e.layout,style:{width:"100%",height:"100%"},useResizeHandler:!0})})})]})})})}),Ir.jsx("hr",{}),Ir.jsxs(pc,{children:[Ir.jsx("h2",{children:xe.SECTION_NAMES.SCORE_TABLE}),Ir.jsx("a",{href:"#download",onClick:y,style:{float:"right"},children:Ir.jsx("u",{children:Ir.jsx("b",{children:xe.BUTTONS.EXPORT_CSV})})}),Ir.jsxs(DL,{hover:!0,style:{fontSize:"14px"},children:[Ir.jsx("thead",{children:Ir.jsxs("tr",{children:[Ir.jsx("th",{}),Ir.jsx("th",{style:{width:"40px"},children:xe.TABLE_LABELS.METRIC}),Ir.jsx("th",{children:xe.TABLE_LABELS.FULL_NAME}),Ir.jsx("th",{children:xe.TABLE_LABELS.CODE}),Ir.jsx("th",{children:xe.TABLE_LABELS.RAW_VALUE}),Ir.jsx("th",{children:xe.TABLE_LABELS.AVERAGE}),Ir.jsx("th",{children:xe.TABLE_LABELS.T_SCORE})]})}),Ir.jsx("tbody",{children:l.map(c=>Ir.jsxs("tr",{style:{borderTop:c.metricCode==="EFCS"?"3px solid black":"1px solid lightgray",borderBottom:c.metricCode==="EFCS"||c.metricCode==="MDS"?"3px solid black":"1px solid lightgray"},children:[Ir.jsxs("td",{style:{width:"40px",textAlign:"center"},children:[c.symbol==="star"&&"★",c.symbol==="diamond"&&"♦"]}),Ir.jsx("td",{style:{backgroundColor:c.tScore<40?"rgba(243, 224, 124, 0.3)":c.tScore>60?"rgba(165, 243, 124, 0.3)":"transparent"},children:c.metricLayman}),Ir.jsx("td",{children:c.metricFull}),Ir.jsx("td",{children:c.metricCode}),Ir.jsx("td",{children:c.rawValue}),Ir.jsx("td",{children:c.metricAverage}),Ir.jsx("td",{children:c.tScore})]},c.metricCode))})]})]}),Ir.jsx("hr",{}),Ir.jsx("h2",{children:xe.SECTION_NAMES.DATA_SUMMARY}),Ir.jsx("div",{children:v.CONTENT.map((c,T)=>Ir.jsx(mv,{children:c},T))})]})})})})})}),Ir.jsx(Ja,{className:"col-6",children:Ir.jsx(pc,{fluid:!0,children:Ir.jsxs(ef.Container,{id:"Actions",activeKey:u,onSelect:c=>ue(c??"Overview"),children:[Ir.jsx(Li,{children:Ir.jsx(Ja,{children:Ir.jsxs(Rf,{variant:"tabs",style:{fontSize:16},children:[Ir.jsx(Rf.Item,{children:Ir.jsx(Rf.Link,{eventKey:"Overview",children:xe.TAB_NAMES.OVERVIEW})}),Ir.jsx(Rf.Item,{children:Ir.jsx(Rf.Link,{style:{backgroundColor:"rgb(135, 255, 105)"},eventKey:"PsychotherapySuggestions",children:xe.TAB_NAMES.PSYCHOTHERAPY_SUGGESTIONS})}),Ir.jsx(Rf.Item,{children:Ir.jsx(Rf.Link,{style:{backgroundColor:"rgb(255, 145, 237)"},eventKey:"PersonalizedAdvice",children:xe.TAB_NAMES.PERSONALIZED_SUGGESTIONS})})]})})}),Ir.jsx("div",{style:{overflowX:"auto",whiteSpace:"nowrap"}}),Ir.jsx(Li,{children:Ir.jsx(Ja,{children:Ir.jsxs(ef.Content,{style:{height:"80vh",overflowY:"auto"},children:[Ir.jsx(ef.Pane,{eventKey:"Overview",children:Ir.jsx(ZR,{})}),Ir.jsx(ef.Pane,{eventKey:"PsychotherapySuggestions",children:Ir.jsx(jR,{})}),Ir.jsx(ef.Pane,{eventKey:"PersonalizedAdvice",children:Ir.jsx(XR,{})})]})})})]})})})]})]})})};var JR=Object.create,cb=Object.defineProperty,QR=Object.defineProperties,$R=Object.getOwnPropertyDescriptor,qR=Object.getOwnPropertyDescriptors,kA=Object.getOwnPropertyNames,R2=Object.getOwnPropertySymbols,ek=Object.getPrototypeOf,DA=Object.prototype.hasOwnProperty,tk=Object.prototype.propertyIsEnumerable,k2=(E,z,Z)=>z in E?cb(E,z,{enumerable:!0,configurable:!0,writable:!0,value:Z}):E[z]=Z,Y0=(E,z)=>{for(var Z in z||(z={}))DA.call(z,Z)&&k2(E,Z,z[Z]);if(R2)for(var Z of R2(z))tk.call(z,Z)&&k2(E,Z,z[Z]);return E},X0=(E,z)=>QR(E,qR(z)),rk=(E,z)=>function(){return z||(0,E[kA(E)[0]])((z={exports:{}}).exports,z),z.exports},nk=(E,z,Z,ue)=>{if(z&&typeof z=="object"||typeof z=="function")for(let xe of kA(z))!DA.call(E,xe)&&xe!==Z&&cb(E,xe,{get:()=>z[xe],enumerable:!(ue=$R(z,xe))||ue.enumerable});return E},ak=(E,z,Z)=>(Z=E!=null?JR(ek(E)):{},nk(!E||!E.__esModule?cb(Z,"default",{value:E,enumerable:!0}):Z,E)),ik=rk({"node_modules/classnames/index.js"(E,z){(function(){var Z={}.hasOwnProperty;function ue(){for(var U="",N=0;N<arguments.length;N++){var e=arguments[N];e&&(U=Se(U,xe(e)))}return U}function xe(U){if(typeof U=="string"||typeof U=="number")return U;if(typeof U!="object")return"";if(Array.isArray(U))return ue.apply(null,U);if(U.toString!==Object.prototype.toString&&!U.toString.toString().includes("[native code]"))return U.toString();var N="";for(var e in U)Z.call(U,e)&&U[e]&&(N=Se(N,e));return N}function Se(U,N){return N?U?U+" "+N:U+N:U}typeof z<"u"&&z.exports?(ue.default=ue,z.exports=ue):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return ue}):window.classNames=ue})()}}),ok=ak(ik()),ls={};function D2({labelClose:E="Cancel",labelComments:z="Message",labelName:Z="Name",labelEmail:ue="Email",labelSubmit:xe="Submit",subtitle2:Se="If you’d like to help, tell us what happened below.",subtitle:U="Our team has been notified.",successMessage:N="Your feedback has been sent. Thank you!",successSubtitle:e="Thank you for sending us feedback. If you have any other concerns/questions, reach out to this application's support email.",title:d="It looks like we’re having issues.",placeholderComments:P="I typed in a name then clicked the button",user:n,onCloseHandler:C,onSubmitHandler:x,hideHighlightBranding:v=!1,error:p}){const[r,t]=Fn.useState((n==null?void 0:n.name)||""),[o,a]=Fn.useState((n==null?void 0:n.email)||""),[u,f]=Fn.useState(""),[l,y]=Fn.useState(!1),[c,T]=Fn.useState(!1),h=Fn.useRef(new Date().toISOString()),i=Fn.useMemo(()=>{const b=!!o.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i);return!!r&&b&&!!u},[r,o,u]);ja.useEffect(()=>{var b;(b=window==null?void 0:window.H)!=null&&b.consumeError&&p&&window.H.consumeError(p)},[p]);const g=b=>{var A;b.preventDefault(),y(!0),(A=window==null?void 0:window.H)!=null&&A.addSessionFeedback?window.H.addSessionFeedback({verbatim:u,userName:r,userEmail:o,timestampOverride:h.current}):console.warn("Highlight is not initialized. Make sure highlight.run is installed and running."),new Promise(R=>window.setTimeout(R,300)).then(()=>{y(!1),T(!0),x&&x()})};return ja.createElement(ja.Fragment,null,ja.createElement("style",{dangerouslySetInnerHTML:{__html:`
					@font-face {
						font-display: swap;
						font-family: 'Inter';
						font-style: normal;
						font-weight: normal;
						src: local('Inter Regular'), local('InterRegular'),
							url('https://app.highlight.io/font/Inter-Regular.woff2')
								format('woff2');
					}
					@font-face {
						font-display: swap;
						font-family: 'Inter';
						font-style: normal;
						font-weight: 500;
						src: local('Inter Medium'), local('InterMedium'),
							url('https://app.highlight.io/font/Inter-Medium.woff2')
								format('woff2');
					}

					::placeholder {
						color: var(--color-gray-300);
					}
			`}}),ja.createElement("main",{className:ls.container},ja.createElement("div",{className:ls.card},c?ja.createElement("div",{className:ls.cardContents},ja.createElement("h1",{className:ls.title},N),ja.createElement("h4",{className:ls.subtitle},e),ja.createElement("div",null,ja.createElement("button",{className:(0,ok.default)(ls.button,ls.confirmationButton),onClick:C},"Close"))):ja.createElement("div",{className:ls.cardContents},ja.createElement("div",null,ja.createElement("h1",{className:ls.title},d),ja.createElement("h2",{className:ls.subtitle},U," ",Se)),ja.createElement("form",{className:ls.form,onSubmit:g},ja.createElement("label",null,Z,ja.createElement("input",{type:"text",value:r,name:"name",autoFocus:!0,onChange:b=>{t(b.target.value)},placeholder:"Tom Jerry"})),ja.createElement("label",null,ue,ja.createElement("input",{type:"email",value:o,name:"email",onChange:b=>{a(b.target.value)},placeholder:"mail@mail.com"})),ja.createElement("label",{className:ls.textareaLabel},z,ja.createElement("textarea",{value:u,placeholder:P,name:"verbatim",rows:3,onChange:b=>{f(b.target.value)}})),ja.createElement("div",{className:ls.formFooter},ja.createElement("div",{className:ls.formActionsContainer},ja.createElement("button",{type:"submit",disabled:!i||l},xe),ja.createElement("button",{className:ls.closeButton,onClick:C,type:"button"},E)),!v&&ja.createElement("div",{className:ls.ad},ja.createElement("a",{href:"https://highlight.io",target:"_blank"},ja.createElement("div",{className:ls.logoContainer},ja.createElement("img",{src:"https://www.highlight.io/images/logo-on-dark.png",alt:"Highlight",className:ls.logo}),ja.createElement("span",null,"Powered by highlight.io"))))))))))}var I2={componentStack:null,error:null,showingDialog:!1},sk=class extends ja.Component{constructor(){super(...arguments),this.state=I2,this.resetErrorBoundary=()=>{const{onReset:E}=this.props,{error:z,componentStack:Z}=this.state;E&&E(z,Z),this.setState(I2)},this.hideDialog=()=>{this.setState(X0(Y0({},this.state),{showingDialog:!1})),(this.props.onAfterReportDialogCancelHandler||(()=>{window.location.href=window.location.origin}))()},this.onReportDialogSubmitHandler=()=>{this.props.onAfterReportDialogSubmitHandler&&this.props.onAfterReportDialogSubmitHandler()}}componentDidCatch(E,z){var Z,ue,xe;const{beforeCapture:Se,onError:U,showDialog:N}=this.props;Se&&Se(E,(Z=z.componentStack)!=null?Z:null),lk(E,z),U&&U(E,(ue=z.componentStack)!=null?ue:""),N!==!1&&this.setState(X0(Y0({},this.state),{showingDialog:!0})),this.setState({error:E,componentStack:(xe=z.componentStack)!=null?xe:null})}componentDidMount(){const{onMount:E}=this.props;E&&E()}componentWillUnmount(){const{error:E,componentStack:z}=this.state,{onUnmount:Z}=this.props;Z&&Z(E,z)}render(){const{fallback:E,children:z,customDialog:Z}=this.props,{error:ue,componentStack:xe,showingDialog:Se}=this.state;if(ue){let U;return typeof E=="function"?U=E({error:ue,componentStack:xe,resetError:this.resetErrorBoundary}):U=E,ja.isValidElement(U)?ja.createElement(ja.Fragment,null,Se&&ja.createElement(D2,X0(Y0({},this.props.dialogOptions),{onCloseHandler:this.hideDialog,onSubmitHandler:this.onReportDialogSubmitHandler})),U):(E&&console.warn("fallback did not produce a valid ReactElement"),Se&&Z?Z:Se&&ja.createElement(D2,X0(Y0({},this.props.dialogOptions),{onCloseHandler:this.hideDialog,onSubmitHandler:this.onReportDialogSubmitHandler})))}return typeof z=="function"?z():z}};function lk(E,z){var Z;const ue=uk((Z=z.componentStack)!=null?Z:"");window.H?(console.error("Highlight ErrorBoundary caught an exception while rendering React component",{error:E}),window.H.consume(E,{payload:{component:ue},source:ue,type:"React.ErrorBoundary"})):console.warn("You need to install highlight.run.")}function uk(E){const z=E.split(`
`);if(z.length<1)return;const ue=z[1].trim().split(" ");if(ue.length===4)return`<${ue[1]}>`}/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/const fk="modulepreload",ck=function(E){return"/"+E},_2={},hk=function(z,Z,ue){let xe=Promise.resolve();if(Z&&Z.length>0){document.getElementsByTagName("link");const Se=document.querySelector("meta[property=csp-nonce]"),U=(Se==null?void 0:Se.nonce)||(Se==null?void 0:Se.getAttribute("nonce"));xe=Promise.all(Z.map(N=>{if(N=ck(N),N in _2)return;_2[N]=!0;const e=N.endsWith(".css"),d=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${N}"]${d}`))return;const P=document.createElement("link");if(P.rel=e?"stylesheet":fk,e||(P.as="script",P.crossOrigin=""),P.href=N,U&&P.setAttribute("nonce",U),document.head.appendChild(P),e)return new Promise((n,C)=>{P.addEventListener("load",n),P.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${N}`)))})}))}return xe.then(()=>z()).catch(Se=>{const U=new Event("vite:preloadError",{cancelable:!0});if(U.payload=Se,window.dispatchEvent(U),!U.defaultPrevented)throw Se})};var vk=Object.defineProperty,dk=Object.defineProperties,pk=Object.getOwnPropertyDescriptors,Fg=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,_A=Object.prototype.propertyIsEnumerable,V1=(E,z,Z)=>z in E?vk(E,z,{enumerable:!0,configurable:!0,writable:!0,value:Z}):E[z]=Z,bl=(E,z)=>{for(var Z in z||(z={}))IA.call(z,Z)&&V1(E,Z,z[Z]);if(Fg)for(var Z of Fg(z))_A.call(z,Z)&&V1(E,Z,z[Z]);return E},zf=(E,z)=>dk(E,pk(z)),zA=(E,z)=>{var Z={};for(var ue in E)IA.call(E,ue)&&z.indexOf(ue)<0&&(Z[ue]=E[ue]);if(E!=null&&Fg)for(var ue of Fg(E))z.indexOf(ue)<0&&_A.call(E,ue)&&(Z[ue]=E[ue]);return Z},Xi=(E,z,Z)=>(V1(E,typeof z!="symbol"?z+"":z,Z),Z),yd=(E,z,Z)=>new Promise((ue,xe)=>{var Se=e=>{try{N(Z.next(e))}catch(d){xe(d)}},U=e=>{try{N(Z.throw(e))}catch(d){xe(d)}},N=e=>e.done?ue(e.value):Promise.resolve(e.value).then(Se,U);N((Z=Z.apply(E,z)).next())});const gk=({apiKey:E})=>{(function(z,Z){var ue=z.amplitude||{_q:[],_iq:{}},xe=Z.createElement("script");xe.type="text/javascript",xe.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",xe.crossOrigin="anonymous",xe.async=!0,xe.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",xe.onload=function(){z.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(E)};var Se=Z.getElementsByTagName("script")[0];Se.parentNode.insertBefore(xe,Se);function U(p,r){p.prototype[r]=function(){return this._q.push([r].concat(Array.prototype.slice.call(arguments,0))),this}}for(var N=function(){return this._q=[],this},e=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],d=0;d<e.length;d++)U(N,e[d]);ue.Identify=N;for(var P=function(){return this._q=[],this},n=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],C=0;C<n.length;C++)U(P,n[C]);ue.Revenue=P;var x=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function v(p){function r(o){p[o]=function(){p._q.push([o].concat(Array.prototype.slice.call(arguments,0)))}}for(var t=0;t<x.length;t++)r(x[t])}v(ue),ue.getInstance=function(p){return p=(!p||p.length===0?"$default_instance":p).toLowerCase(),Object.prototype.hasOwnProperty.call(ue._iq,p)||(ue._iq[p]={_q:[]},v(ue._iq[p])),ue._iq[p]},z.amplitude=ue})(window,document)};var Wp;(function(E){E.RECORDING_START_TIME="highlightRecordingStartTime",E.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",E.SESSION_DATA="sessionData",E.SESSION_SECURE_ID="sessionSecureID",E.USER_IDENTIFIER="highlightIdentifier",E.USER_OBJECT="highlightUserObject",E.PAYLOAD_ID="payloadId"})(Wp||(Wp={}));const yk=({projectToken:E})=>{if(window.mixpanel)return;(function(Z,ue){if(!ue.__SV){var xe,Se;window.mixpanel=ue,ue._i=[],ue.init=function(U,N,e){function d(C,x){var v=x.split(".");v.length==2&&(C=C[v[0]],x=v[1]),C[x]=function(){C.push([x].concat(Array.prototype.slice.call(arguments,0)))}}var P=ue;for(typeof e<"u"?P=ue[e]=[]:e="mixpanel",P.people=P.people||[],P.toString=function(C){var x="mixpanel";return e!=="mixpanel"&&(x+="."+e),C||(x+=" (stub)"),x},P.people.toString=function(){return P.toString(1)+".people (stub)"},xe="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),Se=0;Se<xe.length;Se++)d(P,xe[Se]);var n="set set_once union unset remove delete".split(" ");P.get_group=function(){function C(r){x[r]=function(){call2_args=arguments,call2=[r].concat(Array.prototype.slice.call(call2_args,0)),P.push([v,call2])}}for(var x={},v=["get_group"].concat(Array.prototype.slice.call(arguments,0)),p=0;p<n.length;p++)C(n[p]);return x},ue._i.push([U,N,e])},ue.__SV=1.2}})(document,window.mixpanel||[]);const z=document.createElement("script");z.src=mk,document.head.appendChild(z),z.addEventListener("load",()=>{var Z;(Z=window.mixpanel)==null||Z.init(E)})},mk="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";function xk(E,z,Z){try{if(!(z in E))return()=>{};const ue=E[z],xe=Z(ue);return typeof xe=="function"&&(xe.prototype=xe.prototype||{},Object.defineProperties(xe,{__rrweb_original__:{enumerable:!1,value:ue}})),E[z]=xe,()=>{E[z]=ue}}catch{return()=>{}}}function bk(E){if(!E||!E.outerHTML)return"";let z="";for(;E.parentElement;){let Z=E.localName;if(!Z)break;Z=Z.toLowerCase();let ue=E.parentElement,xe=[];if(ue.children&&ue.children.length>0)for(let Se=0;Se<ue.children.length;Se++){let U=ue.children[Se];U.localName&&U.localName.toLowerCase&&U.localName.toLowerCase()===Z&&xe.push(U)}xe.length>1&&(Z+=":eq("+xe.indexOf(E)+")"),z=Z+(z?">"+z:""),E=ue}return z}function G1(E){return Object.prototype.toString.call(E)==="[object Object]"}function OA(E,z){if(z===0)return!0;const Z=Object.keys(E);for(const ue of Z)if(G1(E[ue])&&OA(E[ue],z-1))return!0;return!1}function Pm(E,z){const Z={numOfKeysLimit:50,depthOfLimit:4};Object.assign(Z,z);const ue=[],xe=[];return JSON.stringify(E,function(N,e){if(ue.length>0){const d=ue.indexOf(this);~d?ue.splice(d+1):ue.push(this),~d?xe.splice(d,1/0,N):xe.push(N),~ue.indexOf(e)&&(ue[0]===e?e="[Circular ~]":e="[Circular ~."+xe.slice(0,ue.indexOf(e)).join(".")+"]")}else ue.push(e);if(e==null)return e;if(Se(e))return U(e);if(e instanceof Event){const d={};for(const P in e){const n=e[P];Array.isArray(n)?d[P]=bk(n.length?n[0]:null):d[P]=n}return d}else{if(e instanceof Node)return e instanceof HTMLElement?e?e.outerHTML:"":e.nodeName;if(e instanceof Error)return e.name+": "+e.message}return e});function Se(N){return G1(N)&&Object.keys(N).length>Z.numOfKeysLimit||typeof N=="function"?!0:N instanceof Event&&N.isTrusted===!1?Object.keys(N).length===1:!!(G1(N)&&OA(N,Z.depthOfLimit))}function U(N){let e=N.toString();return Z.stringLengthLimit&&e.length>Z.stringLengthLimit&&(e=`${e.slice(0,Z.stringLengthLimit)}...`),e}}var FA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NA(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var BA={exports:{}},z2={exports:{}},O2;function wk(){return O2||(O2=1,function(E,z){(function(Z,ue){E.exports=ue()})(FA,function(){function Z(p){return!isNaN(parseFloat(p))&&isFinite(p)}function ue(p){return p.charAt(0).toUpperCase()+p.substring(1)}function xe(p){return function(){return this[p]}}var Se=["isConstructor","isEval","isNative","isToplevel"],U=["columnNumber","lineNumber"],N=["fileName","functionName","source"],e=["args"],d=["evalOrigin"],P=Se.concat(U,N,e,d);function n(p){if(p)for(var r=0;r<P.length;r++)p[P[r]]!==void 0&&this["set"+ue(P[r])](p[P[r]])}n.prototype={getArgs:function(){return this.args},setArgs:function(p){if(Object.prototype.toString.call(p)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=p},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(p){if(p instanceof n)this.evalOrigin=p;else if(p instanceof Object)this.evalOrigin=new n(p);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var p=this.getFileName()||"",r=this.getLineNumber()||"",t=this.getColumnNumber()||"",o=this.getFunctionName()||"";return this.getIsEval()?p?"[eval] ("+p+":"+r+":"+t+")":"[eval]:"+r+":"+t:o?o+" ("+p+":"+r+":"+t+")":p+":"+r+":"+t}},n.fromString=function(p){var r=p.indexOf("("),t=p.lastIndexOf(")"),o=p.substring(0,r),a=p.substring(r+1,t).split(","),u=p.substring(t+1);if(u.indexOf("@")===0)var f=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(u,""),l=f[1],y=f[2],c=f[3];return new n({functionName:o,args:a||void 0,fileName:l,lineNumber:y||void 0,columnNumber:c||void 0})};for(var C=0;C<Se.length;C++)n.prototype["get"+ue(Se[C])]=xe(Se[C]),n.prototype["set"+ue(Se[C])]=function(p){return function(r){this[p]=!!r}}(Se[C]);for(var x=0;x<U.length;x++)n.prototype["get"+ue(U[x])]=xe(U[x]),n.prototype["set"+ue(U[x])]=function(p){return function(r){if(!Z(r))throw new TypeError(p+" must be a Number");this[p]=Number(r)}}(U[x]);for(var v=0;v<N.length;v++)n.prototype["get"+ue(N[v])]=xe(N[v]),n.prototype["set"+ue(N[v])]=function(p){return function(r){this[p]=String(r)}}(N[v]);return n})}(z2)),z2.exports}(function(E,z){(function(Z,ue){E.exports=ue(wk())})(FA,function(Z){var ue=/(^|@)\S+:\d+/,xe=/^\s*at .*(\S+:\d+|\(native\))/m,Se=/^(eval@)?(\[native code])?$/;return{parse:function(U){if(typeof U.stacktrace<"u"||typeof U["opera#sourceloc"]<"u")return this.parseOpera(U);if(U.stack&&U.stack.match(xe))return this.parseV8OrIE(U);if(U.stack)return this.parseFFOrSafari(U);throw new Error("Cannot parse given Error object")},extractLocation:function(U){if(U.indexOf(":")===-1)return[U];var N=/(.+?)(?::(\d+))?(?::(\d+))?$/,e=N.exec(U.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(U){var N=U.stack.split(`
`).filter(function(e){return!!e.match(xe)},this);return N.map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var d=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),P=d.match(/ (\((.+):(\d+):(\d+)\)$)/);d=P?d.replace(P[0],""):d;var n=d.split(/\s+/).slice(1),C=this.extractLocation(P?P[1]:n.pop()),x=n.join(" ")||void 0,v=["eval","<anonymous>"].indexOf(C[0])>-1?void 0:C[0];return new Z({functionName:x,fileName:v,lineNumber:C[1],columnNumber:C[2],source:e})},this)},parseFFOrSafari:function(U){var N=U.stack.split(`
`).filter(function(e){return!e.match(Se)},this);return N.map(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),e.indexOf("@")===-1&&e.indexOf(":")===-1)return new Z({functionName:e});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,P=e.match(d),n=P&&P[1]?P[1]:void 0,C=this.extractLocation(e.replace(d,""));return new Z({functionName:n,fileName:C[0],lineNumber:C[1],columnNumber:C[2],source:e})},this)},parseOpera:function(U){return!U.stacktrace||U.message.indexOf(`
`)>-1&&U.message.split(`
`).length>U.stacktrace.split(`
`).length?this.parseOpera9(U):U.stack?this.parseOpera11(U):this.parseOpera10(U)},parseOpera9:function(U){for(var N=/Line (\d+).*script (?:in )?(\S+)/i,e=U.message.split(`
`),d=[],P=2,n=e.length;P<n;P+=2){var C=N.exec(e[P]);C&&d.push(new Z({fileName:C[2],lineNumber:C[1],source:e[P]}))}return d},parseOpera10:function(U){for(var N=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,e=U.stacktrace.split(`
`),d=[],P=0,n=e.length;P<n;P+=2){var C=N.exec(e[P]);C&&d.push(new Z({functionName:C[3]||void 0,fileName:C[2],lineNumber:C[1],source:e[P]}))}return d},parseOpera11:function(U){var N=U.stack.split(`
`).filter(function(e){return!!e.match(ue)&&!e.match(/^Error created at/)},this);return N.map(function(e){var d=e.split("@"),P=this.extractLocation(d.pop()),n=d.shift()||"",C=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,x;n.match(/\(([^)]*)\)/)&&(x=n.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var v=x===void 0||x==="[arguments not available]"?void 0:x.split(",");return new Z({functionName:C,args:v,fileName:P[0],lineNumber:P[1],columnNumber:P[2],source:e})},this)}}})})(BA);var Tk=BA.exports;const Ng=NA(Tk);function Ak(E,z){const Z=z.logger;let ue;ue=window[Z];const xe=[];if(z.level.includes("error")&&window){const U=N=>{const{message:e,error:d}=N;let P=[];d&&(P=Ng.parse(d));const n=[Pm(e,z.stringifyOptions)];E({type:"Error",trace:P,time:Date.now(),value:n})};window.addEventListener("error",U),xe.push(()=>{window&&window.removeEventListener("error",U)})}for(const U of z.level)xe.push(Se(ue,U));return()=>{xe.forEach(U=>U())};function Se(U,N){return U[N]?xk(U,N,e=>(...d)=>{e.apply(this,d);try{const P=Ng.parse(new Error),n=z.serializeConsoleAttributes?d.map(C=>typeof C=="object"?Pm(C,z.stringifyOptions):C):d.filter(C=>typeof C!="object").map(C=>`${C}`);E({type:N,trace:P.slice(1),value:n,attributes:Pm(d.filter(C=>typeof C=="object").reduce((C,x)=>bl(bl({},C),x),{}),z.stringifyOptions),time:Date.now()})}catch(P){e("highlight logger error:",P,...d)}}):()=>{}}}var W1={exports:{}};(function(E,z){z=E.exports=Z,z.getSerialize=ue;function Z(xe,Se,U,N){return JSON.stringify(xe,ue(Se,N),U)}function ue(xe,Se){var U=[],N=[];return Se==null&&(Se=function(e,d){return U[0]===d?"[Circular ~]":"[Circular ~."+N.slice(0,U.indexOf(d)).join(".")+"]"}),function(e,d){if(U.length>0){var P=U.indexOf(this);~P?U.splice(P+1):U.push(this),~P?N.splice(P,1/0,e):N.push(e),~U.indexOf(d)&&(d=Se.call(this,e,d))}else U.push(d);return xe==null?d:xe.call(this,e,d)}}})(W1,W1.exports);var Sk=W1.exports;const Bg=NA(Sk);function Rm(E,z,Z,ue){var xe,Se,U,N;let e=[];try{e=Ng.parse(ue??z)}catch{e=Ng.parse(new Error)}let d={};z instanceof Error&&(z=z.message,z.cause&&(d={"exception.cause":z.cause}));const P=Ek(e);E({event:Bg(z),type:"window.onerror",url:window.location.href,source:Z??"",lineNumber:(xe=P[0])!=null&&xe.lineNumber?(Se=P[0])==null?void 0:Se.lineNumber:0,columnNumber:(U=P[0])!=null&&U.columnNumber?(N=P[0])==null?void 0:N.columnNumber:0,stackTrace:P,timestamp:new Date().toISOString(),payload:d?Bg(d):void 0})}const Mk=(E,{enablePromisePatch:z})=>{if(typeof window>"u")return()=>{};const Z=window.onerror=(U,N,e,d,P)=>{Rm(E,U,N,P)},ue=window.onunhandledrejection=U=>{if(U.reason){const N=U.promise;N.getStack?Rm(E,U.reason,U.type,N.getStack()):Rm(E,U.reason,U.type)}},xe=window.Promise,Se=class extends xe{constructor(U){super(U),Xi(this,"promiseCreationError"),this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const U=typeof window.Zone>"u";return z&&U}};return Se.shouldPatch()&&(window.Promise=Se),()=>{window.Promise=xe,window.onunhandledrejection=ue,window.onerror=Z}},Ek=E=>{var z,Z;if(E.length===0)return E;const ue=E[0];return(z=ue.fileName)!=null&&z.includes("highlight.run")||(Z=ue.fileName)!=null&&Z.includes("highlight.io")||ue.functionName==="new highlightPromise"?E.slice(1):E},Ck=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var F2;(function(E){E.DeviceMemory="DeviceMemory",E.ViewportHeight="ViewportHeight",E.ViewportWidth="ViewportWidth",E.ViewportArea="ViewportArea"})(F2||(F2={}));var N2;(function(E){E.Device="Device",E.WebVital="WebVital",E.Performance="Performance",E.Frontend="Frontend",E.Backend="Backend"})(N2||(N2={}));const B2=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],U2=["websocket error",'\\"ResizeObserver loop'],H2=(E,z,Z)=>{const ue=Lk(z,E.headers,Z);return zf(bl({},E),{headers:ue})},Lk=(E,z,Z)=>{var ue,xe;const Se=bl({},z);return Z?((ue=Object.keys(Se))==null||ue.forEach(U=>{[...Z].includes(U==null?void 0:U.toLowerCase())||(Se[U]="[REDACTED]")}),Se):((xe=Object.keys(Se))==null||xe.forEach(U=>{[...Pk,...E].includes(U==null?void 0:U.toLowerCase())&&(Se[U]="[REDACTED]")}),Se)},Pk=["authorization","cookie","proxy-authorization","token"],Rk=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"];let kk="localStorage";class Dk{constructor(){Xi(this,"storage",{})}getItem(z){var Z;return(Z=this.storage[z])!=null?Z:""}setItem(z,Z){this.storage[z]=Z}removeItem(z){delete this.storage[z]}}let Ik=new Dk;const UA=()=>{try{switch(kk){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch{return Ik}},HA=E=>UA().getItem(E),_k=(E,z)=>UA().setItem(E,z),zk=15*60*1e3,Ok=()=>{let E=JSON.parse(HA(Wp.SESSION_DATA)||"{}");if(E&&E.lastPushTime&&Date.now()-E.lastPushTime<zk)return E},Fk=function(){var E;return(E=HA(Wp.SESSION_SECURE_ID))!=null?E:""};var Nk={REACT_APP_COMMIT_SHA:"805580fda0fa3af7d28982f12865e6b5a1e1a9e4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const VA="X-Highlight-Request",V2=E=>{let z=E;return!E.startsWith("https://")&&!E.startsWith("http://")&&(z=`${window.location.origin}${z}`),z.replace(/\/+$/,"")},Bk=(E,{headersToRedact:z,headersToRecord:Z,requestResponseSanitizer:ue})=>{var xe,Se;let U=E;if(ue){let n=!0;try{U.request.body=JSON.parse(U.request.body)}catch{n=!1}let C=!0;try{U.response.body=JSON.parse(U.response.body)}catch{C=!1}try{U=ue(U)}catch{}finally{n=n&&!!((xe=U==null?void 0:U.request)!=null&&xe.body),C=C&&!!((Se=U==null?void 0:U.response)!=null&&Se.body),n&&(U.request.body=JSON.stringify(U.request.body)),C&&(U.response.body=JSON.stringify(U.response.body))}if(!U)return null}const N=U,{request:e,response:d}=N,P=zA(N,["request","response"]);return bl({request:H2(e,z,Z),response:H2(d,z,Z)},P)},G2=(E,z,Z,ue)=>{E.sort((e,d)=>e.responseEnd-d.responseEnd);const xe={xmlhttprequest:{},others:{},fetch:{}},Se=E.reduce((e,d)=>{const P=V2(d.name);return d.initiatorType===Z?e[Z][P]=[...e[Z][P]||[],d]:e.others[P]=[...e.others[P]||[],d],e},xe);let U={};U=z.reduce((e,d)=>{const P=V2(d.request.url);return e[P]=[...e[P]||[],d],e},U);for(let e in Se[Z]){const d=Se[Z][e],P=U[e];if(!P)continue;const n=Math.max(d.length-P.length,0);for(let C=n;C<d.length;C++)d[C]&&(d[C].requestResponsePair=P[C-n])}let N=[];for(let e in Se)for(let d in Se[e])N=N.concat(Se[e][d]);return N.sort((e,d)=>e.fetchStart-d.fetchStart).reduce((e,d)=>{let P=d.requestResponsePair;return P&&(P=Bk(d.requestResponsePair,ue),!P)||(d.toJSON=function(){const n=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:n+this.startTime,connectStartAbs:n+this.connectStart,connectEndAbs:n+this.connectEnd,domainLookupStartAbs:n+this.domainLookupStart,domainLookupEndAbs:n+this.domainLookupEnd,fetchStartAbs:n+this.fetchStart,redirectStartAbs:n+this.redirectStart,redirectEndAbs:n+this.redirectEnd,requestStartAbs:n+this.requestStart,responseStartAbs:n+this.responseStart,responseEndAbs:n+this.responseEnd,secureConnectionStartAbs:n+this.secureConnectionStart,workerStartAbs:n+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:P}},e.push(d)),e},[])},Uk=(E,z)=>{var Z;return E.toLocaleLowerCase().includes((Z=Nk.REACT_APP_PUBLIC_GRAPH_URI)!=null?Z:"highlight.io")||E.toLocaleLowerCase().includes("highlight.io")||E.toLocaleLowerCase().includes(z)},hb=(E,z,Z)=>!Uk(E,z)||vb(E,Z),vb=(E,z)=>{var Z;let ue=[];z===!0?(ue=["localhost",/^\//],(Z=window==null?void 0:window.location)!=null&&Z.host&&ue.push(window.location.host)):z instanceof Array&&(ue=z);let xe=!1;return ue.forEach(Se=>{E.match(Se)&&(xe=!0)}),xe};function Hk(E){for(var z="",Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ue=Z.length,xe=0;xe<E;xe++)z+=Z.charAt(Math.floor(Math.random()*ue));return z}const db=()=>[Fk(),Hk(10)],GA=(E,z)=>E+"/"+z,Vk=(E,z,Z,ue,xe,Se)=>{const U=XMLHttpRequest.prototype,N=U.open,e=U.send,d=U.setRequestHeader;return U.open=function(P,n){return typeof n=="string"?this._url=n:this._url=n.toString(),this._method=P,this._requestHeaders={},this._shouldRecordHeaderAndBody=!ue.some(C=>this._url.toLowerCase().includes(C)),N.apply(this,arguments)},U.setRequestHeader=function(P,n){return this._requestHeaders[P]=n,d.apply(this,arguments)},U.send=function(P){if(!hb(this._url,z,Z))return e.apply(this,arguments);const[n,C]=db();vb(this._url,Z)&&this.setRequestHeader(VA,GA(n,C));const x=this._shouldRecordHeaderAndBody,v={sessionSecureID:n,id:C,url:this._url,verb:this._method,headers:x?this._requestHeaders:{},body:void 0};if(x&&P){const p=W2(P,v.url);p&&(v.body=sv(p,xe,Se,v.headers))}return this.addEventListener("load",function(){return yd(this,null,function*(){const p={status:this.status,headers:{},body:void 0};if(x){const r=this.getAllResponseHeaders().trim().split(/[\r\n]+/),t={};if(r.forEach(function(o){const a=o.split(": "),u=a.shift();t[u]=a.join(": ")}),p.headers=t,P){const o=W2(P,v.url);o&&(v.body=sv(o,xe,Se,p.headers))}if(this.responseType===""||this.responseType==="text")p.body=sv(this.responseText,xe,Se,p.headers),p.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const o=yield this.response.text();p.body=sv(o,xe,Se,p.headers),p.size=this.response.size}catch{}}else try{p.body=sv(this.response,xe,Se,p.headers)}catch{}}E({request:v,response:p,urlBlocked:!x})})}),this.addEventListener("error",function(){return yd(this,null,function*(){const p={status:this.status,headers:void 0,body:void 0};E({request:v,response:p,urlBlocked:!1})})}),e.apply(this,arguments)},()=>{U.open=N,U.send=e,U.setRequestHeader=d}},W2=(E,z)=>{if(typeof E=="string"){if(!((z!=null&&z.includes("localhost")||z!=null&&z.includes("highlight.run"))&&E.includes("pushPayload")))return E}else if(typeof E=="object"||typeof E=="number"||typeof E=="boolean")return Bg(E);return null},j2=64*1024,Gk={"application/json":64*1024*1024,"text/plain":64*1024*1024},sv=(E,z,Z,ue)=>{var xe,Se,U;let N=j2;if(ue){let e="";typeof ue.get=="function"?e=(xe=ue.get("content-type"))!=null?xe:"":e=(Se=ue["content-type"])!=null?Se:"";try{e=e.split(";")[0]}catch{}N=(U=Gk[e])!=null?U:j2}if(E){if(z)try{const e=JSON.parse(E);Array.isArray(e)?e.forEach(d=>{Object.keys(d).forEach(P=>{z.includes(P.toLocaleLowerCase())&&(d[P]="[REDACTED]")})}):Object.keys(e).forEach(d=>{z.includes(d.toLocaleLowerCase())&&(e[d]="[REDACTED]")}),E=JSON.stringify(e)}catch{}if(Z)try{const e=JSON.parse(E);Object.keys(e).forEach(d=>{Z.includes(d.toLocaleLowerCase())||(e[d]="[REDACTED]")}),E=JSON.stringify(e)}catch{}}try{E=E.slice(0,N)}catch{}return E},Wk=(E,z,Z,ue,xe,Se)=>{const U=window._fetchProxy;return window._fetchProxy=function(N,e){const{method:d,url:P}=jk(N,e);if(!hb(P,z,Z))return U.call(this,N,e);const[n,C]=db();if(vb(P,Z)){e=e||{};let r=new Headers(e.headers);N instanceof Request&&[...N.headers].forEach(([t,o])=>r.set(t,o)),r.set(VA,GA(n,C)),e.headers=Object.fromEntries(r.entries())}const x={sessionSecureID:n,id:C,headers:{},body:void 0,url:P,verb:d},v=!ue.some(r=>P.toLowerCase().includes(r));v&&(x.headers=Object.fromEntries(new Headers(e==null?void 0:e.headers).entries()),x.body=sv(e==null?void 0:e.body,xe,Se,e==null?void 0:e.headers));let p=U.call(this,N,e);return Yk(p,x,E,v,xe,Se),p},()=>{window._fetchProxy=U}},jk=(E,z)=>{const Z=z&&z.method||typeof E=="object"&&"method"in E&&E.method||"GET";let ue;return typeof E=="object"?"url"in E&&E.url?ue=E.url:ue=E.toString():ue=E,{method:Z,url:ue}},Yk=(E,z,Z,ue,xe,Se)=>{const U=N=>yd(void 0,null,function*(){let e={body:void 0,headers:void 0,status:0,size:0},d=!1,P=!ue;if("stack"in N||N instanceof Error)e=zf(bl({},e),{body:N.message,status:0,size:void 0}),d=!0;else if("status"in N){if(e=zf(bl({},e),{status:N.status}),ue){let n;try{const C=N.clone().body;if(C){let x=C.getReader(),v=new TextDecoder,p,r="";for(;!(p=yield x.read()).done;){let t=p.value;r+=v.decode(t)}n=r,n=sv(n,xe,Se,N.headers)}else n=""}catch(C){n=`Unable to clone response: ${C}`}e.body=n,e.headers=Object.fromEntries(N.headers.entries()),e.size=n.length*8}(N.type==="opaque"||N.type==="opaqueredirect")&&(P=!0,e=zf(bl({},e),{body:"CORS blocked request"})),d=!0}d&&Z({request:z,response:e,urlBlocked:P})});E.then(U).catch(()=>{})},Xk=(E,z,Z)=>{const ue=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=E;const xe=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=Se=>{const U=Se,N=zA(U,["message","size"]),e=Z.some(d=>Se.name.toLowerCase().includes(d))?N:Se;z(e)},()=>{window._highlightWebSocketRequestCallback=ue,window._highlightWebSocketEventCallback=xe}},Zk=({xhrCallback:E,fetchCallback:z,webSocketRequestCallback:Z,webSocketEventCallback:ue,disableWebSocketRecording:xe,bodyKeysToRedact:Se,backendUrl:U,tracingOrigins:N,urlBlocklist:e,sessionSecureID:d,bodyKeysToRecord:P})=>{const n=Vk(E,U,N,e,Se,P),C=Wk(z,U,N,e,Se,P),x=xe?()=>{}:Xk(Z,ue,e);return()=>{n(),C(),x()}};var Kk={REACT_APP_COMMIT_SHA:"805580fda0fa3af7d28982f12865e6b5a1e1a9e4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};class pb{constructor(z){Xi(this,"disableConsoleRecording"),Xi(this,"reportConsoleErrors"),Xi(this,"enablePromisePatch"),Xi(this,"consoleMethodsToRecord"),Xi(this,"listeners"),Xi(this,"errors"),Xi(this,"messages"),Xi(this,"options"),Xi(this,"hasNetworkRecording",!0),Xi(this,"_backendUrl"),Xi(this,"disableNetworkRecording"),Xi(this,"enableRecordingNetworkContents"),Xi(this,"xhrNetworkContents"),Xi(this,"fetchNetworkContents"),Xi(this,"disableRecordingWebSocketContents"),Xi(this,"webSocketNetworkContents"),Xi(this,"webSocketEventContents"),Xi(this,"tracingOrigins"),Xi(this,"networkHeadersToRedact"),Xi(this,"networkBodyKeysToRedact"),Xi(this,"networkBodyKeysToRecord"),Xi(this,"networkHeaderKeysToRecord"),Xi(this,"lastNetworkRequestTimestamp"),Xi(this,"urlBlocklist"),Xi(this,"requestResponseSanitizer");var Z,ue;this.options=z,this.disableConsoleRecording=!!z.disableConsoleRecording,this.reportConsoleErrors=(Z=z.reportConsoleErrors)!=null?Z:!1,this.enablePromisePatch=(ue=z.enablePromisePatch)!=null?ue:!0,this.consoleMethodsToRecord=z.consoleMethodsToRecord||[...Ck],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const z=this;this.disableConsoleRecording||this.listeners.push(Ak(Z=>{var ue,xe,Se;if(this.reportConsoleErrors&&(Z.type==="Error"||Z.type==="error")&&Z.value&&Z.trace){const U=Bg(Z.value);if(B2.includes(U)||U2.some(N=>U.includes(N)))return;z.errors.push({event:U,type:"console.error",url:window.location.href,source:(ue=Z.trace[0])!=null&&ue.fileName?Z.trace[0].fileName:"",lineNumber:(xe=Z.trace[0])!=null&&xe.lineNumber?Z.trace[0].lineNumber:0,columnNumber:(Se=Z.trace[0])!=null&&Se.columnNumber?Z.trace[0].columnNumber:0,stackTrace:Z.trace,timestamp:new Date().toISOString()})}z.messages.push(Z)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(Mk(Z=>{B2.includes(Z.event)||U2.some(ue=>Z.event.includes(ue))||z.errors.push(Z)},{enablePromisePatch:this.enablePromisePatch})),pb.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(z=>z()),this.listeners=[]}static setupNetworkListener(z,Z){var ue,xe,Se,U,N,e,d,P,n,C,x,v;z._backendUrl=(Z==null?void 0:Z.backendUrl)||Kk.REACT_APP_PUBLIC_GRAPH_URI||"https://pub.highlight.run",z.xhrNetworkContents=[],z.fetchNetworkContents=[],z.webSocketNetworkContents=[],z.webSocketEventContents=[],z.networkHeadersToRedact=[],z.urlBlocklist=[],z.tracingOrigins=Z.tracingOrigins||[],(Z==null?void 0:Z.disableNetworkRecording)!==void 0?(z.disableNetworkRecording=Z==null?void 0:Z.disableNetworkRecording,z.enableRecordingNetworkContents=!1,z.disableRecordingWebSocketContents=!0,z.networkHeadersToRedact=[],z.networkBodyKeysToRedact=[],z.urlBlocklist=[],z.networkBodyKeysToRecord=[],z.networkBodyKeysToRecord=[]):typeof(Z==null?void 0:Z.networkRecording)=="boolean"?(z.disableNetworkRecording=!Z.networkRecording,z.enableRecordingNetworkContents=!1,z.disableRecordingWebSocketContents=!0,z.networkHeadersToRedact=[],z.networkBodyKeysToRedact=[],z.urlBlocklist=[]):(((ue=Z.networkRecording)==null?void 0:ue.enabled)!==void 0?z.disableNetworkRecording=!Z.networkRecording.enabled:z.disableNetworkRecording=!1,z.enableRecordingNetworkContents=((xe=Z.networkRecording)==null?void 0:xe.recordHeadersAndBody)||!1,z.disableRecordingWebSocketContents=((Se=Z.networkRecording)==null?void 0:Se.disableWebSocketEventRecordings)||!1,z.networkHeadersToRedact=((N=(U=Z.networkRecording)==null?void 0:U.networkHeadersToRedact)==null?void 0:N.map(p=>p.toLowerCase()))||[],z.networkBodyKeysToRedact=((d=(e=Z.networkRecording)==null?void 0:e.networkBodyKeysToRedact)==null?void 0:d.map(p=>p.toLowerCase()))||[],z.urlBlocklist=((n=(P=Z.networkRecording)==null?void 0:P.urlBlocklist)==null?void 0:n.map(p=>p.toLowerCase()))||[],z.urlBlocklist=[...z.urlBlocklist,...Rk],z.requestResponseSanitizer=(C=Z.networkRecording)==null?void 0:C.requestResponseSanitizer,z.networkHeaderKeysToRecord=(x=Z.networkRecording)==null?void 0:x.headerKeysToRecord,z.networkHeaderKeysToRecord&&(z.networkHeadersToRedact=[],z.networkHeaderKeysToRecord=z.networkHeaderKeysToRecord.map(p=>p.toLocaleLowerCase())),z.networkBodyKeysToRecord=(v=Z.networkRecording)==null?void 0:v.bodyKeysToRecord,z.networkBodyKeysToRecord&&(z.networkBodyKeysToRedact=[],z.networkBodyKeysToRecord=z.networkBodyKeysToRecord.map(p=>p.toLocaleLowerCase()))),!z.disableNetworkRecording&&z.enableRecordingNetworkContents&&z.listeners.push(Zk({xhrCallback:p=>{z.xhrNetworkContents.push(p)},fetchCallback:p=>{z.fetchNetworkContents.push(p)},webSocketRequestCallback:p=>{z.webSocketNetworkContents&&z.webSocketNetworkContents.push(p)},webSocketEventCallback:p=>{z.webSocketEventContents.push(p)},disableWebSocketRecording:z.disableRecordingWebSocketContents,bodyKeysToRedact:z.networkBodyKeysToRedact,backendUrl:z._backendUrl,tracingOrigins:z.tracingOrigins,urlBlocklist:z.urlBlocklist,sessionSecureID:Z.sessionSecureID,bodyKeysToRecord:z.networkBodyKeysToRecord}))}static getRecordedNetworkResources(z,Z){var ue,xe;let Se=[],U=[];if(!z.disableNetworkRecording){const N=((ue=window==null?void 0:window.performance)==null?void 0:ue.timeOrigin)||0;Se=performance.getEntriesByType("resource");const e=(Z-N)*2;if(Se=Se.filter(d=>d.responseEnd<z.lastNetworkRequestTimestamp?!1:hb(d.name,z._backendUrl,z.tracingOrigins)).map(d=>zf(bl({},d.toJSON()),{offsetStartTime:d.startTime-e,offsetResponseEnd:d.responseEnd-e,offsetFetchStart:d.fetchStart-e})),z.lastNetworkRequestTimestamp=((xe=Se.at(-1))==null?void 0:xe.responseEnd)||z.lastNetworkRequestTimestamp,z.enableRecordingNetworkContents){const d={headersToRedact:z.networkHeadersToRedact,headersToRecord:z.networkHeaderKeysToRecord,requestResponseSanitizer:z.requestResponseSanitizer};Se=G2(Se,z.xhrNetworkContents,"xmlhttprequest",d),Se=G2(Se,z.fetchNetworkContents,"fetch",d)}}return z.disableRecordingWebSocketContents||(U=z.webSocketNetworkContents||[]),[...Se,...U]}static getRecordedWebSocketEvents(z){let Z=[];return!z.disableNetworkRecording&&!z.disableRecordingWebSocketContents&&(Z=z.webSocketEventContents),Z}static clearRecordedNetworkResources(z){z.disableNetworkRecording||(z.xhrNetworkContents=[],z.fetchNetworkContents=[],z.webSocketNetworkContents=[],z.webSocketEventContents=[],performance.clearResourceTimings())}}const Jk=()=>{var E;const z="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var Z="";const ue=typeof window<"u"&&((E=window.crypto)==null?void 0:E.getRandomValues),xe=new Uint32Array(28);ue&&window.crypto.getRandomValues(xe);for(let Se=0;Se<28;Se++)ue?Z+=z.charAt(xe[Se]%z.length):Z+=z.charAt(Math.floor(Math.random()*z.length));return Z},Qk="8.13.0",j1=()=>{if(typeof window<"u"){if(typeof window._highlightFetchPatch<"u")return;window._originalFetch=window.fetch,window._fetchProxy=(E,z)=>window._originalFetch(E,z),window._highlightFetchPatch=(E,z)=>window._fetchProxy.call(window||global,E,z),window.fetch=window._highlightFetchPatch}},Y2=()=>null,Y1=()=>{if(typeof window<"u"){if(typeof window._highlightWebSocketRequestCallback<"u")return;window._highlightWebSocketRequestCallback=Y2,window._highlightWebSocketEventCallback=Y2;const E=new Proxy(window.WebSocket,{construct(z,Z){const[,ue]=db(),xe=new z(...Z),Se=P=>{window._highlightWebSocketRequestCallback({socketId:ue,initiatorType:"websocket",type:"open",name:xe.url,startTimeAbs:performance.timeOrigin+P.timeStamp})},U=P=>{window._highlightWebSocketRequestCallback({socketId:ue,initiatorType:"websocket",type:"close",name:xe.url,responseEndAbs:performance.timeOrigin+P.timeStamp}),xe.removeEventListener("open",Se),xe.removeEventListener("error",e),xe.removeEventListener("message",N),xe.removeEventListener("close",U)},N=P=>{const{data:n}=P,C=typeof n=="string"?P.data:void 0;let x;typeof n=="string"?x=n.length:n instanceof Blob?x=n.size:x=n.byteLength||0,window._highlightWebSocketEventCallback({socketId:ue,type:"received",name:xe.url,timeStamp:performance.timeOrigin+P.timeStamp,size:x,message:C})},e=P=>{window._highlightWebSocketEventCallback({socketId:ue,type:"error",name:xe.url,timeStamp:performance.timeOrigin+P.timeStamp,size:0})};xe.addEventListener("open",Se),xe.addEventListener("error",e),xe.addEventListener("message",N),xe.addEventListener("close",U);const d=new Proxy(xe.send,{apply:function(P,n,C){const x=C[0],v=typeof x=="string"?x:void 0;let p;typeof x=="string"?p=x.length:x instanceof Blob?p=x.size:p=x.byteLength||0,window._highlightWebSocketEventCallback({socketId:ue,type:"sent",name:xe.url,timeStamp:performance.timeOrigin+performance.now(),size:p,message:v}),P.apply(n,C)}});return xe.send=d,xe}});window.WebSocket=E}},$k=()=>{var E,z;typeof chrome<"u"&&(E=chrome==null?void 0:chrome.runtime)!=null&&E.onMessage&&((z=chrome==null?void 0:chrome.runtime)==null||z.onMessage.addListener((Z,ue,xe)=>{const Se=Z.action;switch(console.log(`[highlight] received '${Se}' event from extension.`),Se){case"init":{Io.init(1,{debug:!0}),Io.getSessionURL().then(U=>{xe({url:U})});break}case"stop":{Io.stop(),xe({success:!0});break}}return!0}))};var X1;(function(E){E.Device="Device",E.WebVital="WebVital",E.Frontend="Frontend",E.Backend="Backend"})(X1||(X1={}));const fc=(E,z)=>{console.warn(`highlight.run warning: (${E}): `,z)},qk=200;let Z0=[],km,Yi,K0,X2=!1;const Io={options:void 0,init:(E,z)=>{var Z,ue,xe,Se,U,N,e,d;try{if(Io.options=z,typeof window>"u"||typeof document>"u")return;if(!E){console.info("Highlight is not initializing because projectID was passed undefined.");return}let P=Ok(),n=Jk();if(P!=null&&P.sessionSecureID)n=P.sessionSecureID;else{const x=zf(bl({},P),{projectID:+E,sessionSecureID:n});_k(Wp.SESSION_DATA,JSON.stringify(x))}if(X2)return{sessionSecureID:n};X2=!0,j1(),Y1(),hk(()=>import("./index-D9pynCqZ-N8NAAtKW.js"),[]).then(x=>x.i).then(x=>yd(void 0,[x],function*({Highlight:v}){Yi=new v(C,K0),j1(),Y1(),z!=null&&z.manualStart||(yield Yi.initialize())}));const C={organizationID:E,debug:z==null?void 0:z.debug,backendUrl:z==null?void 0:z.backendUrl,tracingOrigins:z==null?void 0:z.tracingOrigins,disableNetworkRecording:z==null?void 0:z.disableNetworkRecording,networkRecording:z==null?void 0:z.networkRecording,disableBackgroundRecording:z==null?void 0:z.disableBackgroundRecording,disableConsoleRecording:z==null?void 0:z.disableConsoleRecording,disableSessionRecording:z==null?void 0:z.disableSessionRecording,reportConsoleErrors:z==null?void 0:z.reportConsoleErrors,consoleMethodsToRecord:z==null?void 0:z.consoleMethodsToRecord,privacySetting:z==null?void 0:z.privacySetting,enableSegmentIntegration:z==null?void 0:z.enableSegmentIntegration,enableCanvasRecording:z==null?void 0:z.enableCanvasRecording,enablePerformanceRecording:z==null?void 0:z.enablePerformanceRecording,enablePromisePatch:z==null?void 0:z.enablePromisePatch,samplingStrategy:z==null?void 0:z.samplingStrategy,inlineImages:z==null?void 0:z.inlineImages,inlineStylesheet:z==null?void 0:z.inlineStylesheet,recordCrossOriginIframe:z==null?void 0:z.recordCrossOriginIframe,firstloadVersion:Qk,environment:(z==null?void 0:z.environment)||"production",appVersion:z==null?void 0:z.version,serviceName:z==null?void 0:z.serviceName,sessionShortcut:z==null?void 0:z.sessionShortcut,sessionSecureID:n,storageMode:z==null?void 0:z.storageMode,sendMode:z==null?void 0:z.sendMode};return K0=new pb(C),z!=null&&z.manualStart||K0.startListening(),!((ue=(Z=z==null?void 0:z.integrations)==null?void 0:Z.mixpanel)!=null&&ue.disabled)&&(Se=(xe=z==null?void 0:z.integrations)==null?void 0:xe.mixpanel)!=null&&Se.projectToken&&yk(z.integrations.mixpanel),!((N=(U=z==null?void 0:z.integrations)==null?void 0:U.amplitude)!=null&&N.disabled)&&(d=(e=z==null?void 0:z.integrations)==null?void 0:e.amplitude)!=null&&d.apiKey&&gk(z.integrations.amplitude),{sessionSecureID:n}}catch(P){fc("init",P)}},snapshot:E=>yd(void 0,null,function*(){try{if(Yi&&Yi.ready)return yield Yi.snapshot(E)}catch(z){fc("snapshot",z)}}),addSessionFeedback:({verbatim:E,userName:z,userEmail:Z,timestampOverride:ue})=>{try{Io.onHighlightReady(()=>Yi.addSessionFeedback({verbatim:E,timestamp:ue||new Date().toISOString(),user_email:Z,user_name:z}))}catch(xe){fc("error",xe)}},consumeError:(E,z,Z)=>{try{Io.onHighlightReady(()=>Yi.consumeCustomError(E,z,JSON.stringify(Z)))}catch(ue){fc("error",ue)}},consume:(E,z)=>{try{Io.onHighlightReady(()=>Yi.consumeError(E,z))}catch(Z){fc("error",Z)}},error:(E,z)=>{try{Io.onHighlightReady(()=>Yi.pushCustomError(E,JSON.stringify(z)))}catch(Z){fc("error",Z)}},track:(E,z={})=>{var Z,ue,xe,Se,U,N,e,d,P,n,C;try{Io.onHighlightReady(()=>Yi.addProperties(zf(bl({},z),{event:E})));const x=Yi==null?void 0:Yi.getCurrentSessionURL();(xe=(ue=(Z=Io.options)==null?void 0:Z.integrations)==null?void 0:ue.mixpanel)!=null&&xe.disabled||(Se=window.mixpanel)!=null&&Se.track&&window.mixpanel.track(E,zf(bl({},z),{highlightSessionURL:x})),(e=(N=(U=Io.options)==null?void 0:U.integrations)==null?void 0:N.amplitude)!=null&&e.disabled||(d=window.amplitude)!=null&&d.getInstance&&window.amplitude.getInstance().logEvent(E,zf(bl({},z),{highlightSessionURL:x})),(C=(n=(P=Io.options)==null?void 0:P.integrations)==null?void 0:n.intercom)!=null&&C.disabled||window.Intercom&&window.Intercom("trackEvent",E,z)}catch(x){fc("track",x)}},start:E=>{(Yi==null?void 0:Yi.state)==="Recording"&&!(E!=null&&E.forceNew)?E!=null&&E.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):(K0.startListening(),Io.onHighlightReady(()=>yd(void 0,null,function*(){yield Yi.initialize(E)}),{waitForReady:!1}))},stop:E=>{(Yi==null?void 0:Yi.state)!=="Recording"?E!=null&&E.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):Io.onHighlightReady(()=>Yi.stopRecording(!0))},identify:(E,z={})=>{var Z,ue,xe,Se,U,N,e,d;try{Io.onHighlightReady(()=>Yi.identify(E,z))}catch(P){fc("identify",P)}if((xe=(ue=(Z=Io.options)==null?void 0:Z.integrations)==null?void 0:ue.mixpanel)!=null&&xe.disabled||(Se=window.mixpanel)!=null&&Se.identify&&(window.mixpanel.identify(typeof(z==null?void 0:z.email)=="string"?z==null?void 0:z.email:E),z&&(window.mixpanel.track("identify",z),window.mixpanel.people.set(z))),!((e=(N=(U=Io.options)==null?void 0:U.integrations)==null?void 0:N.amplitude)!=null&&e.disabled)&&(d=window.amplitude)!=null&&d.getInstance&&(window.amplitude.getInstance().setUserId(E),Object.keys(z).length>0)){const P=Object.keys(z).reduce((n,C)=>(n.set(C,z[C]),n),new window.amplitude.Identify);window.amplitude.getInstance().identify(P)}},metrics:E=>{try{Io.onHighlightReady(()=>Yi.recordMetric(E.map(z=>zf(bl({},z),{category:X1.Frontend}))))}catch(z){fc("metrics",z)}},getSessionURL:()=>new Promise((E,z)=>{Io.onHighlightReady(()=>{const Z=Yi.getCurrentSessionURL();Z?E(Z):z(new Error("Unable to get session URL"))})}),getSessionDetails:()=>new Promise((E,z)=>{Io.onHighlightReady(()=>{const Z=Yi.getCurrentSessionURL();if(Z){const ue=Yi.getCurrentSessionTimestamp(),xe=new Date().getTime(),Se=new URL(Z),U=new URL(Z);U.searchParams.set("ts",((xe-ue)/1e3).toString()),E({url:Se.toString(),urlWithTimestamp:U.toString()})}else z(new Error("Could not get session URL"))})}),getRecordingState:()=>{var E;return(E=Yi==null?void 0:Yi.state)!=null?E:"NotRecording"},onHighlightReady:(E,z)=>{if(Z0.push({options:z,func:E}),km===void 0){const Z=()=>{var ue;const xe=[];for(const Se of Z0)Yi&&(((ue=Se.options)==null?void 0:ue.waitForReady)===!1||Yi.ready)?Se.func():xe.push(Se);Z0=xe,km=void 0,Z0.length>0&&(km=setTimeout(Z,qk))};Z()}}};typeof window<"u"&&(window.H=Io);$k();j1();Y1();Io.init("lgxy4pdm",{serviceName:"frontend-app",tracingOrigins:["python-flask-backend.onrender.com","localhost","localhost:5001"],privacySetting:"none",networkRecording:{enabled:!0,recordHeadersAndBody:!0}});Dm.createRoot(document.getElementById("root")).render(Ir.jsx(ja.StrictMode,{children:Ir.jsx(sk,{children:Ir.jsx(KR,{})})}));export{FA as g};
